var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/leaflet/dist/leaflet-src.js
var require_leaflet_src = __commonJS({
  "node_modules/leaflet/dist/leaflet-src.js"(exports, module) {
    (function(global2, factory) {
      typeof exports === "object" && typeof module !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : (global2 = typeof globalThis !== "undefined" ? globalThis : global2 || self, factory(global2.leaflet = {}));
    })(exports, function(exports2) {
      "use strict";
      var version = "1.9.4";
      function extend(dest) {
        var i, j, len, src;
        for (j = 1, len = arguments.length; j < len; j++) {
          src = arguments[j];
          for (i in src) {
            dest[i] = src[i];
          }
        }
        return dest;
      }
      var create$2 = Object.create || /* @__PURE__ */ function() {
        function F() {
        }
        return function(proto) {
          F.prototype = proto;
          return new F();
        };
      }();
      function bind(fn, obj) {
        var slice = Array.prototype.slice;
        if (fn.bind) {
          return fn.bind.apply(fn, slice.call(arguments, 1));
        }
        var args = slice.call(arguments, 2);
        return function() {
          return fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);
        };
      }
      var lastId = 0;
      function stamp(obj) {
        if (!("_leaflet_id" in obj)) {
          obj["_leaflet_id"] = ++lastId;
        }
        return obj._leaflet_id;
      }
      function throttle(fn, time, context) {
        var lock, args, wrapperFn, later;
        later = function() {
          lock = false;
          if (args) {
            wrapperFn.apply(context, args);
            args = false;
          }
        };
        wrapperFn = function() {
          if (lock) {
            args = arguments;
          } else {
            fn.apply(context, arguments);
            setTimeout(later, time);
            lock = true;
          }
        };
        return wrapperFn;
      }
      function wrapNum(x, range, includeMax) {
        var max = range[1], min = range[0], d = max - min;
        return x === max && includeMax ? x : ((x - min) % d + d) % d + min;
      }
      function falseFn() {
        return false;
      }
      function formatNum(num, precision) {
        if (precision === false) {
          return num;
        }
        var pow = Math.pow(10, precision === void 0 ? 6 : precision);
        return Math.round(num * pow) / pow;
      }
      function trim(str) {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, "");
      }
      function splitWords(str) {
        return trim(str).split(/\s+/);
      }
      function setOptions(obj, options) {
        if (!Object.prototype.hasOwnProperty.call(obj, "options")) {
          obj.options = obj.options ? create$2(obj.options) : {};
        }
        for (var i in options) {
          obj.options[i] = options[i];
        }
        return obj.options;
      }
      function getParamString(obj, existingUrl, uppercase) {
        var params = [];
        for (var i in obj) {
          params.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + "=" + encodeURIComponent(obj[i]));
        }
        return (!existingUrl || existingUrl.indexOf("?") === -1 ? "?" : "&") + params.join("&");
      }
      var templateRe = /\{ *([\w_ -]+) *\}/g;
      function template(str, data) {
        return str.replace(templateRe, function(str2, key) {
          var value = data[key];
          if (value === void 0) {
            throw new Error("No value provided for variable " + str2);
          } else if (typeof value === "function") {
            value = value(data);
          }
          return value;
        });
      }
      var isArray = Array.isArray || function(obj) {
        return Object.prototype.toString.call(obj) === "[object Array]";
      };
      function indexOf(array, el) {
        for (var i = 0; i < array.length; i++) {
          if (array[i] === el) {
            return i;
          }
        }
        return -1;
      }
      var emptyImageUrl = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";
      function getPrefixed(name) {
        return window["webkit" + name] || window["moz" + name] || window["ms" + name];
      }
      var lastTime = 0;
      function timeoutDefer(fn) {
        var time = +/* @__PURE__ */ new Date(), timeToCall = Math.max(0, 16 - (time - lastTime));
        lastTime = time + timeToCall;
        return window.setTimeout(fn, timeToCall);
      }
      var requestFn = window.requestAnimationFrame || getPrefixed("RequestAnimationFrame") || timeoutDefer;
      var cancelFn = window.cancelAnimationFrame || getPrefixed("CancelAnimationFrame") || getPrefixed("CancelRequestAnimationFrame") || function(id) {
        window.clearTimeout(id);
      };
      function requestAnimFrame(fn, context, immediate) {
        if (immediate && requestFn === timeoutDefer) {
          fn.call(context);
        } else {
          return requestFn.call(window, bind(fn, context));
        }
      }
      function cancelAnimFrame(id) {
        if (id) {
          cancelFn.call(window, id);
        }
      }
      var Util = {
        __proto__: null,
        extend,
        create: create$2,
        bind,
        get lastId() {
          return lastId;
        },
        stamp,
        throttle,
        wrapNum,
        falseFn,
        formatNum,
        trim,
        splitWords,
        setOptions,
        getParamString,
        template,
        isArray,
        indexOf,
        emptyImageUrl,
        requestFn,
        cancelFn,
        requestAnimFrame,
        cancelAnimFrame
      };
      function Class() {
      }
      Class.extend = function(props) {
        var NewClass = function() {
          setOptions(this);
          if (this.initialize) {
            this.initialize.apply(this, arguments);
          }
          this.callInitHooks();
        };
        var parentProto = NewClass.__super__ = this.prototype;
        var proto = create$2(parentProto);
        proto.constructor = NewClass;
        NewClass.prototype = proto;
        for (var i in this) {
          if (Object.prototype.hasOwnProperty.call(this, i) && i !== "prototype" && i !== "__super__") {
            NewClass[i] = this[i];
          }
        }
        if (props.statics) {
          extend(NewClass, props.statics);
        }
        if (props.includes) {
          checkDeprecatedMixinEvents(props.includes);
          extend.apply(null, [proto].concat(props.includes));
        }
        extend(proto, props);
        delete proto.statics;
        delete proto.includes;
        if (proto.options) {
          proto.options = parentProto.options ? create$2(parentProto.options) : {};
          extend(proto.options, props.options);
        }
        proto._initHooks = [];
        proto.callInitHooks = function() {
          if (this._initHooksCalled) {
            return;
          }
          if (parentProto.callInitHooks) {
            parentProto.callInitHooks.call(this);
          }
          this._initHooksCalled = true;
          for (var i2 = 0, len = proto._initHooks.length; i2 < len; i2++) {
            proto._initHooks[i2].call(this);
          }
        };
        return NewClass;
      };
      Class.include = function(props) {
        var parentOptions = this.prototype.options;
        extend(this.prototype, props);
        if (props.options) {
          this.prototype.options = parentOptions;
          this.mergeOptions(props.options);
        }
        return this;
      };
      Class.mergeOptions = function(options) {
        extend(this.prototype.options, options);
        return this;
      };
      Class.addInitHook = function(fn) {
        var args = Array.prototype.slice.call(arguments, 1);
        var init = typeof fn === "function" ? fn : function() {
          this[fn].apply(this, args);
        };
        this.prototype._initHooks = this.prototype._initHooks || [];
        this.prototype._initHooks.push(init);
        return this;
      };
      function checkDeprecatedMixinEvents(includes) {
        if (typeof L === "undefined" || !L || !L.Mixin) {
          return;
        }
        includes = isArray(includes) ? includes : [includes];
        for (var i = 0; i < includes.length; i++) {
          if (includes[i] === L.Mixin.Events) {
            console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", new Error().stack);
          }
        }
      }
      var Events = {
        /* @method on(type: String, fn: Function, context?: Object): this
         * Adds a listener function (`fn`) to a particular event type of the object. You can optionally specify the context of the listener (object the this keyword will point to). You can also pass several space-separated types (e.g. `'click dblclick'`).
         *
         * @alternative
         * @method on(eventMap: Object): this
         * Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`
         */
        on: function(types, fn, context) {
          if (typeof types === "object") {
            for (var type in types) {
              this._on(type, types[type], fn);
            }
          } else {
            types = splitWords(types);
            for (var i = 0, len = types.length; i < len; i++) {
              this._on(types[i], fn, context);
            }
          }
          return this;
        },
        /* @method off(type: String, fn?: Function, context?: Object): this
         * Removes a previously added listener function. If no function is specified, it will remove all the listeners of that particular event from the object. Note that if you passed a custom context to `on`, you must pass the same context to `off` in order to remove the listener.
         *
         * @alternative
         * @method off(eventMap: Object): this
         * Removes a set of type/listener pairs.
         *
         * @alternative
         * @method off: this
         * Removes all listeners to all events on the object. This includes implicitly attached events.
         */
        off: function(types, fn, context) {
          if (!arguments.length) {
            delete this._events;
          } else if (typeof types === "object") {
            for (var type in types) {
              this._off(type, types[type], fn);
            }
          } else {
            types = splitWords(types);
            var removeAll = arguments.length === 1;
            for (var i = 0, len = types.length; i < len; i++) {
              if (removeAll) {
                this._off(types[i]);
              } else {
                this._off(types[i], fn, context);
              }
            }
          }
          return this;
        },
        // attach listener (without syntactic sugar now)
        _on: function(type, fn, context, _once) {
          if (typeof fn !== "function") {
            console.warn("wrong listener type: " + typeof fn);
            return;
          }
          if (this._listens(type, fn, context) !== false) {
            return;
          }
          if (context === this) {
            context = void 0;
          }
          var newListener = { fn, ctx: context };
          if (_once) {
            newListener.once = true;
          }
          this._events = this._events || {};
          this._events[type] = this._events[type] || [];
          this._events[type].push(newListener);
        },
        _off: function(type, fn, context) {
          var listeners, i, len;
          if (!this._events) {
            return;
          }
          listeners = this._events[type];
          if (!listeners) {
            return;
          }
          if (arguments.length === 1) {
            if (this._firingCount) {
              for (i = 0, len = listeners.length; i < len; i++) {
                listeners[i].fn = falseFn;
              }
            }
            delete this._events[type];
            return;
          }
          if (typeof fn !== "function") {
            console.warn("wrong listener type: " + typeof fn);
            return;
          }
          var index2 = this._listens(type, fn, context);
          if (index2 !== false) {
            var listener = listeners[index2];
            if (this._firingCount) {
              listener.fn = falseFn;
              this._events[type] = listeners = listeners.slice();
            }
            listeners.splice(index2, 1);
          }
        },
        // @method fire(type: String, data?: Object, propagate?: Boolean): this
        // Fires an event of the specified type. You can optionally provide a data
        // object — the first argument of the listener function will contain its
        // properties. The event can optionally be propagated to event parents.
        fire: function(type, data, propagate) {
          if (!this.listens(type, propagate)) {
            return this;
          }
          var event = extend({}, data, {
            type,
            target: this,
            sourceTarget: data && data.sourceTarget || this
          });
          if (this._events) {
            var listeners = this._events[type];
            if (listeners) {
              this._firingCount = this._firingCount + 1 || 1;
              for (var i = 0, len = listeners.length; i < len; i++) {
                var l = listeners[i];
                var fn = l.fn;
                if (l.once) {
                  this.off(type, fn, l.ctx);
                }
                fn.call(l.ctx || this, event);
              }
              this._firingCount--;
            }
          }
          if (propagate) {
            this._propagateEvent(event);
          }
          return this;
        },
        // @method listens(type: String, propagate?: Boolean): Boolean
        // @method listens(type: String, fn: Function, context?: Object, propagate?: Boolean): Boolean
        // Returns `true` if a particular event type has any listeners attached to it.
        // The verification can optionally be propagated, it will return `true` if parents have the listener attached to it.
        listens: function(type, fn, context, propagate) {
          if (typeof type !== "string") {
            console.warn('"string" type argument expected');
          }
          var _fn = fn;
          if (typeof fn !== "function") {
            propagate = !!fn;
            _fn = void 0;
            context = void 0;
          }
          var listeners = this._events && this._events[type];
          if (listeners && listeners.length) {
            if (this._listens(type, _fn, context) !== false) {
              return true;
            }
          }
          if (propagate) {
            for (var id in this._eventParents) {
              if (this._eventParents[id].listens(type, fn, context, propagate)) {
                return true;
              }
            }
          }
          return false;
        },
        // returns the index (number) or false
        _listens: function(type, fn, context) {
          if (!this._events) {
            return false;
          }
          var listeners = this._events[type] || [];
          if (!fn) {
            return !!listeners.length;
          }
          if (context === this) {
            context = void 0;
          }
          for (var i = 0, len = listeners.length; i < len; i++) {
            if (listeners[i].fn === fn && listeners[i].ctx === context) {
              return i;
            }
          }
          return false;
        },
        // @method once(…): this
        // Behaves as [`on(…)`](#evented-on), except the listener will only get fired once and then removed.
        once: function(types, fn, context) {
          if (typeof types === "object") {
            for (var type in types) {
              this._on(type, types[type], fn, true);
            }
          } else {
            types = splitWords(types);
            for (var i = 0, len = types.length; i < len; i++) {
              this._on(types[i], fn, context, true);
            }
          }
          return this;
        },
        // @method addEventParent(obj: Evented): this
        // Adds an event parent - an `Evented` that will receive propagated events
        addEventParent: function(obj) {
          this._eventParents = this._eventParents || {};
          this._eventParents[stamp(obj)] = obj;
          return this;
        },
        // @method removeEventParent(obj: Evented): this
        // Removes an event parent, so it will stop receiving propagated events
        removeEventParent: function(obj) {
          if (this._eventParents) {
            delete this._eventParents[stamp(obj)];
          }
          return this;
        },
        _propagateEvent: function(e) {
          for (var id in this._eventParents) {
            this._eventParents[id].fire(e.type, extend({
              layer: e.target,
              propagatedFrom: e.target
            }, e), true);
          }
        }
      };
      Events.addEventListener = Events.on;
      Events.removeEventListener = Events.clearAllEventListeners = Events.off;
      Events.addOneTimeEventListener = Events.once;
      Events.fireEvent = Events.fire;
      Events.hasEventListeners = Events.listens;
      var Evented = Class.extend(Events);
      function Point(x, y, round) {
        this.x = round ? Math.round(x) : x;
        this.y = round ? Math.round(y) : y;
      }
      var trunc = Math.trunc || function(v) {
        return v > 0 ? Math.floor(v) : Math.ceil(v);
      };
      Point.prototype = {
        // @method clone(): Point
        // Returns a copy of the current point.
        clone: function() {
          return new Point(this.x, this.y);
        },
        // @method add(otherPoint: Point): Point
        // Returns the result of addition of the current and the given points.
        add: function(point) {
          return this.clone()._add(toPoint(point));
        },
        _add: function(point) {
          this.x += point.x;
          this.y += point.y;
          return this;
        },
        // @method subtract(otherPoint: Point): Point
        // Returns the result of subtraction of the given point from the current.
        subtract: function(point) {
          return this.clone()._subtract(toPoint(point));
        },
        _subtract: function(point) {
          this.x -= point.x;
          this.y -= point.y;
          return this;
        },
        // @method divideBy(num: Number): Point
        // Returns the result of division of the current point by the given number.
        divideBy: function(num) {
          return this.clone()._divideBy(num);
        },
        _divideBy: function(num) {
          this.x /= num;
          this.y /= num;
          return this;
        },
        // @method multiplyBy(num: Number): Point
        // Returns the result of multiplication of the current point by the given number.
        multiplyBy: function(num) {
          return this.clone()._multiplyBy(num);
        },
        _multiplyBy: function(num) {
          this.x *= num;
          this.y *= num;
          return this;
        },
        // @method scaleBy(scale: Point): Point
        // Multiply each coordinate of the current point by each coordinate of
        // `scale`. In linear algebra terms, multiply the point by the
        // [scaling matrix](https://en.wikipedia.org/wiki/Scaling_%28geometry%29#Matrix_representation)
        // defined by `scale`.
        scaleBy: function(point) {
          return new Point(this.x * point.x, this.y * point.y);
        },
        // @method unscaleBy(scale: Point): Point
        // Inverse of `scaleBy`. Divide each coordinate of the current point by
        // each coordinate of `scale`.
        unscaleBy: function(point) {
          return new Point(this.x / point.x, this.y / point.y);
        },
        // @method round(): Point
        // Returns a copy of the current point with rounded coordinates.
        round: function() {
          return this.clone()._round();
        },
        _round: function() {
          this.x = Math.round(this.x);
          this.y = Math.round(this.y);
          return this;
        },
        // @method floor(): Point
        // Returns a copy of the current point with floored coordinates (rounded down).
        floor: function() {
          return this.clone()._floor();
        },
        _floor: function() {
          this.x = Math.floor(this.x);
          this.y = Math.floor(this.y);
          return this;
        },
        // @method ceil(): Point
        // Returns a copy of the current point with ceiled coordinates (rounded up).
        ceil: function() {
          return this.clone()._ceil();
        },
        _ceil: function() {
          this.x = Math.ceil(this.x);
          this.y = Math.ceil(this.y);
          return this;
        },
        // @method trunc(): Point
        // Returns a copy of the current point with truncated coordinates (rounded towards zero).
        trunc: function() {
          return this.clone()._trunc();
        },
        _trunc: function() {
          this.x = trunc(this.x);
          this.y = trunc(this.y);
          return this;
        },
        // @method distanceTo(otherPoint: Point): Number
        // Returns the cartesian distance between the current and the given points.
        distanceTo: function(point) {
          point = toPoint(point);
          var x = point.x - this.x, y = point.y - this.y;
          return Math.sqrt(x * x + y * y);
        },
        // @method equals(otherPoint: Point): Boolean
        // Returns `true` if the given point has the same coordinates.
        equals: function(point) {
          point = toPoint(point);
          return point.x === this.x && point.y === this.y;
        },
        // @method contains(otherPoint: Point): Boolean
        // Returns `true` if both coordinates of the given point are less than the corresponding current point coordinates (in absolute values).
        contains: function(point) {
          point = toPoint(point);
          return Math.abs(point.x) <= Math.abs(this.x) && Math.abs(point.y) <= Math.abs(this.y);
        },
        // @method toString(): String
        // Returns a string representation of the point for debugging purposes.
        toString: function() {
          return "Point(" + formatNum(this.x) + ", " + formatNum(this.y) + ")";
        }
      };
      function toPoint(x, y, round) {
        if (x instanceof Point) {
          return x;
        }
        if (isArray(x)) {
          return new Point(x[0], x[1]);
        }
        if (x === void 0 || x === null) {
          return x;
        }
        if (typeof x === "object" && "x" in x && "y" in x) {
          return new Point(x.x, x.y);
        }
        return new Point(x, y, round);
      }
      function Bounds(a, b) {
        if (!a) {
          return;
        }
        var points = b ? [a, b] : a;
        for (var i = 0, len = points.length; i < len; i++) {
          this.extend(points[i]);
        }
      }
      Bounds.prototype = {
        // @method extend(point: Point): this
        // Extends the bounds to contain the given point.
        // @alternative
        // @method extend(otherBounds: Bounds): this
        // Extend the bounds to contain the given bounds
        extend: function(obj) {
          var min2, max2;
          if (!obj) {
            return this;
          }
          if (obj instanceof Point || typeof obj[0] === "number" || "x" in obj) {
            min2 = max2 = toPoint(obj);
          } else {
            obj = toBounds(obj);
            min2 = obj.min;
            max2 = obj.max;
            if (!min2 || !max2) {
              return this;
            }
          }
          if (!this.min && !this.max) {
            this.min = min2.clone();
            this.max = max2.clone();
          } else {
            this.min.x = Math.min(min2.x, this.min.x);
            this.max.x = Math.max(max2.x, this.max.x);
            this.min.y = Math.min(min2.y, this.min.y);
            this.max.y = Math.max(max2.y, this.max.y);
          }
          return this;
        },
        // @method getCenter(round?: Boolean): Point
        // Returns the center point of the bounds.
        getCenter: function(round) {
          return toPoint(
            (this.min.x + this.max.x) / 2,
            (this.min.y + this.max.y) / 2,
            round
          );
        },
        // @method getBottomLeft(): Point
        // Returns the bottom-left point of the bounds.
        getBottomLeft: function() {
          return toPoint(this.min.x, this.max.y);
        },
        // @method getTopRight(): Point
        // Returns the top-right point of the bounds.
        getTopRight: function() {
          return toPoint(this.max.x, this.min.y);
        },
        // @method getTopLeft(): Point
        // Returns the top-left point of the bounds (i.e. [`this.min`](#bounds-min)).
        getTopLeft: function() {
          return this.min;
        },
        // @method getBottomRight(): Point
        // Returns the bottom-right point of the bounds (i.e. [`this.max`](#bounds-max)).
        getBottomRight: function() {
          return this.max;
        },
        // @method getSize(): Point
        // Returns the size of the given bounds
        getSize: function() {
          return this.max.subtract(this.min);
        },
        // @method contains(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle contains the given one.
        // @alternative
        // @method contains(point: Point): Boolean
        // Returns `true` if the rectangle contains the given point.
        contains: function(obj) {
          var min, max;
          if (typeof obj[0] === "number" || obj instanceof Point) {
            obj = toPoint(obj);
          } else {
            obj = toBounds(obj);
          }
          if (obj instanceof Bounds) {
            min = obj.min;
            max = obj.max;
          } else {
            min = max = obj;
          }
          return min.x >= this.min.x && max.x <= this.max.x && min.y >= this.min.y && max.y <= this.max.y;
        },
        // @method intersects(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle intersects the given bounds. Two bounds
        // intersect if they have at least one point in common.
        intersects: function(bounds) {
          bounds = toBounds(bounds);
          var min = this.min, max = this.max, min2 = bounds.min, max2 = bounds.max, xIntersects = max2.x >= min.x && min2.x <= max.x, yIntersects = max2.y >= min.y && min2.y <= max.y;
          return xIntersects && yIntersects;
        },
        // @method overlaps(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle overlaps the given bounds. Two bounds
        // overlap if their intersection is an area.
        overlaps: function(bounds) {
          bounds = toBounds(bounds);
          var min = this.min, max = this.max, min2 = bounds.min, max2 = bounds.max, xOverlaps = max2.x > min.x && min2.x < max.x, yOverlaps = max2.y > min.y && min2.y < max.y;
          return xOverlaps && yOverlaps;
        },
        // @method isValid(): Boolean
        // Returns `true` if the bounds are properly initialized.
        isValid: function() {
          return !!(this.min && this.max);
        },
        // @method pad(bufferRatio: Number): Bounds
        // Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.
        // For example, a ratio of 0.5 extends the bounds by 50% in each direction.
        // Negative values will retract the bounds.
        pad: function(bufferRatio) {
          var min = this.min, max = this.max, heightBuffer = Math.abs(min.x - max.x) * bufferRatio, widthBuffer = Math.abs(min.y - max.y) * bufferRatio;
          return toBounds(
            toPoint(min.x - heightBuffer, min.y - widthBuffer),
            toPoint(max.x + heightBuffer, max.y + widthBuffer)
          );
        },
        // @method equals(otherBounds: Bounds): Boolean
        // Returns `true` if the rectangle is equivalent to the given bounds.
        equals: function(bounds) {
          if (!bounds) {
            return false;
          }
          bounds = toBounds(bounds);
          return this.min.equals(bounds.getTopLeft()) && this.max.equals(bounds.getBottomRight());
        }
      };
      function toBounds(a, b) {
        if (!a || a instanceof Bounds) {
          return a;
        }
        return new Bounds(a, b);
      }
      function LatLngBounds(corner1, corner2) {
        if (!corner1) {
          return;
        }
        var latlngs = corner2 ? [corner1, corner2] : corner1;
        for (var i = 0, len = latlngs.length; i < len; i++) {
          this.extend(latlngs[i]);
        }
      }
      LatLngBounds.prototype = {
        // @method extend(latlng: LatLng): this
        // Extend the bounds to contain the given point
        // @alternative
        // @method extend(otherBounds: LatLngBounds): this
        // Extend the bounds to contain the given bounds
        extend: function(obj) {
          var sw = this._southWest, ne = this._northEast, sw2, ne2;
          if (obj instanceof LatLng2) {
            sw2 = obj;
            ne2 = obj;
          } else if (obj instanceof LatLngBounds) {
            sw2 = obj._southWest;
            ne2 = obj._northEast;
            if (!sw2 || !ne2) {
              return this;
            }
          } else {
            return obj ? this.extend(toLatLng(obj) || toLatLngBounds(obj)) : this;
          }
          if (!sw && !ne) {
            this._southWest = new LatLng2(sw2.lat, sw2.lng);
            this._northEast = new LatLng2(ne2.lat, ne2.lng);
          } else {
            sw.lat = Math.min(sw2.lat, sw.lat);
            sw.lng = Math.min(sw2.lng, sw.lng);
            ne.lat = Math.max(ne2.lat, ne.lat);
            ne.lng = Math.max(ne2.lng, ne.lng);
          }
          return this;
        },
        // @method pad(bufferRatio: Number): LatLngBounds
        // Returns bounds created by extending or retracting the current bounds by a given ratio in each direction.
        // For example, a ratio of 0.5 extends the bounds by 50% in each direction.
        // Negative values will retract the bounds.
        pad: function(bufferRatio) {
          var sw = this._southWest, ne = this._northEast, heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio, widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;
          return new LatLngBounds(
            new LatLng2(sw.lat - heightBuffer, sw.lng - widthBuffer),
            new LatLng2(ne.lat + heightBuffer, ne.lng + widthBuffer)
          );
        },
        // @method getCenter(): LatLng
        // Returns the center point of the bounds.
        getCenter: function() {
          return new LatLng2(
            (this._southWest.lat + this._northEast.lat) / 2,
            (this._southWest.lng + this._northEast.lng) / 2
          );
        },
        // @method getSouthWest(): LatLng
        // Returns the south-west point of the bounds.
        getSouthWest: function() {
          return this._southWest;
        },
        // @method getNorthEast(): LatLng
        // Returns the north-east point of the bounds.
        getNorthEast: function() {
          return this._northEast;
        },
        // @method getNorthWest(): LatLng
        // Returns the north-west point of the bounds.
        getNorthWest: function() {
          return new LatLng2(this.getNorth(), this.getWest());
        },
        // @method getSouthEast(): LatLng
        // Returns the south-east point of the bounds.
        getSouthEast: function() {
          return new LatLng2(this.getSouth(), this.getEast());
        },
        // @method getWest(): Number
        // Returns the west longitude of the bounds
        getWest: function() {
          return this._southWest.lng;
        },
        // @method getSouth(): Number
        // Returns the south latitude of the bounds
        getSouth: function() {
          return this._southWest.lat;
        },
        // @method getEast(): Number
        // Returns the east longitude of the bounds
        getEast: function() {
          return this._northEast.lng;
        },
        // @method getNorth(): Number
        // Returns the north latitude of the bounds
        getNorth: function() {
          return this._northEast.lat;
        },
        // @method contains(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle contains the given one.
        // @alternative
        // @method contains (latlng: LatLng): Boolean
        // Returns `true` if the rectangle contains the given point.
        contains: function(obj) {
          if (typeof obj[0] === "number" || obj instanceof LatLng2 || "lat" in obj) {
            obj = toLatLng(obj);
          } else {
            obj = toLatLngBounds(obj);
          }
          var sw = this._southWest, ne = this._northEast, sw2, ne2;
          if (obj instanceof LatLngBounds) {
            sw2 = obj.getSouthWest();
            ne2 = obj.getNorthEast();
          } else {
            sw2 = ne2 = obj;
          }
          return sw2.lat >= sw.lat && ne2.lat <= ne.lat && sw2.lng >= sw.lng && ne2.lng <= ne.lng;
        },
        // @method intersects(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle intersects the given bounds. Two bounds intersect if they have at least one point in common.
        intersects: function(bounds) {
          bounds = toLatLngBounds(bounds);
          var sw = this._southWest, ne = this._northEast, sw2 = bounds.getSouthWest(), ne2 = bounds.getNorthEast(), latIntersects = ne2.lat >= sw.lat && sw2.lat <= ne.lat, lngIntersects = ne2.lng >= sw.lng && sw2.lng <= ne.lng;
          return latIntersects && lngIntersects;
        },
        // @method overlaps(otherBounds: LatLngBounds): Boolean
        // Returns `true` if the rectangle overlaps the given bounds. Two bounds overlap if their intersection is an area.
        overlaps: function(bounds) {
          bounds = toLatLngBounds(bounds);
          var sw = this._southWest, ne = this._northEast, sw2 = bounds.getSouthWest(), ne2 = bounds.getNorthEast(), latOverlaps = ne2.lat > sw.lat && sw2.lat < ne.lat, lngOverlaps = ne2.lng > sw.lng && sw2.lng < ne.lng;
          return latOverlaps && lngOverlaps;
        },
        // @method toBBoxString(): String
        // Returns a string with bounding box coordinates in a 'southwest_lng,southwest_lat,northeast_lng,northeast_lat' format. Useful for sending requests to web services that return geo data.
        toBBoxString: function() {
          return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",");
        },
        // @method equals(otherBounds: LatLngBounds, maxMargin?: Number): Boolean
        // Returns `true` if the rectangle is equivalent (within a small margin of error) to the given bounds. The margin of error can be overridden by setting `maxMargin` to a small number.
        equals: function(bounds, maxMargin) {
          if (!bounds) {
            return false;
          }
          bounds = toLatLngBounds(bounds);
          return this._southWest.equals(bounds.getSouthWest(), maxMargin) && this._northEast.equals(bounds.getNorthEast(), maxMargin);
        },
        // @method isValid(): Boolean
        // Returns `true` if the bounds are properly initialized.
        isValid: function() {
          return !!(this._southWest && this._northEast);
        }
      };
      function toLatLngBounds(a, b) {
        if (a instanceof LatLngBounds) {
          return a;
        }
        return new LatLngBounds(a, b);
      }
      function LatLng2(lat, lng, alt) {
        if (isNaN(lat) || isNaN(lng)) {
          throw new Error("Invalid LatLng object: (" + lat + ", " + lng + ")");
        }
        this.lat = +lat;
        this.lng = +lng;
        if (alt !== void 0) {
          this.alt = +alt;
        }
      }
      LatLng2.prototype = {
        // @method equals(otherLatLng: LatLng, maxMargin?: Number): Boolean
        // Returns `true` if the given `LatLng` point is at the same position (within a small margin of error). The margin of error can be overridden by setting `maxMargin` to a small number.
        equals: function(obj, maxMargin) {
          if (!obj) {
            return false;
          }
          obj = toLatLng(obj);
          var margin = Math.max(
            Math.abs(this.lat - obj.lat),
            Math.abs(this.lng - obj.lng)
          );
          return margin <= (maxMargin === void 0 ? 1e-9 : maxMargin);
        },
        // @method toString(): String
        // Returns a string representation of the point (for debugging purposes).
        toString: function(precision) {
          return "LatLng(" + formatNum(this.lat, precision) + ", " + formatNum(this.lng, precision) + ")";
        },
        // @method distanceTo(otherLatLng: LatLng): Number
        // Returns the distance (in meters) to the given `LatLng` calculated using the [Spherical Law of Cosines](https://en.wikipedia.org/wiki/Spherical_law_of_cosines).
        distanceTo: function(other) {
          return Earth.distance(this, toLatLng(other));
        },
        // @method wrap(): LatLng
        // Returns a new `LatLng` object with the longitude wrapped so it's always between -180 and +180 degrees.
        wrap: function() {
          return Earth.wrapLatLng(this);
        },
        // @method toBounds(sizeInMeters: Number): LatLngBounds
        // Returns a new `LatLngBounds` object in which each boundary is `sizeInMeters/2` meters apart from the `LatLng`.
        toBounds: function(sizeInMeters) {
          var latAccuracy = 180 * sizeInMeters / 40075017, lngAccuracy = latAccuracy / Math.cos(Math.PI / 180 * this.lat);
          return toLatLngBounds(
            [this.lat - latAccuracy, this.lng - lngAccuracy],
            [this.lat + latAccuracy, this.lng + lngAccuracy]
          );
        },
        clone: function() {
          return new LatLng2(this.lat, this.lng, this.alt);
        }
      };
      function toLatLng(a, b, c) {
        if (a instanceof LatLng2) {
          return a;
        }
        if (isArray(a) && typeof a[0] !== "object") {
          if (a.length === 3) {
            return new LatLng2(a[0], a[1], a[2]);
          }
          if (a.length === 2) {
            return new LatLng2(a[0], a[1]);
          }
          return null;
        }
        if (a === void 0 || a === null) {
          return a;
        }
        if (typeof a === "object" && "lat" in a) {
          return new LatLng2(a.lat, "lng" in a ? a.lng : a.lon, a.alt);
        }
        if (b === void 0) {
          return null;
        }
        return new LatLng2(a, b, c);
      }
      var CRS = {
        // @method latLngToPoint(latlng: LatLng, zoom: Number): Point
        // Projects geographical coordinates into pixel coordinates for a given zoom.
        latLngToPoint: function(latlng, zoom2) {
          var projectedPoint = this.projection.project(latlng), scale2 = this.scale(zoom2);
          return this.transformation._transform(projectedPoint, scale2);
        },
        // @method pointToLatLng(point: Point, zoom: Number): LatLng
        // The inverse of `latLngToPoint`. Projects pixel coordinates on a given
        // zoom into geographical coordinates.
        pointToLatLng: function(point, zoom2) {
          var scale2 = this.scale(zoom2), untransformedPoint = this.transformation.untransform(point, scale2);
          return this.projection.unproject(untransformedPoint);
        },
        // @method project(latlng: LatLng): Point
        // Projects geographical coordinates into coordinates in units accepted for
        // this CRS (e.g. meters for EPSG:3857, for passing it to WMS services).
        project: function(latlng) {
          return this.projection.project(latlng);
        },
        // @method unproject(point: Point): LatLng
        // Given a projected coordinate returns the corresponding LatLng.
        // The inverse of `project`.
        unproject: function(point) {
          return this.projection.unproject(point);
        },
        // @method scale(zoom: Number): Number
        // Returns the scale used when transforming projected coordinates into
        // pixel coordinates for a particular zoom. For example, it returns
        // `256 * 2^zoom` for Mercator-based CRS.
        scale: function(zoom2) {
          return 256 * Math.pow(2, zoom2);
        },
        // @method zoom(scale: Number): Number
        // Inverse of `scale()`, returns the zoom level corresponding to a scale
        // factor of `scale`.
        zoom: function(scale2) {
          return Math.log(scale2 / 256) / Math.LN2;
        },
        // @method getProjectedBounds(zoom: Number): Bounds
        // Returns the projection's bounds scaled and transformed for the provided `zoom`.
        getProjectedBounds: function(zoom2) {
          if (this.infinite) {
            return null;
          }
          var b = this.projection.bounds, s = this.scale(zoom2), min = this.transformation.transform(b.min, s), max = this.transformation.transform(b.max, s);
          return new Bounds(min, max);
        },
        // @method distance(latlng1: LatLng, latlng2: LatLng): Number
        // Returns the distance between two geographical coordinates.
        // @property code: String
        // Standard code name of the CRS passed into WMS services (e.g. `'EPSG:3857'`)
        //
        // @property wrapLng: Number[]
        // An array of two numbers defining whether the longitude (horizontal) coordinate
        // axis wraps around a given range and how. Defaults to `[-180, 180]` in most
        // geographical CRSs. If `undefined`, the longitude axis does not wrap around.
        //
        // @property wrapLat: Number[]
        // Like `wrapLng`, but for the latitude (vertical) axis.
        // wrapLng: [min, max],
        // wrapLat: [min, max],
        // @property infinite: Boolean
        // If true, the coordinate space will be unbounded (infinite in both axes)
        infinite: false,
        // @method wrapLatLng(latlng: LatLng): LatLng
        // Returns a `LatLng` where lat and lng has been wrapped according to the
        // CRS's `wrapLat` and `wrapLng` properties, if they are outside the CRS's bounds.
        wrapLatLng: function(latlng) {
          var lng = this.wrapLng ? wrapNum(latlng.lng, this.wrapLng, true) : latlng.lng, lat = this.wrapLat ? wrapNum(latlng.lat, this.wrapLat, true) : latlng.lat, alt = latlng.alt;
          return new LatLng2(lat, lng, alt);
        },
        // @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds
        // Returns a `LatLngBounds` with the same size as the given one, ensuring
        // that its center is within the CRS's bounds.
        // Only accepts actual `L.LatLngBounds` instances, not arrays.
        wrapLatLngBounds: function(bounds) {
          var center = bounds.getCenter(), newCenter = this.wrapLatLng(center), latShift = center.lat - newCenter.lat, lngShift = center.lng - newCenter.lng;
          if (latShift === 0 && lngShift === 0) {
            return bounds;
          }
          var sw = bounds.getSouthWest(), ne = bounds.getNorthEast(), newSw = new LatLng2(sw.lat - latShift, sw.lng - lngShift), newNe = new LatLng2(ne.lat - latShift, ne.lng - lngShift);
          return new LatLngBounds(newSw, newNe);
        }
      };
      var Earth = extend({}, CRS, {
        wrapLng: [-180, 180],
        // Mean Earth Radius, as recommended for use by
        // the International Union of Geodesy and Geophysics,
        // see https://rosettacode.org/wiki/Haversine_formula
        R: 6371e3,
        // distance between two geographical points using spherical law of cosines approximation
        distance: function(latlng1, latlng2) {
          var rad = Math.PI / 180, lat1 = latlng1.lat * rad, lat2 = latlng2.lat * rad, sinDLat = Math.sin((latlng2.lat - latlng1.lat) * rad / 2), sinDLon = Math.sin((latlng2.lng - latlng1.lng) * rad / 2), a = sinDLat * sinDLat + Math.cos(lat1) * Math.cos(lat2) * sinDLon * sinDLon, c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
          return this.R * c;
        }
      });
      var earthRadius = 6378137;
      var SphericalMercator = {
        R: earthRadius,
        MAX_LATITUDE: 85.0511287798,
        project: function(latlng) {
          var d = Math.PI / 180, max = this.MAX_LATITUDE, lat = Math.max(Math.min(max, latlng.lat), -max), sin = Math.sin(lat * d);
          return new Point(
            this.R * latlng.lng * d,
            this.R * Math.log((1 + sin) / (1 - sin)) / 2
          );
        },
        unproject: function(point) {
          var d = 180 / Math.PI;
          return new LatLng2(
            (2 * Math.atan(Math.exp(point.y / this.R)) - Math.PI / 2) * d,
            point.x * d / this.R
          );
        },
        bounds: function() {
          var d = earthRadius * Math.PI;
          return new Bounds([-d, -d], [d, d]);
        }()
      };
      function Transformation(a, b, c, d) {
        if (isArray(a)) {
          this._a = a[0];
          this._b = a[1];
          this._c = a[2];
          this._d = a[3];
          return;
        }
        this._a = a;
        this._b = b;
        this._c = c;
        this._d = d;
      }
      Transformation.prototype = {
        // @method transform(point: Point, scale?: Number): Point
        // Returns a transformed point, optionally multiplied by the given scale.
        // Only accepts actual `L.Point` instances, not arrays.
        transform: function(point, scale2) {
          return this._transform(point.clone(), scale2);
        },
        // destructive transform (faster)
        _transform: function(point, scale2) {
          scale2 = scale2 || 1;
          point.x = scale2 * (this._a * point.x + this._b);
          point.y = scale2 * (this._c * point.y + this._d);
          return point;
        },
        // @method untransform(point: Point, scale?: Number): Point
        // Returns the reverse transformation of the given point, optionally divided
        // by the given scale. Only accepts actual `L.Point` instances, not arrays.
        untransform: function(point, scale2) {
          scale2 = scale2 || 1;
          return new Point(
            (point.x / scale2 - this._b) / this._a,
            (point.y / scale2 - this._d) / this._c
          );
        }
      };
      function toTransformation(a, b, c, d) {
        return new Transformation(a, b, c, d);
      }
      var EPSG3857 = extend({}, Earth, {
        code: "EPSG:3857",
        projection: SphericalMercator,
        transformation: function() {
          var scale2 = 0.5 / (Math.PI * SphericalMercator.R);
          return toTransformation(scale2, 0.5, -scale2, 0.5);
        }()
      });
      var EPSG900913 = extend({}, EPSG3857, {
        code: "EPSG:900913"
      });
      function svgCreate(name) {
        return document.createElementNS("http://www.w3.org/2000/svg", name);
      }
      function pointsToPath(rings, closed) {
        var str = "", i, j, len, len2, points, p;
        for (i = 0, len = rings.length; i < len; i++) {
          points = rings[i];
          for (j = 0, len2 = points.length; j < len2; j++) {
            p = points[j];
            str += (j ? "L" : "M") + p.x + " " + p.y;
          }
          str += closed ? Browser.svg ? "z" : "x" : "";
        }
        return str || "M0 0";
      }
      var style = document.documentElement.style;
      var ie = "ActiveXObject" in window;
      var ielt9 = ie && !document.addEventListener;
      var edge = "msLaunchUri" in navigator && !("documentMode" in document);
      var webkit = userAgentContains("webkit");
      var android = userAgentContains("android");
      var android23 = userAgentContains("android 2") || userAgentContains("android 3");
      var webkitVer = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10);
      var androidStock = android && userAgentContains("Google") && webkitVer < 537 && !("AudioNode" in window);
      var opera = !!window.opera;
      var chrome = !edge && userAgentContains("chrome");
      var gecko = userAgentContains("gecko") && !webkit && !opera && !ie;
      var safari = !chrome && userAgentContains("safari");
      var phantom = userAgentContains("phantom");
      var opera12 = "OTransition" in style;
      var win = navigator.platform.indexOf("Win") === 0;
      var ie3d = ie && "transition" in style;
      var webkit3d = "WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix() && !android23;
      var gecko3d = "MozPerspective" in style;
      var any3d = !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d) && !opera12 && !phantom;
      var mobile = typeof orientation !== "undefined" || userAgentContains("mobile");
      var mobileWebkit = mobile && webkit;
      var mobileWebkit3d = mobile && webkit3d;
      var msPointer = !window.PointerEvent && window.MSPointerEvent;
      var pointer = !!(window.PointerEvent || msPointer);
      var touchNative = "ontouchstart" in window || !!window.TouchEvent;
      var touch = !window.L_NO_TOUCH && (touchNative || pointer);
      var mobileOpera = mobile && opera;
      var mobileGecko = mobile && gecko;
      var retina = (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI) > 1;
      var passiveEvents = function() {
        var supportsPassiveOption = false;
        try {
          var opts = Object.defineProperty({}, "passive", {
            get: function() {
              supportsPassiveOption = true;
            }
          });
          window.addEventListener("testPassiveEventSupport", falseFn, opts);
          window.removeEventListener("testPassiveEventSupport", falseFn, opts);
        } catch (e) {
        }
        return supportsPassiveOption;
      }();
      var canvas$1 = function() {
        return !!document.createElement("canvas").getContext;
      }();
      var svg$1 = !!(document.createElementNS && svgCreate("svg").createSVGRect);
      var inlineSvg = !!svg$1 && function() {
        var div = document.createElement("div");
        div.innerHTML = "<svg/>";
        return (div.firstChild && div.firstChild.namespaceURI) === "http://www.w3.org/2000/svg";
      }();
      var vml = !svg$1 && function() {
        try {
          var div = document.createElement("div");
          div.innerHTML = '<v:shape adj="1"/>';
          var shape = div.firstChild;
          shape.style.behavior = "url(#default#VML)";
          return shape && typeof shape.adj === "object";
        } catch (e) {
          return false;
        }
      }();
      var mac = navigator.platform.indexOf("Mac") === 0;
      var linux = navigator.platform.indexOf("Linux") === 0;
      function userAgentContains(str) {
        return navigator.userAgent.toLowerCase().indexOf(str) >= 0;
      }
      var Browser = {
        ie,
        ielt9,
        edge,
        webkit,
        android,
        android23,
        androidStock,
        opera,
        chrome,
        gecko,
        safari,
        phantom,
        opera12,
        win,
        ie3d,
        webkit3d,
        gecko3d,
        any3d,
        mobile,
        mobileWebkit,
        mobileWebkit3d,
        msPointer,
        pointer,
        touch,
        touchNative,
        mobileOpera,
        mobileGecko,
        retina,
        passiveEvents,
        canvas: canvas$1,
        svg: svg$1,
        vml,
        inlineSvg,
        mac,
        linux
      };
      var POINTER_DOWN = Browser.msPointer ? "MSPointerDown" : "pointerdown";
      var POINTER_MOVE = Browser.msPointer ? "MSPointerMove" : "pointermove";
      var POINTER_UP = Browser.msPointer ? "MSPointerUp" : "pointerup";
      var POINTER_CANCEL = Browser.msPointer ? "MSPointerCancel" : "pointercancel";
      var pEvent = {
        touchstart: POINTER_DOWN,
        touchmove: POINTER_MOVE,
        touchend: POINTER_UP,
        touchcancel: POINTER_CANCEL
      };
      var handle = {
        touchstart: _onPointerStart,
        touchmove: _handlePointer,
        touchend: _handlePointer,
        touchcancel: _handlePointer
      };
      var _pointers = {};
      var _pointerDocListener = false;
      function addPointerListener(obj, type, handler) {
        if (type === "touchstart") {
          _addPointerDocListener();
        }
        if (!handle[type]) {
          console.warn("wrong event specified:", type);
          return falseFn;
        }
        handler = handle[type].bind(this, handler);
        obj.addEventListener(pEvent[type], handler, false);
        return handler;
      }
      function removePointerListener(obj, type, handler) {
        if (!pEvent[type]) {
          console.warn("wrong event specified:", type);
          return;
        }
        obj.removeEventListener(pEvent[type], handler, false);
      }
      function _globalPointerDown(e) {
        _pointers[e.pointerId] = e;
      }
      function _globalPointerMove(e) {
        if (_pointers[e.pointerId]) {
          _pointers[e.pointerId] = e;
        }
      }
      function _globalPointerUp(e) {
        delete _pointers[e.pointerId];
      }
      function _addPointerDocListener() {
        if (!_pointerDocListener) {
          document.addEventListener(POINTER_DOWN, _globalPointerDown, true);
          document.addEventListener(POINTER_MOVE, _globalPointerMove, true);
          document.addEventListener(POINTER_UP, _globalPointerUp, true);
          document.addEventListener(POINTER_CANCEL, _globalPointerUp, true);
          _pointerDocListener = true;
        }
      }
      function _handlePointer(handler, e) {
        if (e.pointerType === (e.MSPOINTER_TYPE_MOUSE || "mouse")) {
          return;
        }
        e.touches = [];
        for (var i in _pointers) {
          e.touches.push(_pointers[i]);
        }
        e.changedTouches = [e];
        handler(e);
      }
      function _onPointerStart(handler, e) {
        if (e.MSPOINTER_TYPE_TOUCH && e.pointerType === e.MSPOINTER_TYPE_TOUCH) {
          preventDefault(e);
        }
        _handlePointer(handler, e);
      }
      function makeDblclick(event) {
        var newEvent = {}, prop, i;
        for (i in event) {
          prop = event[i];
          newEvent[i] = prop && prop.bind ? prop.bind(event) : prop;
        }
        event = newEvent;
        newEvent.type = "dblclick";
        newEvent.detail = 2;
        newEvent.isTrusted = false;
        newEvent._simulated = true;
        return newEvent;
      }
      var delay = 200;
      function addDoubleTapListener(obj, handler) {
        obj.addEventListener("dblclick", handler);
        var last = 0, detail;
        function simDblclick(e) {
          if (e.detail !== 1) {
            detail = e.detail;
            return;
          }
          if (e.pointerType === "mouse" || e.sourceCapabilities && !e.sourceCapabilities.firesTouchEvents) {
            return;
          }
          var path = getPropagationPath(e);
          if (path.some(function(el) {
            return el instanceof HTMLLabelElement && el.attributes.for;
          }) && !path.some(function(el) {
            return el instanceof HTMLInputElement || el instanceof HTMLSelectElement;
          })) {
            return;
          }
          var now = Date.now();
          if (now - last <= delay) {
            detail++;
            if (detail === 2) {
              handler(makeDblclick(e));
            }
          } else {
            detail = 1;
          }
          last = now;
        }
        obj.addEventListener("click", simDblclick);
        return {
          dblclick: handler,
          simDblclick
        };
      }
      function removeDoubleTapListener(obj, handlers) {
        obj.removeEventListener("dblclick", handlers.dblclick);
        obj.removeEventListener("click", handlers.simDblclick);
      }
      var TRANSFORM = testProp(
        ["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]
      );
      var TRANSITION = testProp(
        ["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]
      );
      var TRANSITION_END = TRANSITION === "webkitTransition" || TRANSITION === "OTransition" ? TRANSITION + "End" : "transitionend";
      function get(id) {
        return typeof id === "string" ? document.getElementById(id) : id;
      }
      function getStyle(el, style2) {
        var value = el.style[style2] || el.currentStyle && el.currentStyle[style2];
        if ((!value || value === "auto") && document.defaultView) {
          var css = document.defaultView.getComputedStyle(el, null);
          value = css ? css[style2] : null;
        }
        return value === "auto" ? null : value;
      }
      function create$1(tagName, className, container) {
        var el = document.createElement(tagName);
        el.className = className || "";
        if (container) {
          container.appendChild(el);
        }
        return el;
      }
      function remove(el) {
        var parent = el.parentNode;
        if (parent) {
          parent.removeChild(el);
        }
      }
      function empty(el) {
        while (el.firstChild) {
          el.removeChild(el.firstChild);
        }
      }
      function toFront(el) {
        var parent = el.parentNode;
        if (parent && parent.lastChild !== el) {
          parent.appendChild(el);
        }
      }
      function toBack(el) {
        var parent = el.parentNode;
        if (parent && parent.firstChild !== el) {
          parent.insertBefore(el, parent.firstChild);
        }
      }
      function hasClass(el, name) {
        if (el.classList !== void 0) {
          return el.classList.contains(name);
        }
        var className = getClass(el);
        return className.length > 0 && new RegExp("(^|\\s)" + name + "(\\s|$)").test(className);
      }
      function addClass(el, name) {
        if (el.classList !== void 0) {
          var classes = splitWords(name);
          for (var i = 0, len = classes.length; i < len; i++) {
            el.classList.add(classes[i]);
          }
        } else if (!hasClass(el, name)) {
          var className = getClass(el);
          setClass(el, (className ? className + " " : "") + name);
        }
      }
      function removeClass(el, name) {
        if (el.classList !== void 0) {
          el.classList.remove(name);
        } else {
          setClass(el, trim((" " + getClass(el) + " ").replace(" " + name + " ", " ")));
        }
      }
      function setClass(el, name) {
        if (el.className.baseVal === void 0) {
          el.className = name;
        } else {
          el.className.baseVal = name;
        }
      }
      function getClass(el) {
        if (el.correspondingElement) {
          el = el.correspondingElement;
        }
        return el.className.baseVal === void 0 ? el.className : el.className.baseVal;
      }
      function setOpacity(el, value) {
        if ("opacity" in el.style) {
          el.style.opacity = value;
        } else if ("filter" in el.style) {
          _setOpacityIE(el, value);
        }
      }
      function _setOpacityIE(el, value) {
        var filter = false, filterName = "DXImageTransform.Microsoft.Alpha";
        try {
          filter = el.filters.item(filterName);
        } catch (e) {
          if (value === 1) {
            return;
          }
        }
        value = Math.round(value * 100);
        if (filter) {
          filter.Enabled = value !== 100;
          filter.Opacity = value;
        } else {
          el.style.filter += " progid:" + filterName + "(opacity=" + value + ")";
        }
      }
      function testProp(props) {
        var style2 = document.documentElement.style;
        for (var i = 0; i < props.length; i++) {
          if (props[i] in style2) {
            return props[i];
          }
        }
        return false;
      }
      function setTransform(el, offset, scale2) {
        var pos = offset || new Point(0, 0);
        el.style[TRANSFORM] = (Browser.ie3d ? "translate(" + pos.x + "px," + pos.y + "px)" : "translate3d(" + pos.x + "px," + pos.y + "px,0)") + (scale2 ? " scale(" + scale2 + ")" : "");
      }
      function setPosition(el, point) {
        el._leaflet_pos = point;
        if (Browser.any3d) {
          setTransform(el, point);
        } else {
          el.style.left = point.x + "px";
          el.style.top = point.y + "px";
        }
      }
      function getPosition(el) {
        return el._leaflet_pos || new Point(0, 0);
      }
      var disableTextSelection;
      var enableTextSelection;
      var _userSelect;
      if ("onselectstart" in document) {
        disableTextSelection = function() {
          on(window, "selectstart", preventDefault);
        };
        enableTextSelection = function() {
          off(window, "selectstart", preventDefault);
        };
      } else {
        var userSelectProperty = testProp(
          ["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]
        );
        disableTextSelection = function() {
          if (userSelectProperty) {
            var style2 = document.documentElement.style;
            _userSelect = style2[userSelectProperty];
            style2[userSelectProperty] = "none";
          }
        };
        enableTextSelection = function() {
          if (userSelectProperty) {
            document.documentElement.style[userSelectProperty] = _userSelect;
            _userSelect = void 0;
          }
        };
      }
      function disableImageDrag() {
        on(window, "dragstart", preventDefault);
      }
      function enableImageDrag() {
        off(window, "dragstart", preventDefault);
      }
      var _outlineElement, _outlineStyle;
      function preventOutline(element) {
        while (element.tabIndex === -1) {
          element = element.parentNode;
        }
        if (!element.style) {
          return;
        }
        restoreOutline();
        _outlineElement = element;
        _outlineStyle = element.style.outlineStyle;
        element.style.outlineStyle = "none";
        on(window, "keydown", restoreOutline);
      }
      function restoreOutline() {
        if (!_outlineElement) {
          return;
        }
        _outlineElement.style.outlineStyle = _outlineStyle;
        _outlineElement = void 0;
        _outlineStyle = void 0;
        off(window, "keydown", restoreOutline);
      }
      function getSizedParentNode(element) {
        do {
          element = element.parentNode;
        } while ((!element.offsetWidth || !element.offsetHeight) && element !== document.body);
        return element;
      }
      function getScale(element) {
        var rect = element.getBoundingClientRect();
        return {
          x: rect.width / element.offsetWidth || 1,
          y: rect.height / element.offsetHeight || 1,
          boundingClientRect: rect
        };
      }
      var DomUtil = {
        __proto__: null,
        TRANSFORM,
        TRANSITION,
        TRANSITION_END,
        get,
        getStyle,
        create: create$1,
        remove,
        empty,
        toFront,
        toBack,
        hasClass,
        addClass,
        removeClass,
        setClass,
        getClass,
        setOpacity,
        testProp,
        setTransform,
        setPosition,
        getPosition,
        get disableTextSelection() {
          return disableTextSelection;
        },
        get enableTextSelection() {
          return enableTextSelection;
        },
        disableImageDrag,
        enableImageDrag,
        preventOutline,
        restoreOutline,
        getSizedParentNode,
        getScale
      };
      function on(obj, types, fn, context) {
        if (types && typeof types === "object") {
          for (var type in types) {
            addOne(obj, type, types[type], fn);
          }
        } else {
          types = splitWords(types);
          for (var i = 0, len = types.length; i < len; i++) {
            addOne(obj, types[i], fn, context);
          }
        }
        return this;
      }
      var eventsKey = "_leaflet_events";
      function off(obj, types, fn, context) {
        if (arguments.length === 1) {
          batchRemove(obj);
          delete obj[eventsKey];
        } else if (types && typeof types === "object") {
          for (var type in types) {
            removeOne(obj, type, types[type], fn);
          }
        } else {
          types = splitWords(types);
          if (arguments.length === 2) {
            batchRemove(obj, function(type2) {
              return indexOf(types, type2) !== -1;
            });
          } else {
            for (var i = 0, len = types.length; i < len; i++) {
              removeOne(obj, types[i], fn, context);
            }
          }
        }
        return this;
      }
      function batchRemove(obj, filterFn) {
        for (var id in obj[eventsKey]) {
          var type = id.split(/\d/)[0];
          if (!filterFn || filterFn(type)) {
            removeOne(obj, type, null, null, id);
          }
        }
      }
      var mouseSubst = {
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        wheel: !("onwheel" in window) && "mousewheel"
      };
      function addOne(obj, type, fn, context) {
        var id = type + stamp(fn) + (context ? "_" + stamp(context) : "");
        if (obj[eventsKey] && obj[eventsKey][id]) {
          return this;
        }
        var handler = function(e) {
          return fn.call(context || obj, e || window.event);
        };
        var originalHandler = handler;
        if (!Browser.touchNative && Browser.pointer && type.indexOf("touch") === 0) {
          handler = addPointerListener(obj, type, handler);
        } else if (Browser.touch && type === "dblclick") {
          handler = addDoubleTapListener(obj, handler);
        } else if ("addEventListener" in obj) {
          if (type === "touchstart" || type === "touchmove" || type === "wheel" || type === "mousewheel") {
            obj.addEventListener(mouseSubst[type] || type, handler, Browser.passiveEvents ? { passive: false } : false);
          } else if (type === "mouseenter" || type === "mouseleave") {
            handler = function(e) {
              e = e || window.event;
              if (isExternalTarget(obj, e)) {
                originalHandler(e);
              }
            };
            obj.addEventListener(mouseSubst[type], handler, false);
          } else {
            obj.addEventListener(type, originalHandler, false);
          }
        } else {
          obj.attachEvent("on" + type, handler);
        }
        obj[eventsKey] = obj[eventsKey] || {};
        obj[eventsKey][id] = handler;
      }
      function removeOne(obj, type, fn, context, id) {
        id = id || type + stamp(fn) + (context ? "_" + stamp(context) : "");
        var handler = obj[eventsKey] && obj[eventsKey][id];
        if (!handler) {
          return this;
        }
        if (!Browser.touchNative && Browser.pointer && type.indexOf("touch") === 0) {
          removePointerListener(obj, type, handler);
        } else if (Browser.touch && type === "dblclick") {
          removeDoubleTapListener(obj, handler);
        } else if ("removeEventListener" in obj) {
          obj.removeEventListener(mouseSubst[type] || type, handler, false);
        } else {
          obj.detachEvent("on" + type, handler);
        }
        obj[eventsKey][id] = null;
      }
      function stopPropagation(e) {
        if (e.stopPropagation) {
          e.stopPropagation();
        } else if (e.originalEvent) {
          e.originalEvent._stopped = true;
        } else {
          e.cancelBubble = true;
        }
        return this;
      }
      function disableScrollPropagation(el) {
        addOne(el, "wheel", stopPropagation);
        return this;
      }
      function disableClickPropagation(el) {
        on(el, "mousedown touchstart dblclick contextmenu", stopPropagation);
        el["_leaflet_disable_click"] = true;
        return this;
      }
      function preventDefault(e) {
        if (e.preventDefault) {
          e.preventDefault();
        } else {
          e.returnValue = false;
        }
        return this;
      }
      function stop(e) {
        preventDefault(e);
        stopPropagation(e);
        return this;
      }
      function getPropagationPath(ev) {
        if (ev.composedPath) {
          return ev.composedPath();
        }
        var path = [];
        var el = ev.target;
        while (el) {
          path.push(el);
          el = el.parentNode;
        }
        return path;
      }
      function getMousePosition(e, container) {
        if (!container) {
          return new Point(e.clientX, e.clientY);
        }
        var scale2 = getScale(container), offset = scale2.boundingClientRect;
        return new Point(
          // offset.left/top values are in page scale (like clientX/Y),
          // whereas clientLeft/Top (border width) values are the original values (before CSS scale applies).
          (e.clientX - offset.left) / scale2.x - container.clientLeft,
          (e.clientY - offset.top) / scale2.y - container.clientTop
        );
      }
      var wheelPxFactor = Browser.linux && Browser.chrome ? window.devicePixelRatio : Browser.mac ? window.devicePixelRatio * 3 : window.devicePixelRatio > 0 ? 2 * window.devicePixelRatio : 1;
      function getWheelDelta(e) {
        return Browser.edge ? e.wheelDeltaY / 2 : (
          // Don't trust window-geometry-based delta
          e.deltaY && e.deltaMode === 0 ? -e.deltaY / wheelPxFactor : (
            // Pixels
            e.deltaY && e.deltaMode === 1 ? -e.deltaY * 20 : (
              // Lines
              e.deltaY && e.deltaMode === 2 ? -e.deltaY * 60 : (
                // Pages
                e.deltaX || e.deltaZ ? 0 : (
                  // Skip horizontal/depth wheel events
                  e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / 2 : (
                    // Legacy IE pixels
                    e.detail && Math.abs(e.detail) < 32765 ? -e.detail * 20 : (
                      // Legacy Moz lines
                      e.detail ? e.detail / -32765 * 60 : (
                        // Legacy Moz pages
                        0
                      )
                    )
                  )
                )
              )
            )
          )
        );
      }
      function isExternalTarget(el, e) {
        var related = e.relatedTarget;
        if (!related) {
          return true;
        }
        try {
          while (related && related !== el) {
            related = related.parentNode;
          }
        } catch (err) {
          return false;
        }
        return related !== el;
      }
      var DomEvent = {
        __proto__: null,
        on,
        off,
        stopPropagation,
        disableScrollPropagation,
        disableClickPropagation,
        preventDefault,
        stop,
        getPropagationPath,
        getMousePosition,
        getWheelDelta,
        isExternalTarget,
        addListener: on,
        removeListener: off
      };
      var PosAnimation = Evented.extend({
        // @method run(el: HTMLElement, newPos: Point, duration?: Number, easeLinearity?: Number)
        // Run an animation of a given element to a new position, optionally setting
        // duration in seconds (`0.25` by default) and easing linearity factor (3rd
        // argument of the [cubic bezier curve](https://cubic-bezier.com/#0,0,.5,1),
        // `0.5` by default).
        run: function(el, newPos, duration, easeLinearity) {
          this.stop();
          this._el = el;
          this._inProgress = true;
          this._duration = duration || 0.25;
          this._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);
          this._startPos = getPosition(el);
          this._offset = newPos.subtract(this._startPos);
          this._startTime = +/* @__PURE__ */ new Date();
          this.fire("start");
          this._animate();
        },
        // @method stop()
        // Stops the animation (if currently running).
        stop: function() {
          if (!this._inProgress) {
            return;
          }
          this._step(true);
          this._complete();
        },
        _animate: function() {
          this._animId = requestAnimFrame(this._animate, this);
          this._step();
        },
        _step: function(round) {
          var elapsed = +/* @__PURE__ */ new Date() - this._startTime, duration = this._duration * 1e3;
          if (elapsed < duration) {
            this._runFrame(this._easeOut(elapsed / duration), round);
          } else {
            this._runFrame(1);
            this._complete();
          }
        },
        _runFrame: function(progress, round) {
          var pos = this._startPos.add(this._offset.multiplyBy(progress));
          if (round) {
            pos._round();
          }
          setPosition(this._el, pos);
          this.fire("step");
        },
        _complete: function() {
          cancelAnimFrame(this._animId);
          this._inProgress = false;
          this.fire("end");
        },
        _easeOut: function(t) {
          return 1 - Math.pow(1 - t, this._easeOutPower);
        }
      });
      var Map2 = Evented.extend({
        options: {
          // @section Map State Options
          // @option crs: CRS = L.CRS.EPSG3857
          // The [Coordinate Reference System](#crs) to use. Don't change this if you're not
          // sure what it means.
          crs: EPSG3857,
          // @option center: LatLng = undefined
          // Initial geographic center of the map
          center: void 0,
          // @option zoom: Number = undefined
          // Initial map zoom level
          zoom: void 0,
          // @option minZoom: Number = *
          // Minimum zoom level of the map.
          // If not specified and at least one `GridLayer` or `TileLayer` is in the map,
          // the lowest of their `minZoom` options will be used instead.
          minZoom: void 0,
          // @option maxZoom: Number = *
          // Maximum zoom level of the map.
          // If not specified and at least one `GridLayer` or `TileLayer` is in the map,
          // the highest of their `maxZoom` options will be used instead.
          maxZoom: void 0,
          // @option layers: Layer[] = []
          // Array of layers that will be added to the map initially
          layers: [],
          // @option maxBounds: LatLngBounds = null
          // When this option is set, the map restricts the view to the given
          // geographical bounds, bouncing the user back if the user tries to pan
          // outside the view. To set the restriction dynamically, use
          // [`setMaxBounds`](#map-setmaxbounds) method.
          maxBounds: void 0,
          // @option renderer: Renderer = *
          // The default method for drawing vector layers on the map. `L.SVG`
          // or `L.Canvas` by default depending on browser support.
          renderer: void 0,
          // @section Animation Options
          // @option zoomAnimation: Boolean = true
          // Whether the map zoom animation is enabled. By default it's enabled
          // in all browsers that support CSS3 Transitions except Android.
          zoomAnimation: true,
          // @option zoomAnimationThreshold: Number = 4
          // Won't animate zoom if the zoom difference exceeds this value.
          zoomAnimationThreshold: 4,
          // @option fadeAnimation: Boolean = true
          // Whether the tile fade animation is enabled. By default it's enabled
          // in all browsers that support CSS3 Transitions except Android.
          fadeAnimation: true,
          // @option markerZoomAnimation: Boolean = true
          // Whether markers animate their zoom with the zoom animation, if disabled
          // they will disappear for the length of the animation. By default it's
          // enabled in all browsers that support CSS3 Transitions except Android.
          markerZoomAnimation: true,
          // @option transform3DLimit: Number = 2^23
          // Defines the maximum size of a CSS translation transform. The default
          // value should not be changed unless a web browser positions layers in
          // the wrong place after doing a large `panBy`.
          transform3DLimit: 8388608,
          // Precision limit of a 32-bit float
          // @section Interaction Options
          // @option zoomSnap: Number = 1
          // Forces the map's zoom level to always be a multiple of this, particularly
          // right after a [`fitBounds()`](#map-fitbounds) or a pinch-zoom.
          // By default, the zoom level snaps to the nearest integer; lower values
          // (e.g. `0.5` or `0.1`) allow for greater granularity. A value of `0`
          // means the zoom level will not be snapped after `fitBounds` or a pinch-zoom.
          zoomSnap: 1,
          // @option zoomDelta: Number = 1
          // Controls how much the map's zoom level will change after a
          // [`zoomIn()`](#map-zoomin), [`zoomOut()`](#map-zoomout), pressing `+`
          // or `-` on the keyboard, or using the [zoom controls](#control-zoom).
          // Values smaller than `1` (e.g. `0.5`) allow for greater granularity.
          zoomDelta: 1,
          // @option trackResize: Boolean = true
          // Whether the map automatically handles browser window resize to update itself.
          trackResize: true
        },
        initialize: function(id, options) {
          options = setOptions(this, options);
          this._handlers = [];
          this._layers = {};
          this._zoomBoundLayers = {};
          this._sizeChanged = true;
          this._initContainer(id);
          this._initLayout();
          this._onResize = bind(this._onResize, this);
          this._initEvents();
          if (options.maxBounds) {
            this.setMaxBounds(options.maxBounds);
          }
          if (options.zoom !== void 0) {
            this._zoom = this._limitZoom(options.zoom);
          }
          if (options.center && options.zoom !== void 0) {
            this.setView(toLatLng(options.center), options.zoom, { reset: true });
          }
          this.callInitHooks();
          this._zoomAnimated = TRANSITION && Browser.any3d && !Browser.mobileOpera && this.options.zoomAnimation;
          if (this._zoomAnimated) {
            this._createAnimProxy();
            on(this._proxy, TRANSITION_END, this._catchTransitionEnd, this);
          }
          this._addLayers(this.options.layers);
        },
        // @section Methods for modifying map state
        // @method setView(center: LatLng, zoom: Number, options?: Zoom/pan options): this
        // Sets the view of the map (geographical center and zoom) with the given
        // animation options.
        setView: function(center, zoom2, options) {
          zoom2 = zoom2 === void 0 ? this._zoom : this._limitZoom(zoom2);
          center = this._limitCenter(toLatLng(center), zoom2, this.options.maxBounds);
          options = options || {};
          this._stop();
          if (this._loaded && !options.reset && options !== true) {
            if (options.animate !== void 0) {
              options.zoom = extend({ animate: options.animate }, options.zoom);
              options.pan = extend({ animate: options.animate, duration: options.duration }, options.pan);
            }
            var moved = this._zoom !== zoom2 ? this._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom2, options.zoom) : this._tryAnimatedPan(center, options.pan);
            if (moved) {
              clearTimeout(this._sizeTimer);
              return this;
            }
          }
          this._resetView(center, zoom2, options.pan && options.pan.noMoveStart);
          return this;
        },
        // @method setZoom(zoom: Number, options?: Zoom/pan options): this
        // Sets the zoom of the map.
        setZoom: function(zoom2, options) {
          if (!this._loaded) {
            this._zoom = zoom2;
            return this;
          }
          return this.setView(this.getCenter(), zoom2, { zoom: options });
        },
        // @method zoomIn(delta?: Number, options?: Zoom options): this
        // Increases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).
        zoomIn: function(delta, options) {
          delta = delta || (Browser.any3d ? this.options.zoomDelta : 1);
          return this.setZoom(this._zoom + delta, options);
        },
        // @method zoomOut(delta?: Number, options?: Zoom options): this
        // Decreases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).
        zoomOut: function(delta, options) {
          delta = delta || (Browser.any3d ? this.options.zoomDelta : 1);
          return this.setZoom(this._zoom - delta, options);
        },
        // @method setZoomAround(latlng: LatLng, zoom: Number, options: Zoom options): this
        // Zooms the map while keeping a specified geographical point on the map
        // stationary (e.g. used internally for scroll zoom and double-click zoom).
        // @alternative
        // @method setZoomAround(offset: Point, zoom: Number, options: Zoom options): this
        // Zooms the map while keeping a specified pixel on the map (relative to the top-left corner) stationary.
        setZoomAround: function(latlng, zoom2, options) {
          var scale2 = this.getZoomScale(zoom2), viewHalf = this.getSize().divideBy(2), containerPoint = latlng instanceof Point ? latlng : this.latLngToContainerPoint(latlng), centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale2), newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));
          return this.setView(newCenter, zoom2, { zoom: options });
        },
        _getBoundsCenterZoom: function(bounds, options) {
          options = options || {};
          bounds = bounds.getBounds ? bounds.getBounds() : toLatLngBounds(bounds);
          var paddingTL = toPoint(options.paddingTopLeft || options.padding || [0, 0]), paddingBR = toPoint(options.paddingBottomRight || options.padding || [0, 0]), zoom2 = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR));
          zoom2 = typeof options.maxZoom === "number" ? Math.min(options.maxZoom, zoom2) : zoom2;
          if (zoom2 === Infinity) {
            return {
              center: bounds.getCenter(),
              zoom: zoom2
            };
          }
          var paddingOffset = paddingBR.subtract(paddingTL).divideBy(2), swPoint = this.project(bounds.getSouthWest(), zoom2), nePoint = this.project(bounds.getNorthEast(), zoom2), center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom2);
          return {
            center,
            zoom: zoom2
          };
        },
        // @method fitBounds(bounds: LatLngBounds, options?: fitBounds options): this
        // Sets a map view that contains the given geographical bounds with the
        // maximum zoom level possible.
        fitBounds: function(bounds, options) {
          bounds = toLatLngBounds(bounds);
          if (!bounds.isValid()) {
            throw new Error("Bounds are not valid.");
          }
          var target = this._getBoundsCenterZoom(bounds, options);
          return this.setView(target.center, target.zoom, options);
        },
        // @method fitWorld(options?: fitBounds options): this
        // Sets a map view that mostly contains the whole world with the maximum
        // zoom level possible.
        fitWorld: function(options) {
          return this.fitBounds([[-90, -180], [90, 180]], options);
        },
        // @method panTo(latlng: LatLng, options?: Pan options): this
        // Pans the map to a given center.
        panTo: function(center, options) {
          return this.setView(center, this._zoom, { pan: options });
        },
        // @method panBy(offset: Point, options?: Pan options): this
        // Pans the map by a given number of pixels (animated).
        panBy: function(offset, options) {
          offset = toPoint(offset).round();
          options = options || {};
          if (!offset.x && !offset.y) {
            return this.fire("moveend");
          }
          if (options.animate !== true && !this.getSize().contains(offset)) {
            this._resetView(this.unproject(this.project(this.getCenter()).add(offset)), this.getZoom());
            return this;
          }
          if (!this._panAnim) {
            this._panAnim = new PosAnimation();
            this._panAnim.on({
              "step": this._onPanTransitionStep,
              "end": this._onPanTransitionEnd
            }, this);
          }
          if (!options.noMoveStart) {
            this.fire("movestart");
          }
          if (options.animate !== false) {
            addClass(this._mapPane, "leaflet-pan-anim");
            var newPos = this._getMapPanePos().subtract(offset).round();
            this._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);
          } else {
            this._rawPanBy(offset);
            this.fire("move").fire("moveend");
          }
          return this;
        },
        // @method flyTo(latlng: LatLng, zoom?: Number, options?: Zoom/pan options): this
        // Sets the view of the map (geographical center and zoom) performing a smooth
        // pan-zoom animation.
        flyTo: function(targetCenter, targetZoom, options) {
          options = options || {};
          if (options.animate === false || !Browser.any3d) {
            return this.setView(targetCenter, targetZoom, options);
          }
          this._stop();
          var from = this.project(this.getCenter()), to = this.project(targetCenter), size = this.getSize(), startZoom = this._zoom;
          targetCenter = toLatLng(targetCenter);
          targetZoom = targetZoom === void 0 ? startZoom : targetZoom;
          var w0 = Math.max(size.x, size.y), w1 = w0 * this.getZoomScale(startZoom, targetZoom), u1 = to.distanceTo(from) || 1, rho = 1.42, rho2 = rho * rho;
          function r(i) {
            var s1 = i ? -1 : 1, s2 = i ? w1 : w0, t1 = w1 * w1 - w0 * w0 + s1 * rho2 * rho2 * u1 * u1, b1 = 2 * s2 * rho2 * u1, b = t1 / b1, sq = Math.sqrt(b * b + 1) - b;
            var log = sq < 1e-9 ? -18 : Math.log(sq);
            return log;
          }
          function sinh(n) {
            return (Math.exp(n) - Math.exp(-n)) / 2;
          }
          function cosh(n) {
            return (Math.exp(n) + Math.exp(-n)) / 2;
          }
          function tanh(n) {
            return sinh(n) / cosh(n);
          }
          var r0 = r(0);
          function w(s) {
            return w0 * (cosh(r0) / cosh(r0 + rho * s));
          }
          function u(s) {
            return w0 * (cosh(r0) * tanh(r0 + rho * s) - sinh(r0)) / rho2;
          }
          function easeOut(t) {
            return 1 - Math.pow(1 - t, 1.5);
          }
          var start = Date.now(), S = (r(1) - r0) / rho, duration = options.duration ? 1e3 * options.duration : 1e3 * S * 0.8;
          function frame() {
            var t = (Date.now() - start) / duration, s = easeOut(t) * S;
            if (t <= 1) {
              this._flyToFrame = requestAnimFrame(frame, this);
              this._move(
                this.unproject(from.add(to.subtract(from).multiplyBy(u(s) / u1)), startZoom),
                this.getScaleZoom(w0 / w(s), startZoom),
                { flyTo: true }
              );
            } else {
              this._move(targetCenter, targetZoom)._moveEnd(true);
            }
          }
          this._moveStart(true, options.noMoveStart);
          frame.call(this);
          return this;
        },
        // @method flyToBounds(bounds: LatLngBounds, options?: fitBounds options): this
        // Sets the view of the map with a smooth animation like [`flyTo`](#map-flyto),
        // but takes a bounds parameter like [`fitBounds`](#map-fitbounds).
        flyToBounds: function(bounds, options) {
          var target = this._getBoundsCenterZoom(bounds, options);
          return this.flyTo(target.center, target.zoom, options);
        },
        // @method setMaxBounds(bounds: LatLngBounds): this
        // Restricts the map view to the given bounds (see the [maxBounds](#map-maxbounds) option).
        setMaxBounds: function(bounds) {
          bounds = toLatLngBounds(bounds);
          if (this.listens("moveend", this._panInsideMaxBounds)) {
            this.off("moveend", this._panInsideMaxBounds);
          }
          if (!bounds.isValid()) {
            this.options.maxBounds = null;
            return this;
          }
          this.options.maxBounds = bounds;
          if (this._loaded) {
            this._panInsideMaxBounds();
          }
          return this.on("moveend", this._panInsideMaxBounds);
        },
        // @method setMinZoom(zoom: Number): this
        // Sets the lower limit for the available zoom levels (see the [minZoom](#map-minzoom) option).
        setMinZoom: function(zoom2) {
          var oldZoom = this.options.minZoom;
          this.options.minZoom = zoom2;
          if (this._loaded && oldZoom !== zoom2) {
            this.fire("zoomlevelschange");
            if (this.getZoom() < this.options.minZoom) {
              return this.setZoom(zoom2);
            }
          }
          return this;
        },
        // @method setMaxZoom(zoom: Number): this
        // Sets the upper limit for the available zoom levels (see the [maxZoom](#map-maxzoom) option).
        setMaxZoom: function(zoom2) {
          var oldZoom = this.options.maxZoom;
          this.options.maxZoom = zoom2;
          if (this._loaded && oldZoom !== zoom2) {
            this.fire("zoomlevelschange");
            if (this.getZoom() > this.options.maxZoom) {
              return this.setZoom(zoom2);
            }
          }
          return this;
        },
        // @method panInsideBounds(bounds: LatLngBounds, options?: Pan options): this
        // Pans the map to the closest view that would lie inside the given bounds (if it's not already), controlling the animation using the options specific, if any.
        panInsideBounds: function(bounds, options) {
          this._enforcingBounds = true;
          var center = this.getCenter(), newCenter = this._limitCenter(center, this._zoom, toLatLngBounds(bounds));
          if (!center.equals(newCenter)) {
            this.panTo(newCenter, options);
          }
          this._enforcingBounds = false;
          return this;
        },
        // @method panInside(latlng: LatLng, options?: padding options): this
        // Pans the map the minimum amount to make the `latlng` visible. Use
        // padding options to fit the display to more restricted bounds.
        // If `latlng` is already within the (optionally padded) display bounds,
        // the map will not be panned.
        panInside: function(latlng, options) {
          options = options || {};
          var paddingTL = toPoint(options.paddingTopLeft || options.padding || [0, 0]), paddingBR = toPoint(options.paddingBottomRight || options.padding || [0, 0]), pixelCenter = this.project(this.getCenter()), pixelPoint = this.project(latlng), pixelBounds = this.getPixelBounds(), paddedBounds = toBounds([pixelBounds.min.add(paddingTL), pixelBounds.max.subtract(paddingBR)]), paddedSize = paddedBounds.getSize();
          if (!paddedBounds.contains(pixelPoint)) {
            this._enforcingBounds = true;
            var centerOffset = pixelPoint.subtract(paddedBounds.getCenter());
            var offset = paddedBounds.extend(pixelPoint).getSize().subtract(paddedSize);
            pixelCenter.x += centerOffset.x < 0 ? -offset.x : offset.x;
            pixelCenter.y += centerOffset.y < 0 ? -offset.y : offset.y;
            this.panTo(this.unproject(pixelCenter), options);
            this._enforcingBounds = false;
          }
          return this;
        },
        // @method invalidateSize(options: Zoom/pan options): this
        // Checks if the map container size changed and updates the map if so —
        // call it after you've changed the map size dynamically, also animating
        // pan by default. If `options.pan` is `false`, panning will not occur.
        // If `options.debounceMoveend` is `true`, it will delay `moveend` event so
        // that it doesn't happen often even if the method is called many
        // times in a row.
        // @alternative
        // @method invalidateSize(animate: Boolean): this
        // Checks if the map container size changed and updates the map if so —
        // call it after you've changed the map size dynamically, also animating
        // pan by default.
        invalidateSize: function(options) {
          if (!this._loaded) {
            return this;
          }
          options = extend({
            animate: false,
            pan: true
          }, options === true ? { animate: true } : options);
          var oldSize = this.getSize();
          this._sizeChanged = true;
          this._lastCenter = null;
          var newSize = this.getSize(), oldCenter = oldSize.divideBy(2).round(), newCenter = newSize.divideBy(2).round(), offset = oldCenter.subtract(newCenter);
          if (!offset.x && !offset.y) {
            return this;
          }
          if (options.animate && options.pan) {
            this.panBy(offset);
          } else {
            if (options.pan) {
              this._rawPanBy(offset);
            }
            this.fire("move");
            if (options.debounceMoveend) {
              clearTimeout(this._sizeTimer);
              this._sizeTimer = setTimeout(bind(this.fire, this, "moveend"), 200);
            } else {
              this.fire("moveend");
            }
          }
          return this.fire("resize", {
            oldSize,
            newSize
          });
        },
        // @section Methods for modifying map state
        // @method stop(): this
        // Stops the currently running `panTo` or `flyTo` animation, if any.
        stop: function() {
          this.setZoom(this._limitZoom(this._zoom));
          if (!this.options.zoomSnap) {
            this.fire("viewreset");
          }
          return this._stop();
        },
        // @section Geolocation methods
        // @method locate(options?: Locate options): this
        // Tries to locate the user using the Geolocation API, firing a [`locationfound`](#map-locationfound)
        // event with location data on success or a [`locationerror`](#map-locationerror) event on failure,
        // and optionally sets the map view to the user's location with respect to
        // detection accuracy (or to the world view if geolocation failed).
        // Note that, if your page doesn't use HTTPS, this method will fail in
        // modern browsers ([Chrome 50 and newer](https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins))
        // See `Locate options` for more details.
        locate: function(options) {
          options = this._locateOptions = extend({
            timeout: 1e4,
            watch: false
            // setView: false
            // maxZoom: <Number>
            // maximumAge: 0
            // enableHighAccuracy: false
          }, options);
          if (!("geolocation" in navigator)) {
            this._handleGeolocationError({
              code: 0,
              message: "Geolocation not supported."
            });
            return this;
          }
          var onResponse = bind(this._handleGeolocationResponse, this), onError = bind(this._handleGeolocationError, this);
          if (options.watch) {
            this._locationWatchId = navigator.geolocation.watchPosition(onResponse, onError, options);
          } else {
            navigator.geolocation.getCurrentPosition(onResponse, onError, options);
          }
          return this;
        },
        // @method stopLocate(): this
        // Stops watching location previously initiated by `map.locate({watch: true})`
        // and aborts resetting the map view if map.locate was called with
        // `{setView: true}`.
        stopLocate: function() {
          if (navigator.geolocation && navigator.geolocation.clearWatch) {
            navigator.geolocation.clearWatch(this._locationWatchId);
          }
          if (this._locateOptions) {
            this._locateOptions.setView = false;
          }
          return this;
        },
        _handleGeolocationError: function(error) {
          if (!this._container._leaflet_id) {
            return;
          }
          var c = error.code, message = error.message || (c === 1 ? "permission denied" : c === 2 ? "position unavailable" : "timeout");
          if (this._locateOptions.setView && !this._loaded) {
            this.fitWorld();
          }
          this.fire("locationerror", {
            code: c,
            message: "Geolocation error: " + message + "."
          });
        },
        _handleGeolocationResponse: function(pos) {
          if (!this._container._leaflet_id) {
            return;
          }
          var lat = pos.coords.latitude, lng = pos.coords.longitude, latlng = new LatLng2(lat, lng), bounds = latlng.toBounds(pos.coords.accuracy * 2), options = this._locateOptions;
          if (options.setView) {
            var zoom2 = this.getBoundsZoom(bounds);
            this.setView(latlng, options.maxZoom ? Math.min(zoom2, options.maxZoom) : zoom2);
          }
          var data = {
            latlng,
            bounds,
            timestamp: pos.timestamp
          };
          for (var i in pos.coords) {
            if (typeof pos.coords[i] === "number") {
              data[i] = pos.coords[i];
            }
          }
          this.fire("locationfound", data);
        },
        // TODO Appropriate docs section?
        // @section Other Methods
        // @method addHandler(name: String, HandlerClass: Function): this
        // Adds a new `Handler` to the map, given its name and constructor function.
        addHandler: function(name, HandlerClass) {
          if (!HandlerClass) {
            return this;
          }
          var handler = this[name] = new HandlerClass(this);
          this._handlers.push(handler);
          if (this.options[name]) {
            handler.enable();
          }
          return this;
        },
        // @method remove(): this
        // Destroys the map and clears all related event listeners.
        remove: function() {
          this._initEvents(true);
          if (this.options.maxBounds) {
            this.off("moveend", this._panInsideMaxBounds);
          }
          if (this._containerId !== this._container._leaflet_id) {
            throw new Error("Map container is being reused by another instance");
          }
          try {
            delete this._container._leaflet_id;
            delete this._containerId;
          } catch (e) {
            this._container._leaflet_id = void 0;
            this._containerId = void 0;
          }
          if (this._locationWatchId !== void 0) {
            this.stopLocate();
          }
          this._stop();
          remove(this._mapPane);
          if (this._clearControlPos) {
            this._clearControlPos();
          }
          if (this._resizeRequest) {
            cancelAnimFrame(this._resizeRequest);
            this._resizeRequest = null;
          }
          this._clearHandlers();
          if (this._loaded) {
            this.fire("unload");
          }
          var i;
          for (i in this._layers) {
            this._layers[i].remove();
          }
          for (i in this._panes) {
            remove(this._panes[i]);
          }
          this._layers = [];
          this._panes = [];
          delete this._mapPane;
          delete this._renderer;
          return this;
        },
        // @section Other Methods
        // @method createPane(name: String, container?: HTMLElement): HTMLElement
        // Creates a new [map pane](#map-pane) with the given name if it doesn't exist already,
        // then returns it. The pane is created as a child of `container`, or
        // as a child of the main map pane if not set.
        createPane: function(name, container) {
          var className = "leaflet-pane" + (name ? " leaflet-" + name.replace("Pane", "") + "-pane" : ""), pane = create$1("div", className, container || this._mapPane);
          if (name) {
            this._panes[name] = pane;
          }
          return pane;
        },
        // @section Methods for Getting Map State
        // @method getCenter(): LatLng
        // Returns the geographical center of the map view
        getCenter: function() {
          this._checkIfLoaded();
          if (this._lastCenter && !this._moved()) {
            return this._lastCenter.clone();
          }
          return this.layerPointToLatLng(this._getCenterLayerPoint());
        },
        // @method getZoom(): Number
        // Returns the current zoom level of the map view
        getZoom: function() {
          return this._zoom;
        },
        // @method getBounds(): LatLngBounds
        // Returns the geographical bounds visible in the current map view
        getBounds: function() {
          var bounds = this.getPixelBounds(), sw = this.unproject(bounds.getBottomLeft()), ne = this.unproject(bounds.getTopRight());
          return new LatLngBounds(sw, ne);
        },
        // @method getMinZoom(): Number
        // Returns the minimum zoom level of the map (if set in the `minZoom` option of the map or of any layers), or `0` by default.
        getMinZoom: function() {
          return this.options.minZoom === void 0 ? this._layersMinZoom || 0 : this.options.minZoom;
        },
        // @method getMaxZoom(): Number
        // Returns the maximum zoom level of the map (if set in the `maxZoom` option of the map or of any layers).
        getMaxZoom: function() {
          return this.options.maxZoom === void 0 ? this._layersMaxZoom === void 0 ? Infinity : this._layersMaxZoom : this.options.maxZoom;
        },
        // @method getBoundsZoom(bounds: LatLngBounds, inside?: Boolean, padding?: Point): Number
        // Returns the maximum zoom level on which the given bounds fit to the map
        // view in its entirety. If `inside` (optional) is set to `true`, the method
        // instead returns the minimum zoom level on which the map view fits into
        // the given bounds in its entirety.
        getBoundsZoom: function(bounds, inside, padding) {
          bounds = toLatLngBounds(bounds);
          padding = toPoint(padding || [0, 0]);
          var zoom2 = this.getZoom() || 0, min = this.getMinZoom(), max = this.getMaxZoom(), nw = bounds.getNorthWest(), se = bounds.getSouthEast(), size = this.getSize().subtract(padding), boundsSize = toBounds(this.project(se, zoom2), this.project(nw, zoom2)).getSize(), snap = Browser.any3d ? this.options.zoomSnap : 1, scalex = size.x / boundsSize.x, scaley = size.y / boundsSize.y, scale2 = inside ? Math.max(scalex, scaley) : Math.min(scalex, scaley);
          zoom2 = this.getScaleZoom(scale2, zoom2);
          if (snap) {
            zoom2 = Math.round(zoom2 / (snap / 100)) * (snap / 100);
            zoom2 = inside ? Math.ceil(zoom2 / snap) * snap : Math.floor(zoom2 / snap) * snap;
          }
          return Math.max(min, Math.min(max, zoom2));
        },
        // @method getSize(): Point
        // Returns the current size of the map container (in pixels).
        getSize: function() {
          if (!this._size || this._sizeChanged) {
            this._size = new Point(
              this._container.clientWidth || 0,
              this._container.clientHeight || 0
            );
            this._sizeChanged = false;
          }
          return this._size.clone();
        },
        // @method getPixelBounds(): Bounds
        // Returns the bounds of the current map view in projected pixel
        // coordinates (sometimes useful in layer and overlay implementations).
        getPixelBounds: function(center, zoom2) {
          var topLeftPoint = this._getTopLeftPoint(center, zoom2);
          return new Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));
        },
        // TODO: Check semantics - isn't the pixel origin the 0,0 coord relative to
        // the map pane? "left point of the map layer" can be confusing, specially
        // since there can be negative offsets.
        // @method getPixelOrigin(): Point
        // Returns the projected pixel coordinates of the top left point of
        // the map layer (useful in custom layer and overlay implementations).
        getPixelOrigin: function() {
          this._checkIfLoaded();
          return this._pixelOrigin;
        },
        // @method getPixelWorldBounds(zoom?: Number): Bounds
        // Returns the world's bounds in pixel coordinates for zoom level `zoom`.
        // If `zoom` is omitted, the map's current zoom level is used.
        getPixelWorldBounds: function(zoom2) {
          return this.options.crs.getProjectedBounds(zoom2 === void 0 ? this.getZoom() : zoom2);
        },
        // @section Other Methods
        // @method getPane(pane: String|HTMLElement): HTMLElement
        // Returns a [map pane](#map-pane), given its name or its HTML element (its identity).
        getPane: function(pane) {
          return typeof pane === "string" ? this._panes[pane] : pane;
        },
        // @method getPanes(): Object
        // Returns a plain object containing the names of all [panes](#map-pane) as keys and
        // the panes as values.
        getPanes: function() {
          return this._panes;
        },
        // @method getContainer: HTMLElement
        // Returns the HTML element that contains the map.
        getContainer: function() {
          return this._container;
        },
        // @section Conversion Methods
        // @method getZoomScale(toZoom: Number, fromZoom: Number): Number
        // Returns the scale factor to be applied to a map transition from zoom level
        // `fromZoom` to `toZoom`. Used internally to help with zoom animations.
        getZoomScale: function(toZoom, fromZoom) {
          var crs = this.options.crs;
          fromZoom = fromZoom === void 0 ? this._zoom : fromZoom;
          return crs.scale(toZoom) / crs.scale(fromZoom);
        },
        // @method getScaleZoom(scale: Number, fromZoom: Number): Number
        // Returns the zoom level that the map would end up at, if it is at `fromZoom`
        // level and everything is scaled by a factor of `scale`. Inverse of
        // [`getZoomScale`](#map-getZoomScale).
        getScaleZoom: function(scale2, fromZoom) {
          var crs = this.options.crs;
          fromZoom = fromZoom === void 0 ? this._zoom : fromZoom;
          var zoom2 = crs.zoom(scale2 * crs.scale(fromZoom));
          return isNaN(zoom2) ? Infinity : zoom2;
        },
        // @method project(latlng: LatLng, zoom: Number): Point
        // Projects a geographical coordinate `LatLng` according to the projection
        // of the map's CRS, then scales it according to `zoom` and the CRS's
        // `Transformation`. The result is pixel coordinate relative to
        // the CRS origin.
        project: function(latlng, zoom2) {
          zoom2 = zoom2 === void 0 ? this._zoom : zoom2;
          return this.options.crs.latLngToPoint(toLatLng(latlng), zoom2);
        },
        // @method unproject(point: Point, zoom: Number): LatLng
        // Inverse of [`project`](#map-project).
        unproject: function(point, zoom2) {
          zoom2 = zoom2 === void 0 ? this._zoom : zoom2;
          return this.options.crs.pointToLatLng(toPoint(point), zoom2);
        },
        // @method layerPointToLatLng(point: Point): LatLng
        // Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),
        // returns the corresponding geographical coordinate (for the current zoom level).
        layerPointToLatLng: function(point) {
          var projectedPoint = toPoint(point).add(this.getPixelOrigin());
          return this.unproject(projectedPoint);
        },
        // @method latLngToLayerPoint(latlng: LatLng): Point
        // Given a geographical coordinate, returns the corresponding pixel coordinate
        // relative to the [origin pixel](#map-getpixelorigin).
        latLngToLayerPoint: function(latlng) {
          var projectedPoint = this.project(toLatLng(latlng))._round();
          return projectedPoint._subtract(this.getPixelOrigin());
        },
        // @method wrapLatLng(latlng: LatLng): LatLng
        // Returns a `LatLng` where `lat` and `lng` has been wrapped according to the
        // map's CRS's `wrapLat` and `wrapLng` properties, if they are outside the
        // CRS's bounds.
        // By default this means longitude is wrapped around the dateline so its
        // value is between -180 and +180 degrees.
        wrapLatLng: function(latlng) {
          return this.options.crs.wrapLatLng(toLatLng(latlng));
        },
        // @method wrapLatLngBounds(bounds: LatLngBounds): LatLngBounds
        // Returns a `LatLngBounds` with the same size as the given one, ensuring that
        // its center is within the CRS's bounds.
        // By default this means the center longitude is wrapped around the dateline so its
        // value is between -180 and +180 degrees, and the majority of the bounds
        // overlaps the CRS's bounds.
        wrapLatLngBounds: function(latlng) {
          return this.options.crs.wrapLatLngBounds(toLatLngBounds(latlng));
        },
        // @method distance(latlng1: LatLng, latlng2: LatLng): Number
        // Returns the distance between two geographical coordinates according to
        // the map's CRS. By default this measures distance in meters.
        distance: function(latlng1, latlng2) {
          return this.options.crs.distance(toLatLng(latlng1), toLatLng(latlng2));
        },
        // @method containerPointToLayerPoint(point: Point): Point
        // Given a pixel coordinate relative to the map container, returns the corresponding
        // pixel coordinate relative to the [origin pixel](#map-getpixelorigin).
        containerPointToLayerPoint: function(point) {
          return toPoint(point).subtract(this._getMapPanePos());
        },
        // @method layerPointToContainerPoint(point: Point): Point
        // Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),
        // returns the corresponding pixel coordinate relative to the map container.
        layerPointToContainerPoint: function(point) {
          return toPoint(point).add(this._getMapPanePos());
        },
        // @method containerPointToLatLng(point: Point): LatLng
        // Given a pixel coordinate relative to the map container, returns
        // the corresponding geographical coordinate (for the current zoom level).
        containerPointToLatLng: function(point) {
          var layerPoint = this.containerPointToLayerPoint(toPoint(point));
          return this.layerPointToLatLng(layerPoint);
        },
        // @method latLngToContainerPoint(latlng: LatLng): Point
        // Given a geographical coordinate, returns the corresponding pixel coordinate
        // relative to the map container.
        latLngToContainerPoint: function(latlng) {
          return this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(latlng)));
        },
        // @method mouseEventToContainerPoint(ev: MouseEvent): Point
        // Given a MouseEvent object, returns the pixel coordinate relative to the
        // map container where the event took place.
        mouseEventToContainerPoint: function(e) {
          return getMousePosition(e, this._container);
        },
        // @method mouseEventToLayerPoint(ev: MouseEvent): Point
        // Given a MouseEvent object, returns the pixel coordinate relative to
        // the [origin pixel](#map-getpixelorigin) where the event took place.
        mouseEventToLayerPoint: function(e) {
          return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));
        },
        // @method mouseEventToLatLng(ev: MouseEvent): LatLng
        // Given a MouseEvent object, returns geographical coordinate where the
        // event took place.
        mouseEventToLatLng: function(e) {
          return this.layerPointToLatLng(this.mouseEventToLayerPoint(e));
        },
        // map initialization methods
        _initContainer: function(id) {
          var container = this._container = get(id);
          if (!container) {
            throw new Error("Map container not found.");
          } else if (container._leaflet_id) {
            throw new Error("Map container is already initialized.");
          }
          on(container, "scroll", this._onScroll, this);
          this._containerId = stamp(container);
        },
        _initLayout: function() {
          var container = this._container;
          this._fadeAnimated = this.options.fadeAnimation && Browser.any3d;
          addClass(container, "leaflet-container" + (Browser.touch ? " leaflet-touch" : "") + (Browser.retina ? " leaflet-retina" : "") + (Browser.ielt9 ? " leaflet-oldie" : "") + (Browser.safari ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
          var position = getStyle(container, "position");
          if (position !== "absolute" && position !== "relative" && position !== "fixed" && position !== "sticky") {
            container.style.position = "relative";
          }
          this._initPanes();
          if (this._initControlPos) {
            this._initControlPos();
          }
        },
        _initPanes: function() {
          var panes = this._panes = {};
          this._paneRenderers = {};
          this._mapPane = this.createPane("mapPane", this._container);
          setPosition(this._mapPane, new Point(0, 0));
          this.createPane("tilePane");
          this.createPane("overlayPane");
          this.createPane("shadowPane");
          this.createPane("markerPane");
          this.createPane("tooltipPane");
          this.createPane("popupPane");
          if (!this.options.markerZoomAnimation) {
            addClass(panes.markerPane, "leaflet-zoom-hide");
            addClass(panes.shadowPane, "leaflet-zoom-hide");
          }
        },
        // private methods that modify map state
        // @section Map state change events
        _resetView: function(center, zoom2, noMoveStart) {
          setPosition(this._mapPane, new Point(0, 0));
          var loading = !this._loaded;
          this._loaded = true;
          zoom2 = this._limitZoom(zoom2);
          this.fire("viewprereset");
          var zoomChanged = this._zoom !== zoom2;
          this._moveStart(zoomChanged, noMoveStart)._move(center, zoom2)._moveEnd(zoomChanged);
          this.fire("viewreset");
          if (loading) {
            this.fire("load");
          }
        },
        _moveStart: function(zoomChanged, noMoveStart) {
          if (zoomChanged) {
            this.fire("zoomstart");
          }
          if (!noMoveStart) {
            this.fire("movestart");
          }
          return this;
        },
        _move: function(center, zoom2, data, supressEvent) {
          if (zoom2 === void 0) {
            zoom2 = this._zoom;
          }
          var zoomChanged = this._zoom !== zoom2;
          this._zoom = zoom2;
          this._lastCenter = center;
          this._pixelOrigin = this._getNewPixelOrigin(center);
          if (!supressEvent) {
            if (zoomChanged || data && data.pinch) {
              this.fire("zoom", data);
            }
            this.fire("move", data);
          } else if (data && data.pinch) {
            this.fire("zoom", data);
          }
          return this;
        },
        _moveEnd: function(zoomChanged) {
          if (zoomChanged) {
            this.fire("zoomend");
          }
          return this.fire("moveend");
        },
        _stop: function() {
          cancelAnimFrame(this._flyToFrame);
          if (this._panAnim) {
            this._panAnim.stop();
          }
          return this;
        },
        _rawPanBy: function(offset) {
          setPosition(this._mapPane, this._getMapPanePos().subtract(offset));
        },
        _getZoomSpan: function() {
          return this.getMaxZoom() - this.getMinZoom();
        },
        _panInsideMaxBounds: function() {
          if (!this._enforcingBounds) {
            this.panInsideBounds(this.options.maxBounds);
          }
        },
        _checkIfLoaded: function() {
          if (!this._loaded) {
            throw new Error("Set map center and zoom first.");
          }
        },
        // DOM event handling
        // @section Interaction events
        _initEvents: function(remove2) {
          this._targets = {};
          this._targets[stamp(this._container)] = this;
          var onOff = remove2 ? off : on;
          onOff(this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup", this._handleDOMEvent, this);
          if (this.options.trackResize) {
            onOff(window, "resize", this._onResize, this);
          }
          if (Browser.any3d && this.options.transform3DLimit) {
            (remove2 ? this.off : this.on).call(this, "moveend", this._onMoveEnd);
          }
        },
        _onResize: function() {
          cancelAnimFrame(this._resizeRequest);
          this._resizeRequest = requestAnimFrame(
            function() {
              this.invalidateSize({ debounceMoveend: true });
            },
            this
          );
        },
        _onScroll: function() {
          this._container.scrollTop = 0;
          this._container.scrollLeft = 0;
        },
        _onMoveEnd: function() {
          var pos = this._getMapPanePos();
          if (Math.max(Math.abs(pos.x), Math.abs(pos.y)) >= this.options.transform3DLimit) {
            this._resetView(this.getCenter(), this.getZoom());
          }
        },
        _findEventTargets: function(e, type) {
          var targets = [], target, isHover = type === "mouseout" || type === "mouseover", src = e.target || e.srcElement, dragging = false;
          while (src) {
            target = this._targets[stamp(src)];
            if (target && (type === "click" || type === "preclick") && this._draggableMoved(target)) {
              dragging = true;
              break;
            }
            if (target && target.listens(type, true)) {
              if (isHover && !isExternalTarget(src, e)) {
                break;
              }
              targets.push(target);
              if (isHover) {
                break;
              }
            }
            if (src === this._container) {
              break;
            }
            src = src.parentNode;
          }
          if (!targets.length && !dragging && !isHover && this.listens(type, true)) {
            targets = [this];
          }
          return targets;
        },
        _isClickDisabled: function(el) {
          while (el && el !== this._container) {
            if (el["_leaflet_disable_click"]) {
              return true;
            }
            el = el.parentNode;
          }
        },
        _handleDOMEvent: function(e) {
          var el = e.target || e.srcElement;
          if (!this._loaded || el["_leaflet_disable_events"] || e.type === "click" && this._isClickDisabled(el)) {
            return;
          }
          var type = e.type;
          if (type === "mousedown") {
            preventOutline(el);
          }
          this._fireDOMEvent(e, type);
        },
        _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
        _fireDOMEvent: function(e, type, canvasTargets) {
          if (e.type === "click") {
            var synth = extend({}, e);
            synth.type = "preclick";
            this._fireDOMEvent(synth, synth.type, canvasTargets);
          }
          var targets = this._findEventTargets(e, type);
          if (canvasTargets) {
            var filtered = [];
            for (var i = 0; i < canvasTargets.length; i++) {
              if (canvasTargets[i].listens(type, true)) {
                filtered.push(canvasTargets[i]);
              }
            }
            targets = filtered.concat(targets);
          }
          if (!targets.length) {
            return;
          }
          if (type === "contextmenu") {
            preventDefault(e);
          }
          var target = targets[0];
          var data = {
            originalEvent: e
          };
          if (e.type !== "keypress" && e.type !== "keydown" && e.type !== "keyup") {
            var isMarker = target.getLatLng && (!target._radius || target._radius <= 10);
            data.containerPoint = isMarker ? this.latLngToContainerPoint(target.getLatLng()) : this.mouseEventToContainerPoint(e);
            data.layerPoint = this.containerPointToLayerPoint(data.containerPoint);
            data.latlng = isMarker ? target.getLatLng() : this.layerPointToLatLng(data.layerPoint);
          }
          for (i = 0; i < targets.length; i++) {
            targets[i].fire(type, data, true);
            if (data.originalEvent._stopped || targets[i].options.bubblingMouseEvents === false && indexOf(this._mouseEvents, type) !== -1) {
              return;
            }
          }
        },
        _draggableMoved: function(obj) {
          obj = obj.dragging && obj.dragging.enabled() ? obj : this;
          return obj.dragging && obj.dragging.moved() || this.boxZoom && this.boxZoom.moved();
        },
        _clearHandlers: function() {
          for (var i = 0, len = this._handlers.length; i < len; i++) {
            this._handlers[i].disable();
          }
        },
        // @section Other Methods
        // @method whenReady(fn: Function, context?: Object): this
        // Runs the given function `fn` when the map gets initialized with
        // a view (center and zoom) and at least one layer, or immediately
        // if it's already initialized, optionally passing a function context.
        whenReady: function(callback, context) {
          if (this._loaded) {
            callback.call(context || this, { target: this });
          } else {
            this.on("load", callback, context);
          }
          return this;
        },
        // private methods for getting map state
        _getMapPanePos: function() {
          return getPosition(this._mapPane) || new Point(0, 0);
        },
        _moved: function() {
          var pos = this._getMapPanePos();
          return pos && !pos.equals([0, 0]);
        },
        _getTopLeftPoint: function(center, zoom2) {
          var pixelOrigin = center && zoom2 !== void 0 ? this._getNewPixelOrigin(center, zoom2) : this.getPixelOrigin();
          return pixelOrigin.subtract(this._getMapPanePos());
        },
        _getNewPixelOrigin: function(center, zoom2) {
          var viewHalf = this.getSize()._divideBy(2);
          return this.project(center, zoom2)._subtract(viewHalf)._add(this._getMapPanePos())._round();
        },
        _latLngToNewLayerPoint: function(latlng, zoom2, center) {
          var topLeft = this._getNewPixelOrigin(center, zoom2);
          return this.project(latlng, zoom2)._subtract(topLeft);
        },
        _latLngBoundsToNewLayerBounds: function(latLngBounds2, zoom2, center) {
          var topLeft = this._getNewPixelOrigin(center, zoom2);
          return toBounds([
            this.project(latLngBounds2.getSouthWest(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getNorthWest(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getSouthEast(), zoom2)._subtract(topLeft),
            this.project(latLngBounds2.getNorthEast(), zoom2)._subtract(topLeft)
          ]);
        },
        // layer point of the current center
        _getCenterLayerPoint: function() {
          return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
        },
        // offset of the specified place to the current center in pixels
        _getCenterOffset: function(latlng) {
          return this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());
        },
        // adjust center for view to get inside bounds
        _limitCenter: function(center, zoom2, bounds) {
          if (!bounds) {
            return center;
          }
          var centerPoint = this.project(center, zoom2), viewHalf = this.getSize().divideBy(2), viewBounds = new Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)), offset = this._getBoundsOffset(viewBounds, bounds, zoom2);
          if (Math.abs(offset.x) <= 1 && Math.abs(offset.y) <= 1) {
            return center;
          }
          return this.unproject(centerPoint.add(offset), zoom2);
        },
        // adjust offset for view to get inside bounds
        _limitOffset: function(offset, bounds) {
          if (!bounds) {
            return offset;
          }
          var viewBounds = this.getPixelBounds(), newBounds = new Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));
          return offset.add(this._getBoundsOffset(newBounds, bounds));
        },
        // returns offset needed for pxBounds to get inside maxBounds at a specified zoom
        _getBoundsOffset: function(pxBounds, maxBounds, zoom2) {
          var projectedMaxBounds = toBounds(
            this.project(maxBounds.getNorthEast(), zoom2),
            this.project(maxBounds.getSouthWest(), zoom2)
          ), minOffset = projectedMaxBounds.min.subtract(pxBounds.min), maxOffset = projectedMaxBounds.max.subtract(pxBounds.max), dx = this._rebound(minOffset.x, -maxOffset.x), dy = this._rebound(minOffset.y, -maxOffset.y);
          return new Point(dx, dy);
        },
        _rebound: function(left, right) {
          return left + right > 0 ? Math.round(left - right) / 2 : Math.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));
        },
        _limitZoom: function(zoom2) {
          var min = this.getMinZoom(), max = this.getMaxZoom(), snap = Browser.any3d ? this.options.zoomSnap : 1;
          if (snap) {
            zoom2 = Math.round(zoom2 / snap) * snap;
          }
          return Math.max(min, Math.min(max, zoom2));
        },
        _onPanTransitionStep: function() {
          this.fire("move");
        },
        _onPanTransitionEnd: function() {
          removeClass(this._mapPane, "leaflet-pan-anim");
          this.fire("moveend");
        },
        _tryAnimatedPan: function(center, options) {
          var offset = this._getCenterOffset(center)._trunc();
          if ((options && options.animate) !== true && !this.getSize().contains(offset)) {
            return false;
          }
          this.panBy(offset, options);
          return true;
        },
        _createAnimProxy: function() {
          var proxy = this._proxy = create$1("div", "leaflet-proxy leaflet-zoom-animated");
          this._panes.mapPane.appendChild(proxy);
          this.on("zoomanim", function(e) {
            var prop = TRANSFORM, transform = this._proxy.style[prop];
            setTransform(this._proxy, this.project(e.center, e.zoom), this.getZoomScale(e.zoom, 1));
            if (transform === this._proxy.style[prop] && this._animatingZoom) {
              this._onZoomTransitionEnd();
            }
          }, this);
          this.on("load moveend", this._animMoveEnd, this);
          this._on("unload", this._destroyAnimProxy, this);
        },
        _destroyAnimProxy: function() {
          remove(this._proxy);
          this.off("load moveend", this._animMoveEnd, this);
          delete this._proxy;
        },
        _animMoveEnd: function() {
          var c = this.getCenter(), z = this.getZoom();
          setTransform(this._proxy, this.project(c, z), this.getZoomScale(z, 1));
        },
        _catchTransitionEnd: function(e) {
          if (this._animatingZoom && e.propertyName.indexOf("transform") >= 0) {
            this._onZoomTransitionEnd();
          }
        },
        _nothingToAnimate: function() {
          return !this._container.getElementsByClassName("leaflet-zoom-animated").length;
        },
        _tryAnimatedZoom: function(center, zoom2, options) {
          if (this._animatingZoom) {
            return true;
          }
          options = options || {};
          if (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() || Math.abs(zoom2 - this._zoom) > this.options.zoomAnimationThreshold) {
            return false;
          }
          var scale2 = this.getZoomScale(zoom2), offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale2);
          if (options.animate !== true && !this.getSize().contains(offset)) {
            return false;
          }
          requestAnimFrame(function() {
            this._moveStart(true, options.noMoveStart || false)._animateZoom(center, zoom2, true);
          }, this);
          return true;
        },
        _animateZoom: function(center, zoom2, startAnim, noUpdate) {
          if (!this._mapPane) {
            return;
          }
          if (startAnim) {
            this._animatingZoom = true;
            this._animateToCenter = center;
            this._animateToZoom = zoom2;
            addClass(this._mapPane, "leaflet-zoom-anim");
          }
          this.fire("zoomanim", {
            center,
            zoom: zoom2,
            noUpdate
          });
          if (!this._tempFireZoomEvent) {
            this._tempFireZoomEvent = this._zoom !== this._animateToZoom;
          }
          this._move(this._animateToCenter, this._animateToZoom, void 0, true);
          setTimeout(bind(this._onZoomTransitionEnd, this), 250);
        },
        _onZoomTransitionEnd: function() {
          if (!this._animatingZoom) {
            return;
          }
          if (this._mapPane) {
            removeClass(this._mapPane, "leaflet-zoom-anim");
          }
          this._animatingZoom = false;
          this._move(this._animateToCenter, this._animateToZoom, void 0, true);
          if (this._tempFireZoomEvent) {
            this.fire("zoom");
          }
          delete this._tempFireZoomEvent;
          this.fire("move");
          this._moveEnd(true);
        }
      });
      function createMap(id, options) {
        return new Map2(id, options);
      }
      var Control = Class.extend({
        // @section
        // @aka Control Options
        options: {
          // @option position: String = 'topright'
          // The position of the control (one of the map corners). Possible values are `'topleft'`,
          // `'topright'`, `'bottomleft'` or `'bottomright'`
          position: "topright"
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        /* @section
         * Classes extending L.Control will inherit the following methods:
         *
         * @method getPosition: string
         * Returns the position of the control.
         */
        getPosition: function() {
          return this.options.position;
        },
        // @method setPosition(position: string): this
        // Sets the position of the control.
        setPosition: function(position) {
          var map2 = this._map;
          if (map2) {
            map2.removeControl(this);
          }
          this.options.position = position;
          if (map2) {
            map2.addControl(this);
          }
          return this;
        },
        // @method getContainer: HTMLElement
        // Returns the HTMLElement that contains the control.
        getContainer: function() {
          return this._container;
        },
        // @method addTo(map: Map): this
        // Adds the control to the given map.
        addTo: function(map2) {
          this.remove();
          this._map = map2;
          var container = this._container = this.onAdd(map2), pos = this.getPosition(), corner = map2._controlCorners[pos];
          addClass(container, "leaflet-control");
          if (pos.indexOf("bottom") !== -1) {
            corner.insertBefore(container, corner.firstChild);
          } else {
            corner.appendChild(container);
          }
          this._map.on("unload", this.remove, this);
          return this;
        },
        // @method remove: this
        // Removes the control from the map it is currently active on.
        remove: function() {
          if (!this._map) {
            return this;
          }
          remove(this._container);
          if (this.onRemove) {
            this.onRemove(this._map);
          }
          this._map.off("unload", this.remove, this);
          this._map = null;
          return this;
        },
        _refocusOnMap: function(e) {
          if (this._map && e && e.screenX > 0 && e.screenY > 0) {
            this._map.getContainer().focus();
          }
        }
      });
      var control = function(options) {
        return new Control(options);
      };
      Map2.include({
        // @method addControl(control: Control): this
        // Adds the given control to the map
        addControl: function(control2) {
          control2.addTo(this);
          return this;
        },
        // @method removeControl(control: Control): this
        // Removes the given control from the map
        removeControl: function(control2) {
          control2.remove();
          return this;
        },
        _initControlPos: function() {
          var corners = this._controlCorners = {}, l = "leaflet-", container = this._controlContainer = create$1("div", l + "control-container", this._container);
          function createCorner(vSide, hSide) {
            var className = l + vSide + " " + l + hSide;
            corners[vSide + hSide] = create$1("div", className, container);
          }
          createCorner("top", "left");
          createCorner("top", "right");
          createCorner("bottom", "left");
          createCorner("bottom", "right");
        },
        _clearControlPos: function() {
          for (var i in this._controlCorners) {
            remove(this._controlCorners[i]);
          }
          remove(this._controlContainer);
          delete this._controlCorners;
          delete this._controlContainer;
        }
      });
      var Layers = Control.extend({
        // @section
        // @aka Control.Layers options
        options: {
          // @option collapsed: Boolean = true
          // If `true`, the control will be collapsed into an icon and expanded on mouse hover, touch, or keyboard activation.
          collapsed: true,
          position: "topright",
          // @option autoZIndex: Boolean = true
          // If `true`, the control will assign zIndexes in increasing order to all of its layers so that the order is preserved when switching them on/off.
          autoZIndex: true,
          // @option hideSingleBase: Boolean = false
          // If `true`, the base layers in the control will be hidden when there is only one.
          hideSingleBase: false,
          // @option sortLayers: Boolean = false
          // Whether to sort the layers. When `false`, layers will keep the order
          // in which they were added to the control.
          sortLayers: false,
          // @option sortFunction: Function = *
          // A [compare function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)
          // that will be used for sorting the layers, when `sortLayers` is `true`.
          // The function receives both the `L.Layer` instances and their names, as in
          // `sortFunction(layerA, layerB, nameA, nameB)`.
          // By default, it sorts layers alphabetically by their name.
          sortFunction: function(layerA, layerB, nameA, nameB) {
            return nameA < nameB ? -1 : nameB < nameA ? 1 : 0;
          }
        },
        initialize: function(baseLayers, overlays, options) {
          setOptions(this, options);
          this._layerControlInputs = [];
          this._layers = [];
          this._lastZIndex = 0;
          this._handlingClick = false;
          this._preventClick = false;
          for (var i in baseLayers) {
            this._addLayer(baseLayers[i], i);
          }
          for (i in overlays) {
            this._addLayer(overlays[i], i, true);
          }
        },
        onAdd: function(map2) {
          this._initLayout();
          this._update();
          this._map = map2;
          map2.on("zoomend", this._checkDisabledLayers, this);
          for (var i = 0; i < this._layers.length; i++) {
            this._layers[i].layer.on("add remove", this._onLayerChange, this);
          }
          return this._container;
        },
        addTo: function(map2) {
          Control.prototype.addTo.call(this, map2);
          return this._expandIfNotCollapsed();
        },
        onRemove: function() {
          this._map.off("zoomend", this._checkDisabledLayers, this);
          for (var i = 0; i < this._layers.length; i++) {
            this._layers[i].layer.off("add remove", this._onLayerChange, this);
          }
        },
        // @method addBaseLayer(layer: Layer, name: String): this
        // Adds a base layer (radio button entry) with the given name to the control.
        addBaseLayer: function(layer, name) {
          this._addLayer(layer, name);
          return this._map ? this._update() : this;
        },
        // @method addOverlay(layer: Layer, name: String): this
        // Adds an overlay (checkbox entry) with the given name to the control.
        addOverlay: function(layer, name) {
          this._addLayer(layer, name, true);
          return this._map ? this._update() : this;
        },
        // @method removeLayer(layer: Layer): this
        // Remove the given layer from the control.
        removeLayer: function(layer) {
          layer.off("add remove", this._onLayerChange, this);
          var obj = this._getLayer(stamp(layer));
          if (obj) {
            this._layers.splice(this._layers.indexOf(obj), 1);
          }
          return this._map ? this._update() : this;
        },
        // @method expand(): this
        // Expand the control container if collapsed.
        expand: function() {
          addClass(this._container, "leaflet-control-layers-expanded");
          this._section.style.height = null;
          var acceptableHeight = this._map.getSize().y - (this._container.offsetTop + 50);
          if (acceptableHeight < this._section.clientHeight) {
            addClass(this._section, "leaflet-control-layers-scrollbar");
            this._section.style.height = acceptableHeight + "px";
          } else {
            removeClass(this._section, "leaflet-control-layers-scrollbar");
          }
          this._checkDisabledLayers();
          return this;
        },
        // @method collapse(): this
        // Collapse the control container if expanded.
        collapse: function() {
          removeClass(this._container, "leaflet-control-layers-expanded");
          return this;
        },
        _initLayout: function() {
          var className = "leaflet-control-layers", container = this._container = create$1("div", className), collapsed = this.options.collapsed;
          container.setAttribute("aria-haspopup", true);
          disableClickPropagation(container);
          disableScrollPropagation(container);
          var section = this._section = create$1("section", className + "-list");
          if (collapsed) {
            this._map.on("click", this.collapse, this);
            on(container, {
              mouseenter: this._expandSafely,
              mouseleave: this.collapse
            }, this);
          }
          var link = this._layersLink = create$1("a", className + "-toggle", container);
          link.href = "#";
          link.title = "Layers";
          link.setAttribute("role", "button");
          on(link, {
            keydown: function(e) {
              if (e.keyCode === 13) {
                this._expandSafely();
              }
            },
            // Certain screen readers intercept the key event and instead send a click event
            click: function(e) {
              preventDefault(e);
              this._expandSafely();
            }
          }, this);
          if (!collapsed) {
            this.expand();
          }
          this._baseLayersList = create$1("div", className + "-base", section);
          this._separator = create$1("div", className + "-separator", section);
          this._overlaysList = create$1("div", className + "-overlays", section);
          container.appendChild(section);
        },
        _getLayer: function(id) {
          for (var i = 0; i < this._layers.length; i++) {
            if (this._layers[i] && stamp(this._layers[i].layer) === id) {
              return this._layers[i];
            }
          }
        },
        _addLayer: function(layer, name, overlay) {
          if (this._map) {
            layer.on("add remove", this._onLayerChange, this);
          }
          this._layers.push({
            layer,
            name,
            overlay
          });
          if (this.options.sortLayers) {
            this._layers.sort(bind(function(a, b) {
              return this.options.sortFunction(a.layer, b.layer, a.name, b.name);
            }, this));
          }
          if (this.options.autoZIndex && layer.setZIndex) {
            this._lastZIndex++;
            layer.setZIndex(this._lastZIndex);
          }
          this._expandIfNotCollapsed();
        },
        _update: function() {
          if (!this._container) {
            return this;
          }
          empty(this._baseLayersList);
          empty(this._overlaysList);
          this._layerControlInputs = [];
          var baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = 0;
          for (i = 0; i < this._layers.length; i++) {
            obj = this._layers[i];
            this._addItem(obj);
            overlaysPresent = overlaysPresent || obj.overlay;
            baseLayersPresent = baseLayersPresent || !obj.overlay;
            baseLayersCount += !obj.overlay ? 1 : 0;
          }
          if (this.options.hideSingleBase) {
            baseLayersPresent = baseLayersPresent && baseLayersCount > 1;
            this._baseLayersList.style.display = baseLayersPresent ? "" : "none";
          }
          this._separator.style.display = overlaysPresent && baseLayersPresent ? "" : "none";
          return this;
        },
        _onLayerChange: function(e) {
          if (!this._handlingClick) {
            this._update();
          }
          var obj = this._getLayer(stamp(e.target));
          var type = obj.overlay ? e.type === "add" ? "overlayadd" : "overlayremove" : e.type === "add" ? "baselayerchange" : null;
          if (type) {
            this._map.fire(type, obj);
          }
        },
        // IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see https://stackoverflow.com/a/119079)
        _createRadioElement: function(name, checked) {
          var radioHtml = '<input type="radio" class="leaflet-control-layers-selector" name="' + name + '"' + (checked ? ' checked="checked"' : "") + "/>";
          var radioFragment = document.createElement("div");
          radioFragment.innerHTML = radioHtml;
          return radioFragment.firstChild;
        },
        _addItem: function(obj) {
          var label = document.createElement("label"), checked = this._map.hasLayer(obj.layer), input;
          if (obj.overlay) {
            input = document.createElement("input");
            input.type = "checkbox";
            input.className = "leaflet-control-layers-selector";
            input.defaultChecked = checked;
          } else {
            input = this._createRadioElement("leaflet-base-layers_" + stamp(this), checked);
          }
          this._layerControlInputs.push(input);
          input.layerId = stamp(obj.layer);
          on(input, "click", this._onInputClick, this);
          var name = document.createElement("span");
          name.innerHTML = " " + obj.name;
          var holder = document.createElement("span");
          label.appendChild(holder);
          holder.appendChild(input);
          holder.appendChild(name);
          var container = obj.overlay ? this._overlaysList : this._baseLayersList;
          container.appendChild(label);
          this._checkDisabledLayers();
          return label;
        },
        _onInputClick: function() {
          if (this._preventClick) {
            return;
          }
          var inputs = this._layerControlInputs, input, layer;
          var addedLayers = [], removedLayers = [];
          this._handlingClick = true;
          for (var i = inputs.length - 1; i >= 0; i--) {
            input = inputs[i];
            layer = this._getLayer(input.layerId).layer;
            if (input.checked) {
              addedLayers.push(layer);
            } else if (!input.checked) {
              removedLayers.push(layer);
            }
          }
          for (i = 0; i < removedLayers.length; i++) {
            if (this._map.hasLayer(removedLayers[i])) {
              this._map.removeLayer(removedLayers[i]);
            }
          }
          for (i = 0; i < addedLayers.length; i++) {
            if (!this._map.hasLayer(addedLayers[i])) {
              this._map.addLayer(addedLayers[i]);
            }
          }
          this._handlingClick = false;
          this._refocusOnMap();
        },
        _checkDisabledLayers: function() {
          var inputs = this._layerControlInputs, input, layer, zoom2 = this._map.getZoom();
          for (var i = inputs.length - 1; i >= 0; i--) {
            input = inputs[i];
            layer = this._getLayer(input.layerId).layer;
            input.disabled = layer.options.minZoom !== void 0 && zoom2 < layer.options.minZoom || layer.options.maxZoom !== void 0 && zoom2 > layer.options.maxZoom;
          }
        },
        _expandIfNotCollapsed: function() {
          if (this._map && !this.options.collapsed) {
            this.expand();
          }
          return this;
        },
        _expandSafely: function() {
          var section = this._section;
          this._preventClick = true;
          on(section, "click", preventDefault);
          this.expand();
          var that = this;
          setTimeout(function() {
            off(section, "click", preventDefault);
            that._preventClick = false;
          });
        }
      });
      var layers = function(baseLayers, overlays, options) {
        return new Layers(baseLayers, overlays, options);
      };
      var Zoom = Control.extend({
        // @section
        // @aka Control.Zoom options
        options: {
          position: "topleft",
          // @option zoomInText: String = '<span aria-hidden="true">+</span>'
          // The text set on the 'zoom in' button.
          zoomInText: '<span aria-hidden="true">+</span>',
          // @option zoomInTitle: String = 'Zoom in'
          // The title set on the 'zoom in' button.
          zoomInTitle: "Zoom in",
          // @option zoomOutText: String = '<span aria-hidden="true">&#x2212;</span>'
          // The text set on the 'zoom out' button.
          zoomOutText: '<span aria-hidden="true">&#x2212;</span>',
          // @option zoomOutTitle: String = 'Zoom out'
          // The title set on the 'zoom out' button.
          zoomOutTitle: "Zoom out"
        },
        onAdd: function(map2) {
          var zoomName = "leaflet-control-zoom", container = create$1("div", zoomName + " leaflet-bar"), options = this.options;
          this._zoomInButton = this._createButton(
            options.zoomInText,
            options.zoomInTitle,
            zoomName + "-in",
            container,
            this._zoomIn
          );
          this._zoomOutButton = this._createButton(
            options.zoomOutText,
            options.zoomOutTitle,
            zoomName + "-out",
            container,
            this._zoomOut
          );
          this._updateDisabled();
          map2.on("zoomend zoomlevelschange", this._updateDisabled, this);
          return container;
        },
        onRemove: function(map2) {
          map2.off("zoomend zoomlevelschange", this._updateDisabled, this);
        },
        disable: function() {
          this._disabled = true;
          this._updateDisabled();
          return this;
        },
        enable: function() {
          this._disabled = false;
          this._updateDisabled();
          return this;
        },
        _zoomIn: function(e) {
          if (!this._disabled && this._map._zoom < this._map.getMaxZoom()) {
            this._map.zoomIn(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));
          }
        },
        _zoomOut: function(e) {
          if (!this._disabled && this._map._zoom > this._map.getMinZoom()) {
            this._map.zoomOut(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));
          }
        },
        _createButton: function(html, title, className, container, fn) {
          var link = create$1("a", className, container);
          link.innerHTML = html;
          link.href = "#";
          link.title = title;
          link.setAttribute("role", "button");
          link.setAttribute("aria-label", title);
          disableClickPropagation(link);
          on(link, "click", stop);
          on(link, "click", fn, this);
          on(link, "click", this._refocusOnMap, this);
          return link;
        },
        _updateDisabled: function() {
          var map2 = this._map, className = "leaflet-disabled";
          removeClass(this._zoomInButton, className);
          removeClass(this._zoomOutButton, className);
          this._zoomInButton.setAttribute("aria-disabled", "false");
          this._zoomOutButton.setAttribute("aria-disabled", "false");
          if (this._disabled || map2._zoom === map2.getMinZoom()) {
            addClass(this._zoomOutButton, className);
            this._zoomOutButton.setAttribute("aria-disabled", "true");
          }
          if (this._disabled || map2._zoom === map2.getMaxZoom()) {
            addClass(this._zoomInButton, className);
            this._zoomInButton.setAttribute("aria-disabled", "true");
          }
        }
      });
      Map2.mergeOptions({
        zoomControl: true
      });
      Map2.addInitHook(function() {
        if (this.options.zoomControl) {
          this.zoomControl = new Zoom();
          this.addControl(this.zoomControl);
        }
      });
      var zoom = function(options) {
        return new Zoom(options);
      };
      var Scale = Control.extend({
        // @section
        // @aka Control.Scale options
        options: {
          position: "bottomleft",
          // @option maxWidth: Number = 100
          // Maximum width of the control in pixels. The width is set dynamically to show round values (e.g. 100, 200, 500).
          maxWidth: 100,
          // @option metric: Boolean = True
          // Whether to show the metric scale line (m/km).
          metric: true,
          // @option imperial: Boolean = True
          // Whether to show the imperial scale line (mi/ft).
          imperial: true
          // @option updateWhenIdle: Boolean = false
          // If `true`, the control is updated on [`moveend`](#map-moveend), otherwise it's always up-to-date (updated on [`move`](#map-move)).
        },
        onAdd: function(map2) {
          var className = "leaflet-control-scale", container = create$1("div", className), options = this.options;
          this._addScales(options, className + "-line", container);
          map2.on(options.updateWhenIdle ? "moveend" : "move", this._update, this);
          map2.whenReady(this._update, this);
          return container;
        },
        onRemove: function(map2) {
          map2.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this);
        },
        _addScales: function(options, className, container) {
          if (options.metric) {
            this._mScale = create$1("div", className, container);
          }
          if (options.imperial) {
            this._iScale = create$1("div", className, container);
          }
        },
        _update: function() {
          var map2 = this._map, y = map2.getSize().y / 2;
          var maxMeters = map2.distance(
            map2.containerPointToLatLng([0, y]),
            map2.containerPointToLatLng([this.options.maxWidth, y])
          );
          this._updateScales(maxMeters);
        },
        _updateScales: function(maxMeters) {
          if (this.options.metric && maxMeters) {
            this._updateMetric(maxMeters);
          }
          if (this.options.imperial && maxMeters) {
            this._updateImperial(maxMeters);
          }
        },
        _updateMetric: function(maxMeters) {
          var meters = this._getRoundNum(maxMeters), label = meters < 1e3 ? meters + " m" : meters / 1e3 + " km";
          this._updateScale(this._mScale, label, meters / maxMeters);
        },
        _updateImperial: function(maxMeters) {
          var maxFeet = maxMeters * 3.2808399, maxMiles, miles, feet;
          if (maxFeet > 5280) {
            maxMiles = maxFeet / 5280;
            miles = this._getRoundNum(maxMiles);
            this._updateScale(this._iScale, miles + " mi", miles / maxMiles);
          } else {
            feet = this._getRoundNum(maxFeet);
            this._updateScale(this._iScale, feet + " ft", feet / maxFeet);
          }
        },
        _updateScale: function(scale2, text, ratio) {
          scale2.style.width = Math.round(this.options.maxWidth * ratio) + "px";
          scale2.innerHTML = text;
        },
        _getRoundNum: function(num) {
          var pow10 = Math.pow(10, (Math.floor(num) + "").length - 1), d = num / pow10;
          d = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;
          return pow10 * d;
        }
      });
      var scale = function(options) {
        return new Scale(options);
      };
      var ukrainianFlag = '<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>';
      var Attribution = Control.extend({
        // @section
        // @aka Control.Attribution options
        options: {
          position: "bottomright",
          // @option prefix: String|false = 'Leaflet'
          // The HTML text shown before the attributions. Pass `false` to disable.
          prefix: '<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">' + (Browser.inlineSvg ? ukrainianFlag + " " : "") + "Leaflet</a>"
        },
        initialize: function(options) {
          setOptions(this, options);
          this._attributions = {};
        },
        onAdd: function(map2) {
          map2.attributionControl = this;
          this._container = create$1("div", "leaflet-control-attribution");
          disableClickPropagation(this._container);
          for (var i in map2._layers) {
            if (map2._layers[i].getAttribution) {
              this.addAttribution(map2._layers[i].getAttribution());
            }
          }
          this._update();
          map2.on("layeradd", this._addAttribution, this);
          return this._container;
        },
        onRemove: function(map2) {
          map2.off("layeradd", this._addAttribution, this);
        },
        _addAttribution: function(ev) {
          if (ev.layer.getAttribution) {
            this.addAttribution(ev.layer.getAttribution());
            ev.layer.once("remove", function() {
              this.removeAttribution(ev.layer.getAttribution());
            }, this);
          }
        },
        // @method setPrefix(prefix: String|false): this
        // The HTML text shown before the attributions. Pass `false` to disable.
        setPrefix: function(prefix) {
          this.options.prefix = prefix;
          this._update();
          return this;
        },
        // @method addAttribution(text: String): this
        // Adds an attribution text (e.g. `'&copy; OpenStreetMap contributors'`).
        addAttribution: function(text) {
          if (!text) {
            return this;
          }
          if (!this._attributions[text]) {
            this._attributions[text] = 0;
          }
          this._attributions[text]++;
          this._update();
          return this;
        },
        // @method removeAttribution(text: String): this
        // Removes an attribution text.
        removeAttribution: function(text) {
          if (!text) {
            return this;
          }
          if (this._attributions[text]) {
            this._attributions[text]--;
            this._update();
          }
          return this;
        },
        _update: function() {
          if (!this._map) {
            return;
          }
          var attribs = [];
          for (var i in this._attributions) {
            if (this._attributions[i]) {
              attribs.push(i);
            }
          }
          var prefixAndAttribs = [];
          if (this.options.prefix) {
            prefixAndAttribs.push(this.options.prefix);
          }
          if (attribs.length) {
            prefixAndAttribs.push(attribs.join(", "));
          }
          this._container.innerHTML = prefixAndAttribs.join(' <span aria-hidden="true">|</span> ');
        }
      });
      Map2.mergeOptions({
        attributionControl: true
      });
      Map2.addInitHook(function() {
        if (this.options.attributionControl) {
          new Attribution().addTo(this);
        }
      });
      var attribution = function(options) {
        return new Attribution(options);
      };
      Control.Layers = Layers;
      Control.Zoom = Zoom;
      Control.Scale = Scale;
      Control.Attribution = Attribution;
      control.layers = layers;
      control.zoom = zoom;
      control.scale = scale;
      control.attribution = attribution;
      var Handler = Class.extend({
        initialize: function(map2) {
          this._map = map2;
        },
        // @method enable(): this
        // Enables the handler
        enable: function() {
          if (this._enabled) {
            return this;
          }
          this._enabled = true;
          this.addHooks();
          return this;
        },
        // @method disable(): this
        // Disables the handler
        disable: function() {
          if (!this._enabled) {
            return this;
          }
          this._enabled = false;
          this.removeHooks();
          return this;
        },
        // @method enabled(): Boolean
        // Returns `true` if the handler is enabled
        enabled: function() {
          return !!this._enabled;
        }
        // @section Extension methods
        // Classes inheriting from `Handler` must implement the two following methods:
        // @method addHooks()
        // Called when the handler is enabled, should add event hooks.
        // @method removeHooks()
        // Called when the handler is disabled, should remove the event hooks added previously.
      });
      Handler.addTo = function(map2, name) {
        map2.addHandler(name, this);
        return this;
      };
      var Mixin = { Events };
      var START = Browser.touch ? "touchstart mousedown" : "mousedown";
      var Draggable = Evented.extend({
        options: {
          // @section
          // @aka Draggable options
          // @option clickTolerance: Number = 3
          // The max number of pixels a user can shift the mouse pointer during a click
          // for it to be considered a valid click (as opposed to a mouse drag).
          clickTolerance: 3
        },
        // @constructor L.Draggable(el: HTMLElement, dragHandle?: HTMLElement, preventOutline?: Boolean, options?: Draggable options)
        // Creates a `Draggable` object for moving `el` when you start dragging the `dragHandle` element (equals `el` itself by default).
        initialize: function(element, dragStartTarget, preventOutline2, options) {
          setOptions(this, options);
          this._element = element;
          this._dragStartTarget = dragStartTarget || element;
          this._preventOutline = preventOutline2;
        },
        // @method enable()
        // Enables the dragging ability
        enable: function() {
          if (this._enabled) {
            return;
          }
          on(this._dragStartTarget, START, this._onDown, this);
          this._enabled = true;
        },
        // @method disable()
        // Disables the dragging ability
        disable: function() {
          if (!this._enabled) {
            return;
          }
          if (Draggable._dragging === this) {
            this.finishDrag(true);
          }
          off(this._dragStartTarget, START, this._onDown, this);
          this._enabled = false;
          this._moved = false;
        },
        _onDown: function(e) {
          if (!this._enabled) {
            return;
          }
          this._moved = false;
          if (hasClass(this._element, "leaflet-zoom-anim")) {
            return;
          }
          if (e.touches && e.touches.length !== 1) {
            if (Draggable._dragging === this) {
              this.finishDrag();
            }
            return;
          }
          if (Draggable._dragging || e.shiftKey || e.which !== 1 && e.button !== 1 && !e.touches) {
            return;
          }
          Draggable._dragging = this;
          if (this._preventOutline) {
            preventOutline(this._element);
          }
          disableImageDrag();
          disableTextSelection();
          if (this._moving) {
            return;
          }
          this.fire("down");
          var first = e.touches ? e.touches[0] : e, sizedParent = getSizedParentNode(this._element);
          this._startPoint = new Point(first.clientX, first.clientY);
          this._startPos = getPosition(this._element);
          this._parentScale = getScale(sizedParent);
          var mouseevent = e.type === "mousedown";
          on(document, mouseevent ? "mousemove" : "touchmove", this._onMove, this);
          on(document, mouseevent ? "mouseup" : "touchend touchcancel", this._onUp, this);
        },
        _onMove: function(e) {
          if (!this._enabled) {
            return;
          }
          if (e.touches && e.touches.length > 1) {
            this._moved = true;
            return;
          }
          var first = e.touches && e.touches.length === 1 ? e.touches[0] : e, offset = new Point(first.clientX, first.clientY)._subtract(this._startPoint);
          if (!offset.x && !offset.y) {
            return;
          }
          if (Math.abs(offset.x) + Math.abs(offset.y) < this.options.clickTolerance) {
            return;
          }
          offset.x /= this._parentScale.x;
          offset.y /= this._parentScale.y;
          preventDefault(e);
          if (!this._moved) {
            this.fire("dragstart");
            this._moved = true;
            addClass(document.body, "leaflet-dragging");
            this._lastTarget = e.target || e.srcElement;
            if (window.SVGElementInstance && this._lastTarget instanceof window.SVGElementInstance) {
              this._lastTarget = this._lastTarget.correspondingUseElement;
            }
            addClass(this._lastTarget, "leaflet-drag-target");
          }
          this._newPos = this._startPos.add(offset);
          this._moving = true;
          this._lastEvent = e;
          this._updatePosition();
        },
        _updatePosition: function() {
          var e = { originalEvent: this._lastEvent };
          this.fire("predrag", e);
          setPosition(this._element, this._newPos);
          this.fire("drag", e);
        },
        _onUp: function() {
          if (!this._enabled) {
            return;
          }
          this.finishDrag();
        },
        finishDrag: function(noInertia) {
          removeClass(document.body, "leaflet-dragging");
          if (this._lastTarget) {
            removeClass(this._lastTarget, "leaflet-drag-target");
            this._lastTarget = null;
          }
          off(document, "mousemove touchmove", this._onMove, this);
          off(document, "mouseup touchend touchcancel", this._onUp, this);
          enableImageDrag();
          enableTextSelection();
          var fireDragend = this._moved && this._moving;
          this._moving = false;
          Draggable._dragging = false;
          if (fireDragend) {
            this.fire("dragend", {
              noInertia,
              distance: this._newPos.distanceTo(this._startPos)
            });
          }
        }
      });
      function clipPolygon(points, bounds, round) {
        var clippedPoints, edges = [1, 4, 2, 8], i, j, k, a, b, len, edge2, p;
        for (i = 0, len = points.length; i < len; i++) {
          points[i]._code = _getBitCode(points[i], bounds);
        }
        for (k = 0; k < 4; k++) {
          edge2 = edges[k];
          clippedPoints = [];
          for (i = 0, len = points.length, j = len - 1; i < len; j = i++) {
            a = points[i];
            b = points[j];
            if (!(a._code & edge2)) {
              if (b._code & edge2) {
                p = _getEdgeIntersection(b, a, edge2, bounds, round);
                p._code = _getBitCode(p, bounds);
                clippedPoints.push(p);
              }
              clippedPoints.push(a);
            } else if (!(b._code & edge2)) {
              p = _getEdgeIntersection(b, a, edge2, bounds, round);
              p._code = _getBitCode(p, bounds);
              clippedPoints.push(p);
            }
          }
          points = clippedPoints;
        }
        return points;
      }
      function polygonCenter(latlngs, crs) {
        var i, j, p1, p2, f, area, x, y, center;
        if (!latlngs || latlngs.length === 0) {
          throw new Error("latlngs not passed");
        }
        if (!isFlat(latlngs)) {
          console.warn("latlngs are not flat! Only the first ring will be used");
          latlngs = latlngs[0];
        }
        var centroidLatLng = toLatLng([0, 0]);
        var bounds = toLatLngBounds(latlngs);
        var areaBounds = bounds.getNorthWest().distanceTo(bounds.getSouthWest()) * bounds.getNorthEast().distanceTo(bounds.getNorthWest());
        if (areaBounds < 1700) {
          centroidLatLng = centroid(latlngs);
        }
        var len = latlngs.length;
        var points = [];
        for (i = 0; i < len; i++) {
          var latlng = toLatLng(latlngs[i]);
          points.push(crs.project(toLatLng([latlng.lat - centroidLatLng.lat, latlng.lng - centroidLatLng.lng])));
        }
        area = x = y = 0;
        for (i = 0, j = len - 1; i < len; j = i++) {
          p1 = points[i];
          p2 = points[j];
          f = p1.y * p2.x - p2.y * p1.x;
          x += (p1.x + p2.x) * f;
          y += (p1.y + p2.y) * f;
          area += f * 3;
        }
        if (area === 0) {
          center = points[0];
        } else {
          center = [x / area, y / area];
        }
        var latlngCenter = crs.unproject(toPoint(center));
        return toLatLng([latlngCenter.lat + centroidLatLng.lat, latlngCenter.lng + centroidLatLng.lng]);
      }
      function centroid(coords) {
        var latSum = 0;
        var lngSum = 0;
        var len = 0;
        for (var i = 0; i < coords.length; i++) {
          var latlng = toLatLng(coords[i]);
          latSum += latlng.lat;
          lngSum += latlng.lng;
          len++;
        }
        return toLatLng([latSum / len, lngSum / len]);
      }
      var PolyUtil = {
        __proto__: null,
        clipPolygon,
        polygonCenter,
        centroid
      };
      function simplify(points, tolerance) {
        if (!tolerance || !points.length) {
          return points.slice();
        }
        var sqTolerance = tolerance * tolerance;
        points = _reducePoints(points, sqTolerance);
        points = _simplifyDP(points, sqTolerance);
        return points;
      }
      function pointToSegmentDistance(p, p1, p2) {
        return Math.sqrt(_sqClosestPointOnSegment(p, p1, p2, true));
      }
      function closestPointOnSegment(p, p1, p2) {
        return _sqClosestPointOnSegment(p, p1, p2);
      }
      function _simplifyDP(points, sqTolerance) {
        var len = points.length, ArrayConstructor = typeof Uint8Array !== "undefined" ? Uint8Array : Array, markers = new ArrayConstructor(len);
        markers[0] = markers[len - 1] = 1;
        _simplifyDPStep(points, markers, sqTolerance, 0, len - 1);
        var i, newPoints = [];
        for (i = 0; i < len; i++) {
          if (markers[i]) {
            newPoints.push(points[i]);
          }
        }
        return newPoints;
      }
      function _simplifyDPStep(points, markers, sqTolerance, first, last) {
        var maxSqDist = 0, index2, i, sqDist;
        for (i = first + 1; i <= last - 1; i++) {
          sqDist = _sqClosestPointOnSegment(points[i], points[first], points[last], true);
          if (sqDist > maxSqDist) {
            index2 = i;
            maxSqDist = sqDist;
          }
        }
        if (maxSqDist > sqTolerance) {
          markers[index2] = 1;
          _simplifyDPStep(points, markers, sqTolerance, first, index2);
          _simplifyDPStep(points, markers, sqTolerance, index2, last);
        }
      }
      function _reducePoints(points, sqTolerance) {
        var reducedPoints = [points[0]];
        for (var i = 1, prev = 0, len = points.length; i < len; i++) {
          if (_sqDist(points[i], points[prev]) > sqTolerance) {
            reducedPoints.push(points[i]);
            prev = i;
          }
        }
        if (prev < len - 1) {
          reducedPoints.push(points[len - 1]);
        }
        return reducedPoints;
      }
      var _lastCode;
      function clipSegment(a, b, bounds, useLastCode, round) {
        var codeA = useLastCode ? _lastCode : _getBitCode(a, bounds), codeB = _getBitCode(b, bounds), codeOut, p, newCode;
        _lastCode = codeB;
        while (true) {
          if (!(codeA | codeB)) {
            return [a, b];
          }
          if (codeA & codeB) {
            return false;
          }
          codeOut = codeA || codeB;
          p = _getEdgeIntersection(a, b, codeOut, bounds, round);
          newCode = _getBitCode(p, bounds);
          if (codeOut === codeA) {
            a = p;
            codeA = newCode;
          } else {
            b = p;
            codeB = newCode;
          }
        }
      }
      function _getEdgeIntersection(a, b, code, bounds, round) {
        var dx = b.x - a.x, dy = b.y - a.y, min = bounds.min, max = bounds.max, x, y;
        if (code & 8) {
          x = a.x + dx * (max.y - a.y) / dy;
          y = max.y;
        } else if (code & 4) {
          x = a.x + dx * (min.y - a.y) / dy;
          y = min.y;
        } else if (code & 2) {
          x = max.x;
          y = a.y + dy * (max.x - a.x) / dx;
        } else if (code & 1) {
          x = min.x;
          y = a.y + dy * (min.x - a.x) / dx;
        }
        return new Point(x, y, round);
      }
      function _getBitCode(p, bounds) {
        var code = 0;
        if (p.x < bounds.min.x) {
          code |= 1;
        } else if (p.x > bounds.max.x) {
          code |= 2;
        }
        if (p.y < bounds.min.y) {
          code |= 4;
        } else if (p.y > bounds.max.y) {
          code |= 8;
        }
        return code;
      }
      function _sqDist(p1, p2) {
        var dx = p2.x - p1.x, dy = p2.y - p1.y;
        return dx * dx + dy * dy;
      }
      function _sqClosestPointOnSegment(p, p1, p2, sqDist) {
        var x = p1.x, y = p1.y, dx = p2.x - x, dy = p2.y - y, dot = dx * dx + dy * dy, t;
        if (dot > 0) {
          t = ((p.x - x) * dx + (p.y - y) * dy) / dot;
          if (t > 1) {
            x = p2.x;
            y = p2.y;
          } else if (t > 0) {
            x += dx * t;
            y += dy * t;
          }
        }
        dx = p.x - x;
        dy = p.y - y;
        return sqDist ? dx * dx + dy * dy : new Point(x, y);
      }
      function isFlat(latlngs) {
        return !isArray(latlngs[0]) || typeof latlngs[0][0] !== "object" && typeof latlngs[0][0] !== "undefined";
      }
      function _flat(latlngs) {
        console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");
        return isFlat(latlngs);
      }
      function polylineCenter(latlngs, crs) {
        var i, halfDist, segDist, dist, p1, p2, ratio, center;
        if (!latlngs || latlngs.length === 0) {
          throw new Error("latlngs not passed");
        }
        if (!isFlat(latlngs)) {
          console.warn("latlngs are not flat! Only the first ring will be used");
          latlngs = latlngs[0];
        }
        var centroidLatLng = toLatLng([0, 0]);
        var bounds = toLatLngBounds(latlngs);
        var areaBounds = bounds.getNorthWest().distanceTo(bounds.getSouthWest()) * bounds.getNorthEast().distanceTo(bounds.getNorthWest());
        if (areaBounds < 1700) {
          centroidLatLng = centroid(latlngs);
        }
        var len = latlngs.length;
        var points = [];
        for (i = 0; i < len; i++) {
          var latlng = toLatLng(latlngs[i]);
          points.push(crs.project(toLatLng([latlng.lat - centroidLatLng.lat, latlng.lng - centroidLatLng.lng])));
        }
        for (i = 0, halfDist = 0; i < len - 1; i++) {
          halfDist += points[i].distanceTo(points[i + 1]) / 2;
        }
        if (halfDist === 0) {
          center = points[0];
        } else {
          for (i = 0, dist = 0; i < len - 1; i++) {
            p1 = points[i];
            p2 = points[i + 1];
            segDist = p1.distanceTo(p2);
            dist += segDist;
            if (dist > halfDist) {
              ratio = (dist - halfDist) / segDist;
              center = [
                p2.x - ratio * (p2.x - p1.x),
                p2.y - ratio * (p2.y - p1.y)
              ];
              break;
            }
          }
        }
        var latlngCenter = crs.unproject(toPoint(center));
        return toLatLng([latlngCenter.lat + centroidLatLng.lat, latlngCenter.lng + centroidLatLng.lng]);
      }
      var LineUtil = {
        __proto__: null,
        simplify,
        pointToSegmentDistance,
        closestPointOnSegment,
        clipSegment,
        _getEdgeIntersection,
        _getBitCode,
        _sqClosestPointOnSegment,
        isFlat,
        _flat,
        polylineCenter
      };
      var LonLat = {
        project: function(latlng) {
          return new Point(latlng.lng, latlng.lat);
        },
        unproject: function(point) {
          return new LatLng2(point.y, point.x);
        },
        bounds: new Bounds([-180, -90], [180, 90])
      };
      var Mercator = {
        R: 6378137,
        R_MINOR: 6356752314245179e-9,
        bounds: new Bounds([-2003750834279e-5, -1549657073972e-5], [2003750834279e-5, 1876465623138e-5]),
        project: function(latlng) {
          var d = Math.PI / 180, r = this.R, y = latlng.lat * d, tmp = this.R_MINOR / r, e = Math.sqrt(1 - tmp * tmp), con = e * Math.sin(y);
          var ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);
          y = -r * Math.log(Math.max(ts, 1e-10));
          return new Point(latlng.lng * d * r, y);
        },
        unproject: function(point) {
          var d = 180 / Math.PI, r = this.R, tmp = this.R_MINOR / r, e = Math.sqrt(1 - tmp * tmp), ts = Math.exp(-point.y / r), phi = Math.PI / 2 - 2 * Math.atan(ts);
          for (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {
            con = e * Math.sin(phi);
            con = Math.pow((1 - con) / (1 + con), e / 2);
            dphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;
            phi += dphi;
          }
          return new LatLng2(phi * d, point.x * d / r);
        }
      };
      var index = {
        __proto__: null,
        LonLat,
        Mercator,
        SphericalMercator
      };
      var EPSG3395 = extend({}, Earth, {
        code: "EPSG:3395",
        projection: Mercator,
        transformation: function() {
          var scale2 = 0.5 / (Math.PI * Mercator.R);
          return toTransformation(scale2, 0.5, -scale2, 0.5);
        }()
      });
      var EPSG4326 = extend({}, Earth, {
        code: "EPSG:4326",
        projection: LonLat,
        transformation: toTransformation(1 / 180, 1, -1 / 180, 0.5)
      });
      var Simple = extend({}, CRS, {
        projection: LonLat,
        transformation: toTransformation(1, 0, -1, 0),
        scale: function(zoom2) {
          return Math.pow(2, zoom2);
        },
        zoom: function(scale2) {
          return Math.log(scale2) / Math.LN2;
        },
        distance: function(latlng1, latlng2) {
          var dx = latlng2.lng - latlng1.lng, dy = latlng2.lat - latlng1.lat;
          return Math.sqrt(dx * dx + dy * dy);
        },
        infinite: true
      });
      CRS.Earth = Earth;
      CRS.EPSG3395 = EPSG3395;
      CRS.EPSG3857 = EPSG3857;
      CRS.EPSG900913 = EPSG900913;
      CRS.EPSG4326 = EPSG4326;
      CRS.Simple = Simple;
      var Layer = Evented.extend({
        // Classes extending `L.Layer` will inherit the following options:
        options: {
          // @option pane: String = 'overlayPane'
          // By default the layer will be added to the map's [overlay pane](#map-overlaypane). Overriding this option will cause the layer to be placed on another pane by default.
          pane: "overlayPane",
          // @option attribution: String = null
          // String to be shown in the attribution control, e.g. "© OpenStreetMap contributors". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.
          attribution: null,
          bubblingMouseEvents: true
        },
        /* @section
         * Classes extending `L.Layer` will inherit the following methods:
         *
         * @method addTo(map: Map|LayerGroup): this
         * Adds the layer to the given map or layer group.
         */
        addTo: function(map2) {
          map2.addLayer(this);
          return this;
        },
        // @method remove: this
        // Removes the layer from the map it is currently active on.
        remove: function() {
          return this.removeFrom(this._map || this._mapToAdd);
        },
        // @method removeFrom(map: Map): this
        // Removes the layer from the given map
        //
        // @alternative
        // @method removeFrom(group: LayerGroup): this
        // Removes the layer from the given `LayerGroup`
        removeFrom: function(obj) {
          if (obj) {
            obj.removeLayer(this);
          }
          return this;
        },
        // @method getPane(name? : String): HTMLElement
        // Returns the `HTMLElement` representing the named pane on the map. If `name` is omitted, returns the pane for this layer.
        getPane: function(name) {
          return this._map.getPane(name ? this.options[name] || name : this.options.pane);
        },
        addInteractiveTarget: function(targetEl) {
          this._map._targets[stamp(targetEl)] = this;
          return this;
        },
        removeInteractiveTarget: function(targetEl) {
          delete this._map._targets[stamp(targetEl)];
          return this;
        },
        // @method getAttribution: String
        // Used by the `attribution control`, returns the [attribution option](#gridlayer-attribution).
        getAttribution: function() {
          return this.options.attribution;
        },
        _layerAdd: function(e) {
          var map2 = e.target;
          if (!map2.hasLayer(this)) {
            return;
          }
          this._map = map2;
          this._zoomAnimated = map2._zoomAnimated;
          if (this.getEvents) {
            var events = this.getEvents();
            map2.on(events, this);
            this.once("remove", function() {
              map2.off(events, this);
            }, this);
          }
          this.onAdd(map2);
          this.fire("add");
          map2.fire("layeradd", { layer: this });
        }
      });
      Map2.include({
        // @method addLayer(layer: Layer): this
        // Adds the given layer to the map
        addLayer: function(layer) {
          if (!layer._layerAdd) {
            throw new Error("The provided object is not a Layer.");
          }
          var id = stamp(layer);
          if (this._layers[id]) {
            return this;
          }
          this._layers[id] = layer;
          layer._mapToAdd = this;
          if (layer.beforeAdd) {
            layer.beforeAdd(this);
          }
          this.whenReady(layer._layerAdd, layer);
          return this;
        },
        // @method removeLayer(layer: Layer): this
        // Removes the given layer from the map.
        removeLayer: function(layer) {
          var id = stamp(layer);
          if (!this._layers[id]) {
            return this;
          }
          if (this._loaded) {
            layer.onRemove(this);
          }
          delete this._layers[id];
          if (this._loaded) {
            this.fire("layerremove", { layer });
            layer.fire("remove");
          }
          layer._map = layer._mapToAdd = null;
          return this;
        },
        // @method hasLayer(layer: Layer): Boolean
        // Returns `true` if the given layer is currently added to the map
        hasLayer: function(layer) {
          return stamp(layer) in this._layers;
        },
        /* @method eachLayer(fn: Function, context?: Object): this
         * Iterates over the layers of the map, optionally specifying context of the iterator function.
         * ```
         * map.eachLayer(function(layer){
         *     layer.bindPopup('Hello');
         * });
         * ```
         */
        eachLayer: function(method, context) {
          for (var i in this._layers) {
            method.call(context, this._layers[i]);
          }
          return this;
        },
        _addLayers: function(layers2) {
          layers2 = layers2 ? isArray(layers2) ? layers2 : [layers2] : [];
          for (var i = 0, len = layers2.length; i < len; i++) {
            this.addLayer(layers2[i]);
          }
        },
        _addZoomLimit: function(layer) {
          if (!isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom)) {
            this._zoomBoundLayers[stamp(layer)] = layer;
            this._updateZoomLevels();
          }
        },
        _removeZoomLimit: function(layer) {
          var id = stamp(layer);
          if (this._zoomBoundLayers[id]) {
            delete this._zoomBoundLayers[id];
            this._updateZoomLevels();
          }
        },
        _updateZoomLevels: function() {
          var minZoom = Infinity, maxZoom = -Infinity, oldZoomSpan = this._getZoomSpan();
          for (var i in this._zoomBoundLayers) {
            var options = this._zoomBoundLayers[i].options;
            minZoom = options.minZoom === void 0 ? minZoom : Math.min(minZoom, options.minZoom);
            maxZoom = options.maxZoom === void 0 ? maxZoom : Math.max(maxZoom, options.maxZoom);
          }
          this._layersMaxZoom = maxZoom === -Infinity ? void 0 : maxZoom;
          this._layersMinZoom = minZoom === Infinity ? void 0 : minZoom;
          if (oldZoomSpan !== this._getZoomSpan()) {
            this.fire("zoomlevelschange");
          }
          if (this.options.maxZoom === void 0 && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom) {
            this.setZoom(this._layersMaxZoom);
          }
          if (this.options.minZoom === void 0 && this._layersMinZoom && this.getZoom() < this._layersMinZoom) {
            this.setZoom(this._layersMinZoom);
          }
        }
      });
      var LayerGroup = Layer.extend({
        initialize: function(layers2, options) {
          setOptions(this, options);
          this._layers = {};
          var i, len;
          if (layers2) {
            for (i = 0, len = layers2.length; i < len; i++) {
              this.addLayer(layers2[i]);
            }
          }
        },
        // @method addLayer(layer: Layer): this
        // Adds the given layer to the group.
        addLayer: function(layer) {
          var id = this.getLayerId(layer);
          this._layers[id] = layer;
          if (this._map) {
            this._map.addLayer(layer);
          }
          return this;
        },
        // @method removeLayer(layer: Layer): this
        // Removes the given layer from the group.
        // @alternative
        // @method removeLayer(id: Number): this
        // Removes the layer with the given internal ID from the group.
        removeLayer: function(layer) {
          var id = layer in this._layers ? layer : this.getLayerId(layer);
          if (this._map && this._layers[id]) {
            this._map.removeLayer(this._layers[id]);
          }
          delete this._layers[id];
          return this;
        },
        // @method hasLayer(layer: Layer): Boolean
        // Returns `true` if the given layer is currently added to the group.
        // @alternative
        // @method hasLayer(id: Number): Boolean
        // Returns `true` if the given internal ID is currently added to the group.
        hasLayer: function(layer) {
          var layerId = typeof layer === "number" ? layer : this.getLayerId(layer);
          return layerId in this._layers;
        },
        // @method clearLayers(): this
        // Removes all the layers from the group.
        clearLayers: function() {
          return this.eachLayer(this.removeLayer, this);
        },
        // @method invoke(methodName: String, …): this
        // Calls `methodName` on every layer contained in this group, passing any
        // additional parameters. Has no effect if the layers contained do not
        // implement `methodName`.
        invoke: function(methodName) {
          var args = Array.prototype.slice.call(arguments, 1), i, layer;
          for (i in this._layers) {
            layer = this._layers[i];
            if (layer[methodName]) {
              layer[methodName].apply(layer, args);
            }
          }
          return this;
        },
        onAdd: function(map2) {
          this.eachLayer(map2.addLayer, map2);
        },
        onRemove: function(map2) {
          this.eachLayer(map2.removeLayer, map2);
        },
        // @method eachLayer(fn: Function, context?: Object): this
        // Iterates over the layers of the group, optionally specifying context of the iterator function.
        // ```js
        // group.eachLayer(function (layer) {
        // 	layer.bindPopup('Hello');
        // });
        // ```
        eachLayer: function(method, context) {
          for (var i in this._layers) {
            method.call(context, this._layers[i]);
          }
          return this;
        },
        // @method getLayer(id: Number): Layer
        // Returns the layer with the given internal ID.
        getLayer: function(id) {
          return this._layers[id];
        },
        // @method getLayers(): Layer[]
        // Returns an array of all the layers added to the group.
        getLayers: function() {
          var layers2 = [];
          this.eachLayer(layers2.push, layers2);
          return layers2;
        },
        // @method setZIndex(zIndex: Number): this
        // Calls `setZIndex` on every layer contained in this group, passing the z-index.
        setZIndex: function(zIndex) {
          return this.invoke("setZIndex", zIndex);
        },
        // @method getLayerId(layer: Layer): Number
        // Returns the internal ID for a layer
        getLayerId: function(layer) {
          return stamp(layer);
        }
      });
      var layerGroup = function(layers2, options) {
        return new LayerGroup(layers2, options);
      };
      var FeatureGroup2 = LayerGroup.extend({
        addLayer: function(layer) {
          if (this.hasLayer(layer)) {
            return this;
          }
          layer.addEventParent(this);
          LayerGroup.prototype.addLayer.call(this, layer);
          return this.fire("layeradd", { layer });
        },
        removeLayer: function(layer) {
          if (!this.hasLayer(layer)) {
            return this;
          }
          if (layer in this._layers) {
            layer = this._layers[layer];
          }
          layer.removeEventParent(this);
          LayerGroup.prototype.removeLayer.call(this, layer);
          return this.fire("layerremove", { layer });
        },
        // @method setStyle(style: Path options): this
        // Sets the given path options to each layer of the group that has a `setStyle` method.
        setStyle: function(style2) {
          return this.invoke("setStyle", style2);
        },
        // @method bringToFront(): this
        // Brings the layer group to the top of all other layers
        bringToFront: function() {
          return this.invoke("bringToFront");
        },
        // @method bringToBack(): this
        // Brings the layer group to the back of all other layers
        bringToBack: function() {
          return this.invoke("bringToBack");
        },
        // @method getBounds(): LatLngBounds
        // Returns the LatLngBounds of the Feature Group (created from bounds and coordinates of its children).
        getBounds: function() {
          var bounds = new LatLngBounds();
          for (var id in this._layers) {
            var layer = this._layers[id];
            bounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());
          }
          return bounds;
        }
      });
      var featureGroup = function(layers2, options) {
        return new FeatureGroup2(layers2, options);
      };
      var Icon = Class.extend({
        /* @section
         * @aka Icon options
         *
         * @option iconUrl: String = null
         * **(required)** The URL to the icon image (absolute or relative to your script path).
         *
         * @option iconRetinaUrl: String = null
         * The URL to a retina sized version of the icon image (absolute or relative to your
         * script path). Used for Retina screen devices.
         *
         * @option iconSize: Point = null
         * Size of the icon image in pixels.
         *
         * @option iconAnchor: Point = null
         * The coordinates of the "tip" of the icon (relative to its top left corner). The icon
         * will be aligned so that this point is at the marker's geographical location. Centered
         * by default if size is specified, also can be set in CSS with negative margins.
         *
         * @option popupAnchor: Point = [0, 0]
         * The coordinates of the point from which popups will "open", relative to the icon anchor.
         *
         * @option tooltipAnchor: Point = [0, 0]
         * The coordinates of the point from which tooltips will "open", relative to the icon anchor.
         *
         * @option shadowUrl: String = null
         * The URL to the icon shadow image. If not specified, no shadow image will be created.
         *
         * @option shadowRetinaUrl: String = null
         *
         * @option shadowSize: Point = null
         * Size of the shadow image in pixels.
         *
         * @option shadowAnchor: Point = null
         * The coordinates of the "tip" of the shadow (relative to its top left corner) (the same
         * as iconAnchor if not specified).
         *
         * @option className: String = ''
         * A custom class name to assign to both icon and shadow images. Empty by default.
         */
        options: {
          popupAnchor: [0, 0],
          tooltipAnchor: [0, 0],
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the tiles.
          // If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        // @method createIcon(oldIcon?: HTMLElement): HTMLElement
        // Called internally when the icon has to be shown, returns a `<img>` HTML element
        // styled according to the options.
        createIcon: function(oldIcon) {
          return this._createIcon("icon", oldIcon);
        },
        // @method createShadow(oldIcon?: HTMLElement): HTMLElement
        // As `createIcon`, but for the shadow beneath it.
        createShadow: function(oldIcon) {
          return this._createIcon("shadow", oldIcon);
        },
        _createIcon: function(name, oldIcon) {
          var src = this._getIconUrl(name);
          if (!src) {
            if (name === "icon") {
              throw new Error("iconUrl not set in Icon options (see the docs).");
            }
            return null;
          }
          var img = this._createImg(src, oldIcon && oldIcon.tagName === "IMG" ? oldIcon : null);
          this._setIconStyles(img, name);
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            img.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          return img;
        },
        _setIconStyles: function(img, name) {
          var options = this.options;
          var sizeOption = options[name + "Size"];
          if (typeof sizeOption === "number") {
            sizeOption = [sizeOption, sizeOption];
          }
          var size = toPoint(sizeOption), anchor = toPoint(name === "shadow" && options.shadowAnchor || options.iconAnchor || size && size.divideBy(2, true));
          img.className = "leaflet-marker-" + name + " " + (options.className || "");
          if (anchor) {
            img.style.marginLeft = -anchor.x + "px";
            img.style.marginTop = -anchor.y + "px";
          }
          if (size) {
            img.style.width = size.x + "px";
            img.style.height = size.y + "px";
          }
        },
        _createImg: function(src, el) {
          el = el || document.createElement("img");
          el.src = src;
          return el;
        },
        _getIconUrl: function(name) {
          return Browser.retina && this.options[name + "RetinaUrl"] || this.options[name + "Url"];
        }
      });
      function icon2(options) {
        return new Icon(options);
      }
      var IconDefault = Icon.extend({
        options: {
          iconUrl: "marker-icon.png",
          iconRetinaUrl: "marker-icon-2x.png",
          shadowUrl: "marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          tooltipAnchor: [16, -28],
          shadowSize: [41, 41]
        },
        _getIconUrl: function(name) {
          if (typeof IconDefault.imagePath !== "string") {
            IconDefault.imagePath = this._detectIconPath();
          }
          return (this.options.imagePath || IconDefault.imagePath) + Icon.prototype._getIconUrl.call(this, name);
        },
        _stripUrl: function(path) {
          var strip = function(str, re, idx) {
            var match = re.exec(str);
            return match && match[idx];
          };
          path = strip(path, /^url\((['"])?(.+)\1\)$/, 2);
          return path && strip(path, /^(.*)marker-icon\.png$/, 1);
        },
        _detectIconPath: function() {
          var el = create$1("div", "leaflet-default-icon-path", document.body);
          var path = getStyle(el, "background-image") || getStyle(el, "backgroundImage");
          document.body.removeChild(el);
          path = this._stripUrl(path);
          if (path) {
            return path;
          }
          var link = document.querySelector('link[href$="leaflet.css"]');
          if (!link) {
            return "";
          }
          return link.href.substring(0, link.href.length - "leaflet.css".length - 1);
        }
      });
      var MarkerDrag = Handler.extend({
        initialize: function(marker3) {
          this._marker = marker3;
        },
        addHooks: function() {
          var icon3 = this._marker._icon;
          if (!this._draggable) {
            this._draggable = new Draggable(icon3, icon3, true);
          }
          this._draggable.on({
            dragstart: this._onDragStart,
            predrag: this._onPreDrag,
            drag: this._onDrag,
            dragend: this._onDragEnd
          }, this).enable();
          addClass(icon3, "leaflet-marker-draggable");
        },
        removeHooks: function() {
          this._draggable.off({
            dragstart: this._onDragStart,
            predrag: this._onPreDrag,
            drag: this._onDrag,
            dragend: this._onDragEnd
          }, this).disable();
          if (this._marker._icon) {
            removeClass(this._marker._icon, "leaflet-marker-draggable");
          }
        },
        moved: function() {
          return this._draggable && this._draggable._moved;
        },
        _adjustPan: function(e) {
          var marker3 = this._marker, map2 = marker3._map, speed = this._marker.options.autoPanSpeed, padding = this._marker.options.autoPanPadding, iconPos = getPosition(marker3._icon), bounds = map2.getPixelBounds(), origin = map2.getPixelOrigin();
          var panBounds = toBounds(
            bounds.min._subtract(origin).add(padding),
            bounds.max._subtract(origin).subtract(padding)
          );
          if (!panBounds.contains(iconPos)) {
            var movement = toPoint(
              (Math.max(panBounds.max.x, iconPos.x) - panBounds.max.x) / (bounds.max.x - panBounds.max.x) - (Math.min(panBounds.min.x, iconPos.x) - panBounds.min.x) / (bounds.min.x - panBounds.min.x),
              (Math.max(panBounds.max.y, iconPos.y) - panBounds.max.y) / (bounds.max.y - panBounds.max.y) - (Math.min(panBounds.min.y, iconPos.y) - panBounds.min.y) / (bounds.min.y - panBounds.min.y)
            ).multiplyBy(speed);
            map2.panBy(movement, { animate: false });
            this._draggable._newPos._add(movement);
            this._draggable._startPos._add(movement);
            setPosition(marker3._icon, this._draggable._newPos);
            this._onDrag(e);
            this._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));
          }
        },
        _onDragStart: function() {
          this._oldLatLng = this._marker.getLatLng();
          this._marker.closePopup && this._marker.closePopup();
          this._marker.fire("movestart").fire("dragstart");
        },
        _onPreDrag: function(e) {
          if (this._marker.options.autoPan) {
            cancelAnimFrame(this._panRequest);
            this._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));
          }
        },
        _onDrag: function(e) {
          var marker3 = this._marker, shadow = marker3._shadow, iconPos = getPosition(marker3._icon), latlng = marker3._map.layerPointToLatLng(iconPos);
          if (shadow) {
            setPosition(shadow, iconPos);
          }
          marker3._latlng = latlng;
          e.latlng = latlng;
          e.oldLatLng = this._oldLatLng;
          marker3.fire("move", e).fire("drag", e);
        },
        _onDragEnd: function(e) {
          cancelAnimFrame(this._panRequest);
          delete this._oldLatLng;
          this._marker.fire("moveend").fire("dragend", e);
        }
      });
      var Marker = Layer.extend({
        // @section
        // @aka Marker options
        options: {
          // @option icon: Icon = *
          // Icon instance to use for rendering the marker.
          // See [Icon documentation](#L.Icon) for details on how to customize the marker icon.
          // If not specified, a common instance of `L.Icon.Default` is used.
          icon: new IconDefault(),
          // Option inherited from "Interactive layer" abstract class
          interactive: true,
          // @option keyboard: Boolean = true
          // Whether the marker can be tabbed to with a keyboard and clicked by pressing enter.
          keyboard: true,
          // @option title: String = ''
          // Text for the browser tooltip that appear on marker hover (no tooltip by default).
          // [Useful for accessibility](https://leafletjs.com/examples/accessibility/#markers-must-be-labelled).
          title: "",
          // @option alt: String = 'Marker'
          // Text for the `alt` attribute of the icon image.
          // [Useful for accessibility](https://leafletjs.com/examples/accessibility/#markers-must-be-labelled).
          alt: "Marker",
          // @option zIndexOffset: Number = 0
          // By default, marker images zIndex is set automatically based on its latitude. Use this option if you want to put the marker on top of all others (or below), specifying a high value like `1000` (or high negative value, respectively).
          zIndexOffset: 0,
          // @option opacity: Number = 1.0
          // The opacity of the marker.
          opacity: 1,
          // @option riseOnHover: Boolean = false
          // If `true`, the marker will get on top of others when you hover the mouse over it.
          riseOnHover: false,
          // @option riseOffset: Number = 250
          // The z-index offset used for the `riseOnHover` feature.
          riseOffset: 250,
          // @option pane: String = 'markerPane'
          // `Map pane` where the markers icon will be added.
          pane: "markerPane",
          // @option shadowPane: String = 'shadowPane'
          // `Map pane` where the markers shadow will be added.
          shadowPane: "shadowPane",
          // @option bubblingMouseEvents: Boolean = false
          // When `true`, a mouse event on this marker will trigger the same event on the map
          // (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).
          bubblingMouseEvents: false,
          // @option autoPanOnFocus: Boolean = true
          // When `true`, the map will pan whenever the marker is focused (via
          // e.g. pressing `tab` on the keyboard) to ensure the marker is
          // visible within the map's bounds
          autoPanOnFocus: true,
          // @section Draggable marker options
          // @option draggable: Boolean = false
          // Whether the marker is draggable with mouse/touch or not.
          draggable: false,
          // @option autoPan: Boolean = false
          // Whether to pan the map when dragging this marker near its edge or not.
          autoPan: false,
          // @option autoPanPadding: Point = Point(50, 50)
          // Distance (in pixels to the left/right and to the top/bottom) of the
          // map edge to start panning the map.
          autoPanPadding: [50, 50],
          // @option autoPanSpeed: Number = 10
          // Number of pixels the map should pan by.
          autoPanSpeed: 10
        },
        /* @section
         *
         * In addition to [shared layer methods](#Layer) like `addTo()` and `remove()` and [popup methods](#Popup) like bindPopup() you can also use the following methods:
         */
        initialize: function(latlng, options) {
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
        },
        onAdd: function(map2) {
          this._zoomAnimated = this._zoomAnimated && map2.options.markerZoomAnimation;
          if (this._zoomAnimated) {
            map2.on("zoomanim", this._animateZoom, this);
          }
          this._initIcon();
          this.update();
        },
        onRemove: function(map2) {
          if (this.dragging && this.dragging.enabled()) {
            this.options.draggable = true;
            this.dragging.removeHooks();
          }
          delete this.dragging;
          if (this._zoomAnimated) {
            map2.off("zoomanim", this._animateZoom, this);
          }
          this._removeIcon();
          this._removeShadow();
        },
        getEvents: function() {
          return {
            zoom: this.update,
            viewreset: this.update
          };
        },
        // @method getLatLng: LatLng
        // Returns the current geographical position of the marker.
        getLatLng: function() {
          return this._latlng;
        },
        // @method setLatLng(latlng: LatLng): this
        // Changes the marker position to the given point.
        setLatLng: function(latlng) {
          var oldLatLng = this._latlng;
          this._latlng = toLatLng(latlng);
          this.update();
          return this.fire("move", { oldLatLng, latlng: this._latlng });
        },
        // @method setZIndexOffset(offset: Number): this
        // Changes the [zIndex offset](#marker-zindexoffset) of the marker.
        setZIndexOffset: function(offset) {
          this.options.zIndexOffset = offset;
          return this.update();
        },
        // @method getIcon: Icon
        // Returns the current icon used by the marker
        getIcon: function() {
          return this.options.icon;
        },
        // @method setIcon(icon: Icon): this
        // Changes the marker icon.
        setIcon: function(icon3) {
          this.options.icon = icon3;
          if (this._map) {
            this._initIcon();
            this.update();
          }
          if (this._popup) {
            this.bindPopup(this._popup, this._popup.options);
          }
          return this;
        },
        getElement: function() {
          return this._icon;
        },
        update: function() {
          if (this._icon && this._map) {
            var pos = this._map.latLngToLayerPoint(this._latlng).round();
            this._setPos(pos);
          }
          return this;
        },
        _initIcon: function() {
          var options = this.options, classToAdd = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
          var icon3 = options.icon.createIcon(this._icon), addIcon = false;
          if (icon3 !== this._icon) {
            if (this._icon) {
              this._removeIcon();
            }
            addIcon = true;
            if (options.title) {
              icon3.title = options.title;
            }
            if (icon3.tagName === "IMG") {
              icon3.alt = options.alt || "";
            }
          }
          addClass(icon3, classToAdd);
          if (options.keyboard) {
            icon3.tabIndex = "0";
            icon3.setAttribute("role", "button");
          }
          this._icon = icon3;
          if (options.riseOnHover) {
            this.on({
              mouseover: this._bringToFront,
              mouseout: this._resetZIndex
            });
          }
          if (this.options.autoPanOnFocus) {
            on(icon3, "focus", this._panOnFocus, this);
          }
          var newShadow = options.icon.createShadow(this._shadow), addShadow = false;
          if (newShadow !== this._shadow) {
            this._removeShadow();
            addShadow = true;
          }
          if (newShadow) {
            addClass(newShadow, classToAdd);
            newShadow.alt = "";
          }
          this._shadow = newShadow;
          if (options.opacity < 1) {
            this._updateOpacity();
          }
          if (addIcon) {
            this.getPane().appendChild(this._icon);
          }
          this._initInteraction();
          if (newShadow && addShadow) {
            this.getPane(options.shadowPane).appendChild(this._shadow);
          }
        },
        _removeIcon: function() {
          if (this.options.riseOnHover) {
            this.off({
              mouseover: this._bringToFront,
              mouseout: this._resetZIndex
            });
          }
          if (this.options.autoPanOnFocus) {
            off(this._icon, "focus", this._panOnFocus, this);
          }
          remove(this._icon);
          this.removeInteractiveTarget(this._icon);
          this._icon = null;
        },
        _removeShadow: function() {
          if (this._shadow) {
            remove(this._shadow);
          }
          this._shadow = null;
        },
        _setPos: function(pos) {
          if (this._icon) {
            setPosition(this._icon, pos);
          }
          if (this._shadow) {
            setPosition(this._shadow, pos);
          }
          this._zIndex = pos.y + this.options.zIndexOffset;
          this._resetZIndex();
        },
        _updateZIndex: function(offset) {
          if (this._icon) {
            this._icon.style.zIndex = this._zIndex + offset;
          }
        },
        _animateZoom: function(opt) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();
          this._setPos(pos);
        },
        _initInteraction: function() {
          if (!this.options.interactive) {
            return;
          }
          addClass(this._icon, "leaflet-interactive");
          this.addInteractiveTarget(this._icon);
          if (MarkerDrag) {
            var draggable = this.options.draggable;
            if (this.dragging) {
              draggable = this.dragging.enabled();
              this.dragging.disable();
            }
            this.dragging = new MarkerDrag(this);
            if (draggable) {
              this.dragging.enable();
            }
          }
        },
        // @method setOpacity(opacity: Number): this
        // Changes the opacity of the marker.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._map) {
            this._updateOpacity();
          }
          return this;
        },
        _updateOpacity: function() {
          var opacity = this.options.opacity;
          if (this._icon) {
            setOpacity(this._icon, opacity);
          }
          if (this._shadow) {
            setOpacity(this._shadow, opacity);
          }
        },
        _bringToFront: function() {
          this._updateZIndex(this.options.riseOffset);
        },
        _resetZIndex: function() {
          this._updateZIndex(0);
        },
        _panOnFocus: function() {
          var map2 = this._map;
          if (!map2) {
            return;
          }
          var iconOpts = this.options.icon.options;
          var size = iconOpts.iconSize ? toPoint(iconOpts.iconSize) : toPoint(0, 0);
          var anchor = iconOpts.iconAnchor ? toPoint(iconOpts.iconAnchor) : toPoint(0, 0);
          map2.panInside(this._latlng, {
            paddingTopLeft: anchor,
            paddingBottomRight: size.subtract(anchor)
          });
        },
        _getPopupAnchor: function() {
          return this.options.icon.options.popupAnchor;
        },
        _getTooltipAnchor: function() {
          return this.options.icon.options.tooltipAnchor;
        }
      });
      function marker2(latlng, options) {
        return new Marker(latlng, options);
      }
      var Path = Layer.extend({
        // @section
        // @aka Path options
        options: {
          // @option stroke: Boolean = true
          // Whether to draw stroke along the path. Set it to `false` to disable borders on polygons or circles.
          stroke: true,
          // @option color: String = '#3388ff'
          // Stroke color
          color: "#3388ff",
          // @option weight: Number = 3
          // Stroke width in pixels
          weight: 3,
          // @option opacity: Number = 1.0
          // Stroke opacity
          opacity: 1,
          // @option lineCap: String= 'round'
          // A string that defines [shape to be used at the end](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linecap) of the stroke.
          lineCap: "round",
          // @option lineJoin: String = 'round'
          // A string that defines [shape to be used at the corners](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linejoin) of the stroke.
          lineJoin: "round",
          // @option dashArray: String = null
          // A string that defines the stroke [dash pattern](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dasharray). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).
          dashArray: null,
          // @option dashOffset: String = null
          // A string that defines the [distance into the dash pattern to start the dash](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dashoffset). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).
          dashOffset: null,
          // @option fill: Boolean = depends
          // Whether to fill the path with color. Set it to `false` to disable filling on polygons or circles.
          fill: false,
          // @option fillColor: String = *
          // Fill color. Defaults to the value of the [`color`](#path-color) option
          fillColor: null,
          // @option fillOpacity: Number = 0.2
          // Fill opacity.
          fillOpacity: 0.2,
          // @option fillRule: String = 'evenodd'
          // A string that defines [how the inside of a shape](https://developer.mozilla.org/docs/Web/SVG/Attribute/fill-rule) is determined.
          fillRule: "evenodd",
          // className: '',
          // Option inherited from "Interactive layer" abstract class
          interactive: true,
          // @option bubblingMouseEvents: Boolean = true
          // When `true`, a mouse event on this path will trigger the same event on the map
          // (unless [`L.DomEvent.stopPropagation`](#domevent-stoppropagation) is used).
          bubblingMouseEvents: true
        },
        beforeAdd: function(map2) {
          this._renderer = map2.getRenderer(this);
        },
        onAdd: function() {
          this._renderer._initPath(this);
          this._reset();
          this._renderer._addPath(this);
        },
        onRemove: function() {
          this._renderer._removePath(this);
        },
        // @method redraw(): this
        // Redraws the layer. Sometimes useful after you changed the coordinates that the path uses.
        redraw: function() {
          if (this._map) {
            this._renderer._updatePath(this);
          }
          return this;
        },
        // @method setStyle(style: Path options): this
        // Changes the appearance of a Path based on the options in the `Path options` object.
        setStyle: function(style2) {
          setOptions(this, style2);
          if (this._renderer) {
            this._renderer._updateStyle(this);
            if (this.options.stroke && style2 && Object.prototype.hasOwnProperty.call(style2, "weight")) {
              this._updateBounds();
            }
          }
          return this;
        },
        // @method bringToFront(): this
        // Brings the layer to the top of all path layers.
        bringToFront: function() {
          if (this._renderer) {
            this._renderer._bringToFront(this);
          }
          return this;
        },
        // @method bringToBack(): this
        // Brings the layer to the bottom of all path layers.
        bringToBack: function() {
          if (this._renderer) {
            this._renderer._bringToBack(this);
          }
          return this;
        },
        getElement: function() {
          return this._path;
        },
        _reset: function() {
          this._project();
          this._update();
        },
        _clickTolerance: function() {
          return (this.options.stroke ? this.options.weight / 2 : 0) + (this._renderer.options.tolerance || 0);
        }
      });
      var CircleMarker = Path.extend({
        // @section
        // @aka CircleMarker options
        options: {
          fill: true,
          // @option radius: Number = 10
          // Radius of the circle marker, in pixels
          radius: 10
        },
        initialize: function(latlng, options) {
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
          this._radius = this.options.radius;
        },
        // @method setLatLng(latLng: LatLng): this
        // Sets the position of a circle marker to a new location.
        setLatLng: function(latlng) {
          var oldLatLng = this._latlng;
          this._latlng = toLatLng(latlng);
          this.redraw();
          return this.fire("move", { oldLatLng, latlng: this._latlng });
        },
        // @method getLatLng(): LatLng
        // Returns the current geographical position of the circle marker
        getLatLng: function() {
          return this._latlng;
        },
        // @method setRadius(radius: Number): this
        // Sets the radius of a circle marker. Units are in pixels.
        setRadius: function(radius) {
          this.options.radius = this._radius = radius;
          return this.redraw();
        },
        // @method getRadius(): Number
        // Returns the current radius of the circle
        getRadius: function() {
          return this._radius;
        },
        setStyle: function(options) {
          var radius = options && options.radius || this._radius;
          Path.prototype.setStyle.call(this, options);
          this.setRadius(radius);
          return this;
        },
        _project: function() {
          this._point = this._map.latLngToLayerPoint(this._latlng);
          this._updateBounds();
        },
        _updateBounds: function() {
          var r = this._radius, r2 = this._radiusY || r, w = this._clickTolerance(), p = [r + w, r2 + w];
          this._pxBounds = new Bounds(this._point.subtract(p), this._point.add(p));
        },
        _update: function() {
          if (this._map) {
            this._updatePath();
          }
        },
        _updatePath: function() {
          this._renderer._updateCircle(this);
        },
        _empty: function() {
          return this._radius && !this._renderer._bounds.intersects(this._pxBounds);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p) {
          return p.distanceTo(this._point) <= this._radius + this._clickTolerance();
        }
      });
      function circleMarker2(latlng, options) {
        return new CircleMarker(latlng, options);
      }
      var Circle = CircleMarker.extend({
        initialize: function(latlng, options, legacyOptions) {
          if (typeof options === "number") {
            options = extend({}, legacyOptions, { radius: options });
          }
          setOptions(this, options);
          this._latlng = toLatLng(latlng);
          if (isNaN(this.options.radius)) {
            throw new Error("Circle radius cannot be NaN");
          }
          this._mRadius = this.options.radius;
        },
        // @method setRadius(radius: Number): this
        // Sets the radius of a circle. Units are in meters.
        setRadius: function(radius) {
          this._mRadius = radius;
          return this.redraw();
        },
        // @method getRadius(): Number
        // Returns the current radius of a circle. Units are in meters.
        getRadius: function() {
          return this._mRadius;
        },
        // @method getBounds(): LatLngBounds
        // Returns the `LatLngBounds` of the path.
        getBounds: function() {
          var half = [this._radius, this._radiusY || this._radius];
          return new LatLngBounds(
            this._map.layerPointToLatLng(this._point.subtract(half)),
            this._map.layerPointToLatLng(this._point.add(half))
          );
        },
        setStyle: Path.prototype.setStyle,
        _project: function() {
          var lng = this._latlng.lng, lat = this._latlng.lat, map2 = this._map, crs = map2.options.crs;
          if (crs.distance === Earth.distance) {
            var d = Math.PI / 180, latR = this._mRadius / Earth.R / d, top = map2.project([lat + latR, lng]), bottom = map2.project([lat - latR, lng]), p = top.add(bottom).divideBy(2), lat2 = map2.unproject(p).lat, lngR = Math.acos((Math.cos(latR * d) - Math.sin(lat * d) * Math.sin(lat2 * d)) / (Math.cos(lat * d) * Math.cos(lat2 * d))) / d;
            if (isNaN(lngR) || lngR === 0) {
              lngR = latR / Math.cos(Math.PI / 180 * lat);
            }
            this._point = p.subtract(map2.getPixelOrigin());
            this._radius = isNaN(lngR) ? 0 : p.x - map2.project([lat2, lng - lngR]).x;
            this._radiusY = p.y - top.y;
          } else {
            var latlng2 = crs.unproject(crs.project(this._latlng).subtract([this._mRadius, 0]));
            this._point = map2.latLngToLayerPoint(this._latlng);
            this._radius = this._point.x - map2.latLngToLayerPoint(latlng2).x;
          }
          this._updateBounds();
        }
      });
      function circle2(latlng, options, legacyOptions) {
        return new Circle(latlng, options, legacyOptions);
      }
      var Polyline = Path.extend({
        // @section
        // @aka Polyline options
        options: {
          // @option smoothFactor: Number = 1.0
          // How much to simplify the polyline on each zoom level. More means
          // better performance and smoother look, and less means more accurate representation.
          smoothFactor: 1,
          // @option noClip: Boolean = false
          // Disable polyline clipping.
          noClip: false
        },
        initialize: function(latlngs, options) {
          setOptions(this, options);
          this._setLatLngs(latlngs);
        },
        // @method getLatLngs(): LatLng[]
        // Returns an array of the points in the path, or nested arrays of points in case of multi-polyline.
        getLatLngs: function() {
          return this._latlngs;
        },
        // @method setLatLngs(latlngs: LatLng[]): this
        // Replaces all the points in the polyline with the given array of geographical points.
        setLatLngs: function(latlngs) {
          this._setLatLngs(latlngs);
          return this.redraw();
        },
        // @method isEmpty(): Boolean
        // Returns `true` if the Polyline has no LatLngs.
        isEmpty: function() {
          return !this._latlngs.length;
        },
        // @method closestLayerPoint(p: Point): Point
        // Returns the point closest to `p` on the Polyline.
        closestLayerPoint: function(p) {
          var minDistance = Infinity, minPoint = null, closest = _sqClosestPointOnSegment, p1, p2;
          for (var j = 0, jLen = this._parts.length; j < jLen; j++) {
            var points = this._parts[j];
            for (var i = 1, len = points.length; i < len; i++) {
              p1 = points[i - 1];
              p2 = points[i];
              var sqDist = closest(p, p1, p2, true);
              if (sqDist < minDistance) {
                minDistance = sqDist;
                minPoint = closest(p, p1, p2);
              }
            }
          }
          if (minPoint) {
            minPoint.distance = Math.sqrt(minDistance);
          }
          return minPoint;
        },
        // @method getCenter(): LatLng
        // Returns the center ([centroid](https://en.wikipedia.org/wiki/Centroid)) of the polyline.
        getCenter: function() {
          if (!this._map) {
            throw new Error("Must add layer to map before using getCenter()");
          }
          return polylineCenter(this._defaultShape(), this._map.options.crs);
        },
        // @method getBounds(): LatLngBounds
        // Returns the `LatLngBounds` of the path.
        getBounds: function() {
          return this._bounds;
        },
        // @method addLatLng(latlng: LatLng, latlngs?: LatLng[]): this
        // Adds a given point to the polyline. By default, adds to the first ring of
        // the polyline in case of a multi-polyline, but can be overridden by passing
        // a specific ring as a LatLng array (that you can earlier access with [`getLatLngs`](#polyline-getlatlngs)).
        addLatLng: function(latlng, latlngs) {
          latlngs = latlngs || this._defaultShape();
          latlng = toLatLng(latlng);
          latlngs.push(latlng);
          this._bounds.extend(latlng);
          return this.redraw();
        },
        _setLatLngs: function(latlngs) {
          this._bounds = new LatLngBounds();
          this._latlngs = this._convertLatLngs(latlngs);
        },
        _defaultShape: function() {
          return isFlat(this._latlngs) ? this._latlngs : this._latlngs[0];
        },
        // recursively convert latlngs input into actual LatLng instances; calculate bounds along the way
        _convertLatLngs: function(latlngs) {
          var result = [], flat = isFlat(latlngs);
          for (var i = 0, len = latlngs.length; i < len; i++) {
            if (flat) {
              result[i] = toLatLng(latlngs[i]);
              this._bounds.extend(result[i]);
            } else {
              result[i] = this._convertLatLngs(latlngs[i]);
            }
          }
          return result;
        },
        _project: function() {
          var pxBounds = new Bounds();
          this._rings = [];
          this._projectLatlngs(this._latlngs, this._rings, pxBounds);
          if (this._bounds.isValid() && pxBounds.isValid()) {
            this._rawPxBounds = pxBounds;
            this._updateBounds();
          }
        },
        _updateBounds: function() {
          var w = this._clickTolerance(), p = new Point(w, w);
          if (!this._rawPxBounds) {
            return;
          }
          this._pxBounds = new Bounds([
            this._rawPxBounds.min.subtract(p),
            this._rawPxBounds.max.add(p)
          ]);
        },
        // recursively turns latlngs into a set of rings with projected coordinates
        _projectLatlngs: function(latlngs, result, projectedBounds) {
          var flat = latlngs[0] instanceof LatLng2, len = latlngs.length, i, ring;
          if (flat) {
            ring = [];
            for (i = 0; i < len; i++) {
              ring[i] = this._map.latLngToLayerPoint(latlngs[i]);
              projectedBounds.extend(ring[i]);
            }
            result.push(ring);
          } else {
            for (i = 0; i < len; i++) {
              this._projectLatlngs(latlngs[i], result, projectedBounds);
            }
          }
        },
        // clip polyline by renderer bounds so that we have less to render for performance
        _clipPoints: function() {
          var bounds = this._renderer._bounds;
          this._parts = [];
          if (!this._pxBounds || !this._pxBounds.intersects(bounds)) {
            return;
          }
          if (this.options.noClip) {
            this._parts = this._rings;
            return;
          }
          var parts = this._parts, i, j, k, len, len2, segment, points;
          for (i = 0, k = 0, len = this._rings.length; i < len; i++) {
            points = this._rings[i];
            for (j = 0, len2 = points.length; j < len2 - 1; j++) {
              segment = clipSegment(points[j], points[j + 1], bounds, j, true);
              if (!segment) {
                continue;
              }
              parts[k] = parts[k] || [];
              parts[k].push(segment[0]);
              if (segment[1] !== points[j + 1] || j === len2 - 2) {
                parts[k].push(segment[1]);
                k++;
              }
            }
          }
        },
        // simplify each clipped part of the polyline for performance
        _simplifyPoints: function() {
          var parts = this._parts, tolerance = this.options.smoothFactor;
          for (var i = 0, len = parts.length; i < len; i++) {
            parts[i] = simplify(parts[i], tolerance);
          }
        },
        _update: function() {
          if (!this._map) {
            return;
          }
          this._clipPoints();
          this._simplifyPoints();
          this._updatePath();
        },
        _updatePath: function() {
          this._renderer._updatePoly(this);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p, closed) {
          var i, j, k, len, len2, part, w = this._clickTolerance();
          if (!this._pxBounds || !this._pxBounds.contains(p)) {
            return false;
          }
          for (i = 0, len = this._parts.length; i < len; i++) {
            part = this._parts[i];
            for (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {
              if (!closed && j === 0) {
                continue;
              }
              if (pointToSegmentDistance(p, part[k], part[j]) <= w) {
                return true;
              }
            }
          }
          return false;
        }
      });
      function polyline(latlngs, options) {
        return new Polyline(latlngs, options);
      }
      Polyline._flat = _flat;
      var Polygon = Polyline.extend({
        options: {
          fill: true
        },
        isEmpty: function() {
          return !this._latlngs.length || !this._latlngs[0].length;
        },
        // @method getCenter(): LatLng
        // Returns the center ([centroid](http://en.wikipedia.org/wiki/Centroid)) of the Polygon.
        getCenter: function() {
          if (!this._map) {
            throw new Error("Must add layer to map before using getCenter()");
          }
          return polygonCenter(this._defaultShape(), this._map.options.crs);
        },
        _convertLatLngs: function(latlngs) {
          var result = Polyline.prototype._convertLatLngs.call(this, latlngs), len = result.length;
          if (len >= 2 && result[0] instanceof LatLng2 && result[0].equals(result[len - 1])) {
            result.pop();
          }
          return result;
        },
        _setLatLngs: function(latlngs) {
          Polyline.prototype._setLatLngs.call(this, latlngs);
          if (isFlat(this._latlngs)) {
            this._latlngs = [this._latlngs];
          }
        },
        _defaultShape: function() {
          return isFlat(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0];
        },
        _clipPoints: function() {
          var bounds = this._renderer._bounds, w = this.options.weight, p = new Point(w, w);
          bounds = new Bounds(bounds.min.subtract(p), bounds.max.add(p));
          this._parts = [];
          if (!this._pxBounds || !this._pxBounds.intersects(bounds)) {
            return;
          }
          if (this.options.noClip) {
            this._parts = this._rings;
            return;
          }
          for (var i = 0, len = this._rings.length, clipped; i < len; i++) {
            clipped = clipPolygon(this._rings[i], bounds, true);
            if (clipped.length) {
              this._parts.push(clipped);
            }
          }
        },
        _updatePath: function() {
          this._renderer._updatePoly(this, true);
        },
        // Needed by the `Canvas` renderer for interactivity
        _containsPoint: function(p) {
          var inside = false, part, p1, p2, i, j, k, len, len2;
          if (!this._pxBounds || !this._pxBounds.contains(p)) {
            return false;
          }
          for (i = 0, len = this._parts.length; i < len; i++) {
            part = this._parts[i];
            for (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {
              p1 = part[j];
              p2 = part[k];
              if (p1.y > p.y !== p2.y > p.y && p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x) {
                inside = !inside;
              }
            }
          }
          return inside || Polyline.prototype._containsPoint.call(this, p, true);
        }
      });
      function polygon(latlngs, options) {
        return new Polygon(latlngs, options);
      }
      var GeoJSON = FeatureGroup2.extend({
        /* @section
         * @aka GeoJSON options
         *
         * @option pointToLayer: Function = *
         * A `Function` defining how GeoJSON points spawn Leaflet layers. It is internally
         * called when data is added, passing the GeoJSON point feature and its `LatLng`.
         * The default is to spawn a default `Marker`:
         * ```js
         * function(geoJsonPoint, latlng) {
         * 	return L.marker(latlng);
         * }
         * ```
         *
         * @option style: Function = *
         * A `Function` defining the `Path options` for styling GeoJSON lines and polygons,
         * called internally when data is added.
         * The default value is to not override any defaults:
         * ```js
         * function (geoJsonFeature) {
         * 	return {}
         * }
         * ```
         *
         * @option onEachFeature: Function = *
         * A `Function` that will be called once for each created `Feature`, after it has
         * been created and styled. Useful for attaching events and popups to features.
         * The default is to do nothing with the newly created layers:
         * ```js
         * function (feature, layer) {}
         * ```
         *
         * @option filter: Function = *
         * A `Function` that will be used to decide whether to include a feature or not.
         * The default is to include all features:
         * ```js
         * function (geoJsonFeature) {
         * 	return true;
         * }
         * ```
         * Note: dynamically changing the `filter` option will have effect only on newly
         * added data. It will _not_ re-evaluate already included features.
         *
         * @option coordsToLatLng: Function = *
         * A `Function` that will be used for converting GeoJSON coordinates to `LatLng`s.
         * The default is the `coordsToLatLng` static method.
         *
         * @option markersInheritOptions: Boolean = false
         * Whether default Markers for "Point" type Features inherit from group options.
         */
        initialize: function(geojson, options) {
          setOptions(this, options);
          this._layers = {};
          if (geojson) {
            this.addData(geojson);
          }
        },
        // @method addData( <GeoJSON> data ): this
        // Adds a GeoJSON object to the layer.
        addData: function(geojson) {
          var features = isArray(geojson) ? geojson : geojson.features, i, len, feature;
          if (features) {
            for (i = 0, len = features.length; i < len; i++) {
              feature = features[i];
              if (feature.geometries || feature.geometry || feature.features || feature.coordinates) {
                this.addData(feature);
              }
            }
            return this;
          }
          var options = this.options;
          if (options.filter && !options.filter(geojson)) {
            return this;
          }
          var layer = geometryToLayer(geojson, options);
          if (!layer) {
            return this;
          }
          layer.feature = asFeature(geojson);
          layer.defaultOptions = layer.options;
          this.resetStyle(layer);
          if (options.onEachFeature) {
            options.onEachFeature(geojson, layer);
          }
          return this.addLayer(layer);
        },
        // @method resetStyle( <Path> layer? ): this
        // Resets the given vector layer's style to the original GeoJSON style, useful for resetting style after hover events.
        // If `layer` is omitted, the style of all features in the current layer is reset.
        resetStyle: function(layer) {
          if (layer === void 0) {
            return this.eachLayer(this.resetStyle, this);
          }
          layer.options = extend({}, layer.defaultOptions);
          this._setLayerStyle(layer, this.options.style);
          return this;
        },
        // @method setStyle( <Function> style ): this
        // Changes styles of GeoJSON vector layers with the given style function.
        setStyle: function(style2) {
          return this.eachLayer(function(layer) {
            this._setLayerStyle(layer, style2);
          }, this);
        },
        _setLayerStyle: function(layer, style2) {
          if (layer.setStyle) {
            if (typeof style2 === "function") {
              style2 = style2(layer.feature);
            }
            layer.setStyle(style2);
          }
        }
      });
      function geometryToLayer(geojson, options) {
        var geometry = geojson.type === "Feature" ? geojson.geometry : geojson, coords = geometry ? geometry.coordinates : null, layers2 = [], pointToLayer = options && options.pointToLayer, _coordsToLatLng = options && options.coordsToLatLng || coordsToLatLng, latlng, latlngs, i, len;
        if (!coords && !geometry) {
          return null;
        }
        switch (geometry.type) {
          case "Point":
            latlng = _coordsToLatLng(coords);
            return _pointToLayer(pointToLayer, geojson, latlng, options);
          case "MultiPoint":
            for (i = 0, len = coords.length; i < len; i++) {
              latlng = _coordsToLatLng(coords[i]);
              layers2.push(_pointToLayer(pointToLayer, geojson, latlng, options));
            }
            return new FeatureGroup2(layers2);
          case "LineString":
          case "MultiLineString":
            latlngs = coordsToLatLngs(coords, geometry.type === "LineString" ? 0 : 1, _coordsToLatLng);
            return new Polyline(latlngs, options);
          case "Polygon":
          case "MultiPolygon":
            latlngs = coordsToLatLngs(coords, geometry.type === "Polygon" ? 1 : 2, _coordsToLatLng);
            return new Polygon(latlngs, options);
          case "GeometryCollection":
            for (i = 0, len = geometry.geometries.length; i < len; i++) {
              var geoLayer = geometryToLayer({
                geometry: geometry.geometries[i],
                type: "Feature",
                properties: geojson.properties
              }, options);
              if (geoLayer) {
                layers2.push(geoLayer);
              }
            }
            return new FeatureGroup2(layers2);
          case "FeatureCollection":
            for (i = 0, len = geometry.features.length; i < len; i++) {
              var featureLayer = geometryToLayer(geometry.features[i], options);
              if (featureLayer) {
                layers2.push(featureLayer);
              }
            }
            return new FeatureGroup2(layers2);
          default:
            throw new Error("Invalid GeoJSON object.");
        }
      }
      function _pointToLayer(pointToLayerFn, geojson, latlng, options) {
        return pointToLayerFn ? pointToLayerFn(geojson, latlng) : new Marker(latlng, options && options.markersInheritOptions && options);
      }
      function coordsToLatLng(coords) {
        return new LatLng2(coords[1], coords[0], coords[2]);
      }
      function coordsToLatLngs(coords, levelsDeep, _coordsToLatLng) {
        var latlngs = [];
        for (var i = 0, len = coords.length, latlng; i < len; i++) {
          latlng = levelsDeep ? coordsToLatLngs(coords[i], levelsDeep - 1, _coordsToLatLng) : (_coordsToLatLng || coordsToLatLng)(coords[i]);
          latlngs.push(latlng);
        }
        return latlngs;
      }
      function latLngToCoords(latlng, precision) {
        latlng = toLatLng(latlng);
        return latlng.alt !== void 0 ? [formatNum(latlng.lng, precision), formatNum(latlng.lat, precision), formatNum(latlng.alt, precision)] : [formatNum(latlng.lng, precision), formatNum(latlng.lat, precision)];
      }
      function latLngsToCoords(latlngs, levelsDeep, closed, precision) {
        var coords = [];
        for (var i = 0, len = latlngs.length; i < len; i++) {
          coords.push(levelsDeep ? latLngsToCoords(latlngs[i], isFlat(latlngs[i]) ? 0 : levelsDeep - 1, closed, precision) : latLngToCoords(latlngs[i], precision));
        }
        if (!levelsDeep && closed && coords.length > 0) {
          coords.push(coords[0].slice());
        }
        return coords;
      }
      function getFeature(layer, newGeometry) {
        return layer.feature ? extend({}, layer.feature, { geometry: newGeometry }) : asFeature(newGeometry);
      }
      function asFeature(geojson) {
        if (geojson.type === "Feature" || geojson.type === "FeatureCollection") {
          return geojson;
        }
        return {
          type: "Feature",
          properties: {},
          geometry: geojson
        };
      }
      var PointToGeoJSON = {
        toGeoJSON: function(precision) {
          return getFeature(this, {
            type: "Point",
            coordinates: latLngToCoords(this.getLatLng(), precision)
          });
        }
      };
      Marker.include(PointToGeoJSON);
      Circle.include(PointToGeoJSON);
      CircleMarker.include(PointToGeoJSON);
      Polyline.include({
        toGeoJSON: function(precision) {
          var multi = !isFlat(this._latlngs);
          var coords = latLngsToCoords(this._latlngs, multi ? 1 : 0, false, precision);
          return getFeature(this, {
            type: (multi ? "Multi" : "") + "LineString",
            coordinates: coords
          });
        }
      });
      Polygon.include({
        toGeoJSON: function(precision) {
          var holes = !isFlat(this._latlngs), multi = holes && !isFlat(this._latlngs[0]);
          var coords = latLngsToCoords(this._latlngs, multi ? 2 : holes ? 1 : 0, true, precision);
          if (!holes) {
            coords = [coords];
          }
          return getFeature(this, {
            type: (multi ? "Multi" : "") + "Polygon",
            coordinates: coords
          });
        }
      });
      LayerGroup.include({
        toMultiPoint: function(precision) {
          var coords = [];
          this.eachLayer(function(layer) {
            coords.push(layer.toGeoJSON(precision).geometry.coordinates);
          });
          return getFeature(this, {
            type: "MultiPoint",
            coordinates: coords
          });
        },
        // @method toGeoJSON(precision?: Number|false): Object
        // Coordinates values are rounded with [`formatNum`](#util-formatnum) function with given `precision`.
        // Returns a [`GeoJSON`](https://en.wikipedia.org/wiki/GeoJSON) representation of the layer group (as a GeoJSON `FeatureCollection`, `GeometryCollection`, or `MultiPoint`).
        toGeoJSON: function(precision) {
          var type = this.feature && this.feature.geometry && this.feature.geometry.type;
          if (type === "MultiPoint") {
            return this.toMultiPoint(precision);
          }
          var isGeometryCollection = type === "GeometryCollection", jsons = [];
          this.eachLayer(function(layer) {
            if (layer.toGeoJSON) {
              var json = layer.toGeoJSON(precision);
              if (isGeometryCollection) {
                jsons.push(json.geometry);
              } else {
                var feature = asFeature(json);
                if (feature.type === "FeatureCollection") {
                  jsons.push.apply(jsons, feature.features);
                } else {
                  jsons.push(feature);
                }
              }
            }
          });
          if (isGeometryCollection) {
            return getFeature(this, {
              geometries: jsons,
              type: "GeometryCollection"
            });
          }
          return {
            type: "FeatureCollection",
            features: jsons
          };
        }
      });
      function geoJSON2(geojson, options) {
        return new GeoJSON(geojson, options);
      }
      var geoJson = geoJSON2;
      var ImageOverlay = Layer.extend({
        // @section
        // @aka ImageOverlay options
        options: {
          // @option opacity: Number = 1.0
          // The opacity of the image overlay.
          opacity: 1,
          // @option alt: String = ''
          // Text for the `alt` attribute of the image (useful for accessibility).
          alt: "",
          // @option interactive: Boolean = false
          // If `true`, the image overlay will emit [mouse events](#interactive-layer) when clicked or hovered.
          interactive: false,
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the image.
          // If a String is provided, the image will have its crossOrigin attribute set to the String provided. This is needed if you want to access image pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false,
          // @option errorOverlayUrl: String = ''
          // URL to the overlay image to show in place of the overlay that failed to load.
          errorOverlayUrl: "",
          // @option zIndex: Number = 1
          // The explicit [zIndex](https://developer.mozilla.org/docs/Web/CSS/CSS_Positioning/Understanding_z_index) of the overlay layer.
          zIndex: 1,
          // @option className: String = ''
          // A custom class name to assign to the image. Empty by default.
          className: ""
        },
        initialize: function(url, bounds, options) {
          this._url = url;
          this._bounds = toLatLngBounds(bounds);
          setOptions(this, options);
        },
        onAdd: function() {
          if (!this._image) {
            this._initImage();
            if (this.options.opacity < 1) {
              this._updateOpacity();
            }
          }
          if (this.options.interactive) {
            addClass(this._image, "leaflet-interactive");
            this.addInteractiveTarget(this._image);
          }
          this.getPane().appendChild(this._image);
          this._reset();
        },
        onRemove: function() {
          remove(this._image);
          if (this.options.interactive) {
            this.removeInteractiveTarget(this._image);
          }
        },
        // @method setOpacity(opacity: Number): this
        // Sets the opacity of the overlay.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._image) {
            this._updateOpacity();
          }
          return this;
        },
        setStyle: function(styleOpts) {
          if (styleOpts.opacity) {
            this.setOpacity(styleOpts.opacity);
          }
          return this;
        },
        // @method bringToFront(): this
        // Brings the layer to the top of all overlays.
        bringToFront: function() {
          if (this._map) {
            toFront(this._image);
          }
          return this;
        },
        // @method bringToBack(): this
        // Brings the layer to the bottom of all overlays.
        bringToBack: function() {
          if (this._map) {
            toBack(this._image);
          }
          return this;
        },
        // @method setUrl(url: String): this
        // Changes the URL of the image.
        setUrl: function(url) {
          this._url = url;
          if (this._image) {
            this._image.src = url;
          }
          return this;
        },
        // @method setBounds(bounds: LatLngBounds): this
        // Update the bounds that this ImageOverlay covers
        setBounds: function(bounds) {
          this._bounds = toLatLngBounds(bounds);
          if (this._map) {
            this._reset();
          }
          return this;
        },
        getEvents: function() {
          var events = {
            zoom: this._reset,
            viewreset: this._reset
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @method setZIndex(value: Number): this
        // Changes the [zIndex](#imageoverlay-zindex) of the image overlay.
        setZIndex: function(value) {
          this.options.zIndex = value;
          this._updateZIndex();
          return this;
        },
        // @method getBounds(): LatLngBounds
        // Get the bounds that this ImageOverlay covers
        getBounds: function() {
          return this._bounds;
        },
        // @method getElement(): HTMLElement
        // Returns the instance of [`HTMLImageElement`](https://developer.mozilla.org/docs/Web/API/HTMLImageElement)
        // used by this overlay.
        getElement: function() {
          return this._image;
        },
        _initImage: function() {
          var wasElementSupplied = this._url.tagName === "IMG";
          var img = this._image = wasElementSupplied ? this._url : create$1("img");
          addClass(img, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(img, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(img, this.options.className);
          }
          img.onselectstart = falseFn;
          img.onmousemove = falseFn;
          img.onload = bind(this.fire, this, "load");
          img.onerror = bind(this._overlayOnError, this, "error");
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            img.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          if (this.options.zIndex) {
            this._updateZIndex();
          }
          if (wasElementSupplied) {
            this._url = img.src;
            return;
          }
          img.src = this._url;
          img.alt = this.options.alt;
        },
        _animateZoom: function(e) {
          var scale2 = this._map.getZoomScale(e.zoom), offset = this._map._latLngBoundsToNewLayerBounds(this._bounds, e.zoom, e.center).min;
          setTransform(this._image, offset, scale2);
        },
        _reset: function() {
          var image = this._image, bounds = new Bounds(
            this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
            this._map.latLngToLayerPoint(this._bounds.getSouthEast())
          ), size = bounds.getSize();
          setPosition(image, bounds.min);
          image.style.width = size.x + "px";
          image.style.height = size.y + "px";
        },
        _updateOpacity: function() {
          setOpacity(this._image, this.options.opacity);
        },
        _updateZIndex: function() {
          if (this._image && this.options.zIndex !== void 0 && this.options.zIndex !== null) {
            this._image.style.zIndex = this.options.zIndex;
          }
        },
        _overlayOnError: function() {
          this.fire("error");
          var errorUrl = this.options.errorOverlayUrl;
          if (errorUrl && this._url !== errorUrl) {
            this._url = errorUrl;
            this._image.src = errorUrl;
          }
        },
        // @method getCenter(): LatLng
        // Returns the center of the ImageOverlay.
        getCenter: function() {
          return this._bounds.getCenter();
        }
      });
      var imageOverlay = function(url, bounds, options) {
        return new ImageOverlay(url, bounds, options);
      };
      var VideoOverlay = ImageOverlay.extend({
        // @section
        // @aka VideoOverlay options
        options: {
          // @option autoplay: Boolean = true
          // Whether the video starts playing automatically when loaded.
          // On some browsers autoplay will only work with `muted: true`
          autoplay: true,
          // @option loop: Boolean = true
          // Whether the video will loop back to the beginning when played.
          loop: true,
          // @option keepAspectRatio: Boolean = true
          // Whether the video will save aspect ratio after the projection.
          // Relevant for supported browsers. See [browser compatibility](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit)
          keepAspectRatio: true,
          // @option muted: Boolean = false
          // Whether the video starts on mute when loaded.
          muted: false,
          // @option playsInline: Boolean = true
          // Mobile browsers will play the video right where it is instead of open it up in fullscreen mode.
          playsInline: true
        },
        _initImage: function() {
          var wasElementSupplied = this._url.tagName === "VIDEO";
          var vid = this._image = wasElementSupplied ? this._url : create$1("video");
          addClass(vid, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(vid, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(vid, this.options.className);
          }
          vid.onselectstart = falseFn;
          vid.onmousemove = falseFn;
          vid.onloadeddata = bind(this.fire, this, "load");
          if (wasElementSupplied) {
            var sourceElements = vid.getElementsByTagName("source");
            var sources = [];
            for (var j = 0; j < sourceElements.length; j++) {
              sources.push(sourceElements[j].src);
            }
            this._url = sourceElements.length > 0 ? sources : [vid.src];
            return;
          }
          if (!isArray(this._url)) {
            this._url = [this._url];
          }
          if (!this.options.keepAspectRatio && Object.prototype.hasOwnProperty.call(vid.style, "objectFit")) {
            vid.style["objectFit"] = "fill";
          }
          vid.autoplay = !!this.options.autoplay;
          vid.loop = !!this.options.loop;
          vid.muted = !!this.options.muted;
          vid.playsInline = !!this.options.playsInline;
          for (var i = 0; i < this._url.length; i++) {
            var source = create$1("source");
            source.src = this._url[i];
            vid.appendChild(source);
          }
        }
        // @method getElement(): HTMLVideoElement
        // Returns the instance of [`HTMLVideoElement`](https://developer.mozilla.org/docs/Web/API/HTMLVideoElement)
        // used by this overlay.
      });
      function videoOverlay(video, bounds, options) {
        return new VideoOverlay(video, bounds, options);
      }
      var SVGOverlay = ImageOverlay.extend({
        _initImage: function() {
          var el = this._image = this._url;
          addClass(el, "leaflet-image-layer");
          if (this._zoomAnimated) {
            addClass(el, "leaflet-zoom-animated");
          }
          if (this.options.className) {
            addClass(el, this.options.className);
          }
          el.onselectstart = falseFn;
          el.onmousemove = falseFn;
        }
        // @method getElement(): SVGElement
        // Returns the instance of [`SVGElement`](https://developer.mozilla.org/docs/Web/API/SVGElement)
        // used by this overlay.
      });
      function svgOverlay(el, bounds, options) {
        return new SVGOverlay(el, bounds, options);
      }
      var DivOverlay = Layer.extend({
        // @section
        // @aka DivOverlay options
        options: {
          // @option interactive: Boolean = false
          // If true, the popup/tooltip will listen to the mouse events.
          interactive: false,
          // @option offset: Point = Point(0, 0)
          // The offset of the overlay position.
          offset: [0, 0],
          // @option className: String = ''
          // A custom CSS class name to assign to the overlay.
          className: "",
          // @option pane: String = undefined
          // `Map pane` where the overlay will be added.
          pane: void 0,
          // @option content: String|HTMLElement|Function = ''
          // Sets the HTML content of the overlay while initializing. If a function is passed the source layer will be
          // passed to the function. The function should return a `String` or `HTMLElement` to be used in the overlay.
          content: ""
        },
        initialize: function(options, source) {
          if (options && (options instanceof LatLng2 || isArray(options))) {
            this._latlng = toLatLng(options);
            setOptions(this, source);
          } else {
            setOptions(this, options);
            this._source = source;
          }
          if (this.options.content) {
            this._content = this.options.content;
          }
        },
        // @method openOn(map: Map): this
        // Adds the overlay to the map.
        // Alternative to `map.openPopup(popup)`/`.openTooltip(tooltip)`.
        openOn: function(map2) {
          map2 = arguments.length ? map2 : this._source._map;
          if (!map2.hasLayer(this)) {
            map2.addLayer(this);
          }
          return this;
        },
        // @method close(): this
        // Closes the overlay.
        // Alternative to `map.closePopup(popup)`/`.closeTooltip(tooltip)`
        // and `layer.closePopup()`/`.closeTooltip()`.
        close: function() {
          if (this._map) {
            this._map.removeLayer(this);
          }
          return this;
        },
        // @method toggle(layer?: Layer): this
        // Opens or closes the overlay bound to layer depending on its current state.
        // Argument may be omitted only for overlay bound to layer.
        // Alternative to `layer.togglePopup()`/`.toggleTooltip()`.
        toggle: function(layer) {
          if (this._map) {
            this.close();
          } else {
            if (arguments.length) {
              this._source = layer;
            } else {
              layer = this._source;
            }
            this._prepareOpen();
            this.openOn(layer._map);
          }
          return this;
        },
        onAdd: function(map2) {
          this._zoomAnimated = map2._zoomAnimated;
          if (!this._container) {
            this._initLayout();
          }
          if (map2._fadeAnimated) {
            setOpacity(this._container, 0);
          }
          clearTimeout(this._removeTimeout);
          this.getPane().appendChild(this._container);
          this.update();
          if (map2._fadeAnimated) {
            setOpacity(this._container, 1);
          }
          this.bringToFront();
          if (this.options.interactive) {
            addClass(this._container, "leaflet-interactive");
            this.addInteractiveTarget(this._container);
          }
        },
        onRemove: function(map2) {
          if (map2._fadeAnimated) {
            setOpacity(this._container, 0);
            this._removeTimeout = setTimeout(bind(remove, void 0, this._container), 200);
          } else {
            remove(this._container);
          }
          if (this.options.interactive) {
            removeClass(this._container, "leaflet-interactive");
            this.removeInteractiveTarget(this._container);
          }
        },
        // @namespace DivOverlay
        // @method getLatLng: LatLng
        // Returns the geographical point of the overlay.
        getLatLng: function() {
          return this._latlng;
        },
        // @method setLatLng(latlng: LatLng): this
        // Sets the geographical point where the overlay will open.
        setLatLng: function(latlng) {
          this._latlng = toLatLng(latlng);
          if (this._map) {
            this._updatePosition();
            this._adjustPan();
          }
          return this;
        },
        // @method getContent: String|HTMLElement
        // Returns the content of the overlay.
        getContent: function() {
          return this._content;
        },
        // @method setContent(htmlContent: String|HTMLElement|Function): this
        // Sets the HTML content of the overlay. If a function is passed the source layer will be passed to the function.
        // The function should return a `String` or `HTMLElement` to be used in the overlay.
        setContent: function(content) {
          this._content = content;
          this.update();
          return this;
        },
        // @method getElement: String|HTMLElement
        // Returns the HTML container of the overlay.
        getElement: function() {
          return this._container;
        },
        // @method update: null
        // Updates the overlay content, layout and position. Useful for updating the overlay after something inside changed, e.g. image loaded.
        update: function() {
          if (!this._map) {
            return;
          }
          this._container.style.visibility = "hidden";
          this._updateContent();
          this._updateLayout();
          this._updatePosition();
          this._container.style.visibility = "";
          this._adjustPan();
        },
        getEvents: function() {
          var events = {
            zoom: this._updatePosition,
            viewreset: this._updatePosition
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @method isOpen: Boolean
        // Returns `true` when the overlay is visible on the map.
        isOpen: function() {
          return !!this._map && this._map.hasLayer(this);
        },
        // @method bringToFront: this
        // Brings this overlay in front of other overlays (in the same map pane).
        bringToFront: function() {
          if (this._map) {
            toFront(this._container);
          }
          return this;
        },
        // @method bringToBack: this
        // Brings this overlay to the back of other overlays (in the same map pane).
        bringToBack: function() {
          if (this._map) {
            toBack(this._container);
          }
          return this;
        },
        // prepare bound overlay to open: update latlng pos / content source (for FeatureGroup)
        _prepareOpen: function(latlng) {
          var source = this._source;
          if (!source._map) {
            return false;
          }
          if (source instanceof FeatureGroup2) {
            source = null;
            var layers2 = this._source._layers;
            for (var id in layers2) {
              if (layers2[id]._map) {
                source = layers2[id];
                break;
              }
            }
            if (!source) {
              return false;
            }
            this._source = source;
          }
          if (!latlng) {
            if (source.getCenter) {
              latlng = source.getCenter();
            } else if (source.getLatLng) {
              latlng = source.getLatLng();
            } else if (source.getBounds) {
              latlng = source.getBounds().getCenter();
            } else {
              throw new Error("Unable to get source layer LatLng.");
            }
          }
          this.setLatLng(latlng);
          if (this._map) {
            this.update();
          }
          return true;
        },
        _updateContent: function() {
          if (!this._content) {
            return;
          }
          var node = this._contentNode;
          var content = typeof this._content === "function" ? this._content(this._source || this) : this._content;
          if (typeof content === "string") {
            node.innerHTML = content;
          } else {
            while (node.hasChildNodes()) {
              node.removeChild(node.firstChild);
            }
            node.appendChild(content);
          }
          this.fire("contentupdate");
        },
        _updatePosition: function() {
          if (!this._map) {
            return;
          }
          var pos = this._map.latLngToLayerPoint(this._latlng), offset = toPoint(this.options.offset), anchor = this._getAnchor();
          if (this._zoomAnimated) {
            setPosition(this._container, pos.add(anchor));
          } else {
            offset = offset.add(pos).add(anchor);
          }
          var bottom = this._containerBottom = -offset.y, left = this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x;
          this._container.style.bottom = bottom + "px";
          this._container.style.left = left + "px";
        },
        _getAnchor: function() {
          return [0, 0];
        }
      });
      Map2.include({
        _initOverlay: function(OverlayClass, content, latlng, options) {
          var overlay = content;
          if (!(overlay instanceof OverlayClass)) {
            overlay = new OverlayClass(options).setContent(content);
          }
          if (latlng) {
            overlay.setLatLng(latlng);
          }
          return overlay;
        }
      });
      Layer.include({
        _initOverlay: function(OverlayClass, old, content, options) {
          var overlay = content;
          if (overlay instanceof OverlayClass) {
            setOptions(overlay, options);
            overlay._source = this;
          } else {
            overlay = old && !options ? old : new OverlayClass(options, this);
            overlay.setContent(content);
          }
          return overlay;
        }
      });
      var Popup = DivOverlay.extend({
        // @section
        // @aka Popup options
        options: {
          // @option pane: String = 'popupPane'
          // `Map pane` where the popup will be added.
          pane: "popupPane",
          // @option offset: Point = Point(0, 7)
          // The offset of the popup position.
          offset: [0, 7],
          // @option maxWidth: Number = 300
          // Max width of the popup, in pixels.
          maxWidth: 300,
          // @option minWidth: Number = 50
          // Min width of the popup, in pixels.
          minWidth: 50,
          // @option maxHeight: Number = null
          // If set, creates a scrollable container of the given height
          // inside a popup if its content exceeds it.
          // The scrollable container can be styled using the
          // `leaflet-popup-scrolled` CSS class selector.
          maxHeight: null,
          // @option autoPan: Boolean = true
          // Set it to `false` if you don't want the map to do panning animation
          // to fit the opened popup.
          autoPan: true,
          // @option autoPanPaddingTopLeft: Point = null
          // The margin between the popup and the top left corner of the map
          // view after autopanning was performed.
          autoPanPaddingTopLeft: null,
          // @option autoPanPaddingBottomRight: Point = null
          // The margin between the popup and the bottom right corner of the map
          // view after autopanning was performed.
          autoPanPaddingBottomRight: null,
          // @option autoPanPadding: Point = Point(5, 5)
          // Equivalent of setting both top left and bottom right autopan padding to the same value.
          autoPanPadding: [5, 5],
          // @option keepInView: Boolean = false
          // Set it to `true` if you want to prevent users from panning the popup
          // off of the screen while it is open.
          keepInView: false,
          // @option closeButton: Boolean = true
          // Controls the presence of a close button in the popup.
          closeButton: true,
          // @option autoClose: Boolean = true
          // Set it to `false` if you want to override the default behavior of
          // the popup closing when another popup is opened.
          autoClose: true,
          // @option closeOnEscapeKey: Boolean = true
          // Set it to `false` if you want to override the default behavior of
          // the ESC key for closing of the popup.
          closeOnEscapeKey: true,
          // @option closeOnClick: Boolean = *
          // Set it if you want to override the default behavior of the popup closing when user clicks
          // on the map. Defaults to the map's [`closePopupOnClick`](#map-closepopuponclick) option.
          // @option className: String = ''
          // A custom CSS class name to assign to the popup.
          className: ""
        },
        // @namespace Popup
        // @method openOn(map: Map): this
        // Alternative to `map.openPopup(popup)`.
        // Adds the popup to the map and closes the previous one.
        openOn: function(map2) {
          map2 = arguments.length ? map2 : this._source._map;
          if (!map2.hasLayer(this) && map2._popup && map2._popup.options.autoClose) {
            map2.removeLayer(map2._popup);
          }
          map2._popup = this;
          return DivOverlay.prototype.openOn.call(this, map2);
        },
        onAdd: function(map2) {
          DivOverlay.prototype.onAdd.call(this, map2);
          map2.fire("popupopen", { popup: this });
          if (this._source) {
            this._source.fire("popupopen", { popup: this }, true);
            if (!(this._source instanceof Path)) {
              this._source.on("preclick", stopPropagation);
            }
          }
        },
        onRemove: function(map2) {
          DivOverlay.prototype.onRemove.call(this, map2);
          map2.fire("popupclose", { popup: this });
          if (this._source) {
            this._source.fire("popupclose", { popup: this }, true);
            if (!(this._source instanceof Path)) {
              this._source.off("preclick", stopPropagation);
            }
          }
        },
        getEvents: function() {
          var events = DivOverlay.prototype.getEvents.call(this);
          if (this.options.closeOnClick !== void 0 ? this.options.closeOnClick : this._map.options.closePopupOnClick) {
            events.preclick = this.close;
          }
          if (this.options.keepInView) {
            events.moveend = this._adjustPan;
          }
          return events;
        },
        _initLayout: function() {
          var prefix = "leaflet-popup", container = this._container = create$1(
            "div",
            prefix + " " + (this.options.className || "") + " leaflet-zoom-animated"
          );
          var wrapper = this._wrapper = create$1("div", prefix + "-content-wrapper", container);
          this._contentNode = create$1("div", prefix + "-content", wrapper);
          disableClickPropagation(container);
          disableScrollPropagation(this._contentNode);
          on(container, "contextmenu", stopPropagation);
          this._tipContainer = create$1("div", prefix + "-tip-container", container);
          this._tip = create$1("div", prefix + "-tip", this._tipContainer);
          if (this.options.closeButton) {
            var closeButton = this._closeButton = create$1("a", prefix + "-close-button", container);
            closeButton.setAttribute("role", "button");
            closeButton.setAttribute("aria-label", "Close popup");
            closeButton.href = "#close";
            closeButton.innerHTML = '<span aria-hidden="true">&#215;</span>';
            on(closeButton, "click", function(ev) {
              preventDefault(ev);
              this.close();
            }, this);
          }
        },
        _updateLayout: function() {
          var container = this._contentNode, style2 = container.style;
          style2.width = "";
          style2.whiteSpace = "nowrap";
          var width = container.offsetWidth;
          width = Math.min(width, this.options.maxWidth);
          width = Math.max(width, this.options.minWidth);
          style2.width = width + 1 + "px";
          style2.whiteSpace = "";
          style2.height = "";
          var height = container.offsetHeight, maxHeight = this.options.maxHeight, scrolledClass = "leaflet-popup-scrolled";
          if (maxHeight && height > maxHeight) {
            style2.height = maxHeight + "px";
            addClass(container, scrolledClass);
          } else {
            removeClass(container, scrolledClass);
          }
          this._containerWidth = this._container.offsetWidth;
        },
        _animateZoom: function(e) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center), anchor = this._getAnchor();
          setPosition(this._container, pos.add(anchor));
        },
        _adjustPan: function() {
          if (!this.options.autoPan) {
            return;
          }
          if (this._map._panAnim) {
            this._map._panAnim.stop();
          }
          if (this._autopanning) {
            this._autopanning = false;
            return;
          }
          var map2 = this._map, marginBottom = parseInt(getStyle(this._container, "marginBottom"), 10) || 0, containerHeight = this._container.offsetHeight + marginBottom, containerWidth = this._containerWidth, layerPos = new Point(this._containerLeft, -containerHeight - this._containerBottom);
          layerPos._add(getPosition(this._container));
          var containerPos = map2.layerPointToContainerPoint(layerPos), padding = toPoint(this.options.autoPanPadding), paddingTL = toPoint(this.options.autoPanPaddingTopLeft || padding), paddingBR = toPoint(this.options.autoPanPaddingBottomRight || padding), size = map2.getSize(), dx = 0, dy = 0;
          if (containerPos.x + containerWidth + paddingBR.x > size.x) {
            dx = containerPos.x + containerWidth - size.x + paddingBR.x;
          }
          if (containerPos.x - dx - paddingTL.x < 0) {
            dx = containerPos.x - paddingTL.x;
          }
          if (containerPos.y + containerHeight + paddingBR.y > size.y) {
            dy = containerPos.y + containerHeight - size.y + paddingBR.y;
          }
          if (containerPos.y - dy - paddingTL.y < 0) {
            dy = containerPos.y - paddingTL.y;
          }
          if (dx || dy) {
            if (this.options.keepInView) {
              this._autopanning = true;
            }
            map2.fire("autopanstart").panBy([dx, dy]);
          }
        },
        _getAnchor: function() {
          return toPoint(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]);
        }
      });
      var popup = function(options, source) {
        return new Popup(options, source);
      };
      Map2.mergeOptions({
        closePopupOnClick: true
      });
      Map2.include({
        // @method openPopup(popup: Popup): this
        // Opens the specified popup while closing the previously opened (to make sure only one is opened at one time for usability).
        // @alternative
        // @method openPopup(content: String|HTMLElement, latlng: LatLng, options?: Popup options): this
        // Creates a popup with the specified content and options and opens it in the given point on a map.
        openPopup: function(popup2, latlng, options) {
          this._initOverlay(Popup, popup2, latlng, options).openOn(this);
          return this;
        },
        // @method closePopup(popup?: Popup): this
        // Closes the popup previously opened with [openPopup](#map-openpopup) (or the given one).
        closePopup: function(popup2) {
          popup2 = arguments.length ? popup2 : this._popup;
          if (popup2) {
            popup2.close();
          }
          return this;
        }
      });
      Layer.include({
        // @method bindPopup(content: String|HTMLElement|Function|Popup, options?: Popup options): this
        // Binds a popup to the layer with the passed `content` and sets up the
        // necessary event listeners. If a `Function` is passed it will receive
        // the layer as the first argument and should return a `String` or `HTMLElement`.
        bindPopup: function(content, options) {
          this._popup = this._initOverlay(Popup, this._popup, content, options);
          if (!this._popupHandlersAdded) {
            this.on({
              click: this._openPopup,
              keypress: this._onKeyPress,
              remove: this.closePopup,
              move: this._movePopup
            });
            this._popupHandlersAdded = true;
          }
          return this;
        },
        // @method unbindPopup(): this
        // Removes the popup previously bound with `bindPopup`.
        unbindPopup: function() {
          if (this._popup) {
            this.off({
              click: this._openPopup,
              keypress: this._onKeyPress,
              remove: this.closePopup,
              move: this._movePopup
            });
            this._popupHandlersAdded = false;
            this._popup = null;
          }
          return this;
        },
        // @method openPopup(latlng?: LatLng): this
        // Opens the bound popup at the specified `latlng` or at the default popup anchor if no `latlng` is passed.
        openPopup: function(latlng) {
          if (this._popup) {
            if (!(this instanceof FeatureGroup2)) {
              this._popup._source = this;
            }
            if (this._popup._prepareOpen(latlng || this._latlng)) {
              this._popup.openOn(this._map);
            }
          }
          return this;
        },
        // @method closePopup(): this
        // Closes the popup bound to this layer if it is open.
        closePopup: function() {
          if (this._popup) {
            this._popup.close();
          }
          return this;
        },
        // @method togglePopup(): this
        // Opens or closes the popup bound to this layer depending on its current state.
        togglePopup: function() {
          if (this._popup) {
            this._popup.toggle(this);
          }
          return this;
        },
        // @method isPopupOpen(): boolean
        // Returns `true` if the popup bound to this layer is currently open.
        isPopupOpen: function() {
          return this._popup ? this._popup.isOpen() : false;
        },
        // @method setPopupContent(content: String|HTMLElement|Popup): this
        // Sets the content of the popup bound to this layer.
        setPopupContent: function(content) {
          if (this._popup) {
            this._popup.setContent(content);
          }
          return this;
        },
        // @method getPopup(): Popup
        // Returns the popup bound to this layer.
        getPopup: function() {
          return this._popup;
        },
        _openPopup: function(e) {
          if (!this._popup || !this._map) {
            return;
          }
          stop(e);
          var target = e.layer || e.target;
          if (this._popup._source === target && !(target instanceof Path)) {
            if (this._map.hasLayer(this._popup)) {
              this.closePopup();
            } else {
              this.openPopup(e.latlng);
            }
            return;
          }
          this._popup._source = target;
          this.openPopup(e.latlng);
        },
        _movePopup: function(e) {
          this._popup.setLatLng(e.latlng);
        },
        _onKeyPress: function(e) {
          if (e.originalEvent.keyCode === 13) {
            this._openPopup(e);
          }
        }
      });
      var Tooltip = DivOverlay.extend({
        // @section
        // @aka Tooltip options
        options: {
          // @option pane: String = 'tooltipPane'
          // `Map pane` where the tooltip will be added.
          pane: "tooltipPane",
          // @option offset: Point = Point(0, 0)
          // Optional offset of the tooltip position.
          offset: [0, 0],
          // @option direction: String = 'auto'
          // Direction where to open the tooltip. Possible values are: `right`, `left`,
          // `top`, `bottom`, `center`, `auto`.
          // `auto` will dynamically switch between `right` and `left` according to the tooltip
          // position on the map.
          direction: "auto",
          // @option permanent: Boolean = false
          // Whether to open the tooltip permanently or only on mouseover.
          permanent: false,
          // @option sticky: Boolean = false
          // If true, the tooltip will follow the mouse instead of being fixed at the feature center.
          sticky: false,
          // @option opacity: Number = 0.9
          // Tooltip container opacity.
          opacity: 0.9
        },
        onAdd: function(map2) {
          DivOverlay.prototype.onAdd.call(this, map2);
          this.setOpacity(this.options.opacity);
          map2.fire("tooltipopen", { tooltip: this });
          if (this._source) {
            this.addEventParent(this._source);
            this._source.fire("tooltipopen", { tooltip: this }, true);
          }
        },
        onRemove: function(map2) {
          DivOverlay.prototype.onRemove.call(this, map2);
          map2.fire("tooltipclose", { tooltip: this });
          if (this._source) {
            this.removeEventParent(this._source);
            this._source.fire("tooltipclose", { tooltip: this }, true);
          }
        },
        getEvents: function() {
          var events = DivOverlay.prototype.getEvents.call(this);
          if (!this.options.permanent) {
            events.preclick = this.close;
          }
          return events;
        },
        _initLayout: function() {
          var prefix = "leaflet-tooltip", className = prefix + " " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
          this._contentNode = this._container = create$1("div", className);
          this._container.setAttribute("role", "tooltip");
          this._container.setAttribute("id", "leaflet-tooltip-" + stamp(this));
        },
        _updateLayout: function() {
        },
        _adjustPan: function() {
        },
        _setPosition: function(pos) {
          var subX, subY, map2 = this._map, container = this._container, centerPoint = map2.latLngToContainerPoint(map2.getCenter()), tooltipPoint = map2.layerPointToContainerPoint(pos), direction = this.options.direction, tooltipWidth = container.offsetWidth, tooltipHeight = container.offsetHeight, offset = toPoint(this.options.offset), anchor = this._getAnchor();
          if (direction === "top") {
            subX = tooltipWidth / 2;
            subY = tooltipHeight;
          } else if (direction === "bottom") {
            subX = tooltipWidth / 2;
            subY = 0;
          } else if (direction === "center") {
            subX = tooltipWidth / 2;
            subY = tooltipHeight / 2;
          } else if (direction === "right") {
            subX = 0;
            subY = tooltipHeight / 2;
          } else if (direction === "left") {
            subX = tooltipWidth;
            subY = tooltipHeight / 2;
          } else if (tooltipPoint.x < centerPoint.x) {
            direction = "right";
            subX = 0;
            subY = tooltipHeight / 2;
          } else {
            direction = "left";
            subX = tooltipWidth + (offset.x + anchor.x) * 2;
            subY = tooltipHeight / 2;
          }
          pos = pos.subtract(toPoint(subX, subY, true)).add(offset).add(anchor);
          removeClass(container, "leaflet-tooltip-right");
          removeClass(container, "leaflet-tooltip-left");
          removeClass(container, "leaflet-tooltip-top");
          removeClass(container, "leaflet-tooltip-bottom");
          addClass(container, "leaflet-tooltip-" + direction);
          setPosition(container, pos);
        },
        _updatePosition: function() {
          var pos = this._map.latLngToLayerPoint(this._latlng);
          this._setPosition(pos);
        },
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          if (this._container) {
            setOpacity(this._container, opacity);
          }
        },
        _animateZoom: function(e) {
          var pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);
          this._setPosition(pos);
        },
        _getAnchor: function() {
          return toPoint(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]);
        }
      });
      var tooltip = function(options, source) {
        return new Tooltip(options, source);
      };
      Map2.include({
        // @method openTooltip(tooltip: Tooltip): this
        // Opens the specified tooltip.
        // @alternative
        // @method openTooltip(content: String|HTMLElement, latlng: LatLng, options?: Tooltip options): this
        // Creates a tooltip with the specified content and options and open it.
        openTooltip: function(tooltip2, latlng, options) {
          this._initOverlay(Tooltip, tooltip2, latlng, options).openOn(this);
          return this;
        },
        // @method closeTooltip(tooltip: Tooltip): this
        // Closes the tooltip given as parameter.
        closeTooltip: function(tooltip2) {
          tooltip2.close();
          return this;
        }
      });
      Layer.include({
        // @method bindTooltip(content: String|HTMLElement|Function|Tooltip, options?: Tooltip options): this
        // Binds a tooltip to the layer with the passed `content` and sets up the
        // necessary event listeners. If a `Function` is passed it will receive
        // the layer as the first argument and should return a `String` or `HTMLElement`.
        bindTooltip: function(content, options) {
          if (this._tooltip && this.isTooltipOpen()) {
            this.unbindTooltip();
          }
          this._tooltip = this._initOverlay(Tooltip, this._tooltip, content, options);
          this._initTooltipInteractions();
          if (this._tooltip.options.permanent && this._map && this._map.hasLayer(this)) {
            this.openTooltip();
          }
          return this;
        },
        // @method unbindTooltip(): this
        // Removes the tooltip previously bound with `bindTooltip`.
        unbindTooltip: function() {
          if (this._tooltip) {
            this._initTooltipInteractions(true);
            this.closeTooltip();
            this._tooltip = null;
          }
          return this;
        },
        _initTooltipInteractions: function(remove2) {
          if (!remove2 && this._tooltipHandlersAdded) {
            return;
          }
          var onOff = remove2 ? "off" : "on", events = {
            remove: this.closeTooltip,
            move: this._moveTooltip
          };
          if (!this._tooltip.options.permanent) {
            events.mouseover = this._openTooltip;
            events.mouseout = this.closeTooltip;
            events.click = this._openTooltip;
            if (this._map) {
              this._addFocusListeners();
            } else {
              events.add = this._addFocusListeners;
            }
          } else {
            events.add = this._openTooltip;
          }
          if (this._tooltip.options.sticky) {
            events.mousemove = this._moveTooltip;
          }
          this[onOff](events);
          this._tooltipHandlersAdded = !remove2;
        },
        // @method openTooltip(latlng?: LatLng): this
        // Opens the bound tooltip at the specified `latlng` or at the default tooltip anchor if no `latlng` is passed.
        openTooltip: function(latlng) {
          if (this._tooltip) {
            if (!(this instanceof FeatureGroup2)) {
              this._tooltip._source = this;
            }
            if (this._tooltip._prepareOpen(latlng)) {
              this._tooltip.openOn(this._map);
              if (this.getElement) {
                this._setAriaDescribedByOnLayer(this);
              } else if (this.eachLayer) {
                this.eachLayer(this._setAriaDescribedByOnLayer, this);
              }
            }
          }
          return this;
        },
        // @method closeTooltip(): this
        // Closes the tooltip bound to this layer if it is open.
        closeTooltip: function() {
          if (this._tooltip) {
            return this._tooltip.close();
          }
        },
        // @method toggleTooltip(): this
        // Opens or closes the tooltip bound to this layer depending on its current state.
        toggleTooltip: function() {
          if (this._tooltip) {
            this._tooltip.toggle(this);
          }
          return this;
        },
        // @method isTooltipOpen(): boolean
        // Returns `true` if the tooltip bound to this layer is currently open.
        isTooltipOpen: function() {
          return this._tooltip.isOpen();
        },
        // @method setTooltipContent(content: String|HTMLElement|Tooltip): this
        // Sets the content of the tooltip bound to this layer.
        setTooltipContent: function(content) {
          if (this._tooltip) {
            this._tooltip.setContent(content);
          }
          return this;
        },
        // @method getTooltip(): Tooltip
        // Returns the tooltip bound to this layer.
        getTooltip: function() {
          return this._tooltip;
        },
        _addFocusListeners: function() {
          if (this.getElement) {
            this._addFocusListenersOnLayer(this);
          } else if (this.eachLayer) {
            this.eachLayer(this._addFocusListenersOnLayer, this);
          }
        },
        _addFocusListenersOnLayer: function(layer) {
          var el = typeof layer.getElement === "function" && layer.getElement();
          if (el) {
            on(el, "focus", function() {
              this._tooltip._source = layer;
              this.openTooltip();
            }, this);
            on(el, "blur", this.closeTooltip, this);
          }
        },
        _setAriaDescribedByOnLayer: function(layer) {
          var el = typeof layer.getElement === "function" && layer.getElement();
          if (el) {
            el.setAttribute("aria-describedby", this._tooltip._container.id);
          }
        },
        _openTooltip: function(e) {
          if (!this._tooltip || !this._map) {
            return;
          }
          if (this._map.dragging && this._map.dragging.moving() && !this._openOnceFlag) {
            this._openOnceFlag = true;
            var that = this;
            this._map.once("moveend", function() {
              that._openOnceFlag = false;
              that._openTooltip(e);
            });
            return;
          }
          this._tooltip._source = e.layer || e.target;
          this.openTooltip(this._tooltip.options.sticky ? e.latlng : void 0);
        },
        _moveTooltip: function(e) {
          var latlng = e.latlng, containerPoint, layerPoint;
          if (this._tooltip.options.sticky && e.originalEvent) {
            containerPoint = this._map.mouseEventToContainerPoint(e.originalEvent);
            layerPoint = this._map.containerPointToLayerPoint(containerPoint);
            latlng = this._map.layerPointToLatLng(layerPoint);
          }
          this._tooltip.setLatLng(latlng);
        }
      });
      var DivIcon = Icon.extend({
        options: {
          // @section
          // @aka DivIcon options
          iconSize: [12, 12],
          // also can be set through CSS
          // iconAnchor: (Point),
          // popupAnchor: (Point),
          // @option html: String|HTMLElement = ''
          // Custom HTML code to put inside the div element, empty by default. Alternatively,
          // an instance of `HTMLElement`.
          html: false,
          // @option bgPos: Point = [0, 0]
          // Optional relative position of the background, in pixels
          bgPos: null,
          className: "leaflet-div-icon"
        },
        createIcon: function(oldIcon) {
          var div = oldIcon && oldIcon.tagName === "DIV" ? oldIcon : document.createElement("div"), options = this.options;
          if (options.html instanceof Element) {
            empty(div);
            div.appendChild(options.html);
          } else {
            div.innerHTML = options.html !== false ? options.html : "";
          }
          if (options.bgPos) {
            var bgPos = toPoint(options.bgPos);
            div.style.backgroundPosition = -bgPos.x + "px " + -bgPos.y + "px";
          }
          this._setIconStyles(div, "icon");
          return div;
        },
        createShadow: function() {
          return null;
        }
      });
      function divIcon2(options) {
        return new DivIcon(options);
      }
      Icon.Default = IconDefault;
      var GridLayer = Layer.extend({
        // @section
        // @aka GridLayer options
        options: {
          // @option tileSize: Number|Point = 256
          // Width and height of tiles in the grid. Use a number if width and height are equal, or `L.point(width, height)` otherwise.
          tileSize: 256,
          // @option opacity: Number = 1.0
          // Opacity of the tiles. Can be used in the `createTile()` function.
          opacity: 1,
          // @option updateWhenIdle: Boolean = (depends)
          // Load new tiles only when panning ends.
          // `true` by default on mobile browsers, in order to avoid too many requests and keep smooth navigation.
          // `false` otherwise in order to display new tiles _during_ panning, since it is easy to pan outside the
          // [`keepBuffer`](#gridlayer-keepbuffer) option in desktop browsers.
          updateWhenIdle: Browser.mobile,
          // @option updateWhenZooming: Boolean = true
          // By default, a smooth zoom animation (during a [touch zoom](#map-touchzoom) or a [`flyTo()`](#map-flyto)) will update grid layers every integer zoom level. Setting this option to `false` will update the grid layer only when the smooth animation ends.
          updateWhenZooming: true,
          // @option updateInterval: Number = 200
          // Tiles will not update more than once every `updateInterval` milliseconds when panning.
          updateInterval: 200,
          // @option zIndex: Number = 1
          // The explicit zIndex of the tile layer.
          zIndex: 1,
          // @option bounds: LatLngBounds = undefined
          // If set, tiles will only be loaded inside the set `LatLngBounds`.
          bounds: null,
          // @option minZoom: Number = 0
          // The minimum zoom level down to which this layer will be displayed (inclusive).
          minZoom: 0,
          // @option maxZoom: Number = undefined
          // The maximum zoom level up to which this layer will be displayed (inclusive).
          maxZoom: void 0,
          // @option maxNativeZoom: Number = undefined
          // Maximum zoom number the tile source has available. If it is specified,
          // the tiles on all zoom levels higher than `maxNativeZoom` will be loaded
          // from `maxNativeZoom` level and auto-scaled.
          maxNativeZoom: void 0,
          // @option minNativeZoom: Number = undefined
          // Minimum zoom number the tile source has available. If it is specified,
          // the tiles on all zoom levels lower than `minNativeZoom` will be loaded
          // from `minNativeZoom` level and auto-scaled.
          minNativeZoom: void 0,
          // @option noWrap: Boolean = false
          // Whether the layer is wrapped around the antimeridian. If `true`, the
          // GridLayer will only be displayed once at low zoom levels. Has no
          // effect when the [map CRS](#map-crs) doesn't wrap around. Can be used
          // in combination with [`bounds`](#gridlayer-bounds) to prevent requesting
          // tiles outside the CRS limits.
          noWrap: false,
          // @option pane: String = 'tilePane'
          // `Map pane` where the grid layer will be added.
          pane: "tilePane",
          // @option className: String = ''
          // A custom class name to assign to the tile layer. Empty by default.
          className: "",
          // @option keepBuffer: Number = 2
          // When panning the map, keep this many rows and columns of tiles before unloading them.
          keepBuffer: 2
        },
        initialize: function(options) {
          setOptions(this, options);
        },
        onAdd: function() {
          this._initContainer();
          this._levels = {};
          this._tiles = {};
          this._resetView();
        },
        beforeAdd: function(map2) {
          map2._addZoomLimit(this);
        },
        onRemove: function(map2) {
          this._removeAllTiles();
          remove(this._container);
          map2._removeZoomLimit(this);
          this._container = null;
          this._tileZoom = void 0;
        },
        // @method bringToFront: this
        // Brings the tile layer to the top of all tile layers.
        bringToFront: function() {
          if (this._map) {
            toFront(this._container);
            this._setAutoZIndex(Math.max);
          }
          return this;
        },
        // @method bringToBack: this
        // Brings the tile layer to the bottom of all tile layers.
        bringToBack: function() {
          if (this._map) {
            toBack(this._container);
            this._setAutoZIndex(Math.min);
          }
          return this;
        },
        // @method getContainer: HTMLElement
        // Returns the HTML element that contains the tiles for this layer.
        getContainer: function() {
          return this._container;
        },
        // @method setOpacity(opacity: Number): this
        // Changes the [opacity](#gridlayer-opacity) of the grid layer.
        setOpacity: function(opacity) {
          this.options.opacity = opacity;
          this._updateOpacity();
          return this;
        },
        // @method setZIndex(zIndex: Number): this
        // Changes the [zIndex](#gridlayer-zindex) of the grid layer.
        setZIndex: function(zIndex) {
          this.options.zIndex = zIndex;
          this._updateZIndex();
          return this;
        },
        // @method isLoading: Boolean
        // Returns `true` if any tile in the grid layer has not finished loading.
        isLoading: function() {
          return this._loading;
        },
        // @method redraw: this
        // Causes the layer to clear all the tiles and request them again.
        redraw: function() {
          if (this._map) {
            this._removeAllTiles();
            var tileZoom = this._clampZoom(this._map.getZoom());
            if (tileZoom !== this._tileZoom) {
              this._tileZoom = tileZoom;
              this._updateLevels();
            }
            this._update();
          }
          return this;
        },
        getEvents: function() {
          var events = {
            viewprereset: this._invalidateAll,
            viewreset: this._resetView,
            zoom: this._resetView,
            moveend: this._onMoveEnd
          };
          if (!this.options.updateWhenIdle) {
            if (!this._onMove) {
              this._onMove = throttle(this._onMoveEnd, this.options.updateInterval, this);
            }
            events.move = this._onMove;
          }
          if (this._zoomAnimated) {
            events.zoomanim = this._animateZoom;
          }
          return events;
        },
        // @section Extension methods
        // Layers extending `GridLayer` shall reimplement the following method.
        // @method createTile(coords: Object, done?: Function): HTMLElement
        // Called only internally, must be overridden by classes extending `GridLayer`.
        // Returns the `HTMLElement` corresponding to the given `coords`. If the `done` callback
        // is specified, it must be called when the tile has finished loading and drawing.
        createTile: function() {
          return document.createElement("div");
        },
        // @section
        // @method getTileSize: Point
        // Normalizes the [tileSize option](#gridlayer-tilesize) into a point. Used by the `createTile()` method.
        getTileSize: function() {
          var s = this.options.tileSize;
          return s instanceof Point ? s : new Point(s, s);
        },
        _updateZIndex: function() {
          if (this._container && this.options.zIndex !== void 0 && this.options.zIndex !== null) {
            this._container.style.zIndex = this.options.zIndex;
          }
        },
        _setAutoZIndex: function(compare) {
          var layers2 = this.getPane().children, edgeZIndex = -compare(-Infinity, Infinity);
          for (var i = 0, len = layers2.length, zIndex; i < len; i++) {
            zIndex = layers2[i].style.zIndex;
            if (layers2[i] !== this._container && zIndex) {
              edgeZIndex = compare(edgeZIndex, +zIndex);
            }
          }
          if (isFinite(edgeZIndex)) {
            this.options.zIndex = edgeZIndex + compare(-1, 1);
            this._updateZIndex();
          }
        },
        _updateOpacity: function() {
          if (!this._map) {
            return;
          }
          if (Browser.ielt9) {
            return;
          }
          setOpacity(this._container, this.options.opacity);
          var now = +/* @__PURE__ */ new Date(), nextFrame = false, willPrune = false;
          for (var key in this._tiles) {
            var tile = this._tiles[key];
            if (!tile.current || !tile.loaded) {
              continue;
            }
            var fade = Math.min(1, (now - tile.loaded) / 200);
            setOpacity(tile.el, fade);
            if (fade < 1) {
              nextFrame = true;
            } else {
              if (tile.active) {
                willPrune = true;
              } else {
                this._onOpaqueTile(tile);
              }
              tile.active = true;
            }
          }
          if (willPrune && !this._noPrune) {
            this._pruneTiles();
          }
          if (nextFrame) {
            cancelAnimFrame(this._fadeFrame);
            this._fadeFrame = requestAnimFrame(this._updateOpacity, this);
          }
        },
        _onOpaqueTile: falseFn,
        _initContainer: function() {
          if (this._container) {
            return;
          }
          this._container = create$1("div", "leaflet-layer " + (this.options.className || ""));
          this._updateZIndex();
          if (this.options.opacity < 1) {
            this._updateOpacity();
          }
          this.getPane().appendChild(this._container);
        },
        _updateLevels: function() {
          var zoom2 = this._tileZoom, maxZoom = this.options.maxZoom;
          if (zoom2 === void 0) {
            return void 0;
          }
          for (var z in this._levels) {
            z = Number(z);
            if (this._levels[z].el.children.length || z === zoom2) {
              this._levels[z].el.style.zIndex = maxZoom - Math.abs(zoom2 - z);
              this._onUpdateLevel(z);
            } else {
              remove(this._levels[z].el);
              this._removeTilesAtZoom(z);
              this._onRemoveLevel(z);
              delete this._levels[z];
            }
          }
          var level = this._levels[zoom2], map2 = this._map;
          if (!level) {
            level = this._levels[zoom2] = {};
            level.el = create$1("div", "leaflet-tile-container leaflet-zoom-animated", this._container);
            level.el.style.zIndex = maxZoom;
            level.origin = map2.project(map2.unproject(map2.getPixelOrigin()), zoom2).round();
            level.zoom = zoom2;
            this._setZoomTransform(level, map2.getCenter(), map2.getZoom());
            falseFn(level.el.offsetWidth);
            this._onCreateLevel(level);
          }
          this._level = level;
          return level;
        },
        _onUpdateLevel: falseFn,
        _onRemoveLevel: falseFn,
        _onCreateLevel: falseFn,
        _pruneTiles: function() {
          if (!this._map) {
            return;
          }
          var key, tile;
          var zoom2 = this._map.getZoom();
          if (zoom2 > this.options.maxZoom || zoom2 < this.options.minZoom) {
            this._removeAllTiles();
            return;
          }
          for (key in this._tiles) {
            tile = this._tiles[key];
            tile.retain = tile.current;
          }
          for (key in this._tiles) {
            tile = this._tiles[key];
            if (tile.current && !tile.active) {
              var coords = tile.coords;
              if (!this._retainParent(coords.x, coords.y, coords.z, coords.z - 5)) {
                this._retainChildren(coords.x, coords.y, coords.z, coords.z + 2);
              }
            }
          }
          for (key in this._tiles) {
            if (!this._tiles[key].retain) {
              this._removeTile(key);
            }
          }
        },
        _removeTilesAtZoom: function(zoom2) {
          for (var key in this._tiles) {
            if (this._tiles[key].coords.z !== zoom2) {
              continue;
            }
            this._removeTile(key);
          }
        },
        _removeAllTiles: function() {
          for (var key in this._tiles) {
            this._removeTile(key);
          }
        },
        _invalidateAll: function() {
          for (var z in this._levels) {
            remove(this._levels[z].el);
            this._onRemoveLevel(Number(z));
            delete this._levels[z];
          }
          this._removeAllTiles();
          this._tileZoom = void 0;
        },
        _retainParent: function(x, y, z, minZoom) {
          var x2 = Math.floor(x / 2), y2 = Math.floor(y / 2), z2 = z - 1, coords2 = new Point(+x2, +y2);
          coords2.z = +z2;
          var key = this._tileCoordsToKey(coords2), tile = this._tiles[key];
          if (tile && tile.active) {
            tile.retain = true;
            return true;
          } else if (tile && tile.loaded) {
            tile.retain = true;
          }
          if (z2 > minZoom) {
            return this._retainParent(x2, y2, z2, minZoom);
          }
          return false;
        },
        _retainChildren: function(x, y, z, maxZoom) {
          for (var i = 2 * x; i < 2 * x + 2; i++) {
            for (var j = 2 * y; j < 2 * y + 2; j++) {
              var coords = new Point(i, j);
              coords.z = z + 1;
              var key = this._tileCoordsToKey(coords), tile = this._tiles[key];
              if (tile && tile.active) {
                tile.retain = true;
                continue;
              } else if (tile && tile.loaded) {
                tile.retain = true;
              }
              if (z + 1 < maxZoom) {
                this._retainChildren(i, j, z + 1, maxZoom);
              }
            }
          }
        },
        _resetView: function(e) {
          var animating = e && (e.pinch || e.flyTo);
          this._setView(this._map.getCenter(), this._map.getZoom(), animating, animating);
        },
        _animateZoom: function(e) {
          this._setView(e.center, e.zoom, true, e.noUpdate);
        },
        _clampZoom: function(zoom2) {
          var options = this.options;
          if (void 0 !== options.minNativeZoom && zoom2 < options.minNativeZoom) {
            return options.minNativeZoom;
          }
          if (void 0 !== options.maxNativeZoom && options.maxNativeZoom < zoom2) {
            return options.maxNativeZoom;
          }
          return zoom2;
        },
        _setView: function(center, zoom2, noPrune, noUpdate) {
          var tileZoom = Math.round(zoom2);
          if (this.options.maxZoom !== void 0 && tileZoom > this.options.maxZoom || this.options.minZoom !== void 0 && tileZoom < this.options.minZoom) {
            tileZoom = void 0;
          } else {
            tileZoom = this._clampZoom(tileZoom);
          }
          var tileZoomChanged = this.options.updateWhenZooming && tileZoom !== this._tileZoom;
          if (!noUpdate || tileZoomChanged) {
            this._tileZoom = tileZoom;
            if (this._abortLoading) {
              this._abortLoading();
            }
            this._updateLevels();
            this._resetGrid();
            if (tileZoom !== void 0) {
              this._update(center);
            }
            if (!noPrune) {
              this._pruneTiles();
            }
            this._noPrune = !!noPrune;
          }
          this._setZoomTransforms(center, zoom2);
        },
        _setZoomTransforms: function(center, zoom2) {
          for (var i in this._levels) {
            this._setZoomTransform(this._levels[i], center, zoom2);
          }
        },
        _setZoomTransform: function(level, center, zoom2) {
          var scale2 = this._map.getZoomScale(zoom2, level.zoom), translate = level.origin.multiplyBy(scale2).subtract(this._map._getNewPixelOrigin(center, zoom2)).round();
          if (Browser.any3d) {
            setTransform(level.el, translate, scale2);
          } else {
            setPosition(level.el, translate);
          }
        },
        _resetGrid: function() {
          var map2 = this._map, crs = map2.options.crs, tileSize = this._tileSize = this.getTileSize(), tileZoom = this._tileZoom;
          var bounds = this._map.getPixelWorldBounds(this._tileZoom);
          if (bounds) {
            this._globalTileRange = this._pxBoundsToTileRange(bounds);
          }
          this._wrapX = crs.wrapLng && !this.options.noWrap && [
            Math.floor(map2.project([0, crs.wrapLng[0]], tileZoom).x / tileSize.x),
            Math.ceil(map2.project([0, crs.wrapLng[1]], tileZoom).x / tileSize.y)
          ];
          this._wrapY = crs.wrapLat && !this.options.noWrap && [
            Math.floor(map2.project([crs.wrapLat[0], 0], tileZoom).y / tileSize.x),
            Math.ceil(map2.project([crs.wrapLat[1], 0], tileZoom).y / tileSize.y)
          ];
        },
        _onMoveEnd: function() {
          if (!this._map || this._map._animatingZoom) {
            return;
          }
          this._update();
        },
        _getTiledPixelBounds: function(center) {
          var map2 = this._map, mapZoom = map2._animatingZoom ? Math.max(map2._animateToZoom, map2.getZoom()) : map2.getZoom(), scale2 = map2.getZoomScale(mapZoom, this._tileZoom), pixelCenter = map2.project(center, this._tileZoom).floor(), halfSize = map2.getSize().divideBy(scale2 * 2);
          return new Bounds(pixelCenter.subtract(halfSize), pixelCenter.add(halfSize));
        },
        // Private method to load tiles in the grid's active zoom level according to map bounds
        _update: function(center) {
          var map2 = this._map;
          if (!map2) {
            return;
          }
          var zoom2 = this._clampZoom(map2.getZoom());
          if (center === void 0) {
            center = map2.getCenter();
          }
          if (this._tileZoom === void 0) {
            return;
          }
          var pixelBounds = this._getTiledPixelBounds(center), tileRange = this._pxBoundsToTileRange(pixelBounds), tileCenter = tileRange.getCenter(), queue = [], margin = this.options.keepBuffer, noPruneRange = new Bounds(
            tileRange.getBottomLeft().subtract([margin, -margin]),
            tileRange.getTopRight().add([margin, -margin])
          );
          if (!(isFinite(tileRange.min.x) && isFinite(tileRange.min.y) && isFinite(tileRange.max.x) && isFinite(tileRange.max.y))) {
            throw new Error("Attempted to load an infinite number of tiles");
          }
          for (var key in this._tiles) {
            var c = this._tiles[key].coords;
            if (c.z !== this._tileZoom || !noPruneRange.contains(new Point(c.x, c.y))) {
              this._tiles[key].current = false;
            }
          }
          if (Math.abs(zoom2 - this._tileZoom) > 1) {
            this._setView(center, zoom2);
            return;
          }
          for (var j = tileRange.min.y; j <= tileRange.max.y; j++) {
            for (var i = tileRange.min.x; i <= tileRange.max.x; i++) {
              var coords = new Point(i, j);
              coords.z = this._tileZoom;
              if (!this._isValidTile(coords)) {
                continue;
              }
              var tile = this._tiles[this._tileCoordsToKey(coords)];
              if (tile) {
                tile.current = true;
              } else {
                queue.push(coords);
              }
            }
          }
          queue.sort(function(a, b) {
            return a.distanceTo(tileCenter) - b.distanceTo(tileCenter);
          });
          if (queue.length !== 0) {
            if (!this._loading) {
              this._loading = true;
              this.fire("loading");
            }
            var fragment = document.createDocumentFragment();
            for (i = 0; i < queue.length; i++) {
              this._addTile(queue[i], fragment);
            }
            this._level.el.appendChild(fragment);
          }
        },
        _isValidTile: function(coords) {
          var crs = this._map.options.crs;
          if (!crs.infinite) {
            var bounds = this._globalTileRange;
            if (!crs.wrapLng && (coords.x < bounds.min.x || coords.x > bounds.max.x) || !crs.wrapLat && (coords.y < bounds.min.y || coords.y > bounds.max.y)) {
              return false;
            }
          }
          if (!this.options.bounds) {
            return true;
          }
          var tileBounds = this._tileCoordsToBounds(coords);
          return toLatLngBounds(this.options.bounds).overlaps(tileBounds);
        },
        _keyToBounds: function(key) {
          return this._tileCoordsToBounds(this._keyToTileCoords(key));
        },
        _tileCoordsToNwSe: function(coords) {
          var map2 = this._map, tileSize = this.getTileSize(), nwPoint = coords.scaleBy(tileSize), sePoint = nwPoint.add(tileSize), nw = map2.unproject(nwPoint, coords.z), se = map2.unproject(sePoint, coords.z);
          return [nw, se];
        },
        // converts tile coordinates to its geographical bounds
        _tileCoordsToBounds: function(coords) {
          var bp = this._tileCoordsToNwSe(coords), bounds = new LatLngBounds(bp[0], bp[1]);
          if (!this.options.noWrap) {
            bounds = this._map.wrapLatLngBounds(bounds);
          }
          return bounds;
        },
        // converts tile coordinates to key for the tile cache
        _tileCoordsToKey: function(coords) {
          return coords.x + ":" + coords.y + ":" + coords.z;
        },
        // converts tile cache key to coordinates
        _keyToTileCoords: function(key) {
          var k = key.split(":"), coords = new Point(+k[0], +k[1]);
          coords.z = +k[2];
          return coords;
        },
        _removeTile: function(key) {
          var tile = this._tiles[key];
          if (!tile) {
            return;
          }
          remove(tile.el);
          delete this._tiles[key];
          this.fire("tileunload", {
            tile: tile.el,
            coords: this._keyToTileCoords(key)
          });
        },
        _initTile: function(tile) {
          addClass(tile, "leaflet-tile");
          var tileSize = this.getTileSize();
          tile.style.width = tileSize.x + "px";
          tile.style.height = tileSize.y + "px";
          tile.onselectstart = falseFn;
          tile.onmousemove = falseFn;
          if (Browser.ielt9 && this.options.opacity < 1) {
            setOpacity(tile, this.options.opacity);
          }
        },
        _addTile: function(coords, container) {
          var tilePos = this._getTilePos(coords), key = this._tileCoordsToKey(coords);
          var tile = this.createTile(this._wrapCoords(coords), bind(this._tileReady, this, coords));
          this._initTile(tile);
          if (this.createTile.length < 2) {
            requestAnimFrame(bind(this._tileReady, this, coords, null, tile));
          }
          setPosition(tile, tilePos);
          this._tiles[key] = {
            el: tile,
            coords,
            current: true
          };
          container.appendChild(tile);
          this.fire("tileloadstart", {
            tile,
            coords
          });
        },
        _tileReady: function(coords, err, tile) {
          if (err) {
            this.fire("tileerror", {
              error: err,
              tile,
              coords
            });
          }
          var key = this._tileCoordsToKey(coords);
          tile = this._tiles[key];
          if (!tile) {
            return;
          }
          tile.loaded = +/* @__PURE__ */ new Date();
          if (this._map._fadeAnimated) {
            setOpacity(tile.el, 0);
            cancelAnimFrame(this._fadeFrame);
            this._fadeFrame = requestAnimFrame(this._updateOpacity, this);
          } else {
            tile.active = true;
            this._pruneTiles();
          }
          if (!err) {
            addClass(tile.el, "leaflet-tile-loaded");
            this.fire("tileload", {
              tile: tile.el,
              coords
            });
          }
          if (this._noTilesToLoad()) {
            this._loading = false;
            this.fire("load");
            if (Browser.ielt9 || !this._map._fadeAnimated) {
              requestAnimFrame(this._pruneTiles, this);
            } else {
              setTimeout(bind(this._pruneTiles, this), 250);
            }
          }
        },
        _getTilePos: function(coords) {
          return coords.scaleBy(this.getTileSize()).subtract(this._level.origin);
        },
        _wrapCoords: function(coords) {
          var newCoords = new Point(
            this._wrapX ? wrapNum(coords.x, this._wrapX) : coords.x,
            this._wrapY ? wrapNum(coords.y, this._wrapY) : coords.y
          );
          newCoords.z = coords.z;
          return newCoords;
        },
        _pxBoundsToTileRange: function(bounds) {
          var tileSize = this.getTileSize();
          return new Bounds(
            bounds.min.unscaleBy(tileSize).floor(),
            bounds.max.unscaleBy(tileSize).ceil().subtract([1, 1])
          );
        },
        _noTilesToLoad: function() {
          for (var key in this._tiles) {
            if (!this._tiles[key].loaded) {
              return false;
            }
          }
          return true;
        }
      });
      function gridLayer(options) {
        return new GridLayer(options);
      }
      var TileLayer = GridLayer.extend({
        // @section
        // @aka TileLayer options
        options: {
          // @option minZoom: Number = 0
          // The minimum zoom level down to which this layer will be displayed (inclusive).
          minZoom: 0,
          // @option maxZoom: Number = 18
          // The maximum zoom level up to which this layer will be displayed (inclusive).
          maxZoom: 18,
          // @option subdomains: String|String[] = 'abc'
          // Subdomains of the tile service. Can be passed in the form of one string (where each letter is a subdomain name) or an array of strings.
          subdomains: "abc",
          // @option errorTileUrl: String = ''
          // URL to the tile image to show in place of the tile that failed to load.
          errorTileUrl: "",
          // @option zoomOffset: Number = 0
          // The zoom number used in tile URLs will be offset with this value.
          zoomOffset: 0,
          // @option tms: Boolean = false
          // If `true`, inverses Y axis numbering for tiles (turn this on for [TMS](https://en.wikipedia.org/wiki/Tile_Map_Service) services).
          tms: false,
          // @option zoomReverse: Boolean = false
          // If set to true, the zoom number used in tile URLs will be reversed (`maxZoom - zoom` instead of `zoom`)
          zoomReverse: false,
          // @option detectRetina: Boolean = false
          // If `true` and user is on a retina display, it will request four tiles of half the specified size and a bigger zoom level in place of one to utilize the high resolution.
          detectRetina: false,
          // @option crossOrigin: Boolean|String = false
          // Whether the crossOrigin attribute will be added to the tiles.
          // If a String is provided, all tiles will have their crossOrigin attribute set to the String provided. This is needed if you want to access tile pixel data.
          // Refer to [CORS Settings](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for valid String values.
          crossOrigin: false,
          // @option referrerPolicy: Boolean|String = false
          // Whether the referrerPolicy attribute will be added to the tiles.
          // If a String is provided, all tiles will have their referrerPolicy attribute set to the String provided.
          // This may be needed if your map's rendering context has a strict default but your tile provider expects a valid referrer
          // (e.g. to validate an API token).
          // Refer to [HTMLImageElement.referrerPolicy](https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/referrerPolicy) for valid String values.
          referrerPolicy: false
        },
        initialize: function(url, options) {
          this._url = url;
          options = setOptions(this, options);
          if (options.detectRetina && Browser.retina && options.maxZoom > 0) {
            options.tileSize = Math.floor(options.tileSize / 2);
            if (!options.zoomReverse) {
              options.zoomOffset++;
              options.maxZoom = Math.max(options.minZoom, options.maxZoom - 1);
            } else {
              options.zoomOffset--;
              options.minZoom = Math.min(options.maxZoom, options.minZoom + 1);
            }
            options.minZoom = Math.max(0, options.minZoom);
          } else if (!options.zoomReverse) {
            options.maxZoom = Math.max(options.minZoom, options.maxZoom);
          } else {
            options.minZoom = Math.min(options.maxZoom, options.minZoom);
          }
          if (typeof options.subdomains === "string") {
            options.subdomains = options.subdomains.split("");
          }
          this.on("tileunload", this._onTileRemove);
        },
        // @method setUrl(url: String, noRedraw?: Boolean): this
        // Updates the layer's URL template and redraws it (unless `noRedraw` is set to `true`).
        // If the URL does not change, the layer will not be redrawn unless
        // the noRedraw parameter is set to false.
        setUrl: function(url, noRedraw) {
          if (this._url === url && noRedraw === void 0) {
            noRedraw = true;
          }
          this._url = url;
          if (!noRedraw) {
            this.redraw();
          }
          return this;
        },
        // @method createTile(coords: Object, done?: Function): HTMLElement
        // Called only internally, overrides GridLayer's [`createTile()`](#gridlayer-createtile)
        // to return an `<img>` HTML element with the appropriate image URL given `coords`. The `done`
        // callback is called when the tile has been loaded.
        createTile: function(coords, done) {
          var tile = document.createElement("img");
          on(tile, "load", bind(this._tileOnLoad, this, done, tile));
          on(tile, "error", bind(this._tileOnError, this, done, tile));
          if (this.options.crossOrigin || this.options.crossOrigin === "") {
            tile.crossOrigin = this.options.crossOrigin === true ? "" : this.options.crossOrigin;
          }
          if (typeof this.options.referrerPolicy === "string") {
            tile.referrerPolicy = this.options.referrerPolicy;
          }
          tile.alt = "";
          tile.src = this.getTileUrl(coords);
          return tile;
        },
        // @section Extension methods
        // @uninheritable
        // Layers extending `TileLayer` might reimplement the following method.
        // @method getTileUrl(coords: Object): String
        // Called only internally, returns the URL for a tile given its coordinates.
        // Classes extending `TileLayer` can override this function to provide custom tile URL naming schemes.
        getTileUrl: function(coords) {
          var data = {
            r: Browser.retina ? "@2x" : "",
            s: this._getSubdomain(coords),
            x: coords.x,
            y: coords.y,
            z: this._getZoomForUrl()
          };
          if (this._map && !this._map.options.crs.infinite) {
            var invertedY = this._globalTileRange.max.y - coords.y;
            if (this.options.tms) {
              data["y"] = invertedY;
            }
            data["-y"] = invertedY;
          }
          return template(this._url, extend(data, this.options));
        },
        _tileOnLoad: function(done, tile) {
          if (Browser.ielt9) {
            setTimeout(bind(done, this, null, tile), 0);
          } else {
            done(null, tile);
          }
        },
        _tileOnError: function(done, tile, e) {
          var errorUrl = this.options.errorTileUrl;
          if (errorUrl && tile.getAttribute("src") !== errorUrl) {
            tile.src = errorUrl;
          }
          done(e, tile);
        },
        _onTileRemove: function(e) {
          e.tile.onload = null;
        },
        _getZoomForUrl: function() {
          var zoom2 = this._tileZoom, maxZoom = this.options.maxZoom, zoomReverse = this.options.zoomReverse, zoomOffset = this.options.zoomOffset;
          if (zoomReverse) {
            zoom2 = maxZoom - zoom2;
          }
          return zoom2 + zoomOffset;
        },
        _getSubdomain: function(tilePoint) {
          var index2 = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;
          return this.options.subdomains[index2];
        },
        // stops loading all tiles in the background layer
        _abortLoading: function() {
          var i, tile;
          for (i in this._tiles) {
            if (this._tiles[i].coords.z !== this._tileZoom) {
              tile = this._tiles[i].el;
              tile.onload = falseFn;
              tile.onerror = falseFn;
              if (!tile.complete) {
                tile.src = emptyImageUrl;
                var coords = this._tiles[i].coords;
                remove(tile);
                delete this._tiles[i];
                this.fire("tileabort", {
                  tile,
                  coords
                });
              }
            }
          }
        },
        _removeTile: function(key) {
          var tile = this._tiles[key];
          if (!tile) {
            return;
          }
          tile.el.setAttribute("src", emptyImageUrl);
          return GridLayer.prototype._removeTile.call(this, key);
        },
        _tileReady: function(coords, err, tile) {
          if (!this._map || tile && tile.getAttribute("src") === emptyImageUrl) {
            return;
          }
          return GridLayer.prototype._tileReady.call(this, coords, err, tile);
        }
      });
      function tileLayer2(url, options) {
        return new TileLayer(url, options);
      }
      var TileLayerWMS = TileLayer.extend({
        // @section
        // @aka TileLayer.WMS options
        // If any custom options not documented here are used, they will be sent to the
        // WMS server as extra parameters in each request URL. This can be useful for
        // [non-standard vendor WMS parameters](https://docs.geoserver.org/stable/en/user/services/wms/vendor.html).
        defaultWmsParams: {
          service: "WMS",
          request: "GetMap",
          // @option layers: String = ''
          // **(required)** Comma-separated list of WMS layers to show.
          layers: "",
          // @option styles: String = ''
          // Comma-separated list of WMS styles.
          styles: "",
          // @option format: String = 'image/jpeg'
          // WMS image format (use `'image/png'` for layers with transparency).
          format: "image/jpeg",
          // @option transparent: Boolean = false
          // If `true`, the WMS service will return images with transparency.
          transparent: false,
          // @option version: String = '1.1.1'
          // Version of the WMS service to use
          version: "1.1.1"
        },
        options: {
          // @option crs: CRS = null
          // Coordinate Reference System to use for the WMS requests, defaults to
          // map CRS. Don't change this if you're not sure what it means.
          crs: null,
          // @option uppercase: Boolean = false
          // If `true`, WMS request parameter keys will be uppercase.
          uppercase: false
        },
        initialize: function(url, options) {
          this._url = url;
          var wmsParams = extend({}, this.defaultWmsParams);
          for (var i in options) {
            if (!(i in this.options)) {
              wmsParams[i] = options[i];
            }
          }
          options = setOptions(this, options);
          var realRetina = options.detectRetina && Browser.retina ? 2 : 1;
          var tileSize = this.getTileSize();
          wmsParams.width = tileSize.x * realRetina;
          wmsParams.height = tileSize.y * realRetina;
          this.wmsParams = wmsParams;
        },
        onAdd: function(map2) {
          this._crs = this.options.crs || map2.options.crs;
          this._wmsVersion = parseFloat(this.wmsParams.version);
          var projectionKey = this._wmsVersion >= 1.3 ? "crs" : "srs";
          this.wmsParams[projectionKey] = this._crs.code;
          TileLayer.prototype.onAdd.call(this, map2);
        },
        getTileUrl: function(coords) {
          var tileBounds = this._tileCoordsToNwSe(coords), crs = this._crs, bounds = toBounds(crs.project(tileBounds[0]), crs.project(tileBounds[1])), min = bounds.min, max = bounds.max, bbox = (this._wmsVersion >= 1.3 && this._crs === EPSG4326 ? [min.y, min.x, max.y, max.x] : [min.x, min.y, max.x, max.y]).join(","), url = TileLayer.prototype.getTileUrl.call(this, coords);
          return url + getParamString(this.wmsParams, url, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + bbox;
        },
        // @method setParams(params: Object, noRedraw?: Boolean): this
        // Merges an object with the new parameters and re-requests tiles on the current screen (unless `noRedraw` was set to true).
        setParams: function(params, noRedraw) {
          extend(this.wmsParams, params);
          if (!noRedraw) {
            this.redraw();
          }
          return this;
        }
      });
      function tileLayerWMS(url, options) {
        return new TileLayerWMS(url, options);
      }
      TileLayer.WMS = TileLayerWMS;
      tileLayer2.wms = tileLayerWMS;
      var Renderer = Layer.extend({
        // @section
        // @aka Renderer options
        options: {
          // @option padding: Number = 0.1
          // How much to extend the clip area around the map view (relative to its size)
          // e.g. 0.1 would be 10% of map view in each direction
          padding: 0.1
        },
        initialize: function(options) {
          setOptions(this, options);
          stamp(this);
          this._layers = this._layers || {};
        },
        onAdd: function() {
          if (!this._container) {
            this._initContainer();
            addClass(this._container, "leaflet-zoom-animated");
          }
          this.getPane().appendChild(this._container);
          this._update();
          this.on("update", this._updatePaths, this);
        },
        onRemove: function() {
          this.off("update", this._updatePaths, this);
          this._destroyContainer();
        },
        getEvents: function() {
          var events = {
            viewreset: this._reset,
            zoom: this._onZoom,
            moveend: this._update,
            zoomend: this._onZoomEnd
          };
          if (this._zoomAnimated) {
            events.zoomanim = this._onAnimZoom;
          }
          return events;
        },
        _onAnimZoom: function(ev) {
          this._updateTransform(ev.center, ev.zoom);
        },
        _onZoom: function() {
          this._updateTransform(this._map.getCenter(), this._map.getZoom());
        },
        _updateTransform: function(center, zoom2) {
          var scale2 = this._map.getZoomScale(zoom2, this._zoom), viewHalf = this._map.getSize().multiplyBy(0.5 + this.options.padding), currentCenterPoint = this._map.project(this._center, zoom2), topLeftOffset = viewHalf.multiplyBy(-scale2).add(currentCenterPoint).subtract(this._map._getNewPixelOrigin(center, zoom2));
          if (Browser.any3d) {
            setTransform(this._container, topLeftOffset, scale2);
          } else {
            setPosition(this._container, topLeftOffset);
          }
        },
        _reset: function() {
          this._update();
          this._updateTransform(this._center, this._zoom);
          for (var id in this._layers) {
            this._layers[id]._reset();
          }
        },
        _onZoomEnd: function() {
          for (var id in this._layers) {
            this._layers[id]._project();
          }
        },
        _updatePaths: function() {
          for (var id in this._layers) {
            this._layers[id]._update();
          }
        },
        _update: function() {
          var p = this.options.padding, size = this._map.getSize(), min = this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();
          this._bounds = new Bounds(min, min.add(size.multiplyBy(1 + p * 2)).round());
          this._center = this._map.getCenter();
          this._zoom = this._map.getZoom();
        }
      });
      var Canvas = Renderer.extend({
        // @section
        // @aka Canvas options
        options: {
          // @option tolerance: Number = 0
          // How much to extend the click tolerance around a path/object on the map.
          tolerance: 0
        },
        getEvents: function() {
          var events = Renderer.prototype.getEvents.call(this);
          events.viewprereset = this._onViewPreReset;
          return events;
        },
        _onViewPreReset: function() {
          this._postponeUpdatePaths = true;
        },
        onAdd: function() {
          Renderer.prototype.onAdd.call(this);
          this._draw();
        },
        _initContainer: function() {
          var container = this._container = document.createElement("canvas");
          on(container, "mousemove", this._onMouseMove, this);
          on(container, "click dblclick mousedown mouseup contextmenu", this._onClick, this);
          on(container, "mouseout", this._handleMouseOut, this);
          container["_leaflet_disable_events"] = true;
          this._ctx = container.getContext("2d");
        },
        _destroyContainer: function() {
          cancelAnimFrame(this._redrawRequest);
          delete this._ctx;
          remove(this._container);
          off(this._container);
          delete this._container;
        },
        _updatePaths: function() {
          if (this._postponeUpdatePaths) {
            return;
          }
          var layer;
          this._redrawBounds = null;
          for (var id in this._layers) {
            layer = this._layers[id];
            layer._update();
          }
          this._redraw();
        },
        _update: function() {
          if (this._map._animatingZoom && this._bounds) {
            return;
          }
          Renderer.prototype._update.call(this);
          var b = this._bounds, container = this._container, size = b.getSize(), m = Browser.retina ? 2 : 1;
          setPosition(container, b.min);
          container.width = m * size.x;
          container.height = m * size.y;
          container.style.width = size.x + "px";
          container.style.height = size.y + "px";
          if (Browser.retina) {
            this._ctx.scale(2, 2);
          }
          this._ctx.translate(-b.min.x, -b.min.y);
          this.fire("update");
        },
        _reset: function() {
          Renderer.prototype._reset.call(this);
          if (this._postponeUpdatePaths) {
            this._postponeUpdatePaths = false;
            this._updatePaths();
          }
        },
        _initPath: function(layer) {
          this._updateDashArray(layer);
          this._layers[stamp(layer)] = layer;
          var order = layer._order = {
            layer,
            prev: this._drawLast,
            next: null
          };
          if (this._drawLast) {
            this._drawLast.next = order;
          }
          this._drawLast = order;
          this._drawFirst = this._drawFirst || this._drawLast;
        },
        _addPath: function(layer) {
          this._requestRedraw(layer);
        },
        _removePath: function(layer) {
          var order = layer._order;
          var next = order.next;
          var prev = order.prev;
          if (next) {
            next.prev = prev;
          } else {
            this._drawLast = prev;
          }
          if (prev) {
            prev.next = next;
          } else {
            this._drawFirst = next;
          }
          delete layer._order;
          delete this._layers[stamp(layer)];
          this._requestRedraw(layer);
        },
        _updatePath: function(layer) {
          this._extendRedrawBounds(layer);
          layer._project();
          layer._update();
          this._requestRedraw(layer);
        },
        _updateStyle: function(layer) {
          this._updateDashArray(layer);
          this._requestRedraw(layer);
        },
        _updateDashArray: function(layer) {
          if (typeof layer.options.dashArray === "string") {
            var parts = layer.options.dashArray.split(/[, ]+/), dashArray = [], dashValue, i;
            for (i = 0; i < parts.length; i++) {
              dashValue = Number(parts[i]);
              if (isNaN(dashValue)) {
                return;
              }
              dashArray.push(dashValue);
            }
            layer.options._dashArray = dashArray;
          } else {
            layer.options._dashArray = layer.options.dashArray;
          }
        },
        _requestRedraw: function(layer) {
          if (!this._map) {
            return;
          }
          this._extendRedrawBounds(layer);
          this._redrawRequest = this._redrawRequest || requestAnimFrame(this._redraw, this);
        },
        _extendRedrawBounds: function(layer) {
          if (layer._pxBounds) {
            var padding = (layer.options.weight || 0) + 1;
            this._redrawBounds = this._redrawBounds || new Bounds();
            this._redrawBounds.extend(layer._pxBounds.min.subtract([padding, padding]));
            this._redrawBounds.extend(layer._pxBounds.max.add([padding, padding]));
          }
        },
        _redraw: function() {
          this._redrawRequest = null;
          if (this._redrawBounds) {
            this._redrawBounds.min._floor();
            this._redrawBounds.max._ceil();
          }
          this._clear();
          this._draw();
          this._redrawBounds = null;
        },
        _clear: function() {
          var bounds = this._redrawBounds;
          if (bounds) {
            var size = bounds.getSize();
            this._ctx.clearRect(bounds.min.x, bounds.min.y, size.x, size.y);
          } else {
            this._ctx.save();
            this._ctx.setTransform(1, 0, 0, 1, 0, 0);
            this._ctx.clearRect(0, 0, this._container.width, this._container.height);
            this._ctx.restore();
          }
        },
        _draw: function() {
          var layer, bounds = this._redrawBounds;
          this._ctx.save();
          if (bounds) {
            var size = bounds.getSize();
            this._ctx.beginPath();
            this._ctx.rect(bounds.min.x, bounds.min.y, size.x, size.y);
            this._ctx.clip();
          }
          this._drawing = true;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (!bounds || layer._pxBounds && layer._pxBounds.intersects(bounds)) {
              layer._updatePath();
            }
          }
          this._drawing = false;
          this._ctx.restore();
        },
        _updatePoly: function(layer, closed) {
          if (!this._drawing) {
            return;
          }
          var i, j, len2, p, parts = layer._parts, len = parts.length, ctx = this._ctx;
          if (!len) {
            return;
          }
          ctx.beginPath();
          for (i = 0; i < len; i++) {
            for (j = 0, len2 = parts[i].length; j < len2; j++) {
              p = parts[i][j];
              ctx[j ? "lineTo" : "moveTo"](p.x, p.y);
            }
            if (closed) {
              ctx.closePath();
            }
          }
          this._fillStroke(ctx, layer);
        },
        _updateCircle: function(layer) {
          if (!this._drawing || layer._empty()) {
            return;
          }
          var p = layer._point, ctx = this._ctx, r = Math.max(Math.round(layer._radius), 1), s = (Math.max(Math.round(layer._radiusY), 1) || r) / r;
          if (s !== 1) {
            ctx.save();
            ctx.scale(1, s);
          }
          ctx.beginPath();
          ctx.arc(p.x, p.y / s, r, 0, Math.PI * 2, false);
          if (s !== 1) {
            ctx.restore();
          }
          this._fillStroke(ctx, layer);
        },
        _fillStroke: function(ctx, layer) {
          var options = layer.options;
          if (options.fill) {
            ctx.globalAlpha = options.fillOpacity;
            ctx.fillStyle = options.fillColor || options.color;
            ctx.fill(options.fillRule || "evenodd");
          }
          if (options.stroke && options.weight !== 0) {
            if (ctx.setLineDash) {
              ctx.setLineDash(layer.options && layer.options._dashArray || []);
            }
            ctx.globalAlpha = options.opacity;
            ctx.lineWidth = options.weight;
            ctx.strokeStyle = options.color;
            ctx.lineCap = options.lineCap;
            ctx.lineJoin = options.lineJoin;
            ctx.stroke();
          }
        },
        // Canvas obviously doesn't have mouse events for individual drawn objects,
        // so we emulate that by calculating what's under the mouse on mousemove/click manually
        _onClick: function(e) {
          var point = this._map.mouseEventToLayerPoint(e), layer, clickedLayer;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (layer.options.interactive && layer._containsPoint(point)) {
              if (!(e.type === "click" || e.type === "preclick") || !this._map._draggableMoved(layer)) {
                clickedLayer = layer;
              }
            }
          }
          this._fireEvent(clickedLayer ? [clickedLayer] : false, e);
        },
        _onMouseMove: function(e) {
          if (!this._map || this._map.dragging.moving() || this._map._animatingZoom) {
            return;
          }
          var point = this._map.mouseEventToLayerPoint(e);
          this._handleMouseHover(e, point);
        },
        _handleMouseOut: function(e) {
          var layer = this._hoveredLayer;
          if (layer) {
            removeClass(this._container, "leaflet-interactive");
            this._fireEvent([layer], e, "mouseout");
            this._hoveredLayer = null;
            this._mouseHoverThrottled = false;
          }
        },
        _handleMouseHover: function(e, point) {
          if (this._mouseHoverThrottled) {
            return;
          }
          var layer, candidateHoveredLayer;
          for (var order = this._drawFirst; order; order = order.next) {
            layer = order.layer;
            if (layer.options.interactive && layer._containsPoint(point)) {
              candidateHoveredLayer = layer;
            }
          }
          if (candidateHoveredLayer !== this._hoveredLayer) {
            this._handleMouseOut(e);
            if (candidateHoveredLayer) {
              addClass(this._container, "leaflet-interactive");
              this._fireEvent([candidateHoveredLayer], e, "mouseover");
              this._hoveredLayer = candidateHoveredLayer;
            }
          }
          this._fireEvent(this._hoveredLayer ? [this._hoveredLayer] : false, e);
          this._mouseHoverThrottled = true;
          setTimeout(bind(function() {
            this._mouseHoverThrottled = false;
          }, this), 32);
        },
        _fireEvent: function(layers2, e, type) {
          this._map._fireDOMEvent(e, type || e.type, layers2);
        },
        _bringToFront: function(layer) {
          var order = layer._order;
          if (!order) {
            return;
          }
          var next = order.next;
          var prev = order.prev;
          if (next) {
            next.prev = prev;
          } else {
            return;
          }
          if (prev) {
            prev.next = next;
          } else if (next) {
            this._drawFirst = next;
          }
          order.prev = this._drawLast;
          this._drawLast.next = order;
          order.next = null;
          this._drawLast = order;
          this._requestRedraw(layer);
        },
        _bringToBack: function(layer) {
          var order = layer._order;
          if (!order) {
            return;
          }
          var next = order.next;
          var prev = order.prev;
          if (prev) {
            prev.next = next;
          } else {
            return;
          }
          if (next) {
            next.prev = prev;
          } else if (prev) {
            this._drawLast = prev;
          }
          order.prev = null;
          order.next = this._drawFirst;
          this._drawFirst.prev = order;
          this._drawFirst = order;
          this._requestRedraw(layer);
        }
      });
      function canvas(options) {
        return Browser.canvas ? new Canvas(options) : null;
      }
      var vmlCreate = function() {
        try {
          document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml");
          return function(name) {
            return document.createElement("<lvml:" + name + ' class="lvml">');
          };
        } catch (e) {
        }
        return function(name) {
          return document.createElement("<" + name + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">');
        };
      }();
      var vmlMixin = {
        _initContainer: function() {
          this._container = create$1("div", "leaflet-vml-container");
        },
        _update: function() {
          if (this._map._animatingZoom) {
            return;
          }
          Renderer.prototype._update.call(this);
          this.fire("update");
        },
        _initPath: function(layer) {
          var container = layer._container = vmlCreate("shape");
          addClass(container, "leaflet-vml-shape " + (this.options.className || ""));
          container.coordsize = "1 1";
          layer._path = vmlCreate("path");
          container.appendChild(layer._path);
          this._updateStyle(layer);
          this._layers[stamp(layer)] = layer;
        },
        _addPath: function(layer) {
          var container = layer._container;
          this._container.appendChild(container);
          if (layer.options.interactive) {
            layer.addInteractiveTarget(container);
          }
        },
        _removePath: function(layer) {
          var container = layer._container;
          remove(container);
          layer.removeInteractiveTarget(container);
          delete this._layers[stamp(layer)];
        },
        _updateStyle: function(layer) {
          var stroke = layer._stroke, fill = layer._fill, options = layer.options, container = layer._container;
          container.stroked = !!options.stroke;
          container.filled = !!options.fill;
          if (options.stroke) {
            if (!stroke) {
              stroke = layer._stroke = vmlCreate("stroke");
            }
            container.appendChild(stroke);
            stroke.weight = options.weight + "px";
            stroke.color = options.color;
            stroke.opacity = options.opacity;
            if (options.dashArray) {
              stroke.dashStyle = isArray(options.dashArray) ? options.dashArray.join(" ") : options.dashArray.replace(/( *, *)/g, " ");
            } else {
              stroke.dashStyle = "";
            }
            stroke.endcap = options.lineCap.replace("butt", "flat");
            stroke.joinstyle = options.lineJoin;
          } else if (stroke) {
            container.removeChild(stroke);
            layer._stroke = null;
          }
          if (options.fill) {
            if (!fill) {
              fill = layer._fill = vmlCreate("fill");
            }
            container.appendChild(fill);
            fill.color = options.fillColor || options.color;
            fill.opacity = options.fillOpacity;
          } else if (fill) {
            container.removeChild(fill);
            layer._fill = null;
          }
        },
        _updateCircle: function(layer) {
          var p = layer._point.round(), r = Math.round(layer._radius), r2 = Math.round(layer._radiusY || r);
          this._setPath(layer, layer._empty() ? "M0 0" : "AL " + p.x + "," + p.y + " " + r + "," + r2 + " 0," + 65535 * 360);
        },
        _setPath: function(layer, path) {
          layer._path.v = path;
        },
        _bringToFront: function(layer) {
          toFront(layer._container);
        },
        _bringToBack: function(layer) {
          toBack(layer._container);
        }
      };
      var create = Browser.vml ? vmlCreate : svgCreate;
      var SVG = Renderer.extend({
        _initContainer: function() {
          this._container = create("svg");
          this._container.setAttribute("pointer-events", "none");
          this._rootGroup = create("g");
          this._container.appendChild(this._rootGroup);
        },
        _destroyContainer: function() {
          remove(this._container);
          off(this._container);
          delete this._container;
          delete this._rootGroup;
          delete this._svgSize;
        },
        _update: function() {
          if (this._map._animatingZoom && this._bounds) {
            return;
          }
          Renderer.prototype._update.call(this);
          var b = this._bounds, size = b.getSize(), container = this._container;
          if (!this._svgSize || !this._svgSize.equals(size)) {
            this._svgSize = size;
            container.setAttribute("width", size.x);
            container.setAttribute("height", size.y);
          }
          setPosition(container, b.min);
          container.setAttribute("viewBox", [b.min.x, b.min.y, size.x, size.y].join(" "));
          this.fire("update");
        },
        // methods below are called by vector layers implementations
        _initPath: function(layer) {
          var path = layer._path = create("path");
          if (layer.options.className) {
            addClass(path, layer.options.className);
          }
          if (layer.options.interactive) {
            addClass(path, "leaflet-interactive");
          }
          this._updateStyle(layer);
          this._layers[stamp(layer)] = layer;
        },
        _addPath: function(layer) {
          if (!this._rootGroup) {
            this._initContainer();
          }
          this._rootGroup.appendChild(layer._path);
          layer.addInteractiveTarget(layer._path);
        },
        _removePath: function(layer) {
          remove(layer._path);
          layer.removeInteractiveTarget(layer._path);
          delete this._layers[stamp(layer)];
        },
        _updatePath: function(layer) {
          layer._project();
          layer._update();
        },
        _updateStyle: function(layer) {
          var path = layer._path, options = layer.options;
          if (!path) {
            return;
          }
          if (options.stroke) {
            path.setAttribute("stroke", options.color);
            path.setAttribute("stroke-opacity", options.opacity);
            path.setAttribute("stroke-width", options.weight);
            path.setAttribute("stroke-linecap", options.lineCap);
            path.setAttribute("stroke-linejoin", options.lineJoin);
            if (options.dashArray) {
              path.setAttribute("stroke-dasharray", options.dashArray);
            } else {
              path.removeAttribute("stroke-dasharray");
            }
            if (options.dashOffset) {
              path.setAttribute("stroke-dashoffset", options.dashOffset);
            } else {
              path.removeAttribute("stroke-dashoffset");
            }
          } else {
            path.setAttribute("stroke", "none");
          }
          if (options.fill) {
            path.setAttribute("fill", options.fillColor || options.color);
            path.setAttribute("fill-opacity", options.fillOpacity);
            path.setAttribute("fill-rule", options.fillRule || "evenodd");
          } else {
            path.setAttribute("fill", "none");
          }
        },
        _updatePoly: function(layer, closed) {
          this._setPath(layer, pointsToPath(layer._parts, closed));
        },
        _updateCircle: function(layer) {
          var p = layer._point, r = Math.max(Math.round(layer._radius), 1), r2 = Math.max(Math.round(layer._radiusY), 1) || r, arc = "a" + r + "," + r2 + " 0 1,0 ";
          var d = layer._empty() ? "M0 0" : "M" + (p.x - r) + "," + p.y + arc + r * 2 + ",0 " + arc + -r * 2 + ",0 ";
          this._setPath(layer, d);
        },
        _setPath: function(layer, path) {
          layer._path.setAttribute("d", path);
        },
        // SVG does not have the concept of zIndex so we resort to changing the DOM order of elements
        _bringToFront: function(layer) {
          toFront(layer._path);
        },
        _bringToBack: function(layer) {
          toBack(layer._path);
        }
      });
      if (Browser.vml) {
        SVG.include(vmlMixin);
      }
      function svg(options) {
        return Browser.svg || Browser.vml ? new SVG(options) : null;
      }
      Map2.include({
        // @namespace Map; @method getRenderer(layer: Path): Renderer
        // Returns the instance of `Renderer` that should be used to render the given
        // `Path`. It will ensure that the `renderer` options of the map and paths
        // are respected, and that the renderers do exist on the map.
        getRenderer: function(layer) {
          var renderer = layer.options.renderer || this._getPaneRenderer(layer.options.pane) || this.options.renderer || this._renderer;
          if (!renderer) {
            renderer = this._renderer = this._createRenderer();
          }
          if (!this.hasLayer(renderer)) {
            this.addLayer(renderer);
          }
          return renderer;
        },
        _getPaneRenderer: function(name) {
          if (name === "overlayPane" || name === void 0) {
            return false;
          }
          var renderer = this._paneRenderers[name];
          if (renderer === void 0) {
            renderer = this._createRenderer({ pane: name });
            this._paneRenderers[name] = renderer;
          }
          return renderer;
        },
        _createRenderer: function(options) {
          return this.options.preferCanvas && canvas(options) || svg(options);
        }
      });
      var Rectangle = Polygon.extend({
        initialize: function(latLngBounds2, options) {
          Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds2), options);
        },
        // @method setBounds(latLngBounds: LatLngBounds): this
        // Redraws the rectangle with the passed bounds.
        setBounds: function(latLngBounds2) {
          return this.setLatLngs(this._boundsToLatLngs(latLngBounds2));
        },
        _boundsToLatLngs: function(latLngBounds2) {
          latLngBounds2 = toLatLngBounds(latLngBounds2);
          return [
            latLngBounds2.getSouthWest(),
            latLngBounds2.getNorthWest(),
            latLngBounds2.getNorthEast(),
            latLngBounds2.getSouthEast()
          ];
        }
      });
      function rectangle(latLngBounds2, options) {
        return new Rectangle(latLngBounds2, options);
      }
      SVG.create = create;
      SVG.pointsToPath = pointsToPath;
      GeoJSON.geometryToLayer = geometryToLayer;
      GeoJSON.coordsToLatLng = coordsToLatLng;
      GeoJSON.coordsToLatLngs = coordsToLatLngs;
      GeoJSON.latLngToCoords = latLngToCoords;
      GeoJSON.latLngsToCoords = latLngsToCoords;
      GeoJSON.getFeature = getFeature;
      GeoJSON.asFeature = asFeature;
      Map2.mergeOptions({
        // @option boxZoom: Boolean = true
        // Whether the map can be zoomed to a rectangular area specified by
        // dragging the mouse while pressing the shift key.
        boxZoom: true
      });
      var BoxZoom = Handler.extend({
        initialize: function(map2) {
          this._map = map2;
          this._container = map2._container;
          this._pane = map2._panes.overlayPane;
          this._resetStateTimeout = 0;
          map2.on("unload", this._destroy, this);
        },
        addHooks: function() {
          on(this._container, "mousedown", this._onMouseDown, this);
        },
        removeHooks: function() {
          off(this._container, "mousedown", this._onMouseDown, this);
        },
        moved: function() {
          return this._moved;
        },
        _destroy: function() {
          remove(this._pane);
          delete this._pane;
        },
        _resetState: function() {
          this._resetStateTimeout = 0;
          this._moved = false;
        },
        _clearDeferredResetState: function() {
          if (this._resetStateTimeout !== 0) {
            clearTimeout(this._resetStateTimeout);
            this._resetStateTimeout = 0;
          }
        },
        _onMouseDown: function(e) {
          if (!e.shiftKey || e.which !== 1 && e.button !== 1) {
            return false;
          }
          this._clearDeferredResetState();
          this._resetState();
          disableTextSelection();
          disableImageDrag();
          this._startPoint = this._map.mouseEventToContainerPoint(e);
          on(document, {
            contextmenu: stop,
            mousemove: this._onMouseMove,
            mouseup: this._onMouseUp,
            keydown: this._onKeyDown
          }, this);
        },
        _onMouseMove: function(e) {
          if (!this._moved) {
            this._moved = true;
            this._box = create$1("div", "leaflet-zoom-box", this._container);
            addClass(this._container, "leaflet-crosshair");
            this._map.fire("boxzoomstart");
          }
          this._point = this._map.mouseEventToContainerPoint(e);
          var bounds = new Bounds(this._point, this._startPoint), size = bounds.getSize();
          setPosition(this._box, bounds.min);
          this._box.style.width = size.x + "px";
          this._box.style.height = size.y + "px";
        },
        _finish: function() {
          if (this._moved) {
            remove(this._box);
            removeClass(this._container, "leaflet-crosshair");
          }
          enableTextSelection();
          enableImageDrag();
          off(document, {
            contextmenu: stop,
            mousemove: this._onMouseMove,
            mouseup: this._onMouseUp,
            keydown: this._onKeyDown
          }, this);
        },
        _onMouseUp: function(e) {
          if (e.which !== 1 && e.button !== 1) {
            return;
          }
          this._finish();
          if (!this._moved) {
            return;
          }
          this._clearDeferredResetState();
          this._resetStateTimeout = setTimeout(bind(this._resetState, this), 0);
          var bounds = new LatLngBounds(
            this._map.containerPointToLatLng(this._startPoint),
            this._map.containerPointToLatLng(this._point)
          );
          this._map.fitBounds(bounds).fire("boxzoomend", { boxZoomBounds: bounds });
        },
        _onKeyDown: function(e) {
          if (e.keyCode === 27) {
            this._finish();
            this._clearDeferredResetState();
            this._resetState();
          }
        }
      });
      Map2.addInitHook("addHandler", "boxZoom", BoxZoom);
      Map2.mergeOptions({
        // @option doubleClickZoom: Boolean|String = true
        // Whether the map can be zoomed in by double clicking on it and
        // zoomed out by double clicking while holding shift. If passed
        // `'center'`, double-click zoom will zoom to the center of the
        //  view regardless of where the mouse was.
        doubleClickZoom: true
      });
      var DoubleClickZoom = Handler.extend({
        addHooks: function() {
          this._map.on("dblclick", this._onDoubleClick, this);
        },
        removeHooks: function() {
          this._map.off("dblclick", this._onDoubleClick, this);
        },
        _onDoubleClick: function(e) {
          var map2 = this._map, oldZoom = map2.getZoom(), delta = map2.options.zoomDelta, zoom2 = e.originalEvent.shiftKey ? oldZoom - delta : oldZoom + delta;
          if (map2.options.doubleClickZoom === "center") {
            map2.setZoom(zoom2);
          } else {
            map2.setZoomAround(e.containerPoint, zoom2);
          }
        }
      });
      Map2.addInitHook("addHandler", "doubleClickZoom", DoubleClickZoom);
      Map2.mergeOptions({
        // @option dragging: Boolean = true
        // Whether the map is draggable with mouse/touch or not.
        dragging: true,
        // @section Panning Inertia Options
        // @option inertia: Boolean = *
        // If enabled, panning of the map will have an inertia effect where
        // the map builds momentum while dragging and continues moving in
        // the same direction for some time. Feels especially nice on touch
        // devices. Enabled by default.
        inertia: true,
        // @option inertiaDeceleration: Number = 3000
        // The rate with which the inertial movement slows down, in pixels/second².
        inertiaDeceleration: 3400,
        // px/s^2
        // @option inertiaMaxSpeed: Number = Infinity
        // Max speed of the inertial movement, in pixels/second.
        inertiaMaxSpeed: Infinity,
        // px/s
        // @option easeLinearity: Number = 0.2
        easeLinearity: 0.2,
        // TODO refactor, move to CRS
        // @option worldCopyJump: Boolean = false
        // With this option enabled, the map tracks when you pan to another "copy"
        // of the world and seamlessly jumps to the original one so that all overlays
        // like markers and vector layers are still visible.
        worldCopyJump: false,
        // @option maxBoundsViscosity: Number = 0.0
        // If `maxBounds` is set, this option will control how solid the bounds
        // are when dragging the map around. The default value of `0.0` allows the
        // user to drag outside the bounds at normal speed, higher values will
        // slow down map dragging outside bounds, and `1.0` makes the bounds fully
        // solid, preventing the user from dragging outside the bounds.
        maxBoundsViscosity: 0
      });
      var Drag = Handler.extend({
        addHooks: function() {
          if (!this._draggable) {
            var map2 = this._map;
            this._draggable = new Draggable(map2._mapPane, map2._container);
            this._draggable.on({
              dragstart: this._onDragStart,
              drag: this._onDrag,
              dragend: this._onDragEnd
            }, this);
            this._draggable.on("predrag", this._onPreDragLimit, this);
            if (map2.options.worldCopyJump) {
              this._draggable.on("predrag", this._onPreDragWrap, this);
              map2.on("zoomend", this._onZoomEnd, this);
              map2.whenReady(this._onZoomEnd, this);
            }
          }
          addClass(this._map._container, "leaflet-grab leaflet-touch-drag");
          this._draggable.enable();
          this._positions = [];
          this._times = [];
        },
        removeHooks: function() {
          removeClass(this._map._container, "leaflet-grab");
          removeClass(this._map._container, "leaflet-touch-drag");
          this._draggable.disable();
        },
        moved: function() {
          return this._draggable && this._draggable._moved;
        },
        moving: function() {
          return this._draggable && this._draggable._moving;
        },
        _onDragStart: function() {
          var map2 = this._map;
          map2._stop();
          if (this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
            var bounds = toLatLngBounds(this._map.options.maxBounds);
            this._offsetLimit = toBounds(
              this._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(-1),
              this._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(-1).add(this._map.getSize())
            );
            this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity));
          } else {
            this._offsetLimit = null;
          }
          map2.fire("movestart").fire("dragstart");
          if (map2.options.inertia) {
            this._positions = [];
            this._times = [];
          }
        },
        _onDrag: function(e) {
          if (this._map.options.inertia) {
            var time = this._lastTime = +/* @__PURE__ */ new Date(), pos = this._lastPos = this._draggable._absPos || this._draggable._newPos;
            this._positions.push(pos);
            this._times.push(time);
            this._prunePositions(time);
          }
          this._map.fire("move", e).fire("drag", e);
        },
        _prunePositions: function(time) {
          while (this._positions.length > 1 && time - this._times[0] > 50) {
            this._positions.shift();
            this._times.shift();
          }
        },
        _onZoomEnd: function() {
          var pxCenter = this._map.getSize().divideBy(2), pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);
          this._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;
          this._worldWidth = this._map.getPixelWorldBounds().getSize().x;
        },
        _viscousLimit: function(value, threshold) {
          return value - (value - threshold) * this._viscosity;
        },
        _onPreDragLimit: function() {
          if (!this._viscosity || !this._offsetLimit) {
            return;
          }
          var offset = this._draggable._newPos.subtract(this._draggable._startPos);
          var limit = this._offsetLimit;
          if (offset.x < limit.min.x) {
            offset.x = this._viscousLimit(offset.x, limit.min.x);
          }
          if (offset.y < limit.min.y) {
            offset.y = this._viscousLimit(offset.y, limit.min.y);
          }
          if (offset.x > limit.max.x) {
            offset.x = this._viscousLimit(offset.x, limit.max.x);
          }
          if (offset.y > limit.max.y) {
            offset.y = this._viscousLimit(offset.y, limit.max.y);
          }
          this._draggable._newPos = this._draggable._startPos.add(offset);
        },
        _onPreDragWrap: function() {
          var worldWidth = this._worldWidth, halfWidth = Math.round(worldWidth / 2), dx = this._initialWorldOffset, x = this._draggable._newPos.x, newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx, newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx, newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;
          this._draggable._absPos = this._draggable._newPos.clone();
          this._draggable._newPos.x = newX;
        },
        _onDragEnd: function(e) {
          var map2 = this._map, options = map2.options, noInertia = !options.inertia || e.noInertia || this._times.length < 2;
          map2.fire("dragend", e);
          if (noInertia) {
            map2.fire("moveend");
          } else {
            this._prunePositions(+/* @__PURE__ */ new Date());
            var direction = this._lastPos.subtract(this._positions[0]), duration = (this._lastTime - this._times[0]) / 1e3, ease = options.easeLinearity, speedVector = direction.multiplyBy(ease / duration), speed = speedVector.distanceTo([0, 0]), limitedSpeed = Math.min(options.inertiaMaxSpeed, speed), limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed), decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease), offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();
            if (!offset.x && !offset.y) {
              map2.fire("moveend");
            } else {
              offset = map2._limitOffset(offset, map2.options.maxBounds);
              requestAnimFrame(function() {
                map2.panBy(offset, {
                  duration: decelerationDuration,
                  easeLinearity: ease,
                  noMoveStart: true,
                  animate: true
                });
              });
            }
          }
        }
      });
      Map2.addInitHook("addHandler", "dragging", Drag);
      Map2.mergeOptions({
        // @option keyboard: Boolean = true
        // Makes the map focusable and allows users to navigate the map with keyboard
        // arrows and `+`/`-` keys.
        keyboard: true,
        // @option keyboardPanDelta: Number = 80
        // Amount of pixels to pan when pressing an arrow key.
        keyboardPanDelta: 80
      });
      var Keyboard = Handler.extend({
        keyCodes: {
          left: [37],
          right: [39],
          down: [40],
          up: [38],
          zoomIn: [187, 107, 61, 171],
          zoomOut: [189, 109, 54, 173]
        },
        initialize: function(map2) {
          this._map = map2;
          this._setPanDelta(map2.options.keyboardPanDelta);
          this._setZoomDelta(map2.options.zoomDelta);
        },
        addHooks: function() {
          var container = this._map._container;
          if (container.tabIndex <= 0) {
            container.tabIndex = "0";
          }
          on(container, {
            focus: this._onFocus,
            blur: this._onBlur,
            mousedown: this._onMouseDown
          }, this);
          this._map.on({
            focus: this._addHooks,
            blur: this._removeHooks
          }, this);
        },
        removeHooks: function() {
          this._removeHooks();
          off(this._map._container, {
            focus: this._onFocus,
            blur: this._onBlur,
            mousedown: this._onMouseDown
          }, this);
          this._map.off({
            focus: this._addHooks,
            blur: this._removeHooks
          }, this);
        },
        _onMouseDown: function() {
          if (this._focused) {
            return;
          }
          var body = document.body, docEl = document.documentElement, top = body.scrollTop || docEl.scrollTop, left = body.scrollLeft || docEl.scrollLeft;
          this._map._container.focus();
          window.scrollTo(left, top);
        },
        _onFocus: function() {
          this._focused = true;
          this._map.fire("focus");
        },
        _onBlur: function() {
          this._focused = false;
          this._map.fire("blur");
        },
        _setPanDelta: function(panDelta) {
          var keys = this._panKeys = {}, codes = this.keyCodes, i, len;
          for (i = 0, len = codes.left.length; i < len; i++) {
            keys[codes.left[i]] = [-1 * panDelta, 0];
          }
          for (i = 0, len = codes.right.length; i < len; i++) {
            keys[codes.right[i]] = [panDelta, 0];
          }
          for (i = 0, len = codes.down.length; i < len; i++) {
            keys[codes.down[i]] = [0, panDelta];
          }
          for (i = 0, len = codes.up.length; i < len; i++) {
            keys[codes.up[i]] = [0, -1 * panDelta];
          }
        },
        _setZoomDelta: function(zoomDelta) {
          var keys = this._zoomKeys = {}, codes = this.keyCodes, i, len;
          for (i = 0, len = codes.zoomIn.length; i < len; i++) {
            keys[codes.zoomIn[i]] = zoomDelta;
          }
          for (i = 0, len = codes.zoomOut.length; i < len; i++) {
            keys[codes.zoomOut[i]] = -zoomDelta;
          }
        },
        _addHooks: function() {
          on(document, "keydown", this._onKeyDown, this);
        },
        _removeHooks: function() {
          off(document, "keydown", this._onKeyDown, this);
        },
        _onKeyDown: function(e) {
          if (e.altKey || e.ctrlKey || e.metaKey) {
            return;
          }
          var key = e.keyCode, map2 = this._map, offset;
          if (key in this._panKeys) {
            if (!map2._panAnim || !map2._panAnim._inProgress) {
              offset = this._panKeys[key];
              if (e.shiftKey) {
                offset = toPoint(offset).multiplyBy(3);
              }
              if (map2.options.maxBounds) {
                offset = map2._limitOffset(toPoint(offset), map2.options.maxBounds);
              }
              if (map2.options.worldCopyJump) {
                var newLatLng = map2.wrapLatLng(map2.unproject(map2.project(map2.getCenter()).add(offset)));
                map2.panTo(newLatLng);
              } else {
                map2.panBy(offset);
              }
            }
          } else if (key in this._zoomKeys) {
            map2.setZoom(map2.getZoom() + (e.shiftKey ? 3 : 1) * this._zoomKeys[key]);
          } else if (key === 27 && map2._popup && map2._popup.options.closeOnEscapeKey) {
            map2.closePopup();
          } else {
            return;
          }
          stop(e);
        }
      });
      Map2.addInitHook("addHandler", "keyboard", Keyboard);
      Map2.mergeOptions({
        // @section Mouse wheel options
        // @option scrollWheelZoom: Boolean|String = true
        // Whether the map can be zoomed by using the mouse wheel. If passed `'center'`,
        // it will zoom to the center of the view regardless of where the mouse was.
        scrollWheelZoom: true,
        // @option wheelDebounceTime: Number = 40
        // Limits the rate at which a wheel can fire (in milliseconds). By default
        // user can't zoom via wheel more often than once per 40 ms.
        wheelDebounceTime: 40,
        // @option wheelPxPerZoomLevel: Number = 60
        // How many scroll pixels (as reported by [L.DomEvent.getWheelDelta](#domevent-getwheeldelta))
        // mean a change of one full zoom level. Smaller values will make wheel-zooming
        // faster (and vice versa).
        wheelPxPerZoomLevel: 60
      });
      var ScrollWheelZoom = Handler.extend({
        addHooks: function() {
          on(this._map._container, "wheel", this._onWheelScroll, this);
          this._delta = 0;
        },
        removeHooks: function() {
          off(this._map._container, "wheel", this._onWheelScroll, this);
        },
        _onWheelScroll: function(e) {
          var delta = getWheelDelta(e);
          var debounce = this._map.options.wheelDebounceTime;
          this._delta += delta;
          this._lastMousePos = this._map.mouseEventToContainerPoint(e);
          if (!this._startTime) {
            this._startTime = +/* @__PURE__ */ new Date();
          }
          var left = Math.max(debounce - (+/* @__PURE__ */ new Date() - this._startTime), 0);
          clearTimeout(this._timer);
          this._timer = setTimeout(bind(this._performZoom, this), left);
          stop(e);
        },
        _performZoom: function() {
          var map2 = this._map, zoom2 = map2.getZoom(), snap = this._map.options.zoomSnap || 0;
          map2._stop();
          var d2 = this._delta / (this._map.options.wheelPxPerZoomLevel * 4), d3 = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(d2)))) / Math.LN2, d4 = snap ? Math.ceil(d3 / snap) * snap : d3, delta = map2._limitZoom(zoom2 + (this._delta > 0 ? d4 : -d4)) - zoom2;
          this._delta = 0;
          this._startTime = null;
          if (!delta) {
            return;
          }
          if (map2.options.scrollWheelZoom === "center") {
            map2.setZoom(zoom2 + delta);
          } else {
            map2.setZoomAround(this._lastMousePos, zoom2 + delta);
          }
        }
      });
      Map2.addInitHook("addHandler", "scrollWheelZoom", ScrollWheelZoom);
      var tapHoldDelay = 600;
      Map2.mergeOptions({
        // @section Touch interaction options
        // @option tapHold: Boolean
        // Enables simulation of `contextmenu` event, default is `true` for mobile Safari.
        tapHold: Browser.touchNative && Browser.safari && Browser.mobile,
        // @option tapTolerance: Number = 15
        // The max number of pixels a user can shift his finger during touch
        // for it to be considered a valid tap.
        tapTolerance: 15
      });
      var TapHold = Handler.extend({
        addHooks: function() {
          on(this._map._container, "touchstart", this._onDown, this);
        },
        removeHooks: function() {
          off(this._map._container, "touchstart", this._onDown, this);
        },
        _onDown: function(e) {
          clearTimeout(this._holdTimeout);
          if (e.touches.length !== 1) {
            return;
          }
          var first = e.touches[0];
          this._startPos = this._newPos = new Point(first.clientX, first.clientY);
          this._holdTimeout = setTimeout(bind(function() {
            this._cancel();
            if (!this._isTapValid()) {
              return;
            }
            on(document, "touchend", preventDefault);
            on(document, "touchend touchcancel", this._cancelClickPrevent);
            this._simulateEvent("contextmenu", first);
          }, this), tapHoldDelay);
          on(document, "touchend touchcancel contextmenu", this._cancel, this);
          on(document, "touchmove", this._onMove, this);
        },
        _cancelClickPrevent: function cancelClickPrevent() {
          off(document, "touchend", preventDefault);
          off(document, "touchend touchcancel", cancelClickPrevent);
        },
        _cancel: function() {
          clearTimeout(this._holdTimeout);
          off(document, "touchend touchcancel contextmenu", this._cancel, this);
          off(document, "touchmove", this._onMove, this);
        },
        _onMove: function(e) {
          var first = e.touches[0];
          this._newPos = new Point(first.clientX, first.clientY);
        },
        _isTapValid: function() {
          return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;
        },
        _simulateEvent: function(type, e) {
          var simulatedEvent = new MouseEvent(type, {
            bubbles: true,
            cancelable: true,
            view: window,
            // detail: 1,
            screenX: e.screenX,
            screenY: e.screenY,
            clientX: e.clientX,
            clientY: e.clientY
            // button: 2,
            // buttons: 2
          });
          simulatedEvent._simulated = true;
          e.target.dispatchEvent(simulatedEvent);
        }
      });
      Map2.addInitHook("addHandler", "tapHold", TapHold);
      Map2.mergeOptions({
        // @section Touch interaction options
        // @option touchZoom: Boolean|String = *
        // Whether the map can be zoomed by touch-dragging with two fingers. If
        // passed `'center'`, it will zoom to the center of the view regardless of
        // where the touch events (fingers) were. Enabled for touch-capable web
        // browsers.
        touchZoom: Browser.touch,
        // @option bounceAtZoomLimits: Boolean = true
        // Set it to false if you don't want the map to zoom beyond min/max zoom
        // and then bounce back when pinch-zooming.
        bounceAtZoomLimits: true
      });
      var TouchZoom = Handler.extend({
        addHooks: function() {
          addClass(this._map._container, "leaflet-touch-zoom");
          on(this._map._container, "touchstart", this._onTouchStart, this);
        },
        removeHooks: function() {
          removeClass(this._map._container, "leaflet-touch-zoom");
          off(this._map._container, "touchstart", this._onTouchStart, this);
        },
        _onTouchStart: function(e) {
          var map2 = this._map;
          if (!e.touches || e.touches.length !== 2 || map2._animatingZoom || this._zooming) {
            return;
          }
          var p1 = map2.mouseEventToContainerPoint(e.touches[0]), p2 = map2.mouseEventToContainerPoint(e.touches[1]);
          this._centerPoint = map2.getSize()._divideBy(2);
          this._startLatLng = map2.containerPointToLatLng(this._centerPoint);
          if (map2.options.touchZoom !== "center") {
            this._pinchStartLatLng = map2.containerPointToLatLng(p1.add(p2)._divideBy(2));
          }
          this._startDist = p1.distanceTo(p2);
          this._startZoom = map2.getZoom();
          this._moved = false;
          this._zooming = true;
          map2._stop();
          on(document, "touchmove", this._onTouchMove, this);
          on(document, "touchend touchcancel", this._onTouchEnd, this);
          preventDefault(e);
        },
        _onTouchMove: function(e) {
          if (!e.touches || e.touches.length !== 2 || !this._zooming) {
            return;
          }
          var map2 = this._map, p1 = map2.mouseEventToContainerPoint(e.touches[0]), p2 = map2.mouseEventToContainerPoint(e.touches[1]), scale2 = p1.distanceTo(p2) / this._startDist;
          this._zoom = map2.getScaleZoom(scale2, this._startZoom);
          if (!map2.options.bounceAtZoomLimits && (this._zoom < map2.getMinZoom() && scale2 < 1 || this._zoom > map2.getMaxZoom() && scale2 > 1)) {
            this._zoom = map2._limitZoom(this._zoom);
          }
          if (map2.options.touchZoom === "center") {
            this._center = this._startLatLng;
            if (scale2 === 1) {
              return;
            }
          } else {
            var delta = p1._add(p2)._divideBy(2)._subtract(this._centerPoint);
            if (scale2 === 1 && delta.x === 0 && delta.y === 0) {
              return;
            }
            this._center = map2.unproject(map2.project(this._pinchStartLatLng, this._zoom).subtract(delta), this._zoom);
          }
          if (!this._moved) {
            map2._moveStart(true, false);
            this._moved = true;
          }
          cancelAnimFrame(this._animRequest);
          var moveFn = bind(map2._move, map2, this._center, this._zoom, { pinch: true, round: false }, void 0);
          this._animRequest = requestAnimFrame(moveFn, this, true);
          preventDefault(e);
        },
        _onTouchEnd: function() {
          if (!this._moved || !this._zooming) {
            this._zooming = false;
            return;
          }
          this._zooming = false;
          cancelAnimFrame(this._animRequest);
          off(document, "touchmove", this._onTouchMove, this);
          off(document, "touchend touchcancel", this._onTouchEnd, this);
          if (this._map.options.zoomAnimation) {
            this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), true, this._map.options.zoomSnap);
          } else {
            this._map._resetView(this._center, this._map._limitZoom(this._zoom));
          }
        }
      });
      Map2.addInitHook("addHandler", "touchZoom", TouchZoom);
      Map2.BoxZoom = BoxZoom;
      Map2.DoubleClickZoom = DoubleClickZoom;
      Map2.Drag = Drag;
      Map2.Keyboard = Keyboard;
      Map2.ScrollWheelZoom = ScrollWheelZoom;
      Map2.TapHold = TapHold;
      Map2.TouchZoom = TouchZoom;
      exports2.Bounds = Bounds;
      exports2.Browser = Browser;
      exports2.CRS = CRS;
      exports2.Canvas = Canvas;
      exports2.Circle = Circle;
      exports2.CircleMarker = CircleMarker;
      exports2.Class = Class;
      exports2.Control = Control;
      exports2.DivIcon = DivIcon;
      exports2.DivOverlay = DivOverlay;
      exports2.DomEvent = DomEvent;
      exports2.DomUtil = DomUtil;
      exports2.Draggable = Draggable;
      exports2.Evented = Evented;
      exports2.FeatureGroup = FeatureGroup2;
      exports2.GeoJSON = GeoJSON;
      exports2.GridLayer = GridLayer;
      exports2.Handler = Handler;
      exports2.Icon = Icon;
      exports2.ImageOverlay = ImageOverlay;
      exports2.LatLng = LatLng2;
      exports2.LatLngBounds = LatLngBounds;
      exports2.Layer = Layer;
      exports2.LayerGroup = LayerGroup;
      exports2.LineUtil = LineUtil;
      exports2.Map = Map2;
      exports2.Marker = Marker;
      exports2.Mixin = Mixin;
      exports2.Path = Path;
      exports2.Point = Point;
      exports2.PolyUtil = PolyUtil;
      exports2.Polygon = Polygon;
      exports2.Polyline = Polyline;
      exports2.Popup = Popup;
      exports2.PosAnimation = PosAnimation;
      exports2.Projection = index;
      exports2.Rectangle = Rectangle;
      exports2.Renderer = Renderer;
      exports2.SVG = SVG;
      exports2.SVGOverlay = SVGOverlay;
      exports2.TileLayer = TileLayer;
      exports2.Tooltip = Tooltip;
      exports2.Transformation = Transformation;
      exports2.Util = Util;
      exports2.VideoOverlay = VideoOverlay;
      exports2.bind = bind;
      exports2.bounds = toBounds;
      exports2.canvas = canvas;
      exports2.circle = circle2;
      exports2.circleMarker = circleMarker2;
      exports2.control = control;
      exports2.divIcon = divIcon2;
      exports2.extend = extend;
      exports2.featureGroup = featureGroup;
      exports2.geoJSON = geoJSON2;
      exports2.geoJson = geoJson;
      exports2.gridLayer = gridLayer;
      exports2.icon = icon2;
      exports2.imageOverlay = imageOverlay;
      exports2.latLng = toLatLng;
      exports2.latLngBounds = toLatLngBounds;
      exports2.layerGroup = layerGroup;
      exports2.map = createMap;
      exports2.marker = marker2;
      exports2.point = toPoint;
      exports2.polygon = polygon;
      exports2.polyline = polyline;
      exports2.popup = popup;
      exports2.rectangle = rectangle;
      exports2.setOptions = setOptions;
      exports2.stamp = stamp;
      exports2.svg = svg;
      exports2.svgOverlay = svgOverlay;
      exports2.tileLayer = tileLayer2;
      exports2.tooltip = tooltip;
      exports2.transformation = toTransformation;
      exports2.version = version;
      exports2.videoOverlay = videoOverlay;
      var oldL = window.L;
      exports2.noConflict = function() {
        window.L = oldL;
        return this;
      };
      window.L = exports2;
    });
  }
});

// resources/js/index.js
var LF = __toESM(require_leaflet_src(), 1);

// node_modules/leaflet-fullscreen/dist/Leaflet.fullscreen.js
L.Control.Fullscreen = L.Control.extend({
  options: {
    position: "topleft",
    title: {
      "false": "View Fullscreen",
      "true": "Exit Fullscreen"
    }
  },
  onAdd: function(map2) {
    var container = L.DomUtil.create("div", "leaflet-control-fullscreen leaflet-bar leaflet-control");
    this.link = L.DomUtil.create("a", "leaflet-control-fullscreen-button leaflet-bar-part", container);
    this.link.href = "#";
    this._map = map2;
    this._map.on("fullscreenchange", this._toggleTitle, this);
    this._toggleTitle();
    L.DomEvent.on(this.link, "click", this._click, this);
    return container;
  },
  _click: function(e) {
    L.DomEvent.stopPropagation(e);
    L.DomEvent.preventDefault(e);
    this._map.toggleFullscreen(this.options);
  },
  _toggleTitle: function() {
    this.link.title = this.options.title[this._map.isFullscreen()];
  }
});
L.Map.include({
  isFullscreen: function() {
    return this._isFullscreen || false;
  },
  toggleFullscreen: function(options) {
    var container = this.getContainer();
    if (this.isFullscreen()) {
      if (options && options.pseudoFullscreen) {
        this._disablePseudoFullscreen(container);
      } else if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen();
      } else if (document.webkitCancelFullScreen) {
        document.webkitCancelFullScreen();
      } else if (document.msExitFullscreen) {
        document.msExitFullscreen();
      } else {
        this._disablePseudoFullscreen(container);
      }
    } else {
      if (options && options.pseudoFullscreen) {
        this._enablePseudoFullscreen(container);
      } else if (container.requestFullscreen) {
        container.requestFullscreen();
      } else if (container.mozRequestFullScreen) {
        container.mozRequestFullScreen();
      } else if (container.webkitRequestFullscreen) {
        container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
      } else if (container.msRequestFullscreen) {
        container.msRequestFullscreen();
      } else {
        this._enablePseudoFullscreen(container);
      }
    }
  },
  _enablePseudoFullscreen: function(container) {
    L.DomUtil.addClass(container, "leaflet-pseudo-fullscreen");
    this._setFullscreen(true);
    this.fire("fullscreenchange");
  },
  _disablePseudoFullscreen: function(container) {
    L.DomUtil.removeClass(container, "leaflet-pseudo-fullscreen");
    this._setFullscreen(false);
    this.fire("fullscreenchange");
  },
  _setFullscreen: function(fullscreen) {
    this._isFullscreen = fullscreen;
    var container = this.getContainer();
    if (fullscreen) {
      L.DomUtil.addClass(container, "leaflet-fullscreen-on");
    } else {
      L.DomUtil.removeClass(container, "leaflet-fullscreen-on");
    }
    this.invalidateSize();
  },
  _onFullscreenChange: function(e) {
    var fullscreenElement = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement;
    if (fullscreenElement === this.getContainer() && !this._isFullscreen) {
      this._setFullscreen(true);
      this.fire("fullscreenchange");
    } else if (fullscreenElement !== this.getContainer() && this._isFullscreen) {
      this._setFullscreen(false);
      this.fire("fullscreenchange");
    }
  }
});
L.Map.mergeOptions({
  fullscreenControl: false
});
L.Map.addInitHook(function() {
  if (this.options.fullscreenControl) {
    this.fullscreenControl = new L.Control.Fullscreen(this.options.fullscreenControl);
    this.addControl(this.fullscreenControl);
  }
  var fullscreenchange;
  if ("onfullscreenchange" in document) {
    fullscreenchange = "fullscreenchange";
  } else if ("onmozfullscreenchange" in document) {
    fullscreenchange = "mozfullscreenchange";
  } else if ("onwebkitfullscreenchange" in document) {
    fullscreenchange = "webkitfullscreenchange";
  } else if ("onmsfullscreenchange" in document) {
    fullscreenchange = "MSFullscreenChange";
  }
  if (fullscreenchange) {
    var onFullscreenChange = L.bind(this._onFullscreenChange, this);
    this.whenReady(function() {
      L.DomEvent.on(document, fullscreenchange, onFullscreenChange);
    });
    this.on("unload", function() {
      L.DomEvent.off(document, fullscreenchange, onFullscreenChange);
    });
  }
});
L.control.fullscreen = function(options) {
  return new L.Control.Fullscreen(options);
};

// node_modules/@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.js
(() => {
  var _a2, _b;
  var Wl = Object.create;
  var lr = Object.defineProperty;
  var Ql = Object.getOwnPropertyDescriptor;
  var th = Object.getOwnPropertyNames;
  var eh = Object.getPrototypeOf, ih = Object.prototype.hasOwnProperty;
  var S = (t, e) => () => (e || t((e = { exports: {} }).exports, e), e.exports);
  var rh = (t, e, i, r) => {
    if (e && typeof e == "object" || typeof e == "function")
      for (let n of th(e))
        !ih.call(t, n) && n !== i && lr(t, n, { get: () => e[n], enumerable: !(r = Ql(e, n)) || r.enumerable });
    return t;
  };
  var xt = (t, e, i) => (i = t != null ? Wl(eh(t)) : {}, rh(e || !t || !t.__esModule ? lr(i, "default", { value: t, enumerable: true }) : i, t));
  var cr = S((w_, ur) => {
    function sh() {
      this.__data__ = [], this.size = 0;
    }
    ur.exports = sh;
  });
  var he = S((C_, pr) => {
    function ah(t, e) {
      return t === e || t !== t && e !== e;
    }
    pr.exports = ah;
  });
  var ue = S((E_, fr) => {
    var oh = he();
    function lh(t, e) {
      for (var i = t.length; i--; )
        if (oh(t[i][0], e))
          return i;
      return -1;
    }
    fr.exports = lh;
  });
  var gr = S((P_, dr) => {
    var hh = ue(), uh = Array.prototype, ch = uh.splice;
    function ph(t) {
      var e = this.__data__, i = hh(e, t);
      if (i < 0)
        return false;
      var r = e.length - 1;
      return i == r ? e.pop() : ch.call(e, i, 1), --this.size, true;
    }
    dr.exports = ph;
  });
  var _r = S((S_, mr) => {
    var fh = ue();
    function dh(t) {
      var e = this.__data__, i = fh(e, t);
      return i < 0 ? void 0 : e[i][1];
    }
    mr.exports = dh;
  });
  var Lr = S((B_, yr) => {
    var gh = ue();
    function mh(t) {
      return gh(this.__data__, t) > -1;
    }
    yr.exports = mh;
  });
  var vr = S((T_, br) => {
    var _h = ue();
    function yh(t, e) {
      var i = this.__data__, r = _h(i, t);
      return r < 0 ? (++this.size, i.push([t, e])) : i[r][1] = e, this;
    }
    br.exports = yh;
  });
  var ce = S((R_, kr) => {
    var Lh = cr(), bh = gr(), vh = _r(), kh = Lr(), Mh = vr();
    function Kt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Kt.prototype.clear = Lh;
    Kt.prototype.delete = bh;
    Kt.prototype.get = vh;
    Kt.prototype.has = kh;
    Kt.prototype.set = Mh;
    kr.exports = Kt;
  });
  var xr = S((D_, Mr) => {
    var xh = ce();
    function wh() {
      this.__data__ = new xh(), this.size = 0;
    }
    Mr.exports = wh;
  });
  var Cr = S((O_, wr) => {
    function Ch(t) {
      var e = this.__data__, i = e.delete(t);
      return this.size = e.size, i;
    }
    wr.exports = Ch;
  });
  var Pr = S((A_, Er) => {
    function Eh(t) {
      return this.__data__.get(t);
    }
    Er.exports = Eh;
  });
  var Br = S((I_, Sr) => {
    function Ph(t) {
      return this.__data__.has(t);
    }
    Sr.exports = Ph;
  });
  var oi = S((G_, Tr) => {
    var Sh = typeof global == "object" && global && global.Object === Object && global;
    Tr.exports = Sh;
  });
  var Gt = S((q_, Rr) => {
    var Bh = oi(), Th = typeof self == "object" && self && self.Object === Object && self, Rh = Bh || Th || Function("return this")();
    Rr.exports = Rh;
  });
  var Oe = S((N_, Dr) => {
    var Dh = Gt(), Oh = Dh.Symbol;
    Dr.exports = Oh;
  });
  var Gr = S((z_, Ir) => {
    var Or = Oe(), Ar = Object.prototype, Ah = Ar.hasOwnProperty, Ih = Ar.toString, pe = Or ? Or.toStringTag : void 0;
    function Gh(t) {
      var e = Ah.call(t, pe), i = t[pe];
      try {
        t[pe] = void 0;
        var r = true;
      } catch {
      }
      var n = Ih.call(t);
      return r && (e ? t[pe] = i : delete t[pe]), n;
    }
    Ir.exports = Gh;
  });
  var Nr = S((F_, qr) => {
    var qh = Object.prototype, Nh = qh.toString;
    function zh(t) {
      return Nh.call(t);
    }
    qr.exports = zh;
  });
  var Ht = S((V_, Vr) => {
    var zr = Oe(), Fh = Gr(), Vh = Nr(), Uh = "[object Null]", jh = "[object Undefined]", Fr = zr ? zr.toStringTag : void 0;
    function Kh(t) {
      return t == null ? t === void 0 ? jh : Uh : Fr && Fr in Object(t) ? Fh(t) : Vh(t);
    }
    Vr.exports = Kh;
  });
  var Bt = S((U_, Ur) => {
    function Hh(t) {
      var e = typeof t;
      return t != null && (e == "object" || e == "function");
    }
    Ur.exports = Hh;
  });
  var Ae = S((j_, jr) => {
    var Xh = Ht(), Yh = Bt(), Jh = "[object AsyncFunction]", $h = "[object Function]", Zh = "[object GeneratorFunction]", Wh = "[object Proxy]";
    function Qh(t) {
      if (!Yh(t))
        return false;
      var e = Xh(t);
      return e == $h || e == Zh || e == Jh || e == Wh;
    }
    jr.exports = Qh;
  });
  var Hr = S((K_, Kr) => {
    var tu = Gt(), eu = tu["__core-js_shared__"];
    Kr.exports = eu;
  });
  var Jr = S((H_, Yr) => {
    var li = Hr(), Xr = function() {
      var t = /[^.]+$/.exec(li && li.keys && li.keys.IE_PROTO || "");
      return t ? "Symbol(src)_1." + t : "";
    }();
    function iu(t) {
      return !!Xr && Xr in t;
    }
    Yr.exports = iu;
  });
  var Zr = S((X_, $r) => {
    var ru = Function.prototype, nu = ru.toString;
    function su(t) {
      if (t != null) {
        try {
          return nu.call(t);
        } catch {
        }
        try {
          return t + "";
        } catch {
        }
      }
      return "";
    }
    $r.exports = su;
  });
  var Qr = S((Y_, Wr) => {
    var au = Ae(), ou = Jr(), lu = Bt(), hu = Zr(), uu = /[\\^$.*+?()[\]{}|]/g, cu = /^\[object .+?Constructor\]$/, pu = Function.prototype, fu = Object.prototype, du = pu.toString, gu = fu.hasOwnProperty, mu = RegExp("^" + du.call(gu).replace(uu, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    function _u(t) {
      if (!lu(t) || ou(t))
        return false;
      var e = au(t) ? mu : cu;
      return e.test(hu(t));
    }
    Wr.exports = _u;
  });
  var en = S((J_, tn) => {
    function yu(t, e) {
      return t?.[e];
    }
    tn.exports = yu;
  });
  var Ie = S(($_, rn) => {
    var Lu = Qr(), bu = en();
    function vu(t, e) {
      var i = bu(t, e);
      return Lu(i) ? i : void 0;
    }
    rn.exports = vu;
  });
  var hi = S((Z_, nn) => {
    var ku = Ie(), Mu = Gt(), xu = ku(Mu, "Map");
    nn.exports = xu;
  });
  var fe = S((W_, sn) => {
    var wu = Ie(), Cu = wu(Object, "create");
    sn.exports = Cu;
  });
  var ln = S((Q_, on) => {
    var an = fe();
    function Eu() {
      this.__data__ = an ? an(null) : {}, this.size = 0;
    }
    on.exports = Eu;
  });
  var un = S((ty, hn) => {
    function Pu(t) {
      var e = this.has(t) && delete this.__data__[t];
      return this.size -= e ? 1 : 0, e;
    }
    hn.exports = Pu;
  });
  var pn = S((ey, cn) => {
    var Su = fe(), Bu = "__lodash_hash_undefined__", Tu = Object.prototype, Ru = Tu.hasOwnProperty;
    function Du(t) {
      var e = this.__data__;
      if (Su) {
        var i = e[t];
        return i === Bu ? void 0 : i;
      }
      return Ru.call(e, t) ? e[t] : void 0;
    }
    cn.exports = Du;
  });
  var dn = S((iy, fn) => {
    var Ou = fe(), Au = Object.prototype, Iu = Au.hasOwnProperty;
    function Gu(t) {
      var e = this.__data__;
      return Ou ? e[t] !== void 0 : Iu.call(e, t);
    }
    fn.exports = Gu;
  });
  var mn = S((ry, gn) => {
    var qu = fe(), Nu = "__lodash_hash_undefined__";
    function zu(t, e) {
      var i = this.__data__;
      return this.size += this.has(t) ? 0 : 1, i[t] = qu && e === void 0 ? Nu : e, this;
    }
    gn.exports = zu;
  });
  var yn = S((ny, _n) => {
    var Fu = ln(), Vu = un(), Uu = pn(), ju = dn(), Ku = mn();
    function Xt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Xt.prototype.clear = Fu;
    Xt.prototype.delete = Vu;
    Xt.prototype.get = Uu;
    Xt.prototype.has = ju;
    Xt.prototype.set = Ku;
    _n.exports = Xt;
  });
  var vn = S((sy, bn) => {
    var Ln = yn(), Hu = ce(), Xu = hi();
    function Yu() {
      this.size = 0, this.__data__ = { hash: new Ln(), map: new (Xu || Hu)(), string: new Ln() };
    }
    bn.exports = Yu;
  });
  var Mn = S((ay, kn) => {
    function Ju(t) {
      var e = typeof t;
      return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null;
    }
    kn.exports = Ju;
  });
  var de = S((oy, xn) => {
    var $u = Mn();
    function Zu(t, e) {
      var i = t.__data__;
      return $u(e) ? i[typeof e == "string" ? "string" : "hash"] : i.map;
    }
    xn.exports = Zu;
  });
  var Cn = S((ly, wn) => {
    var Wu = de();
    function Qu(t) {
      var e = Wu(this, t).delete(t);
      return this.size -= e ? 1 : 0, e;
    }
    wn.exports = Qu;
  });
  var Pn = S((hy, En) => {
    var tc = de();
    function ec(t) {
      return tc(this, t).get(t);
    }
    En.exports = ec;
  });
  var Bn = S((uy, Sn) => {
    var ic = de();
    function rc(t) {
      return ic(this, t).has(t);
    }
    Sn.exports = rc;
  });
  var Rn = S((cy, Tn) => {
    var nc = de();
    function sc(t, e) {
      var i = nc(this, t), r = i.size;
      return i.set(t, e), this.size += i.size == r ? 0 : 1, this;
    }
    Tn.exports = sc;
  });
  var ui = S((py, Dn) => {
    var ac = vn(), oc = Cn(), lc = Pn(), hc = Bn(), uc = Rn();
    function Yt(t) {
      var e = -1, i = t == null ? 0 : t.length;
      for (this.clear(); ++e < i; ) {
        var r = t[e];
        this.set(r[0], r[1]);
      }
    }
    Yt.prototype.clear = ac;
    Yt.prototype.delete = oc;
    Yt.prototype.get = lc;
    Yt.prototype.has = hc;
    Yt.prototype.set = uc;
    Dn.exports = Yt;
  });
  var An = S((fy, On) => {
    var cc = ce(), pc = hi(), fc = ui(), dc = 200;
    function gc(t, e) {
      var i = this.__data__;
      if (i instanceof cc) {
        var r = i.__data__;
        if (!pc || r.length < dc - 1)
          return r.push([t, e]), this.size = ++i.size, this;
        i = this.__data__ = new fc(r);
      }
      return i.set(t, e), this.size = i.size, this;
    }
    On.exports = gc;
  });
  var Gn = S((dy, In) => {
    var mc = ce(), _c = xr(), yc = Cr(), Lc = Pr(), bc = Br(), vc = An();
    function Jt(t) {
      var e = this.__data__ = new mc(t);
      this.size = e.size;
    }
    Jt.prototype.clear = _c;
    Jt.prototype.delete = yc;
    Jt.prototype.get = Lc;
    Jt.prototype.has = bc;
    Jt.prototype.set = vc;
    In.exports = Jt;
  });
  var ci = S((gy, qn) => {
    var kc = Ie(), Mc = function() {
      try {
        var t = kc(Object, "defineProperty");
        return t({}, "", {}), t;
      } catch {
      }
    }();
    qn.exports = Mc;
  });
  var Ge = S((my, zn) => {
    var Nn = ci();
    function xc(t, e, i) {
      e == "__proto__" && Nn ? Nn(t, e, { configurable: true, enumerable: true, value: i, writable: true }) : t[e] = i;
    }
    zn.exports = xc;
  });
  var pi = S((_y, Fn) => {
    var wc = Ge(), Cc = he();
    function Ec(t, e, i) {
      (i !== void 0 && !Cc(t[e], i) || i === void 0 && !(e in t)) && wc(t, e, i);
    }
    Fn.exports = Ec;
  });
  var Un = S((yy, Vn) => {
    function Pc(t) {
      return function(e, i, r) {
        for (var n = -1, s = Object(e), a = r(e), o = a.length; o--; ) {
          var l = a[t ? o : ++n];
          if (i(s[l], l, s) === false)
            break;
        }
        return e;
      };
    }
    Vn.exports = Pc;
  });
  var Kn = S((Ly, jn) => {
    var Sc = Un(), Bc = Sc();
    jn.exports = Bc;
  });
  var $n = S((ge, $t) => {
    var Tc = Gt(), Jn = typeof ge == "object" && ge && !ge.nodeType && ge, Hn = Jn && typeof $t == "object" && $t && !$t.nodeType && $t, Rc = Hn && Hn.exports === Jn, Xn = Rc ? Tc.Buffer : void 0, Yn = Xn ? Xn.allocUnsafe : void 0;
    function Dc(t, e) {
      if (e)
        return t.slice();
      var i = t.length, r = Yn ? Yn(i) : new t.constructor(i);
      return t.copy(r), r;
    }
    $t.exports = Dc;
  });
  var Wn = S((by, Zn) => {
    var Oc = Gt(), Ac = Oc.Uint8Array;
    Zn.exports = Ac;
  });
  var es = S((vy, ts) => {
    var Qn = Wn();
    function Ic(t) {
      var e = new t.constructor(t.byteLength);
      return new Qn(e).set(new Qn(t)), e;
    }
    ts.exports = Ic;
  });
  var rs = S((ky, is) => {
    var Gc = es();
    function qc(t, e) {
      var i = e ? Gc(t.buffer) : t.buffer;
      return new t.constructor(i, t.byteOffset, t.length);
    }
    is.exports = qc;
  });
  var ss = S((My, ns) => {
    function Nc(t, e) {
      var i = -1, r = t.length;
      for (e || (e = Array(r)); ++i < r; )
        e[i] = t[i];
      return e;
    }
    ns.exports = Nc;
  });
  var ls = S((xy, os) => {
    var zc = Bt(), as = Object.create, Fc = /* @__PURE__ */ function() {
      function t() {
      }
      return function(e) {
        if (!zc(e))
          return {};
        if (as)
          return as(e);
        t.prototype = e;
        var i = new t();
        return t.prototype = void 0, i;
      };
    }();
    os.exports = Fc;
  });
  var us = S((wy, hs) => {
    function Vc(t, e) {
      return function(i) {
        return t(e(i));
      };
    }
    hs.exports = Vc;
  });
  var fi = S((Cy, cs) => {
    var Uc = us(), jc = Uc(Object.getPrototypeOf, Object);
    cs.exports = jc;
  });
  var di = S((Ey, ps) => {
    var Kc = Object.prototype;
    function Hc(t) {
      var e = t && t.constructor, i = typeof e == "function" && e.prototype || Kc;
      return t === i;
    }
    ps.exports = Hc;
  });
  var ds = S((Py, fs) => {
    var Xc = ls(), Yc = fi(), Jc = di();
    function $c(t) {
      return typeof t.constructor == "function" && !Jc(t) ? Xc(Yc(t)) : {};
    }
    fs.exports = $c;
  });
  var qt = S((Sy, gs) => {
    function Zc(t) {
      return t != null && typeof t == "object";
    }
    gs.exports = Zc;
  });
  var _s = S((By, ms) => {
    var Wc = Ht(), Qc = qt(), tp = "[object Arguments]";
    function ep(t) {
      return Qc(t) && Wc(t) == tp;
    }
    ms.exports = ep;
  });
  var gi = S((Ty, bs) => {
    var ys = _s(), ip = qt(), Ls = Object.prototype, rp = Ls.hasOwnProperty, np = Ls.propertyIsEnumerable, sp = ys(/* @__PURE__ */ function() {
      return arguments;
    }()) ? ys : function(t) {
      return ip(t) && rp.call(t, "callee") && !np.call(t, "callee");
    };
    bs.exports = sp;
  });
  var Zt = S((Ry, vs) => {
    var ap = Array.isArray;
    vs.exports = ap;
  });
  var mi = S((Dy, ks) => {
    var op = 9007199254740991;
    function lp(t) {
      return typeof t == "number" && t > -1 && t % 1 == 0 && t <= op;
    }
    ks.exports = lp;
  });
  var qe = S((Oy, Ms) => {
    var hp = Ae(), up = mi();
    function cp(t) {
      return t != null && up(t.length) && !hp(t);
    }
    Ms.exports = cp;
  });
  var ws = S((Ay, xs) => {
    var pp = qe(), fp = qt();
    function dp(t) {
      return fp(t) && pp(t);
    }
    xs.exports = dp;
  });
  var Es = S((Iy, Cs) => {
    function gp() {
      return false;
    }
    Cs.exports = gp;
  });
  var _i = S((me, Wt) => {
    var mp = Gt(), _p = Es(), Bs = typeof me == "object" && me && !me.nodeType && me, Ps = Bs && typeof Wt == "object" && Wt && !Wt.nodeType && Wt, yp = Ps && Ps.exports === Bs, Ss = yp ? mp.Buffer : void 0, Lp = Ss ? Ss.isBuffer : void 0, bp = Lp || _p;
    Wt.exports = bp;
  });
  var Ds = S((Gy, Rs) => {
    var vp = Ht(), kp = fi(), Mp = qt(), xp = "[object Object]", wp = Function.prototype, Cp = Object.prototype, Ts = wp.toString, Ep = Cp.hasOwnProperty, Pp = Ts.call(Object);
    function Sp(t) {
      if (!Mp(t) || vp(t) != xp)
        return false;
      var e = kp(t);
      if (e === null)
        return true;
      var i = Ep.call(e, "constructor") && e.constructor;
      return typeof i == "function" && i instanceof i && Ts.call(i) == Pp;
    }
    Rs.exports = Sp;
  });
  var As = S((qy, Os) => {
    var Bp = Ht(), Tp = mi(), Rp = qt(), Dp = "[object Arguments]", Op = "[object Array]", Ap = "[object Boolean]", Ip = "[object Date]", Gp = "[object Error]", qp = "[object Function]", Np = "[object Map]", zp = "[object Number]", Fp = "[object Object]", Vp = "[object RegExp]", Up = "[object Set]", jp = "[object String]", Kp = "[object WeakMap]", Hp = "[object ArrayBuffer]", Xp = "[object DataView]", Yp = "[object Float32Array]", Jp = "[object Float64Array]", $p = "[object Int8Array]", Zp = "[object Int16Array]", Wp = "[object Int32Array]", Qp = "[object Uint8Array]", tf = "[object Uint8ClampedArray]", ef = "[object Uint16Array]", rf = "[object Uint32Array]", Y = {};
    Y[Yp] = Y[Jp] = Y[$p] = Y[Zp] = Y[Wp] = Y[Qp] = Y[tf] = Y[ef] = Y[rf] = true;
    Y[Dp] = Y[Op] = Y[Hp] = Y[Ap] = Y[Xp] = Y[Ip] = Y[Gp] = Y[qp] = Y[Np] = Y[zp] = Y[Fp] = Y[Vp] = Y[Up] = Y[jp] = Y[Kp] = false;
    function nf(t) {
      return Rp(t) && Tp(t.length) && !!Y[Bp(t)];
    }
    Os.exports = nf;
  });
  var Gs = S((Ny, Is) => {
    function sf(t) {
      return function(e) {
        return t(e);
      };
    }
    Is.exports = sf;
  });
  var Ns = S((_e, Qt) => {
    var af = oi(), qs = typeof _e == "object" && _e && !_e.nodeType && _e, ye = qs && typeof Qt == "object" && Qt && !Qt.nodeType && Qt, of = ye && ye.exports === qs, yi = of && af.process, lf = function() {
      try {
        var t = ye && ye.require && ye.require("util").types;
        return t || yi && yi.binding && yi.binding("util");
      } catch {
      }
    }();
    Qt.exports = lf;
  });
  var Li = S((zy, Vs) => {
    var hf = As(), uf = Gs(), zs = Ns(), Fs = zs && zs.isTypedArray, cf = Fs ? uf(Fs) : hf;
    Vs.exports = cf;
  });
  var bi = S((Fy, Us) => {
    function pf(t, e) {
      if (!(e === "constructor" && typeof t[e] == "function") && e != "__proto__")
        return t[e];
    }
    Us.exports = pf;
  });
  var Ks = S((Vy, js) => {
    var ff = Ge(), df = he(), gf = Object.prototype, mf = gf.hasOwnProperty;
    function _f(t, e, i) {
      var r = t[e];
      (!(mf.call(t, e) && df(r, i)) || i === void 0 && !(e in t)) && ff(t, e, i);
    }
    js.exports = _f;
  });
  var Xs = S((Uy, Hs) => {
    var yf = Ks(), Lf = Ge();
    function bf(t, e, i, r) {
      var n = !i;
      i || (i = {});
      for (var s = -1, a = e.length; ++s < a; ) {
        var o = e[s], l = r ? r(i[o], t[o], o, i, t) : void 0;
        l === void 0 && (l = t[o]), n ? Lf(i, o, l) : yf(i, o, l);
      }
      return i;
    }
    Hs.exports = bf;
  });
  var Js = S((jy, Ys) => {
    function vf(t, e) {
      for (var i = -1, r = Array(t); ++i < t; )
        r[i] = e(i);
      return r;
    }
    Ys.exports = vf;
  });
  var vi = S((Ky, $s) => {
    var kf = 9007199254740991, Mf = /^(?:0|[1-9]\d*)$/;
    function xf(t, e) {
      var i = typeof t;
      return e = e ?? kf, !!e && (i == "number" || i != "symbol" && Mf.test(t)) && t > -1 && t % 1 == 0 && t < e;
    }
    $s.exports = xf;
  });
  var Ws = S((Hy, Zs) => {
    var wf = Js(), Cf = gi(), Ef = Zt(), Pf = _i(), Sf = vi(), Bf = Li(), Tf = Object.prototype, Rf = Tf.hasOwnProperty;
    function Df(t, e) {
      var i = Ef(t), r = !i && Cf(t), n = !i && !r && Pf(t), s = !i && !r && !n && Bf(t), a = i || r || n || s, o = a ? wf(t.length, String) : [], l = o.length;
      for (var u in t)
        (e || Rf.call(t, u)) && !(a && (u == "length" || n && (u == "offset" || u == "parent") || s && (u == "buffer" || u == "byteLength" || u == "byteOffset") || Sf(u, l))) && o.push(u);
      return o;
    }
    Zs.exports = Df;
  });
  var ta = S((Xy, Qs) => {
    function Of(t) {
      var e = [];
      if (t != null)
        for (var i in Object(t))
          e.push(i);
      return e;
    }
    Qs.exports = Of;
  });
  var ia = S((Yy, ea) => {
    var Af = Bt(), If = di(), Gf = ta(), qf = Object.prototype, Nf = qf.hasOwnProperty;
    function zf(t) {
      if (!Af(t))
        return Gf(t);
      var e = If(t), i = [];
      for (var r in t)
        r == "constructor" && (e || !Nf.call(t, r)) || i.push(r);
      return i;
    }
    ea.exports = zf;
  });
  var ki = S((Jy, ra) => {
    var Ff = Ws(), Vf = ia(), Uf = qe();
    function jf(t) {
      return Uf(t) ? Ff(t, true) : Vf(t);
    }
    ra.exports = jf;
  });
  var sa = S(($y, na) => {
    var Kf = Xs(), Hf = ki();
    function Xf(t) {
      return Kf(t, Hf(t));
    }
    na.exports = Xf;
  });
  var ca = S((Zy, ua) => {
    var aa = pi(), Yf = $n(), Jf = rs(), $f = ss(), Zf = ds(), oa = gi(), la = Zt(), Wf = ws(), Qf = _i(), td = Ae(), ed = Bt(), id = Ds(), rd = Li(), ha = bi(), nd = sa();
    function sd(t, e, i, r, n, s, a) {
      var o = ha(t, i), l = ha(e, i), u = a.get(l);
      if (u) {
        aa(t, i, u);
        return;
      }
      var f = s ? s(o, l, i + "", t, e, a) : void 0, d = f === void 0;
      if (d) {
        var P = la(l), E = !P && Qf(l), T = !P && !E && rd(l);
        f = l, P || E || T ? la(o) ? f = o : Wf(o) ? f = $f(o) : E ? (d = false, f = Yf(l, true)) : T ? (d = false, f = Jf(l, true)) : f = [] : id(l) || oa(l) ? (f = o, oa(o) ? f = nd(o) : (!ed(o) || td(o)) && (f = Zf(l))) : d = false;
      }
      d && (a.set(l, f), n(f, l, r, s, a), a.delete(l)), aa(t, i, f);
    }
    ua.exports = sd;
  });
  var da = S((Wy, fa) => {
    var ad = Gn(), od = pi(), ld = Kn(), hd = ca(), ud = Bt(), cd = ki(), pd = bi();
    function pa(t, e, i, r, n) {
      t !== e && ld(e, function(s, a) {
        if (n || (n = new ad()), ud(s))
          hd(t, e, a, i, pa, r, n);
        else {
          var o = r ? r(pd(t, a), s, a + "", t, e, n) : void 0;
          o === void 0 && (o = s), od(t, a, o);
        }
      }, cd);
    }
    fa.exports = pa;
  });
  var Mi = S((Qy, ga) => {
    function fd(t) {
      return t;
    }
    ga.exports = fd;
  });
  var _a = S((tL, ma) => {
    function dd(t, e, i) {
      switch (i.length) {
        case 0:
          return t.call(e);
        case 1:
          return t.call(e, i[0]);
        case 2:
          return t.call(e, i[0], i[1]);
        case 3:
          return t.call(e, i[0], i[1], i[2]);
      }
      return t.apply(e, i);
    }
    ma.exports = dd;
  });
  var ba = S((eL, La) => {
    var gd = _a(), ya = Math.max;
    function md(t, e, i) {
      return e = ya(e === void 0 ? t.length - 1 : e, 0), function() {
        for (var r = arguments, n = -1, s = ya(r.length - e, 0), a = Array(s); ++n < s; )
          a[n] = r[e + n];
        n = -1;
        for (var o = Array(e + 1); ++n < e; )
          o[n] = r[n];
        return o[e] = i(a), gd(t, this, o);
      };
    }
    La.exports = md;
  });
  var ka = S((iL, va) => {
    function _d(t) {
      return function() {
        return t;
      };
    }
    va.exports = _d;
  });
  var wa = S((rL, xa) => {
    var yd = ka(), Ma = ci(), Ld = Mi(), bd = Ma ? function(t, e) {
      return Ma(t, "toString", { configurable: true, enumerable: false, value: yd(e), writable: true });
    } : Ld;
    xa.exports = bd;
  });
  var Ea = S((nL, Ca) => {
    var vd = 800, kd = 16, Md = Date.now;
    function xd(t) {
      var e = 0, i = 0;
      return function() {
        var r = Md(), n = kd - (r - i);
        if (i = r, n > 0) {
          if (++e >= vd)
            return arguments[0];
        } else
          e = 0;
        return t.apply(void 0, arguments);
      };
    }
    Ca.exports = xd;
  });
  var Sa = S((sL, Pa) => {
    var wd = wa(), Cd = Ea(), Ed = Cd(wd);
    Pa.exports = Ed;
  });
  var Ta = S((aL, Ba) => {
    var Pd = Mi(), Sd = ba(), Bd = Sa();
    function Td(t, e) {
      return Bd(Sd(t, e, Pd), t + "");
    }
    Ba.exports = Td;
  });
  var Da = S((oL, Ra) => {
    var Rd = he(), Dd = qe(), Od = vi(), Ad = Bt();
    function Id(t, e, i) {
      if (!Ad(i))
        return false;
      var r = typeof e;
      return (r == "number" ? Dd(i) && Od(e, i.length) : r == "string" && e in i) ? Rd(i[e], t) : false;
    }
    Ra.exports = Id;
  });
  var Aa = S((lL, Oa) => {
    var Gd = Ta(), qd = Da();
    function Nd(t) {
      return Gd(function(e, i) {
        var r = -1, n = i.length, s = n > 1 ? i[n - 1] : void 0, a = n > 2 ? i[2] : void 0;
        for (s = t.length > 3 && typeof s == "function" ? (n--, s) : void 0, a && qd(i[0], i[1], a) && (s = n < 3 ? void 0 : s, n = 1), e = Object(e); ++r < n; ) {
          var o = i[r];
          o && t(e, o, r, s);
        }
        return e;
      });
    }
    Oa.exports = Nd;
  });
  var Ne = S((hL, Ia) => {
    var zd = da(), Fd = Aa(), Vd = Fd(function(t, e, i) {
      zd(t, e, i);
    });
    Ia.exports = Vd;
  });
  var ze = S((_b2, _o) => {
    var kg = Ht(), Mg = qt(), xg = "[object Symbol]";
    function wg(t) {
      return typeof t == "symbol" || Mg(t) && kg(t) == xg;
    }
    _o.exports = wg;
  });
  var Lo = S((yb, yo) => {
    var Cg = Zt(), Eg = ze(), Pg = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Sg = /^\w*$/;
    function Bg(t, e) {
      if (Cg(t))
        return false;
      var i = typeof t;
      return i == "number" || i == "symbol" || i == "boolean" || t == null || Eg(t) ? true : Sg.test(t) || !Pg.test(t) || e != null && t in Object(e);
    }
    yo.exports = Bg;
  });
  var ko = S((Lb, vo) => {
    var bo = ui(), Tg = "Expected a function";
    function xi(t, e) {
      if (typeof t != "function" || e != null && typeof e != "function")
        throw new TypeError(Tg);
      var i = function() {
        var r = arguments, n = e ? e.apply(this, r) : r[0], s = i.cache;
        if (s.has(n))
          return s.get(n);
        var a = t.apply(this, r);
        return i.cache = s.set(n, a) || s, a;
      };
      return i.cache = new (xi.Cache || bo)(), i;
    }
    xi.Cache = bo;
    vo.exports = xi;
  });
  var xo = S((bb, Mo) => {
    var Rg = ko(), Dg = 500;
    function Og(t) {
      var e = Rg(t, function(r) {
        return i.size === Dg && i.clear(), r;
      }), i = e.cache;
      return e;
    }
    Mo.exports = Og;
  });
  var Co = S((vb, wo) => {
    var Ag = xo(), Ig = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Gg = /\\(\\)?/g, qg = Ag(function(t) {
      var e = [];
      return t.charCodeAt(0) === 46 && e.push(""), t.replace(Ig, function(i, r, n, s) {
        e.push(n ? s.replace(Gg, "$1") : r || i);
      }), e;
    });
    wo.exports = qg;
  });
  var Po = S((kb, Eo) => {
    function Ng(t, e) {
      for (var i = -1, r = t == null ? 0 : t.length, n = Array(r); ++i < r; )
        n[i] = e(t[i], i, t);
      return n;
    }
    Eo.exports = Ng;
  });
  var Oo = S((Mb, Do) => {
    var So = Oe(), zg = Po(), Fg = Zt(), Vg = ze(), Ug = 1 / 0, Bo = So ? So.prototype : void 0, To = Bo ? Bo.toString : void 0;
    function Ro(t) {
      if (typeof t == "string")
        return t;
      if (Fg(t))
        return zg(t, Ro) + "";
      if (Vg(t))
        return To ? To.call(t) : "";
      var e = t + "";
      return e == "0" && 1 / t == -Ug ? "-0" : e;
    }
    Do.exports = Ro;
  });
  var Io = S((xb, Ao) => {
    var jg = Oo();
    function Kg(t) {
      return t == null ? "" : jg(t);
    }
    Ao.exports = Kg;
  });
  var qo = S((wb, Go) => {
    var Hg = Zt(), Xg = Lo(), Yg = Co(), Jg = Io();
    function $g(t, e) {
      return Hg(t) ? t : Xg(t, e) ? [t] : Yg(Jg(t));
    }
    Go.exports = $g;
  });
  var zo = S((Cb, No) => {
    var Zg = ze(), Wg = 1 / 0;
    function Qg(t) {
      if (typeof t == "string" || Zg(t))
        return t;
      var e = t + "";
      return e == "0" && 1 / t == -Wg ? "-0" : e;
    }
    No.exports = Qg;
  });
  var Vo = S((Eb, Fo) => {
    var tm = qo(), em = zo();
    function im(t, e) {
      e = tm(e, t);
      for (var i = 0, r = e.length; t != null && i < r; )
        t = t[em(e[i++])];
      return i && i == r ? t : void 0;
    }
    Fo.exports = im;
  });
  var Le = S((Pb, Uo) => {
    var rm = Vo();
    function nm(t, e, i) {
      var r = t == null ? void 0 : rm(t, e);
      return r === void 0 ? i : r;
    }
    Uo.exports = nm;
  });
  var Qo = S((Ti, Ri) => {
    (function(t, e) {
      typeof Ti == "object" && typeof Ri < "u" ? Ri.exports = e() : typeof define == "function" && define.amd ? define(e) : (t = t || self).RBush = e();
    })(Ti, function() {
      "use strict";
      function t(_, x, b, R, D) {
        (function O(A, q, h, c, p) {
          for (; c > h; ) {
            if (c - h > 600) {
              var y = c - h + 1, g = q - h + 1, k = Math.log(y), C = 0.5 * Math.exp(2 * k / 3), m = 0.5 * Math.sqrt(k * C * (y - C) / y) * (g - y / 2 < 0 ? -1 : 1), v = Math.max(h, Math.floor(q - g * C / y + m)), w = Math.min(c, Math.floor(q + (y - g) * C / y + m));
              O(A, q, v, w, p);
            }
            var M = A[q], B = h, I = c;
            for (e(A, h, q), p(A[c], M) > 0 && e(A, h, c); B < I; ) {
              for (e(A, B, I), B++, I--; p(A[B], M) < 0; )
                B++;
              for (; p(A[I], M) > 0; )
                I--;
            }
            p(A[h], M) === 0 ? e(A, h, I) : e(A, ++I, c), I <= q && (h = I + 1), q <= I && (c = I - 1);
          }
        })(_, x, b || 0, R || _.length - 1, D || i);
      }
      function e(_, x, b) {
        var R = _[x];
        _[x] = _[b], _[b] = R;
      }
      function i(_, x) {
        return _ < x ? -1 : _ > x ? 1 : 0;
      }
      var r = function(_) {
        _ === void 0 && (_ = 9), this._maxEntries = Math.max(4, _), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();
      };
      function n(_, x, b) {
        if (!b)
          return x.indexOf(_);
        for (var R = 0; R < x.length; R++)
          if (b(_, x[R]))
            return R;
        return -1;
      }
      function s(_, x) {
        a(_, 0, _.children.length, x, _);
      }
      function a(_, x, b, R, D) {
        D || (D = T(null)), D.minX = 1 / 0, D.minY = 1 / 0, D.maxX = -1 / 0, D.maxY = -1 / 0;
        for (var O = x; O < b; O++) {
          var A = _.children[O];
          o(D, _.leaf ? R(A) : A);
        }
        return D;
      }
      function o(_, x) {
        return _.minX = Math.min(_.minX, x.minX), _.minY = Math.min(_.minY, x.minY), _.maxX = Math.max(_.maxX, x.maxX), _.maxY = Math.max(_.maxY, x.maxY), _;
      }
      function l(_, x) {
        return _.minX - x.minX;
      }
      function u(_, x) {
        return _.minY - x.minY;
      }
      function f(_) {
        return (_.maxX - _.minX) * (_.maxY - _.minY);
      }
      function d(_) {
        return _.maxX - _.minX + (_.maxY - _.minY);
      }
      function P(_, x) {
        return _.minX <= x.minX && _.minY <= x.minY && x.maxX <= _.maxX && x.maxY <= _.maxY;
      }
      function E(_, x) {
        return x.minX <= _.maxX && x.minY <= _.maxY && x.maxX >= _.minX && x.maxY >= _.minY;
      }
      function T(_) {
        return { children: _, height: 1, leaf: true, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };
      }
      function G(_, x, b, R, D) {
        for (var O = [x, b]; O.length; )
          if (!((b = O.pop()) - (x = O.pop()) <= R)) {
            var A = x + Math.ceil((b - x) / R / 2) * R;
            t(_, A, x, b, D), O.push(x, A, A, b);
          }
      }
      return r.prototype.all = function() {
        return this._all(this.data, []);
      }, r.prototype.search = function(_) {
        var x = this.data, b = [];
        if (!E(_, x))
          return b;
        for (var R = this.toBBox, D = []; x; ) {
          for (var O = 0; O < x.children.length; O++) {
            var A = x.children[O], q = x.leaf ? R(A) : A;
            E(_, q) && (x.leaf ? b.push(A) : P(_, q) ? this._all(A, b) : D.push(A));
          }
          x = D.pop();
        }
        return b;
      }, r.prototype.collides = function(_) {
        var x = this.data;
        if (!E(_, x))
          return false;
        for (var b = []; x; ) {
          for (var R = 0; R < x.children.length; R++) {
            var D = x.children[R], O = x.leaf ? this.toBBox(D) : D;
            if (E(_, O)) {
              if (x.leaf || P(_, O))
                return true;
              b.push(D);
            }
          }
          x = b.pop();
        }
        return false;
      }, r.prototype.load = function(_) {
        if (!_ || !_.length)
          return this;
        if (_.length < this._minEntries) {
          for (var x = 0; x < _.length; x++)
            this.insert(_[x]);
          return this;
        }
        var b = this._build(_.slice(), 0, _.length - 1, 0);
        if (this.data.children.length)
          if (this.data.height === b.height)
            this._splitRoot(this.data, b);
          else {
            if (this.data.height < b.height) {
              var R = this.data;
              this.data = b, b = R;
            }
            this._insert(b, this.data.height - b.height - 1, true);
          }
        else
          this.data = b;
        return this;
      }, r.prototype.insert = function(_) {
        return _ && this._insert(_, this.data.height - 1), this;
      }, r.prototype.clear = function() {
        return this.data = T([]), this;
      }, r.prototype.remove = function(_, x) {
        if (!_)
          return this;
        for (var b, R, D, O = this.data, A = this.toBBox(_), q = [], h = []; O || q.length; ) {
          if (O || (O = q.pop(), R = q[q.length - 1], b = h.pop(), D = true), O.leaf) {
            var c = n(_, O.children, x);
            if (c !== -1)
              return O.children.splice(c, 1), q.push(O), this._condense(q), this;
          }
          D || O.leaf || !P(O, A) ? R ? (b++, O = R.children[b], D = false) : O = null : (q.push(O), h.push(b), b = 0, R = O, O = O.children[0]);
        }
        return this;
      }, r.prototype.toBBox = function(_) {
        return _;
      }, r.prototype.compareMinX = function(_, x) {
        return _.minX - x.minX;
      }, r.prototype.compareMinY = function(_, x) {
        return _.minY - x.minY;
      }, r.prototype.toJSON = function() {
        return this.data;
      }, r.prototype.fromJSON = function(_) {
        return this.data = _, this;
      }, r.prototype._all = function(_, x) {
        for (var b = []; _; )
          _.leaf ? x.push.apply(x, _.children) : b.push.apply(b, _.children), _ = b.pop();
        return x;
      }, r.prototype._build = function(_, x, b, R) {
        var D, O = b - x + 1, A = this._maxEntries;
        if (O <= A)
          return s(D = T(_.slice(x, b + 1)), this.toBBox), D;
        R || (R = Math.ceil(Math.log(O) / Math.log(A)), A = Math.ceil(O / Math.pow(A, R - 1))), (D = T([])).leaf = false, D.height = R;
        var q = Math.ceil(O / A), h = q * Math.ceil(Math.sqrt(A));
        G(_, x, b, h, this.compareMinX);
        for (var c = x; c <= b; c += h) {
          var p = Math.min(c + h - 1, b);
          G(_, c, p, q, this.compareMinY);
          for (var y = c; y <= p; y += q) {
            var g = Math.min(y + q - 1, p);
            D.children.push(this._build(_, y, g, R - 1));
          }
        }
        return s(D, this.toBBox), D;
      }, r.prototype._chooseSubtree = function(_, x, b, R) {
        for (; R.push(x), !x.leaf && R.length - 1 !== b; ) {
          for (var D = 1 / 0, O = 1 / 0, A = void 0, q = 0; q < x.children.length; q++) {
            var h = x.children[q], c = f(h), p = (y = _, g = h, (Math.max(g.maxX, y.maxX) - Math.min(g.minX, y.minX)) * (Math.max(g.maxY, y.maxY) - Math.min(g.minY, y.minY)) - c);
            p < O ? (O = p, D = c < D ? c : D, A = h) : p === O && c < D && (D = c, A = h);
          }
          x = A || x.children[0];
        }
        var y, g;
        return x;
      }, r.prototype._insert = function(_, x, b) {
        var R = b ? _ : this.toBBox(_), D = [], O = this._chooseSubtree(R, this.data, x, D);
        for (O.children.push(_), o(O, R); x >= 0 && D[x].children.length > this._maxEntries; )
          this._split(D, x), x--;
        this._adjustParentBBoxes(R, D, x);
      }, r.prototype._split = function(_, x) {
        var b = _[x], R = b.children.length, D = this._minEntries;
        this._chooseSplitAxis(b, D, R);
        var O = this._chooseSplitIndex(b, D, R), A = T(b.children.splice(O, b.children.length - O));
        A.height = b.height, A.leaf = b.leaf, s(b, this.toBBox), s(A, this.toBBox), x ? _[x - 1].children.push(A) : this._splitRoot(b, A);
      }, r.prototype._splitRoot = function(_, x) {
        this.data = T([_, x]), this.data.height = _.height + 1, this.data.leaf = false, s(this.data, this.toBBox);
      }, r.prototype._chooseSplitIndex = function(_, x, b) {
        for (var R, D, O, A, q, h, c, p = 1 / 0, y = 1 / 0, g = x; g <= b - x; g++) {
          var k = a(_, 0, g, this.toBBox), C = a(_, g, b, this.toBBox), m = (D = k, O = C, A = void 0, q = void 0, h = void 0, c = void 0, A = Math.max(D.minX, O.minX), q = Math.max(D.minY, O.minY), h = Math.min(D.maxX, O.maxX), c = Math.min(D.maxY, O.maxY), Math.max(0, h - A) * Math.max(0, c - q)), v = f(k) + f(C);
          m < p ? (p = m, R = g, y = v < y ? v : y) : m === p && v < y && (y = v, R = g);
        }
        return R || b - x;
      }, r.prototype._chooseSplitAxis = function(_, x, b) {
        var R = _.leaf ? this.compareMinX : l, D = _.leaf ? this.compareMinY : u;
        this._allDistMargin(_, x, b, R) < this._allDistMargin(_, x, b, D) && _.children.sort(R);
      }, r.prototype._allDistMargin = function(_, x, b, R) {
        _.children.sort(R);
        for (var D = this.toBBox, O = a(_, 0, x, D), A = a(_, b - x, b, D), q = d(O) + d(A), h = x; h < b - x; h++) {
          var c = _.children[h];
          o(O, _.leaf ? D(c) : c), q += d(O);
        }
        for (var p = b - x - 1; p >= x; p--) {
          var y = _.children[p];
          o(A, _.leaf ? D(y) : y), q += d(A);
        }
        return q;
      }, r.prototype._adjustParentBBoxes = function(_, x, b) {
        for (var R = b; R >= 0; R--)
          o(x[R], _);
      }, r.prototype._condense = function(_) {
        for (var x = _.length - 1, b = void 0; x >= 0; x--)
          _[x].children.length === 0 ? x > 0 ? (b = _[x - 1].children).splice(b.indexOf(_[x]), 1) : this.clear() : s(_[x], this.toBBox);
      }, r;
    });
  });
  var Gi = S((z) => {
    "use strict";
    Object.defineProperty(z, "__esModule", { value: true });
    z.earthRadius = 63710088e-1;
    z.factors = { centimeters: z.earthRadius * 100, centimetres: z.earthRadius * 100, degrees: z.earthRadius / 111325, feet: z.earthRadius * 3.28084, inches: z.earthRadius * 39.37, kilometers: z.earthRadius / 1e3, kilometres: z.earthRadius / 1e3, meters: z.earthRadius, metres: z.earthRadius, miles: z.earthRadius / 1609.344, millimeters: z.earthRadius * 1e3, millimetres: z.earthRadius * 1e3, nauticalmiles: z.earthRadius / 1852, radians: 1, yards: z.earthRadius * 1.0936 };
    z.unitsFactors = { centimeters: 100, centimetres: 100, degrees: 1 / 111325, feet: 3.28084, inches: 39.37, kilometers: 1 / 1e3, kilometres: 1 / 1e3, meters: 1, metres: 1, miles: 1 / 1609.344, millimeters: 1e3, millimetres: 1e3, nauticalmiles: 1 / 1852, radians: 1 / z.earthRadius, yards: 1.0936133 };
    z.areaFactors = { acres: 247105e-9, centimeters: 1e4, centimetres: 1e4, feet: 10.763910417, hectares: 1e-4, inches: 1550.003100006, kilometers: 1e-6, kilometres: 1e-6, meters: 1, metres: 1, miles: 386e-9, millimeters: 1e6, millimetres: 1e6, yards: 1.195990046 };
    function Ot(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "Feature" };
      return (i.id === 0 || i.id) && (r.id = i.id), i.bbox && (r.bbox = i.bbox), r.properties = e || {}, r.geometry = t, r;
    }
    z.feature = Ot;
    function ym(t, e, i) {
      switch (i === void 0 && (i = {}), t) {
        case "Point":
          return Di(e).geometry;
        case "LineString":
          return Ai(e).geometry;
        case "Polygon":
          return Oi(e).geometry;
        case "MultiPoint":
          return el(e).geometry;
        case "MultiLineString":
          return tl(e).geometry;
        case "MultiPolygon":
          return il(e).geometry;
        default:
          throw new Error(t + " is invalid");
      }
    }
    z.geometry = ym;
    function Di(t, e, i) {
      if (i === void 0 && (i = {}), !t)
        throw new Error("coordinates is required");
      if (!Array.isArray(t))
        throw new Error("coordinates must be an Array");
      if (t.length < 2)
        throw new Error("coordinates must be at least 2 numbers long");
      if (!Ve(t[0]) || !Ve(t[1]))
        throw new Error("coordinates must contain numbers");
      var r = { type: "Point", coordinates: t };
      return Ot(r, e, i);
    }
    z.point = Di;
    function Lm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Di(r, e);
      }), i);
    }
    z.points = Lm;
    function Oi(t, e, i) {
      i === void 0 && (i = {});
      for (var r = 0, n = t; r < n.length; r++) {
        var s = n[r];
        if (s.length < 4)
          throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
        for (var a = 0; a < s[s.length - 1].length; a++)
          if (s[s.length - 1][a] !== s[0][a])
            throw new Error("First and last Position are not equivalent.");
      }
      var o = { type: "Polygon", coordinates: t };
      return Ot(o, e, i);
    }
    z.polygon = Oi;
    function bm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Oi(r, e);
      }), i);
    }
    z.polygons = bm;
    function Ai(t, e, i) {
      if (i === void 0 && (i = {}), t.length < 2)
        throw new Error("coordinates must be an array of two or more positions");
      var r = { type: "LineString", coordinates: t };
      return Ot(r, e, i);
    }
    z.lineString = Ai;
    function vm(t, e, i) {
      return i === void 0 && (i = {}), Ue(t.map(function(r) {
        return Ai(r, e);
      }), i);
    }
    z.lineStrings = vm;
    function Ue(t, e) {
      e === void 0 && (e = {});
      var i = { type: "FeatureCollection" };
      return e.id && (i.id = e.id), e.bbox && (i.bbox = e.bbox), i.features = t, i;
    }
    z.featureCollection = Ue;
    function tl(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiLineString", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiLineString = tl;
    function el(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiPoint", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiPoint = el;
    function il(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "MultiPolygon", coordinates: t };
      return Ot(r, e, i);
    }
    z.multiPolygon = il;
    function km(t, e, i) {
      i === void 0 && (i = {});
      var r = { type: "GeometryCollection", geometries: t };
      return Ot(r, e, i);
    }
    z.geometryCollection = km;
    function Mm(t, e) {
      if (e === void 0 && (e = 0), e && !(e >= 0))
        throw new Error("precision must be a positive number");
      var i = Math.pow(10, e || 0);
      return Math.round(t * i) / i;
    }
    z.round = Mm;
    function rl(t, e) {
      e === void 0 && (e = "kilometers");
      var i = z.factors[e];
      if (!i)
        throw new Error(e + " units is invalid");
      return t * i;
    }
    z.radiansToLength = rl;
    function Ii(t, e) {
      e === void 0 && (e = "kilometers");
      var i = z.factors[e];
      if (!i)
        throw new Error(e + " units is invalid");
      return t / i;
    }
    z.lengthToRadians = Ii;
    function xm(t, e) {
      return nl(Ii(t, e));
    }
    z.lengthToDegrees = xm;
    function wm(t) {
      var e = t % 360;
      return e < 0 && (e += 360), e;
    }
    z.bearingToAzimuth = wm;
    function nl(t) {
      var e = t % (2 * Math.PI);
      return e * 180 / Math.PI;
    }
    z.radiansToDegrees = nl;
    function Cm(t) {
      var e = t % 360;
      return e * Math.PI / 180;
    }
    z.degreesToRadians = Cm;
    function Em(t, e, i) {
      if (e === void 0 && (e = "kilometers"), i === void 0 && (i = "kilometers"), !(t >= 0))
        throw new Error("length must be a positive number");
      return rl(Ii(t, e), i);
    }
    z.convertLength = Em;
    function Pm(t, e, i) {
      if (e === void 0 && (e = "meters"), i === void 0 && (i = "kilometers"), !(t >= 0))
        throw new Error("area must be a positive number");
      var r = z.areaFactors[e];
      if (!r)
        throw new Error("invalid original units");
      var n = z.areaFactors[i];
      if (!n)
        throw new Error("invalid final units");
      return t / r * n;
    }
    z.convertArea = Pm;
    function Ve(t) {
      return !isNaN(t) && t !== null && !Array.isArray(t);
    }
    z.isNumber = Ve;
    function Sm(t) {
      return !!t && t.constructor === Object;
    }
    z.isObject = Sm;
    function Bm(t) {
      if (!t)
        throw new Error("bbox is required");
      if (!Array.isArray(t))
        throw new Error("bbox must be an Array");
      if (t.length !== 4 && t.length !== 6)
        throw new Error("bbox must be an Array of 4 or 6 numbers");
      t.forEach(function(e) {
        if (!Ve(e))
          throw new Error("bbox must only contain numbers");
      });
    }
    z.validateBBox = Bm;
    function Tm(t) {
      if (!t)
        throw new Error("id is required");
      if (["string", "number"].indexOf(typeof t) === -1)
        throw new Error("id must be a number or a string");
    }
    z.validateId = Tm;
  });
  var Ni = S((Q) => {
    "use strict";
    Object.defineProperty(Q, "__esModule", { value: true });
    var nt = Gi();
    function Ce(t, e, i) {
      if (t !== null)
        for (var r, n, s, a, o, l, u, f = 0, d = 0, P, E = t.type, T = E === "FeatureCollection", G = E === "Feature", _ = T ? t.features.length : 1, x = 0; x < _; x++) {
          u = T ? t.features[x].geometry : G ? t.geometry : t, P = u ? u.type === "GeometryCollection" : false, o = P ? u.geometries.length : 1;
          for (var b = 0; b < o; b++) {
            var R = 0, D = 0;
            if (a = P ? u.geometries[b] : u, a !== null) {
              l = a.coordinates;
              var O = a.type;
              switch (f = i && (O === "Polygon" || O === "MultiPolygon") ? 1 : 0, O) {
                case null:
                  break;
                case "Point":
                  if (e(l, d, x, R, D) === false)
                    return false;
                  d++, R++;
                  break;
                case "LineString":
                case "MultiPoint":
                  for (r = 0; r < l.length; r++) {
                    if (e(l[r], d, x, R, D) === false)
                      return false;
                    d++, O === "MultiPoint" && R++;
                  }
                  O === "LineString" && R++;
                  break;
                case "Polygon":
                case "MultiLineString":
                  for (r = 0; r < l.length; r++) {
                    for (n = 0; n < l[r].length - f; n++) {
                      if (e(l[r][n], d, x, R, D) === false)
                        return false;
                      d++;
                    }
                    O === "MultiLineString" && R++, O === "Polygon" && D++;
                  }
                  O === "Polygon" && R++;
                  break;
                case "MultiPolygon":
                  for (r = 0; r < l.length; r++) {
                    for (D = 0, n = 0; n < l[r].length; n++) {
                      for (s = 0; s < l[r][n].length - f; s++) {
                        if (e(l[r][n][s], d, x, R, D) === false)
                          return false;
                        d++;
                      }
                      D++;
                    }
                    R++;
                  }
                  break;
                case "GeometryCollection":
                  for (r = 0; r < a.geometries.length; r++)
                    if (Ce(a.geometries[r], e, i) === false)
                      return false;
                  break;
                default:
                  throw new Error("Unknown Geometry Type");
              }
            }
          }
        }
    }
    function Rm(t, e, i, r) {
      var n = i;
      return Ce(t, function(s, a, o, l, u) {
        a === 0 && i === void 0 ? n = s : n = e(n, s, a, o, l, u);
      }, r), n;
    }
    function sl(t, e) {
      var i;
      switch (t.type) {
        case "FeatureCollection":
          for (i = 0; i < t.features.length && e(t.features[i].properties, i) !== false; i++)
            ;
          break;
        case "Feature":
          e(t.properties, 0);
          break;
      }
    }
    function Dm(t, e, i) {
      var r = i;
      return sl(t, function(n, s) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s);
      }), r;
    }
    function al(t, e) {
      if (t.type === "Feature")
        e(t, 0);
      else if (t.type === "FeatureCollection")
        for (var i = 0; i < t.features.length && e(t.features[i], i) !== false; i++)
          ;
    }
    function Om(t, e, i) {
      var r = i;
      return al(t, function(n, s) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s);
      }), r;
    }
    function Am(t) {
      var e = [];
      return Ce(t, function(i) {
        e.push(i);
      }), e;
    }
    function qi(t, e) {
      var i, r, n, s, a, o, l, u, f, d, P = 0, E = t.type === "FeatureCollection", T = t.type === "Feature", G = E ? t.features.length : 1;
      for (i = 0; i < G; i++) {
        for (o = E ? t.features[i].geometry : T ? t.geometry : t, u = E ? t.features[i].properties : T ? t.properties : {}, f = E ? t.features[i].bbox : T ? t.bbox : void 0, d = E ? t.features[i].id : T ? t.id : void 0, l = o ? o.type === "GeometryCollection" : false, a = l ? o.geometries.length : 1, n = 0; n < a; n++) {
          if (s = l ? o.geometries[n] : o, s === null) {
            if (e(null, P, u, f, d) === false)
              return false;
            continue;
          }
          switch (s.type) {
            case "Point":
            case "LineString":
            case "MultiPoint":
            case "Polygon":
            case "MultiLineString":
            case "MultiPolygon": {
              if (e(s, P, u, f, d) === false)
                return false;
              break;
            }
            case "GeometryCollection": {
              for (r = 0; r < s.geometries.length; r++)
                if (e(s.geometries[r], P, u, f, d) === false)
                  return false;
              break;
            }
            default:
              throw new Error("Unknown Geometry Type");
          }
        }
        P++;
      }
    }
    function Im(t, e, i) {
      var r = i;
      return qi(t, function(n, s, a, o, l) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s, a, o, l);
      }), r;
    }
    function je(t, e) {
      qi(t, function(i, r, n, s, a) {
        var o = i === null ? null : i.type;
        switch (o) {
          case null:
          case "Point":
          case "LineString":
          case "Polygon":
            return e(nt.feature(i, n, { bbox: s, id: a }), r, 0) === false ? false : void 0;
        }
        var l;
        switch (o) {
          case "MultiPoint":
            l = "Point";
            break;
          case "MultiLineString":
            l = "LineString";
            break;
          case "MultiPolygon":
            l = "Polygon";
            break;
        }
        for (var u = 0; u < i.coordinates.length; u++) {
          var f = i.coordinates[u], d = { type: l, coordinates: f };
          if (e(nt.feature(d, n), r, u) === false)
            return false;
        }
      });
    }
    function Gm(t, e, i) {
      var r = i;
      return je(t, function(n, s, a) {
        s === 0 && a === 0 && i === void 0 ? r = n : r = e(r, n, s, a);
      }), r;
    }
    function ol(t, e) {
      je(t, function(i, r, n) {
        var s = 0;
        if (i.geometry) {
          var a = i.geometry.type;
          if (!(a === "Point" || a === "MultiPoint")) {
            var o, l = 0, u = 0, f = 0;
            if (Ce(i, function(d, P, E, T, G) {
              if (o === void 0 || r > l || T > u || G > f) {
                o = d, l = r, u = T, f = G, s = 0;
                return;
              }
              var _ = nt.lineString([o, d], i.properties);
              if (e(_, r, n, G, s) === false)
                return false;
              s++, o = d;
            }) === false)
              return false;
          }
        }
      });
    }
    function qm(t, e, i) {
      var r = i, n = false;
      return ol(t, function(s, a, o, l, u) {
        n === false && i === void 0 ? r = s : r = e(r, s, a, o, l, u), n = true;
      }), r;
    }
    function ll(t, e) {
      if (!t)
        throw new Error("geojson is required");
      je(t, function(i, r, n) {
        if (i.geometry !== null) {
          var s = i.geometry.type, a = i.geometry.coordinates;
          switch (s) {
            case "LineString":
              if (e(i, r, n, 0, 0) === false)
                return false;
              break;
            case "Polygon":
              for (var o = 0; o < a.length; o++)
                if (e(nt.lineString(a[o], i.properties), r, n, o) === false)
                  return false;
              break;
          }
        }
      });
    }
    function Nm(t, e, i) {
      var r = i;
      return ll(t, function(n, s, a, o) {
        s === 0 && i === void 0 ? r = n : r = e(r, n, s, a, o);
      }), r;
    }
    function zm(t, e) {
      if (e = e || {}, !nt.isObject(e))
        throw new Error("options is invalid");
      var i = e.featureIndex || 0, r = e.multiFeatureIndex || 0, n = e.geometryIndex || 0, s = e.segmentIndex || 0, a = e.properties, o;
      switch (t.type) {
        case "FeatureCollection":
          i < 0 && (i = t.features.length + i), a = a || t.features[i].properties, o = t.features[i].geometry;
          break;
        case "Feature":
          a = a || t.properties, o = t.geometry;
          break;
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
        case "Polygon":
        case "MultiLineString":
        case "MultiPolygon":
          o = t;
          break;
        default:
          throw new Error("geojson is invalid");
      }
      if (o === null)
        return null;
      var l = o.coordinates;
      switch (o.type) {
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
          return s < 0 && (s = l.length + s - 1), nt.lineString([l[s], l[s + 1]], a, e);
        case "Polygon":
          return n < 0 && (n = l.length + n), s < 0 && (s = l[n].length + s - 1), nt.lineString([l[n][s], l[n][s + 1]], a, e);
        case "MultiLineString":
          return r < 0 && (r = l.length + r), s < 0 && (s = l[r].length + s - 1), nt.lineString([l[r][s], l[r][s + 1]], a, e);
        case "MultiPolygon":
          return r < 0 && (r = l.length + r), n < 0 && (n = l[r].length + n), s < 0 && (s = l[r][n].length - s - 1), nt.lineString([l[r][n][s], l[r][n][s + 1]], a, e);
      }
      throw new Error("geojson is invalid");
    }
    function Fm(t, e) {
      if (e = e || {}, !nt.isObject(e))
        throw new Error("options is invalid");
      var i = e.featureIndex || 0, r = e.multiFeatureIndex || 0, n = e.geometryIndex || 0, s = e.coordIndex || 0, a = e.properties, o;
      switch (t.type) {
        case "FeatureCollection":
          i < 0 && (i = t.features.length + i), a = a || t.features[i].properties, o = t.features[i].geometry;
          break;
        case "Feature":
          a = a || t.properties, o = t.geometry;
          break;
        case "Point":
        case "MultiPoint":
          return null;
        case "LineString":
        case "Polygon":
        case "MultiLineString":
        case "MultiPolygon":
          o = t;
          break;
        default:
          throw new Error("geojson is invalid");
      }
      if (o === null)
        return null;
      var l = o.coordinates;
      switch (o.type) {
        case "Point":
          return nt.point(l, a, e);
        case "MultiPoint":
          return r < 0 && (r = l.length + r), nt.point(l[r], a, e);
        case "LineString":
          return s < 0 && (s = l.length + s), nt.point(l[s], a, e);
        case "Polygon":
          return n < 0 && (n = l.length + n), s < 0 && (s = l[n].length + s), nt.point(l[n][s], a, e);
        case "MultiLineString":
          return r < 0 && (r = l.length + r), s < 0 && (s = l[r].length + s), nt.point(l[r][s], a, e);
        case "MultiPolygon":
          return r < 0 && (r = l.length + r), n < 0 && (n = l[r].length + n), s < 0 && (s = l[r][n].length - s), nt.point(l[r][n][s], a, e);
      }
      throw new Error("geojson is invalid");
    }
    Q.coordAll = Am;
    Q.coordEach = Ce;
    Q.coordReduce = Rm;
    Q.featureEach = al;
    Q.featureReduce = Om;
    Q.findPoint = Fm;
    Q.findSegment = zm;
    Q.flattenEach = je;
    Q.flattenReduce = Gm;
    Q.geomEach = qi;
    Q.geomReduce = Im;
    Q.lineEach = ll;
    Q.lineReduce = Nm;
    Q.propEach = sl;
    Q.propReduce = Dm;
    Q.segmentEach = ol;
    Q.segmentReduce = qm;
  });
  var hl = S((Fi) => {
    "use strict";
    Object.defineProperty(Fi, "__esModule", { value: true });
    var Vm = Ni();
    function zi(t) {
      var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
      return Vm.coordEach(t, function(i) {
        e[0] > i[0] && (e[0] = i[0]), e[1] > i[1] && (e[1] = i[1]), e[2] < i[0] && (e[2] = i[0]), e[3] < i[1] && (e[3] = i[1]);
      }), e;
    }
    zi.default = zi;
    Fi.default = zi;
  });
  var Ui = S((Ev, Vi) => {
    var kt = Qo(), cl = Gi(), pl = Ni(), re = hl().default, Um = pl.featureEach, wv = pl.coordEach, Cv = cl.polygon, ul = cl.featureCollection;
    function fl(t) {
      var e = new kt(t);
      return e.insert = function(i) {
        if (i.type !== "Feature")
          throw new Error("invalid feature");
        return i.bbox = i.bbox ? i.bbox : re(i), kt.prototype.insert.call(this, i);
      }, e.load = function(i) {
        var r = [];
        return Array.isArray(i) ? i.forEach(function(n) {
          if (n.type !== "Feature")
            throw new Error("invalid features");
          n.bbox = n.bbox ? n.bbox : re(n), r.push(n);
        }) : Um(i, function(n) {
          if (n.type !== "Feature")
            throw new Error("invalid features");
          n.bbox = n.bbox ? n.bbox : re(n), r.push(n);
        }), kt.prototype.load.call(this, r);
      }, e.remove = function(i, r) {
        if (i.type !== "Feature")
          throw new Error("invalid feature");
        return i.bbox = i.bbox ? i.bbox : re(i), kt.prototype.remove.call(this, i, r);
      }, e.clear = function() {
        return kt.prototype.clear.call(this);
      }, e.search = function(i) {
        var r = kt.prototype.search.call(this, this.toBBox(i));
        return ul(r);
      }, e.collides = function(i) {
        return kt.prototype.collides.call(this, this.toBBox(i));
      }, e.all = function() {
        var i = kt.prototype.all.call(this);
        return ul(i);
      }, e.toJSON = function() {
        return kt.prototype.toJSON.call(this);
      }, e.fromJSON = function(i) {
        return kt.prototype.fromJSON.call(this, i);
      }, e.toBBox = function(i) {
        var r;
        if (i.bbox)
          r = i.bbox;
        else if (Array.isArray(i) && i.length === 4)
          r = i;
        else if (Array.isArray(i) && i.length === 6)
          r = [i[0], i[1], i[3], i[4]];
        else if (i.type === "Feature")
          r = re(i);
        else if (i.type === "FeatureCollection")
          r = re(i);
        else
          throw new Error("invalid geojson");
        return { minX: r[0], minY: r[1], maxX: r[2], maxY: r[3] };
      }, e;
    }
    Vi.exports = fl;
    Vi.exports.default = fl;
  });
  Array.prototype.findIndex = Array.prototype.findIndex || function(t) {
    if (this === null)
      throw new TypeError("Array.prototype.findIndex called on null or undefined");
    if (typeof t != "function")
      throw new TypeError("callback must be a function");
    for (var e = Object(this), i = e.length >>> 0, r = arguments[1], n = 0; n < i; n++)
      if (t.call(r, e[n], n, e))
        return n;
    return -1;
  };
  Array.prototype.find = Array.prototype.find || function(t) {
    if (this === null)
      throw new TypeError("Array.prototype.find called on null or undefined");
    if (typeof t != "function")
      throw new TypeError("callback must be a function");
    for (var e = Object(this), i = e.length >>> 0, r = arguments[1], n = 0; n < i; n++) {
      var s = e[n];
      if (t.call(r, s, n, e))
        return s;
    }
  };
  typeof Object.assign != "function" && (Object.assign = function(t) {
    "use strict";
    if (t == null)
      throw new TypeError("Cannot convert undefined or null to object");
    t = Object(t);
    for (var e = 1; e < arguments.length; e++) {
      var i = arguments[e];
      if (i != null)
        for (var r in i)
          Object.prototype.hasOwnProperty.call(i, r) && (t[r] = i[r]);
    }
    return t;
  });
  (function(t) {
    t.forEach(function(e) {
      e.hasOwnProperty("remove") || Object.defineProperty(e, "remove", { configurable: true, enumerable: true, writable: true, value: function() {
        this.parentNode.removeChild(this);
      } });
    });
  })([Element.prototype, CharacterData.prototype, DocumentType.prototype]);
  Array.prototype.includes || Object.defineProperty(Array.prototype, "includes", { value: function(t, e) {
    if (this == null)
      throw new TypeError('"this" is null or not defined');
    var i = Object(this), r = i.length >>> 0;
    if (r === 0)
      return false;
    var n = e | 0, s = Math.max(n >= 0 ? n : r - Math.abs(n), 0);
    function a(o, l) {
      return o === l || typeof o == "number" && typeof l == "number" && isNaN(o) && isNaN(l);
    }
    for (; s < r; ) {
      if (a(i[s], t))
        return true;
      s++;
    }
    return false;
  } });
  var hr = { name: "@geoman-io/leaflet-geoman-free", version: "2.17.0", description: "A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0", keywords: ["leaflet", "geoman", "polygon management", "geometry editing", "map data", "map overlay", "polygon", "geojson", "leaflet-draw", "data-field-geojson", "ui-leaflet-draw"], files: ["dist"], main: "dist/leaflet-geoman.js", types: "dist/leaflet-geoman.d.ts", dependencies: { "@turf/boolean-contains": "^6.5.0", "@turf/kinks": "^6.5.0", "@turf/line-intersect": "^6.5.0", "@turf/line-split": "^6.5.0", lodash: "4.17.21", "polyclip-ts": "^0.16.5" }, devDependencies: { "@types/leaflet": "^1.7.9", "cross-env": "^7.0.3", cypress: "6.9.1", "cypress-wait-until": "1.7.1", esbuild: "^0.20.0", eslint: "8.56.0", "eslint-config-airbnb-base": "15.0.0", "eslint-config-prettier": "9.1.0", "eslint-plugin-cypress": "2.15.1", "eslint-plugin-import": "2.29.1", husky: "^9.0.7", leaflet: "1.9.3", "lint-staged": "^15.2.1", prettier: "3.2.4", "prosthetic-hand": "1.3.1", "ts-node": "^10.9.2" }, peerDependencies: { leaflet: "^1.2.0" }, scripts: { start: "pnpm run dev", dev: "cross-env DEV=true ts-node bundle.mjs", build: "ts-node bundle.mjs", test: "cypress run", cypress: "cypress open", prepare: "pnpm run build && husky", "eslint-check": "eslint --print-config . | eslint-config-prettier-check", eslint: 'eslint "{src,cypress,demo}/**/*.js" --fix ', prettier: 'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn', lint: "pnpm run eslint && pnpm run prettier" }, repository: { type: "git", url: "git://github.com/geoman-io/leaflet-geoman.git" }, author: { name: "Geoman.io", email: "sales@geoman.io", url: "http://geoman.io" }, license: "MIT", bugs: { url: "https://github.com/geoman-io/leaflet-geoman/issues" }, homepage: "https://geoman.io", prettier: { trailingComma: "es5", tabWidth: 2, semi: true, singleQuote: true }, "lint-staged": { "*.js": 'eslint "{src,cypress,demo}/**/*.js" --fix', "*.{js,css,md}": 'prettier --write "{src,cypress,demo}/**/*.{js,css}"' } };
  var Pi = xt(Ne());
  var Ga = { tooltips: { placeMarker: "Click to place marker", firstVertex: "Click to place first vertex", continueLine: "Click to continue drawing", finishLine: "Click any existing marker to finish", finishPoly: "Click first marker to finish", finishRect: "Click to finish", startCircle: "Click to place circle center", finishCircle: "Click to finish circle", placeCircleMarker: "Click to place circle marker", placeText: "Click to place text", selectFirstLayerFor: "Select first layer for {action}", selectSecondLayerFor: "Select second layer for {action}" }, actions: { finish: "Finish", cancel: "Cancel", removeLastVertex: "Remove Last Vertex" }, buttonTitles: { drawMarkerButton: "Draw Marker", drawPolyButton: "Draw Polygons", drawLineButton: "Draw Polyline", drawCircleButton: "Draw Circle", drawRectButton: "Draw Rectangle", editButton: "Edit Layers", dragButton: "Drag Layers", cutButton: "Cut Layers", deleteButton: "Remove Layers", drawCircleMarkerButton: "Draw Circle Marker", snappingButton: "Snap dragged marker to other layers and vertices", pinningButton: "Pin shared vertices together", rotateButton: "Rotate Layers", drawTextButton: "Draw Text", scaleButton: "Scale Layers", autoTracingButton: "Auto trace Line", snapGuidesButton: "Show SnapGuides", unionButton: "Union layers", differenceButton: "Subtract layers" }, measurements: { totalLength: "Length", segmentLength: "Segment length", area: "Area", radius: "Radius", perimeter: "Perimeter", height: "Height", width: "Width", coordinates: "Position", coordinatesMarker: "Position Marker" } };
  var qa = { tooltips: { placeMarker: "Platziere den Marker mit Klick", firstVertex: "Platziere den ersten Marker mit Klick", continueLine: "Klicke, um weiter zu zeichnen", finishLine: "Beende mit Klick auf existierenden Marker", finishPoly: "Beende mit Klick auf ersten Marker", finishRect: "Beende mit Klick", startCircle: "Platziere das Kreiszentrum mit Klick", finishCircle: "Beende den Kreis mit Klick", placeCircleMarker: "Platziere den Kreismarker mit Klick", placeText: "Platziere den Text mit Klick" }, actions: { finish: "Beenden", cancel: "Abbrechen", removeLastVertex: "Letzten Vertex l\xF6schen" }, buttonTitles: { drawMarkerButton: "Marker zeichnen", drawPolyButton: "Polygon zeichnen", drawLineButton: "Polyline zeichnen", drawCircleButton: "Kreis zeichnen", drawRectButton: "Rechteck zeichnen", editButton: "Layer editieren", dragButton: "Layer bewegen", cutButton: "Layer schneiden", deleteButton: "Layer l\xF6schen", drawCircleMarkerButton: "Kreismarker zeichnen", snappingButton: "Bewegter Layer an andere Layer oder Vertexe einhacken", pinningButton: "Vertexe an der gleichen Position verkn\xFCpfen", rotateButton: "Layer drehen", drawTextButton: "Text zeichnen", scaleButton: "Layer skalieren", autoTracingButton: "Linie automatisch nachzeichen" }, measurements: { totalLength: "L\xE4nge", segmentLength: "Segment L\xE4nge", area: "Fl\xE4che", radius: "Radius", perimeter: "Umfang", height: "H\xF6he", width: "Breite", coordinates: "Position", coordinatesMarker: "Position Marker" } };
  var Na = { tooltips: { placeMarker: "Clicca per posizionare un Marker", firstVertex: "Clicca per posizionare il primo vertice", continueLine: "Clicca per continuare a disegnare", finishLine: "Clicca qualsiasi marker esistente per terminare", finishPoly: "Clicca il primo marker per terminare", finishRect: "Clicca per terminare", startCircle: "Clicca per posizionare il punto centrale del cerchio", finishCircle: "Clicca per terminare il cerchio", placeCircleMarker: "Clicca per posizionare un Marker del cherchio" }, actions: { finish: "Termina", cancel: "Annulla", removeLastVertex: "Rimuovi l'ultimo vertice" }, buttonTitles: { drawMarkerButton: "Disegna Marker", drawPolyButton: "Disegna Poligoni", drawLineButton: "Disegna Polilinea", drawCircleButton: "Disegna Cerchio", drawRectButton: "Disegna Rettangolo", editButton: "Modifica Livelli", dragButton: "Sposta Livelli", cutButton: "Ritaglia Livelli", deleteButton: "Elimina Livelli", drawCircleMarkerButton: "Disegna Marker del Cerchio", snappingButton: "Snap ha trascinato il pennarello su altri strati e vertici", pinningButton: "Pin condiviso vertici insieme", rotateButton: "Ruota livello" } };
  var za = { tooltips: { placeMarker: "Klik untuk menempatkan marker", firstVertex: "Klik untuk menempatkan vertex pertama", continueLine: "Klik untuk meneruskan digitasi", finishLine: "Klik pada sembarang marker yang ada untuk mengakhiri", finishPoly: "Klik marker pertama untuk mengakhiri", finishRect: "Klik untuk mengakhiri", startCircle: "Klik untuk menempatkan titik pusat lingkaran", finishCircle: "Klik untuk mengakhiri lingkaran", placeCircleMarker: "Klik untuk menempatkan penanda lingkarann" }, actions: { finish: "Selesai", cancel: "Batal", removeLastVertex: "Hilangkan Vertex Terakhir" }, buttonTitles: { drawMarkerButton: "Digitasi Marker", drawPolyButton: "Digitasi Polygon", drawLineButton: "Digitasi Polyline", drawCircleButton: "Digitasi Lingkaran", drawRectButton: "Digitasi Segi Empat", editButton: "Edit Layer", dragButton: "Geser Layer", cutButton: "Potong Layer", deleteButton: "Hilangkan Layer", drawCircleMarkerButton: "Digitasi Penanda Lingkaran", snappingButton: "Jepretkan penanda yang ditarik ke lapisan dan simpul lain", pinningButton: "Sematkan simpul bersama bersama", rotateButton: "Putar lapisan" } };
  var Fa = { tooltips: { placeMarker: "Adaug\u0103 un punct", firstVertex: "Apas\u0103 aici pentru a ad\u0103uga primul Vertex", continueLine: "Apas\u0103 aici pentru a continua desenul", finishLine: "Apas\u0103 pe orice obiect pentru a finisa desenul", finishPoly: "Apas\u0103 pe primul obiect pentru a finisa", finishRect: "Apas\u0103 pentru a finisa", startCircle: "Apas\u0103 pentru a desena un cerc", finishCircle: "Apas\u0103 pentru a finisa un cerc", placeCircleMarker: "Adaug\u0103 un punct" }, actions: { finish: "Termin\u0103", cancel: "Anuleaz\u0103", removeLastVertex: "\u0218terge ultimul Vertex" }, buttonTitles: { drawMarkerButton: "Adaug\u0103 o bulin\u0103", drawPolyButton: "Deseneaz\u0103 un poligon", drawLineButton: "Deseneaz\u0103 o linie", drawCircleButton: "Deseneaz\u0103 un cerc", drawRectButton: "Deseneaz\u0103 un dreptunghi", editButton: "Editeaz\u0103 straturile", dragButton: "Mut\u0103 straturile", cutButton: "Taie straturile", deleteButton: "\u0218terge straturile", drawCircleMarkerButton: "Deseneaz\u0103 marcatorul cercului", snappingButton: "Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri", pinningButton: "Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103", rotateButton: "Roti\u021Bi stratul" } };
  var Va = { tooltips: { placeMarker: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", firstVertex: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442", continueLine: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435", finishLine: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F", finishPoly: "\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C", finishRect: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C", startCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430", finishCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441", placeCircleMarker: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440" }, actions: { finish: "\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C", cancel: "\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C", removeLastVertex: "\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435" }, buttonTitles: { drawMarkerButton: "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440", drawPolyButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D", drawLineButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E", drawCircleButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433", drawRectButton: "\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A", editButton: "\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439", dragButton: "\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439", cutButton: "\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439", deleteButton: "\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439", drawCircleMarkerButton: "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440", snappingButton: "\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C", pinningButton: "\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435", rotateButton: "\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u0441\u043B\u043E\u044F" } };
  var Ua = { tooltips: { placeMarker: "Presiona para colocar un marcador", firstVertex: "Presiona para colocar el primer v\xE9rtice", continueLine: "Presiona para continuar dibujando", finishLine: "Presiona cualquier marcador existente para finalizar", finishPoly: "Presiona el primer marcador para finalizar", finishRect: "Presiona para finalizar", startCircle: "Presiona para colocar el centro del c\xEDrculo", finishCircle: "Presiona para finalizar el c\xEDrculo", placeCircleMarker: "Presiona para colocar un marcador de c\xEDrculo" }, actions: { finish: "Finalizar", cancel: "Cancelar", removeLastVertex: "Eliminar \xFAltimo v\xE9rtice" }, buttonTitles: { drawMarkerButton: "Dibujar Marcador", drawPolyButton: "Dibujar Pol\xEDgono", drawLineButton: "Dibujar L\xEDnea", drawCircleButton: "Dibujar C\xEDrculo", drawRectButton: "Dibujar Rect\xE1ngulo", editButton: "Editar Capas", dragButton: "Arrastrar Capas", cutButton: "Cortar Capas", deleteButton: "Eliminar Capas", drawCircleMarkerButton: "Dibujar Marcador de C\xEDrculo", snappingButton: "El marcador de Snap arrastrado a otras capas y v\xE9rtices", pinningButton: "Fijar juntos los v\xE9rtices compartidos", rotateButton: "Rotar capa" } };
  var ja = { tooltips: { placeMarker: "Klik om een marker te plaatsen", firstVertex: "Klik om het eerste punt te plaatsen", continueLine: "Klik om te blijven tekenen", finishLine: "Klik op een bestaand punt om te be\xEBindigen", finishPoly: "Klik op het eerst punt om te be\xEBindigen", finishRect: "Klik om te be\xEBindigen", startCircle: "Klik om het middelpunt te plaatsen", finishCircle: "Klik om de cirkel te be\xEBindigen", placeCircleMarker: "Klik om een marker te plaatsen" }, actions: { finish: "Bewaar", cancel: "Annuleer", removeLastVertex: "Verwijder laatste punt" }, buttonTitles: { drawMarkerButton: "Plaats Marker", drawPolyButton: "Teken een vlak", drawLineButton: "Teken een lijn", drawCircleButton: "Teken een cirkel", drawRectButton: "Teken een vierkant", editButton: "Bewerk", dragButton: "Verplaats", cutButton: "Knip", deleteButton: "Verwijder", drawCircleMarkerButton: "Plaats Marker", snappingButton: "Snap gesleepte marker naar andere lagen en hoekpunten", pinningButton: "Speld gedeelde hoekpunten samen", rotateButton: "Laag roteren" } };
  var Ka = { tooltips: { placeMarker: "Cliquez pour placer un marqueur", firstVertex: "Cliquez pour placer le premier sommet", continueLine: "Cliquez pour continuer \xE0 dessiner", finishLine: "Cliquez sur n'importe quel marqueur pour terminer", finishPoly: "Cliquez sur le premier marqueur pour terminer", finishRect: "Cliquez pour terminer", startCircle: "Cliquez pour placer le centre du cercle", finishCircle: "Cliquez pour finir le cercle", placeCircleMarker: "Cliquez pour placer le marqueur circulaire" }, actions: { finish: "Terminer", cancel: "Annuler", removeLastVertex: "Retirer le dernier sommet" }, buttonTitles: { drawMarkerButton: "Placer des marqueurs", drawPolyButton: "Dessiner des polygones", drawLineButton: "Dessiner des polylignes", drawCircleButton: "Dessiner un cercle", drawRectButton: "Dessiner un rectangle", editButton: "\xC9diter des calques", dragButton: "D\xE9placer des calques", cutButton: "Couper des calques", deleteButton: "Supprimer des calques", drawCircleMarkerButton: "Dessiner un marqueur circulaire", snappingButton: "Glisser le marqueur vers d'autres couches et sommets", pinningButton: "\xC9pingler ensemble les sommets partag\xE9s", rotateButton: "Tourner des calques" } };
  var Ha = { tooltips: { placeMarker: "\u5355\u51FB\u653E\u7F6E\u6807\u8BB0", firstVertex: "\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9", continueLine: "\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236", finishLine: "\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210", finishPoly: "\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210", finishRect: "\u5355\u51FB\u5B8C\u6210", startCircle: "\u5355\u51FB\u653E\u7F6E\u5706\u5FC3", finishCircle: "\u5355\u51FB\u5B8C\u6210\u5706\u5F62", placeCircleMarker: "\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0" }, actions: { finish: "\u5B8C\u6210", cancel: "\u53D6\u6D88", removeLastVertex: "\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9" }, buttonTitles: { drawMarkerButton: "\u7ED8\u5236\u6807\u8BB0", drawPolyButton: "\u7ED8\u5236\u591A\u8FB9\u5F62", drawLineButton: "\u7ED8\u5236\u7EBF\u6BB5", drawCircleButton: "\u7ED8\u5236\u5706\u5F62", drawRectButton: "\u7ED8\u5236\u957F\u65B9\u5F62", editButton: "\u7F16\u8F91\u56FE\u5C42", dragButton: "\u62D6\u62FD\u56FE\u5C42", cutButton: "\u526A\u5207\u56FE\u5C42", deleteButton: "\u5220\u9664\u56FE\u5C42", drawCircleMarkerButton: "\u753B\u5706\u5708\u6807\u8BB0", snappingButton: "\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9", pinningButton: "\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77", rotateButton: "\u65CB\u8F6C\u56FE\u5C42" } };
  var Xa = { tooltips: { placeMarker: "\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18", firstVertex: "\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE", continueLine: "\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD", finishLine: "\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210", finishPoly: "\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210", finishRect: "\u55AE\u64CA\u5B8C\u6210", startCircle: "\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3", finishCircle: "\u55AE\u64CA\u5B8C\u6210\u5713\u5F62", placeCircleMarker: "\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18" }, actions: { finish: "\u5B8C\u6210", cancel: "\u53D6\u6D88", removeLastVertex: "\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE" }, buttonTitles: { drawMarkerButton: "\u653E\u7F6E\u6A19\u8A18", drawPolyButton: "\u7E6A\u88FD\u591A\u908A\u5F62", drawLineButton: "\u7E6A\u88FD\u7DDA\u6BB5", drawCircleButton: "\u7E6A\u88FD\u5713\u5F62", drawRectButton: "\u7E6A\u88FD\u65B9\u5F62", editButton: "\u7DE8\u8F2F\u5716\u5F62", dragButton: "\u79FB\u52D5\u5716\u5F62", cutButton: "\u88C1\u5207\u5716\u5F62", deleteButton: "\u522A\u9664\u5716\u5F62", drawCircleMarkerButton: "\u756B\u5713\u5708\u6A19\u8A18", snappingButton: "\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE", pinningButton: "\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77", rotateButton: "\u65CB\u8F49\u5716\u5F62" } };
  var Ya = { tooltips: { placeMarker: "Clique para posicionar o marcador", firstVertex: "Clique para posicionar o primeiro v\xE9rtice", continueLine: "Clique para continuar desenhando", finishLine: "Clique em qualquer marcador existente para finalizar", finishPoly: "Clique no primeiro marcador para finalizar", finishRect: "Clique para finalizar", startCircle: "Clique para posicionar o centro do c\xEDrculo", finishCircle: "Clique para finalizar o c\xEDrculo", placeCircleMarker: "Clique para posicionar o marcador circular", placeText: "Clique para inserir texto" }, actions: { finish: "Finalizar", cancel: "Cancelar", removeLastVertex: "Remover \xFAltimo v\xE9rtice" }, buttonTitles: { drawMarkerButton: "Desenhar Marcador", drawPolyButton: "Desenhar Pol\xEDgonos", drawLineButton: "Desenhar Linha Poligonal", drawCircleButton: "Desenhar C\xEDrculo", drawRectButton: "Desenhar Ret\xE2ngulo", editButton: "Editar Camadas", dragButton: "Arrastar Camadas", cutButton: "Recortar Camadas", deleteButton: "Remover Camadas", drawCircleMarkerButton: "Desenhar Marcador de C\xEDrculo", snappingButton: "Ajustar marcador arrastado a outras camadas e v\xE9rtices", pinningButton: "Unir v\xE9rtices compartilhados", rotateButton: "Rotacionar Camadas", drawTextButton: "Desenhar Texto", scaleButton: "Redimensionar Camadas", autoTracingButton: "Tra\xE7ado Autom\xE1tico de Linha" }, measurements: { totalLength: "Comprimento", segmentLength: "Comprimento do Segmento", area: "\xC1rea", radius: "Raio", perimeter: "Per\xEDmetro", height: "Altura", width: "Largura", coordinates: "Posi\xE7\xE3o", coordinatesMarker: "Marcador de Posi\xE7\xE3o" } };
  var Ja = { tooltips: { placeMarker: "Clique para colocar marcador", firstVertex: "Clique para colocar primeiro v\xE9rtice", continueLine: "Clique para continuar a desenhar", finishLine: "Clique num marcador existente para terminar", finishPoly: "Clique no primeiro marcador para terminar", finishRect: "Clique para terminar", startCircle: "Clique para colocar o centro do c\xEDrculo", finishCircle: "Clique para terminar o c\xEDrculo", placeCircleMarker: "Clique para colocar marcador de c\xEDrculo", placeText: "Clique para colocar texto" }, actions: { finish: "Terminar", cancel: "Cancelar", removeLastVertex: "Remover \xDAltimo V\xE9rtice" }, buttonTitles: { drawMarkerButton: "Desenhar Marcador", drawPolyButton: "Desenhar Pol\xEDgonos", drawLineButton: "Desenhar Polilinha", drawCircleButton: "Desenhar C\xEDrculo", drawRectButton: "Desenhar Ret\xE2ngulo", editButton: "Editar Camadas", dragButton: "Arrastar Camadas", cutButton: "Cortar Camadas", deleteButton: "Remover Camadas", drawCircleMarkerButton: "Desenhar Marcador de C\xEDrculo", snappingButton: "Ajustar marcador arrastado a outras camadas e v\xE9rtices", pinningButton: "Unir v\xE9rtices partilhados", rotateButton: "Rodar Camadas", drawTextButton: "Desenhar Texto", scaleButton: "Escalar Camadas", autoTracingButton: "Tra\xE7ado Autom\xE1tico de Linha" }, measurements: { totalLength: "Comprimento", segmentLength: "Comprimento do Segmento", area: "\xC1rea", radius: "Raio", perimeter: "Per\xEDmetro", height: "Altura", width: "Largura", coordinates: "Posi\xE7\xE3o", coordinatesMarker: "Marcador de Posi\xE7\xE3o" } };
  var $a = { tooltips: { placeMarker: "Kliknij, aby umie\u015Bci\u0107 znacznik", firstVertex: "Kliknij, aby umie\u015Bci\u0107 pierwszy wierzcho\u0142ek", continueLine: "Kliknij, aby kontynuowa\u0107 rysowanie", finishLine: "Kliknij dowolny istniej\u0105cy znacznik, aby zako\u0144czy\u0107", finishPoly: "Kliknij pierwszy znacznik, aby zako\u0144czy\u0107", finishRect: "Kliknij, aby zako\u0144czy\u0107", startCircle: "Kliknij, aby umie\u015Bci\u0107 \u015Brodek okr\u0119gu", finishCircle: "Kliknij, aby zako\u0144czy\u0107 okr\u0105g", placeCircleMarker: "Kliknij, aby umie\u015Bci\u0107 znacznik okr\u0119gu", placeText: "Kliknij, aby umie\u015Bci\u0107 tekst" }, actions: { finish: "Zako\u0144cz", cancel: "Anuluj", removeLastVertex: "Usu\u0144 ostatni wierzcho\u0142ek" }, buttonTitles: { drawMarkerButton: "Rysuj znacznik", drawPolyButton: "Rysuj wielok\u0105t", drawLineButton: "Rysuj lini\u0119", drawCircleButton: "Rysuj okr\u0105g", drawRectButton: "Rysuj prostok\u0105t", editButton: "Edytuj warstwy", dragButton: "Przeci\u0105gnij warstwy", cutButton: "Wytnij warstwy", deleteButton: "Usu\u0144 warstwy", drawCircleMarkerButton: "Rysuj znacznik okr\u0105g\u0142y", snappingButton: "Przyci\u0105gnij przenoszony znacznik do innych warstw i wierzcho\u0142k\xF3w", pinningButton: "Przypnij wsp\xF3lne wierzcho\u0142ki razem", rotateButton: "Obr\xF3\u0107 warstwy", drawTextButton: "Rysuj tekst", scaleButton: "Skaluj warstwy", autoTracingButton: "Automatyczne \u015Bledzenie linii" }, measurements: { totalLength: "D\u0142ugo\u015B\u0107", segmentLength: "D\u0142ugo\u015B\u0107 odcinka", area: "Obszar", radius: "Promie\u0144", perimeter: "Obw\xF3d", height: "Wysoko\u015B\u0107", width: "Szeroko\u015B\u0107", coordinates: "Pozycja", coordinatesMarker: "Znacznik pozycji" } };
  var Za = { tooltips: { placeMarker: "Klicka f\xF6r att placera mark\xF6r", firstVertex: "Klicka f\xF6r att placera f\xF6rsta h\xF6rnet", continueLine: "Klicka f\xF6r att forts\xE4tta rita", finishLine: "Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra", finishPoly: "Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra", finishRect: "Klicka f\xF6r att slutf\xF6ra", startCircle: "Klicka f\xF6r att placera cirkelns centrum", finishCircle: "Klicka f\xF6r att slutf\xF6ra cirkeln", placeCircleMarker: "Klicka f\xF6r att placera cirkelmark\xF6r" }, actions: { finish: "Slutf\xF6r", cancel: "Avbryt", removeLastVertex: "Ta bort sista h\xF6rnet" }, buttonTitles: { drawMarkerButton: "Rita Mark\xF6r", drawPolyButton: "Rita Polygoner", drawLineButton: "Rita Linje", drawCircleButton: "Rita Cirkel", drawRectButton: "Rita Rektangel", editButton: "Redigera Lager", dragButton: "Dra Lager", cutButton: "Klipp i Lager", deleteButton: "Ta bort Lager", drawCircleMarkerButton: "Rita Cirkelmark\xF6r", snappingButton: "Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn", pinningButton: "F\xE4st delade h\xF6rn tillsammans", rotateButton: "Rotera lagret" } };
  var Wa = { tooltips: { placeMarker: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", firstVertex: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF", continueLine: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5", finishLine: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF", finishPoly: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5", finishRect: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5", startCircle: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5", finishCircle: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF", placeCircleMarker: "\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7" }, actions: { finish: "\u03A4\u03AD\u03BB\u03BF\u03C2", cancel: "\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7", removeLastVertex: "\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5" }, buttonTitles: { drawMarkerButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", drawPolyButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5", drawLineButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2", drawCircleButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5", drawRectButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5", editButton: "\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", dragButton: "\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", cutButton: "\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", deleteButton: "\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD", drawCircleMarkerButton: "\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7", snappingButton: "\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2", pinningButton: "\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF", rotateButton: "\u03A0\u03B5\u03C1\u03B9\u03C3\u03C4\u03C1\u03AD\u03C8\u03C4\u03B5 \u03C4\u03BF \u03C3\u03C4\u03C1\u03CE\u03BC\u03B1" } };
  var Qa = { tooltips: { placeMarker: "Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez", firstVertex: "Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez", continueLine: "Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez", finishLine: "A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra", finishPoly: "A befejez\xE9shez kattintson az els\u0151 pontra", finishRect: "Kattintson a befejez\xE9shez", startCircle: "Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez", finishCircle: "Kattintson a k\xF6r befejez\xE9s\xE9hez", placeCircleMarker: "Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez" }, actions: { finish: "Befejez\xE9s", cancel: "M\xE9gse", removeLastVertex: "Utols\xF3 pont elt\xE1vol\xEDt\xE1sa" }, buttonTitles: { drawMarkerButton: "Jel\xF6l\u0151 rajzol\xE1sa", drawPolyButton: "Poligon rajzol\xE1sa", drawLineButton: "Vonal rajzol\xE1sa", drawCircleButton: "K\xF6r rajzol\xE1sa", drawRectButton: "N\xE9gyzet rajzol\xE1sa", editButton: "Elemek szerkeszt\xE9se", dragButton: "Elemek mozgat\xE1sa", cutButton: "Elemek v\xE1g\xE1sa", deleteButton: "Elemek t\xF6rl\xE9se", drawCircleMarkerButton: "K\xF6r jel\xF6l\u0151 rajzol\xE1sa", snappingButton: "Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz", pinningButton: "K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se", rotateButton: "F\xF3lia elforgat\xE1sa" } };
  var to = { tooltips: { placeMarker: "Tryk for at placere en mark\xF8r", firstVertex: "Tryk for at placere det f\xF8rste punkt", continueLine: "Tryk for at forts\xE6tte linjen", finishLine: "Tryk p\xE5 et eksisterende punkt for at afslutte", finishPoly: "Tryk p\xE5 det f\xF8rste punkt for at afslutte", finishRect: "Tryk for at afslutte", startCircle: "Tryk for at placere cirklens center", finishCircle: "Tryk for at afslutte cirklen", placeCircleMarker: "Tryk for at placere en cirkelmark\xF8r" }, actions: { finish: "Afslut", cancel: "Afbryd", removeLastVertex: "Fjern sidste punkt" }, buttonTitles: { drawMarkerButton: "Placer mark\xF8r", drawPolyButton: "Tegn polygon", drawLineButton: "Tegn linje", drawCircleButton: "Tegn cirkel", drawRectButton: "Tegn firkant", editButton: "Rediger", dragButton: "Tr\xE6k", cutButton: "Klip", deleteButton: "Fjern", drawCircleMarkerButton: "Tegn cirkelmark\xF8r", snappingButton: "Fastg\xF8r trukket mark\xF8r til andre elementer", pinningButton: "Sammenl\xE6g delte elementer", rotateButton: "Roter laget" } };
  var eo = { tooltips: { placeMarker: "Klikk for \xE5 plassere punkt", firstVertex: "Klikk for \xE5 plassere f\xF8rste punkt", continueLine: "Klikk for \xE5 tegne videre", finishLine: "Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re", finishPoly: "Klikk f\xF8rste punkt for \xE5 fullf\xF8re", finishRect: "Klikk for \xE5 fullf\xF8re", startCircle: "Klikk for \xE5 sette sirkel midtpunkt", finishCircle: "Klikk for \xE5 fullf\xF8re sirkel", placeCircleMarker: "Klikk for \xE5 plassere sirkel", placeText: "Klikk for \xE5 plassere tekst" }, actions: { finish: "Fullf\xF8r", cancel: "Kanseller", removeLastVertex: "Fjern forrige punkt" }, buttonTitles: { drawMarkerButton: "Tegn punkt", drawPolyButton: "Tegn flate", drawLineButton: "Tegn linje", drawCircleButton: "Tegn sirkel", drawRectButton: "Tegn rektangel", editButton: "Rediger objekter", dragButton: "Dra objekter", cutButton: "Kutt objekter", deleteButton: "Fjern objekter", drawCircleMarkerButton: "Tegn sirkel-punkt", snappingButton: "Fest dratt punkt til andre objekter og punkt", pinningButton: "Pin delte punkter sammen", rotateButton: "Rot\xE9r objekter", drawTextButton: "Tegn tekst", scaleButton: "Skal\xE9r objekter", autoTracingButton: "Automatisk sporing av linje" }, measurements: { totalLength: "Lengde", segmentLength: "Segmentlengde", area: "Omr\xE5de", radius: "Radius", perimeter: "Omriss", height: "H\xF8yde", width: "Bredde", coordinates: "Posisjon", coordinatesMarker: "Posisjonsmark\xF8r" } };
  var io = { tooltips: { placeMarker: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646", firstVertex: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633", continueLine: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645", finishLine: "\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", finishPoly: "\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", finishRect: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646", startCircle: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647", finishCircle: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647", placeCircleMarker: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647", placeText: "\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646" }, actions: { finish: "\u067E\u0627\u06CC\u0627\u0646", cancel: "\u0644\u0641\u0648", removeLastVertex: "\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633" }, buttonTitles: { drawMarkerButton: "\u062F\u0631\u062C \u0646\u0634\u0627\u0646", drawPolyButton: "\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC", drawLineButton: "\u0631\u0633\u0645 \u062E\u0637", drawCircleButton: "\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647", drawRectButton: "\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC", editButton: "\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", dragButton: "\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", cutButton: "\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", deleteButton: "\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627", drawCircleMarkerButton: "\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647", snappingButton: "\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F", pinningButton: "\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F", rotateButton: "\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647", drawTextButton: "\u0631\u0633\u0645 \u0645\u062A\u0646", scaleButton: "\u0645\u0642\u06CC\u0627\u0633\u200C\u06AF\u0630\u0627\u0631\u06CC", autoTracingButton: "\u0631\u062F\u06CC\u0627\u0628 \u062E\u0648\u062F\u06A9\u0627\u0631" }, measurements: { totalLength: "\u0637\u0648\u0644", segmentLength: "\u0637\u0648\u0644 \u0628\u062E\u0634", area: "\u0646\u0627\u062D\u06CC\u0647", radius: "\u0634\u0639\u0627\u0639", perimeter: "\u0645\u062D\u06CC\u0637", height: "\u0627\u0631\u062A\u0641\u0627\u0639", width: "\u0639\u0631\u0636", coordinates: "\u0645\u0648\u0642\u0639\u06CC\u062A", coordinatesMarker: "\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0634\u0627\u0646" } };
  var ro = { tooltips: { placeMarker: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", firstVertex: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443", continueLine: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438", finishLine: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F", finishPoly: "\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", finishRect: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", startCircle: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430", finishCircle: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E", placeCircleMarker: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440" }, actions: { finish: "\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438", cancel: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438", removeLastVertex: "\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443" }, buttonTitles: { drawMarkerButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440", drawPolyButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D", drawLineButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443", drawCircleButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E", drawRectButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A", editButton: "\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438", dragButton: "\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438", cutButton: "\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438", deleteButton: "\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438", drawCircleMarkerButton: "\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440", snappingButton: "\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D", pinningButton: "\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C", rotateButton: "\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0448\u0430\u0440" } };
  var no = { tooltips: { placeMarker: "\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", firstVertex: "\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", continueLine: "\xC7izime devam etmek i\xE7in t\u0131klay\u0131n", finishLine: "Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n", finishPoly: "Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n", finishRect: "Bitirmek i\xE7in t\u0131klay\u0131n", startCircle: "Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n", finishCircle: "Daireyi bitirmek i\xE7in t\u0131klay\u0131n", placeCircleMarker: "Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n" }, actions: { finish: "Bitir", cancel: "\u0130ptal", removeLastVertex: "Son k\xF6\u015Feyi kald\u0131r" }, buttonTitles: { drawMarkerButton: "\xC7izim \u0130\u015Faret\xE7isi", drawPolyButton: "\xC7okgenler \xE7iz", drawLineButton: "\xC7oklu \xE7izgi \xE7iz", drawCircleButton: "\xC7ember \xE7iz", drawRectButton: "Dikd\xF6rtgen \xE7iz", editButton: "Katmanlar\u0131 d\xFCzenle", dragButton: "Katmanlar\u0131 s\xFCr\xFCkle", cutButton: "Katmanlar\u0131 kes", deleteButton: "Katmanlar\u0131 kald\u0131r", drawCircleMarkerButton: "Daire i\u015Faret\xE7isi \xE7iz", snappingButton: "S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r", pinningButton: "Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle", rotateButton: "Katman\u0131 d\xF6nd\xFCr" } };
  var so = { tooltips: { placeMarker: "Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku", firstVertex: "Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt", continueLine: "Kliknut\xEDm pokra\u010Dujte v kreslen\xED", finishLine: "Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED", finishPoly: "Vyberte prvn\xED bod pro dokon\u010Den\xED", finishRect: "Klikn\u011Bte pro dokon\u010Den\xED", startCircle: "Kliknut\xEDm p\u0159idejte st\u0159ed kruhu", finishCircle: "\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441", placeCircleMarker: "Kliknut\xEDm nastavte polom\u011Br" }, actions: { finish: "Dokon\u010Dit", cancel: "Zru\u0161it", removeLastVertex: "Zru\u0161it posledn\xED akci" }, buttonTitles: { drawMarkerButton: "P\u0159idat zna\u010Dku", drawPolyButton: "Nakreslit polygon", drawLineButton: "Nakreslit k\u0159ivku", drawCircleButton: "Nakreslit kruh", drawRectButton: "Nakreslit obd\xE9ln\xEDk", editButton: "Upravit vrstvu", dragButton: "P\u0159eneste vrstvu", cutButton: "Vyjmout vrstvu", deleteButton: "Smazat vrstvu", drawCircleMarkerButton: "P\u0159idat kruhovou zna\u010Dku", snappingButton: "Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm", pinningButton: "Spojit spole\u010Dn\xE9 body dohromady", rotateButton: "Oto\u010Dte vrstvu" } };
  var ao = { tooltips: { placeMarker: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E", firstVertex: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E", continueLine: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B", finishLine: "\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", finishPoly: "\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", finishRect: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86", startCircle: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E", finishCircle: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86", placeCircleMarker: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E", placeText: "\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E" }, actions: { finish: "\u7D42\u4E86", cancel: "\u30AD\u30E3\u30F3\u30BB\u30EB", removeLastVertex: "\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664" }, buttonTitles: { drawMarkerButton: "\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B", drawPolyButton: "\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B", drawLineButton: "\u6298\u308C\u7DDA\u3092\u63CF\u753B", drawCircleButton: "\u5186\u3092\u63CF\u753B", drawRectButton: "\u77E9\u5F62\u3092\u63CF\u753B", editButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6", dragButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0", cutButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A", deleteButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664", drawCircleMarkerButton: "\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B", snappingButton: "\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B", pinningButton: "\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059", rotateButton: "\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2", drawTextButton: "\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B" } };
  var oo = { tooltips: { placeMarker: "Klikkaa asettaaksesi merkin", firstVertex: "Klikkaa asettaakseni ensimm\xE4isen osuuden", continueLine: "Klikkaa jatkaaksesi piirt\xE4mist\xE4", finishLine: "Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi", finishPoly: "Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi", finishRect: "Klikkaa lopettaaksesi", startCircle: "Klikkaa asettaaksesi ympyr\xE4n keskipisteen", finishCircle: "Klikkaa lopettaaksesi ympyr\xE4n", placeCircleMarker: "Klikkaa asettaaksesi ympyr\xE4merkin", placeText: "Klikkaa asettaaksesi tekstin" }, actions: { finish: "Valmis", cancel: "Peruuta", removeLastVertex: "Poista viimeinen osuus" }, buttonTitles: { drawMarkerButton: "Piirr\xE4 merkkej\xE4", drawPolyButton: "Piirr\xE4 monikulmioita", drawLineButton: "Piirr\xE4 viivoja", drawCircleButton: "Piirr\xE4 ympyr\xE4", drawRectButton: "Piirr\xE4 neliskulmioita", editButton: "Muokkaa", dragButton: "Siirr\xE4", cutButton: "Leikkaa", deleteButton: "Poista", drawCircleMarkerButton: "Piirr\xE4 ympyr\xE4merkki", snappingButton: "Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin", pinningButton: "Kiinnit\xE4 jaetut muodot yhteen", rotateButton: "K\xE4\xE4nn\xE4", drawTextButton: "Piirr\xE4 teksti\xE4" } };
  var lo = { tooltips: { placeMarker: "\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", firstVertex: "\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694", continueLine: "\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", finishLine: "\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishPoly: "\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishRect: "\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", startCircle: "\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", finishCircle: "\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694", placeCircleMarker: "\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694", placeText: "\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694" }, actions: { finish: "\uB05D\uB0B4\uAE30", cancel: "\uCDE8\uC18C", removeLastVertex: "\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70" }, buttonTitles: { drawMarkerButton: "\uB9C8\uCEE4 \uADF8\uB9AC\uAE30", drawPolyButton: "\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30", drawLineButton: "\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30", drawCircleButton: "\uC6D0 \uADF8\uB9AC\uAE30", drawRectButton: "\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30", editButton: "\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30", dragButton: "\uB808\uC774\uC5B4 \uB04C\uAE30", cutButton: "\uB808\uC774\uC5B4 \uC790\uB974\uAE30", deleteButton: "\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30", drawCircleMarkerButton: "\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30", snappingButton: "\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30", pinningButton: "\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30", rotateButton: "\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30", drawTextButton: "\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30" } };
  var ho = { tooltips: { placeMarker: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", firstVertex: "\u0411\u0438\u0440\u0438\u043D\u0447\u0438 \u0447\u043E\u043A\u0443\u043D\u0443 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", continueLine: "\u0421\u04AF\u0440\u04E9\u0442 \u0442\u0430\u0440\u0442\u0443\u0443\u043D\u0443 \u0443\u043B\u0430\u043D\u0442\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishLine: "\u0410\u044F\u043A\u0442\u043E\u043E \u04AF\u0447\u04AF\u043D \u0443\u0447\u0443\u0440\u0434\u0430\u0433\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishPoly: "\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0438\u0440\u0438\u043D\u0447\u0438 \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishRect: "\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", startCircle: "\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B\u043D \u0431\u043E\u0440\u0431\u043E\u0440\u0443\u043D \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", finishCircle: "\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B \u0431\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", placeCircleMarker: "\u0422\u0435\u0433\u0435\u0440\u0435\u043A \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437", placeText: "\u0422\u0435\u043A\u0441\u0442\u0442\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437" }, actions: { finish: "\u0410\u044F\u0433\u044B", cancel: "\u0416\u043E\u043A \u043A\u044B\u043B\u0443\u0443", removeLastVertex: "\u0410\u043A\u044B\u0440\u043A\u044B \u0447\u043E\u043A\u0443\u043D\u0443 \u04E9\u0447\u04AF\u0440\u04AF\u04AF" }, buttonTitles: { drawMarkerButton: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443", drawPolyButton: "\u041F\u043E\u043B\u0438\u0433\u043E\u043D \u0447\u0438\u0437\u0443\u0443", drawLineButton: "\u041F\u043E\u043B\u0438\u043B\u0438\u043D\u0438\u044F \u0447\u0438\u0437\u0443\u0443", drawCircleButton: "\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u0447\u0438\u0437\u0443\u0443", drawRectButton: "\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A \u0447\u0438\u0437\u0443\u0443", editButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u0442\u04AF\u0437\u04E9\u0442\u04AF\u04AF", dragButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u043A\u0430\u0440\u0430\u043F \u0441\u04AF\u0439\u043B\u04E9\u04AF", cutButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u0431\u0430\u0448\u044B\u043D \u043A\u0435\u0441\u04AF\u04AF", deleteButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0447\u04AF\u0440\u04AF\u04AF", drawCircleMarkerButton: "\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443", snappingButton: "\u0411\u0430\u0448\u043A\u0430 \u0441\u043B\u043E\u043E\u043F\u0442\u043E\u0440\u0434\u0443\u043D \u0436\u0430\u043D\u0430 \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438\u043D \u0430\u0440\u0430\u0441\u044B\u043D\u0430 \u0447\u0435\u043A\u0438\u043B\u0434\u04E9\u04E9", pinningButton: "\u0411\u04E9\u043B\u04AF\u0448\u043A\u04E9\u043D \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438 \u0431\u0438\u0440\u0433\u0435 \u0442\u0443\u0442\u0443\u0448\u0442\u0443\u0440\u0443\u0443", rotateButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF", drawTextButton: "\u0422\u0435\u043A\u0441\u0442 \u0447\u0438\u0437\u0443\u0443", scaleButton: "\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u043B\u0447\u04E9\u043C\u04AF\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF", autoTracingButton: "\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0442\u044B\u043A \u0442\u0438\u0437\u043C\u0435\u0433\u0438 \u0447\u0438\u0437\u0443\u0443" }, measurements: { totalLength: "\u0423\u0437\u0443\u043D\u0434\u0443\u043A", segmentLength: "\u0421\u0435\u0433\u043C\u0435\u043D\u0442 \u0443\u0437\u0443\u043D\u0434\u0443\u0433\u0443", area: "\u0410\u0439\u043C\u0430\u043A", radius: "\u0420\u0430\u0434\u0438\u0443\u0441", perimeter: "\u041F\u0435\u0440\u0438\u043C\u0435\u0442\u0440", height: "\u0414\u0438\u0430\u043C\u0435\u0442\u0440", width: "\u041A\u0435\u043D\u0447\u0438\u043B\u0438\u043A", coordinates: "\u041A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440", coordinatesMarker: "\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438\u043D \u043A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440\u044B" } };
  var Nt = { en: Ga, de: qa, it: Na, id: za, ro: Fa, ru: Va, es: Ua, nl: ja, fr: Ka, pt_br: Ya, pt_pt: Ja, zh: Ha, zh_tw: Xa, pl: $a, sv: Za, el: Wa, hu: Qa, da: to, no: eo, fa: io, ua: ro, tr: no, cz: so, ja: ao, fi: oo, ko: lo, ky: ho };
  var mg = { _globalEditModeEnabled: false, enableGlobalEditMode(t) {
    let e = { ...t };
    this._globalEditModeEnabled = true, this.Toolbar.toggleButton("editMode", this.globalEditModeEnabled()), L.PM.Utils.findLayers(this.map).forEach((r) => {
      this._isRelevantForEdit(r) && r.pm.enable(e);
    }), this.throttledReInitEdit || (this.throttledReInitEdit = L.Util.throttle(this.handleLayerAdditionInGlobalEditMode, 100, this)), this._addedLayersEdit = {}, this.map.on("layeradd", this._layerAddedEdit, this), this.map.on("layeradd", this.throttledReInitEdit, this), this._fireGlobalEditModeToggled(true);
  }, disableGlobalEditMode() {
    this._globalEditModeEnabled = false, L.PM.Utils.findLayers(this.map).forEach((e) => {
      e.pm.disable();
    }), this.map.off("layeradd", this._layerAddedEdit, this), this.map.off("layeradd", this.throttledReInitEdit, this), this.Toolbar.toggleButton("editMode", this.globalEditModeEnabled()), this._fireGlobalEditModeToggled(false);
  }, globalEditEnabled() {
    return this.globalEditModeEnabled();
  }, globalEditModeEnabled() {
    return this._globalEditModeEnabled;
  }, toggleGlobalEditMode(t = this.globalOptions) {
    this.globalEditModeEnabled() ? this.disableGlobalEditMode() : this.enableGlobalEditMode(t);
  }, handleLayerAdditionInGlobalEditMode() {
    let t = this._addedLayersEdit;
    if (this._addedLayersEdit = {}, this.globalEditModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForEdit(i) && i.pm.enable({ ...this.globalOptions });
      }
  }, _layerAddedEdit({ layer: t }) {
    this._addedLayersEdit[L.stamp(t)] = t;
  }, _isRelevantForEdit(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowEditing;
  } }, uo = mg;
  var _g = { _globalDragModeEnabled: false, enableGlobalDragMode() {
    let t = L.PM.Utils.findLayers(this.map);
    this._globalDragModeEnabled = true, this._addedLayersDrag = {}, t.forEach((e) => {
      this._isRelevantForDrag(e) && e.pm.enableLayerDrag();
    }), this.throttledReInitDrag || (this.throttledReInitDrag = L.Util.throttle(this.reinitGlobalDragMode, 100, this)), this.map.on("layeradd", this._layerAddedDrag, this), this.map.on("layeradd", this.throttledReInitDrag, this), this.Toolbar.toggleButton("dragMode", this.globalDragModeEnabled()), this._fireGlobalDragModeToggled(true);
  }, disableGlobalDragMode() {
    let t = L.PM.Utils.findLayers(this.map);
    this._globalDragModeEnabled = false, t.forEach((e) => {
      e.pm.disableLayerDrag();
    }), this.map.off("layeradd", this._layerAddedDrag, this), this.map.off("layeradd", this.throttledReInitDrag, this), this.Toolbar.toggleButton("dragMode", this.globalDragModeEnabled()), this._fireGlobalDragModeToggled(false);
  }, globalDragModeEnabled() {
    return !!this._globalDragModeEnabled;
  }, toggleGlobalDragMode() {
    this.globalDragModeEnabled() ? this.disableGlobalDragMode() : this.enableGlobalDragMode();
  }, reinitGlobalDragMode() {
    let t = this._addedLayersDrag;
    if (this._addedLayersDrag = {}, this.globalDragModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForDrag(i) && i.pm.enableLayerDrag();
      }
  }, _layerAddedDrag({ layer: t }) {
    this._addedLayersDrag[L.stamp(t)] = t;
  }, _isRelevantForDrag(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.draggable;
  } }, co = _g;
  var yg = { _globalRemovalModeEnabled: false, enableGlobalRemovalMode() {
    this._globalRemovalModeEnabled = true, this.map.eachLayer((t) => {
      this._isRelevantForRemoval(t) && (t.pm.enabled() && t.pm.disable(), t.on("click", this.removeLayer, this));
    }), this.throttledReInitRemoval || (this.throttledReInitRemoval = L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode, 100, this)), this._addedLayersRemoval = {}, this.map.on("layeradd", this._layerAddedRemoval, this), this.map.on("layeradd", this.throttledReInitRemoval, this), this.Toolbar.toggleButton("removalMode", this.globalRemovalModeEnabled()), this._fireGlobalRemovalModeToggled(true);
  }, disableGlobalRemovalMode() {
    this._globalRemovalModeEnabled = false, this.map.eachLayer((t) => {
      t.off("click", this.removeLayer, this);
    }), this.map.off("layeradd", this._layerAddedRemoval, this), this.map.off("layeradd", this.throttledReInitRemoval, this), this.Toolbar.toggleButton("removalMode", this.globalRemovalModeEnabled()), this._fireGlobalRemovalModeToggled(false);
  }, globalRemovalEnabled() {
    return this.globalRemovalModeEnabled();
  }, globalRemovalModeEnabled() {
    return !!this._globalRemovalModeEnabled;
  }, toggleGlobalRemovalMode() {
    this.globalRemovalModeEnabled() ? this.disableGlobalRemovalMode() : this.enableGlobalRemovalMode();
  }, removeLayer(t) {
    let e = t.target;
    this._isRelevantForRemoval(e) && !e.pm.dragging() && (e.removeFrom(this.map.pm._getContainingLayer()), e.remove(), e instanceof L.LayerGroup ? (this._fireRemoveLayerGroup(e), this._fireRemoveLayerGroup(this.map, e)) : (e.pm._fireRemove(e), e.pm._fireRemove(this.map, e)));
  }, _isRelevantForRemoval(t) {
    return t.pm && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowRemoval;
  }, handleLayerAdditionInGlobalRemovalMode() {
    let t = this._addedLayersRemoval;
    if (this._addedLayersRemoval = {}, this.globalRemovalModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForRemoval(i) && (i.pm.enabled() && i.pm.disable(), i.on("click", this.removeLayer, this));
      }
  }, _layerAddedRemoval({ layer: t }) {
    this._addedLayersRemoval[L.stamp(t)] = t;
  } }, po = yg;
  var Lg = { _globalRotateModeEnabled: false, enableGlobalRotateMode() {
    this._globalRotateModeEnabled = true, L.PM.Utils.findLayers(this.map).filter((e) => e instanceof L.Polyline).forEach((e) => {
      this._isRelevantForRotate(e) && e.pm.enableRotate();
    }), this.throttledReInitRotate || (this.throttledReInitRotate = L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode, 100, this)), this._addedLayersRotate = {}, this.map.on("layeradd", this._layerAddedRotate, this), this.map.on("layeradd", this.throttledReInitRotate, this), this.Toolbar.toggleButton("rotateMode", this.globalRotateModeEnabled()), this._fireGlobalRotateModeToggled();
  }, disableGlobalRotateMode() {
    this._globalRotateModeEnabled = false, L.PM.Utils.findLayers(this.map).filter((e) => e instanceof L.Polyline).forEach((e) => {
      e.pm.disableRotate();
    }), this.map.off("layeradd", this._layerAddedRotate, this), this.map.off("layeradd", this.throttledReInitRotate, this), this.Toolbar.toggleButton("rotateMode", this.globalRotateModeEnabled()), this._fireGlobalRotateModeToggled();
  }, globalRotateModeEnabled() {
    return !!this._globalRotateModeEnabled;
  }, toggleGlobalRotateMode() {
    this.globalRotateModeEnabled() ? this.disableGlobalRotateMode() : this.enableGlobalRotateMode();
  }, _isRelevantForRotate(t) {
    return t.pm && t instanceof L.Polyline && !(t instanceof L.LayerGroup) && (!L.PM.optIn && !t.options.pmIgnore || L.PM.optIn && t.options.pmIgnore === false) && !t._pmTempLayer && t.pm.options.allowRotation;
  }, handleLayerAdditionInGlobalRotateMode() {
    let t = this._addedLayersRotate;
    if (this._addedLayersRotate = {}, this.globalRotateModeEnabled())
      for (let e in t) {
        let i = t[e];
        this._isRelevantForRemoval(i) && i.pm.enableRotate();
      }
  }, _layerAddedRotate({ layer: t }) {
    this._addedLayersRotate[L.stamp(t)] = t;
  } }, fo = Lg;
  var go = xt(Ne()), bg = { _fireDrawStart(t = "Draw", e = {}) {
    this.__fire(this._map, "pm:drawstart", { shape: this._shape, workingLayer: this._layer }, t, e);
  }, _fireDrawEnd(t = "Draw", e = {}) {
    this.__fire(this._map, "pm:drawend", { shape: this._shape }, t, e);
  }, _fireCreate(t, e = "Draw", i = {}) {
    this.__fire(this._map, "pm:create", { shape: this._shape, marker: t, layer: t }, e, i);
  }, _fireCenterPlaced(t = "Draw", e = {}) {
    let i = t === "Draw" ? this._layer : void 0, r = t !== "Draw" ? this._layer : void 0;
    this.__fire(this._layer, "pm:centerplaced", { shape: this._shape, workingLayer: i, layer: r, latlng: this._layer.getLatLng() }, t, e);
  }, _fireCut(t, e, i, r = "Draw", n = {}) {
    this.__fire(t, "pm:cut", { shape: this._shape, layer: e, originalLayer: i }, r, n);
  }, _fireEdit(t = this._layer, e = "Edit", i = {}) {
    this.__fire(t, "pm:edit", { layer: this._layer, shape: this.getShape() }, e, i);
  }, _fireEnable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:enable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDisable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:disable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireUpdate(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:update", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireMarkerDragStart(t, e = void 0, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:markerdragstart", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e }, i, r);
  }, _fireMarkerDrag(t, e = void 0, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:markerdrag", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e }, i, r);
  }, _fireMarkerDragEnd(t, e = void 0, i = void 0, r = "Edit", n = {}) {
    this.__fire(this._layer, "pm:markerdragend", { layer: this._layer, markerEvent: t, shape: this.getShape(), indexPath: e, intersectionReset: i }, r, n);
  }, _fireDragStart(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragstart", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDrag(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:drag", { ...t, shape: this.getShape() }, e, i);
  }, _fireDragEnd(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragend", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDragEnable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragenable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireDragDisable(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:dragdisable", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireRemove(t, e = t, i = "Edit", r = {}) {
    this.__fire(t, "pm:remove", { layer: e, shape: this.getShape() }, i, r);
  }, _fireVertexAdded(t, e, i, r = "Edit", n = {}) {
    this.__fire(this._layer, "pm:vertexadded", { layer: this._layer, workingLayer: this._layer, marker: t, indexPath: e, latlng: i, shape: this.getShape() }, r, n);
  }, _fireVertexRemoved(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:vertexremoved", { layer: this._layer, marker: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireVertexClick(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:vertexclick", { layer: this._layer, markerEvent: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireIntersect(t, e = this._layer, i = "Edit", r = {}) {
    this.__fire(e, "pm:intersect", { layer: this._layer, intersection: t, shape: this.getShape() }, i, r);
  }, _fireLayerReset(t, e, i = "Edit", r = {}) {
    this.__fire(this._layer, "pm:layerreset", { layer: this._layer, markerEvent: t, indexPath: e, shape: this.getShape() }, i, r);
  }, _fireChange(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:change", { layer: this._layer, latlngs: t, shape: this.getShape() }, e, i);
  }, _fireTextChange(t, e = "Edit", i = {}) {
    this.__fire(this._layer, "pm:textchange", { layer: this._layer, text: t, shape: this.getShape() }, e, i);
  }, _fireTextFocus(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:textfocus", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireTextBlur(t = "Edit", e = {}) {
    this.__fire(this._layer, "pm:textblur", { layer: this._layer, shape: this.getShape() }, t, e);
  }, _fireSnapDrag(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:snapdrag", e, i, r);
  }, _fireSnap(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:snap", e, i, r);
  }, _fireUnsnap(t, e, i = "Snapping", r = {}) {
    this.__fire(t, "pm:unsnap", e, i, r);
  }, _fireRotationEnable(t, e, i = "Rotation", r = {}) {
    this.__fire(t, "pm:rotateenable", { layer: this._layer, helpLayer: this._rotatePoly, shape: this.getShape() }, i, r);
  }, _fireRotationDisable(t, e = "Rotation", i = {}) {
    this.__fire(t, "pm:rotatedisable", { layer: this._layer, shape: this.getShape() }, e, i);
  }, _fireRotationStart(t, e, i = "Rotation", r = {}) {
    this.__fire(t, "pm:rotatestart", { layer: this._rotationLayer, helpLayer: this._layer, startAngle: this._startAngle, originLatLngs: e }, i, r);
  }, _fireRotation(t, e, i, r = this._rotationLayer, n = "Rotation", s = {}) {
    this.__fire(t, "pm:rotate", { layer: r, helpLayer: this._layer, startAngle: this._startAngle, angle: r.pm.getAngle(), angleDiff: e, oldLatLngs: i, newLatLngs: r.getLatLngs() }, n, s);
  }, _fireRotationEnd(t, e, i, r = "Rotation", n = {}) {
    this.__fire(t, "pm:rotateend", { layer: this._rotationLayer, helpLayer: this._layer, startAngle: e, angle: this._rotationLayer.pm.getAngle(), originLatLngs: i, newLatLngs: this._rotationLayer.getLatLngs() }, r, n);
  }, _fireActionClick(t, e, i, r = "Toolbar", n = {}) {
    this.__fire(this._map, "pm:actionclick", { text: t.text, action: t, btnName: e, button: i }, r, n);
  }, _fireButtonClick(t, e, i = "Toolbar", r = {}) {
    this.__fire(this._map, "pm:buttonclick", { btnName: t, button: e }, i, r);
  }, _fireLangChange(t, e, i, r, n = "Global", s = {}) {
    this.__fire(this.map, "pm:langchange", { oldLang: t, activeLang: e, fallback: i, translations: r }, n, s);
  }, _fireGlobalDragModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globaldragmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalEditModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globaleditmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalRemovalModeToggled(t, e = "Global", i = {}) {
    this.__fire(this.map, "pm:globalremovalmodetoggled", { enabled: t, map: this.map }, e, i);
  }, _fireGlobalCutModeToggled(t = "Global", e = {}) {
    this.__fire(this._map, "pm:globalcutmodetoggled", { enabled: !!this._enabled, map: this._map }, t, e);
  }, _fireGlobalDrawModeToggled(t = "Global", e = {}) {
    this.__fire(this._map, "pm:globaldrawmodetoggled", { enabled: this._enabled, shape: this._shape, map: this._map }, t, e);
  }, _fireGlobalRotateModeToggled(t = "Global", e = {}) {
    this.__fire(this.map, "pm:globalrotatemodetoggled", { enabled: this.globalRotateModeEnabled(), map: this.map }, t, e);
  }, _fireRemoveLayerGroup(t, e = t, i = "Edit", r = {}) {
    this.__fire(t, "pm:remove", { layer: e, shape: void 0 }, i, r);
  }, _fireKeyeventEvent(t, e, i, r = "Global", n = {}) {
    this.__fire(this.map, "pm:keyevent", { event: t, eventType: e, focusOn: i }, r, n);
  }, __fire(t, e, i, r, n = {}) {
    i = (0, go.default)(i, n, { source: r }), L.PM.Utils._fireEvent(t, e, i);
  } }, Tt = bg;
  var vg = () => ({ _lastEvents: { keydown: void 0, keyup: void 0, current: void 0 }, _initKeyListener(t) {
    this.map = t, L.DomEvent.on(document, "keydown keyup", this._onKeyListener, this), L.DomEvent.on(window, "blur", this._onBlur, this), t.once("unload", this._unbindKeyListenerEvents, this);
  }, _unbindKeyListenerEvents() {
    L.DomEvent.off(document, "keydown keyup", this._onKeyListener, this), L.DomEvent.off(window, "blur", this._onBlur, this);
  }, _onKeyListener(t) {
    let e = "document";
    this.map.getContainer().contains(t.target) && (e = "map");
    let i = { event: t, eventType: t.type, focusOn: e };
    this._lastEvents[t.type] = i, this._lastEvents.current = i, this.map.pm._fireKeyeventEvent(t, t.type, e);
  }, _onBlur(t) {
    t.altKey = false;
    let e = { event: t, eventType: t.type, focusOn: "document" };
    this._lastEvents[t.type] = e, this._lastEvents.current = e;
  }, getLastKeyEvent(t = "current") {
    return this._lastEvents[t];
  }, isShiftKeyPressed() {
    return this._lastEvents.current?.event.shiftKey;
  }, isAltKeyPressed() {
    return this._lastEvents.current?.event.altKey;
  }, isCtrlKeyPressed() {
    return this._lastEvents.current?.event.ctrlKey;
  }, isMetaKeyPressed() {
    return this._lastEvents.current?.event.metaKey;
  }, getPressedKey() {
    return this._lastEvents.current?.event.key;
  } }), mo = vg;
  var wi = xt(Le());
  function V(t) {
    let e = L.PM.activeLang;
    return (0, wi.default)(Nt[e], t) || (0, wi.default)(Nt.en, t) || t;
  }
  function be(t) {
    for (let e = 0; e < t.length; e += 1) {
      let i = t[e];
      if (Array.isArray(i)) {
        if (be(i))
          return true;
      } else if (i != null && i !== "")
        return true;
    }
    return false;
  }
  function ve(t) {
    return t.reduce((e, i) => {
      if (i.length !== 0) {
        let r = Array.isArray(i) ? ve(i) : i;
        Array.isArray(r) ? r.length !== 0 && e.push(r) : e.push(r);
      }
      return e;
    }, []);
  }
  function sm(t, e, i) {
    let r = { a: L.CRS.Earth.R, b: 63567523142e-4, f: 0.0033528106647474805 }, { a: n, b: s, f: a } = r, o = t.lng, l = t.lat, u = i, f = Math.PI, d = e * f / 180, P = Math.sin(d), E = Math.cos(d), T = (1 - a) * Math.tan(l * f / 180), G = 1 / Math.sqrt(1 + T * T), _ = T * G, x = Math.atan2(T, E), b = G * P, R = 1 - b * b, D = R * (n * n - s * s) / (s * s), O = 1 + D / 16384 * (4096 + D * (-768 + D * (320 - 175 * D))), A = D / 1024 * (256 + D * (-128 + D * (74 - 47 * D))), q = u / (s * O), h = 2 * Math.PI, c, p, y;
    for (; Math.abs(q - h) > 1e-12; ) {
      c = Math.cos(2 * x + q), p = Math.sin(q), y = Math.cos(q);
      let B = A * p * (c + A / 4 * (y * (-1 + 2 * c * c) - A / 6 * c * (-3 + 4 * p * p) * (-3 + 4 * c * c)));
      h = q, q = u / (s * O) + B;
    }
    let g = _ * p - G * y * E, k = Math.atan2(_ * y + G * p * E, (1 - a) * Math.sqrt(b * b + g * g)), C = Math.atan2(p * P, G * y - _ * p * E), m = a / 16 * R * (4 + a * (4 - 3 * R)), v = C - (1 - m) * a * b * (q + m * p * (c + m * y * (-1 + 2 * c * c))), w = o + v * 180 / f, M = k * 180 / f;
    return L.latLng(w, M);
  }
  function Ci(t, e, i, r, n = true) {
    let s, a, o, l = [];
    for (let u = 0; u < i; u += 1) {
      if (n)
        s = u * 360 / i + r, a = sm(t, s, e), o = L.latLng(a.lng, a.lat);
      else {
        let f = t.lat + Math.cos(2 * u * Math.PI / i) * e, d = t.lng + Math.sin(2 * u * Math.PI / i) * e;
        o = L.latLng(f, d);
      }
      l.push(o);
    }
    return l;
  }
  function am(t, e, i) {
    e = (e + 360) % 360;
    let r = Math.PI / 180, n = 180 / Math.PI, { R: s } = L.CRS.Earth, a = t.lng * r, o = t.lat * r, l = e * r, u = Math.sin(o), f = Math.cos(o), d = Math.cos(i / s), P = Math.sin(i / s), E = Math.asin(u * d + f * P * Math.cos(l)), T = a + Math.atan2(Math.sin(l) * P * f, d - u * Math.sin(E));
    T *= n;
    let G = T - 360, _ = T < -180 ? T + 360 : T;
    return T = T > 180 ? G : _, L.latLng([E * n, T]);
  }
  function ke(t, e, i) {
    let r = t.latLngToContainerPoint(e), n = t.latLngToContainerPoint(i), s = Math.atan2(n.y - r.y, n.x - r.x) * 180 / Math.PI + 90;
    return s += s < 0 ? 360 : 0, s;
  }
  function te(t, e, i, r) {
    let n = ke(t, e, i);
    return am(e, n, r);
  }
  function jo(t, e, i = "asc") {
    if (!e || Object.keys(e).length === 0)
      return (l, u) => l - u;
    let r = Object.keys(e), n, s = r.length - 1, a = {};
    for (; s >= 0; )
      n = r[s], a[n.toLowerCase()] = e[n], s -= 1;
    function o(l) {
      if (l instanceof L.Marker)
        return "Marker";
      if (l instanceof L.Circle)
        return "Circle";
      if (l instanceof L.CircleMarker)
        return "CircleMarker";
      if (l instanceof L.Rectangle)
        return "Rectangle";
      if (l instanceof L.Polygon)
        return "Polygon";
      if (l instanceof L.Polyline)
        return "Line";
    }
    return (l, u) => {
      let f, d;
      if (t === "instanceofShape") {
        if (f = o(l.layer).toLowerCase(), d = o(u.layer).toLowerCase(), !f || !d)
          return 0;
      } else {
        if (!l.hasOwnProperty(t) || !u.hasOwnProperty(t))
          return 0;
        f = l[t].toLowerCase(), d = u[t].toLowerCase();
      }
      let P = f in a ? a[f] : Number.MAX_SAFE_INTEGER, E = d in a ? a[d] : Number.MAX_SAFE_INTEGER, T = 0;
      return P < E ? T = -1 : P > E && (T = 1), i === "desc" ? T * -1 : T;
    };
  }
  function vt(t, e = t.getLatLngs()) {
    return t instanceof L.Polygon ? L.polygon(e).getLatLngs() : L.polyline(e).getLatLngs();
  }
  function Ei(t, e) {
    if (e.options.crs?.projection?.MAX_LATITUDE) {
      let i = e.options.crs?.projection?.MAX_LATITUDE;
      t.lat = Math.max(Math.min(i, t.lat), -i);
    }
    return t;
  }
  function Rt(t) {
    return t.options.renderer || t._map && (t._map._getPaneRenderer(t.options.pane) || t._map.options.renderer || t._map._renderer) || t._renderer;
  }
  var om = L.Class.extend({ includes: [uo, co, po, fo, Tt], initialize(t) {
    this.map = t, this.Draw = new L.PM.Draw(t), this.Toolbar = new L.PM.Toolbar(t), this.Keyboard = mo(), this.globalOptions = { snappable: true, layerGroup: void 0, snappingOrder: ["Marker", "CircleMarker", "Circle", "Line", "Polygon", "Rectangle"], panes: { vertexPane: "markerPane", layerPane: "overlayPane", markerPane: "markerPane" }, draggable: true }, this.Keyboard._initKeyListener(t);
  }, setLang(t = "en", e, i = "en") {
    let r = L.PM.activeLang;
    e && (Nt[t] = (0, Pi.default)(Nt[i], e)), L.PM.activeLang = t, this.map.pm.Toolbar.reinit(), this._fireLangChange(r, t, i, Nt[t]);
  }, addControls(t) {
    this.Toolbar.addControls(t);
  }, removeControls() {
    this.Toolbar.removeControls();
  }, toggleControls() {
    this.Toolbar.toggleControls();
  }, controlsVisible() {
    return this.Toolbar.isVisible;
  }, enableDraw(t = "Polygon", e) {
    t === "Poly" && (t = "Polygon"), this.Draw.enable(t, e);
  }, disableDraw(t = "Polygon") {
    t === "Poly" && (t = "Polygon"), this.Draw.disable(t);
  }, setPathOptions(t, e = {}) {
    let i = e.ignoreShapes || [], r = e.merge || false;
    this.map.pm.Draw.shapes.forEach((n) => {
      i.indexOf(n) === -1 && this.map.pm.Draw[n].setPathOptions(t, r);
    });
  }, getGlobalOptions() {
    return this.globalOptions;
  }, setGlobalOptions(t) {
    let e = (0, Pi.default)(this.globalOptions, t);
    e.editable && (e.resizeableCircleMarker = e.editable, delete e.editable);
    let i = false;
    this.map.pm.Draw.CircleMarker.enabled() && !!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker != !!e.resizeableCircleMarker && (this.map.pm.Draw.CircleMarker.disable(), i = true);
    let r = false;
    this.map.pm.Draw.Circle.enabled() && !!this.map.pm.Draw.Circle.options.resizableCircle != !!e.resizableCircle && (this.map.pm.Draw.Circle.disable(), r = true), this.map.pm.Draw.shapes.forEach((s) => {
      this.map.pm.Draw[s].setOptions(e);
    }), i && this.map.pm.Draw.CircleMarker.enable(), r && this.map.pm.Draw.Circle.enable(), L.PM.Utils.findLayers(this.map).forEach((s) => {
      s.pm.setOptions(e);
    }), this.map.fire("pm:globaloptionschanged"), this.globalOptions = e, this.applyGlobalOptions();
  }, applyGlobalOptions() {
    L.PM.Utils.findLayers(this.map).forEach((e) => {
      e.pm.enabled() && e.pm.applyOptions();
    });
  }, globalDrawModeEnabled() {
    return !!this.Draw.getActiveShape();
  }, globalCutModeEnabled() {
    return !!this.Draw.Cut.enabled();
  }, enableGlobalCutMode(t) {
    return this.Draw.Cut.enable(t);
  }, toggleGlobalCutMode(t) {
    return this.Draw.Cut.toggle(t);
  }, disableGlobalCutMode() {
    return this.Draw.Cut.disable();
  }, getGeomanLayers(t = false) {
    let e = L.PM.Utils.findLayers(this.map);
    if (!t)
      return e;
    let i = L.featureGroup();
    return i._pmTempLayer = true, e.forEach((r) => {
      i.addLayer(r);
    }), i;
  }, getGeomanDrawLayers(t = false) {
    let e = L.PM.Utils.findLayers(this.map).filter((r) => r._drawnByGeoman === true);
    if (!t)
      return e;
    let i = L.featureGroup();
    return i._pmTempLayer = true, e.forEach((r) => {
      i.addLayer(r);
    }), i;
  }, _getContainingLayer() {
    return this.globalOptions.layerGroup && this.globalOptions.layerGroup instanceof L.LayerGroup ? this.globalOptions.layerGroup : this.map;
  }, _isCRSSimple() {
    return this.map.options.crs === L.CRS.Simple;
  }, _touchEventCounter: 0, _addTouchEvents(t) {
    this._touchEventCounter === 0 && (L.DomEvent.on(t, "touchmove", this._canvasTouchMove, this), L.DomEvent.on(t, "touchstart touchend touchcancel", this._canvasTouchClick, this)), this._touchEventCounter += 1;
  }, _removeTouchEvents(t) {
    this._touchEventCounter === 1 && (L.DomEvent.off(t, "touchmove", this._canvasTouchMove, this), L.DomEvent.off(t, "touchstart touchend touchcancel", this._canvasTouchClick, this)), this._touchEventCounter = this._touchEventCounter <= 1 ? 0 : this._touchEventCounter - 1;
  }, _canvasTouchMove(t) {
    Rt(this.map)._onMouseMove(this._createMouseEvent("mousemove", t));
  }, _canvasTouchClick(t) {
    let e = "";
    t.type === "touchstart" || t.type === "pointerdown" ? e = "mousedown" : (t.type === "touchend" || t.type === "pointerup" || t.type === "touchcancel" || t.type === "pointercancel") && (e = "mouseup"), e && Rt(this.map)._onClick(this._createMouseEvent(e, t));
  }, _createMouseEvent(t, e) {
    let i, r = e.touches[0] || e.changedTouches[0];
    try {
      i = new MouseEvent(t, { bubbles: e.bubbles, cancelable: e.cancelable, view: e.view, detail: r.detail, screenX: r.screenX, screenY: r.screenY, clientX: r.clientX, clientY: r.clientY, ctrlKey: e.ctrlKey, altKey: e.altKey, shiftKey: e.shiftKey, metaKey: e.metaKey, button: e.button, relatedTarget: e.relatedTarget });
    } catch {
      i = document.createEvent("MouseEvents"), i.initMouseEvent(t, e.bubbles, e.cancelable, e.view, r.detail, r.screenX, r.screenY, r.clientX, r.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);
    }
    return i;
  } }), Ko = om;
  var lm = L.Control.extend({ includes: [Tt], options: { position: "topleft", disableByOtherButtons: true }, initialize(t) {
    this._button = L.Util.extend({}, this.options, t);
  }, onAdd(t) {
    return this._map = t, this._map.pm.Toolbar.options.oneBlock ? this._container = this._map.pm.Toolbar._createContainer(this.options.position) : this._button.tool === "edit" ? this._container = this._map.pm.Toolbar.editContainer : this._button.tool === "options" ? this._container = this._map.pm.Toolbar.optionsContainer : this._button.tool === "custom" ? this._container = this._map.pm.Toolbar.customContainer : this._container = this._map.pm.Toolbar.drawContainer, this._renderButton(), this._container;
  }, _renderButton() {
    let t = this.buttonsDomNode;
    this.buttonsDomNode = this._makeButton(this._button), t ? t.replaceWith(this.buttonsDomNode) : this._container.appendChild(this.buttonsDomNode);
  }, onRemove() {
    return this.buttonsDomNode.remove(), this._container;
  }, getText() {
    return this._button.text;
  }, getIconUrl() {
    return this._button.iconUrl;
  }, destroy() {
    this._button = {}, this._update();
  }, toggle(t) {
    return typeof t == "boolean" ? this._button.toggleStatus = t : this._button.toggleStatus = !this._button.toggleStatus, this._applyStyleClasses(), this._button.toggleStatus;
  }, toggled() {
    return this._button.toggleStatus;
  }, onCreate() {
    this.toggle(false);
  }, disable() {
    this.toggle(false), this._button.disabled = true, this._updateDisabled();
  }, enable() {
    this._button.disabled = false, this._updateDisabled();
  }, _triggerClick(t) {
    t && t.preventDefault(), !this._button.disabled && (this._button.onClick(t, { button: this, event: t }), this._clicked(t), this._button.afterClick(t, { button: this, event: t }));
  }, _makeButton(t) {
    let e = this.options.position.indexOf("right") > -1 ? "pos-right" : "", i = L.DomUtil.create("div", `button-container  ${e}`, this._container);
    t.title && i.setAttribute("title", t.title);
    let r = L.DomUtil.create("a", "leaflet-buttons-control-button", i);
    r.setAttribute("role", "button"), r.setAttribute("tabindex", "0"), r.href = "#";
    let n = L.DomUtil.create("div", `leaflet-pm-actions-container ${e}`, i), s = t.actions, a = { cancel: { text: V("actions.cancel"), title: V("actions.cancel"), onClick() {
      this._triggerClick();
    } }, finishMode: { text: V("actions.finish"), title: V("actions.finish"), onClick() {
      this._triggerClick();
    } }, removeLastVertex: { text: V("actions.removeLastVertex"), title: V("actions.removeLastVertex"), onClick() {
      this._map.pm.Draw[t.jsClass]._removeLastVertex();
    } }, finish: { text: V("actions.finish"), title: V("actions.finish"), onClick(l) {
      this._map.pm.Draw[t.jsClass]._finishShape(l);
    } } };
    s.forEach((l) => {
      let u = typeof l == "string" ? l : l.name, f;
      if (a[u])
        f = a[u];
      else if (l.text)
        f = l;
      else
        return;
      let d = L.DomUtil.create("a", `leaflet-pm-action ${e} action-${u}`, n);
      if (d.setAttribute("role", "button"), d.setAttribute("tabindex", "0"), d.href = "#", f.title && (d.title = f.title), d.innerHTML = f.text, L.DomEvent.disableClickPropagation(d), L.DomEvent.on(d, "click", L.DomEvent.stop), !t.disabled && f.onClick) {
        let P = (E) => {
          E.preventDefault();
          let T = "", { buttons: G } = this._map.pm.Toolbar;
          for (let _ in G)
            if (G[_]._button === t) {
              T = _;
              break;
            }
          this._fireActionClick(f, T, t);
        };
        L.DomEvent.addListener(d, "click", P, this), L.DomEvent.addListener(d, "click", f.onClick, this);
      }
    }), t.toggleStatus && L.DomUtil.addClass(i, "active");
    let o = L.DomUtil.create("div", "control-icon", r);
    return t.iconUrl && o.setAttribute("src", t.iconUrl), t.className && L.DomUtil.addClass(o, t.className), L.DomEvent.disableClickPropagation(r), L.DomEvent.on(r, "click", L.DomEvent.stop), t.disabled || (L.DomEvent.addListener(r, "click", this._onBtnClick, this), L.DomEvent.addListener(r, "click", this._triggerClick, this)), t.disabled && (L.DomUtil.addClass(r, "pm-disabled"), r.setAttribute("aria-disabled", "true")), i;
  }, _applyStyleClasses() {
    this._container && (!this._button.toggleStatus || this._button.cssToggle === false ? (L.DomUtil.removeClass(this.buttonsDomNode, "active"), L.DomUtil.removeClass(this._container, "activeChild")) : (L.DomUtil.addClass(this.buttonsDomNode, "active"), L.DomUtil.addClass(this._container, "activeChild")));
  }, _onBtnClick() {
    if (this._button.disabled)
      return;
    this._button.disableOtherButtons && this._map.pm.Toolbar.triggerClickOnToggledButtons(this);
    let t = "", { buttons: e } = this._map.pm.Toolbar;
    for (let i in e)
      if (e[i]._button === this._button) {
        t = i;
        break;
      }
    this._fireButtonClick(t, this._button);
  }, _clicked() {
    this._button.doToggle && this.toggle();
  }, _updateDisabled() {
    if (!this._container)
      return;
    let t = "pm-disabled", e = this.buttonsDomNode.children[0];
    this._button.disabled ? (L.DomUtil.addClass(e, t), e.setAttribute("aria-disabled", "true")) : (L.DomUtil.removeClass(e, t), e.setAttribute("aria-disabled", "false"));
  } }), Ho = lm;
  L.Control.PMButton = Ho;
  var hm = L.Class.extend({ options: { drawMarker: true, drawRectangle: true, drawPolyline: true, drawPolygon: true, drawCircle: true, drawCircleMarker: true, drawText: true, editMode: true, dragMode: true, cutPolygon: true, removalMode: true, rotateMode: true, snappingOption: true, drawControls: true, editControls: true, optionsControls: true, customControls: true, oneBlock: false, position: "topleft", positions: { draw: "", edit: "", options: "", custom: "" } }, customButtons: [], initialize(t) {
    this.customButtons = [], this.options.positions = { draw: "", edit: "", options: "", custom: "" }, this.init(t);
  }, reinit() {
    let t = this.isVisible;
    this.removeControls(), this._defineButtons(), t && this.addControls();
  }, init(t) {
    this.map = t, this.buttons = {}, this.isVisible = false, this.drawContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"), this.editContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"), this.optionsContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"), this.customContainer = L.DomUtil.create("div", "leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"), this._defineButtons();
  }, _createContainer(t) {
    let e = `${t}Container`;
    return this[e] || (this[e] = L.DomUtil.create("div", `leaflet-pm-toolbar leaflet-pm-${t} leaflet-bar leaflet-control`)), this[e];
  }, getButtons() {
    return this.buttons;
  }, addControls(t = this.options) {
    typeof t.editPolygon < "u" && (t.editMode = t.editPolygon), typeof t.deleteLayer < "u" && (t.removalMode = t.deleteLayer), L.Util.setOptions(this, t), this.applyIconStyle(), this.isVisible = true, this._showHideButtons();
  }, applyIconStyle() {
    let t = this.getButtons(), e = { geomanIcons: { drawMarker: "control-icon leaflet-pm-icon-marker", drawPolyline: "control-icon leaflet-pm-icon-polyline", drawRectangle: "control-icon leaflet-pm-icon-rectangle", drawPolygon: "control-icon leaflet-pm-icon-polygon", drawCircle: "control-icon leaflet-pm-icon-circle", drawCircleMarker: "control-icon leaflet-pm-icon-circle-marker", editMode: "control-icon leaflet-pm-icon-edit", dragMode: "control-icon leaflet-pm-icon-drag", cutPolygon: "control-icon leaflet-pm-icon-cut", removalMode: "control-icon leaflet-pm-icon-delete", drawText: "control-icon leaflet-pm-icon-text" } };
    for (let i in t) {
      let r = t[i];
      L.Util.setOptions(r, { className: e.geomanIcons[i] });
    }
  }, removeControls() {
    let t = this.getButtons();
    for (let e in t)
      t[e].remove();
    this.isVisible = false;
  }, toggleControls(t = this.options) {
    this.isVisible ? this.removeControls() : this.addControls(t);
  }, _addButton(t, e) {
    return this.buttons[t] = e, this.options[t] = !!this.options[t] || false, this.buttons[t];
  }, triggerClickOnToggledButtons(t) {
    for (let e in this.buttons) {
      let i = this.buttons[e];
      i._button.disableByOtherButtons && i !== t && i.toggled() && i._triggerClick();
    }
  }, toggleButton(t, e, i = true) {
    return t === "editPolygon" && (t = "editMode"), t === "deleteLayer" && (t = "removalMode"), i && this.triggerClickOnToggledButtons(this.buttons[t]), this.buttons[t] ? this.buttons[t].toggle(e) : false;
  }, _defineButtons() {
    let t = { className: "control-icon leaflet-pm-icon-marker", title: V("buttonTitles.drawMarkerButton"), jsClass: "Marker", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, e = { title: V("buttonTitles.drawPolyButton"), className: "control-icon leaflet-pm-icon-polygon", jsClass: "Polygon", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["finish", "removeLastVertex", "cancel"] }, i = { className: "control-icon leaflet-pm-icon-polyline", title: V("buttonTitles.drawLineButton"), jsClass: "Line", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["finish", "removeLastVertex", "cancel"] }, r = { title: V("buttonTitles.drawCircleButton"), className: "control-icon leaflet-pm-icon-circle", jsClass: "Circle", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, n = { title: V("buttonTitles.drawCircleMarkerButton"), className: "control-icon leaflet-pm-icon-circle-marker", jsClass: "CircleMarker", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, s = { title: V("buttonTitles.drawRectButton"), className: "control-icon leaflet-pm-icon-rectangle", jsClass: "Rectangle", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] }, a = { title: V("buttonTitles.editButton"), className: "control-icon leaflet-pm-icon-edit", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalEditMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, o = { title: V("buttonTitles.dragButton"), className: "control-icon leaflet-pm-icon-drag", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalDragMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, l = { title: V("buttonTitles.cutButton"), className: "control-icon leaflet-pm-icon-cut", jsClass: "Cut", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle({ snappable: true, cursorMarker: true, allowSelfIntersection: false });
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finish", "removeLastVertex", "cancel"] }, u = { title: V("buttonTitles.deleteButton"), className: "control-icon leaflet-pm-icon-delete", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalRemovalMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, f = { title: V("buttonTitles.rotateButton"), className: "control-icon leaflet-pm-icon-rotate", onClick: () => {
    }, afterClick: () => {
      this.map.pm.toggleGlobalRotateMode();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, tool: "edit", actions: ["finishMode"] }, d = { className: "control-icon leaflet-pm-icon-text", title: V("buttonTitles.drawTextButton"), jsClass: "Text", onClick: () => {
    }, afterClick: (P, E) => {
      this.map.pm.Draw[E.button._button.jsClass].toggle();
    }, doToggle: true, toggleStatus: false, disableOtherButtons: true, position: this.options.position, actions: ["cancel"] };
    this._addButton("drawMarker", new L.Control.PMButton(t)), this._addButton("drawPolyline", new L.Control.PMButton(i)), this._addButton("drawRectangle", new L.Control.PMButton(s)), this._addButton("drawPolygon", new L.Control.PMButton(e)), this._addButton("drawCircle", new L.Control.PMButton(r)), this._addButton("drawCircleMarker", new L.Control.PMButton(n)), this._addButton("drawText", new L.Control.PMButton(d)), this._addButton("editMode", new L.Control.PMButton(a)), this._addButton("dragMode", new L.Control.PMButton(o)), this._addButton("cutPolygon", new L.Control.PMButton(l)), this._addButton("removalMode", new L.Control.PMButton(u)), this._addButton("rotateMode", new L.Control.PMButton(f));
  }, _showHideButtons() {
    if (!this.isVisible)
      return;
    this.removeControls(), this.isVisible = true;
    let t = this.getButtons(), e = [];
    this.options.drawControls === false && (e = e.concat(Object.keys(t).filter((i) => !t[i]._button.tool))), this.options.editControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "edit"))), this.options.optionsControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "options"))), this.options.customControls === false && (e = e.concat(Object.keys(t).filter((i) => t[i]._button.tool === "custom")));
    for (let i in t)
      if (this.options[i] && e.indexOf(i) === -1) {
        let r = t[i]._button.tool;
        r || (r = "draw"), t[i].setPosition(this._getBtnPosition(r)), t[i].addTo(this.map);
      }
  }, _getBtnPosition(t) {
    return this.options.positions && this.options.positions[t] ? this.options.positions[t] : this.options.position;
  }, setBlockPosition(t, e) {
    this.options.positions[t] = e, this._showHideButtons(), this.changeControlOrder();
  }, getBlockPositions() {
    return this.options.positions;
  }, copyDrawControl(t, e) {
    if (e)
      typeof e != "object" && (e = { name: e });
    else
      throw new TypeError("Button has no name");
    let i = this._btnNameMapping(t);
    if (!e.name)
      throw new TypeError("Button has no name");
    if (this.buttons[e.name])
      throw new TypeError("Button with this name already exists");
    let r = this.map.pm.Draw.createNewDrawInstance(e.name, i);
    e = { ...this.buttons[i]._button, ...e };
    let s = this.createCustomControl(e);
    return { drawInstance: r, control: s };
  }, createCustomControl(t) {
    if (!t.name)
      throw new TypeError("Button has no name");
    if (this.buttons[t.name])
      throw new TypeError("Button with this name already exists");
    t.onClick || (t.onClick = () => {
    }), t.afterClick || (t.afterClick = () => {
    }), t.toggle !== false && (t.toggle = true), t.block && (t.block = t.block.toLowerCase()), (!t.block || t.block === "draw") && (t.block = ""), t.className ? t.className.indexOf("control-icon") === -1 && (t.className = `control-icon ${t.className}`) : t.className = "control-icon";
    let e = { tool: t.block, className: t.className, title: t.title || "", jsClass: t.name, onClick: t.onClick, afterClick: t.afterClick, doToggle: t.toggle, toggleStatus: false, disableOtherButtons: t.disableOtherButtons ?? true, disableByOtherButtons: t.disableByOtherButtons ?? true, cssToggle: t.toggle, position: this.options.position, actions: t.actions || [], disabled: !!t.disabled };
    this.options[t.name] !== false && (this.options[t.name] = true);
    let i = this._addButton(t.name, new L.Control.PMButton(e));
    return this.changeControlOrder(), i;
  }, controlExists(t) {
    return !!this.getButton(t);
  }, getButton(t) {
    return this.getButtons()[t];
  }, getButtonsInBlock(t) {
    let e = {};
    if (t)
      for (let i in this.getButtons()) {
        let r = this.getButtons()[i];
        (r._button.tool === t || t === "draw" && !r._button.tool) && (e[i] = r);
      }
    return e;
  }, changeControlOrder(t = []) {
    let e = this._shapeMapping(), i = [];
    t.forEach((u) => {
      e[u] ? i.push(e[u]) : i.push(u);
    });
    let r = this.getButtons(), n = {};
    i.forEach((u) => {
      r[u] && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => !r[u]._button.tool).forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "edit").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "options").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).filter((u) => r[u]._button.tool === "custom").forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), Object.keys(r).forEach((u) => {
      i.indexOf(u) === -1 && (n[u] = r[u]);
    }), this.map.pm.Toolbar.buttons = n, this._showHideButtons();
  }, getControlOrder() {
    let t = this.getButtons(), e = [];
    for (let i in t)
      e.push(i);
    return e;
  }, changeActionsOfControl(t, e) {
    let i = this._btnNameMapping(t);
    if (!i)
      throw new TypeError("No name passed");
    if (!e)
      throw new TypeError("No actions passed");
    if (!this.buttons[i])
      throw new TypeError("Button with this name not exists");
    this.buttons[i]._button.actions = e, this.changeControlOrder();
  }, setButtonDisabled(t, e) {
    let i = this._btnNameMapping(t);
    e ? this.buttons[i].disable() : this.buttons[i].enable();
  }, _shapeMapping() {
    return { Marker: "drawMarker", Circle: "drawCircle", Polygon: "drawPolygon", Rectangle: "drawRectangle", Polyline: "drawPolyline", Line: "drawPolyline", CircleMarker: "drawCircleMarker", Edit: "editMode", Drag: "dragMode", Cut: "cutPolygon", Removal: "removalMode", Rotate: "rotateMode", Text: "drawText" };
  }, _btnNameMapping(t) {
    let e = this._shapeMapping();
    return e[t] ? e[t] : t;
  } }), Xo = hm;
  var Yo = xt(Ne());
  var um = { _initSnappableMarkers() {
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, this._assignEvents(this._markers), this._layer.off("pm:dragstart", this._unsnap, this), this._layer.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    this._layer.off("pm:dragstart", this._unsnap, this);
  }, _assignEvents(t) {
    t.forEach((e) => {
      if (Array.isArray(e)) {
        this._assignEvents(e);
        return;
      }
      e.off("drag", this._handleSnapping, this), e.on("drag", this._handleSnapping, this), e.off("dragend", this._cleanupSnapping, this), e.on("dragend", this._cleanupSnapping, this);
    });
  }, _cleanupSnapping(t) {
    if (t) {
      let e = t.target;
      e._snapped = false;
    }
    delete this._snapList, this.throttledList && (this._map.off("layeradd", this.throttledList, this), this.throttledList = void 0), this._map.off("layerremove", this._handleSnapLayerRemoval, this), this.debugIndicatorLines && this.debugIndicatorLines.forEach((e) => {
      e.remove();
    });
  }, _handleThrottleSnapping() {
    this.throttledList && this._createSnapList();
  }, _handleSnapping(t) {
    let e = t.target;
    if (e._snapped = false, this.throttledList || (this.throttledList = L.Util.throttle(this._handleThrottleSnapping, 100, this)), t?.originalEvent?.altKey || this._map?.pm?.Keyboard.isAltKeyPressed() || (this._snapList === void 0 && (this._createSnapList(), this._map.off("layeradd", this.throttledList, this), this._map.on("layeradd", this.throttledList, this)), this._snapList.length <= 0))
      return false;
    let i = this._calcClosestLayer(e.getLatLng(), this._snapList);
    if (Object.keys(i).length === 0)
      return false;
    let r = i.layer instanceof L.Marker || i.layer instanceof L.CircleMarker || !this.options.snapSegment, n;
    r ? n = i.latlng : n = this._checkPrioritiySnapping(i);
    let s = this.options.snapDistance, a = { marker: e, shape: this._shape, snapLatLng: n, segment: i.segment, layer: this._layer, workingLayer: this._layer, layerInteractedWith: i.layer, distance: i.distance };
    if (this._fireSnapDrag(a.marker, a), this._fireSnapDrag(this._layer, a), i.distance < s) {
      e._orgLatLng = e.getLatLng(), e.setLatLng(n), e._snapped = true, e._snapInfo = a;
      let o = () => {
        this._snapLatLng = n, this._fireSnap(e, a), this._fireSnap(this._layer, a);
      }, l = this._snapLatLng || {}, u = n || {};
      (l.lat !== u.lat || l.lng !== u.lng) && o();
    } else
      this._snapLatLng && (this._unsnap(a), e._snapped = false, e._snapInfo = void 0, this._fireUnsnap(a.marker, a), this._fireUnsnap(this._layer, a));
    return true;
  }, _createSnapList() {
    let t = [], e = [], i = this._map;
    i.off("layerremove", this._handleSnapLayerRemoval, this), i.on("layerremove", this._handleSnapLayerRemoval, this), i.eachLayer((r) => {
      if ((r instanceof L.Polyline || r instanceof L.Marker || r instanceof L.CircleMarker || r instanceof L.ImageOverlay) && r.options.snapIgnore !== true) {
        if (r.options.snapIgnore === void 0 && (!L.PM.optIn && r.options.pmIgnore === true || L.PM.optIn && r.options.pmIgnore !== false))
          return;
        (r instanceof L.Circle || r instanceof L.CircleMarker) && r.pm && r.pm._hiddenPolyCircle ? t.push(r.pm._hiddenPolyCircle) : r instanceof L.ImageOverlay && (r = L.rectangle(r.getBounds())), t.push(r);
        let n = L.polyline([], { color: "red", pmIgnore: true });
        n._pmTempLayer = true, e.push(n), (r instanceof L.Circle || r instanceof L.CircleMarker) && e.push(n);
      }
    }), t = t.filter((r) => this._layer !== r), t = t.filter((r) => r._latlng || r._latlngs && be(r._latlngs)), t = t.filter((r) => !r._pmTempLayer), this._otherSnapLayers ? (this._otherSnapLayers.forEach(() => {
      let r = L.polyline([], { color: "red", pmIgnore: true });
      r._pmTempLayer = true, e.push(r);
    }), this._snapList = t.concat(this._otherSnapLayers)) : this._snapList = t, this.debugIndicatorLines = e;
  }, _handleSnapLayerRemoval({ layer: t }) {
    if (!t._leaflet_id)
      return;
    let e = this._snapList.findIndex((i) => i._leaflet_id === t._leaflet_id);
    e > -1 && this._snapList.splice(e, 1);
  }, _calcClosestLayer(t, e) {
    return this._calcClosestLayers(t, e, 1)[0];
  }, _calcClosestLayers(t, e, i = 1) {
    let r = [], n = {};
    e.forEach((a, o) => {
      if (a._parentCopy && a._parentCopy === this._layer)
        return;
      let l = this._calcLayerDistances(t, a);
      if (l.distance = Math.floor(l.distance), this.debugIndicatorLines) {
        if (!this.debugIndicatorLines[o]) {
          let u = L.polyline([], { color: "red", pmIgnore: true });
          u._pmTempLayer = true, this.debugIndicatorLines[o] = u;
        }
        this.debugIndicatorLines[o].setLatLngs([t, l.latlng]);
      }
      i === 1 && (n.distance === void 0 || l.distance - 5 <= n.distance) ? (l.distance + 5 < n.distance && (r = []), n = l, n.layer = a, r.push(n)) : i !== 1 && (n = {}, n = l, n.layer = a, r.push(n));
    }), i !== 1 && (r = r.sort((a, o) => a.distance - o.distance)), i === -1 && (i = r.length);
    let s = this._getClosestLayerByPriority(r, i);
    return L.Util.isArray(s) ? s : [s];
  }, _calcLayerDistances(t, e) {
    let i = this._map, r = e instanceof L.Marker || e instanceof L.CircleMarker, n = e instanceof L.Polygon, s = t;
    if (r) {
      let a = e.getLatLng();
      return { latlng: { ...a }, distance: this._getDistance(i, a, s) };
    }
    return this._calcLatLngDistances(s, e.getLatLngs(), i, n);
  }, _calcLatLngDistances(t, e, i, r = false) {
    let n, s, a, o = (l) => {
      l.forEach((u, f) => {
        if (Array.isArray(u)) {
          o(u);
          return;
        }
        if (this.options.snapSegment) {
          let d = u, P;
          r ? P = f + 1 === l.length ? 0 : f + 1 : P = f + 1 === l.length ? void 0 : f + 1;
          let E = l[P];
          if (E) {
            let T = this._getDistanceToSegment(i, t, d, E);
            (s === void 0 || T < s) && (s = T, a = [d, E]);
          }
        } else {
          let d = this._getDistance(i, t, u);
          (s === void 0 || d < s) && (s = d, n = u);
        }
      });
    };
    return o(e), this.options.snapSegment ? { latlng: { ...this._getClosestPointOnSegment(i, t, a[0], a[1]) }, segment: a, distance: s } : { latlng: n, distance: s };
  }, _getClosestLayerByPriority(t, e = 1) {
    t = t.sort((a, o) => a._leaflet_id - o._leaflet_id);
    let i = ["Marker", "CircleMarker", "Circle", "Line", "Polygon", "Rectangle"], r = this._map.pm.globalOptions.snappingOrder || [], n = 0, s = {};
    return r.concat(i).forEach((a) => {
      s[a] || (n += 1, s[a] = n);
    }), t.sort(jo("instanceofShape", s)), e === 1 ? t[0] || {} : t.slice(0, e);
  }, _checkPrioritiySnapping(t) {
    let e = this._map, i = t.segment[0], r = t.segment[1], n = t.latlng, s = this._getDistance(e, i, n), a = this._getDistance(e, r, n), o = s < a ? i : r, l = s < a ? s : a;
    if (this.options.snapMiddle) {
      let d = L.PM.Utils.calcMiddleLatLng(e, i, r), P = this._getDistance(e, d, n);
      P < s && P < a && (o = d, l = P);
    }
    let u = this.options.snapDistance, f;
    return l < u ? f = o : f = n, { ...f };
  }, _unsnap() {
    delete this._snapLatLng;
  }, _getClosestPointOnSegment(t, e, i, r) {
    let n = t.getMaxZoom();
    n === 1 / 0 && (n = t.getZoom());
    let s = t.project(e, n), a = t.project(i, n), o = t.project(r, n), l = L.LineUtil.closestPointOnSegment(s, a, o);
    return t.unproject(l, n);
  }, _getDistanceToSegment(t, e, i, r) {
    let n = t.latLngToLayerPoint(e), s = t.latLngToLayerPoint(i), a = t.latLngToLayerPoint(r);
    return L.LineUtil.pointToSegmentDistance(n, s, a);
  }, _getDistance(t, e, i) {
    return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i));
  } }, Fe = um;
  var cm = L.Class.extend({ includes: [Fe, Tt], options: { snappable: true, snapDistance: 20, snapMiddle: false, allowSelfIntersection: true, tooltips: true, templineStyle: {}, hintlineStyle: { color: "#3388ff", dashArray: "5,5" }, pathOptions: null, cursorMarker: true, finishOn: null, markerStyle: { draggable: true, icon: L.icon() }, hideMiddleMarkers: false, minRadiusCircle: null, maxRadiusCircle: null, minRadiusCircleMarker: null, maxRadiusCircleMarker: null, resizeableCircleMarker: false, resizableCircle: true, markerEditable: true, continueDrawing: false, snapSegment: true, requireSnapToFinish: false, rectangleAngle: 0 }, setOptions(t) {
    L.Util.setOptions(this, t), this.setStyle(this.options);
  }, setStyle() {
  }, getOptions() {
    return this.options;
  }, initialize(t) {
    let e = new L.Icon.Default();
    e.options.tooltipAnchor = [0, 0], this.options.markerStyle.icon = e, this._map = t, this.shapes = ["Marker", "CircleMarker", "Line", "Polygon", "Rectangle", "Circle", "Cut", "Text"], this.shapes.forEach((i) => {
      this[i] = new L.PM.Draw[i](this._map);
    }), this.Marker.setOptions({ continueDrawing: true }), this.CircleMarker.setOptions({ continueDrawing: true });
  }, setPathOptions(t, e = false) {
    e ? this.options.pathOptions = (0, Yo.default)(this.options.pathOptions, t) : this.options.pathOptions = t;
  }, getShapes() {
    return this.shapes;
  }, getShape() {
    return this._shape;
  }, enable(t, e) {
    if (!t)
      throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);
    this.disable(), this[t].enable(e);
  }, disable() {
    this.shapes.forEach((t) => {
      this[t].disable();
    });
  }, addControls() {
    this.shapes.forEach((t) => {
      this[t].addButton();
    });
  }, getActiveShape() {
    let t;
    return this.shapes.forEach((e) => {
      this[e]._enabled && (t = e);
    }), t;
  }, _setGlobalDrawMode() {
    this._shape === "Cut" ? this._fireGlobalCutModeToggled() : this._fireGlobalDrawModeToggled();
    let t = [];
    this._map.eachLayer((e) => {
      (e instanceof L.Polyline || e instanceof L.Marker || e instanceof L.Circle || e instanceof L.CircleMarker || e instanceof L.ImageOverlay) && (e._pmTempLayer || t.push(e));
    }), this._enabled ? t.forEach((e) => {
      L.PM.Utils.disablePopup(e);
    }) : t.forEach((e) => {
      L.PM.Utils.enablePopup(e);
    });
  }, createNewDrawInstance(t, e) {
    let i = this._getShapeFromBtnName(e);
    if (this[t])
      throw new TypeError("Draw Type already exists");
    if (!L.PM.Draw[i])
      throw new TypeError(`There is no class L.PM.Draw.${i}`);
    return this[t] = new L.PM.Draw[i](this._map), this[t].toolbarButtonName = t, this[t]._shape = t, this.shapes.push(t), this[e] && this[t].setOptions(this[e].options), this[t].setOptions(this[t].options), this[t];
  }, _getShapeFromBtnName(t) {
    let e = { drawMarker: "Marker", drawCircle: "Circle", drawPolygon: "Polygon", drawPolyline: "Line", drawRectangle: "Rectangle", drawCircleMarker: "CircleMarker", editMode: "Edit", dragMode: "Drag", cutPolygon: "Cut", removalMode: "Removal", rotateMode: "Rotate", drawText: "Text" };
    return e[t] ? e[t] : this[t] ? this[t]._shape : t;
  }, _finishLayer(t) {
    t.pm && (t.pm.setOptions(this.options), t.pm._shape = this._shape, t.pm._map = this._map), this._addDrawnLayerProp(t);
  }, _addDrawnLayerProp(t) {
    t._drawnByGeoman = true;
  }, _setPane(t, e) {
    e === "layerPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.layerPane || "overlayPane" : e === "vertexPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.vertexPane || "markerPane" : e === "markerPane" && (t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.markerPane || "markerPane");
  }, _isFirstLayer() {
    return (this._map || this._layer._map).pm.getGeomanLayers().length === 0;
  } }), X = cm;
  X.Marker = X.extend({ initialize(t) {
    this._map = t, this._shape = "Marker", this.toolbarButtonName = "drawMarker";
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._createMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._hintMarker = L.marker(this._map.getCenter(), this.options.markerStyle), this._setPane(this._hintMarker, "markerPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeMarker"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._layer = this._hintMarker, this._map.on("mousemove", this._syncHintMarker, this), this.options.markerEditable && this._map.eachLayer((e) => {
      this.isRelevantMarker(e) && e.pm.enable();
    }), this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._createMarker, this), this._hintMarker.remove(), this._map.off("mousemove", this._syncHintMarker, this), this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.disable();
    }), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, isRelevantMarker(t) {
    return t instanceof L.Marker && t.pm && !t._pmTempLayer && !t.pm._initTextMarker;
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let e = t;
      e.target = this._hintMarker, this._handleSnapping(e);
    }
    this._fireChange(this._hintMarker.getLatLng(), "Draw");
  }, _createMarker(t) {
    if (!t.latlng || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = new L.Marker(e, this.options.markerStyle);
    this._setPane(i, "markerPane"), this._finishLayer(i), i.pm || (i.options.draggable = false), i.addTo(this._map.pm._getContainingLayer()), i.pm && this.options.markerEditable ? i.pm.enable() : i.dragging && i.dragging.disable(), this._fireCreate(i), this._cleanupSnapping(), this.options.continueDrawing || this.disable();
  }, setStyle() {
    this.options.markerStyle?.icon && this._hintMarker?.setIcon(this.options.markerStyle.icon);
  } });
  var at = 63710088e-1, Jo = { centimeters: at * 100, centimetres: at * 100, degrees: at / 111325, feet: at * 3.28084, inches: at * 39.37, kilometers: at / 1e3, kilometres: at / 1e3, meters: at, metres: at, miles: at / 1609.344, millimeters: at * 1e3, millimetres: at * 1e3, nauticalmiles: at / 1852, radians: 1, yards: at * 1.0936 }, Qb = { centimeters: 100, centimetres: 100, degrees: 1 / 111325, feet: 3.28084, inches: 39.37, kilometers: 1 / 1e3, kilometres: 1 / 1e3, meters: 1, metres: 1, miles: 1 / 1609.344, millimeters: 1e3, millimetres: 1e3, nauticalmiles: 1 / 1852, radians: 1 / at, yards: 1.0936133 };
  function Dt(t, e, i) {
    i === void 0 && (i = {});
    var r = { type: "Feature" };
    return (i.id === 0 || i.id) && (r.id = i.id), i.bbox && (r.bbox = i.bbox), r.properties = e || {}, r.geometry = t, r;
  }
  function _t(t, e, i) {
    if (i === void 0 && (i = {}), !t)
      throw new Error("coordinates is required");
    if (!Array.isArray(t))
      throw new Error("coordinates must be an Array");
    if (t.length < 2)
      throw new Error("coordinates must be at least 2 numbers long");
    if (!Si(t[0]) || !Si(t[1]))
      throw new Error("coordinates must contain numbers");
    var r = { type: "Point", coordinates: t };
    return Dt(r, e, i);
  }
  function wt(t, e, i) {
    if (i === void 0 && (i = {}), t.length < 2)
      throw new Error("coordinates must be an array of two or more positions");
    var r = { type: "LineString", coordinates: t };
    return Dt(r, e, i);
  }
  function yt(t, e) {
    e === void 0 && (e = {});
    var i = { type: "FeatureCollection" };
    return e.id && (i.id = e.id), e.bbox && (i.bbox = e.bbox), i.features = t, i;
  }
  function $o(t, e) {
    e === void 0 && (e = "kilometers");
    var i = Jo[e];
    if (!i)
      throw new Error(e + " units is invalid");
    return t * i;
  }
  function Zo(t, e) {
    e === void 0 && (e = "kilometers");
    var i = Jo[e];
    if (!i)
      throw new Error(e + " units is invalid");
    return t / i;
  }
  function Me(t) {
    var e = t % (2 * Math.PI);
    return e * 180 / Math.PI;
  }
  function lt(t) {
    var e = t % 360;
    return e * Math.PI / 180;
  }
  function Si(t) {
    return !isNaN(t) && t !== null && !Array.isArray(t);
  }
  function zt(t) {
    var e, i, r = { type: "FeatureCollection", features: [] };
    if (t.type === "Feature" ? i = t.geometry : i = t, i.type === "LineString")
      e = [i.coordinates];
    else if (i.type === "MultiLineString")
      e = i.coordinates;
    else if (i.type === "MultiPolygon")
      e = [].concat.apply([], i.coordinates);
    else if (i.type === "Polygon")
      e = i.coordinates;
    else
      throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");
    return e.forEach(function(n) {
      e.forEach(function(s) {
        for (var a = 0; a < n.length - 1; a++)
          for (var o = a; o < s.length - 1; o++)
            if (!(n === s && (Math.abs(a - o) === 1 || a === 0 && o === n.length - 2 && n[a][0] === n[n.length - 1][0] && n[a][1] === n[n.length - 1][1]))) {
              var l = pm(n[a][0], n[a][1], n[a + 1][0], n[a + 1][1], s[o][0], s[o][1], s[o + 1][0], s[o + 1][1]);
              l && r.features.push(_t([l[0], l[1]]));
            }
      });
    }), r;
  }
  function pm(t, e, i, r, n, s, a, o) {
    var l, u, f, d, P, E = { x: null, y: null, onLine1: false, onLine2: false };
    return l = (o - s) * (i - t) - (a - n) * (r - e), l === 0 ? E.x !== null && E.y !== null ? E : false : (u = e - s, f = t - n, d = (a - n) * u - (o - s) * f, P = (i - t) * u - (r - e) * f, u = d / l, f = P / l, E.x = t + u * (i - t), E.y = e + u * (r - e), u >= 0 && u <= 1 && (E.onLine1 = true), f >= 0 && f <= 1 && (E.onLine2 = true), E.onLine1 && E.onLine2 ? [E.x, E.y] : false);
  }
  X.Line = X.extend({ initialize(t) {
    this._map = t, this._shape = "Line", this.toolbarButtonName = "drawPolyline", this._doesSelfIntersect = false;
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._markers = [], this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = L.polyline([], { ...this.options.templineStyle, pmIgnore: false }), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._layerGroup.addLayer(this._layer), this._hintline = L.polyline([], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._layerGroup.addLayer(this._hintline), this._hintMarker = L.marker(this._map.getCenter(), { interactive: false, zIndexOffset: 100, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.firstVertex"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._createVertex, this), this.options.finishOn && this.options.finishOn !== "snap" && this._map.on(this.options.finishOn, this._finishShape, this), this.options.finishOn === "dblclick" && (this.tempMapDoubleClickZoomState = this._map.doubleClickZoom._enabled, this.tempMapDoubleClickZoomState && this._map.doubleClickZoom.disable()), this._map.on("mousemove", this._syncHintMarker, this), this._hintMarker.on("move", this._syncHintLine, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._otherSnapLayers = [], this.isRed = false, this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._createVertex, this), this._map.off("mousemove", this._syncHintMarker, this), this.options.finishOn && this.options.finishOn !== "snap" && this._map.off(this.options.finishOn, this._finishShape, this), this.tempMapDoubleClickZoomState && this._map.doubleClickZoom.enable(), this._map.removeLayer(this._layerGroup), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _syncHintLine() {
    let t = this._layer.getLatLngs();
    if (t.length > 0) {
      let e = t[t.length - 1];
      this._hintline.setLatLngs([e, this._hintMarker.getLatLng()]);
    }
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    this.options.allowSelfIntersection || this._handleSelfIntersection(true, this._hintMarker.getLatLng());
    let e = this._layer._defaultShape().slice();
    e.push(this._hintMarker.getLatLng()), this._change(e);
  }, hasSelfIntersection() {
    return zt(this._layer.toGeoJSON(15)).features.length > 0;
  }, _handleSelfIntersection(t, e) {
    let i = L.polyline(this._layer.getLatLngs());
    t && (e || (e = this._hintMarker.getLatLng()), i.addLatLng(e));
    let r = zt(i.toGeoJSON(15));
    this._doesSelfIntersect = r.features.length > 0, this._doesSelfIntersect ? this.isRed || (this.isRed = true, this._hintline.setStyle({ color: "#f00000ff" }), this._fireIntersect(r, this._map, "Draw")) : this._hintline.isEmpty() || (this.isRed = false, this._hintline.setStyle(this.options.hintlineStyle));
  }, _createVertex(t) {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(true, t.latlng), this._doesSelfIntersect))
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = this._layer.getLatLngs(), r = i[i.length - 1];
    if (e.equals(i[0]) || i.length > 0 && e.equals(r)) {
      this._finishShape();
      return;
    }
    this._layer._latlngInfo = this._layer._latlngInfo || [], this._layer._latlngInfo.push({ latlng: e, snapInfo: this._hintMarker._snapInfo }), this._layer.addLatLng(e);
    let n = this._createMarker(e);
    this._setTooltipText(), this._setHintLineAfterNewVertex(e), this._fireVertexAdded(n, void 0, e, "Draw"), this._change(this._layer.getLatLngs()), this.options.finishOn === "snap" && this._hintMarker._snapped && this._finishShape(t);
  }, _setHintLineAfterNewVertex(t) {
    this._hintline.setLatLngs([t, t]);
  }, _removeLastVertex() {
    let t = this._markers;
    if (t.length <= 1) {
      this.disable();
      return;
    }
    let e = this._layer.getLatLngs(), i = t[t.length - 1], { indexPath: r } = L.PM.Utils.findDeepMarkerIndex(t, i);
    t.pop(), this._layerGroup.removeLayer(i);
    let n = t[t.length - 1], s = e.indexOf(n.getLatLng());
    e = e.slice(0, s + 1), this._layer.setLatLngs(e), this._layer._latlngInfo.pop(), this._syncHintLine(), this._setTooltipText(), this._fireVertexRemoved(i, r, "Draw"), this._change(this._layer.getLatLngs());
  }, _finishShape() {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(false), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 1)
      return;
    let e = L.polyline(t, this.options.pathOptions);
    this._setPane(e, "layerPane"), this._finishLayer(e), e.addTo(this._map.pm._getContainingLayer()), this._fireCreate(e), this.options.snappable && this._cleanupSnapping(), this.disable(), this.options.continueDrawing && this.enable();
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: false, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this._layerGroup.addLayer(e), this._markers.push(e), e.on("click", this._finishShape, this), e;
  }, _setTooltipText() {
    let { length: t } = this._layer.getLatLngs().flat(), e = "";
    t <= 1 ? e = V("tooltips.continueLine") : e = V("tooltips.finishLine"), this._hintMarker.setTooltipContent(e);
  }, _change(t) {
    this._fireChange(t, "Draw");
  }, setStyle() {
    this._layer?.setStyle(this.options.templineStyle), this._hintline?.setStyle(this.options.hintlineStyle);
  } });
  X.Polygon = X.Line.extend({ initialize(t) {
    this._map = t, this._shape = "Polygon", this.toolbarButtonName = "drawPolygon";
  }, enable(t) {
    L.PM.Draw.Line.prototype.enable.call(this, t), this._layer.pm._shape = "Polygon";
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: false, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this._layerGroup.addLayer(e), this._markers.push(e), this._layer.getLatLngs().flat().length === 1 ? (e.on("click", this._finishShape, this), this._tempSnapLayerIndex = this._otherSnapLayers.push(e) - 1, this.options.snappable && this._cleanupSnapping()) : e.on("click", () => 1), e;
  }, _setTooltipText() {
    let { length: t } = this._layer.getLatLngs().flat(), e = "";
    t <= 2 ? e = V("tooltips.continueLine") : e = V("tooltips.finishPoly"), this._hintMarker.setTooltipContent(e);
  }, _finishShape() {
    if (!this.options.allowSelfIntersection && (this._handleSelfIntersection(true, this._layer.getLatLngs()[0]), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 2)
      return;
    let e = L.polygon(t, this.options.pathOptions);
    this._setPane(e, "layerPane"), this._finishLayer(e), e.addTo(this._map.pm._getContainingLayer()), this._fireCreate(e), this._cleanupSnapping(), this._otherSnapLayers.splice(this._tempSnapLayerIndex, 1), delete this._tempSnapLayerIndex, this.disable(), this.options.continueDrawing && this.enable();
  } });
  X.Rectangle = X.extend({ initialize(t) {
    this._map = t, this._shape = "Rectangle", this.toolbarButtonName = "drawRectangle";
  }, enable(t) {
    if (L.Util.setOptions(this, t), this._enabled = true, this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = L.rectangle([[0, 0], [0, 0]], this.options.pathOptions), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._startMarker = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon rect-start-marker" }), draggable: false, zIndexOffset: -100, opacity: this.options.cursorMarker ? 1 : 0 }), this._setPane(this._startMarker, "vertexPane"), this._startMarker._pmTempLayer = true, this._layerGroup.addLayer(this._startMarker), this._hintMarker = L.marker(this._map.getCenter(), { zIndexOffset: 150, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.firstVertex"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this.options.cursorMarker) {
      this._styleMarkers = [];
      for (let e = 0; e < 2; e += 1) {
        let i = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon rect-style-marker" }), draggable: false, zIndexOffset: 100 });
        this._setPane(i, "vertexPane"), i._pmTempLayer = true, this._layerGroup.addLayer(i), this._styleMarkers.push(i);
      }
    }
    this._map.getContainer().classList.add("geoman-draw-cursor"), this._map.on("click", this._placeStartingMarkers, this), this._map.on("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._otherSnapLayers = [], this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("click", this._finishShape, this), this._map.off("click", this._placeStartingMarkers, this), this._map.off("mousemove", this._syncHintMarker, this), this._map.removeLayer(this._layerGroup), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _placeStartingMarkers(t) {
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    L.DomUtil.addClass(this._startMarker._icon, "visible"), this._startMarker.setLatLng(e), this.options.cursorMarker && this._styleMarkers && this._styleMarkers.forEach((i) => {
      L.DomUtil.addClass(i._icon, "visible"), i.setLatLng(e);
    }), this._map.off("click", this._placeStartingMarkers, this), this._map.on("click", this._finishShape, this), this._hintMarker.setTooltipContent(V("tooltips.finishRect")), this._setRectangleOrigin();
  }, _setRectangleOrigin() {
    let t = this._startMarker.getLatLng();
    t && (this._layerGroup.addLayer(this._layer), this._layer.setLatLngs([t, t]), this._hintMarker.on("move", this._syncRectangleSize, this));
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    let e = this._layerGroup && this._layerGroup.hasLayer(this._layer) ? this._layer.getLatLngs() : [this._hintMarker.getLatLng()];
    this._fireChange(e, "Draw");
  }, _syncRectangleSize() {
    let t = Ei(this._startMarker.getLatLng(), this._map), e = Ei(this._hintMarker.getLatLng(), this._map), i = L.PM.Utils._getRotatedRectangle(t, e, this.options.rectangleAngle || 0, this._map);
    if (this._layer.setLatLngs(i), this.options.cursorMarker && this._styleMarkers) {
      let r = [];
      i.forEach((n) => {
        !n.equals(t, 1e-8) && !n.equals(e, 1e-8) && r.push(n);
      }), r.forEach((n, s) => {
        try {
          this._styleMarkers[s].setLatLng(n);
        } catch {
        }
      });
    }
  }, _findCorners() {
    let t = this._layer.getLatLngs()[0];
    return L.PM.Utils._getRotatedRectangle(t[0], t[2], this.options.rectangleAngle || 0, this._map);
  }, _finishShape(t) {
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = this._startMarker.getLatLng();
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer() || i.equals(e))
      return;
    let r = L.rectangle([i, e], this.options.pathOptions);
    if (this.options.rectangleAngle) {
      let n = L.PM.Utils._getRotatedRectangle(i, e, this.options.rectangleAngle || 0, this._map);
      r.setLatLngs(n), r.pm && r.pm._setAngle(this.options.rectangleAngle || 0);
    }
    this._setPane(r, "layerPane"), this._finishLayer(r), r.addTo(this._map.pm._getContainingLayer()), this._fireCreate(r), this.disable(), this.options.continueDrawing && this.enable();
  }, setStyle() {
    this._layer?.setStyle(this.options.pathOptions);
  } });
  X.CircleMarker = X.extend({ initialize(t) {
    this._map = t, this._shape = "CircleMarker", this.toolbarButtonName = "drawCircleMarker", this._layerIsDragging = false, this._BaseCircleClass = L.CircleMarker, this._minRadiusOption = "minRadiusCircleMarker", this._maxRadiusOption = "maxRadiusCircleMarker", this._editableOption = "resizeableCircleMarker", this._defaultRadius = 10;
  }, enable(t) {
    if (L.Util.setOptions(this, t), this.options.editable && (this.options.resizeableCircleMarker = this.options.editable, delete this.options.editable), this._enabled = true, this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._map.getContainer().classList.add("geoman-draw-cursor"), this.options[this._editableOption]) {
      let e = {};
      L.extend(e, this.options.templineStyle), e.radius = 0, this._layerGroup = new L.FeatureGroup(), this._layerGroup._pmTempLayer = true, this._layerGroup.addTo(this._map), this._layer = new this._BaseCircleClass(this._map.getCenter(), e), this._setPane(this._layer, "layerPane"), this._layer._pmTempLayer = true, this._centerMarker = L.marker(this._map.getCenter(), { icon: L.divIcon({ className: "marker-icon" }), draggable: false, zIndexOffset: 100 }), this._setPane(this._centerMarker, "vertexPane"), this._centerMarker._pmTempLayer = true, this._hintMarker = L.marker(this._map.getCenter(), { zIndexOffset: 110, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._layerGroup.addLayer(this._hintMarker), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.startCircle"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._hintline = L.polyline([], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._layerGroup.addLayer(this._hintline), this._map.on("click", this._placeCenterMarker, this);
    } else
      this._map.on("click", this._createMarker, this), this._hintMarker = new this._BaseCircleClass(this._map.getCenter(), { radius: this._defaultRadius, ...this.options.templineStyle }), this._setPane(this._hintMarker, "layerPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this._layer = this._hintMarker, this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeCircleMarker"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip();
    this._map.on("mousemove", this._syncHintMarker, this), this._extendingEnable(), this._otherSnapLayers = [], this._fireDrawStart(), this._setGlobalDrawMode();
  }, _extendingEnable() {
    !this.options[this._editableOption] && this.options.markerEditable && this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.enable();
    }), this._layer.bringToBack();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.getContainer().classList.remove("geoman-draw-cursor"), this.options[this._editableOption] ? (this._map.off("click", this._finishShape, this), this._map.off("click", this._placeCenterMarker, this), this._map.removeLayer(this._layerGroup)) : (this._map.off("click", this._createMarker, this), this._extendingDisable(), this._hintMarker.remove()), this._map.off("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, _extendingDisable() {
    this._map.eachLayer((t) => {
      this.isRelevantMarker(t) && t.pm.disable();
    });
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _placeCenterMarker(t) {
    this._layerGroup.addLayer(this._layer), this._layerGroup.addLayer(this._centerMarker), this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    this._layerGroup.addLayer(this._layer), this._centerMarker.setLatLng(e), this._map.off("click", this._placeCenterMarker, this), this._map.on("click", this._finishShape, this), this._placeCircleCenter();
  }, _placeCircleCenter() {
    let t = this._centerMarker.getLatLng();
    t && (this._layer.setLatLng(t), this._hintMarker.on("move", this._syncHintLine, this), this._hintMarker.on("move", this._syncCircleRadius, this), this._hintMarker.setTooltipContent(V("tooltips.finishCircle")), this._fireCenterPlaced(), this._fireChange(this._layer.getLatLng(), "Draw"));
  }, _syncHintLine() {
    let t = this._centerMarker.getLatLng(), e = this._getNewDestinationOfHintMarker();
    this._hintline.setLatLngs([t, e]);
  }, _syncCircleRadius() {
    let t = this._centerMarker.getLatLng(), e = this._hintMarker.getLatLng(), i = this._distanceCalculation(t, e);
    this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._layer.setRadius(this.options[this._minRadiusOption]) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] ? this._layer.setRadius(this.options[this._maxRadiusOption]) : this._layer.setRadius(i);
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()), this.options.snappable) {
      let i = t;
      i.target = this._hintMarker, this._handleSnapping(i);
    }
    this._handleHintMarkerSnapping();
    let e = this._layerGroup && this._layerGroup.hasLayer(this._centerMarker) ? this._centerMarker.getLatLng() : this._hintMarker.getLatLng();
    this._fireChange(e, "Draw");
  }, isRelevantMarker(t) {
    return t instanceof L.CircleMarker && !(t instanceof L.Circle) && t.pm && !t._pmTempLayer;
  }, _createMarker(t) {
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer() || !t.latlng || this._layerIsDragging)
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng(), i = new this._BaseCircleClass(e, { radius: this._defaultRadius, ...this.options.pathOptions });
    this._setPane(i, "layerPane"), this._finishLayer(i), i.addTo(this._map.pm._getContainingLayer()), this._extendingCreateMarker(i), this._fireCreate(i), this._cleanupSnapping(), this.options.continueDrawing || this.disable();
  }, _extendingCreateMarker(t) {
    t.pm && this.options.markerEditable && t.pm.enable();
  }, _finishShape(t) {
    if (this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._centerMarker.getLatLng(), i = this._defaultRadius;
    if (this.options[this._editableOption]) {
      let s = this._hintMarker.getLatLng();
      i = this._distanceCalculation(e, s), this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? i = this.options[this._minRadiusOption] : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (i = this.options[this._maxRadiusOption]);
    }
    let r = { ...this.options.pathOptions, radius: i }, n = new this._BaseCircleClass(e, r);
    this._setPane(n, "layerPane"), this._finishLayer(n), n.addTo(this._map.pm._getContainingLayer()), n.pm && n.pm._updateHiddenPolyCircle(), this._fireCreate(n), this.disable(), this.options.continueDrawing && this.enable();
  }, _getNewDestinationOfHintMarker() {
    let t = this._hintMarker.getLatLng();
    if (this.options[this._editableOption]) {
      if (!this._layerGroup.hasLayer(this._centerMarker))
        return t;
      let e = this._centerMarker.getLatLng(), i = this._distanceCalculation(e, t);
      this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? t = te(this._map, e, t, this._getMinDistanceInMeter()) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (t = te(this._map, e, t, this._getMaxDistanceInMeter()));
    }
    return t;
  }, _getMinDistanceInMeter() {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption], this._map, this._centerMarker.getLatLng());
  }, _getMaxDistanceInMeter() {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption], this._map, this._centerMarker.getLatLng());
  }, _handleHintMarkerSnapping() {
    if (this.options[this._editableOption]) {
      if (this._hintMarker._snapped) {
        let t = this._centerMarker.getLatLng(), e = this._hintMarker.getLatLng(), i = this._distanceCalculation(t, e);
        this._layerGroup.hasLayer(this._centerMarker) && (this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._hintMarker.setLatLng(this._hintMarker._orgLatLng) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && this._hintMarker.setLatLng(this._hintMarker._orgLatLng));
      }
      this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker());
    }
  }, setStyle() {
    let t = {};
    L.extend(t, this.options.templineStyle), this.options[this._editableOption] && (t.radius = 0), this._layer?.setStyle(t), this._hintline?.setStyle(this.options.hintlineStyle);
  }, _distanceCalculation(t, e) {
    return this._map.project(t).distanceTo(this._map.project(e));
  } });
  X.Circle = X.CircleMarker.extend({ initialize(t) {
    this._map = t, this._shape = "Circle", this.toolbarButtonName = "drawCircle", this._BaseCircleClass = L.Circle, this._minRadiusOption = "minRadiusCircle", this._maxRadiusOption = "maxRadiusCircle", this._editableOption = "resizableCircle", this._defaultRadius = 100;
  }, _extendingEnable() {
  }, _extendingDisable() {
  }, _extendingCreateMarker() {
  }, isRelevantMarker() {
  }, _getMinDistanceInMeter() {
    return this.options[this._minRadiusOption];
  }, _getMaxDistanceInMeter() {
    return this.options[this._maxRadiusOption];
  }, _distanceCalculation(t, e) {
    return this._map.distance(t, e);
  } });
  function rt(t) {
    if (!t)
      throw new Error("coord is required");
    if (!Array.isArray(t)) {
      if (t.type === "Feature" && t.geometry !== null && t.geometry.type === "Point")
        return t.geometry.coordinates;
      if (t.type === "Point")
        return t.coordinates;
    }
    if (Array.isArray(t) && t.length >= 2 && !Array.isArray(t[0]) && !Array.isArray(t[1]))
      return t;
    throw new Error("coord must be GeoJSON Point or an Array of numbers");
  }
  function ot(t) {
    if (Array.isArray(t))
      return t;
    if (t.type === "Feature") {
      if (t.geometry !== null)
        return t.geometry.coordinates;
    } else if (t.coordinates)
      return t.coordinates;
    throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array");
  }
  function ee(t) {
    return t.type === "Feature" ? t.geometry : t;
  }
  function Bi(t, e) {
    return t.type === "FeatureCollection" ? "FeatureCollection" : t.type === "GeometryCollection" ? "GeometryCollection" : t.type === "Feature" && t.geometry !== null ? t.geometry.type : t.type;
  }
  function xe(t, e, i) {
    if (t !== null)
      for (var r, n, s, a, o, l, u, f = 0, d = 0, P, E = t.type, T = E === "FeatureCollection", G = E === "Feature", _ = T ? t.features.length : 1, x = 0; x < _; x++) {
        u = T ? t.features[x].geometry : G ? t.geometry : t, P = u ? u.type === "GeometryCollection" : false, o = P ? u.geometries.length : 1;
        for (var b = 0; b < o; b++) {
          var R = 0, D = 0;
          if (a = P ? u.geometries[b] : u, a !== null) {
            l = a.coordinates;
            var O = a.type;
            switch (f = i && (O === "Polygon" || O === "MultiPolygon") ? 1 : 0, O) {
              case null:
                break;
              case "Point":
                if (e(l, d, x, R, D) === false)
                  return false;
                d++, R++;
                break;
              case "LineString":
              case "MultiPoint":
                for (r = 0; r < l.length; r++) {
                  if (e(l[r], d, x, R, D) === false)
                    return false;
                  d++, O === "MultiPoint" && R++;
                }
                O === "LineString" && R++;
                break;
              case "Polygon":
              case "MultiLineString":
                for (r = 0; r < l.length; r++) {
                  for (n = 0; n < l[r].length - f; n++) {
                    if (e(l[r][n], d, x, R, D) === false)
                      return false;
                    d++;
                  }
                  O === "MultiLineString" && R++, O === "Polygon" && D++;
                }
                O === "Polygon" && R++;
                break;
              case "MultiPolygon":
                for (r = 0; r < l.length; r++) {
                  for (D = 0, n = 0; n < l[r].length; n++) {
                    for (s = 0; s < l[r][n].length - f; s++) {
                      if (e(l[r][n][s], d, x, R, D) === false)
                        return false;
                      d++;
                    }
                    D++;
                  }
                  R++;
                }
                break;
              case "GeometryCollection":
                for (r = 0; r < a.geometries.length; r++)
                  if (xe(a.geometries[r], e, i) === false)
                    return false;
                break;
              default:
                throw new Error("Unknown Geometry Type");
            }
          }
        }
      }
  }
  function Ft(t, e) {
    if (t.type === "Feature")
      e(t, 0);
    else if (t.type === "FeatureCollection")
      for (var i = 0; i < t.features.length && e(t.features[i], i) !== false; i++)
        ;
  }
  function Wo(t, e, i) {
    var r = i;
    return Ft(t, function(n, s) {
      s === 0 && i === void 0 ? r = n : r = e(r, n, s);
    }), r;
  }
  function fm(t, e) {
    var i, r, n, s, a, o, l, u, f, d, P = 0, E = t.type === "FeatureCollection", T = t.type === "Feature", G = E ? t.features.length : 1;
    for (i = 0; i < G; i++) {
      for (o = E ? t.features[i].geometry : T ? t.geometry : t, u = E ? t.features[i].properties : T ? t.properties : {}, f = E ? t.features[i].bbox : T ? t.bbox : void 0, d = E ? t.features[i].id : T ? t.id : void 0, l = o ? o.type === "GeometryCollection" : false, a = l ? o.geometries.length : 1, n = 0; n < a; n++) {
        if (s = l ? o.geometries[n] : o, s === null) {
          if (e(null, P, u, f, d) === false)
            return false;
          continue;
        }
        switch (s.type) {
          case "Point":
          case "LineString":
          case "MultiPoint":
          case "Polygon":
          case "MultiLineString":
          case "MultiPolygon": {
            if (e(s, P, u, f, d) === false)
              return false;
            break;
          }
          case "GeometryCollection": {
            for (r = 0; r < s.geometries.length; r++)
              if (e(s.geometries[r], P, u, f, d) === false)
                return false;
            break;
          }
          default:
            throw new Error("Unknown Geometry Type");
        }
      }
      P++;
    }
  }
  function ie(t, e) {
    fm(t, function(i, r, n, s, a) {
      var o = i === null ? null : i.type;
      switch (o) {
        case null:
        case "Point":
        case "LineString":
        case "Polygon":
          return e(Dt(i, n, { bbox: s, id: a }), r, 0) === false ? false : void 0;
      }
      var l;
      switch (o) {
        case "MultiPoint":
          l = "Point";
          break;
        case "MultiLineString":
          l = "LineString";
          break;
        case "MultiPolygon":
          l = "Polygon";
          break;
      }
      for (var u = 0; u < i.coordinates.length; u++) {
        var f = i.coordinates[u], d = { type: l, coordinates: f };
        if (e(Dt(d, n), r, u) === false)
          return false;
      }
    });
  }
  function dm(t) {
    if (!t)
      throw new Error("geojson is required");
    var e = [];
    return ie(t, function(i) {
      gm(i, e);
    }), yt(e);
  }
  function gm(t, e) {
    var i = [], r = t.geometry;
    if (r !== null) {
      switch (r.type) {
        case "Polygon":
          i = ot(r);
          break;
        case "LineString":
          i = [ot(r)];
      }
      i.forEach(function(n) {
        var s = mm(n, t.properties);
        s.forEach(function(a) {
          a.id = e.length, e.push(a);
        });
      });
    }
  }
  function mm(t, e) {
    var i = [];
    return t.reduce(function(r, n) {
      var s = wt([r, n], e);
      return s.bbox = _m(r, n), i.push(s), n;
    }), i;
  }
  function _m(t, e) {
    var i = t[0], r = t[1], n = e[0], s = e[1], a = i < n ? i : n, o = r < s ? r : s, l = i > n ? i : n, u = r > s ? r : s;
    return [a, o, l, u];
  }
  var we = dm;
  var gl = xt(Ui(), 1);
  function jm(t, e) {
    var i = {}, r = [];
    if (t.type === "LineString" && (t = Dt(t)), e.type === "LineString" && (e = Dt(e)), t.type === "Feature" && e.type === "Feature" && t.geometry !== null && e.geometry !== null && t.geometry.type === "LineString" && e.geometry.type === "LineString" && t.geometry.coordinates.length === 2 && e.geometry.coordinates.length === 2) {
      var n = dl(t, e);
      return n && r.push(n), yt(r);
    }
    var s = (0, gl.default)();
    return s.load(we(e)), Ft(we(t), function(a) {
      Ft(s.search(a), function(o) {
        var l = dl(a, o);
        if (l) {
          var u = ot(l).join(",");
          i[u] || (i[u] = true, r.push(l));
        }
      });
    }), yt(r);
  }
  function dl(t, e) {
    var i = ot(t), r = ot(e);
    if (i.length !== 2)
      throw new Error("<intersects> line1 must only contain 2 coordinates");
    if (r.length !== 2)
      throw new Error("<intersects> line2 must only contain 2 coordinates");
    var n = i[0][0], s = i[0][1], a = i[1][0], o = i[1][1], l = r[0][0], u = r[0][1], f = r[1][0], d = r[1][1], P = (d - u) * (a - n) - (f - l) * (o - s), E = (f - l) * (s - u) - (d - u) * (n - l), T = (a - n) * (s - u) - (o - s) * (n - l);
    if (P === 0)
      return null;
    var G = E / P, _ = T / P;
    if (G >= 0 && G <= 1 && _ >= 0 && _ <= 1) {
      var x = n + G * (a - n), b = s + G * (o - s);
      return _t([x, b]);
    }
    return null;
  }
  var pt = jm;
  var Xi = xt(Ui(), 1);
  function Km(t, e, i) {
    i === void 0 && (i = {});
    var r = rt(t), n = rt(e), s = lt(n[1] - r[1]), a = lt(n[0] - r[0]), o = lt(r[1]), l = lt(n[1]), u = Math.pow(Math.sin(s / 2), 2) + Math.pow(Math.sin(a / 2), 2) * Math.cos(o) * Math.cos(l);
    return $o(2 * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u)), i.units);
  }
  var Ct = Km;
  function Hm(t) {
    var e = t[0], i = t[1], r = t[2], n = t[3], s = Ct(t.slice(0, 2), [r, i]), a = Ct(t.slice(0, 2), [e, n]);
    if (s >= a) {
      var o = (i + n) / 2;
      return [e, o - (r - e) / 2, r, o + (r - e) / 2];
    } else {
      var l = (e + r) / 2;
      return [l - (n - i) / 2, i, l + (n - i) / 2, n];
    }
  }
  var ml = Hm;
  function ji(t) {
    var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
    return xe(t, function(i) {
      e[0] > i[0] && (e[0] = i[0]), e[1] > i[1] && (e[1] = i[1]), e[2] < i[0] && (e[2] = i[0]), e[3] < i[1] && (e[3] = i[1]);
    }), e;
  }
  ji.default = ji;
  var Vt = ji;
  function Xm(t, e) {
    e === void 0 && (e = {});
    var i = e.precision, r = e.coordinates, n = e.mutate;
    if (i = i == null || isNaN(i) ? 6 : i, r = r == null || isNaN(r) ? 3 : r, !t)
      throw new Error("<geojson> is required");
    if (typeof i != "number")
      throw new Error("<precision> must be a number");
    if (typeof r != "number")
      throw new Error("<coordinates> must be a number");
    (n === false || n === void 0) && (t = JSON.parse(JSON.stringify(t)));
    var s = Math.pow(10, i);
    return xe(t, function(a) {
      Ym(a, s, r);
    }), t;
  }
  function Ym(t, e, i) {
    t.length > i && t.splice(i, t.length);
    for (var r = 0; r < t.length; r++)
      t[r] = Math.round(t[r] * e) / e;
    return t;
  }
  var _l = Xm;
  function Ke(t, e, i) {
    if (i === void 0 && (i = {}), i.final === true)
      return Jm(t, e);
    var r = rt(t), n = rt(e), s = lt(r[0]), a = lt(n[0]), o = lt(r[1]), l = lt(n[1]), u = Math.sin(a - s) * Math.cos(l), f = Math.cos(o) * Math.sin(l) - Math.sin(o) * Math.cos(l) * Math.cos(a - s);
    return Me(Math.atan2(u, f));
  }
  function Jm(t, e) {
    var i = Ke(e, t);
    return i = (i + 180) % 360, i;
  }
  function He(t, e, i, r) {
    r === void 0 && (r = {});
    var n = rt(t), s = lt(n[0]), a = lt(n[1]), o = lt(i), l = Zo(e, r.units), u = Math.asin(Math.sin(a) * Math.cos(l) + Math.cos(a) * Math.sin(l) * Math.cos(o)), f = s + Math.atan2(Math.sin(o) * Math.sin(l) * Math.cos(a), Math.cos(l) - Math.sin(a) * Math.sin(u)), d = Me(f), P = Me(u);
    return _t([d, P], r.properties);
  }
  function $m(t, e, i) {
    i === void 0 && (i = {});
    var r = _t([1 / 0, 1 / 0], { dist: 1 / 0 }), n = 0;
    return ie(t, function(s) {
      for (var a = ot(s), o = 0; o < a.length - 1; o++) {
        var l = _t(a[o]);
        l.properties.dist = Ct(e, l, i);
        var u = _t(a[o + 1]);
        u.properties.dist = Ct(e, u, i);
        var f = Ct(l, u, i), d = Math.max(l.properties.dist, u.properties.dist), P = Ke(l, u), E = He(e, d, P + 90, i), T = He(e, d, P - 90, i), G = pt(wt([E.geometry.coordinates, T.geometry.coordinates]), wt([l.geometry.coordinates, u.geometry.coordinates])), _ = null;
        G.features.length > 0 && (_ = G.features[0], _.properties.dist = Ct(e, _, i), _.properties.location = n + Ct(l, _, i)), l.properties.dist < r.properties.dist && (r = l, r.properties.index = o, r.properties.location = n), u.properties.dist < r.properties.dist && (r = u, r.properties.index = o + 1, r.properties.location = n + f), _ && _.properties.dist < r.properties.dist && (r = _, r.properties.index = o), n += f;
      }
    }), r;
  }
  var yl = $m;
  function Zm(t, e) {
    if (!t)
      throw new Error("line is required");
    if (!e)
      throw new Error("splitter is required");
    var i = Bi(t), r = Bi(e);
    if (i !== "LineString")
      throw new Error("line must be LineString");
    if (r === "FeatureCollection")
      throw new Error("splitter cannot be a FeatureCollection");
    if (r === "GeometryCollection")
      throw new Error("splitter cannot be a GeometryCollection");
    var n = _l(e, { precision: 7 });
    switch (r) {
      case "Point":
        return Hi(t, n);
      case "MultiPoint":
        return Ll(t, n);
      case "LineString":
      case "MultiLineString":
      case "Polygon":
      case "MultiPolygon":
        return Ll(t, pt(t, n));
    }
  }
  function Ll(t, e) {
    var i = [], r = (0, Xi.default)();
    return ie(e, function(n) {
      if (i.forEach(function(o, l) {
        o.id = l;
      }), !i.length)
        i = Hi(t, n).features, i.forEach(function(o) {
          o.bbox || (o.bbox = ml(Vt(o)));
        }), r.load(yt(i));
      else {
        var s = r.search(n);
        if (s.features.length) {
          var a = bl(n, s);
          i = i.filter(function(o) {
            return o.id !== a.id;
          }), r.remove(a), Ft(Hi(a, n), function(o) {
            i.push(o), r.insert(o);
          });
        }
      }
    }), yt(i);
  }
  function Hi(t, e) {
    var i = [], r = ot(t)[0], n = ot(t)[t.geometry.coordinates.length - 1];
    if (Ki(r, rt(e)) || Ki(n, rt(e)))
      return yt([t]);
    var s = (0, Xi.default)(), a = we(t);
    s.load(a);
    var o = s.search(e);
    if (!o.features.length)
      return yt([t]);
    var l = bl(e, o), u = [r], f = Wo(a, function(d, P, E) {
      var T = ot(P)[1], G = rt(e);
      return E === l.id ? (d.push(G), i.push(wt(d)), Ki(G, T) ? [G] : [G, T]) : (d.push(T), d);
    }, u);
    return f.length > 1 && i.push(wt(f)), yt(i);
  }
  function bl(t, e) {
    if (!e.features.length)
      throw new Error("lines must contain features");
    if (e.features.length === 1)
      return e.features[0];
    var i, r = 1 / 0;
    return Ft(e, function(n) {
      var s = yl(n, t), a = s.properties.dist;
      a < r && (i = n, r = a);
    }), i;
  }
  function Ki(t, e) {
    return t[0] === e[0] && t[1] === e[1];
  }
  var vl = Zm;
  function ne(t, e, i) {
    if (i === void 0 && (i = {}), !t)
      throw new Error("point is required");
    if (!e)
      throw new Error("polygon is required");
    var r = rt(t), n = ee(e), s = n.type, a = e.bbox, o = n.coordinates;
    if (a && Wm(r, a) === false)
      return false;
    s === "Polygon" && (o = [o]);
    for (var l = false, u = 0; u < o.length && !l; u++)
      if (kl(r, o[u][0], i.ignoreBoundary)) {
        for (var f = false, d = 1; d < o[u].length && !f; )
          kl(r, o[u][d], !i.ignoreBoundary) && (f = true), d++;
        f || (l = true);
      }
    return l;
  }
  function kl(t, e, i) {
    var r = false;
    e[0][0] === e[e.length - 1][0] && e[0][1] === e[e.length - 1][1] && (e = e.slice(0, e.length - 1));
    for (var n = 0, s = e.length - 1; n < e.length; s = n++) {
      var a = e[n][0], o = e[n][1], l = e[s][0], u = e[s][1], f = t[1] * (a - l) + o * (l - t[0]) + u * (t[0] - a) === 0 && (a - t[0]) * (l - t[0]) <= 0 && (o - t[1]) * (u - t[1]) <= 0;
      if (f)
        return !i;
      var d = o > t[1] != u > t[1] && t[0] < (l - a) * (t[1] - o) / (u - o) + a;
      d && (r = !r);
    }
    return r;
  }
  function Wm(t, e) {
    return e[0] <= t[0] && e[1] <= t[1] && e[2] >= t[0] && e[3] >= t[1];
  }
  function Qm(t, e, i) {
    i === void 0 && (i = {});
    for (var r = rt(t), n = ot(e), s = 0; s < n.length - 1; s++) {
      var a = false;
      if (i.ignoreEndVertices && (s === 0 && (a = "start"), s === n.length - 2 && (a = "end"), s === 0 && s + 1 === n.length - 1 && (a = "both")), t_(n[s], n[s + 1], r, a, typeof i.epsilon > "u" ? null : i.epsilon))
        return true;
    }
    return false;
  }
  function t_(t, e, i, r, n) {
    var s = i[0], a = i[1], o = t[0], l = t[1], u = e[0], f = e[1], d = i[0] - o, P = i[1] - l, E = u - o, T = f - l, G = d * T - P * E;
    if (n !== null) {
      if (Math.abs(G) > n)
        return false;
    } else if (G !== 0)
      return false;
    if (r) {
      if (r === "start")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o < s && s <= u : u <= s && s < o : T > 0 ? l < a && a <= f : f <= a && a < l;
      if (r === "end")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o <= s && s < u : u < s && s <= o : T > 0 ? l <= a && a < f : f < a && a <= l;
      if (r === "both")
        return Math.abs(E) >= Math.abs(T) ? E > 0 ? o < s && s < u : u < s && s < o : T > 0 ? l < a && a < f : f < a && a < l;
    } else
      return Math.abs(E) >= Math.abs(T) ? E > 0 ? o <= s && s <= u : u <= s && s <= o : T > 0 ? l <= a && a <= f : f <= a && a <= l;
    return false;
  }
  var se = Qm;
  function Yi(t, e) {
    var i = ee(t), r = ee(e), n = i.type, s = r.type, a = i.coordinates, o = r.coordinates;
    switch (n) {
      case "Point":
        switch (s) {
          case "Point":
            return Ji(a, o);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "MultiPoint":
        switch (s) {
          case "Point":
            return e_(i, r);
          case "MultiPoint":
            return i_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "LineString":
        switch (s) {
          case "Point":
            return se(r, i, { ignoreEndVertices: true });
          case "LineString":
            return s_(i, r);
          case "MultiPoint":
            return r_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      case "Polygon":
        switch (s) {
          case "Point":
            return ne(r, i, { ignoreBoundary: true });
          case "LineString":
            return a_(i, r);
          case "Polygon":
            return o_(i, r);
          case "MultiPoint":
            return n_(i, r);
          default:
            throw new Error("feature2 " + s + " geometry not supported");
        }
      default:
        throw new Error("feature1 " + n + " geometry not supported");
    }
  }
  function e_(t, e) {
    var i, r = false;
    for (i = 0; i < t.coordinates.length; i++)
      if (Ji(t.coordinates[i], e.coordinates)) {
        r = true;
        break;
      }
    return r;
  }
  function i_(t, e) {
    for (var i = 0, r = e.coordinates; i < r.length; i++) {
      for (var n = r[i], s = false, a = 0, o = t.coordinates; a < o.length; a++) {
        var l = o[a];
        if (Ji(n, l)) {
          s = true;
          break;
        }
      }
      if (!s)
        return false;
    }
    return true;
  }
  function r_(t, e) {
    for (var i = false, r = 0, n = e.coordinates; r < n.length; r++) {
      var s = n[r];
      if (se(s, t, { ignoreEndVertices: true }) && (i = true), !se(s, t))
        return false;
    }
    return !!i;
  }
  function n_(t, e) {
    for (var i = 0, r = e.coordinates; i < r.length; i++) {
      var n = r[i];
      if (!ne(n, t, { ignoreBoundary: true }))
        return false;
    }
    return true;
  }
  function s_(t, e) {
    for (var i = false, r = 0, n = e.coordinates; r < n.length; r++) {
      var s = n[r];
      if (se({ type: "Point", coordinates: s }, t, { ignoreEndVertices: true }) && (i = true), !se({ type: "Point", coordinates: s }, t, { ignoreEndVertices: false }))
        return false;
    }
    return i;
  }
  function a_(t, e) {
    var i = false, r = 0, n = Vt(t), s = Vt(e);
    if (!Ml(n, s))
      return false;
    for (r; r < e.coordinates.length - 1; r++) {
      var a = l_(e.coordinates[r], e.coordinates[r + 1]);
      if (ne({ type: "Point", coordinates: a }, t, { ignoreBoundary: true })) {
        i = true;
        break;
      }
    }
    return i;
  }
  function o_(t, e) {
    if (t.type === "Feature" && t.geometry === null || e.type === "Feature" && e.geometry === null)
      return false;
    var i = Vt(t), r = Vt(e);
    if (!Ml(i, r))
      return false;
    for (var n = ee(e).coordinates, s = 0, a = n; s < a.length; s++)
      for (var o = a[s], l = 0, u = o; l < u.length; l++) {
        var f = u[l];
        if (!ne(f, t))
          return false;
      }
    return true;
  }
  function Ml(t, e) {
    return !(t[0] > e[0] || t[2] < e[2] || t[1] > e[1] || t[3] < e[3]);
  }
  function Ji(t, e) {
    return t[0] === e[0] && t[1] === e[1];
  }
  function l_(t, e) {
    return [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2];
  }
  var Kl = xt(Le());
  var Xe = (t) => () => t;
  var Ee = (t) => {
    let e = t ? (i, r) => r.minus(i).abs().isLessThanOrEqualTo(t) : Xe(false);
    return (i, r) => e(i, r) ? 0 : i.comparedTo(r);
  };
  function xl(t) {
    let e = t ? (i, r, n, s, a) => i.exponentiatedBy(2).isLessThanOrEqualTo(s.minus(r).exponentiatedBy(2).plus(a.minus(n).exponentiatedBy(2)).times(t)) : Xe(false);
    return (i, r, n) => {
      let s = i.x, a = i.y, o = n.x, l = n.y, u = a.minus(l).times(r.x.minus(o)).minus(s.minus(o).times(r.y.minus(l)));
      return e(u, s, a, o, l) ? 0 : u.comparedTo(0);
    };
  }
  var h_ = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i, $i = Math.ceil, dt = Math.floor, ht = "[BigNumber Error] ", wl = ht + "Number primitive has more than 15 significant digits: ", Lt = 1e14, F = 14, Zi = 9007199254740991, Wi = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13], At = 1e7, tt = 1e9;
  function Cl(t) {
    var e, i, r, n = b.prototype = { constructor: b, toString: null, valueOf: null }, s = new b(1), a = 20, o = 4, l = -7, u = 21, f = -1e7, d = 1e7, P = false, E = 1, T = 0, G = { prefix: "", groupSize: 3, secondaryGroupSize: 0, groupSeparator: ",", decimalSeparator: ".", fractionGroupSize: 0, fractionGroupSeparator: "\xA0", suffix: "" }, _ = "0123456789abcdefghijklmnopqrstuvwxyz", x = true;
    function b(h, c) {
      var p, y, g, k, C, m, v, w, M = this;
      if (!(M instanceof b))
        return new b(h, c);
      if (c == null) {
        if (h && h._isBigNumber === true) {
          M.s = h.s, !h.c || h.e > d ? M.c = M.e = null : h.e < f ? M.c = [M.e = 0] : (M.e = h.e, M.c = h.c.slice());
          return;
        }
        if ((m = typeof h == "number") && h * 0 == 0) {
          if (M.s = 1 / h < 0 ? (h = -h, -1) : 1, h === ~~h) {
            for (k = 0, C = h; C >= 10; C /= 10, k++)
              ;
            k > d ? M.c = M.e = null : (M.e = k, M.c = [h]);
            return;
          }
          w = String(h);
        } else {
          if (!h_.test(w = String(h)))
            return r(M, w, m);
          M.s = w.charCodeAt(0) == 45 ? (w = w.slice(1), -1) : 1;
        }
        (k = w.indexOf(".")) > -1 && (w = w.replace(".", "")), (C = w.search(/e/i)) > 0 ? (k < 0 && (k = C), k += +w.slice(C + 1), w = w.substring(0, C)) : k < 0 && (k = w.length);
      } else {
        if (J(c, 2, _.length, "Base"), c == 10 && x)
          return M = new b(h), A(M, a + M.e + 1, o);
        if (w = String(h), m = typeof h == "number") {
          if (h * 0 != 0)
            return r(M, w, m, c);
          if (M.s = 1 / h < 0 ? (w = w.slice(1), -1) : 1, b.DEBUG && w.replace(/^0\.0*|\./, "").length > 15)
            throw Error(wl + h);
        } else
          M.s = w.charCodeAt(0) === 45 ? (w = w.slice(1), -1) : 1;
        for (p = _.slice(0, c), k = C = 0, v = w.length; C < v; C++)
          if (p.indexOf(y = w.charAt(C)) < 0) {
            if (y == ".") {
              if (C > k) {
                k = v;
                continue;
              }
            } else if (!g && (w == w.toUpperCase() && (w = w.toLowerCase()) || w == w.toLowerCase() && (w = w.toUpperCase()))) {
              g = true, C = -1, k = 0;
              continue;
            }
            return r(M, String(h), m, c);
          }
        m = false, w = i(w, c, 10, M.s), (k = w.indexOf(".")) > -1 ? w = w.replace(".", "") : k = w.length;
      }
      for (C = 0; w.charCodeAt(C) === 48; C++)
        ;
      for (v = w.length; w.charCodeAt(--v) === 48; )
        ;
      if (w = w.slice(C, ++v)) {
        if (v -= C, m && b.DEBUG && v > 15 && (h > Zi || h !== dt(h)))
          throw Error(wl + M.s * h);
        if ((k = k - C - 1) > d)
          M.c = M.e = null;
        else if (k < f)
          M.c = [M.e = 0];
        else {
          if (M.e = k, M.c = [], C = (k + 1) % F, k < 0 && (C += F), C < v) {
            for (C && M.c.push(+w.slice(0, C)), v -= F; C < v; )
              M.c.push(+w.slice(C, C += F));
            C = F - (w = w.slice(C)).length;
          } else
            C -= v;
          for (; C--; w += "0")
            ;
          M.c.push(+w);
        }
      } else
        M.c = [M.e = 0];
    }
    b.clone = Cl, b.ROUND_UP = 0, b.ROUND_DOWN = 1, b.ROUND_CEIL = 2, b.ROUND_FLOOR = 3, b.ROUND_HALF_UP = 4, b.ROUND_HALF_DOWN = 5, b.ROUND_HALF_EVEN = 6, b.ROUND_HALF_CEIL = 7, b.ROUND_HALF_FLOOR = 8, b.EUCLID = 9, b.config = b.set = function(h) {
      var c, p;
      if (h != null)
        if (typeof h == "object") {
          if (h.hasOwnProperty(c = "DECIMAL_PLACES") && (p = h[c], J(p, 0, tt, c), a = p), h.hasOwnProperty(c = "ROUNDING_MODE") && (p = h[c], J(p, 0, 8, c), o = p), h.hasOwnProperty(c = "EXPONENTIAL_AT") && (p = h[c], p && p.pop ? (J(p[0], -tt, 0, c), J(p[1], 0, tt, c), l = p[0], u = p[1]) : (J(p, -tt, tt, c), l = -(u = p < 0 ? -p : p))), h.hasOwnProperty(c = "RANGE"))
            if (p = h[c], p && p.pop)
              J(p[0], -tt, -1, c), J(p[1], 1, tt, c), f = p[0], d = p[1];
            else if (J(p, -tt, tt, c), p)
              f = -(d = p < 0 ? -p : p);
            else
              throw Error(ht + c + " cannot be zero: " + p);
          if (h.hasOwnProperty(c = "CRYPTO"))
            if (p = h[c], p === !!p)
              if (p)
                if (typeof crypto < "u" && crypto && (crypto.getRandomValues || crypto.randomBytes))
                  P = p;
                else
                  throw P = !p, Error(ht + "crypto unavailable");
              else
                P = p;
            else
              throw Error(ht + c + " not true or false: " + p);
          if (h.hasOwnProperty(c = "MODULO_MODE") && (p = h[c], J(p, 0, 9, c), E = p), h.hasOwnProperty(c = "POW_PRECISION") && (p = h[c], J(p, 0, tt, c), T = p), h.hasOwnProperty(c = "FORMAT"))
            if (p = h[c], typeof p == "object")
              G = p;
            else
              throw Error(ht + c + " not an object: " + p);
          if (h.hasOwnProperty(c = "ALPHABET"))
            if (p = h[c], typeof p == "string" && !/^.?$|[+\-.\s]|(.).*\1/.test(p))
              x = p.slice(0, 10) == "0123456789", _ = p;
            else
              throw Error(ht + c + " invalid: " + p);
        } else
          throw Error(ht + "Object expected: " + h);
      return { DECIMAL_PLACES: a, ROUNDING_MODE: o, EXPONENTIAL_AT: [l, u], RANGE: [f, d], CRYPTO: P, MODULO_MODE: E, POW_PRECISION: T, FORMAT: G, ALPHABET: _ };
    }, b.isBigNumber = function(h) {
      if (!h || h._isBigNumber !== true)
        return false;
      if (!b.DEBUG)
        return true;
      var c, p, y = h.c, g = h.e, k = h.s;
      t:
        if ({}.toString.call(y) == "[object Array]") {
          if ((k === 1 || k === -1) && g >= -tt && g <= tt && g === dt(g)) {
            if (y[0] === 0) {
              if (g === 0 && y.length === 1)
                return true;
              break t;
            }
            if (c = (g + 1) % F, c < 1 && (c += F), String(y[0]).length == c) {
              for (c = 0; c < y.length; c++)
                if (p = y[c], p < 0 || p >= Lt || p !== dt(p))
                  break t;
              if (p !== 0)
                return true;
            }
          }
        } else if (y === null && g === null && (k === null || k === 1 || k === -1))
          return true;
      throw Error(ht + "Invalid BigNumber: " + h);
    }, b.maximum = b.max = function() {
      return D(arguments, -1);
    }, b.minimum = b.min = function() {
      return D(arguments, 1);
    }, b.random = function() {
      var h = 9007199254740992, c = Math.random() * h & 2097151 ? function() {
        return dt(Math.random() * h);
      } : function() {
        return (Math.random() * 1073741824 | 0) * 8388608 + (Math.random() * 8388608 | 0);
      };
      return function(p) {
        var y, g, k, C, m, v = 0, w = [], M = new b(s);
        if (p == null ? p = a : J(p, 0, tt), C = $i(p / F), P)
          if (crypto.getRandomValues) {
            for (y = crypto.getRandomValues(new Uint32Array(C *= 2)); v < C; )
              m = y[v] * 131072 + (y[v + 1] >>> 11), m >= 9e15 ? (g = crypto.getRandomValues(new Uint32Array(2)), y[v] = g[0], y[v + 1] = g[1]) : (w.push(m % 1e14), v += 2);
            v = C / 2;
          } else if (crypto.randomBytes) {
            for (y = crypto.randomBytes(C *= 7); v < C; )
              m = (y[v] & 31) * 281474976710656 + y[v + 1] * 1099511627776 + y[v + 2] * 4294967296 + y[v + 3] * 16777216 + (y[v + 4] << 16) + (y[v + 5] << 8) + y[v + 6], m >= 9e15 ? crypto.randomBytes(7).copy(y, v) : (w.push(m % 1e14), v += 7);
            v = C / 7;
          } else
            throw P = false, Error(ht + "crypto unavailable");
        if (!P)
          for (; v < C; )
            m = c(), m < 9e15 && (w[v++] = m % 1e14);
        for (C = w[--v], p %= F, C && p && (m = Wi[F - p], w[v] = dt(C / m) * m); w[v] === 0; w.pop(), v--)
          ;
        if (v < 0)
          w = [k = 0];
        else {
          for (k = -1; w[0] === 0; w.splice(0, 1), k -= F)
            ;
          for (v = 1, m = w[0]; m >= 10; m /= 10, v++)
            ;
          v < F && (k -= F - v);
        }
        return M.e = k, M.c = w, M;
      };
    }(), b.sum = function() {
      for (var h = 1, c = arguments, p = new b(c[0]); h < c.length; )
        p = p.plus(c[h++]);
      return p;
    }, i = /* @__PURE__ */ function() {
      var h = "0123456789";
      function c(p, y, g, k) {
        for (var C, m = [0], v, w = 0, M = p.length; w < M; ) {
          for (v = m.length; v--; m[v] *= y)
            ;
          for (m[0] += k.indexOf(p.charAt(w++)), C = 0; C < m.length; C++)
            m[C] > g - 1 && (m[C + 1] == null && (m[C + 1] = 0), m[C + 1] += m[C] / g | 0, m[C] %= g);
        }
        return m.reverse();
      }
      return function(p, y, g, k, C) {
        var m, v, w, M, B, I, N, j, $ = p.indexOf("."), W = a, U = o;
        for ($ >= 0 && (M = T, T = 0, p = p.replace(".", ""), j = new b(y), I = j.pow(p.length - $), T = M, j.c = c(Et(ft(I.c), I.e, "0"), 10, g, h), j.e = j.c.length), N = c(p, y, g, C ? (m = _, h) : (m = h, _)), w = M = N.length; N[--M] == 0; N.pop())
          ;
        if (!N[0])
          return m.charAt(0);
        if ($ < 0 ? --w : (I.c = N, I.e = w, I.s = k, I = e(I, j, W, U, g), N = I.c, B = I.r, w = I.e), v = w + W + 1, $ = N[v], M = g / 2, B = B || v < 0 || N[v + 1] != null, B = U < 4 ? ($ != null || B) && (U == 0 || U == (I.s < 0 ? 3 : 2)) : $ > M || $ == M && (U == 4 || B || U == 6 && N[v - 1] & 1 || U == (I.s < 0 ? 8 : 7)), v < 1 || !N[0])
          p = B ? Et(m.charAt(1), -W, m.charAt(0)) : m.charAt(0);
        else {
          if (N.length = v, B)
            for (--g; ++N[--v] > g; )
              N[v] = 0, v || (++w, N = [1].concat(N));
          for (M = N.length; !N[--M]; )
            ;
          for ($ = 0, p = ""; $ <= M; p += m.charAt(N[$++]))
            ;
          p = Et(p, w, m.charAt(0));
        }
        return p;
      };
    }(), e = /* @__PURE__ */ function() {
      function h(y, g, k) {
        var C, m, v, w, M = 0, B = y.length, I = g % At, N = g / At | 0;
        for (y = y.slice(); B--; )
          v = y[B] % At, w = y[B] / At | 0, C = N * v + w * I, m = I * v + C % At * At + M, M = (m / k | 0) + (C / At | 0) + N * w, y[B] = m % k;
        return M && (y = [M].concat(y)), y;
      }
      function c(y, g, k, C) {
        var m, v;
        if (k != C)
          v = k > C ? 1 : -1;
        else
          for (m = v = 0; m < k; m++)
            if (y[m] != g[m]) {
              v = y[m] > g[m] ? 1 : -1;
              break;
            }
        return v;
      }
      function p(y, g, k, C) {
        for (var m = 0; k--; )
          y[k] -= m, m = y[k] < g[k] ? 1 : 0, y[k] = m * C + y[k] - g[k];
        for (; !y[0] && y.length > 1; y.splice(0, 1))
          ;
      }
      return function(y, g, k, C, m) {
        var v, w, M, B, I, N, j, $, W, U, K, it, De, si, ai, bt, le, ct = y.s == g.s ? 1 : -1, st = y.c, Z = g.c;
        if (!st || !st[0] || !Z || !Z[0])
          return new b(!y.s || !g.s || (st ? Z && st[0] == Z[0] : !Z) ? NaN : st && st[0] == 0 || !Z ? ct * 0 : ct / 0);
        for ($ = new b(ct), W = $.c = [], w = y.e - g.e, ct = k + w + 1, m || (m = Lt, w = gt(y.e / F) - gt(g.e / F), ct = ct / F | 0), M = 0; Z[M] == (st[M] || 0); M++)
          ;
        if (Z[M] > (st[M] || 0) && w--, ct < 0)
          W.push(1), B = true;
        else {
          for (si = st.length, bt = Z.length, M = 0, ct += 2, I = dt(m / (Z[0] + 1)), I > 1 && (Z = h(Z, I, m), st = h(st, I, m), bt = Z.length, si = st.length), De = bt, U = st.slice(0, bt), K = U.length; K < bt; U[K++] = 0)
            ;
          le = Z.slice(), le = [0].concat(le), ai = Z[0], Z[1] >= m / 2 && ai++;
          do {
            if (I = 0, v = c(Z, U, bt, K), v < 0) {
              if (it = U[0], bt != K && (it = it * m + (U[1] || 0)), I = dt(it / ai), I > 1)
                for (I >= m && (I = m - 1), N = h(Z, I, m), j = N.length, K = U.length; c(N, U, j, K) == 1; )
                  I--, p(N, bt < j ? le : Z, j, m), j = N.length, v = 1;
              else
                I == 0 && (v = I = 1), N = Z.slice(), j = N.length;
              if (j < K && (N = [0].concat(N)), p(U, N, K, m), K = U.length, v == -1)
                for (; c(Z, U, bt, K) < 1; )
                  I++, p(U, bt < K ? le : Z, K, m), K = U.length;
            } else
              v === 0 && (I++, U = [0]);
            W[M++] = I, U[0] ? U[K++] = st[De] || 0 : (U = [st[De]], K = 1);
          } while ((De++ < si || U[0] != null) && ct--);
          B = U[0] != null, W[0] || W.splice(0, 1);
        }
        if (m == Lt) {
          for (M = 1, ct = W[0]; ct >= 10; ct /= 10, M++)
            ;
          A($, k + ($.e = M + w * F - 1) + 1, C, B);
        } else
          $.e = w, $.r = +B;
        return $;
      };
    }();
    function R(h, c, p, y) {
      var g, k, C, m, v;
      if (p == null ? p = o : J(p, 0, 8), !h.c)
        return h.toString();
      if (g = h.c[0], C = h.e, c == null)
        v = ft(h.c), v = y == 1 || y == 2 && (C <= l || C >= u) ? Je(v, C) : Et(v, C, "0");
      else if (h = A(new b(h), c, p), k = h.e, v = ft(h.c), m = v.length, y == 1 || y == 2 && (c <= k || k <= l)) {
        for (; m < c; v += "0", m++)
          ;
        v = Je(v, k);
      } else if (c -= C, v = Et(v, k, "0"), k + 1 > m) {
        if (--c > 0)
          for (v += "."; c--; v += "0")
            ;
      } else if (c += k - m, c > 0)
        for (k + 1 == m && (v += "."); c--; v += "0")
          ;
      return h.s < 0 && g ? "-" + v : v;
    }
    function D(h, c) {
      for (var p, y, g = 1, k = new b(h[0]); g < h.length; g++)
        y = new b(h[g]), (!y.s || (p = Ut(k, y)) === c || p === 0 && k.s === c) && (k = y);
      return k;
    }
    function O(h, c, p) {
      for (var y = 1, g = c.length; !c[--g]; c.pop())
        ;
      for (g = c[0]; g >= 10; g /= 10, y++)
        ;
      return (p = y + p * F - 1) > d ? h.c = h.e = null : p < f ? h.c = [h.e = 0] : (h.e = p, h.c = c), h;
    }
    r = /* @__PURE__ */ function() {
      var h = /^(-?)0([xbo])(?=\w[\w.]*$)/i, c = /^([^.]+)\.$/, p = /^\.([^.]+)$/, y = /^-?(Infinity|NaN)$/, g = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
      return function(k, C, m, v) {
        var w, M = m ? C : C.replace(g, "");
        if (y.test(M))
          k.s = isNaN(M) ? null : M < 0 ? -1 : 1;
        else {
          if (!m && (M = M.replace(h, function(B, I, N) {
            return w = (N = N.toLowerCase()) == "x" ? 16 : N == "b" ? 2 : 8, !v || v == w ? I : B;
          }), v && (w = v, M = M.replace(c, "$1").replace(p, "0.$1")), C != M))
            return new b(M, w);
          if (b.DEBUG)
            throw Error(ht + "Not a" + (v ? " base " + v : "") + " number: " + C);
          k.s = null;
        }
        k.c = k.e = null;
      };
    }();
    function A(h, c, p, y) {
      var g, k, C, m, v, w, M, B = h.c, I = Wi;
      if (B) {
        t: {
          for (g = 1, m = B[0]; m >= 10; m /= 10, g++)
            ;
          if (k = c - g, k < 0)
            k += F, C = c, v = B[w = 0], M = dt(v / I[g - C - 1] % 10);
          else if (w = $i((k + 1) / F), w >= B.length)
            if (y) {
              for (; B.length <= w; B.push(0))
                ;
              v = M = 0, g = 1, k %= F, C = k - F + 1;
            } else
              break t;
          else {
            for (v = m = B[w], g = 1; m >= 10; m /= 10, g++)
              ;
            k %= F, C = k - F + g, M = C < 0 ? 0 : dt(v / I[g - C - 1] % 10);
          }
          if (y = y || c < 0 || B[w + 1] != null || (C < 0 ? v : v % I[g - C - 1]), y = p < 4 ? (M || y) && (p == 0 || p == (h.s < 0 ? 3 : 2)) : M > 5 || M == 5 && (p == 4 || y || p == 6 && (k > 0 ? C > 0 ? v / I[g - C] : 0 : B[w - 1]) % 10 & 1 || p == (h.s < 0 ? 8 : 7)), c < 1 || !B[0])
            return B.length = 0, y ? (c -= h.e + 1, B[0] = I[(F - c % F) % F], h.e = -c || 0) : B[0] = h.e = 0, h;
          if (k == 0 ? (B.length = w, m = 1, w--) : (B.length = w + 1, m = I[F - k], B[w] = C > 0 ? dt(v / I[g - C] % I[C]) * m : 0), y)
            for (; ; )
              if (w == 0) {
                for (k = 1, C = B[0]; C >= 10; C /= 10, k++)
                  ;
                for (C = B[0] += m, m = 1; C >= 10; C /= 10, m++)
                  ;
                k != m && (h.e++, B[0] == Lt && (B[0] = 1));
                break;
              } else {
                if (B[w] += m, B[w] != Lt)
                  break;
                B[w--] = 0, m = 1;
              }
          for (k = B.length; B[--k] === 0; B.pop())
            ;
        }
        h.e > d ? h.c = h.e = null : h.e < f && (h.c = [h.e = 0]);
      }
      return h;
    }
    function q(h) {
      var c, p = h.e;
      return p === null ? h.toString() : (c = ft(h.c), c = p <= l || p >= u ? Je(c, p) : Et(c, p, "0"), h.s < 0 ? "-" + c : c);
    }
    return n.absoluteValue = n.abs = function() {
      var h = new b(this);
      return h.s < 0 && (h.s = 1), h;
    }, n.comparedTo = function(h, c) {
      return Ut(this, new b(h, c));
    }, n.decimalPlaces = n.dp = function(h, c) {
      var p, y, g, k = this;
      if (h != null)
        return J(h, 0, tt), c == null ? c = o : J(c, 0, 8), A(new b(k), h + k.e + 1, c);
      if (!(p = k.c))
        return null;
      if (y = ((g = p.length - 1) - gt(this.e / F)) * F, g = p[g])
        for (; g % 10 == 0; g /= 10, y--)
          ;
      return y < 0 && (y = 0), y;
    }, n.dividedBy = n.div = function(h, c) {
      return e(this, new b(h, c), a, o);
    }, n.dividedToIntegerBy = n.idiv = function(h, c) {
      return e(this, new b(h, c), 0, 1);
    }, n.exponentiatedBy = n.pow = function(h, c) {
      var p, y, g, k, C, m, v, w, M, B = this;
      if (h = new b(h), h.c && !h.isInteger())
        throw Error(ht + "Exponent not an integer: " + q(h));
      if (c != null && (c = new b(c)), m = h.e > 14, !B.c || !B.c[0] || B.c[0] == 1 && !B.e && B.c.length == 1 || !h.c || !h.c[0])
        return M = new b(Math.pow(+q(B), m ? h.s * (2 - Ye(h)) : +q(h))), c ? M.mod(c) : M;
      if (v = h.s < 0, c) {
        if (c.c ? !c.c[0] : !c.s)
          return new b(NaN);
        y = !v && B.isInteger() && c.isInteger(), y && (B = B.mod(c));
      } else {
        if (h.e > 9 && (B.e > 0 || B.e < -1 || (B.e == 0 ? B.c[0] > 1 || m && B.c[1] >= 24e7 : B.c[0] < 8e13 || m && B.c[0] <= 9999975e7)))
          return k = B.s < 0 && Ye(h) ? -0 : 0, B.e > -1 && (k = 1 / k), new b(v ? 1 / k : k);
        T && (k = $i(T / F + 2));
      }
      for (m ? (p = new b(0.5), v && (h.s = 1), w = Ye(h)) : (g = Math.abs(+q(h)), w = g % 2), M = new b(s); ; ) {
        if (w) {
          if (M = M.times(B), !M.c)
            break;
          k ? M.c.length > k && (M.c.length = k) : y && (M = M.mod(c));
        }
        if (g) {
          if (g = dt(g / 2), g === 0)
            break;
          w = g % 2;
        } else if (h = h.times(p), A(h, h.e + 1, 1), h.e > 14)
          w = Ye(h);
        else {
          if (g = +q(h), g === 0)
            break;
          w = g % 2;
        }
        B = B.times(B), k ? B.c && B.c.length > k && (B.c.length = k) : y && (B = B.mod(c));
      }
      return y ? M : (v && (M = s.div(M)), c ? M.mod(c) : k ? A(M, T, o, C) : M);
    }, n.integerValue = function(h) {
      var c = new b(this);
      return h == null ? h = o : J(h, 0, 8), A(c, c.e + 1, h);
    }, n.isEqualTo = n.eq = function(h, c) {
      return Ut(this, new b(h, c)) === 0;
    }, n.isFinite = function() {
      return !!this.c;
    }, n.isGreaterThan = n.gt = function(h, c) {
      return Ut(this, new b(h, c)) > 0;
    }, n.isGreaterThanOrEqualTo = n.gte = function(h, c) {
      return (c = Ut(this, new b(h, c))) === 1 || c === 0;
    }, n.isInteger = function() {
      return !!this.c && gt(this.e / F) > this.c.length - 2;
    }, n.isLessThan = n.lt = function(h, c) {
      return Ut(this, new b(h, c)) < 0;
    }, n.isLessThanOrEqualTo = n.lte = function(h, c) {
      return (c = Ut(this, new b(h, c))) === -1 || c === 0;
    }, n.isNaN = function() {
      return !this.s;
    }, n.isNegative = function() {
      return this.s < 0;
    }, n.isPositive = function() {
      return this.s > 0;
    }, n.isZero = function() {
      return !!this.c && this.c[0] == 0;
    }, n.minus = function(h, c) {
      var p, y, g, k, C = this, m = C.s;
      if (h = new b(h, c), c = h.s, !m || !c)
        return new b(NaN);
      if (m != c)
        return h.s = -c, C.plus(h);
      var v = C.e / F, w = h.e / F, M = C.c, B = h.c;
      if (!v || !w) {
        if (!M || !B)
          return M ? (h.s = -c, h) : new b(B ? C : NaN);
        if (!M[0] || !B[0])
          return B[0] ? (h.s = -c, h) : new b(M[0] ? C : o == 3 ? -0 : 0);
      }
      if (v = gt(v), w = gt(w), M = M.slice(), m = v - w) {
        for ((k = m < 0) ? (m = -m, g = M) : (w = v, g = B), g.reverse(), c = m; c--; g.push(0))
          ;
        g.reverse();
      } else
        for (y = (k = (m = M.length) < (c = B.length)) ? m : c, m = c = 0; c < y; c++)
          if (M[c] != B[c]) {
            k = M[c] < B[c];
            break;
          }
      if (k && (g = M, M = B, B = g, h.s = -h.s), c = (y = B.length) - (p = M.length), c > 0)
        for (; c--; M[p++] = 0)
          ;
      for (c = Lt - 1; y > m; ) {
        if (M[--y] < B[y]) {
          for (p = y; p && !M[--p]; M[p] = c)
            ;
          --M[p], M[y] += Lt;
        }
        M[y] -= B[y];
      }
      for (; M[0] == 0; M.splice(0, 1), --w)
        ;
      return M[0] ? O(h, M, w) : (h.s = o == 3 ? -1 : 1, h.c = [h.e = 0], h);
    }, n.modulo = n.mod = function(h, c) {
      var p, y, g = this;
      return h = new b(h, c), !g.c || !h.s || h.c && !h.c[0] ? new b(NaN) : !h.c || g.c && !g.c[0] ? new b(g) : (E == 9 ? (y = h.s, h.s = 1, p = e(g, h, 0, 3), h.s = y, p.s *= y) : p = e(g, h, 0, E), h = g.minus(p.times(h)), !h.c[0] && E == 1 && (h.s = g.s), h);
    }, n.multipliedBy = n.times = function(h, c) {
      var p, y, g, k, C, m, v, w, M, B, I, N, j, $, W, U = this, K = U.c, it = (h = new b(h, c)).c;
      if (!K || !it || !K[0] || !it[0])
        return !U.s || !h.s || K && !K[0] && !it || it && !it[0] && !K ? h.c = h.e = h.s = null : (h.s *= U.s, !K || !it ? h.c = h.e = null : (h.c = [0], h.e = 0)), h;
      for (y = gt(U.e / F) + gt(h.e / F), h.s *= U.s, v = K.length, B = it.length, v < B && (j = K, K = it, it = j, g = v, v = B, B = g), g = v + B, j = []; g--; j.push(0))
        ;
      for ($ = Lt, W = At, g = B; --g >= 0; ) {
        for (p = 0, I = it[g] % W, N = it[g] / W | 0, C = v, k = g + C; k > g; )
          w = K[--C] % W, M = K[C] / W | 0, m = N * w + M * I, w = I * w + m % W * W + j[k] + p, p = (w / $ | 0) + (m / W | 0) + N * M, j[k--] = w % $;
        j[k] = p;
      }
      return p ? ++y : j.splice(0, 1), O(h, j, y);
    }, n.negated = function() {
      var h = new b(this);
      return h.s = -h.s || null, h;
    }, n.plus = function(h, c) {
      var p, y = this, g = y.s;
      if (h = new b(h, c), c = h.s, !g || !c)
        return new b(NaN);
      if (g != c)
        return h.s = -c, y.minus(h);
      var k = y.e / F, C = h.e / F, m = y.c, v = h.c;
      if (!k || !C) {
        if (!m || !v)
          return new b(g / 0);
        if (!m[0] || !v[0])
          return v[0] ? h : new b(m[0] ? y : g * 0);
      }
      if (k = gt(k), C = gt(C), m = m.slice(), g = k - C) {
        for (g > 0 ? (C = k, p = v) : (g = -g, p = m), p.reverse(); g--; p.push(0))
          ;
        p.reverse();
      }
      for (g = m.length, c = v.length, g - c < 0 && (p = v, v = m, m = p, c = g), g = 0; c; )
        g = (m[--c] = m[c] + v[c] + g) / Lt | 0, m[c] = Lt === m[c] ? 0 : m[c] % Lt;
      return g && (m = [g].concat(m), ++C), O(h, m, C);
    }, n.precision = n.sd = function(h, c) {
      var p, y, g, k = this;
      if (h != null && h !== !!h)
        return J(h, 1, tt), c == null ? c = o : J(c, 0, 8), A(new b(k), h, c);
      if (!(p = k.c))
        return null;
      if (g = p.length - 1, y = g * F + 1, g = p[g]) {
        for (; g % 10 == 0; g /= 10, y--)
          ;
        for (g = p[0]; g >= 10; g /= 10, y++)
          ;
      }
      return h && k.e + 1 > y && (y = k.e + 1), y;
    }, n.shiftedBy = function(h) {
      return J(h, -Zi, Zi), this.times("1e" + h);
    }, n.squareRoot = n.sqrt = function() {
      var h, c, p, y, g, k = this, C = k.c, m = k.s, v = k.e, w = a + 4, M = new b("0.5");
      if (m !== 1 || !C || !C[0])
        return new b(!m || m < 0 && (!C || C[0]) ? NaN : C ? k : 1 / 0);
      if (m = Math.sqrt(+q(k)), m == 0 || m == 1 / 0 ? (c = ft(C), (c.length + v) % 2 == 0 && (c += "0"), m = Math.sqrt(+c), v = gt((v + 1) / 2) - (v < 0 || v % 2), m == 1 / 0 ? c = "5e" + v : (c = m.toExponential(), c = c.slice(0, c.indexOf("e") + 1) + v), p = new b(c)) : p = new b(m + ""), p.c[0]) {
        for (v = p.e, m = v + w, m < 3 && (m = 0); ; )
          if (g = p, p = M.times(g.plus(e(k, g, w, 1))), ft(g.c).slice(0, m) === (c = ft(p.c)).slice(0, m))
            if (p.e < v && --m, c = c.slice(m - 3, m + 1), c == "9999" || !y && c == "4999") {
              if (!y && (A(g, g.e + a + 2, 0), g.times(g).eq(k))) {
                p = g;
                break;
              }
              w += 4, m += 4, y = 1;
            } else {
              (!+c || !+c.slice(1) && c.charAt(0) == "5") && (A(p, p.e + a + 2, 1), h = !p.times(p).eq(k));
              break;
            }
      }
      return A(p, p.e + a + 1, o, h);
    }, n.toExponential = function(h, c) {
      return h != null && (J(h, 0, tt), h++), R(this, h, c, 1);
    }, n.toFixed = function(h, c) {
      return h != null && (J(h, 0, tt), h = h + this.e + 1), R(this, h, c);
    }, n.toFormat = function(h, c, p) {
      var y, g = this;
      if (p == null)
        h != null && c && typeof c == "object" ? (p = c, c = null) : h && typeof h == "object" ? (p = h, h = c = null) : p = G;
      else if (typeof p != "object")
        throw Error(ht + "Argument not an object: " + p);
      if (y = g.toFixed(h, c), g.c) {
        var k, C = y.split("."), m = +p.groupSize, v = +p.secondaryGroupSize, w = p.groupSeparator || "", M = C[0], B = C[1], I = g.s < 0, N = I ? M.slice(1) : M, j = N.length;
        if (v && (k = m, m = v, v = k, j -= k), m > 0 && j > 0) {
          for (k = j % m || m, M = N.substr(0, k); k < j; k += m)
            M += w + N.substr(k, m);
          v > 0 && (M += w + N.slice(k)), I && (M = "-" + M);
        }
        y = B ? M + (p.decimalSeparator || "") + ((v = +p.fractionGroupSize) ? B.replace(new RegExp("\\d{" + v + "}\\B", "g"), "$&" + (p.fractionGroupSeparator || "")) : B) : M;
      }
      return (p.prefix || "") + y + (p.suffix || "");
    }, n.toFraction = function(h) {
      var c, p, y, g, k, C, m, v, w, M, B, I, N = this, j = N.c;
      if (h != null && (m = new b(h), !m.isInteger() && (m.c || m.s !== 1) || m.lt(s)))
        throw Error(ht + "Argument " + (m.isInteger() ? "out of range: " : "not an integer: ") + q(m));
      if (!j)
        return new b(N);
      for (c = new b(s), w = p = new b(s), y = v = new b(s), I = ft(j), k = c.e = I.length - N.e - 1, c.c[0] = Wi[(C = k % F) < 0 ? F + C : C], h = !h || m.comparedTo(c) > 0 ? k > 0 ? c : w : m, C = d, d = 1 / 0, m = new b(I), v.c[0] = 0; M = e(m, c, 0, 1), g = p.plus(M.times(y)), g.comparedTo(h) != 1; )
        p = y, y = g, w = v.plus(M.times(g = w)), v = g, c = m.minus(M.times(g = c)), m = g;
      return g = e(h.minus(p), y, 0, 1), v = v.plus(g.times(w)), p = p.plus(g.times(y)), v.s = w.s = N.s, k = k * 2, B = e(w, y, k, o).minus(N).abs().comparedTo(e(v, p, k, o).minus(N).abs()) < 1 ? [w, y] : [v, p], d = C, B;
    }, n.toNumber = function() {
      return +q(this);
    }, n.toPrecision = function(h, c) {
      return h != null && J(h, 1, tt), R(this, h, c, 2);
    }, n.toString = function(h) {
      var c, p = this, y = p.s, g = p.e;
      return g === null ? y ? (c = "Infinity", y < 0 && (c = "-" + c)) : c = "NaN" : (h == null ? c = g <= l || g >= u ? Je(ft(p.c), g) : Et(ft(p.c), g, "0") : h === 10 && x ? (p = A(new b(p), a + g + 1, o), c = Et(ft(p.c), p.e, "0")) : (J(h, 2, _.length, "Base"), c = i(Et(ft(p.c), g, "0"), 10, h, y, true)), y < 0 && p.c[0] && (c = "-" + c)), c;
    }, n.valueOf = n.toJSON = function() {
      return q(this);
    }, n._isBigNumber = true, n[Symbol.toStringTag] = "BigNumber", n[Symbol.for("nodejs.util.inspect.custom")] = n.valueOf, t != null && b.set(t), b;
  }
  function gt(t) {
    var e = t | 0;
    return t > 0 || t === e ? e : e - 1;
  }
  function ft(t) {
    for (var e, i, r = 1, n = t.length, s = t[0] + ""; r < n; ) {
      for (e = t[r++] + "", i = F - e.length; i--; e = "0" + e)
        ;
      s += e;
    }
    for (n = s.length; s.charCodeAt(--n) === 48; )
      ;
    return s.slice(0, n + 1 || 1);
  }
  function Ut(t, e) {
    var i, r, n = t.c, s = e.c, a = t.s, o = e.s, l = t.e, u = e.e;
    if (!a || !o)
      return null;
    if (i = n && !n[0], r = s && !s[0], i || r)
      return i ? r ? 0 : -o : a;
    if (a != o)
      return a;
    if (i = a < 0, r = l == u, !n || !s)
      return r ? 0 : !n ^ i ? 1 : -1;
    if (!r)
      return l > u ^ i ? 1 : -1;
    for (o = (l = n.length) < (u = s.length) ? l : u, a = 0; a < o; a++)
      if (n[a] != s[a])
        return n[a] > s[a] ^ i ? 1 : -1;
    return l == u ? 0 : l > u ^ i ? 1 : -1;
  }
  function J(t, e, i, r) {
    if (t < e || t > i || t !== dt(t))
      throw Error(ht + (r || "Argument") + (typeof t == "number" ? t < e || t > i ? " out of range: " : " not an integer: " : " not a primitive number: ") + String(t));
  }
  function Ye(t) {
    var e = t.c.length - 1;
    return gt(t.e / F) == e && t.c[e] % 2 != 0;
  }
  function Je(t, e) {
    return (t.length > 1 ? t.charAt(0) + "." + t.slice(1) : t) + (e < 0 ? "e" : "e+") + e;
  }
  function Et(t, e, i) {
    var r, n;
    if (e < 0) {
      for (n = i + "."; ++e; n += i)
        ;
      t = n + t;
    } else if (r = t.length, ++e > r) {
      for (n = i, e -= r; --e; n += i)
        ;
      t += n;
    } else
      e < r && (t = t.slice(0, e) + "." + t.slice(e));
    return t;
  }
  var u_ = Cl(), mt = u_;
  var Qi = class {
    constructor(e) {
      __publicField(this, "key");
      __publicField(this, "left", null);
      __publicField(this, "right", null);
      this.key = e;
    }
  }, jt = class extends Qi {
    constructor(e) {
      super(e);
    }
  };
  var tr = class {
    constructor() {
      __publicField(this, "size", 0);
      __publicField(this, "modificationCount", 0);
      __publicField(this, "splayCount", 0);
    }
    splay(e) {
      let i = this.root;
      if (i == null)
        return this.compare(e, e), -1;
      let r = null, n = null, s = null, a = null, o = i, l = this.compare, u;
      for (; ; )
        if (u = l(o.key, e), u > 0) {
          let f = o.left;
          if (f == null || (u = l(f.key, e), u > 0 && (o.left = f.right, f.right = o, o = f, f = o.left, f == null)))
            break;
          r == null ? n = o : r.left = o, r = o, o = f;
        } else if (u < 0) {
          let f = o.right;
          if (f == null || (u = l(f.key, e), u < 0 && (o.right = f.left, f.left = o, o = f, f = o.right, f == null)))
            break;
          s == null ? a = o : s.right = o, s = o, o = f;
        } else
          break;
      return s != null && (s.right = o.left, o.left = a), r != null && (r.left = o.right, o.right = n), this.root !== o && (this.root = o, this.splayCount++), u;
    }
    splayMin(e) {
      let i = e, r = i.left;
      for (; r != null; ) {
        let n = r;
        i.left = n.right, n.right = i, i = n, r = i.left;
      }
      return i;
    }
    splayMax(e) {
      let i = e, r = i.right;
      for (; r != null; ) {
        let n = r;
        i.right = n.left, n.left = i, i = n, r = i.right;
      }
      return i;
    }
    _delete(e) {
      if (this.root == null || this.splay(e) != 0)
        return null;
      let r = this.root, n = r, s = r.left;
      if (this.size--, s == null)
        this.root = r.right;
      else {
        let a = r.right;
        r = this.splayMax(s), r.right = a, this.root = r;
      }
      return this.modificationCount++, n;
    }
    addNewRoot(e, i) {
      this.size++, this.modificationCount++;
      let r = this.root;
      if (r == null) {
        this.root = e;
        return;
      }
      i < 0 ? (e.left = r, e.right = r.right, r.right = null) : (e.right = r, e.left = r.left, r.left = null), this.root = e;
    }
    _first() {
      let e = this.root;
      return e == null ? null : (this.root = this.splayMin(e), this.root);
    }
    _last() {
      let e = this.root;
      return e == null ? null : (this.root = this.splayMax(e), this.root);
    }
    clear() {
      this.root = null, this.size = 0, this.modificationCount++;
    }
    has(e) {
      return this.validKey(e) && this.splay(e) == 0;
    }
    defaultCompare() {
      return (e, i) => e < i ? -1 : e > i ? 1 : 0;
    }
    wrap() {
      return { getRoot: () => this.root, setRoot: (e) => {
        this.root = e;
      }, getSize: () => this.size, getModificationCount: () => this.modificationCount, getSplayCount: () => this.splayCount, setSplayCount: (e) => {
        this.splayCount = e;
      }, splay: (e) => this.splay(e), has: (e) => this.has(e) };
    }
  };
  var Pt = (_b = class extends tr {
    constructor(e, i) {
      super();
      __publicField(this, "root", null);
      __publicField(this, "compare");
      __publicField(this, "validKey");
      __publicField(this, _a2, "[object Set]");
      this.compare = e ?? this.defaultCompare(), this.validKey = i ?? ((r) => r != null && r != null);
    }
    delete(e) {
      return this.validKey(e) ? this._delete(e) != null : false;
    }
    deleteAll(e) {
      for (let i of e)
        this.delete(i);
    }
    forEach(e) {
      let i = this[Symbol.iterator](), r;
      for (; r = i.next(), !r.done; )
        e(r.value, r.value, this);
    }
    add(e) {
      let i = this.splay(e);
      return i != 0 && this.addNewRoot(new jt(e), i), this;
    }
    addAndReturn(e) {
      let i = this.splay(e);
      return i != 0 && this.addNewRoot(new jt(e), i), this.root.key;
    }
    addAll(e) {
      for (let i of e)
        this.add(i);
    }
    isEmpty() {
      return this.root == null;
    }
    isNotEmpty() {
      return this.root != null;
    }
    single() {
      if (this.size == 0)
        throw "Bad state: No element";
      if (this.size > 1)
        throw "Bad state: Too many element";
      return this.root.key;
    }
    first() {
      if (this.size == 0)
        throw "Bad state: No element";
      return this._first().key;
    }
    last() {
      if (this.size == 0)
        throw "Bad state: No element";
      return this._last().key;
    }
    lastBefore(e) {
      if (e == null)
        throw "Invalid arguments(s)";
      if (this.root == null)
        return null;
      if (this.splay(e) < 0)
        return this.root.key;
      let r = this.root.left;
      if (r == null)
        return null;
      let n = r.right;
      for (; n != null; )
        r = n, n = r.right;
      return r.key;
    }
    firstAfter(e) {
      if (e == null)
        throw "Invalid arguments(s)";
      if (this.root == null)
        return null;
      if (this.splay(e) > 0)
        return this.root.key;
      let r = this.root.right;
      if (r == null)
        return null;
      let n = r.left;
      for (; n != null; )
        r = n, n = r.left;
      return r.key;
    }
    retainAll(e) {
      let i = new _b(this.compare, this.validKey), r = this.modificationCount;
      for (let n of e) {
        if (r != this.modificationCount)
          throw "Concurrent modification during iteration.";
        this.validKey(n) && this.splay(n) == 0 && i.add(this.root.key);
      }
      i.size != this.size && (this.root = i.root, this.size = i.size, this.modificationCount++);
    }
    lookup(e) {
      return !this.validKey(e) || this.splay(e) != 0 ? null : this.root.key;
    }
    intersection(e) {
      let i = new _b(this.compare, this.validKey);
      for (let r of this)
        e.has(r) && i.add(r);
      return i;
    }
    difference(e) {
      let i = new _b(this.compare, this.validKey);
      for (let r of this)
        e.has(r) || i.add(r);
      return i;
    }
    union(e) {
      let i = this.clone();
      return i.addAll(e), i;
    }
    clone() {
      let e = new _b(this.compare, this.validKey);
      return e.size = this.size, e.root = this.copyNode(this.root), e;
    }
    copyNode(e) {
      if (e == null)
        return null;
      function i(n, s) {
        let a, o;
        do {
          if (a = n.left, o = n.right, a != null) {
            let l = new jt(a.key);
            s.left = l, i(a, l);
          }
          if (o != null) {
            let l = new jt(o.key);
            s.right = l, n = o, s = l;
          }
        } while (o != null);
      }
      let r = new jt(e.key);
      return i(e, r), r;
    }
    toSet() {
      return this.clone();
    }
    entries() {
      return new ir(this.wrap());
    }
    keys() {
      return this[Symbol.iterator]();
    }
    values() {
      return this[Symbol.iterator]();
    }
    [Symbol.iterator]() {
      return new er(this.wrap());
    }
  }, _a2 = Symbol.toStringTag, _b), $e = class {
    constructor(e) {
      __publicField(this, "tree");
      __publicField(this, "path", new Array());
      __publicField(this, "modificationCount", null);
      __publicField(this, "splayCount");
      this.tree = e, this.splayCount = e.getSplayCount();
    }
    [Symbol.iterator]() {
      return this;
    }
    next() {
      return this.moveNext() ? { done: false, value: this.current() } : { done: true, value: null };
    }
    current() {
      if (!this.path.length)
        return null;
      let e = this.path[this.path.length - 1];
      return this.getValue(e);
    }
    rebuildPath(e) {
      this.path.splice(0, this.path.length), this.tree.splay(e), this.path.push(this.tree.getRoot()), this.splayCount = this.tree.getSplayCount();
    }
    findLeftMostDescendent(e) {
      for (; e != null; )
        this.path.push(e), e = e.left;
    }
    moveNext() {
      if (this.modificationCount != this.tree.getModificationCount()) {
        if (this.modificationCount == null) {
          this.modificationCount = this.tree.getModificationCount();
          let r = this.tree.getRoot();
          for (; r != null; )
            this.path.push(r), r = r.left;
          return this.path.length > 0;
        }
        throw "Concurrent modification during iteration.";
      }
      if (!this.path.length)
        return false;
      this.splayCount != this.tree.getSplayCount() && this.rebuildPath(this.path[this.path.length - 1].key);
      let e = this.path[this.path.length - 1], i = e.right;
      if (i != null) {
        for (; i != null; )
          this.path.push(i), i = i.left;
        return true;
      }
      for (this.path.pop(); this.path.length && this.path[this.path.length - 1].right === e; )
        e = this.path.pop();
      return this.path.length > 0;
    }
  }, er = class extends $e {
    getValue(e) {
      return e.key;
    }
  }, ir = class extends $e {
    getValue(e) {
      return [e.key, e.key];
    }
  };
  var El = (t) => t;
  var Pl = (t) => {
    if (t) {
      let e = new Pt(Ee(t)), i = new Pt(Ee(t)), r = (s, a) => a.addAndReturn(s), n = (s) => ({ x: r(s.x, e), y: r(s.y, i) });
      return n({ x: new mt(0), y: new mt(0) }), n;
    }
    return El;
  };
  var rr = (t) => ({ set: (e) => {
    ut = rr(e);
  }, reset: () => rr(t), compare: Ee(t), snap: Pl(t), orient: xl(t) }), ut = rr();
  var ae = (t, e) => t.ll.x.isLessThanOrEqualTo(e.x) && e.x.isLessThanOrEqualTo(t.ur.x) && t.ll.y.isLessThanOrEqualTo(e.y) && e.y.isLessThanOrEqualTo(t.ur.y), Pe = (t, e) => {
    if (e.ur.x.isLessThan(t.ll.x) || t.ur.x.isLessThan(e.ll.x) || e.ur.y.isLessThan(t.ll.y) || t.ur.y.isLessThan(e.ll.y))
      return null;
    let i = t.ll.x.isLessThan(e.ll.x) ? e.ll.x : t.ll.x, r = t.ur.x.isLessThan(e.ur.x) ? t.ur.x : e.ur.x, n = t.ll.y.isLessThan(e.ll.y) ? e.ll.y : t.ll.y, s = t.ur.y.isLessThan(e.ur.y) ? t.ur.y : e.ur.y;
    return { ll: { x: i, y: n }, ur: { x: r, y: s } };
  };
  var Ze = (t, e) => t.x.times(e.y).minus(t.y.times(e.x)), Tl = (t, e) => t.x.times(e.x).plus(t.y.times(e.y)), We = (t) => Tl(t, t).sqrt(), Rl = (t, e, i) => {
    let r = { x: e.x.minus(t.x), y: e.y.minus(t.y) }, n = { x: i.x.minus(t.x), y: i.y.minus(t.y) };
    return Ze(n, r).div(We(n)).div(We(r));
  }, Dl = (t, e, i) => {
    let r = { x: e.x.minus(t.x), y: e.y.minus(t.y) }, n = { x: i.x.minus(t.x), y: i.y.minus(t.y) };
    return Tl(n, r).div(We(n)).div(We(r));
  }, Sl = (t, e, i) => e.y.isZero() ? null : { x: t.x.plus(e.x.div(e.y).times(i.minus(t.y))), y: i }, Bl = (t, e, i) => e.x.isZero() ? null : { x: i, y: t.y.plus(e.y.div(e.x).times(i.minus(t.x))) }, Ol = (t, e, i, r) => {
    if (e.x.isZero())
      return Bl(i, r, t.x);
    if (r.x.isZero())
      return Bl(t, e, i.x);
    if (e.y.isZero())
      return Sl(i, r, t.y);
    if (r.y.isZero())
      return Sl(t, e, i.y);
    let n = Ze(e, r);
    if (n.isZero())
      return null;
    let s = { x: i.x.minus(t.x), y: i.y.minus(t.y) }, a = Ze(s, e).div(n), o = Ze(s, r).div(n), l = t.x.plus(o.times(e.x)), u = i.x.plus(a.times(r.x)), f = t.y.plus(o.times(e.y)), d = i.y.plus(a.times(r.y)), P = l.plus(u).div(2), E = f.plus(d).div(2);
    return { x: P, y: E };
  };
  var et = class t {
    constructor(e, i) {
      __publicField(this, "point");
      __publicField(this, "isLeft");
      __publicField(this, "segment");
      __publicField(this, "otherSE");
      __publicField(this, "consumedBy");
      e.events === void 0 ? e.events = [this] : e.events.push(this), this.point = e, this.isLeft = i;
    }
    static compare(e, i) {
      let r = t.comparePoints(e.point, i.point);
      return r !== 0 ? r : (e.point !== i.point && e.link(i), e.isLeft !== i.isLeft ? e.isLeft ? 1 : -1 : Mt.compare(e.segment, i.segment));
    }
    static comparePoints(e, i) {
      return e.x.isLessThan(i.x) ? -1 : e.x.isGreaterThan(i.x) ? 1 : e.y.isLessThan(i.y) ? -1 : e.y.isGreaterThan(i.y) ? 1 : 0;
    }
    link(e) {
      if (e.point === this.point)
        throw new Error("Tried to link already linked events");
      let i = e.point.events;
      for (let r = 0, n = i.length; r < n; r++) {
        let s = i[r];
        this.point.events.push(s), s.point = this.point;
      }
      this.checkForConsuming();
    }
    checkForConsuming() {
      let e = this.point.events.length;
      for (let i = 0; i < e; i++) {
        let r = this.point.events[i];
        if (r.segment.consumedBy === void 0)
          for (let n = i + 1; n < e; n++) {
            let s = this.point.events[n];
            s.consumedBy === void 0 && r.otherSE.point.events === s.otherSE.point.events && r.segment.consume(s.segment);
          }
      }
    }
    getAvailableLinkedEvents() {
      let e = [];
      for (let i = 0, r = this.point.events.length; i < r; i++) {
        let n = this.point.events[i];
        n !== this && !n.segment.ringOut && n.segment.isInResult() && e.push(n);
      }
      return e;
    }
    getLeftmostComparator(e) {
      let i = /* @__PURE__ */ new Map(), r = (n) => {
        let s = n.otherSE;
        i.set(n, { sine: Rl(this.point, e.point, s.point), cosine: Dl(this.point, e.point, s.point) });
      };
      return (n, s) => {
        i.has(n) || r(n), i.has(s) || r(s);
        let { sine: a, cosine: o } = i.get(n), { sine: l, cosine: u } = i.get(s);
        return a.isGreaterThanOrEqualTo(0) && l.isGreaterThanOrEqualTo(0) ? o.isLessThan(u) ? 1 : o.isGreaterThan(u) ? -1 : 0 : a.isLessThan(0) && l.isLessThan(0) ? o.isLessThan(u) ? -1 : o.isGreaterThan(u) ? 1 : 0 : l.isLessThan(a) ? -1 : l.isGreaterThan(a) ? 1 : 0;
      };
    }
  };
  var c_ = 0, Mt = class t {
    constructor(e, i, r, n) {
      __publicField(this, "id");
      __publicField(this, "leftSE");
      __publicField(this, "rightSE");
      __publicField(this, "rings");
      __publicField(this, "windings");
      __publicField(this, "ringOut");
      __publicField(this, "consumedBy");
      __publicField(this, "prev");
      __publicField(this, "_prevInResult");
      __publicField(this, "_beforeState");
      __publicField(this, "_afterState");
      __publicField(this, "_isInResult");
      this.id = ++c_, this.leftSE = e, e.segment = this, e.otherSE = i, this.rightSE = i, i.segment = this, i.otherSE = e, this.rings = r, this.windings = n;
    }
    static compare(e, i) {
      let r = e.leftSE.point.x, n = i.leftSE.point.x, s = e.rightSE.point.x, a = i.rightSE.point.x;
      if (a.isLessThan(r))
        return 1;
      if (s.isLessThan(n))
        return -1;
      let o = e.leftSE.point.y, l = i.leftSE.point.y, u = e.rightSE.point.y, f = i.rightSE.point.y;
      if (r.isLessThan(n)) {
        if (l.isLessThan(o) && l.isLessThan(u))
          return 1;
        if (l.isGreaterThan(o) && l.isGreaterThan(u))
          return -1;
        let d = e.comparePoint(i.leftSE.point);
        if (d < 0)
          return 1;
        if (d > 0)
          return -1;
        let P = i.comparePoint(e.rightSE.point);
        return P !== 0 ? P : -1;
      }
      if (r.isGreaterThan(n)) {
        if (o.isLessThan(l) && o.isLessThan(f))
          return -1;
        if (o.isGreaterThan(l) && o.isGreaterThan(f))
          return 1;
        let d = i.comparePoint(e.leftSE.point);
        if (d !== 0)
          return d;
        let P = e.comparePoint(i.rightSE.point);
        return P < 0 ? 1 : P > 0 ? -1 : 1;
      }
      if (o.isLessThan(l))
        return -1;
      if (o.isGreaterThan(l))
        return 1;
      if (s.isLessThan(a)) {
        let d = i.comparePoint(e.rightSE.point);
        if (d !== 0)
          return d;
      }
      if (s.isGreaterThan(a)) {
        let d = e.comparePoint(i.rightSE.point);
        if (d < 0)
          return 1;
        if (d > 0)
          return -1;
      }
      if (!s.eq(a)) {
        let d = u.minus(o), P = s.minus(r), E = f.minus(l), T = a.minus(n);
        if (d.isGreaterThan(P) && E.isLessThan(T))
          return 1;
        if (d.isLessThan(P) && E.isGreaterThan(T))
          return -1;
      }
      return s.isGreaterThan(a) ? 1 : s.isLessThan(a) || u.isLessThan(f) ? -1 : u.isGreaterThan(f) ? 1 : e.id < i.id ? -1 : e.id > i.id ? 1 : 0;
    }
    static fromRing(e, i, r) {
      let n, s, a, o = et.comparePoints(e, i);
      if (o < 0)
        n = e, s = i, a = 1;
      else if (o > 0)
        n = i, s = e, a = -1;
      else
        throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);
      let l = new et(n, true), u = new et(s, false);
      return new t(l, u, [r], [a]);
    }
    replaceRightSE(e) {
      this.rightSE = e, this.rightSE.segment = this, this.rightSE.otherSE = this.leftSE, this.leftSE.otherSE = this.rightSE;
    }
    bbox() {
      let e = this.leftSE.point.y, i = this.rightSE.point.y;
      return { ll: { x: this.leftSE.point.x, y: e.isLessThan(i) ? e : i }, ur: { x: this.rightSE.point.x, y: e.isGreaterThan(i) ? e : i } };
    }
    vector() {
      return { x: this.rightSE.point.x.minus(this.leftSE.point.x), y: this.rightSE.point.y.minus(this.leftSE.point.y) };
    }
    isAnEndpoint(e) {
      return e.x.eq(this.leftSE.point.x) && e.y.eq(this.leftSE.point.y) || e.x.eq(this.rightSE.point.x) && e.y.eq(this.rightSE.point.y);
    }
    comparePoint(e) {
      return ut.orient(this.leftSE.point, e, this.rightSE.point);
    }
    getIntersection(e) {
      let i = this.bbox(), r = e.bbox(), n = Pe(i, r);
      if (n === null)
        return null;
      let s = this.leftSE.point, a = this.rightSE.point, o = e.leftSE.point, l = e.rightSE.point, u = ae(i, o) && this.comparePoint(o) === 0, f = ae(r, s) && e.comparePoint(s) === 0, d = ae(i, l) && this.comparePoint(l) === 0, P = ae(r, a) && e.comparePoint(a) === 0;
      if (f && u)
        return P && !d ? a : !P && d ? l : null;
      if (f)
        return d && s.x.eq(l.x) && s.y.eq(l.y) ? null : s;
      if (u)
        return P && a.x.eq(o.x) && a.y.eq(o.y) ? null : o;
      if (P && d)
        return null;
      if (P)
        return a;
      if (d)
        return l;
      let E = Ol(s, this.vector(), o, e.vector());
      return E === null || !ae(n, E) ? null : ut.snap(E);
    }
    split(e) {
      let i = [], r = e.events !== void 0, n = new et(e, true), s = new et(e, false), a = this.rightSE;
      this.replaceRightSE(s), i.push(s), i.push(n);
      let o = new t(n, a, this.rings.slice(), this.windings.slice());
      return et.comparePoints(o.leftSE.point, o.rightSE.point) > 0 && o.swapEvents(), et.comparePoints(this.leftSE.point, this.rightSE.point) > 0 && this.swapEvents(), r && (n.checkForConsuming(), s.checkForConsuming()), i;
    }
    swapEvents() {
      let e = this.rightSE;
      this.rightSE = this.leftSE, this.leftSE = e, this.leftSE.isLeft = true, this.rightSE.isLeft = false;
      for (let i = 0, r = this.windings.length; i < r; i++)
        this.windings[i] *= -1;
    }
    consume(e) {
      let i = this, r = e;
      for (; i.consumedBy; )
        i = i.consumedBy;
      for (; r.consumedBy; )
        r = r.consumedBy;
      let n = t.compare(i, r);
      if (n !== 0) {
        if (n > 0) {
          let s = i;
          i = r, r = s;
        }
        if (i.prev === r) {
          let s = i;
          i = r, r = s;
        }
        for (let s = 0, a = r.rings.length; s < a; s++) {
          let o = r.rings[s], l = r.windings[s], u = i.rings.indexOf(o);
          u === -1 ? (i.rings.push(o), i.windings.push(l)) : i.windings[u] += l;
        }
        r.rings = null, r.windings = null, r.consumedBy = i, r.leftSE.consumedBy = i.leftSE, r.rightSE.consumedBy = i.rightSE;
      }
    }
    prevInResult() {
      return this._prevInResult !== void 0 ? this._prevInResult : (this.prev ? this.prev.isInResult() ? this._prevInResult = this.prev : this._prevInResult = this.prev.prevInResult() : this._prevInResult = null, this._prevInResult);
    }
    beforeState() {
      if (this._beforeState !== void 0)
        return this._beforeState;
      if (!this.prev)
        this._beforeState = { rings: [], windings: [], multiPolys: [] };
      else {
        let e = this.prev.consumedBy || this.prev;
        this._beforeState = e.afterState();
      }
      return this._beforeState;
    }
    afterState() {
      if (this._afterState !== void 0)
        return this._afterState;
      let e = this.beforeState();
      this._afterState = { rings: e.rings.slice(0), windings: e.windings.slice(0), multiPolys: [] };
      let i = this._afterState.rings, r = this._afterState.windings, n = this._afterState.multiPolys;
      for (let o = 0, l = this.rings.length; o < l; o++) {
        let u = this.rings[o], f = this.windings[o], d = i.indexOf(u);
        d === -1 ? (i.push(u), r.push(f)) : r[d] += f;
      }
      let s = [], a = [];
      for (let o = 0, l = i.length; o < l; o++) {
        if (r[o] === 0)
          continue;
        let u = i[o], f = u.poly;
        if (a.indexOf(f) === -1)
          if (u.isExterior)
            s.push(f);
          else {
            a.indexOf(f) === -1 && a.push(f);
            let d = s.indexOf(u.poly);
            d !== -1 && s.splice(d, 1);
          }
      }
      for (let o = 0, l = s.length; o < l; o++) {
        let u = s[o].multiPoly;
        n.indexOf(u) === -1 && n.push(u);
      }
      return this._afterState;
    }
    isInResult() {
      if (this.consumedBy)
        return false;
      if (this._isInResult !== void 0)
        return this._isInResult;
      let e = this.beforeState().multiPolys, i = this.afterState().multiPolys;
      switch (oe.type) {
        case "union": {
          let r = e.length === 0, n = i.length === 0;
          this._isInResult = r !== n;
          break;
        }
        case "intersection": {
          let r, n;
          e.length < i.length ? (r = e.length, n = i.length) : (r = i.length, n = e.length), this._isInResult = n === oe.numMultiPolys && r < n;
          break;
        }
        case "xor": {
          let r = Math.abs(e.length - i.length);
          this._isInResult = r % 2 === 1;
          break;
        }
        case "difference": {
          let r = (n) => n.length === 1 && n[0].isSubject;
          this._isInResult = r(e) !== r(i);
          break;
        }
      }
      return this._isInResult;
    }
  };
  var Qe = class {
    constructor(e, i, r) {
      __publicField(this, "poly");
      __publicField(this, "isExterior");
      __publicField(this, "segments");
      __publicField(this, "bbox");
      if (!Array.isArray(e) || e.length === 0)
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      if (this.poly = i, this.isExterior = r, this.segments = [], typeof e[0][0] != "number" || typeof e[0][1] != "number")
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      let n = ut.snap({ x: new mt(e[0][0]), y: new mt(e[0][1]) });
      this.bbox = { ll: { x: n.x, y: n.y }, ur: { x: n.x, y: n.y } };
      let s = n;
      for (let a = 1, o = e.length; a < o; a++) {
        if (typeof e[a][0] != "number" || typeof e[a][1] != "number")
          throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
        let l = ut.snap({ x: new mt(e[a][0]), y: new mt(e[a][1]) });
        l.x.eq(s.x) && l.y.eq(s.y) || (this.segments.push(Mt.fromRing(s, l, this)), l.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = l.x), l.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = l.y), l.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = l.x), l.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = l.y), s = l);
      }
      (!n.x.eq(s.x) || !n.y.eq(s.y)) && this.segments.push(Mt.fromRing(s, n, this));
    }
    getSweepEvents() {
      let e = [];
      for (let i = 0, r = this.segments.length; i < r; i++) {
        let n = this.segments[i];
        e.push(n.leftSE), e.push(n.rightSE);
      }
      return e;
    }
  }, nr = class {
    constructor(e, i) {
      __publicField(this, "multiPoly");
      __publicField(this, "exteriorRing");
      __publicField(this, "interiorRings");
      __publicField(this, "bbox");
      if (!Array.isArray(e))
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      this.exteriorRing = new Qe(e[0], this, true), this.bbox = { ll: { x: this.exteriorRing.bbox.ll.x, y: this.exteriorRing.bbox.ll.y }, ur: { x: this.exteriorRing.bbox.ur.x, y: this.exteriorRing.bbox.ur.y } }, this.interiorRings = [];
      for (let r = 1, n = e.length; r < n; r++) {
        let s = new Qe(e[r], this, false);
        s.bbox.ll.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = s.bbox.ll.x), s.bbox.ll.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = s.bbox.ll.y), s.bbox.ur.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = s.bbox.ur.x), s.bbox.ur.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = s.bbox.ur.y), this.interiorRings.push(s);
      }
      this.multiPoly = i;
    }
    getSweepEvents() {
      let e = this.exteriorRing.getSweepEvents();
      for (let i = 0, r = this.interiorRings.length; i < r; i++) {
        let n = this.interiorRings[i].getSweepEvents();
        for (let s = 0, a = n.length; s < a; s++)
          e.push(n[s]);
      }
      return e;
    }
  }, Se = class {
    constructor(e, i) {
      __publicField(this, "isSubject");
      __publicField(this, "polys");
      __publicField(this, "bbox");
      if (!Array.isArray(e))
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      try {
        typeof e[0][0][0] == "number" && (e = [e]);
      } catch {
      }
      this.polys = [], this.bbox = { ll: { x: new mt(Number.POSITIVE_INFINITY), y: new mt(Number.POSITIVE_INFINITY) }, ur: { x: new mt(Number.NEGATIVE_INFINITY), y: new mt(Number.NEGATIVE_INFINITY) } };
      for (let r = 0, n = e.length; r < n; r++) {
        let s = new nr(e[r], this);
        s.bbox.ll.x.isLessThan(this.bbox.ll.x) && (this.bbox.ll.x = s.bbox.ll.x), s.bbox.ll.y.isLessThan(this.bbox.ll.y) && (this.bbox.ll.y = s.bbox.ll.y), s.bbox.ur.x.isGreaterThan(this.bbox.ur.x) && (this.bbox.ur.x = s.bbox.ur.x), s.bbox.ur.y.isGreaterThan(this.bbox.ur.y) && (this.bbox.ur.y = s.bbox.ur.y), this.polys.push(s);
      }
      this.isSubject = i;
    }
    getSweepEvents() {
      let e = [];
      for (let i = 0, r = this.polys.length; i < r; i++) {
        let n = this.polys[i].getSweepEvents();
        for (let s = 0, a = n.length; s < a; s++)
          e.push(n[s]);
      }
      return e;
    }
  };
  var ti = class t {
    constructor(e) {
      __publicField(this, "events");
      __publicField(this, "poly");
      __publicField(this, "_isExteriorRing");
      __publicField(this, "_enclosingRing");
      this.events = e;
      for (let i = 0, r = e.length; i < r; i++)
        e[i].segment.ringOut = this;
      this.poly = null;
    }
    static factory(e) {
      let i = [];
      for (let r = 0, n = e.length; r < n; r++) {
        let s = e[r];
        if (!s.isInResult() || s.ringOut)
          continue;
        let a = null, o = s.leftSE, l = s.rightSE, u = [o], f = o.point, d = [];
        for (; a = o, o = l, u.push(o), o.point !== f; )
          for (; ; ) {
            let P = o.getAvailableLinkedEvents();
            if (P.length === 0) {
              let G = u[0].point, _ = u[u.length - 1].point;
              throw new Error(`Unable to complete output ring starting at [${G.x}, ${G.y}]. Last matching segment found ends at [${_.x}, ${_.y}].`);
            }
            if (P.length === 1) {
              l = P[0].otherSE;
              break;
            }
            let E = null;
            for (let G = 0, _ = d.length; G < _; G++)
              if (d[G].point === o.point) {
                E = G;
                break;
              }
            if (E !== null) {
              let G = d.splice(E)[0], _ = u.splice(G.index);
              _.unshift(_[0].otherSE), i.push(new t(_.reverse()));
              continue;
            }
            d.push({ index: u.length, point: o.point });
            let T = o.getLeftmostComparator(a);
            l = P.sort(T)[0].otherSE;
            break;
          }
        i.push(new t(u));
      }
      return i;
    }
    getGeom() {
      let e = this.events[0].point, i = [e];
      for (let u = 1, f = this.events.length - 1; u < f; u++) {
        let d = this.events[u].point, P = this.events[u + 1].point;
        ut.orient(d, e, P) !== 0 && (i.push(d), e = d);
      }
      if (i.length === 1)
        return null;
      let r = i[0], n = i[1];
      ut.orient(r, e, n) === 0 && i.shift(), i.push(i[0]);
      let s = this.isExteriorRing() ? 1 : -1, a = this.isExteriorRing() ? 0 : i.length - 1, o = this.isExteriorRing() ? i.length : -1, l = [];
      for (let u = a; u != o; u += s)
        l.push([i[u].x.toNumber(), i[u].y.toNumber()]);
      return l;
    }
    isExteriorRing() {
      if (this._isExteriorRing === void 0) {
        let e = this.enclosingRing();
        this._isExteriorRing = e ? !e.isExteriorRing() : true;
      }
      return this._isExteriorRing;
    }
    enclosingRing() {
      return this._enclosingRing === void 0 && (this._enclosingRing = this._calcEnclosingRing()), this._enclosingRing;
    }
    _calcEnclosingRing() {
      let e = this.events[0];
      for (let n = 1, s = this.events.length; n < s; n++) {
        let a = this.events[n];
        et.compare(e, a) > 0 && (e = a);
      }
      let i = e.segment.prevInResult(), r = i ? i.prevInResult() : null;
      for (; ; ) {
        if (!i)
          return null;
        if (!r)
          return i.ringOut;
        if (r.ringOut !== i.ringOut)
          return r.ringOut?.enclosingRing() !== i.ringOut ? i.ringOut : i.ringOut?.enclosingRing();
        i = r.prevInResult(), r = i ? i.prevInResult() : null;
      }
    }
  }, ei = class {
    constructor(e) {
      __publicField(this, "exteriorRing");
      __publicField(this, "interiorRings");
      this.exteriorRing = e, e.poly = this, this.interiorRings = [];
    }
    addInterior(e) {
      this.interiorRings.push(e), e.poly = this;
    }
    getGeom() {
      let e = this.exteriorRing.getGeom();
      if (e === null)
        return null;
      let i = [e];
      for (let r = 0, n = this.interiorRings.length; r < n; r++) {
        let s = this.interiorRings[r].getGeom();
        s !== null && i.push(s);
      }
      return i;
    }
  }, ii = class {
    constructor(e) {
      __publicField(this, "rings");
      __publicField(this, "polys");
      this.rings = e, this.polys = this._composePolys(e);
    }
    getGeom() {
      let e = [];
      for (let i = 0, r = this.polys.length; i < r; i++) {
        let n = this.polys[i].getGeom();
        n !== null && e.push(n);
      }
      return e;
    }
    _composePolys(e) {
      let i = [];
      for (let r = 0, n = e.length; r < n; r++) {
        let s = e[r];
        if (!s.poly)
          if (s.isExteriorRing())
            i.push(new ei(s));
          else {
            let a = s.enclosingRing();
            a?.poly || i.push(new ei(a)), a?.poly?.addInterior(s);
          }
      }
      return i;
    }
  };
  var Be = class {
    constructor(e, i = Mt.compare) {
      __publicField(this, "queue");
      __publicField(this, "tree");
      __publicField(this, "segments");
      this.queue = e, this.tree = new Pt(i), this.segments = [];
    }
    process(e) {
      let i = e.segment, r = [];
      if (e.consumedBy)
        return e.isLeft ? this.queue.delete(e.otherSE) : this.tree.delete(i), r;
      e.isLeft && this.tree.add(i);
      let n = i, s = i;
      do
        n = this.tree.lastBefore(n);
      while (n != null && n.consumedBy != null);
      do
        s = this.tree.firstAfter(s);
      while (s != null && s.consumedBy != null);
      if (e.isLeft) {
        let a = null;
        if (n) {
          let l = n.getIntersection(i);
          if (l !== null && (i.isAnEndpoint(l) || (a = l), !n.isAnEndpoint(l))) {
            let u = this._splitSafely(n, l);
            for (let f = 0, d = u.length; f < d; f++)
              r.push(u[f]);
          }
        }
        let o = null;
        if (s) {
          let l = s.getIntersection(i);
          if (l !== null && (i.isAnEndpoint(l) || (o = l), !s.isAnEndpoint(l))) {
            let u = this._splitSafely(s, l);
            for (let f = 0, d = u.length; f < d; f++)
              r.push(u[f]);
          }
        }
        if (a !== null || o !== null) {
          let l = null;
          a === null ? l = o : o === null ? l = a : l = et.comparePoints(a, o) <= 0 ? a : o, this.queue.delete(i.rightSE), r.push(i.rightSE);
          let u = i.split(l);
          for (let f = 0, d = u.length; f < d; f++)
            r.push(u[f]);
        }
        r.length > 0 ? (this.tree.delete(i), r.push(e)) : (this.segments.push(i), i.prev = n);
      } else {
        if (n && s) {
          let a = n.getIntersection(s);
          if (a !== null) {
            if (!n.isAnEndpoint(a)) {
              let o = this._splitSafely(n, a);
              for (let l = 0, u = o.length; l < u; l++)
                r.push(o[l]);
            }
            if (!s.isAnEndpoint(a)) {
              let o = this._splitSafely(s, a);
              for (let l = 0, u = o.length; l < u; l++)
                r.push(o[l]);
            }
          }
        }
        this.tree.delete(i);
      }
      return r;
    }
    _splitSafely(e, i) {
      this.tree.delete(e);
      let r = e.rightSE;
      this.queue.delete(r);
      let n = e.split(i);
      return n.push(r), e.consumedBy === void 0 && this.tree.add(e), n;
    }
  };
  var sr = class {
    constructor() {
      __publicField(this, "type");
      __publicField(this, "numMultiPolys");
    }
    run(e, i, r) {
      Te.type = e;
      let n = [new Se(i, true)];
      for (let f = 0, d = r.length; f < d; f++)
        n.push(new Se(r[f], false));
      if (Te.numMultiPolys = n.length, Te.type === "difference") {
        let f = n[0], d = 1;
        for (; d < n.length; )
          Pe(n[d].bbox, f.bbox) !== null ? d++ : n.splice(d, 1);
      }
      if (Te.type === "intersection")
        for (let f = 0, d = n.length; f < d; f++) {
          let P = n[f];
          for (let E = f + 1, T = n.length; E < T; E++)
            if (Pe(P.bbox, n[E].bbox) === null)
              return [];
        }
      let s = new Pt(et.compare);
      for (let f = 0, d = n.length; f < d; f++) {
        let P = n[f].getSweepEvents();
        for (let E = 0, T = P.length; E < T; E++)
          s.add(P[E]);
      }
      let a = new Be(s), o = null;
      for (s.size != 0 && (o = s.first(), s.delete(o)); o; ) {
        let f = a.process(o);
        for (let d = 0, P = f.length; d < P; d++) {
          let E = f[d];
          E.consumedBy === void 0 && s.add(E);
        }
        s.size != 0 ? (o = s.first(), s.delete(o)) : o = null;
      }
      ut.reset();
      let l = ti.factory(a.segments);
      return new ii(l).getGeom();
    }
  }, Te = new sr(), oe = Te;
  var Al = (t, ...e) => oe.run("intersection", t, e);
  var Il = (t, ...e) => oe.run("difference", t, e), pM = ut.set;
  function ni(t) {
    let e = { type: "Feature" };
    return e.geometry = t, e;
  }
  function ri(t) {
    return t.type === "Feature" ? t.geometry : t;
  }
  function Gl(t) {
    return t && t.geometry && t.geometry.coordinates ? t.geometry.coordinates : t;
  }
  function g_(t) {
    return ni({ type: "LineString", coordinates: t });
  }
  function m_(t) {
    return ni({ type: "MultiLineString", coordinates: t });
  }
  function ql(t) {
    return ni({ type: "Polygon", coordinates: t });
  }
  function Nl(t) {
    return ni({ type: "MultiPolygon", coordinates: t });
  }
  function zl(t, e) {
    let i = ri(t), r = ri(e), n = Al(i.coordinates, r.coordinates);
    return n.length === 0 ? null : n.length === 1 ? ql(n[0]) : Nl(n);
  }
  function Fl(t, e) {
    let i = ri(t), r = ri(e), n = Il(i.coordinates, r.coordinates);
    return n.length === 0 ? null : n.length === 1 ? ql(n[0]) : Nl(n);
  }
  function Vl(t) {
    return Array.isArray(t) ? 1 + Vl(t[0]) : -1;
  }
  function Ul(t) {
    t instanceof L.Polyline && (t = t.toGeoJSON(15));
    let e = Gl(t), i = Vl(e), r = [];
    return i > 1 ? e.forEach((n) => {
      r.push(g_(n));
    }) : r.push(t), r;
  }
  function jl(t) {
    let e = [];
    return t.eachLayer((i) => {
      e.push(Gl(i.toGeoJSON(15)));
    }), m_(e);
  }
  X.Cut = X.Polygon.extend({ initialize(t) {
    this._map = t, this._shape = "Cut", this.toolbarButtonName = "cutPolygon";
  }, _finishShape() {
    if (this._editedLayers = [], !this.options.allowSelfIntersection && (this._handleSelfIntersection(true, this._layer.getLatLngs()[0]), this._doesSelfIntersect) || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    let t = this._layer.getLatLngs();
    if (t.length <= 2)
      return;
    let e = L.polygon(t, this.options.pathOptions);
    e._latlngInfos = this._layer._latlngInfo, this.cut(e), this._cleanupSnapping(), this._otherSnapLayers.splice(this._tempSnapLayerIndex, 1), delete this._tempSnapLayerIndex, this._editedLayers.forEach(({ layer: i, originalLayer: r }) => {
      this._fireCut(r, i, r), this._fireCut(this._map, i, r), r.pm._fireEdit();
    }), this._editedLayers = [], this.disable(), this.options.continueDrawing && this.enable();
  }, cut(t) {
    let e = this._map._layers, i = t._latlngInfos || [];
    Object.keys(e).map((n) => e[n]).filter((n) => n.pm).filter((n) => !n._pmTempLayer).filter((n) => !L.PM.optIn && !n.options.pmIgnore || L.PM.optIn && n.options.pmIgnore === false).filter((n) => n instanceof L.Polyline).filter((n) => n !== t).filter((n) => n.pm.options.allowCutting).filter((n) => this.options.layersToCut && L.Util.isArray(this.options.layersToCut) && this.options.layersToCut.length > 0 ? this.options.layersToCut.indexOf(n) > -1 : true).filter((n) => !this._layerGroup.hasLayer(n)).filter((n) => {
      try {
        let s = !!pt(t.toGeoJSON(15), n.toGeoJSON(15)).features.length > 0;
        return s || n instanceof L.Polyline && !(n instanceof L.Polygon) ? s : !!zl(t.toGeoJSON(15), n.toGeoJSON(15));
      } catch {
        return n instanceof L.Polygon && console.error("You can't cut polygons with self-intersections"), false;
      }
    }).forEach((n) => {
      let s;
      if (n instanceof L.Polygon) {
        s = L.polygon(n.getLatLngs());
        let u = s.getLatLngs();
        i.forEach((f) => {
          if (f && f.snapInfo) {
            let { latlng: d } = f, P = this._calcClosestLayer(d, [s]);
            if (P && P.segment && P.distance < this.options.snapDistance) {
              let { segment: E } = P;
              if (E && E.length === 2) {
                let { indexPath: T, parentPath: G, newIndex: _ } = L.PM.Utils._getIndexFromSegment(u, E);
                (T.length > 1 ? (0, Kl.default)(u, G) : u).splice(_, 0, d);
              }
            }
          }
        });
      } else
        s = n;
      let a = this._cutLayer(t, s), o = L.geoJSON(a, n.options);
      o.getLayers().length === 1 && ([o] = o.getLayers()), this._setPane(o, "layerPane");
      let l = o.addTo(this._map.pm._getContainingLayer());
      if (l.pm.enable(n.pm.options), l.pm.disable(), n._pmTempLayer = true, t._pmTempLayer = true, n.remove(), n.removeFrom(this._map.pm._getContainingLayer()), t.remove(), t.removeFrom(this._map.pm._getContainingLayer()), l.getLayers && l.getLayers().length === 0 && this._map.pm.removeLayer({ target: l }), l instanceof L.LayerGroup ? (l.eachLayer((u) => {
        this._addDrawnLayerProp(u);
      }), this._addDrawnLayerProp(l)) : this._addDrawnLayerProp(l), this.options.layersToCut && L.Util.isArray(this.options.layersToCut) && this.options.layersToCut.length > 0) {
        let u = this.options.layersToCut.indexOf(n);
        u > -1 && this.options.layersToCut.splice(u, 1);
      }
      this._editedLayers.push({ layer: l, originalLayer: n });
    });
  }, _cutLayer(t, e) {
    let i = L.geoJSON(), r;
    if (e instanceof L.Polygon)
      r = Fl(e.toGeoJSON(15), t.toGeoJSON(15));
    else {
      let n = Ul(e);
      n.forEach((s) => {
        let a = vl(s, t.toGeoJSON(15)), o;
        a && a.features.length > 0 ? o = L.geoJSON(a) : o = L.geoJSON(s), o.getLayers().forEach((l) => {
          Yi(t.toGeoJSON(15), l.toGeoJSON(15)) || l.addTo(i);
        });
      }), n.length > 1 ? r = jl(i) : r = i.toGeoJSON(15);
    }
    return r;
  }, _change: L.Util.falseFn });
  X.Text = X.extend({ initialize(t) {
    this._map = t, this._shape = "Text", this.toolbarButtonName = "drawText";
  }, enable(t) {
    L.Util.setOptions(this, t), this._enabled = true, this._map.on("click", this._createMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, true), this._hintMarker = L.marker(this._map.getCenter(), { interactive: false, zIndexOffset: 100, icon: L.divIcon({ className: "marker-icon cursor-marker" }) }), this._setPane(this._hintMarker, "vertexPane"), this._hintMarker._pmTempLayer = true, this._hintMarker.addTo(this._map), this.options.cursorMarker && L.DomUtil.addClass(this._hintMarker._icon, "visible"), this.options.tooltips && this._hintMarker.bindTooltip(V("tooltips.placeText"), { permanent: true, offset: L.point(0, 10), direction: "bottom", opacity: 0.8 }).openTooltip(), this._layer = this._hintMarker, this._map.on("mousemove", this._syncHintMarker, this), this._map.getContainer().classList.add("geoman-draw-cursor"), this._fireDrawStart(), this._setGlobalDrawMode();
  }, disable() {
    this._enabled && (this._enabled = false, this._map.off("click", this._createMarker, this), this._hintMarker?.remove(), this._map.getContainer().classList.remove("geoman-draw-cursor"), this._map.off("mousemove", this._syncHintMarker, this), this._map.pm.Toolbar.toggleButton(this.toolbarButtonName, false), this.options.snappable && this._cleanupSnapping(), this._fireDrawEnd(), this._setGlobalDrawMode());
  }, enabled() {
    return this._enabled;
  }, toggle(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, _syncHintMarker(t) {
    if (this._hintMarker.setLatLng(t.latlng), this.options.snappable) {
      let e = t;
      e.target = this._hintMarker, this._handleSnapping(e);
    }
  }, _createMarker(t) {
    if (!t.latlng || this.options.requireSnapToFinish && !this._hintMarker._snapped && !this._isFirstLayer())
      return;
    this._hintMarker._snapped || this._hintMarker.setLatLng(t.latlng);
    let e = this._hintMarker.getLatLng();
    if (this.textArea = this._createTextArea(), this.options.textOptions?.className) {
      let n = this.options.textOptions.className.split(" ");
      this.textArea.classList.add(...n);
    }
    let i = this._createTextIcon(this.textArea), r = new L.Marker(e, { textMarker: true, _textMarkerOverPM: true, icon: i });
    if (this._setPane(r, "markerPane"), this._finishLayer(r), r.pm || (r.options.draggable = false), r.addTo(this._map.pm._getContainingLayer()), r.pm) {
      r.pm.textArea = this.textArea, L.setOptions(r.pm, { removeIfEmpty: this.options.textOptions?.removeIfEmpty ?? true });
      let n = this.options.textOptions?.focusAfterDraw ?? true;
      r.pm._createTextMarker(n), this.options.textOptions?.text && r.pm.setText(this.options.textOptions.text);
    }
    this._fireCreate(r), this._cleanupSnapping(), this.disable(), this.options.continueDrawing && this.enable();
  }, _createTextArea() {
    let t = document.createElement("textarea");
    return t.readOnly = true, t.classList.add("pm-textarea", "pm-disabled"), t;
  }, _createTextIcon(t) {
    return L.divIcon({ className: "pm-text-marker", html: t });
  } });
  var __ = { enableLayerDrag() {
    if (!this.options.draggable || !this._layer._map)
      return;
    this.disable(), this._layerDragEnabled = true, this._map || (this._map = this._layer._map), (this._layer instanceof L.Marker || this._layer instanceof L.ImageOverlay) && L.DomEvent.on(this._getDOMElem(), "dragstart", this._stopDOMImageDrag), this._layer.dragging && this._layer.dragging.disable(), this._tempDragCoord = null, Rt(this._layer) instanceof L.Canvas ? (this._layer.on("mouseout", this.removeDraggingClass, this), this._layer.on("mouseover", this.addDraggingClass, this)) : this.addDraggingClass(), this._originalMapDragState = this._layer._map.dragging._enabled, this._safeToCacheDragState = true;
    let t = this._getDOMElem();
    t && (Rt(this._layer) instanceof L.Canvas ? (this._layer.on("touchstart mousedown", this._dragMixinOnMouseDown, this), this._map.pm._addTouchEvents(t)) : L.DomEvent.on(t, "touchstart mousedown", this._simulateMouseDownEvent, this)), this._fireDragEnable();
  }, disableLayerDrag() {
    this._layerDragEnabled = false, Rt(this._layer) instanceof L.Canvas ? (this._layer.off("mouseout", this.removeDraggingClass, this), this._layer.off("mouseover", this.addDraggingClass, this)) : this.removeDraggingClass(), this._originalMapDragState && this._dragging && this._map.dragging.enable(), this._safeToCacheDragState = false, this._layer.dragging && this._layer.dragging.disable();
    let t = this._getDOMElem();
    t && (Rt(this._layer) instanceof L.Canvas ? (this._layer.off("touchstart mousedown", this._dragMixinOnMouseDown, this), this._map.pm._removeTouchEvents(t)) : L.DomEvent.off(t, "touchstart mousedown", this._simulateMouseDownEvent, this)), this._layerDragged && this._fireUpdate(), this._layerDragged = false, this._fireDragDisable();
  }, dragging() {
    return this._dragging;
  }, layerDragEnabled() {
    return !!this._layerDragEnabled;
  }, _simulateMouseDownEvent(t) {
    let e = t.touches ? t.touches[0] : t, i = { originalEvent: e, target: this._layer };
    return i.containerPoint = this._map.mouseEventToContainerPoint(e), i.latlng = this._map.containerPointToLatLng(i.containerPoint), this._dragMixinOnMouseDown(i), false;
  }, _simulateMouseMoveEvent(t) {
    let e = t.touches ? t.touches[0] : t, i = { originalEvent: e, target: this._layer };
    return i.containerPoint = this._map.mouseEventToContainerPoint(e), i.latlng = this._map.containerPointToLatLng(i.containerPoint), this._dragMixinOnMouseMove(i), false;
  }, _simulateMouseUpEvent(t) {
    let i = { originalEvent: t.touches ? t.touches[0] : t, target: this._layer };
    return t.type.indexOf("touch") === -1 && (i.containerPoint = this._map.mouseEventToContainerPoint(t), i.latlng = this._map.containerPointToLatLng(i.containerPoint)), this._dragMixinOnMouseUp(i), false;
  }, _dragMixinOnMouseDown(t) {
    if (t.originalEvent.button > 0)
      return;
    this._overwriteEventIfItComesFromMarker(t);
    let e = t._fromLayerSync, i = this._syncLayers("_dragMixinOnMouseDown", t);
    if (this._layer instanceof L.Marker && (this.options.snappable && !e && !i ? this._initSnappableMarkers() : this._disableSnapping()), this._layer instanceof L.CircleMarker) {
      let r = "resizeableCircleMarker";
      this._layer instanceof L.Circle && (r = "resizableCircle"), this.options.snappable && !e && !i ? this._layer.pm.options[r] || this._initSnappableMarkersDrag() : this._layer.pm.options[r] ? this._layer.pm._disableSnapping() : this._layer.pm._disableSnappingDrag();
    }
    this._safeToCacheDragState && (this._originalMapDragState = this._layer._map.dragging._enabled, this._safeToCacheDragState = false), this._tempDragCoord = t.latlng, L.DomEvent.on(this._map.getContainer(), "touchend mouseup", this._simulateMouseUpEvent, this), L.DomEvent.on(this._map.getContainer(), "touchmove mousemove", this._simulateMouseMoveEvent, this);
  }, _dragMixinOnMouseMove(t) {
    this._overwriteEventIfItComesFromMarker(t);
    let e = this._getDOMElem();
    this._syncLayers("_dragMixinOnMouseMove", t), this._dragging || (this._dragging = true, L.DomUtil.addClass(e, "leaflet-pm-dragging"), this._layer instanceof L.Marker || this._layer.bringToFront(), this._originalMapDragState && this._map.dragging.disable(), this._fireDragStart()), this._tempDragCoord || (this._tempDragCoord = t.latlng), this._onLayerDrag(t), this._layer instanceof L.CircleMarker && this._layer.pm._updateHiddenPolyCircle();
  }, _dragMixinOnMouseUp(t) {
    let e = this._getDOMElem();
    return this._syncLayers("_dragMixinOnMouseUp", t), this._originalMapDragState && this._map.dragging.enable(), this._safeToCacheDragState = true, L.DomEvent.off(this._map.getContainer(), "touchmove mousemove", this._simulateMouseMoveEvent, this), L.DomEvent.off(this._map.getContainer(), "touchend mouseup", this._simulateMouseUpEvent, this), this._dragging ? (this._layer instanceof L.CircleMarker && this._layer.pm._updateHiddenPolyCircle(), this._layerDragged = true, window.setTimeout(() => {
      this._dragging = false, e && L.DomUtil.removeClass(e, "leaflet-pm-dragging"), this._fireDragEnd(), this._fireEdit(), this._layerEdited = true;
    }, 10), true) : false;
  }, _onLayerDrag(t) {
    let { latlng: e } = t, i = { lat: e.lat - this._tempDragCoord.lat, lng: e.lng - this._tempDragCoord.lng }, r = (n) => n.map((s) => {
      if (Array.isArray(s))
        return r(s);
      let a = { lat: s.lat + i.lat, lng: s.lng + i.lng };
      return (s.alt || s.alt === 0) && (a.alt = s.alt), a;
    });
    if (this._layer instanceof L.Circle && this._layer.options.resizableCircle || this._layer instanceof L.CircleMarker && this._layer.options.resizeableCircleMarker) {
      let n = r([this._layer.getLatLng()]);
      this._layer.setLatLng(n[0]), this._fireChange(this._layer.getLatLng(), "Edit");
    } else if (this._layer instanceof L.CircleMarker || this._layer instanceof L.Marker) {
      let n = this._layer.getLatLng();
      this._layer._snapped && (n = this._layer._orgLatLng);
      let s = r([n]);
      this._layer.setLatLng(s[0]), this._fireChange(this._layer.getLatLng(), "Edit");
    } else if (this._layer instanceof L.ImageOverlay) {
      let n = r([this._layer.getBounds().getNorthWest(), this._layer.getBounds().getSouthEast()]);
      this._layer.setBounds(n), this._fireChange(this._layer.getBounds(), "Edit");
    } else {
      let n = r(this._layer.getLatLngs());
      this._layer.setLatLngs(n), this._fireChange(this._layer.getLatLngs(), "Edit");
    }
    this._tempDragCoord = e, t.layer = this._layer, this._fireDrag(t);
  }, addDraggingClass() {
    let t = this._getDOMElem();
    t && L.DomUtil.addClass(t, "leaflet-pm-draggable");
  }, removeDraggingClass() {
    let t = this._getDOMElem();
    t && L.DomUtil.removeClass(t, "leaflet-pm-draggable");
  }, _getDOMElem() {
    let t = null;
    return this._layer._path ? t = this._layer._path : this._layer._renderer && this._layer._renderer._container ? t = this._layer._renderer._container : this._layer._image ? t = this._layer._image : this._layer._icon && (t = this._layer._icon), t;
  }, _overwriteEventIfItComesFromMarker(t) {
    t.target.getLatLng && (!t.target._radius || t.target._radius <= 10) && (t.containerPoint = this._map.mouseEventToContainerPoint(t.originalEvent), t.latlng = this._map.containerPointToLatLng(t.containerPoint));
  }, _syncLayers(t, e) {
    if (this.enabled())
      return false;
    if (!e._fromLayerSync && this._layer === e.target && this.options.syncLayersOnDrag) {
      e._fromLayerSync = true;
      let i = [];
      if (L.Util.isArray(this.options.syncLayersOnDrag))
        i = this.options.syncLayersOnDrag, this.options.syncLayersOnDrag.forEach((r) => {
          r instanceof L.LayerGroup && (i = i.concat(r.pm.getLayers(true)));
        });
      else if (this.options.syncLayersOnDrag === true && this._parentLayerGroup)
        for (let r in this._parentLayerGroup) {
          let n = this._parentLayerGroup[r];
          n.pm && (i = n.pm.getLayers(true));
        }
      return L.Util.isArray(i) && i.length > 0 && (i = i.filter((r) => !!r.pm).filter((r) => !!r.pm.options.draggable), i.forEach((r) => {
        r !== this._layer && r.pm[t] && (r._snapped = false, r.pm[t](e));
      })), i.length > 0;
    }
    return false;
  }, _stopDOMImageDrag(t) {
    return t.preventDefault(), false;
  } }, Hl = __;
  var Xl = xt(Le());
  function y_(t, e, i, r) {
    return i.unproject(e.transform(i.project(t, r)), r);
  }
  function ar(t, e, i) {
    let r = i.getMaxZoom();
    if (r === 1 / 0 && (r = i.getZoom()), L.Util.isArray(t)) {
      let n = [];
      return t.forEach((s) => {
        n.push(ar(s, e, i));
      }), n;
    }
    return t instanceof L.LatLng ? y_(t, e, i, r) : null;
  }
  function It(t, e) {
    e instanceof L.Layer && (e = e.getLatLng());
    let i = t.getMaxZoom();
    return i === 1 / 0 && (i = t.getZoom()), t.project(e, i);
  }
  function Re(t, e) {
    let i = t.getMaxZoom();
    return i === 1 / 0 && (i = t.getZoom()), t.unproject(e, i);
  }
  var L_ = { _onRotateStart(t) {
    this._preventRenderingMarkers(true), this._rotationOriginLatLng = this._getRotationCenter().clone(), this._rotationOriginPoint = It(this._map, this._rotationOriginLatLng), this._rotationStartPoint = It(this._map, t.target.getLatLng()), this._initialRotateLatLng = vt(this._layer), this._startAngle = this.getAngle();
    let e = vt(this._rotationLayer, this._rotationLayer.pm._rotateOrgLatLng);
    this._fireRotationStart(this._rotationLayer, e), this._fireRotationStart(this._map, e);
  }, _onRotate(t) {
    let e = It(this._map, t.target.getLatLng()), i = this._rotationStartPoint, r = this._rotationOriginPoint, n = Math.atan2(e.y - r.y, e.x - r.x) - Math.atan2(i.y - r.y, i.x - r.x);
    this._layer.setLatLngs(this._rotateLayer(n, this._initialRotateLatLng, this._rotationOriginLatLng, L.PM.Matrix.init(), this._map));
    let s = this;
    function a(f, d = [], P = -1) {
      if (P > -1 && d.push(P), L.Util.isArray(f[0]))
        f.forEach((E, T) => a(E, d.slice(), T));
      else {
        let E = (0, Xl.default)(s._markers, d);
        f.forEach((T, G) => {
          E[G].setLatLng(T);
        });
      }
    }
    a(this._layer.getLatLngs());
    let o = vt(this._rotationLayer);
    this._rotationLayer.setLatLngs(this._rotateLayer(n, this._rotationLayer.pm._rotateOrgLatLng, this._rotationOriginLatLng, L.PM.Matrix.init(), this._map));
    let l = n * 180 / Math.PI;
    l = l < 0 ? l + 360 : l;
    let u = l + this._startAngle;
    this._setAngle(u), this._rotationLayer.pm._setAngle(u), this._fireRotation(this._rotationLayer, l, o), this._fireRotation(this._map, l, o), this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(), "Rotation");
  }, _onRotateEnd() {
    let t = this._startAngle;
    delete this._rotationOriginLatLng, delete this._rotationOriginPoint, delete this._rotationStartPoint, delete this._initialRotateLatLng, delete this._startAngle;
    let e = vt(this._rotationLayer, this._rotationLayer.pm._rotateOrgLatLng);
    this._rotationLayer.pm._rotateOrgLatLng = vt(this._rotationLayer), this._fireRotationEnd(this._rotationLayer, t, e), this._fireRotationEnd(this._map, t, e), this._rotationLayer.pm._fireEdit(this._rotationLayer, "Rotation"), this._preventRenderingMarkers(false), this._layerRotated = true;
  }, _rotateLayer(t, e, i, r, n) {
    let s = It(n, i);
    return this._matrix = r.clone().rotate(t, s).flip(), ar(e, this._matrix, n);
  }, _setAngle(t) {
    t = t < 0 ? t + 360 : t, this._angle = t % 360;
  }, _getRotationCenter() {
    if (this._rotationCenter)
      return this._rotationCenter;
    let t = L.polygon(this._layer.getLatLngs(), { stroke: false, fill: false, pmIgnore: true }).addTo(this._layer._map), e = t.getCenter();
    return t.removeFrom(this._layer._map), e;
  }, enableRotate() {
    if (!this.options.allowRotation) {
      this.disableRotate();
      return;
    }
    this.rotateEnabled() && this.disableRotate(), this._layer instanceof L.Rectangle && this._angle === void 0 && this.setInitAngle(ke(this._layer._map, this._layer.getLatLngs()[0][0], this._layer.getLatLngs()[0][1]) || 0);
    let t = { fill: false, stroke: false, pmIgnore: false, snapIgnore: true };
    this._rotatePoly = L.polygon(this._layer.getLatLngs(), t), this._rotatePoly._pmTempLayer = true, this._rotatePoly.addTo(this._layer._map), this._rotatePoly.pm._setAngle(this.getAngle()), this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()), this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()), this._rotatePoly.pm.setOptions({ rotate: true, snappable: false, hideMiddleMarkers: true }), this._rotatePoly.pm._rotationLayer = this._layer, this._rotatePoly.pm.enable(), this._rotateOrgLatLng = vt(this._layer), this._rotateEnabled = true, this._layer.on("remove", this.disableRotate, this), this._fireRotationEnable(this._layer), this._fireRotationEnable(this._layer._map);
  }, disableRotate() {
    this.rotateEnabled() && (this._rotatePoly.pm._layerRotated && this._fireUpdate(), this._rotatePoly.pm._layerRotated = false, this._rotatePoly.pm.disable(), this._rotatePoly.remove(), this._rotatePoly.pm.setOptions({ rotate: false }), this._rotatePoly = void 0, this._rotateOrgLatLng = void 0, this._layer.off("remove", this.disableRotate, this), this._rotateEnabled = false, this._fireRotationDisable(this._layer), this._fireRotationDisable(this._layer._map));
  }, rotateEnabled() {
    return !!this._rotateEnabled;
  }, rotateLayer(t) {
    let e = this.getAngle(), i = this._layer.getLatLngs(), r = t * (Math.PI / 180);
    this._layer.setLatLngs(this._rotateLayer(r, this._layer.getLatLngs(), this._getRotationCenter(), L.PM.Matrix.init(), this._layer._map)), this._rotateOrgLatLng = L.polygon(this._layer.getLatLngs()).getLatLngs(), this._setAngle(this.getAngle() + t), this.rotateEnabled() && this._rotatePoly && this._rotatePoly.pm.enabled() && (this._rotatePoly.setLatLngs(this._rotateLayer(r, this._rotatePoly.getLatLngs(), this._getRotationCenter(), L.PM.Matrix.init(), this._rotatePoly._map)), this._rotatePoly.pm._initMarkers());
    let n = this.getAngle() - e;
    n = n < 0 ? n + 360 : n, this._startAngle = e, this._fireRotation(this._layer, n, i, this._layer), this._fireRotation(this._map || this._layer._map, n, i, this._layer), delete this._startAngle, this._fireChange(this._layer.getLatLngs(), "Rotation");
  }, rotateLayerToAngle(t) {
    let e = t - this.getAngle();
    this.rotateLayer(e);
  }, getAngle() {
    return this._angle || 0;
  }, setInitAngle(t) {
    this._setAngle(t);
  }, getRotationCenter() {
    return this._getRotationCenter();
  }, setRotationCenter(t) {
    this._rotationCenter = t, this._rotatePoly && this._rotatePoly.pm.setRotationCenter(t);
  } }, Yl = L_;
  var b_ = L.Class.extend({ includes: [Hl, Fe, Yl, Tt], options: { snappable: true, snapDistance: 20, allowSelfIntersection: true, allowSelfIntersectionEdit: false, preventMarkerRemoval: false, removeLayerBelowMinVertexCount: true, limitMarkersToCount: -1, hideMiddleMarkers: false, snapSegment: true, syncLayersOnDrag: false, draggable: true, allowEditing: true, allowRemoval: true, allowCutting: true, allowRotation: true, addVertexOn: "click", removeVertexOn: "contextmenu", removeVertexValidation: void 0, addVertexValidation: void 0, moveVertexValidation: void 0, resizeableCircleMarker: false, resizableCircle: true }, setOptions(t) {
    L.Util.setOptions(this, t);
  }, getOptions() {
    return this.options;
  }, applyOptions() {
  }, isPolygon() {
    return this._layer instanceof L.Polygon;
  }, getShape() {
    return this._shape;
  }, _setPane(t, e) {
    e === "layerPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.layerPane || "overlayPane" : e === "vertexPane" ? t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.vertexPane || "markerPane" : e === "markerPane" && (t.options.pane = this._map.pm.globalOptions.panes && this._map.pm.globalOptions.panes.markerPane || "markerPane");
  }, remove() {
    (this._map || this._layer._map).pm.removeLayer({ target: this._layer });
  }, _vertexValidation(t, e) {
    let i = e.target, r = { layer: this._layer, marker: i, event: e }, n = "";
    return t === "move" ? n = "moveVertexValidation" : t === "add" ? n = "addVertexValidation" : t === "remove" && (n = "removeVertexValidation"), this.options[n] && typeof this.options[n] == "function" && !this.options[n](r) ? (t === "move" && (i._cancelDragEventChain = i.getLatLng()), false) : (i._cancelDragEventChain = null, true);
  }, _vertexValidationDrag(t) {
    return t._cancelDragEventChain ? (t._latlng = t._cancelDragEventChain, t.update(), false) : true;
  }, _vertexValidationDragEnd(t) {
    return t._cancelDragEventChain ? (t._cancelDragEventChain = null, false) : true;
  } }), H = b_;
  H.LayerGroup = L.Class.extend({ initialize(t) {
    this._layerGroup = t, this._layers = this.getLayers(), this._getMap(), this._layers.forEach((r) => this._initLayer(r));
    let e = (r) => {
      if (r.layer._pmTempLayer)
        return;
      this._layers = this.getLayers();
      let n = this._layers.filter((s) => !s.pm._parentLayerGroup || !(this._layerGroup._leaflet_id in s.pm._parentLayerGroup));
      n.forEach((s) => {
        this._initLayer(s);
      }), n.length > 0 && this._getMap() && this._getMap().pm.globalEditModeEnabled() && this.enabled() && this.enable(this.getOptions());
    };
    this._layerGroup.on("layeradd", L.Util.throttle(e, 100, this), this), this._layerGroup.on("layerremove", (r) => {
      this._removeLayerFromGroup(r.target);
    }, this);
    let i = (r) => {
      r.target._pmTempLayer || (this._layers = this.getLayers());
    };
    this._layerGroup.on("layerremove", L.Util.throttle(i, 100, this), this);
  }, enable(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this._options = t, this._layers.forEach((i) => {
      i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.enable(t, e)) : i.pm.enable(t);
    });
  }, disable(t = []) {
    t.length === 0 && (this._layers = this.getLayers()), this._layers.forEach((e) => {
      e instanceof L.LayerGroup ? t.indexOf(e._leaflet_id) === -1 && (t.push(e._leaflet_id), e.pm.disable(t)) : e.pm.disable();
    });
  }, enabled(t = []) {
    return t.length === 0 && (this._layers = this.getLayers()), !!this._layers.find((i) => i instanceof L.LayerGroup ? t.indexOf(i._leaflet_id) === -1 ? (t.push(i._leaflet_id), i.pm.enabled(t)) : false : i.pm.enabled());
  }, toggleEdit(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this._options = t, this._layers.forEach((i) => {
      i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.toggleEdit(t, e)) : i.pm.toggleEdit(t);
    });
  }, _initLayer(t) {
    let e = L.Util.stamp(this._layerGroup);
    t.pm._parentLayerGroup || (t.pm._parentLayerGroup = {}), t.pm._parentLayerGroup[e] = this._layerGroup;
  }, _removeLayerFromGroup(t) {
    if (t.pm && t.pm._layerGroup) {
      let e = L.Util.stamp(this._layerGroup);
      delete t.pm._layerGroup[e];
    }
  }, dragging() {
    return this._layers = this.getLayers(), this._layers ? !!this._layers.find((e) => e.pm.dragging()) : false;
  }, getOptions() {
    return this.options;
  }, _getMap() {
    return this._map || this._layers.find((t) => !!t._map)?._map || null;
  }, getLayers(t = false, e = true, i = true, r = []) {
    let n = [];
    return t ? this._layerGroup.getLayers().forEach((s) => {
      n.push(s), s instanceof L.LayerGroup && r.indexOf(s._leaflet_id) === -1 && (r.push(s._leaflet_id), n = n.concat(s.pm.getLayers(true, true, true, r)));
    }) : n = this._layerGroup.getLayers(), i && (n = n.filter((s) => !(s instanceof L.LayerGroup))), e && (n = n.filter((s) => !!s.pm), n = n.filter((s) => !s._pmTempLayer), n = n.filter((s) => !L.PM.optIn && !s.options.pmIgnore || L.PM.optIn && s.options.pmIgnore === false)), n;
  }, setOptions(t, e = []) {
    e.length === 0 && (this._layers = this.getLayers()), this.options = t, this._layers.forEach((i) => {
      i.pm && (i instanceof L.LayerGroup ? e.indexOf(i._leaflet_id) === -1 && (e.push(i._leaflet_id), i.pm.setOptions(t, e)) : i.pm.setOptions(t));
    });
  } });
  H.Marker = H.extend({ _shape: "Marker", initialize(t) {
    this._layer = t, this._enabled = false, this._layer.on("dragend", this._onDragEnd, this);
  }, enable(t = { draggable: true }) {
    if (L.Util.setOptions(this, t), !this.options.allowEditing || !this._layer._map) {
      this.disable();
      return;
    }
    this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._layer.on("remove", this.disable, this), this._enabled = true, this._fireEnable();
  }, disable() {
    this.enabled() && (this.disableLayerDrag(), this._layer.off("remove", this.disable, this), this._layer.off("contextmenu", this._removeMarker, this), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false);
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping(), this.options.draggable ? this.enableLayerDrag() : this.disableLayerDrag(), this.options.preventMarkerRemoval || this._layer.on("contextmenu", this._removeMarker, this);
  }, _removeMarker(t) {
    let e = t.target;
    e.remove(), this._fireRemove(e), this._fireRemove(this._map, e);
  }, _onDragEnd() {
    this._fireEdit(), this._layerEdited = true;
  }, _initSnappableMarkers() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  } });
  var St = xt(Le());
  var v_ = { filterMarkerGroup() {
    this.markerCache = [], this.createCache(), this._layer.on("pm:edit", this.createCache, this), this.applyLimitFilters({}), this.throttledApplyLimitFilters || (this.throttledApplyLimitFilters = L.Util.throttle(this.applyLimitFilters, 100, this)), this._layer.on("pm:disable", this._removeMarkerLimitEvents, this), this._layer.on("remove", this._removeMarkerLimitEvents, this), this.options.limitMarkersToCount > -1 && (this._layer.on("pm:vertexremoved", this._initMarkers, this), this._map.on("mousemove", this.throttledApplyLimitFilters, this));
  }, _removeMarkerLimitEvents() {
    this._map.off("mousemove", this.throttledApplyLimitFilters, this), this._layer.off("pm:edit", this.createCache, this), this._layer.off("pm:disable", this._removeMarkerLimitEvents, this), this._layer.off("pm:vertexremoved", this._initMarkers, this);
  }, createCache() {
    let t = [...this._markerGroup.getLayers(), ...this.markerCache];
    this.markerCache = t.filter((e, i, r) => r.indexOf(e) === i);
  }, _removeFromCache(t) {
    let e = this.markerCache.indexOf(t);
    e > -1 && this.markerCache.splice(e, 1);
  }, renderLimits(t) {
    this.markerCache.forEach((e) => {
      t.includes(e) ? this._markerGroup.addLayer(e) : this._markerGroup.removeLayer(e);
    });
  }, applyLimitFilters({ latlng: t = { lat: 0, lng: 0 } }) {
    if (this._preventRenderMarkers)
      return;
    let i = [...this._filterClosestMarkers(t)];
    this.renderLimits(i);
  }, _filterClosestMarkers(t) {
    let e = [...this.markerCache], i = this.options.limitMarkersToCount;
    return i === -1 ? e : (e.sort((n, s) => {
      let a = n._latlng.distanceTo(t), o = s._latlng.distanceTo(t);
      return a - o;
    }), e.filter((n, s) => i > -1 ? s < i : true));
  }, _preventRenderMarkers: false, _preventRenderingMarkers(t) {
    this._preventRenderMarkers = !!t;
  } }, Jl = v_;
  H.Line = H.extend({ includes: [Jl], _shape: "Line", initialize(t) {
    this._layer = t, this._enabled = false;
  }, enable(t) {
    if (L.Util.setOptions(this, t), this._map = this._layer._map, !!this._map) {
      if (!this.options.allowEditing) {
        this.disable();
        return;
      }
      this.enabled() && this.disable(), this._enabled = true, this._initMarkers(), this.applyOptions(), this._layer.on("remove", this.disable, this), this.options.allowSelfIntersection || this._layer.on("pm:vertexremoved", this._handleSelfIntersectionOnVertexRemoval, this), this.options.allowSelfIntersection ? this.cachedColor = void 0 : (this._layer.options.color !== "#f00000ff" ? (this.cachedColor = this._layer.options.color, this.isRed = false) : this.isRed = true, this._handleLayerStyle()), this._fireEnable();
    }
  }, disable() {
    if (!this.enabled() || this._dragging)
      return;
    this._enabled = false, this._markerGroup.clearLayers(), this._markerGroup.removeFrom(this._map), this._layer.off("remove", this.disable, this), this.options.allowSelfIntersection || this._layer.off("pm:vertexremoved", this._handleSelfIntersectionOnVertexRemoval, this);
    let t = this._layer._path ? this._layer._path : this._layer._renderer._container;
    L.DomUtil.removeClass(t, "leaflet-pm-draggable"), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable();
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    return this.enabled() ? this.disable() : this.enable(t), this.enabled();
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping();
  }, _initMarkers() {
    let t = this._map, e = this._layer.getLatLngs();
    this._markerGroup && this._markerGroup.clearLayers(), this._markerGroup = new L.FeatureGroup(), this._markerGroup._pmTempLayer = true;
    let i = (r) => {
      if (Array.isArray(r[0]))
        return r.map(i, this);
      let n = r.map(this._createMarker, this);
      return this.options.hideMiddleMarkers !== true && r.map((s, a) => {
        let o = this.isPolygon() ? (a + 1) % r.length : a + 1;
        return this._createMiddleMarker(n[a], n[o]);
      }), n;
    };
    this._markers = i(e), this.filterMarkerGroup(), t.addLayer(this._markerGroup);
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._pmTempLayer = true, this.options.rotate ? (e.on("dragstart", this._onRotateStart, this), e.on("drag", this._onRotate, this), e.on("dragend", this._onRotateEnd, this)) : (e.on("click", this._onVertexClick, this), e.on("dragstart", this._onMarkerDragStart, this), e.on("move", this._onMarkerDrag, this), e.on("dragend", this._onMarkerDragEnd, this), this.options.preventMarkerRemoval || e.on(this.options.removeVertexOn, this._removeMarker, this)), this._markerGroup.addLayer(e), e;
  }, _createMiddleMarker(t, e) {
    if (!t || !e)
      return false;
    let i = L.PM.Utils.calcMiddleLatLng(this._map, t.getLatLng(), e.getLatLng()), r = this._createMarker(i), n = L.divIcon({ className: "marker-icon marker-icon-middle" });
    return r.setIcon(n), r.leftM = t, r.rightM = e, t._middleMarkerNext = r, e._middleMarkerPrev = r, r.on(this.options.addVertexOn, this._onMiddleMarkerClick, this), r.on("movestart", this._onMiddleMarkerMoveStart, this), r;
  }, _onMiddleMarkerClick(t) {
    let e = t.target;
    if (!this._vertexValidation("add", t))
      return;
    let i = L.divIcon({ className: "marker-icon" });
    e.setIcon(i), this._addMarker(e, e.leftM, e.rightM);
  }, _onMiddleMarkerMoveStart(t) {
    let e = t.target;
    if (e.on("moveend", this._onMiddleMarkerMoveEnd, this), !this._vertexValidation("add", t)) {
      e.on("move", this._onMiddleMarkerMovePrevent, this);
      return;
    }
    e._dragging = true, this._addMarker(e, e.leftM, e.rightM);
  }, _onMiddleMarkerMovePrevent(t) {
    let e = t.target;
    this._vertexValidationDrag(e);
  }, _onMiddleMarkerMoveEnd(t) {
    let e = t.target;
    if (e.off("move", this._onMiddleMarkerMovePrevent, this), e.off("moveend", this._onMiddleMarkerMoveEnd, this), !this._vertexValidationDragEnd(e))
      return;
    let i = L.divIcon({ className: "marker-icon" });
    e.setIcon(i), setTimeout(() => {
      delete e._dragging;
    }, 100);
  }, _addMarker(t, e, i) {
    t.off("movestart", this._onMiddleMarkerMoveStart, this), t.off(this.options.addVertexOn, this._onMiddleMarkerClick, this);
    let r = t.getLatLng(), n = this._layer._latlngs;
    delete t.leftM, delete t.rightM;
    let { indexPath: s, index: a, parentPath: o } = L.PM.Utils.findDeepMarkerIndex(this._markers, e), l = s.length > 1 ? (0, St.default)(n, o) : n, u = s.length > 1 ? (0, St.default)(this._markers, o) : this._markers;
    l.splice(a + 1, 0, r), u.splice(a + 1, 0, t), this._layer.setLatLngs(n), this.options.hideMiddleMarkers !== true && (this._createMiddleMarker(e, t), this._createMiddleMarker(t, i)), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit"), this._fireVertexAdded(t, L.PM.Utils.findDeepMarkerIndex(this._markers, t).indexPath, r), this.options.snappable && this._initSnappableMarkers();
  }, hasSelfIntersection() {
    return zt(this._layer.toGeoJSON(15)).features.length > 0;
  }, _handleSelfIntersectionOnVertexRemoval() {
    this._handleLayerStyle(true) && (this._layer.setLatLngs(this._coordsBeforeEdit), this._coordsBeforeEdit = null, this._initMarkers());
  }, _handleLayerStyle(t) {
    let e = this._layer, i, r;
    if (this.options.allowSelfIntersection ? i = false : (r = zt(this._layer.toGeoJSON(15)), i = r.features.length > 0), i) {
      if (!this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._updateDisabledMarkerStyle(this._markers, true), this.isRed)
        return i;
      t ? this._flashLayer() : (e.setStyle({ color: "#f00000ff" }), this.isRed = true), this._fireIntersect(r);
    } else
      e.setStyle({ color: this.cachedColor }), this.isRed = false, !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._updateDisabledMarkerStyle(this._markers, false);
    return i;
  }, _flashLayer() {
    this.cachedColor || (this.cachedColor = this._layer.options.color), this._layer.setStyle({ color: "#f00000ff" }), this.isRed = true, window.setTimeout(() => {
      this._layer.setStyle({ color: this.cachedColor }), this.isRed = false;
    }, 200);
  }, _updateDisabledMarkerStyle(t, e) {
    t.forEach((i) => {
      Array.isArray(i) ? this._updateDisabledMarkerStyle(i, e) : i._icon && (e && !this._checkMarkerAllowedToDrag(i) ? L.DomUtil.addClass(i._icon, "vertexmarker-disabled") : L.DomUtil.removeClass(i._icon, "vertexmarker-disabled"));
    });
  }, _removeMarker(t) {
    let e = t.target;
    if (!this._vertexValidation("remove", t))
      return;
    this.options.allowSelfIntersection || (this._coordsBeforeEdit = vt(this._layer, this._layer.getLatLngs()));
    let i = this._layer.getLatLngs(), { indexPath: r, index: n, parentPath: s } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    if (!r)
      return;
    let a = r.length > 1 ? (0, St.default)(i, s) : i, o = r.length > 1 ? (0, St.default)(this._markers, s) : this._markers;
    if (!this.options.removeLayerBelowMinVertexCount && (a.length <= 2 || this.isPolygon() && a.length <= 3)) {
      this._flashLayer();
      return;
    }
    a.splice(n, 1), this._layer.setLatLngs(i), this.isPolygon() && a.length <= 2 && a.splice(0, a.length);
    let l = false;
    if (a.length <= 1 && (a.splice(0, a.length), s.length > 1 && r.length > 1 && (i = ve(i)), this._layer.setLatLngs(i), this._initMarkers(), l = true), be(i) || this._layer.remove(), i = ve(i), this._layer.setLatLngs(i), this._markers = ve(this._markers), !l && (o = r.length > 1 ? (0, St.default)(this._markers, s) : this._markers, e._middleMarkerPrev && (this._markerGroup.removeLayer(e._middleMarkerPrev), this._removeFromCache(e._middleMarkerPrev)), e._middleMarkerNext && (this._markerGroup.removeLayer(e._middleMarkerNext), this._removeFromCache(e._middleMarkerNext)), this._markerGroup.removeLayer(e), this._removeFromCache(e), o)) {
      let u, f;
      if (this.isPolygon() ? (u = (n + 1) % o.length, f = (n + (o.length - 1)) % o.length) : (f = n - 1 < 0 ? void 0 : n - 1, u = n + 1 >= o.length ? void 0 : n + 1), u !== f) {
        let d = o[f], P = o[u];
        this.options.hideMiddleMarkers !== true && this._createMiddleMarker(d, P);
      }
      o.splice(n, 1);
    }
    this._fireEdit(), this._layerEdited = true, this._fireVertexRemoved(e, r), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, updatePolygonCoordsFromMarkerDrag(t) {
    let e = this._layer.getLatLngs(), i = t.getLatLng(), { indexPath: r, index: n, parentPath: s } = L.PM.Utils.findDeepMarkerIndex(this._markers, t);
    (r.length > 1 ? (0, St.default)(e, s) : e).splice(n, 1, i), this._layer.setLatLngs(e);
  }, _getNeighborMarkers(t) {
    let { indexPath: e, index: i, parentPath: r } = L.PM.Utils.findDeepMarkerIndex(this._markers, t), n = e.length > 1 ? (0, St.default)(this._markers, r) : this._markers, s = (i + 1) % n.length, a = (i + (n.length - 1)) % n.length, o = n[a], l = n[s];
    return { prevMarker: o, nextMarker: l };
  }, _checkMarkerAllowedToDrag(t) {
    let { prevMarker: e, nextMarker: i } = this._getNeighborMarkers(t), r = L.polyline([e.getLatLng(), t.getLatLng()]), n = L.polyline([t.getLatLng(), i.getLatLng()]), s = pt(this._layer.toGeoJSON(15), r.toGeoJSON(15)).features.length, a = pt(this._layer.toGeoJSON(15), n.toGeoJSON(15)).features.length;
    return t.getLatLng() === this._markers[0][0].getLatLng() ? a += 1 : t.getLatLng() === this._markers[0][this._markers[0].length - 1].getLatLng() && (s += 1), !(s <= 2 && a <= 2);
  }, _onMarkerDragStart(t) {
    let e = t.target;
    if (this.cachedColor || (this.cachedColor = this._layer.options.color), !this._vertexValidation("move", t))
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragStart(t, i), this.options.allowSelfIntersection || (this._coordsBeforeEdit = vt(this._layer, this._layer.getLatLngs())), !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this.hasSelfIntersection() ? this._markerAllowedToDrag = this._checkMarkerAllowedToDrag(e) : this._markerAllowedToDrag = null;
  }, _onMarkerDrag(t) {
    let e = t.target;
    if (!this._vertexValidationDrag(e))
      return;
    let { indexPath: i, index: r, parentPath: n } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    if (!i)
      return;
    if (!this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this.hasSelfIntersection() && this._markerAllowedToDrag === false) {
      this._layer.setLatLngs(this._coordsBeforeEdit), this._initMarkers(), this._handleLayerStyle();
      return;
    }
    this.updatePolygonCoordsFromMarkerDrag(e);
    let s = i.length > 1 ? (0, St.default)(this._markers, n) : this._markers, a = (r + 1) % s.length, o = (r + (s.length - 1)) % s.length, l = e.getLatLng(), u = s[o].getLatLng(), f = s[a].getLatLng();
    if (e._middleMarkerNext) {
      let d = L.PM.Utils.calcMiddleLatLng(this._map, l, f);
      e._middleMarkerNext.setLatLng(d);
    }
    if (e._middleMarkerPrev) {
      let d = L.PM.Utils.calcMiddleLatLng(this._map, l, u);
      e._middleMarkerPrev.setLatLng(d);
    }
    this.options.allowSelfIntersection || this._handleLayerStyle(), this._fireMarkerDrag(t, i), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onMarkerDragEnd(t) {
    let e = t.target;
    if (!this._vertexValidationDragEnd(e))
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e), r = this.hasSelfIntersection();
    r && this.options.allowSelfIntersectionEdit && this._markerAllowedToDrag && (r = false);
    let n = !this.options.allowSelfIntersection && r;
    if (this._fireMarkerDragEnd(t, i, n), n) {
      this._layer.setLatLngs(this._coordsBeforeEdit), this._coordsBeforeEdit = null, this._initMarkers(), this.options.snappable && this._initSnappableMarkers(), this._handleLayerStyle(), this._fireLayerReset(t, i);
      return;
    }
    !this.options.allowSelfIntersection && this.options.allowSelfIntersectionEdit && this._handleLayerStyle(), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onVertexClick(t) {
    let e = t.target;
    if (e._dragging)
      return;
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireVertexClick(t, i);
  } });
  H.Polygon = H.Line.extend({ _shape: "Polygon", _checkMarkerAllowedToDrag(t) {
    let { prevMarker: e, nextMarker: i } = this._getNeighborMarkers(t), r = L.polyline([e.getLatLng(), t.getLatLng()]), n = L.polyline([t.getLatLng(), i.getLatLng()]), s = pt(this._layer.toGeoJSON(15), r.toGeoJSON(15)).features.length, a = pt(this._layer.toGeoJSON(15), n.toGeoJSON(15)).features.length;
    return !(s <= 2 && a <= 2);
  } });
  H.Rectangle = H.Polygon.extend({ _shape: "Rectangle", _initMarkers() {
    let t = this._map, e = this._findCorners();
    this._markerGroup && this._markerGroup.clearLayers(), this._markerGroup = new L.FeatureGroup(), this._markerGroup._pmTempLayer = true, t.addLayer(this._markerGroup), this._markers = [], this._markers[0] = e.map(this._createMarker, this), [this._cornerMarkers] = this._markers, this._layer.getLatLngs()[0].forEach((i, r) => {
      let n = this._cornerMarkers.find((s) => s._index === r);
      n && n.setLatLng(i);
    });
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping(), this._addMarkerEvents();
  }, _createMarker(t, e) {
    let i = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(i, "vertexPane"), i._origLatLng = t, i._index = e, i._pmTempLayer = true, i.on("click", this._onVertexClick, this), this._markerGroup.addLayer(i), i;
  }, _addMarkerEvents() {
    this._markers[0].forEach((t) => {
      t.on("dragstart", this._onMarkerDragStart, this), t.on("drag", this._onMarkerDrag, this), t.on("dragend", this._onMarkerDragEnd, this), this.options.preventMarkerRemoval || t.on("contextmenu", this._removeMarker, this);
    });
  }, _removeMarker() {
    return null;
  }, _onMarkerDragStart(t) {
    if (!this._vertexValidation("move", t))
      return;
    let e = t.target, i = this._cornerMarkers;
    e._oppositeCornerLatLng = i.find((n) => n._index === (e._index + 2) % 4).getLatLng(), e._snapped = false;
    let { indexPath: r } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragStart(t, r);
  }, _onMarkerDrag(t) {
    let e = t.target;
    if (!this._vertexValidationDrag(e) || e._index === void 0)
      return;
    this._adjustRectangleForMarkerMove(e);
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDrag(t, i), this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _onMarkerDragEnd(t) {
    let e = t.target;
    if (!this._vertexValidationDragEnd(e))
      return;
    this._cornerMarkers.forEach((r) => {
      delete r._oppositeCornerLatLng;
    });
    let { indexPath: i } = L.PM.Utils.findDeepMarkerIndex(this._markers, e);
    this._fireMarkerDragEnd(t, i), this._fireEdit(), this._layerEdited = true, this._fireChange(this._layer.getLatLngs(), "Edit");
  }, _adjustRectangleForMarkerMove(t) {
    L.extend(t._origLatLng, t._latlng);
    let e = L.PM.Utils._getRotatedRectangle(t.getLatLng(), t._oppositeCornerLatLng, this.getAngle(), this._map);
    this._layer.setLatLngs(e), this._adjustAllMarkers(), this._layer.redraw();
  }, _adjustAllMarkers() {
    let t = this._layer.getLatLngs()[0];
    t && t.length !== 4 && t.length > 0 ? (t.forEach((i, r) => {
      this._cornerMarkers[r].setLatLng(i);
    }), this._cornerMarkers.slice(t.length).forEach((i) => {
      i.setLatLng(t[0]);
    })) : !t || !t.length ? console.error("The layer has no LatLngs") : this._cornerMarkers.forEach((e) => {
      e.setLatLng(t[e._index]);
    });
  }, _findCorners() {
    this._angle === void 0 && this.setInitAngle(ke(this._map, this._layer.getLatLngs()[0][0], this._layer.getLatLngs()[0][1]) || 0);
    let t = this._layer.getLatLngs()[0];
    return L.PM.Utils._getRotatedRectangle(t[0], t[2], this.getAngle(), this._map || this);
  } });
  H.CircleMarker = H.extend({ _shape: "CircleMarker", initialize(t) {
    this._layer = t, this._enabled = false, this._minRadiusOption = "minRadiusCircleMarker", this._maxRadiusOption = "maxRadiusCircleMarker", this._editableOption = "resizeableCircleMarker", this._updateHiddenPolyCircle();
  }, enable(t = { draggable: true, snappable: true }) {
    if (L.Util.setOptions(this, t), this.options.editable && (this.options.resizeableCircleMarker = this.options.editable, delete this.options.editable), !this.options.allowEditing || !this._layer._map) {
      this.disable();
      return;
    }
    this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._layer.on("remove", this.disable, this), this._enabled = true, this._extendingEnable(), this._updateHiddenPolyCircle(), this._fireEnable();
  }, _extendingEnable() {
    this._layer.on("pm:dragstart", this._onDragStart, this), this._layer.on("pm:drag", this._onMarkerDrag, this), this._layer.on("pm:dragend", this._onMarkerDragEnd, this);
  }, disable() {
    this.dragging() || (this._map || (this._map = this._layer._map), this._map && this.enabled() && (this.layerDragEnabled() && this.disableLayerDrag(), this.options[this._editableOption] ? (this._helperLayers && this._helperLayers.clearLayers(), this._map.off("move", this._syncMarkers, this), this._outerMarker.off("drag", this._handleOuterMarkerSnapping, this)) : this._map.off("move", this._updateHiddenPolyCircle, this), this._extendingDisable(), this._layer.off("remove", this.disable, this), this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false));
  }, _extendingDisable() {
    this._layer.off("contextmenu", this._removeMarker, this);
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options[this._editableOption] ? (this._initMarkers(), this._map.on("move", this._syncMarkers, this), this.options.snappable ? (this._initSnappableMarkers(), this._outerMarker.on("drag", this._handleOuterMarkerSnapping, this), this._outerMarker.on("move", this._syncHintLine, this), this._outerMarker.on("move", this._syncCircleRadius, this), this._centerMarker.on("move", this._moveCircle, this)) : this._disableSnapping()) : (this.options.draggable && this.enableLayerDrag(), this._map.on("move", this._updateHiddenPolyCircle, this), this.options.snappable ? this._initSnappableMarkersDrag() : this._disableSnappingDrag()), this._extendingApplyOptions();
  }, _extendingApplyOptions() {
    this.options.preventMarkerRemoval || this._layer.on("contextmenu", this._removeMarker, this);
  }, _initMarkers() {
    let t = this._map;
    this._helperLayers && this._helperLayers.clearLayers(), this._helperLayers = new L.FeatureGroup(), this._helperLayers._pmTempLayer = true, this._helperLayers.addTo(t);
    let e = this._layer.getLatLng(), i = this._layer._radius, r = this._getLatLngOnCircle(e, i);
    this._centerMarker = this._createCenterMarker(e), this._outerMarker = this._createOuterMarker(r), this._markers = [this._centerMarker, this._outerMarker], this._createHintLine(this._centerMarker, this._outerMarker);
  }, _getLatLngOnCircle(t, e) {
    let i = this._map.project(t), r = L.point(i.x + e, i.y);
    return this._map.unproject(r);
  }, _createHintLine(t, e) {
    let i = t.getLatLng(), r = e.getLatLng();
    this._hintline = L.polyline([i, r], this.options.hintlineStyle), this._setPane(this._hintline, "layerPane"), this._hintline._pmTempLayer = true, this._helperLayers.addLayer(this._hintline);
  }, _createCenterMarker(t) {
    let e = this._createMarker(t);
    return this.options.draggable ? L.DomUtil.addClass(e._icon, "leaflet-pm-draggable") : e.dragging.disable(), e;
  }, _createOuterMarker(t) {
    let e = this._createMarker(t);
    return e.on("drag", this._resizeCircle, this), e;
  }, _createMarker(t) {
    let e = new L.Marker(t, { draggable: true, icon: L.divIcon({ className: "marker-icon" }) });
    return this._setPane(e, "vertexPane"), e._origLatLng = t, e._pmTempLayer = true, e.on("dragstart", this._onMarkerDragStart, this), e.on("drag", this._onMarkerDrag, this), e.on("dragend", this._onMarkerDragEnd, this), e.on("click", this._onVertexClick, this), this._helperLayers.addLayer(e), e;
  }, _moveCircle(t) {
    if (t.target._cancelDragEventChain)
      return;
    let i = this._centerMarker.getLatLng();
    this._layer.setLatLng(i);
    let r = this._layer._radius, n = this._getLatLngOnCircle(i, r);
    this._outerMarker._latlng = n, this._outerMarker.update(), this._syncHintLine(), this._updateHiddenPolyCircle(), this._fireCenterPlaced("Edit"), this._fireChange(this._layer.getLatLng(), "Edit");
  }, _syncMarkers() {
    let t = this._layer.getLatLng(), e = this._layer._radius, i = this._getLatLngOnCircle(t, e);
    this._outerMarker.setLatLng(i), this._centerMarker.setLatLng(t), this._syncHintLine(), this._updateHiddenPolyCircle();
  }, _resizeCircle() {
    this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()), this._syncHintLine(), this._syncCircleRadius();
  }, _syncCircleRadius() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
    this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._layer.setRadius(this.options[this._minRadiusOption]) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] ? this._layer.setRadius(this.options[this._maxRadiusOption]) : this._layer.setRadius(i), this._updateHiddenPolyCircle(), this._fireChange(this._layer.getLatLng(), "Edit");
  }, _syncHintLine() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng();
    this._hintline.setLatLngs([t, e]);
  }, _removeMarker() {
    this.options[this._editableOption] && this.disable(), this._layer.remove(), this._fireRemove(this._layer), this._fireRemove(this._map, this._layer);
  }, _onDragStart() {
    this._map.pm.Draw.CircleMarker._layerIsDragging = true;
  }, _onMarkerDragStart(t) {
    this._vertexValidation("move", t) && this._fireMarkerDragStart(t);
  }, _onMarkerDrag(t) {
    let e = t.target;
    e instanceof L.Marker && !this._vertexValidationDrag(e) || this._fireMarkerDrag(t);
  }, _onMarkerDragEnd(t) {
    this._extedingMarkerDragEnd();
    let e = t.target;
    this._vertexValidationDragEnd(e) && (this.options[this._editableOption] && (this._fireEdit(), this._layerEdited = true), this._fireMarkerDragEnd(t));
  }, _extedingMarkerDragEnd() {
    this._map.pm.Draw.CircleMarker._layerIsDragging = false;
  }, _initSnappableMarkersDrag() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnappingDrag() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  }, _updateHiddenPolyCircle() {
    let t = this._layer._map || this._map;
    if (t) {
      let e = L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(), t, this._layer.getLatLng()), i = L.circle(this._layer.getLatLng(), this._layer.options);
      i.setRadius(e);
      let r = t && t.pm._isCRSSimple();
      this._hiddenPolyCircle ? this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(i, 200, !r).getLatLngs()) : this._hiddenPolyCircle = L.PM.Utils.circleToPolygon(i, 200, !r), this._hiddenPolyCircle._parentCopy || (this._hiddenPolyCircle._parentCopy = this._layer);
    }
  }, _getNewDestinationOfOuterMarker() {
    let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
    return this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? e = te(this._map, t, e, this._getMinDistanceInMeter(t)) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && (e = te(this._map, t, e, this._getMaxDistanceInMeter(t))), e;
  }, _handleOuterMarkerSnapping() {
    if (this._outerMarker._snapped) {
      let t = this._centerMarker.getLatLng(), e = this._outerMarker.getLatLng(), i = this._distanceCalculation(t, e);
      this.options[this._minRadiusOption] && i < this.options[this._minRadiusOption] ? this._outerMarker.setLatLng(this._outerMarker._orgLatLng) : this.options[this._maxRadiusOption] && i > this.options[this._maxRadiusOption] && this._outerMarker.setLatLng(this._outerMarker._orgLatLng);
    }
    this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker());
  }, _distanceCalculation(t, e) {
    return this._map.project(t).distanceTo(this._map.project(e));
  }, _getMinDistanceInMeter(t) {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption], this._map, t);
  }, _getMaxDistanceInMeter(t) {
    return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption], this._map, t);
  }, _onVertexClick(t) {
    t.target._dragging || this._fireVertexClick(t, void 0);
  } });
  H.Circle = H.CircleMarker.extend({ _shape: "Circle", initialize(t) {
    this._layer = t, this._enabled = false, this._minRadiusOption = "minRadiusCircle", this._maxRadiusOption = "maxRadiusCircle", this._editableOption = "resizableCircle", this._updateHiddenPolyCircle();
  }, enable(t) {
    L.PM.Edit.CircleMarker.prototype.enable.call(this, t || {});
  }, _extendingEnable() {
  }, _extendingDisable() {
    this._layer.off("remove", this.disable, this);
    let t = this._layer._path ? this._layer._path : this._layer._renderer._container;
    L.DomUtil.removeClass(t, "leaflet-pm-draggable");
  }, _extendingApplyOptions() {
  }, _syncMarkers() {
  }, _removeMarker() {
  }, _onDragStart() {
  }, _extedingMarkerDragEnd() {
  }, _updateHiddenPolyCircle() {
    let t = this._map && this._map.pm._isCRSSimple();
    this._hiddenPolyCircle ? this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer, 200, !t).getLatLngs()) : this._hiddenPolyCircle = L.PM.Utils.circleToPolygon(this._layer, 200, !t), this._hiddenPolyCircle._parentCopy || (this._hiddenPolyCircle._parentCopy = this._layer);
  }, _distanceCalculation(t, e) {
    return this._map.distance(t, e);
  }, _getMinDistanceInMeter() {
    return this.options[this._minRadiusOption];
  }, _getMaxDistanceInMeter() {
    return this.options[this._maxRadiusOption];
  }, _onVertexClick(t) {
    t.target._dragging || this._fireVertexClick(t, void 0);
  } });
  H.ImageOverlay = H.extend({ _shape: "ImageOverlay", initialize(t) {
    this._layer = t, this._enabled = false;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, enabled() {
    return this._enabled;
  }, enable(t = { draggable: true, snappable: true }) {
    if (L.Util.setOptions(this, t), this._map = this._layer._map, !!this._map) {
      if (!this.options.allowEditing) {
        this.disable();
        return;
      }
      this.enabled() || this.disable(), this.enableLayerDrag(), this._layer.on("remove", this.disable, this), this._enabled = true, this._otherSnapLayers = this._findCorners(), this._fireEnable();
    }
  }, disable() {
    this._dragging || (this._map || (this._map = this._layer._map), this.disableLayerDrag(), this._layer.off("remove", this.disable, this), this.enabled() || (this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable()), this._enabled = false);
  }, _findCorners() {
    let t = this._layer.getBounds(), e = t.getNorthWest(), i = t.getNorthEast(), r = t.getSouthEast(), n = t.getSouthWest();
    return [e, i, r, n];
  } });
  H.Text = H.extend({ _shape: "Text", initialize(t) {
    this._layer = t, this._enabled = false;
  }, enable(t) {
    if (L.Util.setOptions(this, t), !!this.textArea) {
      if (!this.options.allowEditing || !this._layer._map) {
        this.disable();
        return;
      }
      this._map = this._layer._map, this.enabled() && this.disable(), this.applyOptions(), this._safeToCacheDragState = true, this._focusChange(), this.textArea.readOnly = false, this.textArea.classList.remove("pm-disabled"), this._layer.on("remove", this.disable, this), L.DomEvent.on(this.textArea, "input", this._autoResize, this), L.DomEvent.on(this.textArea, "focus", this._focusChange, this), L.DomEvent.on(this.textArea, "blur", this._focusChange, this), this._layer.on("dblclick", L.DomEvent.stop), L.DomEvent.off(this.textArea, "mousedown", this._preventTextSelection), this._enabled = true, this._fireEnable();
    }
  }, disable() {
    if (!this.enabled())
      return;
    this._layer.off("remove", this.disable, this), L.DomEvent.off(this.textArea, "input", this._autoResize, this), L.DomEvent.off(this.textArea, "focus", this._focusChange, this), L.DomEvent.off(this.textArea, "blur", this._focusChange, this), L.DomEvent.off(document, "click", this._documentClick, this), this._focusChange(), this.textArea.readOnly = true, this.textArea.classList.add("pm-disabled");
    let t = document.activeElement;
    this.textArea.focus(), this.textArea.selectionStart = 0, this.textArea.selectionEnd = 0, L.DomEvent.on(this.textArea, "mousedown", this._preventTextSelection), t.focus(), this._disableOnBlurActive = false, this._layerEdited && this._fireUpdate(), this._layerEdited = false, this._fireDisable(), this._enabled = false;
  }, enabled() {
    return this._enabled;
  }, toggleEdit(t) {
    this.enabled() ? this.disable() : this.enable(t);
  }, applyOptions() {
    this.options.snappable ? this._initSnappableMarkers() : this._disableSnapping();
  }, _initSnappableMarkers() {
    let t = this._layer;
    this.options.snapDistance = this.options.snapDistance || 30, this.options.snapSegment = this.options.snapSegment === void 0 ? true : this.options.snapSegment, t.off("pm:drag", this._handleSnapping, this), t.on("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.on("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this), t.on("pm:dragstart", this._unsnap, this);
  }, _disableSnapping() {
    let t = this._layer;
    t.off("pm:drag", this._handleSnapping, this), t.off("pm:dragend", this._cleanupSnapping, this), t.off("pm:dragstart", this._unsnap, this);
  }, _autoResize() {
    this.textArea.style.height = "1px", this.textArea.style.width = "1px";
    let t = this.textArea.scrollHeight > 21 ? this.textArea.scrollHeight : 21, e = this.textArea.scrollWidth > 16 ? this.textArea.scrollWidth : 16;
    this.textArea.style.height = `${t}px`, this.textArea.style.width = `${e}px`, this._layer.options.text = this.getText(), this._fireTextChange(this.getText());
  }, _disableOnBlur() {
    this._disableOnBlurActive = true, setTimeout(() => {
      this.enabled() && L.DomEvent.on(document, "click", this._documentClick, this);
    }, 100);
  }, _documentClick(t) {
    t.target !== this.textArea && (this.disable(), !this.getText() && this.options.removeIfEmpty && this.remove());
  }, _focusChange(t = {}) {
    let e = this._hasFocus;
    this._hasFocus = t.type === "focus", !e != !this._hasFocus && (this._hasFocus ? (this._applyFocus(), this._focusText = this.getText(), this._fireTextFocus()) : (this._removeFocus(), this._fireTextBlur(), this._focusText !== this.getText() && (this._fireEdit(), this._layerEdited = true)));
  }, _applyFocus() {
    this.textArea.classList.add("pm-hasfocus"), this._map.dragging && (this._safeToCacheDragState && (this._originalMapDragState = this._map.dragging._enabled, this._safeToCacheDragState = false), this._map.dragging.disable());
  }, _removeFocus() {
    this._map.dragging && (this._originalMapDragState && this._map.dragging.enable(), this._safeToCacheDragState = true), this.textArea.classList.remove("pm-hasfocus");
  }, focus() {
    if (!this.enabled())
      throw new TypeError("Layer is not enabled");
    this.textArea.focus();
  }, blur() {
    if (!this.enabled())
      throw new TypeError("Layer is not enabled");
    this.textArea.blur(), this._disableOnBlurActive && this.disable();
  }, hasFocus() {
    return this._hasFocus;
  }, getElement() {
    return this.textArea;
  }, setText(t) {
    this.textArea.value = t, this._autoResize();
  }, getText() {
    return this.textArea.value;
  }, _initTextMarker() {
    if (this.textArea = L.PM.Draw.Text.prototype._createTextArea.call(this), this.options.className) {
      let e = this.options.className.split(" ");
      this.textArea.classList.add(...e);
    }
    let t = L.PM.Draw.Text.prototype._createTextIcon.call(this, this.textArea);
    this._layer.setIcon(t), this._layer.once("add", this._createTextMarker, this);
  }, _createTextMarker(t = false) {
    this._layer.off("add", this._createTextMarker, this), this._layer.getElement().tabIndex = -1, this.textArea.wrap = "off", this.textArea.style.overflow = "hidden", this.textArea.style.height = L.DomUtil.getStyle(this.textArea, "font-size"), this.textArea.style.width = "1px", this._layer.options.text && this.setText(this._layer.options.text), this._autoResize(), t === true && (this.enable(), this.focus(), this._disableOnBlur());
  }, _preventTextSelection(t) {
    t.preventDefault();
  } });
  var or = function(e, i, r, n, s, a) {
    this._matrix = [e, i, r, n, s, a];
  };
  or.init = () => new L.PM.Matrix(1, 0, 0, 1, 0, 0);
  or.prototype = { transform(t) {
    return this._transform(t.clone());
  }, _transform(t) {
    let e = this._matrix, { x: i, y: r } = t;
    return t.x = e[0] * i + e[1] * r + e[4], t.y = e[2] * i + e[3] * r + e[5], t;
  }, untransform(t) {
    let e = this._matrix;
    return new L.Point((t.x / e[0] - e[4]) / e[0], (t.y / e[2] - e[5]) / e[2]);
  }, clone() {
    let t = this._matrix;
    return new L.PM.Matrix(t[0], t[1], t[2], t[3], t[4], t[5]);
  }, translate(t) {
    if (t === void 0)
      return new L.Point(this._matrix[4], this._matrix[5]);
    let e, i;
    return typeof t == "number" ? (e = t, i = t) : (e = t.x, i = t.y), this._add(1, 0, 0, 1, e, i);
  }, scale(t, e) {
    if (t === void 0)
      return new L.Point(this._matrix[0], this._matrix[3]);
    let i, r;
    return e = e || L.point(0, 0), typeof t == "number" ? (i = t, r = t) : (i = t.x, r = t.y), this._add(i, 0, 0, r, e.x, e.y)._add(1, 0, 0, 1, -e.x, -e.y);
  }, rotate(t, e) {
    let i = Math.cos(t), r = Math.sin(t);
    return e = e || new L.Point(0, 0), this._add(i, r, -r, i, e.x, e.y)._add(1, 0, 0, 1, -e.x, -e.y);
  }, flip() {
    return this._matrix[1] *= -1, this._matrix[2] *= -1, this;
  }, _add(t, e, i, r, n, s) {
    let a = [[], [], []], o = this._matrix, l = [[o[0], o[2], o[4]], [o[1], o[3], o[5]], [0, 0, 1]], u = [[t, i, n], [e, r, s], [0, 0, 1]], f;
    t && t instanceof L.PM.Matrix && (o = t._matrix, u = [[o[0], o[2], o[4]], [o[1], o[3], o[5]], [0, 0, 1]]);
    for (let d = 0; d < 3; d += 1)
      for (let P = 0; P < 3; P += 1) {
        f = 0;
        for (let E = 0; E < 3; E += 1)
          f += l[d][E] * u[E][P];
        a[d][P] = f;
      }
    return this._matrix = [a[0][0], a[1][0], a[0][1], a[1][1], a[0][2], a[1][2]], this;
  } };
  var $l = or;
  var k_ = { calcMiddleLatLng(t, e, i) {
    let r = t.project(e), n = t.project(i);
    return t.unproject(r._add(n)._divideBy(2));
  }, findLayers(t) {
    let e = [];
    return t.eachLayer((i) => {
      (i instanceof L.Polyline || i instanceof L.Marker || i instanceof L.Circle || i instanceof L.CircleMarker || i instanceof L.ImageOverlay) && e.push(i);
    }), e = e.filter((i) => !!i.pm), e = e.filter((i) => !i._pmTempLayer), e = e.filter((i) => !L.PM.optIn && !i.options.pmIgnore || L.PM.optIn && i.options.pmIgnore === false), e;
  }, circleToPolygon(t, e = 60, i = true) {
    let r = t.getLatLng(), n = t.getRadius(), s = Ci(r, n, e, 0, i), a = [];
    for (let o = 0; o < s.length; o += 1) {
      let l = [s[o].lat, s[o].lng];
      a.push(l);
    }
    return L.polygon(a, t.options);
  }, disablePopup(t) {
    t.getPopup() && (t._tempPopupCopy = t.getPopup(), t.unbindPopup());
  }, enablePopup(t) {
    t._tempPopupCopy && (t.bindPopup(t._tempPopupCopy), delete t._tempPopupCopy);
  }, _fireEvent(t, e, i, r = false) {
    t.fire(e, i, r);
    let { groups: n } = this.getAllParentGroups(t);
    n.forEach((s) => {
      s.fire(e, i, r);
    });
  }, getAllParentGroups(t) {
    let e = [], i = [], r = (n) => {
      for (let s in n._eventParents)
        if (e.indexOf(s) === -1) {
          e.push(s);
          let a = n._eventParents[s];
          i.push(a), r(a);
        }
    };
    return !t._pmLastGroupFetch || !t._pmLastGroupFetch.time || (/* @__PURE__ */ new Date()).getTime() - t._pmLastGroupFetch.time > 1e3 ? (r(t), t._pmLastGroupFetch = { time: (/* @__PURE__ */ new Date()).getTime(), groups: i, groupIds: e }, { groupIds: e, groups: i }) : { groups: t._pmLastGroupFetch.groups, groupIds: t._pmLastGroupFetch.groupIds };
  }, createGeodesicPolygon: Ci, getTranslation: V, findDeepCoordIndex(t, e, i = true) {
    let r, n = (a) => (o, l) => {
      let u = a.concat(l);
      if (i) {
        if (o.lat && o.lat === e.lat && o.lng === e.lng)
          return r = u, true;
      } else if (o.lat && L.latLng(o).equals(e))
        return r = u, true;
      return Array.isArray(o) && o.some(n(u));
    };
    t.some(n([]));
    let s = {};
    return r && (s = { indexPath: r, index: r[r.length - 1], parentPath: r.slice(0, r.length - 1) }), s;
  }, findDeepMarkerIndex(t, e) {
    let i, r = (s) => (a, o) => {
      let l = s.concat(o);
      return a._leaflet_id === e._leaflet_id ? (i = l, true) : Array.isArray(a) && a.some(r(l));
    };
    t.some(r([]));
    let n = {};
    return i && (n = { indexPath: i, index: i[i.length - 1], parentPath: i.slice(0, i.length - 1) }), n;
  }, _getIndexFromSegment(t, e) {
    if (e && e.length === 2) {
      let i = this.findDeepCoordIndex(t, e[0]), r = this.findDeepCoordIndex(t, e[1]), n = Math.max(i.index, r.index);
      return (i.index === 0 || r.index === 0) && n !== 1 && (n += 1), { indexA: i, indexB: r, newIndex: n, indexPath: i.indexPath, parentPath: i.parentPath };
    }
    return null;
  }, _getRotatedRectangle(t, e, i, r) {
    let n = It(r, t), s = It(r, e), a = i * Math.PI / 180, o = Math.cos(a), l = Math.sin(a), u = (s.x - n.x) * o + (s.y - n.y) * l, f = (s.y - n.y) * o - (s.x - n.x) * l, d = u * o + n.x, P = u * l + n.y, E = -f * l + n.x, T = f * o + n.y, G = Re(r, n), _ = Re(r, { x: d, y: P }), x = Re(r, s), b = Re(r, { x: E, y: T });
    return [G, _, x, b];
  }, pxRadiusToMeterRadius(t, e, i) {
    let r = e.project(i), n = L.point(r.x + t, r.y);
    return e.distance(e.unproject(n), i);
  } }, Zl = k_;
  L.PM = L.PM || { version: hr.version, Map: Ko, Toolbar: Xo, Draw: X, Edit: H, Utils: Zl, Matrix: $l, activeLang: "en", optIn: false, initialize(t) {
    this.addInitHooks(t);
  }, setOptIn(t) {
    this.optIn = !!t;
  }, addInitHooks() {
    function t() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Map(this)) : this.options.pmIgnore || (this.pm = new L.PM.Map(this)), this.pm && this.pm.setGlobalOptions({});
    }
    L.Map.addInitHook(t);
    function e() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.LayerGroup(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.LayerGroup(this));
    }
    L.LayerGroup.addInitHook(e);
    function i() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.options.textMarker ? (this.pm = new L.PM.Edit.Text(this), this.options._textMarkerOverPM || this.pm._initTextMarker(), delete this.options._textMarkerOverPM) : this.pm = new L.PM.Edit.Marker(this)) : this.options.pmIgnore || (this.options.textMarker ? (this.pm = new L.PM.Edit.Text(this), this.options._textMarkerOverPM || this.pm._initTextMarker(), delete this.options._textMarkerOverPM) : this.pm = new L.PM.Edit.Marker(this));
    }
    L.Marker.addInitHook(i);
    function r() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.CircleMarker(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.CircleMarker(this));
    }
    L.CircleMarker.addInitHook(r);
    function n() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Line(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Line(this));
    }
    L.Polyline.addInitHook(n);
    function s() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Polygon(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Polygon(this));
    }
    L.Polygon.addInitHook(s);
    function a() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Rectangle(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Rectangle(this));
    }
    L.Rectangle.addInitHook(a);
    function o() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.Circle(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.Circle(this));
    }
    L.Circle.addInitHook(o);
    function l() {
      this.pm = void 0, L.PM.optIn ? this.options.pmIgnore === false && (this.pm = new L.PM.Edit.ImageOverlay(this)) : this.options.pmIgnore || (this.pm = new L.PM.Edit.ImageOverlay(this));
    }
    L.ImageOverlay.addInitHook(l);
  }, reInitLayer(t) {
    t instanceof L.LayerGroup && t.eachLayer((e) => {
      this.reInitLayer(e);
    }), t.pm || L.PM.optIn && t.options.pmIgnore !== false || t.options.pmIgnore || (t instanceof L.Map ? t.pm = new L.PM.Map(t) : t instanceof L.Marker ? t.options.textMarker ? (t.pm = new L.PM.Edit.Text(t), t.pm._initTextMarker(), t.pm._createTextMarker(false)) : t.pm = new L.PM.Edit.Marker(t) : t instanceof L.Circle ? t.pm = new L.PM.Edit.Circle(t) : t instanceof L.CircleMarker ? t.pm = new L.PM.Edit.CircleMarker(t) : t instanceof L.Rectangle ? t.pm = new L.PM.Edit.Rectangle(t) : t instanceof L.Polygon ? t.pm = new L.PM.Edit.Polygon(t) : t instanceof L.Polyline ? t.pm = new L.PM.Edit.Line(t) : t instanceof L.LayerGroup ? t.pm = new L.PM.Edit.LayerGroup(t) : t instanceof L.ImageOverlay && (t.pm = new L.PM.Edit.ImageOverlay(t)));
  } };
  L.version === "1.7.1" && L.Canvas.include({ _onClick(t) {
    let e = this._map.mouseEventToLayerPoint(t), i, r;
    for (let n = this._drawFirst; n; n = n.next)
      i = n.layer, i.options.interactive && i._containsPoint(e) && (!(t.type === "click" || t.type === "preclick") || !this._map._draggableMoved(i)) && (r = i);
    r && (L.DomEvent.fakeStop(t), this._fireEvent([r], t));
  } });
  L.PM.initialize();
})();

// resources/js/index.js
document.addEventListener("livewire:init", () => {
  const mapPicker = ($wire, config) => {
    return {
      map: null,
      tile: null,
      marker: null,
      rangeCircle: null,
      drawItems: null,
      rangeSelectFieldStatePath: null,
      formRestorationHiddenInput: null,
      debouncedUpdate: null,
      debounce: function(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      },
      createMap: function(el) {
        const that = this;
        this.map = LF.map(el, config.controls);
        if (config.bounds) {
          let southWest = LF.latLng(config.bounds.sw.lat, config.bounds.sw.lng);
          let northEast = LF.latLng(config.bounds.ne.lat, config.bounds.ne.lng);
          let bounds = LF.latLngBounds(southWest, northEast);
          this.map.setMaxBounds(bounds);
          this.map.fitBounds(bounds);
          this.map.on("drag", function() {
            that.map.panInsideBounds(bounds, { animate: false });
          });
        }
        this.map.on("load", () => {
          setTimeout(() => this.map.invalidateSize(true), 0);
          if (config.showMarker && !config.clickable) {
            this.marker.setLatLng(this.map.getCenter());
          }
        });
        if (!config.draggable) {
          this.map.dragging.disable();
        }
        if (config.clickable) {
          this.map.on("click", function(e) {
            that.setCoordinates(e.latlng);
          });
        }
        this.tile = LF.tileLayer(config.tilesUrl, {
          attribution: config.attribution,
          minZoom: config.minZoom,
          maxZoom: config.maxZoom,
          tileSize: config.tileSize,
          zoomOffset: config.zoomOffset,
          detectRetina: config.detectRetina
        }).addTo(this.map);
        if (config.showMarker) {
          this.marker = LF.marker(this.getCoordinates(), {
            icon: this.createMarkerIcon(),
            draggable: false,
            autoPan: true
          }).addTo(this.map);
          this.setMarkerRange();
          if (!config.clickable) {
            this.map.on("move", () => this.setCoordinates(this.map.getCenter()));
          }
        }
        if (!config.clickable) {
          this.map.on("moveend", () => this.updateLocation());
        }
        this.map.on("locationfound", function() {
          that.map.setZoom(config.controls.zoom);
        });
        let location = this.getCoordinates();
        if (!location.lat && !location.lng) {
          this.map.locate({
            setView: true,
            maxZoom: config.controls.maxZoom,
            enableHighAccuracy: true,
            watch: false
          });
        } else {
          this.map.setView(new LF.LatLng(location.lat, location.lng));
        }
        if (config.showMyLocationButton) {
          this.addLocationButton();
        }
        if (config.liveLocation.send && config.liveLocation.realtime) {
          setInterval(() => {
            this.fetchCurrentLocation();
          }, config.liveLocation.miliseconds);
        }
        this.map.on("zoomend", function(event) {
          that.setFormRestorationState(false, that.map.getZoom());
        });
        if (config.geoMan.show) {
          this.map.pm.addControls({
            snappable: config.geoMan.snappable,
            snapDistance: config.geoMan.snapDistance,
            position: config.geoMan.position,
            drawCircleMarker: config.geoMan.drawCircleMarker,
            rotateMode: config.geoMan.rotateMode,
            drawRectangle: config.geoMan.drawRectangle,
            drawText: config.geoMan.drawText,
            drawMarker: config.geoMan.drawMarker,
            drawPolygon: config.geoMan.drawPolygon,
            drawPolyline: config.geoMan.drawPolyline,
            drawCircle: config.geoMan.drawCircle,
            editMode: config.geoMan.editMode,
            dragMode: config.geoMan.dragMode,
            cutPolygon: config.geoMan.cutPolygon,
            editPolygon: config.geoMan.editPolygon,
            deleteLayer: config.geoMan.deleteLayer
          });
          this.drawItems = new LF.FeatureGroup().addTo(this.map);
          this.map.on("pm:create", (e) => {
            if (e.layer && e.layer.pm) {
              e.layer.pm.enable();
              if (e.shape === "Circle") {
                const center = e.layer.getLatLng();
                const radius = e.layer.getRadius();
                e.layer.circleData = {
                  center,
                  radius
                };
              }
              this.drawItems.addLayer(e.layer);
              this.updateGeoJson();
            }
          });
          this.map.on("pm:edit", (e) => {
            if (e.layer && e.layer.getRadius) {
              e.layer.circleData = {
                center: e.layer.getLatLng(),
                radius: e.layer.getRadius()
              };
            }
            this.updateGeoJson();
          });
          this.map.on("pm:remove", (e) => {
            try {
              this.drawItems.removeLayer(e.layer);
              this.updateGeoJson();
            } catch (error) {
              console.error("Error during removal of layer:", error);
            }
          });
          const existingGeoJson = this.getGeoJson();
          if (existingGeoJson) {
            this.drawItems = LF.geoJSON(existingGeoJson, {
              pointToLayer: (feature, latlng) => {
                if (feature.properties && feature.properties.type === "Circle") {
                  const circle2 = LF.circle(latlng, {
                    radius: feature.properties.radius,
                    color: config.geoMan.color || "#3388ff",
                    fillColor: config.geoMan.filledColor || "#cad9ec",
                    fillOpacity: 0.4
                  });
                  circle2.circleData = {
                    center: latlng,
                    radius: feature.properties.radius
                  };
                  return circle2;
                }
                return LF.circleMarker(latlng, {
                  radius: 15,
                  color: "#3388ff",
                  fillColor: "#3388ff",
                  fillOpacity: 0.6
                });
              },
              style: function(feature) {
                if (feature.geometry.type === "Polygon") {
                  return {
                    color: config.geoMan.color || "#3388ff",
                    fillColor: config.geoMan.filledColor || "blue",
                    weight: 2,
                    fillOpacity: 0.4
                  };
                }
              },
              onEachFeature: (feature, layer) => {
                if (typeof feature.properties.title != "undefined") {
                  layer.bindPopup(feature.properties.title);
                } else if (feature.geometry.type === "Polygon") {
                  layer.bindPopup("Polygon Area");
                } else if (feature.geometry.type === "Point") {
                  layer.bindPopup("Point Location");
                }
                if (config.geoMan.editable) {
                  if (feature.geometry.type === "Polygon") {
                    layer.pm.enable({
                      allowSelfIntersection: false
                    });
                  } else if (feature.geometry.type === "Point") {
                    layer.pm.enable({
                      draggable: true
                    });
                  }
                }
                layer.on("pm:edit", () => {
                  this.updateGeoJson();
                });
              }
            }).addTo(this.map);
            if (config.geoMan.editable) {
              this.drawItems.eachLayer((layer) => {
                layer.pm.enable({
                  allowSelfIntersection: false
                });
              });
            }
            this.map.fitBounds(this.drawItems.getBounds());
          }
        }
      },
      createMarkerIcon() {
        if (config.markerIconUrl) {
          return LF.icon({
            iconUrl: config.markerIconUrl,
            iconSize: config.markerIconSize,
            iconAnchor: config.markerIconAnchor,
            className: config.markerIconClassName
          });
        }
        const markerColor = config.markerColor || "#3b82f6";
        const defaultHtml = `<svg xmlns="http://www.w3.org/2000/svg" class="map-icon" fill="${markerColor}" width="36" height="36" viewBox="0 0 24 24"><path d="M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z"/></svg>`;
        return LF.divIcon({
          html: config.markerHtml || defaultHtml,
          className: config.markerIconClassName,
          iconSize: config.markerIconSize,
          iconAnchor: config.markerIconAnchor
        });
      },
      initFormRestoration: function() {
        this.formRestorationHiddenInput = this.$refs?.formRestorationInput || document.getElementById(this.config.statePath + "_fmrest");
        window.addEventListener("pageshow", (event) => {
          let restoredState = this.getFormRestorationState();
          if (restoredState) {
            let coords = new LF.LatLng(restoredState.lat, restoredState.lng);
            config.zoom = restoredState.zoom;
            config.controls.zoom = restoredState.zoom;
            this.setCoordinates(coords);
          }
        });
      },
      setFormRestorationState: function(coords = null, zoom = null) {
        coords = coords || this.getFormRestorationState() || this.getCoordinates();
        if (this.map) {
          coords.zoom = zoom ?? this.map.getZoom();
        }
        if (this.formRestorationHiddenInput) {
          this.formRestorationHiddenInput.value = JSON.stringify(coords);
        }
      },
      getFormRestorationState: function() {
        if (this.formRestorationHiddenInput && this.formRestorationHiddenInput.value)
          return JSON.parse(this.formRestorationHiddenInput.value);
        return false;
      },
      //sets the coordinates on the state from the map center.
      updateGeoJson: function() {
        try {
          const geoJsonData = {
            type: "FeatureCollection",
            features: []
          };
          this.drawItems.eachLayer((layer) => {
            if (layer.getRadius) {
              const circleData = layer.circleData || {
                center: layer.getLatLng(),
                radius: layer.getRadius()
              };
              geoJsonData.features.push({
                type: "Feature",
                properties: {
                  type: "Circle",
                  radius: circleData.radius
                },
                geometry: {
                  type: "Point",
                  coordinates: [circleData.center.lng, circleData.center.lat]
                }
              });
            } else {
              const layerGeoJson = layer.toGeoJSON();
              geoJsonData.features.push(layerGeoJson);
            }
          });
          $wire.set(this.config.statePath, {
            lat: this.marker ? this.marker.getLatLng().lat : this.map.getCenter().lat,
            lng: this.marker ? this.marker.getLatLng().lng : this.map.getCenter().lng,
            geojson: geoJsonData
          }, true);
        } catch (error) {
          console.error("Error updating GeoJSON:", error);
        }
      },
      getGeoJson: function() {
        const state = $wire.get(this.config.statePath) ?? {};
        return state.geojson;
      },
      //Sets coordinates to marker position. (calls setCoordinates)
      updateLocation: function() {
        let oldCoordinates = this.getCoordinates();
        let currentCoordinates = this.map.getCenter();
        if (config.clickable) {
          currentCoordinates = this.marker.getLatLng();
        }
        const minChange = config.minChange || 1e-5;
        if (Math.abs(oldCoordinates.lng - currentCoordinates.lng) > minChange || Math.abs(oldCoordinates.lat - currentCoordinates.lat) > minChange) {
          this.setCoordinates(currentCoordinates);
          this.setMarkerRange();
        }
      },
      removeMap: function(el) {
        if (this.marker) {
          this.marker.remove();
          this.marker = null;
        }
        this.tile.remove();
        this.tile = null;
        this.map.off();
        this.map.remove();
        this.map = null;
      },
      //gets coordinates from the state path.
      getCoordinates: function() {
        let location = this.getCoordsFromState();
        const hasValidCoordinates = location.hasOwnProperty("lat") && location.hasOwnProperty("lng") && location.lat !== null && location.lng !== null;
        if (!hasValidCoordinates) {
          location = {
            lat: config.default.lat,
            lng: config.default.lng
          };
        }
        return location;
      },
      getCoordsFromState: function() {
        let stateVal = $wire.get(this.config.statePath);
        if (typeof stateVal == "string")
          stateVal = JSON.parse(stateVal);
        if (stateVal !== null && stateVal.hasOwnProperty("lat") && stateVal.hasOwnProperty("lng"))
          return stateVal;
        return {};
      },
      //sets Coordinates and updates the state object
      //causes livewire refresh if liveLocation.send true in config
      setCoordinates: function(coords) {
        this.setFormRestorationState(coords);
        if (config.type === "field") {
          $wire.set(config.statePath, {
            lat: coords.lat,
            lng: coords.lng
          });
        }
        if (this.config.liveLocation.send) {
          $wire.refresh();
        }
        return coords;
      },
      attach: function(el, refs = null) {
        if (refs) {
          this.$refs = refs;
        }
        this.createMap(el);
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.intersectionRatio > 0) {
              if (!this.map)
                this.createMap(el);
            } else {
              this.removeMap(el);
            }
          });
        }, {
          root: null,
          rootMargin: "0px",
          threshold: 1
        });
        observer.observe(el);
      },
      fetchCurrentLocation: function() {
        if ("geolocation" in navigator) {
          navigator.geolocation.getCurrentPosition(async (position) => {
            const currentPosition = new LF.LatLng(position.coords.latitude, position.coords.longitude);
            await this.map.flyTo(currentPosition);
            this.updateLocation();
            this.updateMarker();
          }, (error) => {
            console.error("Error fetching current location:", error);
          });
        } else {
          alert("Geolocation is not supported by this browser.");
        }
      },
      addLocationButton: function() {
        const locationButton = document.createElement("button");
        locationButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 0C8.25 0 5 3.25 5 7c0 5.25 7 13 7 13s7-7.75 7-13c0-3.75-3.25-7-7-7zm0 10c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm0-5c-1.11 0-2 .89-2 2s.89 2 2 2 2-.89 2-2-.89-2-2-2z"/></svg>';
        locationButton.type = "button";
        locationButton.classList.add("map-location-button");
        locationButton.onclick = () => this.fetchCurrentLocation();
        this.map.getContainer().appendChild(locationButton);
      },
      setMarkerRange: function(coordinates) {
        if (this.config.clickable && !this.marker || !this.config.rangeSelectFieldStatePath) {
          return;
        }
        const distance = parseInt($wire.get(this.rangeSelectFieldStatePath) || 0);
        if (!coordinates) {
          coordinates = this.getCoordinates();
        }
        const circleStyle = {
          color: "blue",
          fillColor: "#f03",
          fillOpacity: 0.5,
          radius: distance
        };
        if (this.rangeCircle) {
          this.rangeCircle.remove();
        }
        this.rangeCircle = LF.circle(coordinates, circleStyle).addTo(this.map);
      },
      init: function() {
        this.$wire = $wire;
        this.config = config;
        this.rangeSelectFieldStatePath = config.rangeSelectFieldStatePath;
        this.initFormRestoration();
        let that = this;
        $wire.on("refreshMap", this.refreshMap.bind(this));
        $wire.watch(config.statePath, (newVal) => {
          if (typeof newVal == "string")
            newVal = JSON.parse(newVal);
          that.updateMarker(newVal);
        });
        $wire.watch(config.rangeSelectFieldStatePath, (newVal) => {
          that.updateMarker();
        });
      },
      //sets Marker to Coordinate position.
      updateMarker: function(coords) {
        if (this.config.showMarker && this.marker) {
          if (!coords)
            coords = this.getCoordinates();
          if (coords.lat) {
            this.marker.setLatLng(coords);
            this.setMarkerRange(coords);
          }
        }
      },
      refreshMap: function() {
        this.map.flyTo(this.getCoordinates());
        this.updateMarker();
      }
    };
  };
  window.mapPicker = mapPicker;
  window.dispatchEvent(new CustomEvent("map-script-loaded"));
});
/*! Bundled license information:

leaflet/dist/leaflet-src.js:
  (* @preserve
   * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
   * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29yZS9DbGFzcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29yZS9FdmVudHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlb21ldHJ5L1BvaW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW9tZXRyeS9Cb3VuZHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9MYXRMbmdCb3VuZHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9MYXRMbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW8vY3JzL0NSUy5FYXJ0aC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL3Byb2plY3Rpb24vUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvbWV0cnkvVHJhbnNmb3JtYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLkVQU0czODU3LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci92ZWN0b3IvU1ZHLlV0aWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvQnJvd3Nlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZG9tL0RvbUV2ZW50LlBvaW50ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Eb21FdmVudC5Eb3VibGVUYXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Eb21VdGlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9kb20vRG9tRXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9Qb3NBbmltYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9NYXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvbnRyb2wvQ29udHJvbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLkxheWVycy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLlpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvbnRyb2wvQ29udHJvbC5TY2FsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvY29udHJvbC9Db250cm9sLkF0dHJpYnV0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9jb250cm9sL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9jb3JlL0hhbmRsZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2NvcmUvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2RvbS9EcmFnZ2FibGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlb21ldHJ5L1BvbHlVdGlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW9tZXRyeS9MaW5lVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL3Byb2plY3Rpb24vUHJvamVjdGlvbi5Mb25MYXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9wcm9qZWN0aW9uL1Byb2plY3Rpb24uTWVyY2F0b3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9wcm9qZWN0aW9uL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9nZW8vY3JzL0NSUy5FUFNHMzM5NS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL2Nycy9DUlMuRVBTRzQzMjYuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2dlby9jcnMvQ1JTLlNpbXBsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvZ2VvL2Nycy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvTGF5ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0xheWVyR3JvdXAuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0ZlYXR1cmVHcm91cC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL0ljb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9JY29uLkRlZmF1bHQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9NYXJrZXIuRHJhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL01hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1BhdGguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9DaXJjbGVNYXJrZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9DaXJjbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9Qb2x5bGluZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1BvbHlnb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0dlb0pTT04uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL0ltYWdlT3ZlcmxheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvVmlkZW9PdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9TVkdPdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9EaXZPdmVybGF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9Qb3B1cC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvVG9vbHRpcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvbWFya2VyL0Rpdkljb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL21hcmtlci9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdGlsZS9HcmlkTGF5ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3RpbGUvVGlsZUxheWVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci90aWxlL1RpbGVMYXllci5XTVMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3RpbGUvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9SZW5kZXJlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL0NhbnZhcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1NWRy5WTUwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9TVkcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL2xheWVyL3ZlY3Rvci9SZW5kZXJlci5nZXRSZW5kZXJlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL1JlY3RhbmdsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbGF5ZXIvdmVjdG9yL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9sYXllci9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvbGVhZmxldC9zcmMvbWFwL2hhbmRsZXIvTWFwLkJveFpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5Eb3VibGVDbGlja1pvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5EcmFnLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaGFuZGxlci9NYXAuS2V5Ym9hcmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5TY3JvbGxXaGVlbFpvb20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQvc3JjL21hcC9oYW5kbGVyL01hcC5UYXBIb2xkLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaGFuZGxlci9NYXAuVG91Y2hab29tLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9sZWFmbGV0L3NyYy9tYXAvaW5kZXguanMiLCAiLi4vanMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2xlYWZsZXQtZnVsbHNjcmVlbi9kaXN0L0xlYWZsZXQuZnVsbHNjcmVlbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVDbGVhci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc29jSW5kZXhPZi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUhhcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTGlzdENhY2hlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3JlSnNEYXRhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvU291cmNlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc05hdGl2ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUNyZWF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaERlbGV0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaFNldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19IYXNoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlQ2xlYXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXlhYmxlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE1hcERhdGEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVEZWxldGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVIYXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwQ2FjaGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tTZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3RhY2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fZGVmaW5lUHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUFzc2lnblZhbHVlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnbk1lcmdlVmFsdWUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY3JlYXRlQmFzZUZvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlRm9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nsb25lQnVmZmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1VpbnQ4QXJyYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2xvbmVBcnJheUJ1ZmZlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jbG9uZVR5cGVkQXJyYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29weUFycmF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VDcmVhdGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fb3ZlckFyZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNQcm90b3R5cGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faW5pdENsb25lT2JqZWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0FyZ3VtZW50cy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJndW1lbnRzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTGVuZ3RoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheUxpa2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5TGlrZU9iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3N0dWJGYWxzZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQnVmZmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNUeXBlZEFycmF5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19ub2RlVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2lzVHlwZWRBcnJheS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zYWZlR2V0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnblZhbHVlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcHlPYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRpbWVzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlMaWtlS2V5cy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19uYXRpdmVLZXlzSW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUtleXNJbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2tleXNJbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3RvUGxhaW5PYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZU1lcmdlRGVlcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlTWVyZ2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19hcHBseS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2NvbnN0YW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VTZXRUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zaG9ydE91dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0l0ZXJhdGVlQ2FsbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL19jcmVhdGVBc3NpZ25lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL21lcmdlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9tZW1vaXplLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21lbW9pemVDYXBwZWQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RyaW5nVG9QYXRoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TWFwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUb1N0cmluZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3RvU3RyaW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nhc3RQYXRoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvS2V5LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9nZXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcmJ1c2hAMy4wLjEvbm9kZV9tb2R1bGVzL3JidXNoL3JidXNoLm1pbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitoZWxwZXJzQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9oZWxwZXJzL2Rpc3QvanMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrbWV0YUA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbWV0YS9kaXN0L2pzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Jib3hANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jib3gvZGlzdC9qcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9nZW9qc29uLXJidXNoQDMuMi4wL25vZGVfbW9kdWxlcy9nZW9qc29uLXJidXNoL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL3BvbHlmaWxscy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3BhY2thZ2UuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9MLlBNLk1hcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VuLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9kZS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvaXQuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2lkLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9yby5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvcnUuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VzLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9ubC5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvZnIuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3poLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy96aF90dy5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvcHRfYnIuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3B0X3B0Lmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9wbC5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvc3YuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2VsLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9odS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvZGEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL25vLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9mYS5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvdWEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL3RyLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9jei5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMvamEuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2ZpLmpzb24iLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvYXNzZXRzL3RyYW5zbGF0aW9ucy9rby5qc29uIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2Fzc2V0cy90cmFuc2xhdGlvbnMva3kuanNvbiIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9hc3NldHMvdHJhbnNsYXRpb25zL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9Nb2Rlcy9Nb2RlLkVkaXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvTWl4aW5zL01vZGVzL01vZGUuRHJhZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvTW9kZXMvTW9kZS5SZW1vdmFsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9Nb2Rlcy9Nb2RlLlJvdGF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvRXZlbnRzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9LZXlib2FyZC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL1Rvb2xiYXIvTC5Db250cm9scy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9Ub29sYmFyL0wuUE0uVG9vbGJhci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvU25hcHBpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuTWFya2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2hlbHBlcnNANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2hlbHBlcnMvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitraW5rc0A2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYva2lua3MvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5MaW5lLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0RyYXcvTC5QTS5EcmF3LlBvbHlnb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuUmVjdGFuZ2xlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0RyYXcvTC5QTS5EcmF3LkNpcmNsZU1hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5DaXJjbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYraW52YXJpYW50QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9pbnZhcmlhbnQvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZittZXRhQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9tZXRhL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrbGluZS1zZWdtZW50QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9saW5lLXNlZ21lbnQvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitsaW5lLWludGVyc2VjdEA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbGluZS1pbnRlcnNlY3QvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitsaW5lLXNwbGl0QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9saW5lLXNwbGl0L2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrZGlzdGFuY2VANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Rpc3RhbmNlL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrc3F1YXJlQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9zcXVhcmUvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitiYm94QDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9iYm94L2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrdHJ1bmNhdGVANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL3RydW5jYXRlL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrYmVhcmluZ0A2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvYmVhcmluZy9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Rlc3RpbmF0aW9uQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9kZXN0aW5hdGlvbi9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK25lYXJlc3QtcG9pbnQtb24tbGluZUA2LjUuMC9ub2RlX21vZHVsZXMvQHR1cmYvbmVhcmVzdC1wb2ludC1vbi1saW5lL2Rpc3QvZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vQHR1cmYrYm9vbGVhbi1wb2ludC1pbi1wb2x5Z29uQDYuNS4wL25vZGVfbW9kdWxlcy9AdHVyZi9ib29sZWFuLXBvaW50LWluLXBvbHlnb24vZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9AdHVyZitib29sZWFuLXBvaW50LW9uLWxpbmVANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jvb2xlYW4tcG9pbnQtb24tbGluZS9kaXN0L2VzL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL0B0dXJmK2Jvb2xlYW4tY29udGFpbnNANi41LjAvbm9kZV9tb2R1bGVzL0B0dXJmL2Jvb2xlYW4tY29udGFpbnMvZGlzdC9lcy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9EcmF3L0wuUE0uRHJhdy5DdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcG9seWNsaXAtdHNAMC4xNi41L25vZGVfbW9kdWxlcy9wb2x5Y2xpcC10cy9kaXN0L2NvbnN0YW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9jb21wYXJlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9vcmllbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vYmlnbnVtYmVyLmpzQDkuMS4yL25vZGVfbW9kdWxlcy9iaWdudW1iZXIuanMvYmlnbnVtYmVyLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9zcGxheXRyZWUtdHNAMS4wLjEvbm9kZV9tb2R1bGVzL3NwbGF5dHJlZS10cy9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9pZGVudGl0eS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvc25hcC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3QvcHJlY2lzaW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9iYm94LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC92ZWN0b3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9ub2RlX21vZHVsZXMvLnBucG0vcG9seWNsaXAtdHNAMC4xNi41L25vZGVfbW9kdWxlcy9wb2x5Y2xpcC10cy9kaXN0L3N3ZWVwLWV2ZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9zZWdtZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9nZW9tLWluLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9nZW9tLW91dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvc3dlZXAtbGluZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL25vZGVfbW9kdWxlcy8ucG5wbS9wb2x5Y2xpcC10c0AwLjE2LjUvbm9kZV9tb2R1bGVzL3BvbHljbGlwLXRzL2Rpc3Qvb3BlcmF0aW9uLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvbm9kZV9tb2R1bGVzLy5wbnBtL3BvbHljbGlwLXRzQDAuMTYuNS9ub2RlX21vZHVsZXMvcG9seWNsaXAtdHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL3R1cmZIZWxwZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRHJhdy9MLlBNLkRyYXcuVGV4dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9NaXhpbnMvRHJhZ2dpbmcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvTWl4aW5zL1JvdGF0aW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL2hlbHBlcnMvTW9kZUhlbHBlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5MYXllckdyb3VwLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0VkaXQvTC5QTS5FZGl0Lk1hcmtlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5MaW5lLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL01peGlucy9NYXJrZXJMaW1pdHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuUG9seWdvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5SZWN0YW5nbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuQ2lyY2xlTWFya2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0VkaXQvTC5QTS5FZGl0LkNpcmNsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9FZGl0L0wuUE0uRWRpdC5JbWFnZU92ZXJsYXkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZS9zcmMvanMvRWRpdC9MLlBNLkVkaXQuVGV4dC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9oZWxwZXJzL01hdHJpeC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlL3NyYy9qcy9MLlBNLlV0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLWZyZWUvc3JjL2pzL0wuUE0uanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qXHJcbiAqIEBuYW1lc3BhY2UgVXRpbFxyXG4gKlxyXG4gKiBWYXJpb3VzIHV0aWxpdHkgZnVuY3Rpb25zLCB1c2VkIGJ5IExlYWZsZXQgaW50ZXJuYWxseS5cclxuICovXHJcblxyXG4vLyBAZnVuY3Rpb24gZXh0ZW5kKGRlc3Q6IE9iamVjdCwgc3JjPzogT2JqZWN0KTogT2JqZWN0XHJcbi8vIE1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgYHNyY2Agb2JqZWN0IChvciBtdWx0aXBsZSBvYmplY3RzKSBpbnRvIGBkZXN0YCBvYmplY3QgYW5kIHJldHVybnMgdGhlIGxhdHRlci4gSGFzIGFuIGBMLmV4dGVuZGAgc2hvcnRjdXQuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoZGVzdCkge1xyXG5cdHZhciBpLCBqLCBsZW4sIHNyYztcclxuXHJcblx0Zm9yIChqID0gMSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XHJcblx0XHRzcmMgPSBhcmd1bWVudHNbal07XHJcblx0XHRmb3IgKGkgaW4gc3JjKSB7XHJcblx0XHRcdGRlc3RbaV0gPSBzcmNbaV07XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBkZXN0O1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gY3JlYXRlKHByb3RvOiBPYmplY3QsIHByb3BlcnRpZXM/OiBPYmplY3QpOiBPYmplY3RcclxuLy8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW09iamVjdC5jcmVhdGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGUpXHJcbmV4cG9ydCB2YXIgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCAoZnVuY3Rpb24gKCkge1xyXG5cdGZ1bmN0aW9uIEYoKSB7fVxyXG5cdHJldHVybiBmdW5jdGlvbiAocHJvdG8pIHtcclxuXHRcdEYucHJvdG90eXBlID0gcHJvdG87XHJcblx0XHRyZXR1cm4gbmV3IEYoKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuLy8gQGZ1bmN0aW9uIGJpbmQoZm46IEZ1bmN0aW9uLCDigKYpOiBGdW5jdGlvblxyXG4vLyBSZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIGJvdW5kIHRvIHRoZSBhcmd1bWVudHMgcGFzc2VkLCBsaWtlIFtGdW5jdGlvbi5wcm90b3R5cGUuYmluZF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vYmluZCkuXHJcbi8vIEhhcyBhIGBMLmJpbmQoKWAgc2hvcnRjdXQuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kKGZuLCBvYmopIHtcclxuXHR2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XHJcblxyXG5cdGlmIChmbi5iaW5kKSB7XHJcblx0XHRyZXR1cm4gZm4uYmluZC5hcHBseShmbiwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuXHR9XHJcblxyXG5cdHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGZuLmFwcGx5KG9iaiwgYXJncy5sZW5ndGggPyBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpIDogYXJndW1lbnRzKTtcclxuXHR9O1xyXG59XHJcblxyXG4vLyBAcHJvcGVydHkgbGFzdElkOiBOdW1iZXJcclxuLy8gTGFzdCB1bmlxdWUgSUQgdXNlZCBieSBbYHN0YW1wKClgXSgjdXRpbC1zdGFtcClcclxuZXhwb3J0IHZhciBsYXN0SWQgPSAwO1xyXG5cclxuLy8gQGZ1bmN0aW9uIHN0YW1wKG9iajogT2JqZWN0KTogTnVtYmVyXHJcbi8vIFJldHVybnMgdGhlIHVuaXF1ZSBJRCBvZiBhbiBvYmplY3QsIGFzc2lnbmluZyBpdCBvbmUgaWYgaXQgZG9lc24ndCBoYXZlIGl0LlxyXG5leHBvcnQgZnVuY3Rpb24gc3RhbXAob2JqKSB7XHJcblx0aWYgKCEoJ19sZWFmbGV0X2lkJyBpbiBvYmopKSB7XHJcblx0XHRvYmpbJ19sZWFmbGV0X2lkJ10gPSArK2xhc3RJZDtcclxuXHR9XHJcblx0cmV0dXJuIG9iai5fbGVhZmxldF9pZDtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHRocm90dGxlKGZuOiBGdW5jdGlvbiwgdGltZTogTnVtYmVyLCBjb250ZXh0OiBPYmplY3QpOiBGdW5jdGlvblxyXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZXhlY3V0ZXMgZnVuY3Rpb24gYGZuYCB3aXRoIHRoZSBnaXZlbiBzY29wZSBgY29udGV4dGBcclxuLy8gKHNvIHRoYXQgdGhlIGB0aGlzYCBrZXl3b3JkIHJlZmVycyB0byBgY29udGV4dGAgaW5zaWRlIGBmbmAncyBjb2RlKS4gVGhlIGZ1bmN0aW9uXHJcbi8vIGBmbmAgd2lsbCBiZSBjYWxsZWQgbm8gbW9yZSB0aGFuIG9uZSB0aW1lIHBlciBnaXZlbiBhbW91bnQgb2YgYHRpbWVgLiBUaGUgYXJndW1lbnRzXHJcbi8vIHJlY2VpdmVkIGJ5IHRoZSBib3VuZCBmdW5jdGlvbiB3aWxsIGJlIGFueSBhcmd1bWVudHMgcGFzc2VkIHdoZW4gYmluZGluZyB0aGVcclxuLy8gZnVuY3Rpb24sIGZvbGxvd2VkIGJ5IGFueSBhcmd1bWVudHMgcGFzc2VkIHdoZW4gaW52b2tpbmcgdGhlIGJvdW5kIGZ1bmN0aW9uLlxyXG4vLyBIYXMgYW4gYEwudGhyb3R0bGVgIHNob3J0Y3V0LlxyXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoZm4sIHRpbWUsIGNvbnRleHQpIHtcclxuXHR2YXIgbG9jaywgYXJncywgd3JhcHBlckZuLCBsYXRlcjtcclxuXHJcblx0bGF0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyByZXNldCBsb2NrIGFuZCBjYWxsIGlmIHF1ZXVlZFxyXG5cdFx0bG9jayA9IGZhbHNlO1xyXG5cdFx0aWYgKGFyZ3MpIHtcclxuXHRcdFx0d3JhcHBlckZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG5cdFx0XHRhcmdzID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0d3JhcHBlckZuID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKGxvY2spIHtcclxuXHRcdFx0Ly8gY2FsbGVkIHRvbyBzb29uLCBxdWV1ZSB0byBjYWxsIGxhdGVyXHJcblx0XHRcdGFyZ3MgPSBhcmd1bWVudHM7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gY2FsbCBhbmQgbG9jayB1bnRpbCBsYXRlclxyXG5cdFx0XHRmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGxhdGVyLCB0aW1lKTtcclxuXHRcdFx0bG9jayA9IHRydWU7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIHdyYXBwZXJGbjtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHdyYXBOdW0obnVtOiBOdW1iZXIsIHJhbmdlOiBOdW1iZXJbXSwgaW5jbHVkZU1heD86IEJvb2xlYW4pOiBOdW1iZXJcclxuLy8gUmV0dXJucyB0aGUgbnVtYmVyIGBudW1gIG1vZHVsbyBgcmFuZ2VgIGluIHN1Y2ggYSB3YXkgc28gaXQgbGllcyB3aXRoaW5cclxuLy8gYHJhbmdlWzBdYCBhbmQgYHJhbmdlWzFdYC4gVGhlIHJldHVybmVkIHZhbHVlIHdpbGwgYmUgYWx3YXlzIHNtYWxsZXIgdGhhblxyXG4vLyBgcmFuZ2VbMV1gIHVubGVzcyBgaW5jbHVkZU1heGAgaXMgc2V0IHRvIGB0cnVlYC5cclxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBOdW0oeCwgcmFuZ2UsIGluY2x1ZGVNYXgpIHtcclxuXHR2YXIgbWF4ID0gcmFuZ2VbMV0sXHJcblx0ICAgIG1pbiA9IHJhbmdlWzBdLFxyXG5cdCAgICBkID0gbWF4IC0gbWluO1xyXG5cdHJldHVybiB4ID09PSBtYXggJiYgaW5jbHVkZU1heCA/IHggOiAoKHggLSBtaW4pICUgZCArIGQpICUgZCArIG1pbjtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGZhbHNlRm4oKTogRnVuY3Rpb25cclxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGFsd2F5cyByZXR1cm5zIGBmYWxzZWAuXHJcbmV4cG9ydCBmdW5jdGlvbiBmYWxzZUZuKCkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcbi8vIEBmdW5jdGlvbiBmb3JtYXROdW0obnVtOiBOdW1iZXIsIHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IE51bWJlclxyXG4vLyBSZXR1cm5zIHRoZSBudW1iZXIgYG51bWAgcm91bmRlZCB3aXRoIHNwZWNpZmllZCBgcHJlY2lzaW9uYC5cclxuLy8gVGhlIGRlZmF1bHQgYHByZWNpc2lvbmAgdmFsdWUgaXMgNiBkZWNpbWFsIHBsYWNlcy5cclxuLy8gYGZhbHNlYCBjYW4gYmUgcGFzc2VkIHRvIHNraXAgYW55IHByb2Nlc3NpbmcgKGNhbiBiZSB1c2VmdWwgdG8gYXZvaWQgcm91bmQtb2ZmIGVycm9ycykuXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXROdW0obnVtLCBwcmVjaXNpb24pIHtcclxuXHRpZiAocHJlY2lzaW9uID09PSBmYWxzZSkgeyByZXR1cm4gbnVtOyB9XHJcblx0dmFyIHBvdyA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gPT09IHVuZGVmaW5lZCA/IDYgOiBwcmVjaXNpb24pO1xyXG5cdHJldHVybiBNYXRoLnJvdW5kKG51bSAqIHBvdykgLyBwb3c7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiB0cmltKHN0cjogU3RyaW5nKTogU3RyaW5nXHJcbi8vIENvbXBhdGliaWxpdHkgcG9seWZpbGwgZm9yIFtTdHJpbmcucHJvdG90eXBlLnRyaW1dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9UcmltKVxyXG5leHBvcnQgZnVuY3Rpb24gdHJpbShzdHIpIHtcclxuXHRyZXR1cm4gc3RyLnRyaW0gPyBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNwbGl0V29yZHMoc3RyOiBTdHJpbmcpOiBTdHJpbmdbXVxyXG4vLyBUcmltcyBhbmQgc3BsaXRzIHRoZSBzdHJpbmcgb24gd2hpdGVzcGFjZSBhbmQgcmV0dXJucyB0aGUgYXJyYXkgb2YgcGFydHMuXHJcbmV4cG9ydCBmdW5jdGlvbiBzcGxpdFdvcmRzKHN0cikge1xyXG5cdHJldHVybiB0cmltKHN0cikuc3BsaXQoL1xccysvKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNldE9wdGlvbnMob2JqOiBPYmplY3QsIG9wdGlvbnM6IE9iamVjdCk6IE9iamVjdFxyXG4vLyBNZXJnZXMgdGhlIGdpdmVuIHByb3BlcnRpZXMgdG8gdGhlIGBvcHRpb25zYCBvZiB0aGUgYG9iamAgb2JqZWN0LCByZXR1cm5pbmcgdGhlIHJlc3VsdGluZyBvcHRpb25zLiBTZWUgYENsYXNzIG9wdGlvbnNgLiBIYXMgYW4gYEwuc2V0T3B0aW9uc2Agc2hvcnRjdXQuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRPcHRpb25zKG9iaiwgb3B0aW9ucykge1xyXG5cdGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgJ29wdGlvbnMnKSkge1xyXG5cdFx0b2JqLm9wdGlvbnMgPSBvYmoub3B0aW9ucyA/IGNyZWF0ZShvYmoub3B0aW9ucykgOiB7fTtcclxuXHR9XHJcblx0Zm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XHJcblx0XHRvYmoub3B0aW9uc1tpXSA9IG9wdGlvbnNbaV07XHJcblx0fVxyXG5cdHJldHVybiBvYmoub3B0aW9ucztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldFBhcmFtU3RyaW5nKG9iajogT2JqZWN0LCBleGlzdGluZ1VybD86IFN0cmluZywgdXBwZXJjYXNlPzogQm9vbGVhbik6IFN0cmluZ1xyXG4vLyBDb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIHBhcmFtZXRlciBVUkwgc3RyaW5nLCBlLmcuIGB7YTogXCJmb29cIiwgYjogXCJiYXJcIn1gXHJcbi8vIHRyYW5zbGF0ZXMgdG8gYCc/YT1mb28mYj1iYXInYC4gSWYgYGV4aXN0aW5nVXJsYCBpcyBzZXQsIHRoZSBwYXJhbWV0ZXJzIHdpbGxcclxuLy8gYmUgYXBwZW5kZWQgYXQgdGhlIGVuZC4gSWYgYHVwcGVyY2FzZWAgaXMgYHRydWVgLCB0aGUgcGFyYW1ldGVyIG5hbWVzIHdpbGxcclxuLy8gYmUgdXBwZXJjYXNlZCAoZS5nLiBgJz9BPWZvbyZCPWJhcidgKVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyYW1TdHJpbmcob2JqLCBleGlzdGluZ1VybCwgdXBwZXJjYXNlKSB7XHJcblx0dmFyIHBhcmFtcyA9IFtdO1xyXG5cdGZvciAodmFyIGkgaW4gb2JqKSB7XHJcblx0XHRwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQodXBwZXJjYXNlID8gaS50b1VwcGVyQ2FzZSgpIDogaSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2ldKSk7XHJcblx0fVxyXG5cdHJldHVybiAoKCFleGlzdGluZ1VybCB8fCBleGlzdGluZ1VybC5pbmRleE9mKCc/JykgPT09IC0xKSA/ICc/JyA6ICcmJykgKyBwYXJhbXMuam9pbignJicpO1xyXG59XHJcblxyXG52YXIgdGVtcGxhdGVSZSA9IC9cXHsgKihbXFx3XyAtXSspICpcXH0vZztcclxuXHJcbi8vIEBmdW5jdGlvbiB0ZW1wbGF0ZShzdHI6IFN0cmluZywgZGF0YTogT2JqZWN0KTogU3RyaW5nXHJcbi8vIFNpbXBsZSB0ZW1wbGF0aW5nIGZhY2lsaXR5LCBhY2NlcHRzIGEgdGVtcGxhdGUgc3RyaW5nIG9mIHRoZSBmb3JtIGAnSGVsbG8ge2F9LCB7Yn0nYFxyXG4vLyBhbmQgYSBkYXRhIG9iamVjdCBsaWtlIGB7YTogJ2ZvbycsIGI6ICdiYXInfWAsIHJldHVybnMgZXZhbHVhdGVkIHN0cmluZ1xyXG4vLyBgKCdIZWxsbyBmb28sIGJhcicpYC4gWW91IGNhbiBhbHNvIHNwZWNpZnkgZnVuY3Rpb25zIGluc3RlYWQgb2Ygc3RyaW5ncyBmb3JcclxuLy8gZGF0YSB2YWx1ZXMg4oCUIHRoZXkgd2lsbCBiZSBldmFsdWF0ZWQgcGFzc2luZyBgZGF0YWAgYXMgYW4gYXJndW1lbnQuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZShzdHIsIGRhdGEpIHtcclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UodGVtcGxhdGVSZSwgZnVuY3Rpb24gKHN0ciwga2V5KSB7XHJcblx0XHR2YXIgdmFsdWUgPSBkYXRhW2tleV07XHJcblxyXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdObyB2YWx1ZSBwcm92aWRlZCBmb3IgdmFyaWFibGUgJyArIHN0cik7XHJcblxyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0dmFsdWUgPSB2YWx1ZShkYXRhKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB2YWx1ZTtcclxuXHR9KTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGlzQXJyYXkob2JqKTogQm9vbGVhblxyXG4vLyBDb21wYXRpYmlsaXR5IHBvbHlmaWxsIGZvciBbQXJyYXkuaXNBcnJheV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheSlcclxuZXhwb3J0IHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAob2JqKSB7XHJcblx0cmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJyk7XHJcbn07XHJcblxyXG4vLyBAZnVuY3Rpb24gaW5kZXhPZihhcnJheTogQXJyYXksIGVsOiBPYmplY3QpOiBOdW1iZXJcclxuLy8gQ29tcGF0aWJpbGl0eSBwb2x5ZmlsbCBmb3IgW0FycmF5LnByb3RvdHlwZS5pbmRleE9mXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mKVxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgZWwpIHtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAoYXJyYXlbaV0gPT09IGVsKSB7IHJldHVybiBpOyB9XHJcblx0fVxyXG5cdHJldHVybiAtMTtcclxufVxyXG5cclxuLy8gQHByb3BlcnR5IGVtcHR5SW1hZ2VVcmw6IFN0cmluZ1xyXG4vLyBEYXRhIFVSSSBzdHJpbmcgY29udGFpbmluZyBhIGJhc2U2NC1lbmNvZGVkIGVtcHR5IEdJRiBpbWFnZS5cclxuLy8gVXNlZCBhcyBhIGhhY2sgdG8gZnJlZSBtZW1vcnkgZnJvbSB1bnVzZWQgaW1hZ2VzIG9uIFdlYktpdC1wb3dlcmVkXHJcbi8vIG1vYmlsZSBkZXZpY2VzIChieSBzZXR0aW5nIGltYWdlIGBzcmNgIHRvIHRoaXMgc3RyaW5nKS5cclxuZXhwb3J0IHZhciBlbXB0eUltYWdlVXJsID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUQvQUN3QUFBQUFBUUFCQUFBQ0FEcz0nO1xyXG5cclxuLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXHJcblxyXG5mdW5jdGlvbiBnZXRQcmVmaXhlZChuYW1lKSB7XHJcblx0cmV0dXJuIHdpbmRvd1snd2Via2l0JyArIG5hbWVdIHx8IHdpbmRvd1snbW96JyArIG5hbWVdIHx8IHdpbmRvd1snbXMnICsgbmFtZV07XHJcbn1cclxuXHJcbnZhciBsYXN0VGltZSA9IDA7XHJcblxyXG4vLyBmYWxsYmFjayBmb3IgSUUgNy04XHJcbmZ1bmN0aW9uIHRpbWVvdXREZWZlcihmbikge1xyXG5cdHZhciB0aW1lID0gK25ldyBEYXRlKCksXHJcblx0ICAgIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtICh0aW1lIC0gbGFzdFRpbWUpKTtcclxuXHJcblx0bGFzdFRpbWUgPSB0aW1lICsgdGltZVRvQ2FsbDtcclxuXHRyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZm4sIHRpbWVUb0NhbGwpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIHJlcXVlc3RGbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZ2V0UHJlZml4ZWQoJ1JlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8IHRpbWVvdXREZWZlcjtcclxuZXhwb3J0IHZhciBjYW5jZWxGbiA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCBnZXRQcmVmaXhlZCgnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnKSB8fFxyXG5cdFx0Z2V0UHJlZml4ZWQoJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8IGZ1bmN0aW9uIChpZCkgeyB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTsgfTtcclxuXHJcbi8vIEBmdW5jdGlvbiByZXF1ZXN0QW5pbUZyYW1lKGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCwgaW1tZWRpYXRlPzogQm9vbGVhbik6IE51bWJlclxyXG4vLyBTY2hlZHVsZXMgYGZuYCB0byBiZSBleGVjdXRlZCB3aGVuIHRoZSBicm93c2VyIHJlcGFpbnRzLiBgZm5gIGlzIGJvdW5kIHRvXHJcbi8vIGBjb250ZXh0YCBpZiBnaXZlbi4gV2hlbiBgaW1tZWRpYXRlYCBpcyBzZXQsIGBmbmAgaXMgY2FsbGVkIGltbWVkaWF0ZWx5IGlmXHJcbi8vIHRoZSBicm93c2VyIGRvZXNuJ3QgaGF2ZSBuYXRpdmUgc3VwcG9ydCBmb3JcclxuLy8gW2B3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL3dpbmRvdy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLFxyXG4vLyBvdGhlcndpc2UgaXQncyBkZWxheWVkLiBSZXR1cm5zIGEgcmVxdWVzdCBJRCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RBbmltRnJhbWUoZm4sIGNvbnRleHQsIGltbWVkaWF0ZSkge1xyXG5cdGlmIChpbW1lZGlhdGUgJiYgcmVxdWVzdEZuID09PSB0aW1lb3V0RGVmZXIpIHtcclxuXHRcdGZuLmNhbGwoY29udGV4dCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiByZXF1ZXN0Rm4uY2FsbCh3aW5kb3csIGJpbmQoZm4sIGNvbnRleHQpKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBjYW5jZWxBbmltRnJhbWUoaWQ6IE51bWJlcik6IHVuZGVmaW5lZFxyXG4vLyBDYW5jZWxzIGEgcHJldmlvdXMgYHJlcXVlc3RBbmltRnJhbWVgLiBTZWUgYWxzbyBbd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvd2luZG93L2NhbmNlbEFuaW1hdGlvbkZyYW1lKS5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbEFuaW1GcmFtZShpZCkge1xyXG5cdGlmIChpZCkge1xyXG5cdFx0Y2FuY2VsRm4uY2FsbCh3aW5kb3csIGlkKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi9VdGlsJztcclxuXHJcbi8vIEBjbGFzcyBDbGFzc1xyXG4vLyBAYWthIEwuQ2xhc3NcclxuXHJcbi8vIEBzZWN0aW9uXHJcbi8vIEB1bmluaGVyaXRhYmxlXHJcblxyXG4vLyBUaGFua3MgdG8gSm9obiBSZXNpZyBhbmQgRGVhbiBFZHdhcmRzIGZvciBpbnNwaXJhdGlvbiFcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDbGFzcygpIHt9XHJcblxyXG5DbGFzcy5leHRlbmQgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuXHJcblx0Ly8gQGZ1bmN0aW9uIGV4dGVuZChwcm9wczogT2JqZWN0KTogRnVuY3Rpb25cclxuXHQvLyBbRXh0ZW5kcyB0aGUgY3VycmVudCBjbGFzc10oI2NsYXNzLWluaGVyaXRhbmNlKSBnaXZlbiB0aGUgcHJvcGVydGllcyB0byBiZSBpbmNsdWRlZC5cclxuXHQvLyBSZXR1cm5zIGEgSmF2YXNjcmlwdCBmdW5jdGlvbiB0aGF0IGlzIGEgY2xhc3MgY29uc3RydWN0b3IgKHRvIGJlIGNhbGxlZCB3aXRoIGBuZXdgKS5cclxuXHR2YXIgTmV3Q2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMpO1xyXG5cclxuXHRcdC8vIGNhbGwgdGhlIGNvbnN0cnVjdG9yXHJcblx0XHRpZiAodGhpcy5pbml0aWFsaXplKSB7XHJcblx0XHRcdHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNhbGwgYWxsIGNvbnN0cnVjdG9yIGhvb2tzXHJcblx0XHR0aGlzLmNhbGxJbml0SG9va3MoKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgcGFyZW50UHJvdG8gPSBOZXdDbGFzcy5fX3N1cGVyX18gPSB0aGlzLnByb3RvdHlwZTtcclxuXHJcblx0dmFyIHByb3RvID0gVXRpbC5jcmVhdGUocGFyZW50UHJvdG8pO1xyXG5cdHByb3RvLmNvbnN0cnVjdG9yID0gTmV3Q2xhc3M7XHJcblxyXG5cdE5ld0NsYXNzLnByb3RvdHlwZSA9IHByb3RvO1xyXG5cclxuXHQvLyBpbmhlcml0IHBhcmVudCdzIHN0YXRpY3NcclxuXHRmb3IgKHZhciBpIGluIHRoaXMpIHtcclxuXHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgaSkgJiYgaSAhPT0gJ3Byb3RvdHlwZScgJiYgaSAhPT0gJ19fc3VwZXJfXycpIHtcclxuXHRcdFx0TmV3Q2xhc3NbaV0gPSB0aGlzW2ldO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gbWl4IHN0YXRpYyBwcm9wZXJ0aWVzIGludG8gdGhlIGNsYXNzXHJcblx0aWYgKHByb3BzLnN0YXRpY3MpIHtcclxuXHRcdFV0aWwuZXh0ZW5kKE5ld0NsYXNzLCBwcm9wcy5zdGF0aWNzKTtcclxuXHR9XHJcblxyXG5cdC8vIG1peCBpbmNsdWRlcyBpbnRvIHRoZSBwcm90b3R5cGVcclxuXHRpZiAocHJvcHMuaW5jbHVkZXMpIHtcclxuXHRcdGNoZWNrRGVwcmVjYXRlZE1peGluRXZlbnRzKHByb3BzLmluY2x1ZGVzKTtcclxuXHRcdFV0aWwuZXh0ZW5kLmFwcGx5KG51bGwsIFtwcm90b10uY29uY2F0KHByb3BzLmluY2x1ZGVzKSk7XHJcblx0fVxyXG5cclxuXHQvLyBtaXggZ2l2ZW4gcHJvcGVydGllcyBpbnRvIHRoZSBwcm90b3R5cGVcclxuXHRVdGlsLmV4dGVuZChwcm90bywgcHJvcHMpO1xyXG5cdGRlbGV0ZSBwcm90by5zdGF0aWNzO1xyXG5cdGRlbGV0ZSBwcm90by5pbmNsdWRlcztcclxuXHJcblx0Ly8gbWVyZ2Ugb3B0aW9uc1xyXG5cdGlmIChwcm90by5vcHRpb25zKSB7XHJcblx0XHRwcm90by5vcHRpb25zID0gcGFyZW50UHJvdG8ub3B0aW9ucyA/IFV0aWwuY3JlYXRlKHBhcmVudFByb3RvLm9wdGlvbnMpIDoge307XHJcblx0XHRVdGlsLmV4dGVuZChwcm90by5vcHRpb25zLCBwcm9wcy5vcHRpb25zKTtcclxuXHR9XHJcblxyXG5cdHByb3RvLl9pbml0SG9va3MgPSBbXTtcclxuXHJcblx0Ly8gYWRkIG1ldGhvZCBmb3IgY2FsbGluZyBhbGwgaG9va3NcclxuXHRwcm90by5jYWxsSW5pdEhvb2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdGlmICh0aGlzLl9pbml0SG9va3NDYWxsZWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0aWYgKHBhcmVudFByb3RvLmNhbGxJbml0SG9va3MpIHtcclxuXHRcdFx0cGFyZW50UHJvdG8uY2FsbEluaXRIb29rcy5jYWxsKHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2luaXRIb29rc0NhbGxlZCA9IHRydWU7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHByb3RvLl9pbml0SG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0cHJvdG8uX2luaXRIb29rc1tpXS5jYWxsKHRoaXMpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHJldHVybiBOZXdDbGFzcztcclxufTtcclxuXHJcblxyXG4vLyBAZnVuY3Rpb24gaW5jbHVkZShwcm9wZXJ0aWVzOiBPYmplY3QpOiB0aGlzXHJcbi8vIFtJbmNsdWRlcyBhIG1peGluXSgjY2xhc3MtaW5jbHVkZXMpIGludG8gdGhlIGN1cnJlbnQgY2xhc3MuXHJcbkNsYXNzLmluY2x1ZGUgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuXHR2YXIgcGFyZW50T3B0aW9ucyA9IHRoaXMucHJvdG90eXBlLm9wdGlvbnM7XHJcblx0VXRpbC5leHRlbmQodGhpcy5wcm90b3R5cGUsIHByb3BzKTtcclxuXHRpZiAocHJvcHMub3B0aW9ucykge1xyXG5cdFx0dGhpcy5wcm90b3R5cGUub3B0aW9ucyA9IHBhcmVudE9wdGlvbnM7XHJcblx0XHR0aGlzLm1lcmdlT3B0aW9ucyhwcm9wcy5vcHRpb25zKTtcclxuXHR9XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vLyBAZnVuY3Rpb24gbWVyZ2VPcHRpb25zKG9wdGlvbnM6IE9iamVjdCk6IHRoaXNcclxuLy8gW01lcmdlcyBgb3B0aW9uc2BdKCNjbGFzcy1vcHRpb25zKSBpbnRvIHRoZSBkZWZhdWx0cyBvZiB0aGUgY2xhc3MuXHJcbkNsYXNzLm1lcmdlT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0VXRpbC5leHRlbmQodGhpcy5wcm90b3R5cGUub3B0aW9ucywgb3B0aW9ucyk7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vLyBAZnVuY3Rpb24gYWRkSW5pdEhvb2soZm46IEZ1bmN0aW9uKTogdGhpc1xyXG4vLyBBZGRzIGEgW2NvbnN0cnVjdG9yIGhvb2tdKCNjbGFzcy1jb25zdHJ1Y3Rvci1ob29rcykgdG8gdGhlIGNsYXNzLlxyXG5DbGFzcy5hZGRJbml0SG9vayA9IGZ1bmN0aW9uIChmbikgeyAvLyAoRnVuY3Rpb24pIHx8IChTdHJpbmcsIGFyZ3MuLi4pXHJcblx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cclxuXHR2YXIgaW5pdCA9IHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyA/IGZuIDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpc1tmbl0uYXBwbHkodGhpcywgYXJncyk7XHJcblx0fTtcclxuXHJcblx0dGhpcy5wcm90b3R5cGUuX2luaXRIb29rcyA9IHRoaXMucHJvdG90eXBlLl9pbml0SG9va3MgfHwgW107XHJcblx0dGhpcy5wcm90b3R5cGUuX2luaXRIb29rcy5wdXNoKGluaXQpO1xyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY2hlY2tEZXByZWNhdGVkTWl4aW5FdmVudHMoaW5jbHVkZXMpIHtcclxuXHQvKiBnbG9iYWwgTDogdHJ1ZSAqL1xyXG5cdGlmICh0eXBlb2YgTCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUwgfHwgIUwuTWl4aW4pIHsgcmV0dXJuOyB9XHJcblxyXG5cdGluY2x1ZGVzID0gVXRpbC5pc0FycmF5KGluY2x1ZGVzKSA/IGluY2x1ZGVzIDogW2luY2x1ZGVzXTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBpbmNsdWRlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKGluY2x1ZGVzW2ldID09PSBMLk1peGluLkV2ZW50cykge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ0RlcHJlY2F0ZWQgaW5jbHVkZSBvZiBMLk1peGluLkV2ZW50czogJyArXHJcblx0XHRcdFx0J3RoaXMgcHJvcGVydHkgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSByZWxlYXNlcywgJyArXHJcblx0XHRcdFx0J3BsZWFzZSBpbmhlcml0IGZyb20gTC5FdmVudGVkIGluc3RlYWQuJywgbmV3IEVycm9yKCkuc3RhY2spO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHtDbGFzc30gZnJvbSAnLi9DbGFzcyc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBFdmVudGVkXHJcbiAqIEBha2EgTC5FdmVudGVkXHJcbiAqIEBpbmhlcml0cyBDbGFzc1xyXG4gKlxyXG4gKiBBIHNldCBvZiBtZXRob2RzIHNoYXJlZCBiZXR3ZWVuIGV2ZW50LXBvd2VyZWQgY2xhc3NlcyAobGlrZSBgTWFwYCBhbmQgYE1hcmtlcmApLiBHZW5lcmFsbHksIGV2ZW50cyBhbGxvdyB5b3UgdG8gZXhlY3V0ZSBzb21lIGZ1bmN0aW9uIHdoZW4gc29tZXRoaW5nIGhhcHBlbnMgd2l0aCBhbiBvYmplY3QgKGUuZy4gdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSBtYXAsIGNhdXNpbmcgdGhlIG1hcCB0byBmaXJlIGAnY2xpY2snYCBldmVudCkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG1hcC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAqIFx0YWxlcnQoZS5sYXRsbmcpO1xyXG4gKiB9ICk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBMZWFmbGV0IGRlYWxzIHdpdGggZXZlbnQgbGlzdGVuZXJzIGJ5IHJlZmVyZW5jZSwgc28gaWYgeW91IHdhbnQgdG8gYWRkIGEgbGlzdGVuZXIgYW5kIHRoZW4gcmVtb3ZlIGl0LCBkZWZpbmUgaXQgYXMgYSBmdW5jdGlvbjpcclxuICpcclxuICogYGBganNcclxuICogZnVuY3Rpb24gb25DbGljayhlKSB7IC4uLiB9XHJcbiAqXHJcbiAqIG1hcC5vbignY2xpY2snLCBvbkNsaWNrKTtcclxuICogbWFwLm9mZignY2xpY2snLCBvbkNsaWNrKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBFdmVudHMgPSB7XHJcblx0LyogQG1ldGhvZCBvbih0eXBlOiBTdHJpbmcsIGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuXHQgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gKGBmbmApIHRvIGEgcGFydGljdWxhciBldmVudCB0eXBlIG9mIHRoZSBvYmplY3QuIFlvdSBjYW4gb3B0aW9uYWxseSBzcGVjaWZ5IHRoZSBjb250ZXh0IG9mIHRoZSBsaXN0ZW5lciAob2JqZWN0IHRoZSB0aGlzIGtleXdvcmQgd2lsbCBwb2ludCB0bykuIFlvdSBjYW4gYWxzbyBwYXNzIHNldmVyYWwgc3BhY2Utc2VwYXJhdGVkIHR5cGVzIChlLmcuIGAnY2xpY2sgZGJsY2xpY2snYCkuXHJcblx0ICpcclxuXHQgKiBAYWx0ZXJuYXRpdmVcclxuXHQgKiBAbWV0aG9kIG9uKGV2ZW50TWFwOiBPYmplY3QpOiB0aGlzXHJcblx0ICogQWRkcyBhIHNldCBvZiB0eXBlL2xpc3RlbmVyIHBhaXJzLCBlLmcuIGB7Y2xpY2s6IG9uQ2xpY2ssIG1vdXNlbW92ZTogb25Nb3VzZU1vdmV9YFxyXG5cdCAqL1xyXG5cdG9uOiBmdW5jdGlvbiAodHlwZXMsIGZuLCBjb250ZXh0KSB7XHJcblxyXG5cdFx0Ly8gdHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzXHJcblx0XHRpZiAodHlwZW9mIHR5cGVzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRmb3IgKHZhciB0eXBlIGluIHR5cGVzKSB7XHJcblx0XHRcdFx0Ly8gd2UgZG9uJ3QgcHJvY2VzcyBzcGFjZS1zZXBhcmF0ZWQgZXZlbnRzIGhlcmUgZm9yIHBlcmZvcm1hbmNlO1xyXG5cdFx0XHRcdC8vIGl0J3MgYSBob3QgcGF0aCBzaW5jZSBMYXllciB1c2VzIHRoZSBvbihvYmopIHN5bnRheFxyXG5cdFx0XHRcdHRoaXMuX29uKHR5cGUsIHR5cGVzW3R5cGVdLCBmbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyB0eXBlcyBjYW4gYmUgYSBzdHJpbmcgb2Ygc3BhY2Utc2VwYXJhdGVkIHdvcmRzXHJcblx0XHRcdHR5cGVzID0gVXRpbC5zcGxpdFdvcmRzKHR5cGVzKTtcclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSB0eXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdHRoaXMuX29uKHR5cGVzW2ldLCBmbiwgY29udGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvKiBAbWV0aG9kIG9mZih0eXBlOiBTdHJpbmcsIGZuPzogRnVuY3Rpb24sIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXHJcblx0ICogUmVtb3ZlcyBhIHByZXZpb3VzbHkgYWRkZWQgbGlzdGVuZXIgZnVuY3Rpb24uIElmIG5vIGZ1bmN0aW9uIGlzIHNwZWNpZmllZCwgaXQgd2lsbCByZW1vdmUgYWxsIHRoZSBsaXN0ZW5lcnMgb2YgdGhhdCBwYXJ0aWN1bGFyIGV2ZW50IGZyb20gdGhlIG9iamVjdC4gTm90ZSB0aGF0IGlmIHlvdSBwYXNzZWQgYSBjdXN0b20gY29udGV4dCB0byBgb25gLCB5b3UgbXVzdCBwYXNzIHRoZSBzYW1lIGNvbnRleHQgdG8gYG9mZmAgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lci5cclxuXHQgKlxyXG5cdCAqIEBhbHRlcm5hdGl2ZVxyXG5cdCAqIEBtZXRob2Qgb2ZmKGV2ZW50TWFwOiBPYmplY3QpOiB0aGlzXHJcblx0ICogUmVtb3ZlcyBhIHNldCBvZiB0eXBlL2xpc3RlbmVyIHBhaXJzLlxyXG5cdCAqXHJcblx0ICogQGFsdGVybmF0aXZlXHJcblx0ICogQG1ldGhvZCBvZmY6IHRoaXNcclxuXHQgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgdG8gYWxsIGV2ZW50cyBvbiB0aGUgb2JqZWN0LiBUaGlzIGluY2x1ZGVzIGltcGxpY2l0bHkgYXR0YWNoZWQgZXZlbnRzLlxyXG5cdCAqL1xyXG5cdG9mZjogZnVuY3Rpb24gKHR5cGVzLCBmbiwgY29udGV4dCkge1xyXG5cclxuXHRcdGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG5cdFx0XHQvLyBjbGVhciBhbGwgbGlzdGVuZXJzIGlmIGNhbGxlZCB3aXRob3V0IGFyZ3VtZW50c1xyXG5cdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRzO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHR5cGVzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRmb3IgKHZhciB0eXBlIGluIHR5cGVzKSB7XHJcblx0XHRcdFx0dGhpcy5fb2ZmKHR5cGUsIHR5cGVzW3R5cGVdLCBmbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0eXBlcyA9IFV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7XHJcblxyXG5cdFx0XHR2YXIgcmVtb3ZlQWxsID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKHJlbW92ZUFsbCkge1xyXG5cdFx0XHRcdFx0dGhpcy5fb2ZmKHR5cGVzW2ldKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5fb2ZmKHR5cGVzW2ldLCBmbiwgY29udGV4dCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gYXR0YWNoIGxpc3RlbmVyICh3aXRob3V0IHN5bnRhY3RpYyBzdWdhciBub3cpXHJcblx0X29uOiBmdW5jdGlvbiAodHlwZSwgZm4sIGNvbnRleHQsIF9vbmNlKSB7XHJcblx0XHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdGNvbnNvbGUud2Fybignd3JvbmcgbGlzdGVuZXIgdHlwZTogJyArIHR5cGVvZiBmbik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjaGVjayBpZiBmbiBhbHJlYWR5IHRoZXJlXHJcblx0XHRpZiAodGhpcy5fbGlzdGVucyh0eXBlLCBmbiwgY29udGV4dCkgIT09IGZhbHNlKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY29udGV4dCA9PT0gdGhpcykge1xyXG5cdFx0XHQvLyBMZXNzIG1lbW9yeSBmb290cHJpbnQuXHJcblx0XHRcdGNvbnRleHQgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG5ld0xpc3RlbmVyID0ge2ZuOiBmbiwgY3R4OiBjb250ZXh0fTtcclxuXHRcdGlmIChfb25jZSkge1xyXG5cdFx0XHRuZXdMaXN0ZW5lci5vbmNlID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XHJcblx0XHR0aGlzLl9ldmVudHNbdHlwZV0gPSB0aGlzLl9ldmVudHNbdHlwZV0gfHwgW107XHJcblx0XHR0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChuZXdMaXN0ZW5lcik7XHJcblx0fSxcclxuXHJcblx0X29mZjogZnVuY3Rpb24gKHR5cGUsIGZuLCBjb250ZXh0KSB7XHJcblx0XHR2YXIgbGlzdGVuZXJzLFxyXG5cdFx0ICAgIGksXHJcblx0XHQgICAgbGVuO1xyXG5cclxuXHRcdGlmICghdGhpcy5fZXZlbnRzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XHJcblx0XHRpZiAoIWxpc3RlbmVycykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHsgLy8gcmVtb3ZlIGFsbFxyXG5cdFx0XHRpZiAodGhpcy5fZmlyaW5nQ291bnQpIHtcclxuXHRcdFx0XHQvLyBTZXQgYWxsIHJlbW92ZWQgbGlzdGVuZXJzIHRvIG5vb3BcclxuXHRcdFx0XHQvLyBzbyB0aGV5IGFyZSBub3QgY2FsbGVkIGlmIHJlbW92ZSBoYXBwZW5zIGluIGZpcmVcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHRcdGxpc3RlbmVyc1tpXS5mbiA9IFV0aWwuZmFsc2VGbjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY2xlYXIgYWxsIGxpc3RlbmVycyBmb3IgYSB0eXBlIGlmIGZ1bmN0aW9uIGlzbid0IHNwZWNpZmllZFxyXG5cdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ3dyb25nIGxpc3RlbmVyIHR5cGU6ICcgKyB0eXBlb2YgZm4pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZmluZCBmbiBhbmQgcmVtb3ZlIGl0XHJcblx0XHR2YXIgaW5kZXggPSB0aGlzLl9saXN0ZW5zKHR5cGUsIGZuLCBjb250ZXh0KTtcclxuXHRcdGlmIChpbmRleCAhPT0gZmFsc2UpIHtcclxuXHRcdFx0dmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2luZGV4XTtcclxuXHRcdFx0aWYgKHRoaXMuX2ZpcmluZ0NvdW50KSB7XHJcblx0XHRcdFx0Ly8gc2V0IHRoZSByZW1vdmVkIGxpc3RlbmVyIHRvIG5vb3Agc28gdGhhdCdzIG5vdCBjYWxsZWQgaWYgcmVtb3ZlIGhhcHBlbnMgaW4gZmlyZVxyXG5cdFx0XHRcdGxpc3RlbmVyLmZuID0gVXRpbC5mYWxzZUZuO1xyXG5cclxuXHRcdFx0XHQvKiBjb3B5IGFycmF5IGluIGNhc2UgZXZlbnRzIGFyZSBiZWluZyBmaXJlZCAqL1xyXG5cdFx0XHRcdHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZmlyZSh0eXBlOiBTdHJpbmcsIGRhdGE/OiBPYmplY3QsIHByb3BhZ2F0ZT86IEJvb2xlYW4pOiB0aGlzXHJcblx0Ly8gRmlyZXMgYW4gZXZlbnQgb2YgdGhlIHNwZWNpZmllZCB0eXBlLiBZb3UgY2FuIG9wdGlvbmFsbHkgcHJvdmlkZSBhIGRhdGFcclxuXHQvLyBvYmplY3Qg4oCUIHRoZSBmaXJzdCBhcmd1bWVudCBvZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gd2lsbCBjb250YWluIGl0c1xyXG5cdC8vIHByb3BlcnRpZXMuIFRoZSBldmVudCBjYW4gb3B0aW9uYWxseSBiZSBwcm9wYWdhdGVkIHRvIGV2ZW50IHBhcmVudHMuXHJcblx0ZmlyZTogZnVuY3Rpb24gKHR5cGUsIGRhdGEsIHByb3BhZ2F0ZSkge1xyXG5cdFx0aWYgKCF0aGlzLmxpc3RlbnModHlwZSwgcHJvcGFnYXRlKSkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdHZhciBldmVudCA9IFV0aWwuZXh0ZW5kKHt9LCBkYXRhLCB7XHJcblx0XHRcdHR5cGU6IHR5cGUsXHJcblx0XHRcdHRhcmdldDogdGhpcyxcclxuXHRcdFx0c291cmNlVGFyZ2V0OiBkYXRhICYmIGRhdGEuc291cmNlVGFyZ2V0IHx8IHRoaXNcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICh0aGlzLl9ldmVudHMpIHtcclxuXHRcdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHRcdFx0aWYgKGxpc3RlbmVycykge1xyXG5cdFx0XHRcdHRoaXMuX2ZpcmluZ0NvdW50ID0gKHRoaXMuX2ZpcmluZ0NvdW50ICsgMSkgfHwgMTtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0XHR2YXIgbCA9IGxpc3RlbmVyc1tpXTtcclxuXHRcdFx0XHRcdC8vIG9mZiBvdmVyd3JpdGVzIGwuZm4sIHNvIHdlIG5lZWQgdG8gY29weSBmbiB0byBhIHZhclxyXG5cdFx0XHRcdFx0dmFyIGZuID0gbC5mbjtcclxuXHRcdFx0XHRcdGlmIChsLm9uY2UpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5vZmYodHlwZSwgZm4sIGwuY3R4KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZuLmNhbGwobC5jdHggfHwgdGhpcywgZXZlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5fZmlyaW5nQ291bnQtLTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChwcm9wYWdhdGUpIHtcclxuXHRcdFx0Ly8gcHJvcGFnYXRlIHRoZSBldmVudCB0byBwYXJlbnRzIChzZXQgd2l0aCBhZGRFdmVudFBhcmVudClcclxuXHRcdFx0dGhpcy5fcHJvcGFnYXRlRXZlbnQoZXZlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbGlzdGVucyh0eXBlOiBTdHJpbmcsIHByb3BhZ2F0ZT86IEJvb2xlYW4pOiBCb29sZWFuXHJcblx0Ly8gQG1ldGhvZCBsaXN0ZW5zKHR5cGU6IFN0cmluZywgZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0LCBwcm9wYWdhdGU/OiBCb29sZWFuKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIGEgcGFydGljdWxhciBldmVudCB0eXBlIGhhcyBhbnkgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIGl0LlxyXG5cdC8vIFRoZSB2ZXJpZmljYXRpb24gY2FuIG9wdGlvbmFsbHkgYmUgcHJvcGFnYXRlZCwgaXQgd2lsbCByZXR1cm4gYHRydWVgIGlmIHBhcmVudHMgaGF2ZSB0aGUgbGlzdGVuZXIgYXR0YWNoZWQgdG8gaXQuXHJcblx0bGlzdGVuczogZnVuY3Rpb24gKHR5cGUsIGZuLCBjb250ZXh0LCBwcm9wYWdhdGUpIHtcclxuXHRcdGlmICh0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdcInN0cmluZ1wiIHR5cGUgYXJndW1lbnQgZXhwZWN0ZWQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyB3ZSBkb24ndCBvdmVyd3JpdGUgdGhlIGlucHV0IGBmbmAgdmFsdWUsIGJlY2F1c2Ugd2UgbmVlZCB0byB1c2UgaXQgZm9yIHByb3BhZ2F0aW9uXHJcblx0XHR2YXIgX2ZuID0gZm47XHJcblx0XHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdHByb3BhZ2F0ZSA9ICEhZm47XHJcblx0XHRcdF9mbiA9IHVuZGVmaW5lZDtcclxuXHRcdFx0Y29udGV4dCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1t0eXBlXTtcclxuXHRcdGlmIChsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodGhpcy5fbGlzdGVucyh0eXBlLCBfZm4sIGNvbnRleHQpICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHByb3BhZ2F0ZSkge1xyXG5cdFx0XHQvLyBhbHNvIGNoZWNrIHBhcmVudHMgZm9yIGxpc3RlbmVycyBpZiBldmVudCBwcm9wYWdhdGVzXHJcblx0XHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2V2ZW50UGFyZW50cykge1xyXG5cdFx0XHRcdGlmICh0aGlzLl9ldmVudFBhcmVudHNbaWRdLmxpc3RlbnModHlwZSwgZm4sIGNvbnRleHQsIHByb3BhZ2F0ZSkpIHsgcmV0dXJuIHRydWU7IH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdC8vIHJldHVybnMgdGhlIGluZGV4IChudW1iZXIpIG9yIGZhbHNlXHJcblx0X2xpc3RlbnM6IGZ1bmN0aW9uICh0eXBlLCBmbiwgY29udGV4dCkge1xyXG5cdFx0aWYgKCF0aGlzLl9ldmVudHMpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV0gfHwgW107XHJcblx0XHRpZiAoIWZuKSB7XHJcblx0XHRcdHJldHVybiAhIWxpc3RlbmVycy5sZW5ndGg7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbnRleHQgPT09IHRoaXMpIHtcclxuXHRcdFx0Ly8gTGVzcyBtZW1vcnkgZm9vdHByaW50LlxyXG5cdFx0XHRjb250ZXh0ID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0aWYgKGxpc3RlbmVyc1tpXS5mbiA9PT0gZm4gJiYgbGlzdGVuZXJzW2ldLmN0eCA9PT0gY29udGV4dCkge1xyXG5cdFx0XHRcdHJldHVybiBpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgb25jZSjigKYpOiB0aGlzXHJcblx0Ly8gQmVoYXZlcyBhcyBbYG9uKOKApilgXSgjZXZlbnRlZC1vbiksIGV4Y2VwdCB0aGUgbGlzdGVuZXIgd2lsbCBvbmx5IGdldCBmaXJlZCBvbmNlIGFuZCB0aGVuIHJlbW92ZWQuXHJcblx0b25jZTogZnVuY3Rpb24gKHR5cGVzLCBmbiwgY29udGV4dCkge1xyXG5cclxuXHRcdC8vIHR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xyXG5cdFx0aWYgKHR5cGVvZiB0eXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Zm9yICh2YXIgdHlwZSBpbiB0eXBlcykge1xyXG5cdFx0XHRcdC8vIHdlIGRvbid0IHByb2Nlc3Mgc3BhY2Utc2VwYXJhdGVkIGV2ZW50cyBoZXJlIGZvciBwZXJmb3JtYW5jZTtcclxuXHRcdFx0XHQvLyBpdCdzIGEgaG90IHBhdGggc2luY2UgTGF5ZXIgdXNlcyB0aGUgb24ob2JqKSBzeW50YXhcclxuXHRcdFx0XHR0aGlzLl9vbih0eXBlLCB0eXBlc1t0eXBlXSwgZm4sIHRydWUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gdHlwZXMgY2FuIGJlIGEgc3RyaW5nIG9mIHNwYWNlLXNlcGFyYXRlZCB3b3Jkc1xyXG5cdFx0XHR0eXBlcyA9IFV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLl9vbih0eXBlc1tpXSwgZm4sIGNvbnRleHQsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBhZGRFdmVudFBhcmVudChvYmo6IEV2ZW50ZWQpOiB0aGlzXHJcblx0Ly8gQWRkcyBhbiBldmVudCBwYXJlbnQgLSBhbiBgRXZlbnRlZGAgdGhhdCB3aWxsIHJlY2VpdmUgcHJvcGFnYXRlZCBldmVudHNcclxuXHRhZGRFdmVudFBhcmVudDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0dGhpcy5fZXZlbnRQYXJlbnRzID0gdGhpcy5fZXZlbnRQYXJlbnRzIHx8IHt9O1xyXG5cdFx0dGhpcy5fZXZlbnRQYXJlbnRzW1V0aWwuc3RhbXAob2JqKV0gPSBvYmo7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUV2ZW50UGFyZW50KG9iajogRXZlbnRlZCk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIGFuIGV2ZW50IHBhcmVudCwgc28gaXQgd2lsbCBzdG9wIHJlY2VpdmluZyBwcm9wYWdhdGVkIGV2ZW50c1xyXG5cdHJlbW92ZUV2ZW50UGFyZW50OiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHRpZiAodGhpcy5fZXZlbnRQYXJlbnRzKSB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLl9ldmVudFBhcmVudHNbVXRpbC5zdGFtcChvYmopXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9wcm9wYWdhdGVFdmVudDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2V2ZW50UGFyZW50cykge1xyXG5cdFx0XHR0aGlzLl9ldmVudFBhcmVudHNbaWRdLmZpcmUoZS50eXBlLCBVdGlsLmV4dGVuZCh7XHJcblx0XHRcdFx0bGF5ZXI6IGUudGFyZ2V0LFxyXG5cdFx0XHRcdHByb3BhZ2F0ZWRGcm9tOiBlLnRhcmdldFxyXG5cdFx0XHR9LCBlKSwgdHJ1ZSk7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuLy8gYWxpYXNlczsgd2Ugc2hvdWxkIGRpdGNoIHRob3NlIGV2ZW50dWFsbHlcclxuXHJcbi8vIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lcijigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgb24o4oCmKWBdKCNldmVudGVkLW9uKVxyXG5FdmVudHMuYWRkRXZlbnRMaXN0ZW5lciA9IEV2ZW50cy5vbjtcclxuXHJcbi8vIEBtZXRob2QgcmVtb3ZlRXZlbnRMaXN0ZW5lcijigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgb2ZmKOKApilgXSgjZXZlbnRlZC1vZmYpXHJcblxyXG4vLyBAbWV0aG9kIGNsZWFyQWxsRXZlbnRMaXN0ZW5lcnMo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYG9mZigpYF0oI2V2ZW50ZWQtb2ZmKVxyXG5FdmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IEV2ZW50cy5jbGVhckFsbEV2ZW50TGlzdGVuZXJzID0gRXZlbnRzLm9mZjtcclxuXHJcbi8vIEBtZXRob2QgYWRkT25lVGltZUV2ZW50TGlzdGVuZXIo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYG9uY2Uo4oCmKWBdKCNldmVudGVkLW9uY2UpXHJcbkV2ZW50cy5hZGRPbmVUaW1lRXZlbnRMaXN0ZW5lciA9IEV2ZW50cy5vbmNlO1xyXG5cclxuLy8gQG1ldGhvZCBmaXJlRXZlbnQo4oCmKTogdGhpc1xyXG4vLyBBbGlhcyB0byBbYGZpcmUo4oCmKWBdKCNldmVudGVkLWZpcmUpXHJcbkV2ZW50cy5maXJlRXZlbnQgPSBFdmVudHMuZmlyZTtcclxuXHJcbi8vIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lcnMo4oCmKTogQm9vbGVhblxyXG4vLyBBbGlhcyB0byBbYGxpc3RlbnMo4oCmKWBdKCNldmVudGVkLWxpc3RlbnMpXHJcbkV2ZW50cy5oYXNFdmVudExpc3RlbmVycyA9IEV2ZW50cy5saXN0ZW5zO1xyXG5cclxuZXhwb3J0IHZhciBFdmVudGVkID0gQ2xhc3MuZXh0ZW5kKEV2ZW50cyk7XHJcbiIsICJpbXBvcnQge2lzQXJyYXksIGZvcm1hdE51bX0gZnJvbSAnLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBQb2ludFxyXG4gKiBAYWthIEwuUG9pbnRcclxuICpcclxuICogUmVwcmVzZW50cyBhIHBvaW50IHdpdGggYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgaW4gcGl4ZWxzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgcG9pbnQgPSBMLnBvaW50KDIwMCwgMzAwKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgYW5kIG9wdGlvbnMgdGhhdCBhY2NlcHQgYFBvaW50YCBvYmplY3RzIGFsc28gYWNjZXB0IHRoZW0gaW4gYSBzaW1wbGUgQXJyYXkgZm9ybSAodW5sZXNzIG5vdGVkIG90aGVyd2lzZSksIHNvIHRoZXNlIGxpbmVzIGFyZSBlcXVpdmFsZW50OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBtYXAucGFuQnkoWzIwMCwgMzAwXSk7XHJcbiAqIG1hcC5wYW5CeShMLnBvaW50KDIwMCwgMzAwKSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgYFBvaW50YCBkb2VzIG5vdCBpbmhlcml0IGZyb20gTGVhZmxldCdzIGBDbGFzc2Agb2JqZWN0LFxyXG4gKiB3aGljaCBtZWFucyBuZXcgY2xhc3NlcyBjYW4ndCBpbmhlcml0IGZyb20gaXQsIGFuZCBuZXcgbWV0aG9kc1xyXG4gKiBjYW4ndCBiZSBhZGRlZCB0byBpdCB3aXRoIHRoZSBgaW5jbHVkZWAgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFBvaW50KHgsIHksIHJvdW5kKSB7XHJcblx0Ly8gQHByb3BlcnR5IHg6IE51bWJlcjsgVGhlIGB4YCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxyXG5cdHRoaXMueCA9IChyb3VuZCA/IE1hdGgucm91bmQoeCkgOiB4KTtcclxuXHQvLyBAcHJvcGVydHkgeTogTnVtYmVyOyBUaGUgYHlgIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XHJcblx0dGhpcy55ID0gKHJvdW5kID8gTWF0aC5yb3VuZCh5KSA6IHkpO1xyXG59XHJcblxyXG52YXIgdHJ1bmMgPSBNYXRoLnRydW5jIHx8IGZ1bmN0aW9uICh2KSB7XHJcblx0cmV0dXJuIHYgPiAwID8gTWF0aC5mbG9vcih2KSA6IE1hdGguY2VpbCh2KTtcclxufTtcclxuXHJcblBvaW50LnByb3RvdHlwZSA9IHtcclxuXHJcblx0Ly8gQG1ldGhvZCBjbG9uZSgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHBvaW50LlxyXG5cdGNsb25lOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZChvdGhlclBvaW50OiBQb2ludCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGFkZGl0aW9uIG9mIHRoZSBjdXJyZW50IGFuZCB0aGUgZ2l2ZW4gcG9pbnRzLlxyXG5cdGFkZDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHQvLyBub24tZGVzdHJ1Y3RpdmUsIHJldHVybnMgYSBuZXcgcG9pbnRcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX2FkZCh0b1BvaW50KHBvaW50KSk7XHJcblx0fSxcclxuXHJcblx0X2FkZDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHQvLyBkZXN0cnVjdGl2ZSwgdXNlZCBkaXJlY3RseSBmb3IgcGVyZm9ybWFuY2UgaW4gc2l0dWF0aW9ucyB3aGVyZSBpdCdzIHNhZmUgdG8gbW9kaWZ5IGV4aXN0aW5nIHBvaW50XHJcblx0XHR0aGlzLnggKz0gcG9pbnQueDtcclxuXHRcdHRoaXMueSArPSBwb2ludC55O1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzdWJ0cmFjdChvdGhlclBvaW50OiBQb2ludCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHN1YnRyYWN0aW9uIG9mIHRoZSBnaXZlbiBwb2ludCBmcm9tIHRoZSBjdXJyZW50LlxyXG5cdHN1YnRyYWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX3N1YnRyYWN0KHRvUG9pbnQocG9pbnQpKTtcclxuXHR9LFxyXG5cclxuXHRfc3VidHJhY3Q6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0dGhpcy54IC09IHBvaW50Lng7XHJcblx0XHR0aGlzLnkgLT0gcG9pbnQueTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZGl2aWRlQnkobnVtOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBkaXZpc2lvbiBvZiB0aGUgY3VycmVudCBwb2ludCBieSB0aGUgZ2l2ZW4gbnVtYmVyLlxyXG5cdGRpdmlkZUJ5OiBmdW5jdGlvbiAobnVtKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZpZGVCeShudW0pO1xyXG5cdH0sXHJcblxyXG5cdF9kaXZpZGVCeTogZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0dGhpcy54IC89IG51bTtcclxuXHRcdHRoaXMueSAvPSBudW07XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG11bHRpcGx5QnkobnVtOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBtdWx0aXBsaWNhdGlvbiBvZiB0aGUgY3VycmVudCBwb2ludCBieSB0aGUgZ2l2ZW4gbnVtYmVyLlxyXG5cdG11bHRpcGx5Qnk6IGZ1bmN0aW9uIChudW0pIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX211bHRpcGx5QnkobnVtKTtcclxuXHR9LFxyXG5cclxuXHRfbXVsdGlwbHlCeTogZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0dGhpcy54ICo9IG51bTtcclxuXHRcdHRoaXMueSAqPSBudW07XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNjYWxlQnkoc2NhbGU6IFBvaW50KTogUG9pbnRcclxuXHQvLyBNdWx0aXBseSBlYWNoIGNvb3JkaW5hdGUgb2YgdGhlIGN1cnJlbnQgcG9pbnQgYnkgZWFjaCBjb29yZGluYXRlIG9mXHJcblx0Ly8gYHNjYWxlYC4gSW4gbGluZWFyIGFsZ2VicmEgdGVybXMsIG11bHRpcGx5IHRoZSBwb2ludCBieSB0aGVcclxuXHQvLyBbc2NhbGluZyBtYXRyaXhdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NjYWxpbmdfJTI4Z2VvbWV0cnklMjkjTWF0cml4X3JlcHJlc2VudGF0aW9uKVxyXG5cdC8vIGRlZmluZWQgYnkgYHNjYWxlYC5cclxuXHRzY2FsZUJ5OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiBuZXcgUG9pbnQodGhpcy54ICogcG9pbnQueCwgdGhpcy55ICogcG9pbnQueSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1bnNjYWxlQnkoc2NhbGU6IFBvaW50KTogUG9pbnRcclxuXHQvLyBJbnZlcnNlIG9mIGBzY2FsZUJ5YC4gRGl2aWRlIGVhY2ggY29vcmRpbmF0ZSBvZiB0aGUgY3VycmVudCBwb2ludCBieVxyXG5cdC8vIGVhY2ggY29vcmRpbmF0ZSBvZiBgc2NhbGVgLlxyXG5cdHVuc2NhbGVCeTogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KHRoaXMueCAvIHBvaW50LngsIHRoaXMueSAvIHBvaW50LnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgcm91bmQoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBwb2ludCB3aXRoIHJvdW5kZWQgY29vcmRpbmF0ZXMuXHJcblx0cm91bmQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7XHJcblx0fSxcclxuXHJcblx0X3JvdW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLnJvdW5kKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZsb29yKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgcG9pbnQgd2l0aCBmbG9vcmVkIGNvb3JkaW5hdGVzIChyb3VuZGVkIGRvd24pLlxyXG5cdGZsb29yOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl9mbG9vcigpO1xyXG5cdH0sXHJcblxyXG5cdF9mbG9vcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vcih0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjZWlsKCk6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgcG9pbnQgd2l0aCBjZWlsZWQgY29vcmRpbmF0ZXMgKHJvdW5kZWQgdXApLlxyXG5cdGNlaWw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmNsb25lKCkuX2NlaWwoKTtcclxuXHR9LFxyXG5cclxuXHRfY2VpbDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5jZWlsKHRoaXMueCk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLmNlaWwodGhpcy55KTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdHJ1bmMoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBwb2ludCB3aXRoIHRydW5jYXRlZCBjb29yZGluYXRlcyAocm91bmRlZCB0b3dhcmRzIHplcm8pLlxyXG5cdHRydW5jOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jbG9uZSgpLl90cnVuYygpO1xyXG5cdH0sXHJcblxyXG5cdF90cnVuYzogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54ID0gdHJ1bmModGhpcy54KTtcclxuXHRcdHRoaXMueSA9IHRydW5jKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlVG8ob3RoZXJQb2ludDogUG9pbnQpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBjYXJ0ZXNpYW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgY3VycmVudCBhbmQgdGhlIGdpdmVuIHBvaW50cy5cclxuXHRkaXN0YW5jZVRvOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHBvaW50ID0gdG9Qb2ludChwb2ludCk7XHJcblxyXG5cdFx0dmFyIHggPSBwb2ludC54IC0gdGhpcy54LFxyXG5cdFx0ICAgIHkgPSBwb2ludC55IC0gdGhpcy55O1xyXG5cclxuXHRcdHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBlcXVhbHMob3RoZXJQb2ludDogUG9pbnQpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHBvaW50IGhhcyB0aGUgc2FtZSBjb29yZGluYXRlcy5cclxuXHRlcXVhbHM6IGZ1bmN0aW9uIChwb2ludCkge1xyXG5cdFx0cG9pbnQgPSB0b1BvaW50KHBvaW50KTtcclxuXHJcblx0XHRyZXR1cm4gcG9pbnQueCA9PT0gdGhpcy54ICYmXHJcblx0XHQgICAgICAgcG9pbnQueSA9PT0gdGhpcy55O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMob3RoZXJQb2ludDogUG9pbnQpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgYm90aCBjb29yZGluYXRlcyBvZiB0aGUgZ2l2ZW4gcG9pbnQgYXJlIGxlc3MgdGhhbiB0aGUgY29ycmVzcG9uZGluZyBjdXJyZW50IHBvaW50IGNvb3JkaW5hdGVzIChpbiBhYnNvbHV0ZSB2YWx1ZXMpLlxyXG5cdGNvbnRhaW5zOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHBvaW50ID0gdG9Qb2ludChwb2ludCk7XHJcblxyXG5cdFx0cmV0dXJuIE1hdGguYWJzKHBvaW50LngpIDw9IE1hdGguYWJzKHRoaXMueCkgJiZcclxuXHRcdCAgICAgICBNYXRoLmFicyhwb2ludC55KSA8PSBNYXRoLmFicyh0aGlzLnkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdG9TdHJpbmcoKTogU3RyaW5nXHJcblx0Ly8gUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcG9pbnQgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cclxuXHR0b1N0cmluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICdQb2ludCgnICtcclxuXHRcdCAgICAgICAgZm9ybWF0TnVtKHRoaXMueCkgKyAnLCAnICtcclxuXHRcdCAgICAgICAgZm9ybWF0TnVtKHRoaXMueSkgKyAnKSc7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gQGZhY3RvcnkgTC5wb2ludCh4OiBOdW1iZXIsIHk6IE51bWJlciwgcm91bmQ/OiBCb29sZWFuKVxyXG4vLyBDcmVhdGVzIGEgUG9pbnQgb2JqZWN0IHdpdGggdGhlIGdpdmVuIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzLiBJZiBvcHRpb25hbCBgcm91bmRgIGlzIHNldCB0byB0cnVlLCByb3VuZHMgdGhlIGB4YCBhbmQgYHlgIHZhbHVlcy5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLnBvaW50KGNvb3JkczogTnVtYmVyW10pXHJcbi8vIEV4cGVjdHMgYW4gYXJyYXkgb2YgdGhlIGZvcm0gYFt4LCB5XWAgaW5zdGVhZC5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLnBvaW50KGNvb3JkczogT2JqZWN0KVxyXG4vLyBFeHBlY3RzIGEgcGxhaW4gb2JqZWN0IG9mIHRoZSBmb3JtIGB7eDogTnVtYmVyLCB5OiBOdW1iZXJ9YCBpbnN0ZWFkLlxyXG5leHBvcnQgZnVuY3Rpb24gdG9Qb2ludCh4LCB5LCByb3VuZCkge1xyXG5cdGlmICh4IGluc3RhbmNlb2YgUG9pbnQpIHtcclxuXHRcdHJldHVybiB4O1xyXG5cdH1cclxuXHRpZiAoaXNBcnJheSh4KSkge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludCh4WzBdLCB4WzFdKTtcclxuXHR9XHJcblx0aWYgKHggPT09IHVuZGVmaW5lZCB8fCB4ID09PSBudWxsKSB7XHJcblx0XHRyZXR1cm4geDtcclxuXHR9XHJcblx0aWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiAneCcgaW4geCAmJiAneScgaW4geCkge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludCh4LngsIHgueSk7XHJcblx0fVxyXG5cdHJldHVybiBuZXcgUG9pbnQoeCwgeSwgcm91bmQpO1xyXG59XHJcbiIsICJpbXBvcnQge1BvaW50LCB0b1BvaW50fSBmcm9tICcuL1BvaW50JztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBCb3VuZHNcclxuICogQGFrYSBMLkJvdW5kc1xyXG4gKlxyXG4gKiBSZXByZXNlbnRzIGEgcmVjdGFuZ3VsYXIgYXJlYSBpbiBwaXhlbCBjb29yZGluYXRlcy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIHAxID0gTC5wb2ludCgxMCwgMTApLFxyXG4gKiBwMiA9IEwucG9pbnQoNDAsIDYwKSxcclxuICogYm91bmRzID0gTC5ib3VuZHMocDEsIHAyKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgdGhhdCBhY2NlcHQgYEJvdW5kc2Agb2JqZWN0cyBhbHNvIGFjY2VwdCB0aGVtIGluIGEgc2ltcGxlIEFycmF5IGZvcm0gKHVubGVzcyBub3RlZCBvdGhlcndpc2UpLCBzbyB0aGUgYm91bmRzIGV4YW1wbGUgYWJvdmUgY2FuIGJlIHBhc3NlZCBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG90aGVyQm91bmRzLmludGVyc2VjdHMoW1sxMCwgMTBdLCBbNDAsIDYwXV0pO1xyXG4gKiBgYGBcclxuICpcclxuICogTm90ZSB0aGF0IGBCb3VuZHNgIGRvZXMgbm90IGluaGVyaXQgZnJvbSBMZWFmbGV0J3MgYENsYXNzYCBvYmplY3QsXHJcbiAqIHdoaWNoIG1lYW5zIG5ldyBjbGFzc2VzIGNhbid0IGluaGVyaXQgZnJvbSBpdCwgYW5kIG5ldyBtZXRob2RzXHJcbiAqIGNhbid0IGJlIGFkZGVkIHRvIGl0IHdpdGggdGhlIGBpbmNsdWRlYCBmdW5jdGlvbi5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQm91bmRzKGEsIGIpIHtcclxuXHRpZiAoIWEpIHsgcmV0dXJuOyB9XHJcblxyXG5cdHZhciBwb2ludHMgPSBiID8gW2EsIGJdIDogYTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0dGhpcy5leHRlbmQocG9pbnRzW2ldKTtcclxuXHR9XHJcbn1cclxuXHJcbkJvdW5kcy5wcm90b3R5cGUgPSB7XHJcblx0Ly8gQG1ldGhvZCBleHRlbmQocG9pbnQ6IFBvaW50KTogdGhpc1xyXG5cdC8vIEV4dGVuZHMgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBwb2ludC5cclxuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBleHRlbmQob3RoZXJCb3VuZHM6IEJvdW5kcyk6IHRoaXNcclxuXHQvLyBFeHRlbmQgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBib3VuZHNcclxuXHRleHRlbmQ6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBtaW4yLCBtYXgyO1xyXG5cdFx0aWYgKCFvYmopIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHRpZiAob2JqIGluc3RhbmNlb2YgUG9pbnQgfHwgdHlwZW9mIG9ialswXSA9PT0gJ251bWJlcicgfHwgJ3gnIGluIG9iaikge1xyXG5cdFx0XHRtaW4yID0gbWF4MiA9IHRvUG9pbnQob2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9iaiA9IHRvQm91bmRzKG9iaik7XHJcblx0XHRcdG1pbjIgPSBvYmoubWluO1xyXG5cdFx0XHRtYXgyID0gb2JqLm1heDtcclxuXHJcblx0XHRcdGlmICghbWluMiB8fCAhbWF4MikgeyByZXR1cm4gdGhpczsgfVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBwcm9wZXJ0eSBtaW46IFBvaW50XHJcblx0XHQvLyBUaGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGUuXHJcblx0XHQvLyBAcHJvcGVydHkgbWF4OiBQb2ludFxyXG5cdFx0Ly8gVGhlIGJvdHRvbSByaWdodCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZS5cclxuXHRcdGlmICghdGhpcy5taW4gJiYgIXRoaXMubWF4KSB7XHJcblx0XHRcdHRoaXMubWluID0gbWluMi5jbG9uZSgpO1xyXG5cdFx0XHR0aGlzLm1heCA9IG1heDIuY2xvbmUoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMubWluLnggPSBNYXRoLm1pbihtaW4yLngsIHRoaXMubWluLngpO1xyXG5cdFx0XHR0aGlzLm1heC54ID0gTWF0aC5tYXgobWF4Mi54LCB0aGlzLm1heC54KTtcclxuXHRcdFx0dGhpcy5taW4ueSA9IE1hdGgubWluKG1pbjIueSwgdGhpcy5taW4ueSk7XHJcblx0XHRcdHRoaXMubWF4LnkgPSBNYXRoLm1heChtYXgyLnksIHRoaXMubWF4LnkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRDZW50ZXIocm91bmQ/OiBCb29sZWFuKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uIChyb3VuZCkge1xyXG5cdFx0cmV0dXJuIHRvUG9pbnQoXHJcblx0XHQgICAgICAgICh0aGlzLm1pbi54ICsgdGhpcy5tYXgueCkgLyAyLFxyXG5cdFx0ICAgICAgICAodGhpcy5taW4ueSArIHRoaXMubWF4LnkpIC8gMiwgcm91bmQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Qm90dG9tTGVmdCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGJvdHRvbS1sZWZ0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0Qm90dG9tTGVmdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRvUG9pbnQodGhpcy5taW4ueCwgdGhpcy5tYXgueSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRUb3BSaWdodCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIHRvcC1yaWdodCBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldFRvcFJpZ2h0OiBmdW5jdGlvbiAoKSB7IC8vIC0+IFBvaW50XHJcblx0XHRyZXR1cm4gdG9Qb2ludCh0aGlzLm1heC54LCB0aGlzLm1pbi55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFRvcExlZnQoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSB0b3AtbGVmdCBwb2ludCBvZiB0aGUgYm91bmRzIChpLmUuIFtgdGhpcy5taW5gXSgjYm91bmRzLW1pbikpLlxyXG5cdGdldFRvcExlZnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm1pbjsgLy8gbGVmdCwgdG9wXHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRCb3R0b21SaWdodCgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGJvdHRvbS1yaWdodCBwb2ludCBvZiB0aGUgYm91bmRzIChpLmUuIFtgdGhpcy5tYXhgXSgjYm91bmRzLW1heCkpLlxyXG5cdGdldEJvdHRvbVJpZ2h0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXg7IC8vIHJpZ2h0LCBib3R0b21cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFNpemUoKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSBnaXZlbiBib3VuZHNcclxuXHRnZXRTaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXguc3VidHJhY3QodGhpcy5taW4pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMob3RoZXJCb3VuZHM6IEJvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGNvbnRhaW5zIHRoZSBnaXZlbiBvbmUuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBjb250YWlucyhwb2ludDogUG9pbnQpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBjb250YWlucyB0aGUgZ2l2ZW4gcG9pbnQuXHJcblx0Y29udGFpbnM6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBtaW4sIG1heDtcclxuXHJcblx0XHRpZiAodHlwZW9mIG9ialswXSA9PT0gJ251bWJlcicgfHwgb2JqIGluc3RhbmNlb2YgUG9pbnQpIHtcclxuXHRcdFx0b2JqID0gdG9Qb2ludChvYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b2JqID0gdG9Cb3VuZHMob2JqKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAob2JqIGluc3RhbmNlb2YgQm91bmRzKSB7XHJcblx0XHRcdG1pbiA9IG9iai5taW47XHJcblx0XHRcdG1heCA9IG9iai5tYXg7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtaW4gPSBtYXggPSBvYmo7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChtaW4ueCA+PSB0aGlzLm1pbi54KSAmJlxyXG5cdFx0ICAgICAgIChtYXgueCA8PSB0aGlzLm1heC54KSAmJlxyXG5cdFx0ICAgICAgIChtaW4ueSA+PSB0aGlzLm1pbi55KSAmJlxyXG5cdFx0ICAgICAgIChtYXgueSA8PSB0aGlzLm1heC55KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGludGVyc2VjdHMob3RoZXJCb3VuZHM6IEJvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGludGVyc2VjdHMgdGhlIGdpdmVuIGJvdW5kcy4gVHdvIGJvdW5kc1xyXG5cdC8vIGludGVyc2VjdCBpZiB0aGV5IGhhdmUgYXQgbGVhc3Qgb25lIHBvaW50IGluIGNvbW1vbi5cclxuXHRpbnRlcnNlY3RzOiBmdW5jdGlvbiAoYm91bmRzKSB7IC8vIChCb3VuZHMpIC0+IEJvb2xlYW5cclxuXHRcdGJvdW5kcyA9IHRvQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIG1pbiA9IHRoaXMubWluLFxyXG5cdFx0ICAgIG1heCA9IHRoaXMubWF4LFxyXG5cdFx0ICAgIG1pbjIgPSBib3VuZHMubWluLFxyXG5cdFx0ICAgIG1heDIgPSBib3VuZHMubWF4LFxyXG5cdFx0ICAgIHhJbnRlcnNlY3RzID0gKG1heDIueCA+PSBtaW4ueCkgJiYgKG1pbjIueCA8PSBtYXgueCksXHJcblx0XHQgICAgeUludGVyc2VjdHMgPSAobWF4Mi55ID49IG1pbi55KSAmJiAobWluMi55IDw9IG1heC55KTtcclxuXHJcblx0XHRyZXR1cm4geEludGVyc2VjdHMgJiYgeUludGVyc2VjdHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBvdmVybGFwcyhvdGhlckJvdW5kczogQm91bmRzKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgb3ZlcmxhcHMgdGhlIGdpdmVuIGJvdW5kcy4gVHdvIGJvdW5kc1xyXG5cdC8vIG92ZXJsYXAgaWYgdGhlaXIgaW50ZXJzZWN0aW9uIGlzIGFuIGFyZWEuXHJcblx0b3ZlcmxhcHM6IGZ1bmN0aW9uIChib3VuZHMpIHsgLy8gKEJvdW5kcykgLT4gQm9vbGVhblxyXG5cdFx0Ym91bmRzID0gdG9Cb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHR2YXIgbWluID0gdGhpcy5taW4sXHJcblx0XHQgICAgbWF4ID0gdGhpcy5tYXgsXHJcblx0XHQgICAgbWluMiA9IGJvdW5kcy5taW4sXHJcblx0XHQgICAgbWF4MiA9IGJvdW5kcy5tYXgsXHJcblx0XHQgICAgeE92ZXJsYXBzID0gKG1heDIueCA+IG1pbi54KSAmJiAobWluMi54IDwgbWF4LngpLFxyXG5cdFx0ICAgIHlPdmVybGFwcyA9IChtYXgyLnkgPiBtaW4ueSkgJiYgKG1pbjIueSA8IG1heC55KTtcclxuXHJcblx0XHRyZXR1cm4geE92ZXJsYXBzICYmIHlPdmVybGFwcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGlzVmFsaWQoKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBib3VuZHMgYXJlIHByb3Blcmx5IGluaXRpYWxpemVkLlxyXG5cdGlzVmFsaWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAhISh0aGlzLm1pbiAmJiB0aGlzLm1heCk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIEBtZXRob2QgcGFkKGJ1ZmZlclJhdGlvOiBOdW1iZXIpOiBCb3VuZHNcclxuXHQvLyBSZXR1cm5zIGJvdW5kcyBjcmVhdGVkIGJ5IGV4dGVuZGluZyBvciByZXRyYWN0aW5nIHRoZSBjdXJyZW50IGJvdW5kcyBieSBhIGdpdmVuIHJhdGlvIGluIGVhY2ggZGlyZWN0aW9uLlxyXG5cdC8vIEZvciBleGFtcGxlLCBhIHJhdGlvIG9mIDAuNSBleHRlbmRzIHRoZSBib3VuZHMgYnkgNTAlIGluIGVhY2ggZGlyZWN0aW9uLlxyXG5cdC8vIE5lZ2F0aXZlIHZhbHVlcyB3aWxsIHJldHJhY3QgdGhlIGJvdW5kcy5cclxuXHRwYWQ6IGZ1bmN0aW9uIChidWZmZXJSYXRpbykge1xyXG5cdFx0dmFyIG1pbiA9IHRoaXMubWluLFxyXG5cdFx0bWF4ID0gdGhpcy5tYXgsXHJcblx0XHRoZWlnaHRCdWZmZXIgPSBNYXRoLmFicyhtaW4ueCAtIG1heC54KSAqIGJ1ZmZlclJhdGlvLFxyXG5cdFx0d2lkdGhCdWZmZXIgPSBNYXRoLmFicyhtaW4ueSAtIG1heC55KSAqIGJ1ZmZlclJhdGlvO1xyXG5cclxuXHJcblx0XHRyZXR1cm4gdG9Cb3VuZHMoXHJcblx0XHRcdHRvUG9pbnQobWluLnggLSBoZWlnaHRCdWZmZXIsIG1pbi55IC0gd2lkdGhCdWZmZXIpLFxyXG5cdFx0XHR0b1BvaW50KG1heC54ICsgaGVpZ2h0QnVmZmVyLCBtYXgueSArIHdpZHRoQnVmZmVyKSk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIEBtZXRob2QgZXF1YWxzKG90aGVyQm91bmRzOiBCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBib3VuZHMuXHJcblx0ZXF1YWxzOiBmdW5jdGlvbiAoYm91bmRzKSB7XHJcblx0XHRpZiAoIWJvdW5kcykgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcblx0XHRib3VuZHMgPSB0b0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLm1pbi5lcXVhbHMoYm91bmRzLmdldFRvcExlZnQoKSkgJiZcclxuXHRcdFx0dGhpcy5tYXguZXF1YWxzKGJvdW5kcy5nZXRCb3R0b21SaWdodCgpKTtcclxuXHR9LFxyXG59O1xyXG5cclxuXHJcbi8vIEBmYWN0b3J5IEwuYm91bmRzKGNvcm5lcjE6IFBvaW50LCBjb3JuZXIyOiBQb2ludClcclxuLy8gQ3JlYXRlcyBhIEJvdW5kcyBvYmplY3QgZnJvbSB0d28gY29ybmVycyBjb29yZGluYXRlIHBhaXJzLlxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5ib3VuZHMocG9pbnRzOiBQb2ludFtdKVxyXG4vLyBDcmVhdGVzIGEgQm91bmRzIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBhcnJheSBvZiBwb2ludHMuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0JvdW5kcyhhLCBiKSB7XHJcblx0aWYgKCFhIHx8IGEgaW5zdGFuY2VvZiBCb3VuZHMpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IEJvdW5kcyhhLCBiKTtcclxufVxyXG4iLCAiaW1wb3J0IHtMYXRMbmcsIHRvTGF0TG5nfSBmcm9tICcuL0xhdExuZyc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgTGF0TG5nQm91bmRzXHJcbiAqIEBha2EgTC5MYXRMbmdCb3VuZHNcclxuICpcclxuICogUmVwcmVzZW50cyBhIHJlY3Rhbmd1bGFyIGdlb2dyYXBoaWNhbCBhcmVhIG9uIGEgbWFwLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgY29ybmVyMSA9IEwubGF0TG5nKDQwLjcxMiwgLTc0LjIyNyksXHJcbiAqIGNvcm5lcjIgPSBMLmxhdExuZyg0MC43NzQsIC03NC4xMjUpLFxyXG4gKiBib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhjb3JuZXIxLCBjb3JuZXIyKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEFsbCBMZWFmbGV0IG1ldGhvZHMgdGhhdCBhY2NlcHQgTGF0TG5nQm91bmRzIG9iamVjdHMgYWxzbyBhY2NlcHQgdGhlbSBpbiBhIHNpbXBsZSBBcnJheSBmb3JtICh1bmxlc3Mgbm90ZWQgb3RoZXJ3aXNlKSwgc28gdGhlIGJvdW5kcyBleGFtcGxlIGFib3ZlIGNhbiBiZSBwYXNzZWQgbGlrZSB0aGlzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBtYXAuZml0Qm91bmRzKFtcclxuICogXHRbNDAuNzEyLCAtNzQuMjI3XSxcclxuICogXHRbNDAuNzc0LCAtNzQuMTI1XVxyXG4gKiBdKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIENhdXRpb246IGlmIHRoZSBhcmVhIGNyb3NzZXMgdGhlIGFudGltZXJpZGlhbiAob2Z0ZW4gY29uZnVzZWQgd2l0aCB0aGUgSW50ZXJuYXRpb25hbCBEYXRlIExpbmUpLCB5b3UgbXVzdCBzcGVjaWZ5IGNvcm5lcnMgX291dHNpZGVfIHRoZSBbLTE4MCwgMTgwXSBkZWdyZWVzIGxvbmdpdHVkZSByYW5nZS5cclxuICpcclxuICogTm90ZSB0aGF0IGBMYXRMbmdCb3VuZHNgIGRvZXMgbm90IGluaGVyaXQgZnJvbSBMZWFmbGV0J3MgYENsYXNzYCBvYmplY3QsXHJcbiAqIHdoaWNoIG1lYW5zIG5ldyBjbGFzc2VzIGNhbid0IGluaGVyaXQgZnJvbSBpdCwgYW5kIG5ldyBtZXRob2RzXHJcbiAqIGNhbid0IGJlIGFkZGVkIHRvIGl0IHdpdGggdGhlIGBpbmNsdWRlYCBmdW5jdGlvbi5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTGF0TG5nQm91bmRzKGNvcm5lcjEsIGNvcm5lcjIpIHsgLy8gKExhdExuZywgTGF0TG5nKSBvciAoTGF0TG5nW10pXHJcblx0aWYgKCFjb3JuZXIxKSB7IHJldHVybjsgfVxyXG5cclxuXHR2YXIgbGF0bG5ncyA9IGNvcm5lcjIgPyBbY29ybmVyMSwgY29ybmVyMl0gOiBjb3JuZXIxO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGF0bG5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0dGhpcy5leHRlbmQobGF0bG5nc1tpXSk7XHJcblx0fVxyXG59XHJcblxyXG5MYXRMbmdCb3VuZHMucHJvdG90eXBlID0ge1xyXG5cclxuXHQvLyBAbWV0aG9kIGV4dGVuZChsYXRsbmc6IExhdExuZyk6IHRoaXNcclxuXHQvLyBFeHRlbmQgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBwb2ludFxyXG5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIGV4dGVuZChvdGhlckJvdW5kczogTGF0TG5nQm91bmRzKTogdGhpc1xyXG5cdC8vIEV4dGVuZCB0aGUgYm91bmRzIHRvIGNvbnRhaW4gdGhlIGdpdmVuIGJvdW5kc1xyXG5cdGV4dGVuZDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0dmFyIHN3ID0gdGhpcy5fc291dGhXZXN0LFxyXG5cdFx0ICAgIG5lID0gdGhpcy5fbm9ydGhFYXN0LFxyXG5cdFx0ICAgIHN3MiwgbmUyO1xyXG5cclxuXHRcdGlmIChvYmogaW5zdGFuY2VvZiBMYXRMbmcpIHtcclxuXHRcdFx0c3cyID0gb2JqO1xyXG5cdFx0XHRuZTIgPSBvYmo7XHJcblxyXG5cdFx0fSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBMYXRMbmdCb3VuZHMpIHtcclxuXHRcdFx0c3cyID0gb2JqLl9zb3V0aFdlc3Q7XHJcblx0XHRcdG5lMiA9IG9iai5fbm9ydGhFYXN0O1xyXG5cclxuXHRcdFx0aWYgKCFzdzIgfHwgIW5lMikgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBvYmogPyB0aGlzLmV4dGVuZCh0b0xhdExuZyhvYmopIHx8IHRvTGF0TG5nQm91bmRzKG9iaikpIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN3ICYmICFuZSkge1xyXG5cdFx0XHR0aGlzLl9zb3V0aFdlc3QgPSBuZXcgTGF0TG5nKHN3Mi5sYXQsIHN3Mi5sbmcpO1xyXG5cdFx0XHR0aGlzLl9ub3J0aEVhc3QgPSBuZXcgTGF0TG5nKG5lMi5sYXQsIG5lMi5sbmcpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3cubGF0ID0gTWF0aC5taW4oc3cyLmxhdCwgc3cubGF0KTtcclxuXHRcdFx0c3cubG5nID0gTWF0aC5taW4oc3cyLmxuZywgc3cubG5nKTtcclxuXHRcdFx0bmUubGF0ID0gTWF0aC5tYXgobmUyLmxhdCwgbmUubGF0KTtcclxuXHRcdFx0bmUubG5nID0gTWF0aC5tYXgobmUyLmxuZywgbmUubG5nKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhZChidWZmZXJSYXRpbzogTnVtYmVyKTogTGF0TG5nQm91bmRzXHJcblx0Ly8gUmV0dXJucyBib3VuZHMgY3JlYXRlZCBieSBleHRlbmRpbmcgb3IgcmV0cmFjdGluZyB0aGUgY3VycmVudCBib3VuZHMgYnkgYSBnaXZlbiByYXRpbyBpbiBlYWNoIGRpcmVjdGlvbi5cclxuXHQvLyBGb3IgZXhhbXBsZSwgYSByYXRpbyBvZiAwLjUgZXh0ZW5kcyB0aGUgYm91bmRzIGJ5IDUwJSBpbiBlYWNoIGRpcmVjdGlvbi5cclxuXHQvLyBOZWdhdGl2ZSB2YWx1ZXMgd2lsbCByZXRyYWN0IHRoZSBib3VuZHMuXHJcblx0cGFkOiBmdW5jdGlvbiAoYnVmZmVyUmF0aW8pIHtcclxuXHRcdHZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCxcclxuXHRcdCAgICBuZSA9IHRoaXMuX25vcnRoRWFzdCxcclxuXHRcdCAgICBoZWlnaHRCdWZmZXIgPSBNYXRoLmFicyhzdy5sYXQgLSBuZS5sYXQpICogYnVmZmVyUmF0aW8sXHJcblx0XHQgICAgd2lkdGhCdWZmZXIgPSBNYXRoLmFicyhzdy5sbmcgLSBuZS5sbmcpICogYnVmZmVyUmF0aW87XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmdCb3VuZHMoXHJcblx0XHQgICAgICAgIG5ldyBMYXRMbmcoc3cubGF0IC0gaGVpZ2h0QnVmZmVyLCBzdy5sbmcgLSB3aWR0aEJ1ZmZlciksXHJcblx0XHQgICAgICAgIG5ldyBMYXRMbmcobmUubGF0ICsgaGVpZ2h0QnVmZmVyLCBuZS5sbmcgKyB3aWR0aEJ1ZmZlcikpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q2VudGVyKCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIGNlbnRlciBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldENlbnRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcoXHJcblx0XHQgICAgICAgICh0aGlzLl9zb3V0aFdlc3QubGF0ICsgdGhpcy5fbm9ydGhFYXN0LmxhdCkgLyAyLFxyXG5cdFx0ICAgICAgICAodGhpcy5fc291dGhXZXN0LmxuZyArIHRoaXMuX25vcnRoRWFzdC5sbmcpIC8gMik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRTb3V0aFdlc3QoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgc291dGgtd2VzdCBwb2ludCBvZiB0aGUgYm91bmRzLlxyXG5cdGdldFNvdXRoV2VzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NvdXRoV2VzdDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldE5vcnRoRWFzdCgpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBub3J0aC1lYXN0IHBvaW50IG9mIHRoZSBib3VuZHMuXHJcblx0Z2V0Tm9ydGhFYXN0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbm9ydGhFYXN0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Tm9ydGhXZXN0KCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIG5vcnRoLXdlc3QgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXROb3J0aFdlc3Q6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKHRoaXMuZ2V0Tm9ydGgoKSwgdGhpcy5nZXRXZXN0KCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U291dGhFYXN0KCk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgdGhlIHNvdXRoLWVhc3QgcG9pbnQgb2YgdGhlIGJvdW5kcy5cclxuXHRnZXRTb3V0aEVhc3Q6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKHRoaXMuZ2V0U291dGgoKSwgdGhpcy5nZXRFYXN0KCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0V2VzdCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSB3ZXN0IGxvbmdpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0V2VzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NvdXRoV2VzdC5sbmc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRTb3V0aCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBzb3V0aCBsYXRpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0U291dGg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9zb3V0aFdlc3QubGF0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0RWFzdCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBlYXN0IGxvbmdpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0RWFzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX25vcnRoRWFzdC5sbmc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXROb3J0aCgpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBub3J0aCBsYXRpdHVkZSBvZiB0aGUgYm91bmRzXHJcblx0Z2V0Tm9ydGg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ub3J0aEVhc3QubGF0O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMob3RoZXJCb3VuZHM6IExhdExuZ0JvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIGNvbnRhaW5zIHRoZSBnaXZlbiBvbmUuXHJcblxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgY29udGFpbnMgKGxhdGxuZzogTGF0TG5nKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSByZWN0YW5nbGUgY29udGFpbnMgdGhlIGdpdmVuIHBvaW50LlxyXG5cdGNvbnRhaW5zOiBmdW5jdGlvbiAob2JqKSB7IC8vIChMYXRMbmdCb3VuZHMpIG9yIChMYXRMbmcpIC0+IEJvb2xlYW5cclxuXHRcdGlmICh0eXBlb2Ygb2JqWzBdID09PSAnbnVtYmVyJyB8fCBvYmogaW5zdGFuY2VvZiBMYXRMbmcgfHwgJ2xhdCcgaW4gb2JqKSB7XHJcblx0XHRcdG9iaiA9IHRvTGF0TG5nKG9iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvYmogPSB0b0xhdExuZ0JvdW5kcyhvYmopO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCxcclxuXHRcdCAgICBuZSA9IHRoaXMuX25vcnRoRWFzdCxcclxuXHRcdCAgICBzdzIsIG5lMjtcclxuXHJcblx0XHRpZiAob2JqIGluc3RhbmNlb2YgTGF0TG5nQm91bmRzKSB7XHJcblx0XHRcdHN3MiA9IG9iai5nZXRTb3V0aFdlc3QoKTtcclxuXHRcdFx0bmUyID0gb2JqLmdldE5vcnRoRWFzdCgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3cyID0gbmUyID0gb2JqO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAoc3cyLmxhdCA+PSBzdy5sYXQpICYmIChuZTIubGF0IDw9IG5lLmxhdCkgJiZcclxuXHRcdCAgICAgICAoc3cyLmxuZyA+PSBzdy5sbmcpICYmIChuZTIubG5nIDw9IG5lLmxuZyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnRlcnNlY3RzKG90aGVyQm91bmRzOiBMYXRMbmdCb3VuZHMpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBpbnRlcnNlY3RzIHRoZSBnaXZlbiBib3VuZHMuIFR3byBib3VuZHMgaW50ZXJzZWN0IGlmIHRoZXkgaGF2ZSBhdCBsZWFzdCBvbmUgcG9pbnQgaW4gY29tbW9uLlxyXG5cdGludGVyc2VjdHM6IGZ1bmN0aW9uIChib3VuZHMpIHtcclxuXHRcdGJvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0dmFyIHN3ID0gdGhpcy5fc291dGhXZXN0LFxyXG5cdFx0ICAgIG5lID0gdGhpcy5fbm9ydGhFYXN0LFxyXG5cdFx0ICAgIHN3MiA9IGJvdW5kcy5nZXRTb3V0aFdlc3QoKSxcclxuXHRcdCAgICBuZTIgPSBib3VuZHMuZ2V0Tm9ydGhFYXN0KCksXHJcblxyXG5cdFx0ICAgIGxhdEludGVyc2VjdHMgPSAobmUyLmxhdCA+PSBzdy5sYXQpICYmIChzdzIubGF0IDw9IG5lLmxhdCksXHJcblx0XHQgICAgbG5nSW50ZXJzZWN0cyA9IChuZTIubG5nID49IHN3LmxuZykgJiYgKHN3Mi5sbmcgPD0gbmUubG5nKTtcclxuXHJcblx0XHRyZXR1cm4gbGF0SW50ZXJzZWN0cyAmJiBsbmdJbnRlcnNlY3RzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgb3ZlcmxhcHMob3RoZXJCb3VuZHM6IExhdExuZ0JvdW5kcyk6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcmVjdGFuZ2xlIG92ZXJsYXBzIHRoZSBnaXZlbiBib3VuZHMuIFR3byBib3VuZHMgb3ZlcmxhcCBpZiB0aGVpciBpbnRlcnNlY3Rpb24gaXMgYW4gYXJlYS5cclxuXHRvdmVybGFwczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0Ym91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHR2YXIgc3cgPSB0aGlzLl9zb3V0aFdlc3QsXHJcblx0XHQgICAgbmUgPSB0aGlzLl9ub3J0aEVhc3QsXHJcblx0XHQgICAgc3cyID0gYm91bmRzLmdldFNvdXRoV2VzdCgpLFxyXG5cdFx0ICAgIG5lMiA9IGJvdW5kcy5nZXROb3J0aEVhc3QoKSxcclxuXHJcblx0XHQgICAgbGF0T3ZlcmxhcHMgPSAobmUyLmxhdCA+IHN3LmxhdCkgJiYgKHN3Mi5sYXQgPCBuZS5sYXQpLFxyXG5cdFx0ICAgIGxuZ092ZXJsYXBzID0gKG5lMi5sbmcgPiBzdy5sbmcpICYmIChzdzIubG5nIDwgbmUubG5nKTtcclxuXHJcblx0XHRyZXR1cm4gbGF0T3ZlcmxhcHMgJiYgbG5nT3ZlcmxhcHM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b0JCb3hTdHJpbmcoKTogU3RyaW5nXHJcblx0Ly8gUmV0dXJucyBhIHN0cmluZyB3aXRoIGJvdW5kaW5nIGJveCBjb29yZGluYXRlcyBpbiBhICdzb3V0aHdlc3RfbG5nLHNvdXRod2VzdF9sYXQsbm9ydGhlYXN0X2xuZyxub3J0aGVhc3RfbGF0JyBmb3JtYXQuIFVzZWZ1bCBmb3Igc2VuZGluZyByZXF1ZXN0cyB0byB3ZWIgc2VydmljZXMgdGhhdCByZXR1cm4gZ2VvIGRhdGEuXHJcblx0dG9CQm94U3RyaW5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gW3RoaXMuZ2V0V2VzdCgpLCB0aGlzLmdldFNvdXRoKCksIHRoaXMuZ2V0RWFzdCgpLCB0aGlzLmdldE5vcnRoKCldLmpvaW4oJywnKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGVxdWFscyhvdGhlckJvdW5kczogTGF0TG5nQm91bmRzLCBtYXhNYXJnaW4/OiBOdW1iZXIpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJlY3RhbmdsZSBpcyBlcXVpdmFsZW50ICh3aXRoaW4gYSBzbWFsbCBtYXJnaW4gb2YgZXJyb3IpIHRvIHRoZSBnaXZlbiBib3VuZHMuIFRoZSBtYXJnaW4gb2YgZXJyb3IgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBgbWF4TWFyZ2luYCB0byBhIHNtYWxsIG51bWJlci5cclxuXHRlcXVhbHM6IGZ1bmN0aW9uIChib3VuZHMsIG1heE1hcmdpbikge1xyXG5cdFx0aWYgKCFib3VuZHMpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0Ym91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fc291dGhXZXN0LmVxdWFscyhib3VuZHMuZ2V0U291dGhXZXN0KCksIG1heE1hcmdpbikgJiZcclxuXHRcdCAgICAgICB0aGlzLl9ub3J0aEVhc3QuZXF1YWxzKGJvdW5kcy5nZXROb3J0aEVhc3QoKSwgbWF4TWFyZ2luKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGlzVmFsaWQoKTogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBib3VuZHMgYXJlIHByb3Blcmx5IGluaXRpYWxpemVkLlxyXG5cdGlzVmFsaWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiAhISh0aGlzLl9zb3V0aFdlc3QgJiYgdGhpcy5fbm9ydGhFYXN0KTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBUT0RPIEludGVybmF0aW9uYWwgZGF0ZSBsaW5lP1xyXG5cclxuLy8gQGZhY3RvcnkgTC5sYXRMbmdCb3VuZHMoY29ybmVyMTogTGF0TG5nLCBjb3JuZXIyOiBMYXRMbmcpXHJcbi8vIENyZWF0ZXMgYSBgTGF0TG5nQm91bmRzYCBvYmplY3QgYnkgZGVmaW5pbmcgdHdvIGRpYWdvbmFsbHkgb3Bwb3NpdGUgY29ybmVycyBvZiB0aGUgcmVjdGFuZ2xlLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwubGF0TG5nQm91bmRzKGxhdGxuZ3M6IExhdExuZ1tdKVxyXG4vLyBDcmVhdGVzIGEgYExhdExuZ0JvdW5kc2Agb2JqZWN0IGRlZmluZWQgYnkgdGhlIGdlb2dyYXBoaWNhbCBwb2ludHMgaXQgY29udGFpbnMuIFZlcnkgdXNlZnVsIGZvciB6b29taW5nIHRoZSBtYXAgdG8gZml0IGEgcGFydGljdWxhciBzZXQgb2YgbG9jYXRpb25zIHdpdGggW2BmaXRCb3VuZHNgXSgjbWFwLWZpdGJvdW5kcykuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0xhdExuZ0JvdW5kcyhhLCBiKSB7XHJcblx0aWYgKGEgaW5zdGFuY2VvZiBMYXRMbmdCb3VuZHMpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IExhdExuZ0JvdW5kcyhhLCBiKTtcclxufVxyXG4iLCAiaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge0VhcnRofSBmcm9tICcuL2Nycy9DUlMuRWFydGgnO1xyXG5pbXBvcnQge3RvTGF0TG5nQm91bmRzfSBmcm9tICcuL0xhdExuZ0JvdW5kcyc7XHJcblxyXG4vKiBAY2xhc3MgTGF0TG5nXHJcbiAqIEBha2EgTC5MYXRMbmdcclxuICpcclxuICogUmVwcmVzZW50cyBhIGdlb2dyYXBoaWNhbCBwb2ludCB3aXRoIGEgY2VydGFpbiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBcclxuICogdmFyIGxhdGxuZyA9IEwubGF0TG5nKDUwLjUsIDMwLjUpO1xyXG4gKiBgYGBcclxuICpcclxuICogQWxsIExlYWZsZXQgbWV0aG9kcyB0aGF0IGFjY2VwdCBMYXRMbmcgb2JqZWN0cyBhbHNvIGFjY2VwdCB0aGVtIGluIGEgc2ltcGxlIEFycmF5IGZvcm0gYW5kIHNpbXBsZSBvYmplY3QgZm9ybSAodW5sZXNzIG5vdGVkIG90aGVyd2lzZSksIHNvIHRoZXNlIGxpbmVzIGFyZSBlcXVpdmFsZW50OlxyXG4gKlxyXG4gKiBgYGBcclxuICogbWFwLnBhblRvKFs1MCwgMzBdKTtcclxuICogbWFwLnBhblRvKHtsb246IDMwLCBsYXQ6IDUwfSk7XHJcbiAqIG1hcC5wYW5Ubyh7bGF0OiA1MCwgbG5nOiAzMH0pO1xyXG4gKiBtYXAucGFuVG8oTC5sYXRMbmcoNTAsIDMwKSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgYExhdExuZ2AgZG9lcyBub3QgaW5oZXJpdCBmcm9tIExlYWZsZXQncyBgQ2xhc3NgIG9iamVjdCxcclxuICogd2hpY2ggbWVhbnMgbmV3IGNsYXNzZXMgY2FuJ3QgaW5oZXJpdCBmcm9tIGl0LCBhbmQgbmV3IG1ldGhvZHNcclxuICogY2FuJ3QgYmUgYWRkZWQgdG8gaXQgd2l0aCB0aGUgYGluY2x1ZGVgIGZ1bmN0aW9uLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMYXRMbmcobGF0LCBsbmcsIGFsdCkge1xyXG5cdGlmIChpc05hTihsYXQpIHx8IGlzTmFOKGxuZykpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBMYXRMbmcgb2JqZWN0OiAoJyArIGxhdCArICcsICcgKyBsbmcgKyAnKScpO1xyXG5cdH1cclxuXHJcblx0Ly8gQHByb3BlcnR5IGxhdDogTnVtYmVyXHJcblx0Ly8gTGF0aXR1ZGUgaW4gZGVncmVlc1xyXG5cdHRoaXMubGF0ID0gK2xhdDtcclxuXHJcblx0Ly8gQHByb3BlcnR5IGxuZzogTnVtYmVyXHJcblx0Ly8gTG9uZ2l0dWRlIGluIGRlZ3JlZXNcclxuXHR0aGlzLmxuZyA9ICtsbmc7XHJcblxyXG5cdC8vIEBwcm9wZXJ0eSBhbHQ6IE51bWJlclxyXG5cdC8vIEFsdGl0dWRlIGluIG1ldGVycyAob3B0aW9uYWwpXHJcblx0aWYgKGFsdCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHR0aGlzLmFsdCA9ICthbHQ7XHJcblx0fVxyXG59XHJcblxyXG5MYXRMbmcucHJvdG90eXBlID0ge1xyXG5cdC8vIEBtZXRob2QgZXF1YWxzKG90aGVyTGF0TG5nOiBMYXRMbmcsIG1heE1hcmdpbj86IE51bWJlcik6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gYExhdExuZ2AgcG9pbnQgaXMgYXQgdGhlIHNhbWUgcG9zaXRpb24gKHdpdGhpbiBhIHNtYWxsIG1hcmdpbiBvZiBlcnJvcikuIFRoZSBtYXJnaW4gb2YgZXJyb3IgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBgbWF4TWFyZ2luYCB0byBhIHNtYWxsIG51bWJlci5cclxuXHRlcXVhbHM6IGZ1bmN0aW9uIChvYmosIG1heE1hcmdpbikge1xyXG5cdFx0aWYgKCFvYmopIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0b2JqID0gdG9MYXRMbmcob2JqKTtcclxuXHJcblx0XHR2YXIgbWFyZ2luID0gTWF0aC5tYXgoXHJcblx0XHQgICAgICAgIE1hdGguYWJzKHRoaXMubGF0IC0gb2JqLmxhdCksXHJcblx0XHQgICAgICAgIE1hdGguYWJzKHRoaXMubG5nIC0gb2JqLmxuZykpO1xyXG5cclxuXHRcdHJldHVybiBtYXJnaW4gPD0gKG1heE1hcmdpbiA9PT0gdW5kZWZpbmVkID8gMS4wRS05IDogbWF4TWFyZ2luKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRvU3RyaW5nKCk6IFN0cmluZ1xyXG5cdC8vIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvaW50IChmb3IgZGVidWdnaW5nIHB1cnBvc2VzKS5cclxuXHR0b1N0cmluZzogZnVuY3Rpb24gKHByZWNpc2lvbikge1xyXG5cdFx0cmV0dXJuICdMYXRMbmcoJyArXHJcblx0XHQgICAgICAgIFV0aWwuZm9ybWF0TnVtKHRoaXMubGF0LCBwcmVjaXNpb24pICsgJywgJyArXHJcblx0XHQgICAgICAgIFV0aWwuZm9ybWF0TnVtKHRoaXMubG5nLCBwcmVjaXNpb24pICsgJyknO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZGlzdGFuY2VUbyhvdGhlckxhdExuZzogTGF0TG5nKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZGlzdGFuY2UgKGluIG1ldGVycykgdG8gdGhlIGdpdmVuIGBMYXRMbmdgIGNhbGN1bGF0ZWQgdXNpbmcgdGhlIFtTcGhlcmljYWwgTGF3IG9mIENvc2luZXNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NwaGVyaWNhbF9sYXdfb2ZfY29zaW5lcykuXHJcblx0ZGlzdGFuY2VUbzogZnVuY3Rpb24gKG90aGVyKSB7XHJcblx0XHRyZXR1cm4gRWFydGguZGlzdGFuY2UodGhpcywgdG9MYXRMbmcob3RoZXIpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHdyYXAoKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyBhIG5ldyBgTGF0TG5nYCBvYmplY3Qgd2l0aCB0aGUgbG9uZ2l0dWRlIHdyYXBwZWQgc28gaXQncyBhbHdheXMgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXMuXHJcblx0d3JhcDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIEVhcnRoLndyYXBMYXRMbmcodGhpcyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b0JvdW5kcyhzaXplSW5NZXRlcnM6IE51bWJlcik6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgYSBuZXcgYExhdExuZ0JvdW5kc2Agb2JqZWN0IGluIHdoaWNoIGVhY2ggYm91bmRhcnkgaXMgYHNpemVJbk1ldGVycy8yYCBtZXRlcnMgYXBhcnQgZnJvbSB0aGUgYExhdExuZ2AuXHJcblx0dG9Cb3VuZHM6IGZ1bmN0aW9uIChzaXplSW5NZXRlcnMpIHtcclxuXHRcdHZhciBsYXRBY2N1cmFjeSA9IDE4MCAqIHNpemVJbk1ldGVycyAvIDQwMDc1MDE3LFxyXG5cdFx0ICAgIGxuZ0FjY3VyYWN5ID0gbGF0QWNjdXJhY3kgLyBNYXRoLmNvcygoTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmxhdCk7XHJcblxyXG5cdFx0cmV0dXJuIHRvTGF0TG5nQm91bmRzKFxyXG5cdFx0ICAgICAgICBbdGhpcy5sYXQgLSBsYXRBY2N1cmFjeSwgdGhpcy5sbmcgLSBsbmdBY2N1cmFjeV0sXHJcblx0XHQgICAgICAgIFt0aGlzLmxhdCArIGxhdEFjY3VyYWN5LCB0aGlzLmxuZyArIGxuZ0FjY3VyYWN5XSk7XHJcblx0fSxcclxuXHJcblx0Y2xvbmU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKHRoaXMubGF0LCB0aGlzLmxuZywgdGhpcy5hbHQpO1xyXG5cdH1cclxufTtcclxuXHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC5sYXRMbmcobGF0aXR1ZGU6IE51bWJlciwgbG9uZ2l0dWRlOiBOdW1iZXIsIGFsdGl0dWRlPzogTnVtYmVyKTogTGF0TG5nXHJcbi8vIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIGdlb2dyYXBoaWNhbCBwb2ludCB3aXRoIHRoZSBnaXZlbiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIChhbmQgb3B0aW9uYWxseSBhbHRpdHVkZSkuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC5sYXRMbmcoY29vcmRzOiBBcnJheSk6IExhdExuZ1xyXG4vLyBFeHBlY3RzIGFuIGFycmF5IG9mIHRoZSBmb3JtIGBbTnVtYmVyLCBOdW1iZXJdYCBvciBgW051bWJlciwgTnVtYmVyLCBOdW1iZXJdYCBpbnN0ZWFkLlxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwubGF0TG5nKGNvb3JkczogT2JqZWN0KTogTGF0TG5nXHJcbi8vIEV4cGVjdHMgYW4gcGxhaW4gb2JqZWN0IG9mIHRoZSBmb3JtIGB7bGF0OiBOdW1iZXIsIGxuZzogTnVtYmVyfWAgb3IgYHtsYXQ6IE51bWJlciwgbG5nOiBOdW1iZXIsIGFsdDogTnVtYmVyfWAgaW5zdGVhZC5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0xhdExuZyhhLCBiLCBjKSB7XHJcblx0aWYgKGEgaW5zdGFuY2VvZiBMYXRMbmcpIHtcclxuXHRcdHJldHVybiBhO1xyXG5cdH1cclxuXHRpZiAoVXRpbC5pc0FycmF5KGEpICYmIHR5cGVvZiBhWzBdICE9PSAnb2JqZWN0Jykge1xyXG5cdFx0aWYgKGEubGVuZ3RoID09PSAzKSB7XHJcblx0XHRcdHJldHVybiBuZXcgTGF0TG5nKGFbMF0sIGFbMV0sIGFbMl0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGEubGVuZ3RoID09PSAyKSB7XHJcblx0XHRcdHJldHVybiBuZXcgTGF0TG5nKGFbMF0sIGFbMV0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGlmIChhID09PSB1bmRlZmluZWQgfHwgYSA9PT0gbnVsbCkge1xyXG5cdFx0cmV0dXJuIGE7XHJcblx0fVxyXG5cdGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcgJiYgJ2xhdCcgaW4gYSkge1xyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcoYS5sYXQsICdsbmcnIGluIGEgPyBhLmxuZyA6IGEubG9uLCBhLmFsdCk7XHJcblx0fVxyXG5cdGlmIChiID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRyZXR1cm4gbmV3IExhdExuZyhhLCBiLCBjKTtcclxufVxyXG4iLCAiXHJcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xyXG5pbXBvcnQge0xhdExuZ30gZnJvbSAnLi4vTGF0TG5nJztcclxuaW1wb3J0IHtMYXRMbmdCb3VuZHN9IGZyb20gJy4uL0xhdExuZ0JvdW5kcyc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgQ1JTXHJcbiAqIEBjcnMgTC5DUlMuQmFzZVxyXG4gKiBPYmplY3QgdGhhdCBkZWZpbmVzIGNvb3JkaW5hdGUgcmVmZXJlbmNlIHN5c3RlbXMgZm9yIHByb2plY3RpbmdcclxuICogZ2VvZ3JhcGhpY2FsIHBvaW50cyBpbnRvIHBpeGVsIChzY3JlZW4pIGNvb3JkaW5hdGVzIGFuZCBiYWNrIChhbmQgdG9cclxuICogY29vcmRpbmF0ZXMgaW4gb3RoZXIgdW5pdHMgZm9yIFtXTVNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlYl9NYXBfU2VydmljZSkgc2VydmljZXMpLiBTZWVcclxuICogW3NwYXRpYWwgcmVmZXJlbmNlIHN5c3RlbV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3BhdGlhbF9yZWZlcmVuY2Vfc3lzdGVtKS5cclxuICpcclxuICogTGVhZmxldCBkZWZpbmVzIHRoZSBtb3N0IHVzdWFsIENSU3MgYnkgZGVmYXVsdC4gSWYgeW91IHdhbnQgdG8gdXNlIGFcclxuICogQ1JTIG5vdCBkZWZpbmVkIGJ5IGRlZmF1bHQsIHRha2UgYSBsb29rIGF0IHRoZVxyXG4gKiBbUHJvajRMZWFmbGV0XShodHRwczovL2dpdGh1Yi5jb20va2FydGVuYS9Qcm9qNExlYWZsZXQpIHBsdWdpbi5cclxuICpcclxuICogTm90ZSB0aGF0IHRoZSBDUlMgaW5zdGFuY2VzIGRvIG5vdCBpbmhlcml0IGZyb20gTGVhZmxldCdzIGBDbGFzc2Agb2JqZWN0LFxyXG4gKiBhbmQgY2FuJ3QgYmUgaW5zdGFudGlhdGVkLiBBbHNvLCBuZXcgY2xhc3NlcyBjYW4ndCBpbmhlcml0IGZyb20gdGhlbSxcclxuICogYW5kIG1ldGhvZHMgY2FuJ3QgYmUgYWRkZWQgdG8gdGhlbSB3aXRoIHRoZSBgaW5jbHVkZWAgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBDUlMgPSB7XHJcblx0Ly8gQG1ldGhvZCBsYXRMbmdUb1BvaW50KGxhdGxuZzogTGF0TG5nLCB6b29tOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFByb2plY3RzIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyBpbnRvIHBpeGVsIGNvb3JkaW5hdGVzIGZvciBhIGdpdmVuIHpvb20uXHJcblx0bGF0TG5nVG9Qb2ludDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSkge1xyXG5cdFx0dmFyIHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0aW9uLnByb2plY3QobGF0bG5nKSxcclxuXHRcdCAgICBzY2FsZSA9IHRoaXMuc2NhbGUoem9vbSk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudHJhbnNmb3JtYXRpb24uX3RyYW5zZm9ybShwcm9qZWN0ZWRQb2ludCwgc2NhbGUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcG9pbnRUb0xhdExuZyhwb2ludDogUG9pbnQsIHpvb206IE51bWJlcik6IExhdExuZ1xyXG5cdC8vIFRoZSBpbnZlcnNlIG9mIGBsYXRMbmdUb1BvaW50YC4gUHJvamVjdHMgcGl4ZWwgY29vcmRpbmF0ZXMgb24gYSBnaXZlblxyXG5cdC8vIHpvb20gaW50byBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMuXHJcblx0cG9pbnRUb0xhdExuZzogZnVuY3Rpb24gKHBvaW50LCB6b29tKSB7XHJcblx0XHR2YXIgc2NhbGUgPSB0aGlzLnNjYWxlKHpvb20pLFxyXG5cdFx0ICAgIHVudHJhbnNmb3JtZWRQb2ludCA9IHRoaXMudHJhbnNmb3JtYXRpb24udW50cmFuc2Zvcm0ocG9pbnQsIHNjYWxlKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnVucHJvamVjdCh1bnRyYW5zZm9ybWVkUG9pbnQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcHJvamVjdChsYXRsbmc6IExhdExuZyk6IFBvaW50XHJcblx0Ly8gUHJvamVjdHMgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGludG8gY29vcmRpbmF0ZXMgaW4gdW5pdHMgYWNjZXB0ZWQgZm9yXHJcblx0Ly8gdGhpcyBDUlMgKGUuZy4gbWV0ZXJzIGZvciBFUFNHOjM4NTcsIGZvciBwYXNzaW5nIGl0IHRvIFdNUyBzZXJ2aWNlcykuXHJcblx0cHJvamVjdDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxhdGxuZyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1bnByb2plY3QocG9pbnQ6IFBvaW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBwcm9qZWN0ZWQgY29vcmRpbmF0ZSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIExhdExuZy5cclxuXHQvLyBUaGUgaW52ZXJzZSBvZiBgcHJvamVjdGAuXHJcblx0dW5wcm9qZWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHJldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KHBvaW50KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNjYWxlKHpvb206IE51bWJlcik6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIHNjYWxlIHVzZWQgd2hlbiB0cmFuc2Zvcm1pbmcgcHJvamVjdGVkIGNvb3JkaW5hdGVzIGludG9cclxuXHQvLyBwaXhlbCBjb29yZGluYXRlcyBmb3IgYSBwYXJ0aWN1bGFyIHpvb20uIEZvciBleGFtcGxlLCBpdCByZXR1cm5zXHJcblx0Ly8gYDI1NiAqIDJeem9vbWAgZm9yIE1lcmNhdG9yLWJhc2VkIENSUy5cclxuXHRzY2FsZTogZnVuY3Rpb24gKHpvb20pIHtcclxuXHRcdHJldHVybiAyNTYgKiBNYXRoLnBvdygyLCB6b29tKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHpvb20oc2NhbGU6IE51bWJlcik6IE51bWJlclxyXG5cdC8vIEludmVyc2Ugb2YgYHNjYWxlKClgLCByZXR1cm5zIHRoZSB6b29tIGxldmVsIGNvcnJlc3BvbmRpbmcgdG8gYSBzY2FsZVxyXG5cdC8vIGZhY3RvciBvZiBgc2NhbGVgLlxyXG5cdHpvb206IGZ1bmN0aW9uIChzY2FsZSkge1xyXG5cdFx0cmV0dXJuIE1hdGgubG9nKHNjYWxlIC8gMjU2KSAvIE1hdGguTE4yO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0UHJvamVjdGVkQm91bmRzKHpvb206IE51bWJlcik6IEJvdW5kc1xyXG5cdC8vIFJldHVybnMgdGhlIHByb2plY3Rpb24ncyBib3VuZHMgc2NhbGVkIGFuZCB0cmFuc2Zvcm1lZCBmb3IgdGhlIHByb3ZpZGVkIGB6b29tYC5cclxuXHRnZXRQcm9qZWN0ZWRCb3VuZHM6IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHRpZiAodGhpcy5pbmZpbml0ZSkgeyByZXR1cm4gbnVsbDsgfVxyXG5cclxuXHRcdHZhciBiID0gdGhpcy5wcm9qZWN0aW9uLmJvdW5kcyxcclxuXHRcdCAgICBzID0gdGhpcy5zY2FsZSh6b29tKSxcclxuXHRcdCAgICBtaW4gPSB0aGlzLnRyYW5zZm9ybWF0aW9uLnRyYW5zZm9ybShiLm1pbiwgcyksXHJcblx0XHQgICAgbWF4ID0gdGhpcy50cmFuc2Zvcm1hdGlvbi50cmFuc2Zvcm0oYi5tYXgsIHMpO1xyXG5cclxuXHRcdHJldHVybiBuZXcgQm91bmRzKG1pbiwgbWF4KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlKGxhdGxuZzE6IExhdExuZywgbGF0bG5nMjogTGF0TG5nKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLlxyXG5cclxuXHQvLyBAcHJvcGVydHkgY29kZTogU3RyaW5nXHJcblx0Ly8gU3RhbmRhcmQgY29kZSBuYW1lIG9mIHRoZSBDUlMgcGFzc2VkIGludG8gV01TIHNlcnZpY2VzIChlLmcuIGAnRVBTRzozODU3J2ApXHJcblx0Ly9cclxuXHQvLyBAcHJvcGVydHkgd3JhcExuZzogTnVtYmVyW11cclxuXHQvLyBBbiBhcnJheSBvZiB0d28gbnVtYmVycyBkZWZpbmluZyB3aGV0aGVyIHRoZSBsb25naXR1ZGUgKGhvcml6b250YWwpIGNvb3JkaW5hdGVcclxuXHQvLyBheGlzIHdyYXBzIGFyb3VuZCBhIGdpdmVuIHJhbmdlIGFuZCBob3cuIERlZmF1bHRzIHRvIGBbLTE4MCwgMTgwXWAgaW4gbW9zdFxyXG5cdC8vIGdlb2dyYXBoaWNhbCBDUlNzLiBJZiBgdW5kZWZpbmVkYCwgdGhlIGxvbmdpdHVkZSBheGlzIGRvZXMgbm90IHdyYXAgYXJvdW5kLlxyXG5cdC8vXHJcblx0Ly8gQHByb3BlcnR5IHdyYXBMYXQ6IE51bWJlcltdXHJcblx0Ly8gTGlrZSBgd3JhcExuZ2AsIGJ1dCBmb3IgdGhlIGxhdGl0dWRlICh2ZXJ0aWNhbCkgYXhpcy5cclxuXHJcblx0Ly8gd3JhcExuZzogW21pbiwgbWF4XSxcclxuXHQvLyB3cmFwTGF0OiBbbWluLCBtYXhdLFxyXG5cclxuXHQvLyBAcHJvcGVydHkgaW5maW5pdGU6IEJvb2xlYW5cclxuXHQvLyBJZiB0cnVlLCB0aGUgY29vcmRpbmF0ZSBzcGFjZSB3aWxsIGJlIHVuYm91bmRlZCAoaW5maW5pdGUgaW4gYm90aCBheGVzKVxyXG5cdGluZmluaXRlOiBmYWxzZSxcclxuXHJcblx0Ly8gQG1ldGhvZCB3cmFwTGF0TG5nKGxhdGxuZzogTGF0TG5nKTogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyBhIGBMYXRMbmdgIHdoZXJlIGxhdCBhbmQgbG5nIGhhcyBiZWVuIHdyYXBwZWQgYWNjb3JkaW5nIHRvIHRoZVxyXG5cdC8vIENSUydzIGB3cmFwTGF0YCBhbmQgYHdyYXBMbmdgIHByb3BlcnRpZXMsIGlmIHRoZXkgYXJlIG91dHNpZGUgdGhlIENSUydzIGJvdW5kcy5cclxuXHR3cmFwTGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR2YXIgbG5nID0gdGhpcy53cmFwTG5nID8gVXRpbC53cmFwTnVtKGxhdGxuZy5sbmcsIHRoaXMud3JhcExuZywgdHJ1ZSkgOiBsYXRsbmcubG5nLFxyXG5cdFx0ICAgIGxhdCA9IHRoaXMud3JhcExhdCA/IFV0aWwud3JhcE51bShsYXRsbmcubGF0LCB0aGlzLndyYXBMYXQsIHRydWUpIDogbGF0bG5nLmxhdCxcclxuXHRcdCAgICBhbHQgPSBsYXRsbmcuYWx0O1xyXG5cclxuXHRcdHJldHVybiBuZXcgTGF0TG5nKGxhdCwgbG5nLCBhbHQpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgd3JhcExhdExuZ0JvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcyk6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgYSBgTGF0TG5nQm91bmRzYCB3aXRoIHRoZSBzYW1lIHNpemUgYXMgdGhlIGdpdmVuIG9uZSwgZW5zdXJpbmdcclxuXHQvLyB0aGF0IGl0cyBjZW50ZXIgaXMgd2l0aGluIHRoZSBDUlMncyBib3VuZHMuXHJcblx0Ly8gT25seSBhY2NlcHRzIGFjdHVhbCBgTC5MYXRMbmdCb3VuZHNgIGluc3RhbmNlcywgbm90IGFycmF5cy5cclxuXHR3cmFwTGF0TG5nQm91bmRzOiBmdW5jdGlvbiAoYm91bmRzKSB7XHJcblx0XHR2YXIgY2VudGVyID0gYm91bmRzLmdldENlbnRlcigpLFxyXG5cdFx0ICAgIG5ld0NlbnRlciA9IHRoaXMud3JhcExhdExuZyhjZW50ZXIpLFxyXG5cdFx0ICAgIGxhdFNoaWZ0ID0gY2VudGVyLmxhdCAtIG5ld0NlbnRlci5sYXQsXHJcblx0XHQgICAgbG5nU2hpZnQgPSBjZW50ZXIubG5nIC0gbmV3Q2VudGVyLmxuZztcclxuXHJcblx0XHRpZiAobGF0U2hpZnQgPT09IDAgJiYgbG5nU2hpZnQgPT09IDApIHtcclxuXHRcdFx0cmV0dXJuIGJvdW5kcztcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc3cgPSBib3VuZHMuZ2V0U291dGhXZXN0KCksXHJcblx0XHQgICAgbmUgPSBib3VuZHMuZ2V0Tm9ydGhFYXN0KCksXHJcblx0XHQgICAgbmV3U3cgPSBuZXcgTGF0TG5nKHN3LmxhdCAtIGxhdFNoaWZ0LCBzdy5sbmcgLSBsbmdTaGlmdCksXHJcblx0XHQgICAgbmV3TmUgPSBuZXcgTGF0TG5nKG5lLmxhdCAtIGxhdFNoaWZ0LCBuZS5sbmcgLSBsbmdTaGlmdCk7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmdCb3VuZHMobmV3U3csIG5ld05lKTtcclxuXHR9XHJcbn07XHJcbiIsICJpbXBvcnQge0NSU30gZnJvbSAnLi9DUlMnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuXG4vKlxuICogQG5hbWVzcGFjZSBDUlNcbiAqIEBjcnMgTC5DUlMuRWFydGhcbiAqXG4gKiBTZXJ2ZXMgYXMgdGhlIGJhc2UgZm9yIENSUyB0aGF0IGFyZSBnbG9iYWwgc3VjaCB0aGF0IHRoZXkgY292ZXIgdGhlIGVhcnRoLlxuICogQ2FuIG9ubHkgYmUgdXNlZCBhcyB0aGUgYmFzZSBmb3Igb3RoZXIgQ1JTIGFuZCBjYW5ub3QgYmUgdXNlZCBkaXJlY3RseSxcbiAqIHNpbmNlIGl0IGRvZXMgbm90IGhhdmUgYSBgY29kZWAsIGBwcm9qZWN0aW9uYCBvciBgdHJhbnNmb3JtYXRpb25gLiBgZGlzdGFuY2UoKWAgcmV0dXJuc1xuICogbWV0ZXJzLlxuICovXG5cbmV4cG9ydCB2YXIgRWFydGggPSBVdGlsLmV4dGVuZCh7fSwgQ1JTLCB7XG5cdHdyYXBMbmc6IFstMTgwLCAxODBdLFxuXG5cdC8vIE1lYW4gRWFydGggUmFkaXVzLCBhcyByZWNvbW1lbmRlZCBmb3IgdXNlIGJ5XG5cdC8vIHRoZSBJbnRlcm5hdGlvbmFsIFVuaW9uIG9mIEdlb2Rlc3kgYW5kIEdlb3BoeXNpY3MsXG5cdC8vIHNlZSBodHRwczovL3Jvc2V0dGFjb2RlLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhXG5cdFI6IDYzNzEwMDAsXG5cblx0Ly8gZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIHBvaW50cyB1c2luZyBzcGhlcmljYWwgbGF3IG9mIGNvc2luZXMgYXBwcm94aW1hdGlvblxuXHRkaXN0YW5jZTogZnVuY3Rpb24gKGxhdGxuZzEsIGxhdGxuZzIpIHtcblx0XHR2YXIgcmFkID0gTWF0aC5QSSAvIDE4MCxcblx0XHQgICAgbGF0MSA9IGxhdGxuZzEubGF0ICogcmFkLFxuXHRcdCAgICBsYXQyID0gbGF0bG5nMi5sYXQgKiByYWQsXG5cdFx0ICAgIHNpbkRMYXQgPSBNYXRoLnNpbigobGF0bG5nMi5sYXQgLSBsYXRsbmcxLmxhdCkgKiByYWQgLyAyKSxcblx0XHQgICAgc2luRExvbiA9IE1hdGguc2luKChsYXRsbmcyLmxuZyAtIGxhdGxuZzEubG5nKSAqIHJhZCAvIDIpLFxuXHRcdCAgICBhID0gc2luRExhdCAqIHNpbkRMYXQgKyBNYXRoLmNvcyhsYXQxKSAqIE1hdGguY29zKGxhdDIpICogc2luRExvbiAqIHNpbkRMb24sXG5cdFx0ICAgIGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xuXHRcdHJldHVybiB0aGlzLlIgKiBjO1xuXHR9XG59KTtcbiIsICJpbXBvcnQge0xhdExuZ30gZnJvbSAnLi4vTGF0TG5nJztcclxuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XHJcbmltcG9ydCB7UG9pbnR9IGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvaW50JztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgUHJvamVjdGlvblxyXG4gKiBAcHJvamVjdGlvbiBMLlByb2plY3Rpb24uU3BoZXJpY2FsTWVyY2F0b3JcclxuICpcclxuICogU3BoZXJpY2FsIE1lcmNhdG9yIHByb2plY3Rpb24g4oCUIHRoZSBtb3N0IGNvbW1vbiBwcm9qZWN0aW9uIGZvciBvbmxpbmUgbWFwcyxcclxuICogdXNlZCBieSBhbG1vc3QgYWxsIGZyZWUgYW5kIGNvbW1lcmNpYWwgdGlsZSBwcm92aWRlcnMuIEFzc3VtZXMgdGhhdCBFYXJ0aCBpc1xyXG4gKiBhIHNwaGVyZS4gVXNlZCBieSB0aGUgYEVQU0c6Mzg1N2AgQ1JTLlxyXG4gKi9cclxuXHJcbnZhciBlYXJ0aFJhZGl1cyA9IDYzNzgxMzc7XHJcblxyXG5leHBvcnQgdmFyIFNwaGVyaWNhbE1lcmNhdG9yID0ge1xyXG5cclxuXHRSOiBlYXJ0aFJhZGl1cyxcclxuXHRNQVhfTEFUSVRVREU6IDg1LjA1MTEyODc3OTgsXHJcblxyXG5cdHByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBkID0gTWF0aC5QSSAvIDE4MCxcclxuXHRcdCAgICBtYXggPSB0aGlzLk1BWF9MQVRJVFVERSxcclxuXHRcdCAgICBsYXQgPSBNYXRoLm1heChNYXRoLm1pbihtYXgsIGxhdGxuZy5sYXQpLCAtbWF4KSxcclxuXHRcdCAgICBzaW4gPSBNYXRoLnNpbihsYXQgKiBkKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KFxyXG5cdFx0XHR0aGlzLlIgKiBsYXRsbmcubG5nICogZCxcclxuXHRcdFx0dGhpcy5SICogTWF0aC5sb2coKDEgKyBzaW4pIC8gKDEgLSBzaW4pKSAvIDIpO1xyXG5cdH0sXHJcblxyXG5cdHVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHR2YXIgZCA9IDE4MCAvIE1hdGguUEk7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcoXHJcblx0XHRcdCgyICogTWF0aC5hdGFuKE1hdGguZXhwKHBvaW50LnkgLyB0aGlzLlIpKSAtIChNYXRoLlBJIC8gMikpICogZCxcclxuXHRcdFx0cG9pbnQueCAqIGQgLyB0aGlzLlIpO1xyXG5cdH0sXHJcblxyXG5cdGJvdW5kczogKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBkID0gZWFydGhSYWRpdXMgKiBNYXRoLlBJO1xyXG5cdFx0cmV0dXJuIG5ldyBCb3VuZHMoWy1kLCAtZF0sIFtkLCBkXSk7XHJcblx0fSkoKVxyXG59O1xyXG4iLCAiaW1wb3J0IHtQb2ludH0gZnJvbSAnLi9Qb2ludCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBUcmFuc2Zvcm1hdGlvblxyXG4gKiBAYWthIEwuVHJhbnNmb3JtYXRpb25cclxuICpcclxuICogUmVwcmVzZW50cyBhbiBhZmZpbmUgdHJhbnNmb3JtYXRpb246IGEgc2V0IG9mIGNvZWZmaWNpZW50cyBgYWAsIGBiYCwgYGNgLCBgZGBcclxuICogZm9yIHRyYW5zZm9ybWluZyBhIHBvaW50IG9mIGEgZm9ybSBgKHgsIHkpYCBpbnRvIGAoYSp4ICsgYiwgYyp5ICsgZClgIGFuZCBkb2luZ1xyXG4gKiB0aGUgcmV2ZXJzZS4gVXNlZCBieSBMZWFmbGV0IGluIGl0cyBwcm9qZWN0aW9ucyBjb2RlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgdHJhbnNmb3JtYXRpb24gPSBMLnRyYW5zZm9ybWF0aW9uKDIsIDUsIC0xLCAxMCksXHJcbiAqIFx0cCA9IEwucG9pbnQoMSwgMiksXHJcbiAqIFx0cDIgPSB0cmFuc2Zvcm1hdGlvbi50cmFuc2Zvcm0ocCksIC8vICBMLnBvaW50KDcsIDgpXHJcbiAqIFx0cDMgPSB0cmFuc2Zvcm1hdGlvbi51bnRyYW5zZm9ybShwMik7IC8vICBMLnBvaW50KDEsIDIpXHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG4vLyBmYWN0b3J5IG5ldyBMLlRyYW5zZm9ybWF0aW9uKGE6IE51bWJlciwgYjogTnVtYmVyLCBjOiBOdW1iZXIsIGQ6IE51bWJlcilcclxuLy8gQ3JlYXRlcyBhIGBUcmFuc2Zvcm1hdGlvbmAgb2JqZWN0IHdpdGggdGhlIGdpdmVuIGNvZWZmaWNpZW50cy5cclxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybWF0aW9uKGEsIGIsIGMsIGQpIHtcclxuXHRpZiAoVXRpbC5pc0FycmF5KGEpKSB7XHJcblx0XHQvLyB1c2UgYXJyYXkgcHJvcGVydGllc1xyXG5cdFx0dGhpcy5fYSA9IGFbMF07XHJcblx0XHR0aGlzLl9iID0gYVsxXTtcclxuXHRcdHRoaXMuX2MgPSBhWzJdO1xyXG5cdFx0dGhpcy5fZCA9IGFbM107XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cdHRoaXMuX2EgPSBhO1xyXG5cdHRoaXMuX2IgPSBiO1xyXG5cdHRoaXMuX2MgPSBjO1xyXG5cdHRoaXMuX2QgPSBkO1xyXG59XHJcblxyXG5UcmFuc2Zvcm1hdGlvbi5wcm90b3R5cGUgPSB7XHJcblx0Ly8gQG1ldGhvZCB0cmFuc2Zvcm0ocG9pbnQ6IFBvaW50LCBzY2FsZT86IE51bWJlcik6IFBvaW50XHJcblx0Ly8gUmV0dXJucyBhIHRyYW5zZm9ybWVkIHBvaW50LCBvcHRpb25hbGx5IG11bHRpcGxpZWQgYnkgdGhlIGdpdmVuIHNjYWxlLlxyXG5cdC8vIE9ubHkgYWNjZXB0cyBhY3R1YWwgYEwuUG9pbnRgIGluc3RhbmNlcywgbm90IGFycmF5cy5cclxuXHR0cmFuc2Zvcm06IGZ1bmN0aW9uIChwb2ludCwgc2NhbGUpIHsgLy8gKFBvaW50LCBOdW1iZXIpIC0+IFBvaW50XHJcblx0XHRyZXR1cm4gdGhpcy5fdHJhbnNmb3JtKHBvaW50LmNsb25lKCksIHNjYWxlKTtcclxuXHR9LFxyXG5cclxuXHQvLyBkZXN0cnVjdGl2ZSB0cmFuc2Zvcm0gKGZhc3RlcilcclxuXHRfdHJhbnNmb3JtOiBmdW5jdGlvbiAocG9pbnQsIHNjYWxlKSB7XHJcblx0XHRzY2FsZSA9IHNjYWxlIHx8IDE7XHJcblx0XHRwb2ludC54ID0gc2NhbGUgKiAodGhpcy5fYSAqIHBvaW50LnggKyB0aGlzLl9iKTtcclxuXHRcdHBvaW50LnkgPSBzY2FsZSAqICh0aGlzLl9jICogcG9pbnQueSArIHRoaXMuX2QpO1xyXG5cdFx0cmV0dXJuIHBvaW50O1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgdW50cmFuc2Zvcm0ocG9pbnQ6IFBvaW50LCBzY2FsZT86IE51bWJlcik6IFBvaW50XHJcblx0Ly8gUmV0dXJucyB0aGUgcmV2ZXJzZSB0cmFuc2Zvcm1hdGlvbiBvZiB0aGUgZ2l2ZW4gcG9pbnQsIG9wdGlvbmFsbHkgZGl2aWRlZFxyXG5cdC8vIGJ5IHRoZSBnaXZlbiBzY2FsZS4gT25seSBhY2NlcHRzIGFjdHVhbCBgTC5Qb2ludGAgaW5zdGFuY2VzLCBub3QgYXJyYXlzLlxyXG5cdHVudHJhbnNmb3JtOiBmdW5jdGlvbiAocG9pbnQsIHNjYWxlKSB7XHJcblx0XHRzY2FsZSA9IHNjYWxlIHx8IDE7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KFxyXG5cdFx0ICAgICAgICAocG9pbnQueCAvIHNjYWxlIC0gdGhpcy5fYikgLyB0aGlzLl9hLFxyXG5cdFx0ICAgICAgICAocG9pbnQueSAvIHNjYWxlIC0gdGhpcy5fZCkgLyB0aGlzLl9jKTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBmYWN0b3J5IEwudHJhbnNmb3JtYXRpb24oYTogTnVtYmVyLCBiOiBOdW1iZXIsIGM6IE51bWJlciwgZDogTnVtYmVyKVxyXG5cclxuLy8gQGZhY3RvcnkgTC50cmFuc2Zvcm1hdGlvbihhOiBOdW1iZXIsIGI6IE51bWJlciwgYzogTnVtYmVyLCBkOiBOdW1iZXIpXHJcbi8vIEluc3RhbnRpYXRlcyBhIFRyYW5zZm9ybWF0aW9uIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBjb2VmZmljaWVudHMuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZhY3RvcnkgTC50cmFuc2Zvcm1hdGlvbihjb2VmZmljaWVudHM6IEFycmF5KTogVHJhbnNmb3JtYXRpb25cclxuLy8gRXhwZWN0cyBhbiBjb2VmZmljaWVudHMgYXJyYXkgb2YgdGhlIGZvcm1cclxuLy8gYFthOiBOdW1iZXIsIGI6IE51bWJlciwgYzogTnVtYmVyLCBkOiBOdW1iZXJdYC5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b1RyYW5zZm9ybWF0aW9uKGEsIGIsIGMsIGQpIHtcclxuXHRyZXR1cm4gbmV3IFRyYW5zZm9ybWF0aW9uKGEsIGIsIGMsIGQpO1xyXG59XHJcbiIsICJpbXBvcnQge0VhcnRofSBmcm9tICcuL0NSUy5FYXJ0aCc7XHJcbmltcG9ydCB7U3BoZXJpY2FsTWVyY2F0b3J9IGZyb20gJy4uL3Byb2plY3Rpb24vUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvcic7XHJcbmltcG9ydCB7dG9UcmFuc2Zvcm1hdGlvbn0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvVHJhbnNmb3JtYXRpb24nO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIENSU1xyXG4gKiBAY3JzIEwuQ1JTLkVQU0czODU3XHJcbiAqXHJcbiAqIFRoZSBtb3N0IGNvbW1vbiBDUlMgZm9yIG9ubGluZSBtYXBzLCB1c2VkIGJ5IGFsbW9zdCBhbGwgZnJlZSBhbmQgY29tbWVyY2lhbFxyXG4gKiB0aWxlIHByb3ZpZGVycy4gVXNlcyBTcGhlcmljYWwgTWVyY2F0b3IgcHJvamVjdGlvbi4gU2V0IGluIGJ5IGRlZmF1bHQgaW5cclxuICogTWFwJ3MgYGNyc2Agb3B0aW9uLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgRVBTRzM4NTcgPSBVdGlsLmV4dGVuZCh7fSwgRWFydGgsIHtcclxuXHRjb2RlOiAnRVBTRzozODU3JyxcclxuXHRwcm9qZWN0aW9uOiBTcGhlcmljYWxNZXJjYXRvcixcclxuXHJcblx0dHJhbnNmb3JtYXRpb246IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgc2NhbGUgPSAwLjUgLyAoTWF0aC5QSSAqIFNwaGVyaWNhbE1lcmNhdG9yLlIpO1xyXG5cdFx0cmV0dXJuIHRvVHJhbnNmb3JtYXRpb24oc2NhbGUsIDAuNSwgLXNjYWxlLCAwLjUpO1xyXG5cdH0oKSlcclxufSk7XHJcblxyXG5leHBvcnQgdmFyIEVQU0c5MDA5MTMgPSBVdGlsLmV4dGVuZCh7fSwgRVBTRzM4NTcsIHtcclxuXHRjb2RlOiAnRVBTRzo5MDA5MTMnXHJcbn0pO1xyXG4iLCAiaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcblxuLy8gQG5hbWVzcGFjZSBTVkc7IEBzZWN0aW9uXG4vLyBUaGVyZSBhcmUgc2V2ZXJhbCBzdGF0aWMgZnVuY3Rpb25zIHdoaWNoIGNhbiBiZSBjYWxsZWQgd2l0aG91dCBpbnN0YW50aWF0aW5nIEwuU1ZHOlxuXG4vLyBAZnVuY3Rpb24gY3JlYXRlKG5hbWU6IFN0cmluZyk6IFNWR0VsZW1lbnRcbi8vIFJldHVybnMgYSBpbnN0YW5jZSBvZiBbU1ZHRWxlbWVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1NWR0VsZW1lbnQpLFxuLy8gY29ycmVzcG9uZGluZyB0byB0aGUgY2xhc3MgbmFtZSBwYXNzZWQuIEZvciBleGFtcGxlLCB1c2luZyAnbGluZScgd2lsbCByZXR1cm5cbi8vIGFuIGluc3RhbmNlIG9mIFtTVkdMaW5lRWxlbWVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1NWR0xpbmVFbGVtZW50KS5cbmV4cG9ydCBmdW5jdGlvbiBzdmdDcmVhdGUobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuXG4vLyBAZnVuY3Rpb24gcG9pbnRzVG9QYXRoKHJpbmdzOiBQb2ludFtdLCBjbG9zZWQ6IEJvb2xlYW4pOiBTdHJpbmdcbi8vIEdlbmVyYXRlcyBhIFNWRyBwYXRoIHN0cmluZyBmb3IgbXVsdGlwbGUgcmluZ3MsIHdpdGggZWFjaCByaW5nIHR1cm5pbmdcbi8vIGludG8gXCJNLi5MLi5MLi5cIiBpbnN0cnVjdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNUb1BhdGgocmluZ3MsIGNsb3NlZCkge1xuXHR2YXIgc3RyID0gJycsXG5cdGksIGosIGxlbiwgbGVuMiwgcG9pbnRzLCBwO1xuXG5cdGZvciAoaSA9IDAsIGxlbiA9IHJpbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0cG9pbnRzID0gcmluZ3NbaV07XG5cblx0XHRmb3IgKGogPSAwLCBsZW4yID0gcG9pbnRzLmxlbmd0aDsgaiA8IGxlbjI7IGorKykge1xuXHRcdFx0cCA9IHBvaW50c1tqXTtcblx0XHRcdHN0ciArPSAoaiA/ICdMJyA6ICdNJykgKyBwLnggKyAnICcgKyBwLnk7XG5cdFx0fVxuXG5cdFx0Ly8gY2xvc2VzIHRoZSByaW5nIGZvciBwb2x5Z29uczsgXCJ4XCIgaXMgVk1MIHN5bnRheFxuXHRcdHN0ciArPSBjbG9zZWQgPyAoQnJvd3Nlci5zdmcgPyAneicgOiAneCcpIDogJyc7XG5cdH1cblxuXHQvLyBTVkcgY29tcGxhaW5zIGFib3V0IGVtcHR5IHBhdGggc3RyaW5nc1xuXHRyZXR1cm4gc3RyIHx8ICdNMCAwJztcbn1cblxuXG5cblxuIiwgImltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi9VdGlsJztcclxuaW1wb3J0IHtzdmdDcmVhdGV9IGZyb20gJy4uL2xheWVyL3ZlY3Rvci9TVkcuVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIEJyb3dzZXJcclxuICogQGFrYSBMLkJyb3dzZXJcclxuICpcclxuICogQSBuYW1lc3BhY2Ugd2l0aCBzdGF0aWMgcHJvcGVydGllcyBmb3IgYnJvd3Nlci9mZWF0dXJlIGRldGVjdGlvbiB1c2VkIGJ5IExlYWZsZXQgaW50ZXJuYWxseS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogaWYgKEwuQnJvd3Nlci5pZWx0OSkge1xyXG4gKiAgIGFsZXJ0KCdVcGdyYWRlIHlvdXIgYnJvd3NlciwgZHVkZSEnKTtcclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcblxyXG52YXIgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XHJcblxyXG4vLyBAcHJvcGVydHkgaWU6IEJvb2xlYW47IGB0cnVlYCBmb3IgYWxsIEludGVybmV0IEV4cGxvcmVyIHZlcnNpb25zIChub3QgRWRnZSkuXHJcbnZhciBpZSA9ICdBY3RpdmVYT2JqZWN0JyBpbiB3aW5kb3c7XHJcblxyXG4vLyBAcHJvcGVydHkgaWVsdDk6IEJvb2xlYW47IGB0cnVlYCBmb3IgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbnMgbGVzcyB0aGFuIDkuXHJcbnZhciBpZWx0OSA9IGllICYmICFkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyO1xyXG5cclxuLy8gQHByb3BlcnR5IGVkZ2U6IEJvb2xlYW47IGB0cnVlYCBmb3IgdGhlIEVkZ2Ugd2ViIGJyb3dzZXIuXHJcbnZhciBlZGdlID0gJ21zTGF1bmNoVXJpJyBpbiBuYXZpZ2F0b3IgJiYgISgnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCk7XHJcblxyXG4vLyBAcHJvcGVydHkgd2Via2l0OiBCb29sZWFuO1xyXG4vLyBgdHJ1ZWAgZm9yIHdlYmtpdC1iYXNlZCBicm93c2VycyBsaWtlIENocm9tZSBhbmQgU2FmYXJpIChpbmNsdWRpbmcgbW9iaWxlIHZlcnNpb25zKS5cclxudmFyIHdlYmtpdCA9IHVzZXJBZ2VudENvbnRhaW5zKCd3ZWJraXQnKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBhbmRyb2lkOiBCb29sZWFuXHJcbi8vICoqRGVwcmVjYXRlZC4qKiBgdHJ1ZWAgZm9yIGFueSBicm93c2VyIHJ1bm5pbmcgb24gYW4gQW5kcm9pZCBwbGF0Zm9ybS5cclxudmFyIGFuZHJvaWQgPSB1c2VyQWdlbnRDb250YWlucygnYW5kcm9pZCcpO1xyXG5cclxuLy8gQHByb3BlcnR5IGFuZHJvaWQyMzogQm9vbGVhbjsgKipEZXByZWNhdGVkLioqIGB0cnVlYCBmb3IgYnJvd3NlcnMgcnVubmluZyBvbiBBbmRyb2lkIDIgb3IgQW5kcm9pZCAzLlxyXG52YXIgYW5kcm9pZDIzID0gdXNlckFnZW50Q29udGFpbnMoJ2FuZHJvaWQgMicpIHx8IHVzZXJBZ2VudENvbnRhaW5zKCdhbmRyb2lkIDMnKTtcclxuXHJcbi8qIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTc5NjEyNjYgZm9yIGRldGFpbHMgb24gZGV0ZWN0aW5nIHN0b2NrIEFuZHJvaWQgKi9cclxudmFyIHdlYmtpdFZlciA9IHBhcnNlSW50KC9XZWJLaXRcXC8oWzAtOV0rKXwkLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpWzFdLCAxMCk7IC8vIGFsc28gbWF0Y2hlcyBBcHBsZVdlYktpdFxyXG4vLyBAcHJvcGVydHkgYW5kcm9pZFN0b2NrOiBCb29sZWFuOyAqKkRlcHJlY2F0ZWQuKiogYHRydWVgIGZvciB0aGUgQW5kcm9pZCBzdG9jayBicm93c2VyIChpLmUuIG5vdCBDaHJvbWUpXHJcbnZhciBhbmRyb2lkU3RvY2sgPSBhbmRyb2lkICYmIHVzZXJBZ2VudENvbnRhaW5zKCdHb29nbGUnKSAmJiB3ZWJraXRWZXIgPCA1MzcgJiYgISgnQXVkaW9Ob2RlJyBpbiB3aW5kb3cpO1xyXG5cclxuLy8gQHByb3BlcnR5IG9wZXJhOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIHRoZSBPcGVyYSBicm93c2VyXHJcbnZhciBvcGVyYSA9ICEhd2luZG93Lm9wZXJhO1xyXG5cclxuLy8gQHByb3BlcnR5IGNocm9tZTogQm9vbGVhbjsgYHRydWVgIGZvciB0aGUgQ2hyb21lIGJyb3dzZXIuXHJcbnZhciBjaHJvbWUgPSAhZWRnZSAmJiB1c2VyQWdlbnRDb250YWlucygnY2hyb21lJyk7XHJcblxyXG4vLyBAcHJvcGVydHkgZ2Vja286IEJvb2xlYW47IGB0cnVlYCBmb3IgZ2Vja28tYmFzZWQgYnJvd3NlcnMgbGlrZSBGaXJlZm94LlxyXG52YXIgZ2Vja28gPSB1c2VyQWdlbnRDb250YWlucygnZ2Vja28nKSAmJiAhd2Via2l0ICYmICFvcGVyYSAmJiAhaWU7XHJcblxyXG4vLyBAcHJvcGVydHkgc2FmYXJpOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIHRoZSBTYWZhcmkgYnJvd3Nlci5cclxudmFyIHNhZmFyaSA9ICFjaHJvbWUgJiYgdXNlckFnZW50Q29udGFpbnMoJ3NhZmFyaScpO1xyXG5cclxudmFyIHBoYW50b20gPSB1c2VyQWdlbnRDb250YWlucygncGhhbnRvbScpO1xyXG5cclxuLy8gQHByb3BlcnR5IG9wZXJhMTI6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciB0aGUgT3BlcmEgYnJvd3NlciBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zICh2ZXJzaW9uIDEyIG9yIGxhdGVyKS5cclxudmFyIG9wZXJhMTIgPSAnT1RyYW5zaXRpb24nIGluIHN0eWxlO1xyXG5cclxuLy8gQHByb3BlcnR5IHdpbjogQm9vbGVhbjsgYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBhIFdpbmRvd3MgcGxhdGZvcm1cclxudmFyIHdpbiA9IG5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKCdXaW4nKSA9PT0gMDtcclxuXHJcbi8vIEBwcm9wZXJ0eSBpZTNkOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGFsbCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9ucyBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG52YXIgaWUzZCA9IGllICYmICgndHJhbnNpdGlvbicgaW4gc3R5bGUpO1xyXG5cclxuLy8gQHByb3BlcnR5IHdlYmtpdDNkOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIHdlYmtpdC1iYXNlZCBicm93c2VycyBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG52YXIgd2Via2l0M2QgPSAoJ1dlYktpdENTU01hdHJpeCcgaW4gd2luZG93KSAmJiAoJ20xMScgaW4gbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoKSkgJiYgIWFuZHJvaWQyMztcclxuXHJcbi8vIEBwcm9wZXJ0eSBnZWNrbzNkOiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGdlY2tvLWJhc2VkIGJyb3dzZXJzIHN1cHBvcnRpbmcgQ1NTIHRyYW5zZm9ybXMuXHJcbnZhciBnZWNrbzNkID0gJ01velBlcnNwZWN0aXZlJyBpbiBzdHlsZTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBhbnkzZDogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGFsbCBicm93c2VycyBzdXBwb3J0aW5nIENTUyB0cmFuc2Zvcm1zLlxyXG52YXIgYW55M2QgPSAhd2luZG93LkxfRElTQUJMRV8zRCAmJiAoaWUzZCB8fCB3ZWJraXQzZCB8fCBnZWNrbzNkKSAmJiAhb3BlcmExMiAmJiAhcGhhbnRvbTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBtb2JpbGU6IEJvb2xlYW47IGB0cnVlYCBmb3IgYWxsIGJyb3dzZXJzIHJ1bm5pbmcgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG52YXIgbW9iaWxlID0gdHlwZW9mIG9yaWVudGF0aW9uICE9PSAndW5kZWZpbmVkJyB8fCB1c2VyQWdlbnRDb250YWlucygnbW9iaWxlJyk7XHJcblxyXG4vLyBAcHJvcGVydHkgbW9iaWxlV2Via2l0OiBCb29sZWFuOyBgdHJ1ZWAgZm9yIGFsbCB3ZWJraXQtYmFzZWQgYnJvd3NlcnMgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG52YXIgbW9iaWxlV2Via2l0ID0gbW9iaWxlICYmIHdlYmtpdDtcclxuXHJcbi8vIEBwcm9wZXJ0eSBtb2JpbGVXZWJraXQzZDogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGFsbCB3ZWJraXQtYmFzZWQgYnJvd3NlcnMgaW4gYSBtb2JpbGUgZGV2aWNlIHN1cHBvcnRpbmcgQ1NTIHRyYW5zZm9ybXMuXHJcbnZhciBtb2JpbGVXZWJraXQzZCA9IG1vYmlsZSAmJiB3ZWJraXQzZDtcclxuXHJcbi8vIEBwcm9wZXJ0eSBtc1BvaW50ZXI6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBicm93c2VycyBpbXBsZW1lbnRpbmcgdGhlIE1pY3Jvc29mdCB0b3VjaCBldmVudHMgbW9kZWwgKG5vdGFibHkgSUUxMCkuXHJcbnZhciBtc1BvaW50ZXIgPSAhd2luZG93LlBvaW50ZXJFdmVudCAmJiB3aW5kb3cuTVNQb2ludGVyRXZlbnQ7XHJcblxyXG4vLyBAcHJvcGVydHkgcG9pbnRlcjogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGFsbCBicm93c2VycyBzdXBwb3J0aW5nIFtwb2ludGVyIGV2ZW50c10oaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9kbjQzMzI0NCUyOHY9dnMuODUlMjkuYXNweCkuXHJcbnZhciBwb2ludGVyID0gISEod2luZG93LlBvaW50ZXJFdmVudCB8fCBtc1BvaW50ZXIpO1xyXG5cclxuLy8gQHByb3BlcnR5IHRvdWNoTmF0aXZlOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBmb3IgYWxsIGJyb3dzZXJzIHN1cHBvcnRpbmcgW3RvdWNoIGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1RvdWNoX2V2ZW50cykuXHJcbi8vICoqVGhpcyBkb2VzIG5vdCBuZWNlc3NhcmlseSBtZWFuKiogdGhhdCB0aGUgYnJvd3NlciBpcyBydW5uaW5nIGluIGEgY29tcHV0ZXIgd2l0aFxyXG4vLyBhIHRvdWNoc2NyZWVuLCBpdCBvbmx5IG1lYW5zIHRoYXQgdGhlIGJyb3dzZXIgaXMgY2FwYWJsZSBvZiB1bmRlcnN0YW5kaW5nXHJcbi8vIHRvdWNoIGV2ZW50cy5cclxudmFyIHRvdWNoTmF0aXZlID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8ICEhd2luZG93LlRvdWNoRXZlbnQ7XHJcblxyXG4vLyBAcHJvcGVydHkgdG91Y2g6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBhbGwgYnJvd3NlcnMgc3VwcG9ydGluZyBlaXRoZXIgW3RvdWNoXSgjYnJvd3Nlci10b3VjaCkgb3IgW3BvaW50ZXJdKCNicm93c2VyLXBvaW50ZXIpIGV2ZW50cy5cclxuLy8gTm90ZTogcG9pbnRlciBldmVudHMgd2lsbCBiZSBwcmVmZXJyZWQgKGlmIGF2YWlsYWJsZSksIGFuZCBwcm9jZXNzZWQgZm9yIGFsbCBgdG91Y2gqYCBsaXN0ZW5lcnMuXHJcbnZhciB0b3VjaCA9ICF3aW5kb3cuTF9OT19UT1VDSCAmJiAodG91Y2hOYXRpdmUgfHwgcG9pbnRlcik7XHJcblxyXG4vLyBAcHJvcGVydHkgbW9iaWxlT3BlcmE6IEJvb2xlYW47IGB0cnVlYCBmb3IgdGhlIE9wZXJhIGJyb3dzZXIgaW4gYSBtb2JpbGUgZGV2aWNlLlxyXG52YXIgbW9iaWxlT3BlcmEgPSBtb2JpbGUgJiYgb3BlcmE7XHJcblxyXG4vLyBAcHJvcGVydHkgbW9iaWxlR2Vja286IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBnZWNrby1iYXNlZCBicm93c2VycyBydW5uaW5nIGluIGEgbW9iaWxlIGRldmljZS5cclxudmFyIG1vYmlsZUdlY2tvID0gbW9iaWxlICYmIGdlY2tvO1xyXG5cclxuLy8gQHByb3BlcnR5IHJldGluYTogQm9vbGVhblxyXG4vLyBgdHJ1ZWAgZm9yIGJyb3dzZXJzIG9uIGEgaGlnaC1yZXNvbHV0aW9uIFwicmV0aW5hXCIgc2NyZWVuIG9yIG9uIGFueSBzY3JlZW4gd2hlbiBicm93c2VyJ3MgZGlzcGxheSB6b29tIGlzIG1vcmUgdGhhbiAxMDAlLlxyXG52YXIgcmV0aW5hID0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8ICh3aW5kb3cuc2NyZWVuLmRldmljZVhEUEkgLyB3aW5kb3cuc2NyZWVuLmxvZ2ljYWxYRFBJKSkgPiAxO1xyXG5cclxuLy8gQHByb3BlcnR5IHBhc3NpdmVFdmVudHM6IEJvb2xlYW5cclxuLy8gYHRydWVgIGZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgcGFzc2l2ZSBldmVudHMuXHJcbnZhciBwYXNzaXZlRXZlbnRzID0gKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgc3VwcG9ydHNQYXNzaXZlT3B0aW9uID0gZmFsc2U7XHJcblx0dHJ5IHtcclxuXHRcdHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2V0dGVyLXJldHVyblxyXG5cdFx0XHRcdHN1cHBvcnRzUGFzc2l2ZU9wdGlvbiA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlRXZlbnRTdXBwb3J0JywgVXRpbC5mYWxzZUZuLCBvcHRzKTtcclxuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZUV2ZW50U3VwcG9ydCcsIFV0aWwuZmFsc2VGbiwgb3B0cyk7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0Ly8gRXJyb3JzIGNhbiBzYWZlbHkgYmUgaWdub3JlZCBzaW5jZSB0aGlzIGlzIG9ubHkgYSBicm93c2VyIHN1cHBvcnQgdGVzdC5cclxuXHR9XHJcblx0cmV0dXJuIHN1cHBvcnRzUGFzc2l2ZU9wdGlvbjtcclxufSgpKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBjYW52YXM6IEJvb2xlYW5cclxuLy8gYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgW2A8Y2FudmFzPmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cclxudmFyIGNhbnZhcyA9IChmdW5jdGlvbiAoKSB7XHJcblx0cmV0dXJuICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dDtcclxufSgpKTtcclxuXHJcbi8vIEBwcm9wZXJ0eSBzdmc6IEJvb2xlYW5cclxuLy8gYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgW1NWR10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvU1ZHKS5cclxudmFyIHN2ZyA9ICEhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiBzdmdDcmVhdGUoJ3N2ZycpLmNyZWF0ZVNWR1JlY3QpO1xyXG5cclxudmFyIGlubGluZVN2ZyA9ICEhc3ZnICYmIChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdGRpdi5pbm5lckhUTUwgPSAnPHN2Zy8+JztcclxuXHRyZXR1cm4gKGRpdi5maXJzdENoaWxkICYmIGRpdi5maXJzdENoaWxkLm5hbWVzcGFjZVVSSSkgPT09ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbn0pKCk7XHJcblxyXG4vLyBAcHJvcGVydHkgdm1sOiBCb29sZWFuXHJcbi8vIGB0cnVlYCBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBbVk1MXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WZWN0b3JfTWFya3VwX0xhbmd1YWdlKS5cclxudmFyIHZtbCA9ICFzdmcgJiYgKGZ1bmN0aW9uICgpIHtcclxuXHR0cnkge1xyXG5cdFx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0ZGl2LmlubmVySFRNTCA9ICc8djpzaGFwZSBhZGo9XCIxXCIvPic7XHJcblxyXG5cdFx0dmFyIHNoYXBlID0gZGl2LmZpcnN0Q2hpbGQ7XHJcblx0XHRzaGFwZS5zdHlsZS5iZWhhdmlvciA9ICd1cmwoI2RlZmF1bHQjVk1MKSc7XHJcblxyXG5cdFx0cmV0dXJuIHNoYXBlICYmICh0eXBlb2Ygc2hhcGUuYWRqID09PSAnb2JqZWN0Jyk7XHJcblxyXG5cdH0gY2F0Y2ggKGUpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcbn0oKSk7XHJcblxyXG5cclxuLy8gQHByb3BlcnR5IG1hYzogQm9vbGVhbjsgYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBhIE1hYyBwbGF0Zm9ybVxyXG52YXIgbWFjID0gbmF2aWdhdG9yLnBsYXRmb3JtLmluZGV4T2YoJ01hYycpID09PSAwO1xyXG5cclxuLy8gQHByb3BlcnR5IG1hYzogQm9vbGVhbjsgYHRydWVgIHdoZW4gdGhlIGJyb3dzZXIgaXMgcnVubmluZyBpbiBhIExpbnV4IHBsYXRmb3JtXHJcbnZhciBsaW51eCA9IG5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKCdMaW51eCcpID09PSAwO1xyXG5cclxuZnVuY3Rpb24gdXNlckFnZW50Q29udGFpbnMoc3RyKSB7XHJcblx0cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0cikgPj0gMDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHRpZTogaWUsXHJcblx0aWVsdDk6IGllbHQ5LFxyXG5cdGVkZ2U6IGVkZ2UsXHJcblx0d2Via2l0OiB3ZWJraXQsXHJcblx0YW5kcm9pZDogYW5kcm9pZCxcclxuXHRhbmRyb2lkMjM6IGFuZHJvaWQyMyxcclxuXHRhbmRyb2lkU3RvY2s6IGFuZHJvaWRTdG9jayxcclxuXHRvcGVyYTogb3BlcmEsXHJcblx0Y2hyb21lOiBjaHJvbWUsXHJcblx0Z2Vja286IGdlY2tvLFxyXG5cdHNhZmFyaTogc2FmYXJpLFxyXG5cdHBoYW50b206IHBoYW50b20sXHJcblx0b3BlcmExMjogb3BlcmExMixcclxuXHR3aW46IHdpbixcclxuXHRpZTNkOiBpZTNkLFxyXG5cdHdlYmtpdDNkOiB3ZWJraXQzZCxcclxuXHRnZWNrbzNkOiBnZWNrbzNkLFxyXG5cdGFueTNkOiBhbnkzZCxcclxuXHRtb2JpbGU6IG1vYmlsZSxcclxuXHRtb2JpbGVXZWJraXQ6IG1vYmlsZVdlYmtpdCxcclxuXHRtb2JpbGVXZWJraXQzZDogbW9iaWxlV2Via2l0M2QsXHJcblx0bXNQb2ludGVyOiBtc1BvaW50ZXIsXHJcblx0cG9pbnRlcjogcG9pbnRlcixcclxuXHR0b3VjaDogdG91Y2gsXHJcblx0dG91Y2hOYXRpdmU6IHRvdWNoTmF0aXZlLFxyXG5cdG1vYmlsZU9wZXJhOiBtb2JpbGVPcGVyYSxcclxuXHRtb2JpbGVHZWNrbzogbW9iaWxlR2Vja28sXHJcblx0cmV0aW5hOiByZXRpbmEsXHJcblx0cGFzc2l2ZUV2ZW50czogcGFzc2l2ZUV2ZW50cyxcclxuXHRjYW52YXM6IGNhbnZhcyxcclxuXHRzdmc6IHN2ZyxcclxuXHR2bWw6IHZtbCxcclxuXHRpbmxpbmVTdmc6IGlubGluZVN2ZyxcclxuXHRtYWM6IG1hYyxcclxuXHRsaW51eDogbGludXhcclxufTtcclxuIiwgImltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4vRG9tRXZlbnQnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcbmltcG9ydCB7ZmFsc2VGbn0gZnJvbSAnLi4vY29yZS9VdGlsJztcblxuLypcbiAqIEV4dGVuZHMgTC5Eb21FdmVudCB0byBwcm92aWRlIHRvdWNoIHN1cHBvcnQgZm9yIEludGVybmV0IEV4cGxvcmVyIGFuZCBXaW5kb3dzLWJhc2VkIGRldmljZXMuXG4gKi9cblxudmFyIFBPSU5URVJfRE9XTiA9ICAgQnJvd3Nlci5tc1BvaW50ZXIgPyAnTVNQb2ludGVyRG93bicgICA6ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9NT1ZFID0gICBCcm93c2VyLm1zUG9pbnRlciA/ICdNU1BvaW50ZXJNb3ZlJyAgIDogJ3BvaW50ZXJtb3ZlJztcbnZhciBQT0lOVEVSX1VQID0gICAgIEJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlclVwJyAgICAgOiAncG9pbnRlcnVwJztcbnZhciBQT0lOVEVSX0NBTkNFTCA9IEJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlckNhbmNlbCcgOiAncG9pbnRlcmNhbmNlbCc7XG52YXIgcEV2ZW50ID0ge1xuXHR0b3VjaHN0YXJ0ICA6IFBPSU5URVJfRE9XTixcblx0dG91Y2htb3ZlICAgOiBQT0lOVEVSX01PVkUsXG5cdHRvdWNoZW5kICAgIDogUE9JTlRFUl9VUCxcblx0dG91Y2hjYW5jZWwgOiBQT0lOVEVSX0NBTkNFTFxufTtcbnZhciBoYW5kbGUgPSB7XG5cdHRvdWNoc3RhcnQgIDogX29uUG9pbnRlclN0YXJ0LFxuXHR0b3VjaG1vdmUgICA6IF9oYW5kbGVQb2ludGVyLFxuXHR0b3VjaGVuZCAgICA6IF9oYW5kbGVQb2ludGVyLFxuXHR0b3VjaGNhbmNlbCA6IF9oYW5kbGVQb2ludGVyXG59O1xudmFyIF9wb2ludGVycyA9IHt9O1xudmFyIF9wb2ludGVyRG9jTGlzdGVuZXIgPSBmYWxzZTtcblxuLy8gUHJvdmlkZXMgYSB0b3VjaCBldmVudHMgd3JhcHBlciBmb3IgKG1zKXBvaW50ZXIgZXZlbnRzLlxuLy8gcmVmIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyBodHRwczovL3d3dy53My5vcmcvQnVncy9QdWJsaWMvc2hvd19idWcuY2dpP2lkPTIyODkwXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBoYW5kbGVyKSB7XG5cdGlmICh0eXBlID09PSAndG91Y2hzdGFydCcpIHtcblx0XHRfYWRkUG9pbnRlckRvY0xpc3RlbmVyKCk7XG5cdH1cblx0aWYgKCFoYW5kbGVbdHlwZV0pIHtcblx0XHRjb25zb2xlLndhcm4oJ3dyb25nIGV2ZW50IHNwZWNpZmllZDonLCB0eXBlKTtcblx0XHRyZXR1cm4gZmFsc2VGbjtcblx0fVxuXHRoYW5kbGVyID0gaGFuZGxlW3R5cGVdLmJpbmQodGhpcywgaGFuZGxlcik7XG5cdG9iai5hZGRFdmVudExpc3RlbmVyKHBFdmVudFt0eXBlXSwgaGFuZGxlciwgZmFsc2UpO1xuXHRyZXR1cm4gaGFuZGxlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVBvaW50ZXJMaXN0ZW5lcihvYmosIHR5cGUsIGhhbmRsZXIpIHtcblx0aWYgKCFwRXZlbnRbdHlwZV0pIHtcblx0XHRjb25zb2xlLndhcm4oJ3dyb25nIGV2ZW50IHNwZWNpZmllZDonLCB0eXBlKTtcblx0XHRyZXR1cm47XG5cdH1cblx0b2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIocEV2ZW50W3R5cGVdLCBoYW5kbGVyLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIF9nbG9iYWxQb2ludGVyRG93bihlKSB7XG5cdF9wb2ludGVyc1tlLnBvaW50ZXJJZF0gPSBlO1xufVxuXG5mdW5jdGlvbiBfZ2xvYmFsUG9pbnRlck1vdmUoZSkge1xuXHRpZiAoX3BvaW50ZXJzW2UucG9pbnRlcklkXSkge1xuXHRcdF9wb2ludGVyc1tlLnBvaW50ZXJJZF0gPSBlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIF9nbG9iYWxQb2ludGVyVXAoZSkge1xuXHRkZWxldGUgX3BvaW50ZXJzW2UucG9pbnRlcklkXTtcbn1cblxuZnVuY3Rpb24gX2FkZFBvaW50ZXJEb2NMaXN0ZW5lcigpIHtcblx0Ly8gbmVlZCB0byBrZWVwIHRyYWNrIG9mIHdoYXQgcG9pbnRlcnMgYW5kIGhvdyBtYW55IGFyZSBhY3RpdmUgdG8gcHJvdmlkZSBlLnRvdWNoZXMgZW11bGF0aW9uXG5cdGlmICghX3BvaW50ZXJEb2NMaXN0ZW5lcikge1xuXHRcdC8vIHdlIGxpc3RlbiBkb2N1bWVudCBhcyBhbnkgZHJhZ3MgdGhhdCBlbmQgYnkgbW92aW5nIHRoZSB0b3VjaCBvZmYgdGhlIHNjcmVlbiBnZXQgZmlyZWQgdGhlcmVcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFBPSU5URVJfRE9XTiwgX2dsb2JhbFBvaW50ZXJEb3duLCB0cnVlKTtcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFBPSU5URVJfTU9WRSwgX2dsb2JhbFBvaW50ZXJNb3ZlLCB0cnVlKTtcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFBPSU5URVJfVVAsIF9nbG9iYWxQb2ludGVyVXAsIHRydWUpO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoUE9JTlRFUl9DQU5DRUwsIF9nbG9iYWxQb2ludGVyVXAsIHRydWUpO1xuXG5cdFx0X3BvaW50ZXJEb2NMaXN0ZW5lciA9IHRydWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gX2hhbmRsZVBvaW50ZXIoaGFuZGxlciwgZSkge1xuXHRpZiAoZS5wb2ludGVyVHlwZSA9PT0gKGUuTVNQT0lOVEVSX1RZUEVfTU9VU0UgfHwgJ21vdXNlJykpIHsgcmV0dXJuOyB9XG5cblx0ZS50b3VjaGVzID0gW107XG5cdGZvciAodmFyIGkgaW4gX3BvaW50ZXJzKSB7XG5cdFx0ZS50b3VjaGVzLnB1c2goX3BvaW50ZXJzW2ldKTtcblx0fVxuXHRlLmNoYW5nZWRUb3VjaGVzID0gW2VdO1xuXG5cdGhhbmRsZXIoZSk7XG59XG5cbmZ1bmN0aW9uIF9vblBvaW50ZXJTdGFydChoYW5kbGVyLCBlKSB7XG5cdC8vIElFMTAgc3BlY2lmaWM6IE1zVG91Y2ggbmVlZHMgcHJldmVudERlZmF1bHQuIFNlZSAjMjAwMFxuXHRpZiAoZS5NU1BPSU5URVJfVFlQRV9UT1VDSCAmJiBlLnBvaW50ZXJUeXBlID09PSBlLk1TUE9JTlRFUl9UWVBFX1RPVUNIKSB7XG5cdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG5cdH1cblx0X2hhbmRsZVBvaW50ZXIoaGFuZGxlciwgZSk7XG59XG4iLCAiaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi9Eb21FdmVudCc7XHJcblxyXG4vKlxyXG4gKiBFeHRlbmRzIHRoZSBldmVudCBoYW5kbGluZyBjb2RlIHdpdGggZG91YmxlIHRhcCBzdXBwb3J0IGZvciBtb2JpbGUgYnJvd3NlcnMuXHJcbiAqXHJcbiAqIE5vdGU6IGN1cnJlbnRseSBtb3N0IGJyb3dzZXJzIGZpcmUgbmF0aXZlIGRibGNsaWNrLCB3aXRoIG9ubHkgYSBmZXcgZXhjZXB0aW9uc1xyXG4gKiAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzcwMTIjaXNzdWVjb21tZW50LTU5NTA4NzM4NilcclxuICovXHJcblxyXG5mdW5jdGlvbiBtYWtlRGJsY2xpY2soZXZlbnQpIHtcclxuXHQvLyBpbiBtb2Rlcm4gYnJvd3NlcnMgYHR5cGVgIGNhbm5vdCBiZSBqdXN0IG92ZXJyaWRkZW46XHJcblx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRXJyb3JzL0dldHRlcl9vbmx5XHJcblx0dmFyIG5ld0V2ZW50ID0ge30sXHJcblx0ICAgIHByb3AsIGk7XHJcblx0Zm9yIChpIGluIGV2ZW50KSB7XHJcblx0XHRwcm9wID0gZXZlbnRbaV07XHJcblx0XHRuZXdFdmVudFtpXSA9IHByb3AgJiYgcHJvcC5iaW5kID8gcHJvcC5iaW5kKGV2ZW50KSA6IHByb3A7XHJcblx0fVxyXG5cdGV2ZW50ID0gbmV3RXZlbnQ7XHJcblx0bmV3RXZlbnQudHlwZSA9ICdkYmxjbGljayc7XHJcblx0bmV3RXZlbnQuZGV0YWlsID0gMjtcclxuXHRuZXdFdmVudC5pc1RydXN0ZWQgPSBmYWxzZTtcclxuXHRuZXdFdmVudC5fc2ltdWxhdGVkID0gdHJ1ZTsgLy8gZm9yIGRlYnVnIHB1cnBvc2VzXHJcblx0cmV0dXJuIG5ld0V2ZW50O1xyXG59XHJcblxyXG52YXIgZGVsYXkgPSAyMDA7XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGREb3VibGVUYXBMaXN0ZW5lcihvYmosIGhhbmRsZXIpIHtcclxuXHQvLyBNb3N0IGJyb3dzZXJzIGhhbmRsZSBkb3VibGUgdGFwIG5hdGl2ZWx5XHJcblx0b2JqLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgaGFuZGxlcik7XHJcblxyXG5cdC8vIE9uIHNvbWUgcGxhdGZvcm1zIHRoZSBicm93c2VyIGRvZXNuJ3QgZmlyZSBuYXRpdmUgZGJsY2xpY2tzIGZvciB0b3VjaCBldmVudHMuXHJcblx0Ly8gSXQgc2VlbXMgdGhhdCBpbiBhbGwgc3VjaCBjYXNlcyBgZGV0YWlsYCBwcm9wZXJ0eSBvZiBgY2xpY2tgIGV2ZW50IGlzIGFsd2F5cyBgMWAuXHJcblx0Ly8gU28gaGVyZSB3ZSByZWx5IG9uIHRoYXQgZmFjdCB0byBhdm9pZCBleGNlc3NpdmUgJ2RibGNsaWNrJyBzaW11bGF0aW9uIHdoZW4gbm90IG5lZWRlZC5cclxuXHR2YXIgbGFzdCA9IDAsXHJcblx0ICAgIGRldGFpbDtcclxuXHRmdW5jdGlvbiBzaW1EYmxjbGljayhlKSB7XHJcblx0XHRpZiAoZS5kZXRhaWwgIT09IDEpIHtcclxuXHRcdFx0ZGV0YWlsID0gZS5kZXRhaWw7IC8vIGtlZXAgaW4gc3luYyB0byBhdm9pZCBmYWxzZSBkYmxjbGljayBpbiBzb21lIGNhc2VzXHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fFxyXG5cdFx0XHQoZS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgIWUuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gV2hlbiBjbGlja2luZyBvbiBhbiA8aW5wdXQ+LCB0aGUgYnJvd3NlciBnZW5lcmF0ZXMgYSBjbGljayBvbiBpdHNcclxuXHRcdC8vIDxsYWJlbD4gKGFuZCB2aWNlIHZlcnNhKSB0cmlnZ2VyaW5nIHR3byBjbGlja3MgaW4gcXVpY2sgc3VjY2Vzc2lvbi5cclxuXHRcdC8vIFRoaXMgaWdub3JlcyBjbGlja3Mgb24gZWxlbWVudHMgd2hpY2ggYXJlIGEgbGFiZWwgd2l0aCBhICdmb3InXHJcblx0XHQvLyBhdHRyaWJ1dGUgKG9yIGNoaWxkcmVuIG9mIHN1Y2ggYSBsYWJlbCksIGJ1dCBub3QgY2hpbGRyZW4gb2ZcclxuXHRcdC8vIGEgPGlucHV0Pi5cclxuXHRcdHZhciBwYXRoID0gRG9tRXZlbnQuZ2V0UHJvcGFnYXRpb25QYXRoKGUpO1xyXG5cdFx0aWYgKHBhdGguc29tZShmdW5jdGlvbiAoZWwpIHtcclxuXHRcdFx0cmV0dXJuIGVsIGluc3RhbmNlb2YgSFRNTExhYmVsRWxlbWVudCAmJiBlbC5hdHRyaWJ1dGVzLmZvcjtcclxuXHRcdH0pICYmXHJcblx0XHRcdCFwYXRoLnNvbWUoZnVuY3Rpb24gKGVsKSB7XHJcblx0XHRcdFx0cmV0dXJuIChcclxuXHRcdFx0XHRcdGVsIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fFxyXG5cdFx0XHRcdFx0ZWwgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH0pXHJcblx0XHQpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG5cdFx0aWYgKG5vdyAtIGxhc3QgPD0gZGVsYXkpIHtcclxuXHRcdFx0ZGV0YWlsKys7XHJcblx0XHRcdGlmIChkZXRhaWwgPT09IDIpIHtcclxuXHRcdFx0XHRoYW5kbGVyKG1ha2VEYmxjbGljayhlKSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGRldGFpbCA9IDE7XHJcblx0XHR9XHJcblx0XHRsYXN0ID0gbm93O1xyXG5cdH1cclxuXHJcblx0b2JqLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2ltRGJsY2xpY2spO1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0ZGJsY2xpY2s6IGhhbmRsZXIsXHJcblx0XHRzaW1EYmxjbGljazogc2ltRGJsY2xpY2tcclxuXHR9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIob2JqLCBoYW5kbGVycykge1xyXG5cdG9iai5yZW1vdmVFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGhhbmRsZXJzLmRibGNsaWNrKTtcclxuXHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVycy5zaW1EYmxjbGljayk7XHJcbn1cclxuIiwgImltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7UG9pbnR9IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgRG9tVXRpbFxyXG4gKlxyXG4gKiBVdGlsaXR5IGZ1bmN0aW9ucyB0byB3b3JrIHdpdGggdGhlIFtET01dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9Eb2N1bWVudF9PYmplY3RfTW9kZWwpXHJcbiAqIHRyZWUsIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5LlxyXG4gKlxyXG4gKiBNb3N0IGZ1bmN0aW9ucyBleHBlY3Rpbmcgb3IgcmV0dXJuaW5nIGEgYEhUTUxFbGVtZW50YCBhbHNvIHdvcmsgZm9yXHJcbiAqIFNWRyBlbGVtZW50cy4gVGhlIG9ubHkgZGlmZmVyZW5jZSBpcyB0aGF0IGNsYXNzZXMgcmVmZXIgdG8gQ1NTIGNsYXNzZXNcclxuICogaW4gSFRNTCBhbmQgU1ZHIGNsYXNzZXMgaW4gU1ZHLlxyXG4gKi9cclxuXHJcblxyXG4vLyBAcHJvcGVydHkgVFJBTlNGT1JNOiBTdHJpbmdcclxuLy8gVmVuZG9yLXByZWZpeGVkIHRyYW5zZm9ybSBzdHlsZSBuYW1lIChlLmcuIGAnd2Via2l0VHJhbnNmb3JtJ2AgZm9yIFdlYktpdCkuXHJcbmV4cG9ydCB2YXIgVFJBTlNGT1JNID0gdGVzdFByb3AoXHJcblx0Wyd0cmFuc2Zvcm0nLCAnd2Via2l0VHJhbnNmb3JtJywgJ09UcmFuc2Zvcm0nLCAnTW96VHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJ10pO1xyXG5cclxuLy8gd2Via2l0VHJhbnNpdGlvbiBjb21lcyBmaXJzdCBiZWNhdXNlIHNvbWUgYnJvd3NlciB2ZXJzaW9ucyB0aGF0IGRyb3AgdmVuZG9yIHByZWZpeCBkb24ndCBkb1xyXG4vLyB0aGUgc2FtZSBmb3IgdGhlIHRyYW5zaXRpb25lbmQgZXZlbnQsIGluIHBhcnRpY3VsYXIgdGhlIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXJcclxuXHJcbi8vIEBwcm9wZXJ0eSBUUkFOU0lUSU9OOiBTdHJpbmdcclxuLy8gVmVuZG9yLXByZWZpeGVkIHRyYW5zaXRpb24gc3R5bGUgbmFtZS5cclxuZXhwb3J0IHZhciBUUkFOU0lUSU9OID0gdGVzdFByb3AoXHJcblx0Wyd3ZWJraXRUcmFuc2l0aW9uJywgJ3RyYW5zaXRpb24nLCAnT1RyYW5zaXRpb24nLCAnTW96VHJhbnNpdGlvbicsICdtc1RyYW5zaXRpb24nXSk7XHJcblxyXG4vLyBAcHJvcGVydHkgVFJBTlNJVElPTl9FTkQ6IFN0cmluZ1xyXG4vLyBWZW5kb3ItcHJlZml4ZWQgdHJhbnNpdGlvbmVuZCBldmVudCBuYW1lLlxyXG5leHBvcnQgdmFyIFRSQU5TSVRJT05fRU5EID1cclxuXHRUUkFOU0lUSU9OID09PSAnd2Via2l0VHJhbnNpdGlvbicgfHwgVFJBTlNJVElPTiA9PT0gJ09UcmFuc2l0aW9uJyA/IFRSQU5TSVRJT04gKyAnRW5kJyA6ICd0cmFuc2l0aW9uZW5kJztcclxuXHJcblxyXG4vLyBAZnVuY3Rpb24gZ2V0KGlkOiBTdHJpbmd8SFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudFxyXG4vLyBSZXR1cm5zIGFuIGVsZW1lbnQgZ2l2ZW4gaXRzIERPTSBpZCwgb3IgcmV0dXJucyB0aGUgZWxlbWVudCBpdHNlbGZcclxuLy8gaWYgaXQgd2FzIHBhc3NlZCBkaXJlY3RseS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldChpZCkge1xyXG5cdHJldHVybiB0eXBlb2YgaWQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIDogaWQ7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRTdHlsZShlbDogSFRNTEVsZW1lbnQsIHN0eWxlQXR0cmliOiBTdHJpbmcpOiBTdHJpbmdcclxuLy8gUmV0dXJucyB0aGUgdmFsdWUgZm9yIGEgY2VydGFpbiBzdHlsZSBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCxcclxuLy8gaW5jbHVkaW5nIGNvbXB1dGVkIHZhbHVlcyBvciB2YWx1ZXMgc2V0IHRocm91Z2ggQ1NTLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIHN0eWxlKSB7XHJcblx0dmFyIHZhbHVlID0gZWwuc3R5bGVbc3R5bGVdIHx8IChlbC5jdXJyZW50U3R5bGUgJiYgZWwuY3VycmVudFN0eWxlW3N0eWxlXSk7XHJcblxyXG5cdGlmICgoIXZhbHVlIHx8IHZhbHVlID09PSAnYXV0bycpICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3KSB7XHJcblx0XHR2YXIgY3NzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCk7XHJcblx0XHR2YWx1ZSA9IGNzcyA/IGNzc1tzdHlsZV0gOiBudWxsO1xyXG5cdH1cclxuXHRyZXR1cm4gdmFsdWUgPT09ICdhdXRvJyA/IG51bGwgOiB2YWx1ZTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGNyZWF0ZSh0YWdOYW1lOiBTdHJpbmcsIGNsYXNzTmFtZT86IFN0cmluZywgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudFxyXG4vLyBDcmVhdGVzIGFuIEhUTUwgZWxlbWVudCB3aXRoIGB0YWdOYW1lYCwgc2V0cyBpdHMgY2xhc3MgdG8gYGNsYXNzTmFtZWAsIGFuZCBvcHRpb25hbGx5IGFwcGVuZHMgaXQgdG8gYGNvbnRhaW5lcmAgZWxlbWVudC5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSh0YWdOYW1lLCBjbGFzc05hbWUsIGNvbnRhaW5lcikge1xyXG5cdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcblx0ZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICcnO1xyXG5cclxuXHRpZiAoY29udGFpbmVyKSB7XHJcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpO1xyXG5cdH1cclxuXHRyZXR1cm4gZWw7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiByZW1vdmUoZWw6IEhUTUxFbGVtZW50KVxyXG4vLyBSZW1vdmVzIGBlbGAgZnJvbSBpdHMgcGFyZW50IGVsZW1lbnRcclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShlbCkge1xyXG5cdHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xyXG5cdGlmIChwYXJlbnQpIHtcclxuXHRcdHBhcmVudC5yZW1vdmVDaGlsZChlbCk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZW1wdHkoZWw6IEhUTUxFbGVtZW50KVxyXG4vLyBSZW1vdmVzIGFsbCBvZiBgZWxgJ3MgY2hpbGRyZW4gZWxlbWVudHMgZnJvbSBgZWxgXHJcbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShlbCkge1xyXG5cdHdoaWxlIChlbC5maXJzdENoaWxkKSB7XHJcblx0XHRlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiB0b0Zyb250KGVsOiBIVE1MRWxlbWVudClcclxuLy8gTWFrZXMgYGVsYCB0aGUgbGFzdCBjaGlsZCBvZiBpdHMgcGFyZW50LCBzbyBpdCByZW5kZXJzIGluIGZyb250IG9mIHRoZSBvdGhlciBjaGlsZHJlbi5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvRnJvbnQoZWwpIHtcclxuXHR2YXIgcGFyZW50ID0gZWwucGFyZW50Tm9kZTtcclxuXHRpZiAocGFyZW50ICYmIHBhcmVudC5sYXN0Q2hpbGQgIT09IGVsKSB7XHJcblx0XHRwYXJlbnQuYXBwZW5kQ2hpbGQoZWwpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHRvQmFjayhlbDogSFRNTEVsZW1lbnQpXHJcbi8vIE1ha2VzIGBlbGAgdGhlIGZpcnN0IGNoaWxkIG9mIGl0cyBwYXJlbnQsIHNvIGl0IHJlbmRlcnMgYmVoaW5kIHRoZSBvdGhlciBjaGlsZHJlbi5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvQmFjayhlbCkge1xyXG5cdHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xyXG5cdGlmIChwYXJlbnQgJiYgcGFyZW50LmZpcnN0Q2hpbGQgIT09IGVsKSB7XHJcblx0XHRwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsLCBwYXJlbnQuZmlyc3RDaGlsZCk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gaGFzQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBuYW1lOiBTdHJpbmcpOiBCb29sZWFuXHJcbi8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGNvbnRhaW5zIGBuYW1lYC5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBuYW1lKSB7XHJcblx0aWYgKGVsLmNsYXNzTGlzdCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpO1xyXG5cdH1cclxuXHR2YXIgY2xhc3NOYW1lID0gZ2V0Q2xhc3MoZWwpO1xyXG5cdHJldHVybiBjbGFzc05hbWUubGVuZ3RoID4gMCAmJiBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgbmFtZSArICcoXFxcXHN8JCknKS50ZXN0KGNsYXNzTmFtZSk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBhZGRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIG5hbWU6IFN0cmluZylcclxuLy8gQWRkcyBgbmFtZWAgdG8gdGhlIGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgbmFtZSkge1xyXG5cdGlmIChlbC5jbGFzc0xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0dmFyIGNsYXNzZXMgPSBVdGlsLnNwbGl0V29yZHMobmFtZSk7XHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gY2xhc3Nlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXNbaV0pO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoIWhhc0NsYXNzKGVsLCBuYW1lKSkge1xyXG5cdFx0dmFyIGNsYXNzTmFtZSA9IGdldENsYXNzKGVsKTtcclxuXHRcdHNldENsYXNzKGVsLCAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgbmFtZSk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWw6IEhUTUxFbGVtZW50LCBuYW1lOiBTdHJpbmcpXHJcbi8vIFJlbW92ZXMgYG5hbWVgIGZyb20gdGhlIGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgbmFtZSkge1xyXG5cdGlmIChlbC5jbGFzc0xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2V0Q2xhc3MoZWwsIFV0aWwudHJpbSgoJyAnICsgZ2V0Q2xhc3MoZWwpICsgJyAnKS5yZXBsYWNlKCcgJyArIG5hbWUgKyAnICcsICcgJykpKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBzZXRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIG5hbWU6IFN0cmluZylcclxuLy8gU2V0cyB0aGUgZWxlbWVudCdzIGNsYXNzLlxyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2xhc3MoZWwsIG5hbWUpIHtcclxuXHRpZiAoZWwuY2xhc3NOYW1lLmJhc2VWYWwgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0ZWwuY2xhc3NOYW1lID0gbmFtZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gaW4gY2FzZSBvZiBTVkcgZWxlbWVudFxyXG5cdFx0ZWwuY2xhc3NOYW1lLmJhc2VWYWwgPSBuYW1lO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldENsYXNzKGVsOiBIVE1MRWxlbWVudCk6IFN0cmluZ1xyXG4vLyBSZXR1cm5zIHRoZSBlbGVtZW50J3MgY2xhc3MuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGFzcyhlbCkge1xyXG5cdC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGlzIGFuIFNWR0VsZW1lbnRJbnN0YW5jZSBhbmQgdXNlIHRoZSBjb3JyZXNwb25kaW5nRWxlbWVudCBpbnN0ZWFkXHJcblx0Ly8gKFJlcXVpcmVkIGZvciBsaW5rZWQgU1ZHIGVsZW1lbnRzIGluIElFMTEuKVxyXG5cdGlmIChlbC5jb3JyZXNwb25kaW5nRWxlbWVudCkge1xyXG5cdFx0ZWwgPSBlbC5jb3JyZXNwb25kaW5nRWxlbWVudDtcclxuXHR9XHJcblx0cmV0dXJuIGVsLmNsYXNzTmFtZS5iYXNlVmFsID09PSB1bmRlZmluZWQgPyBlbC5jbGFzc05hbWUgOiBlbC5jbGFzc05hbWUuYmFzZVZhbDtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNldE9wYWNpdHkoZWw6IEhUTUxFbGVtZW50LCBvcGFjaXR5OiBOdW1iZXIpXHJcbi8vIFNldCB0aGUgb3BhY2l0eSBvZiBhbiBlbGVtZW50IChpbmNsdWRpbmcgb2xkIElFIHN1cHBvcnQpLlxyXG4vLyBgb3BhY2l0eWAgbXVzdCBiZSBhIG51bWJlciBmcm9tIGAwYCB0byBgMWAuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRPcGFjaXR5KGVsLCB2YWx1ZSkge1xyXG5cdGlmICgnb3BhY2l0eScgaW4gZWwuc3R5bGUpIHtcclxuXHRcdGVsLnN0eWxlLm9wYWNpdHkgPSB2YWx1ZTtcclxuXHR9IGVsc2UgaWYgKCdmaWx0ZXInIGluIGVsLnN0eWxlKSB7XHJcblx0XHRfc2V0T3BhY2l0eUlFKGVsLCB2YWx1ZSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBfc2V0T3BhY2l0eUlFKGVsLCB2YWx1ZSkge1xyXG5cdHZhciBmaWx0ZXIgPSBmYWxzZSxcclxuXHQgICAgZmlsdGVyTmFtZSA9ICdEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYSc7XHJcblxyXG5cdC8vIGZpbHRlcnMgY29sbGVjdGlvbiB0aHJvd3MgYW4gZXJyb3IgaWYgd2UgdHJ5IHRvIHJldHJpZXZlIGEgZmlsdGVyIHRoYXQgZG9lc24ndCBleGlzdFxyXG5cdHRyeSB7XHJcblx0XHRmaWx0ZXIgPSBlbC5maWx0ZXJzLml0ZW0oZmlsdGVyTmFtZSk7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0Ly8gZG9uJ3Qgc2V0IG9wYWNpdHkgdG8gMSBpZiB3ZSBoYXZlbid0IGFscmVhZHkgc2V0IGFuIG9wYWNpdHksXHJcblx0XHQvLyBpdCBpc24ndCBuZWVkZWQgYW5kIGJyZWFrcyB0cmFuc3BhcmVudCBwbmdzLlxyXG5cdFx0aWYgKHZhbHVlID09PSAxKSB7IHJldHVybjsgfVxyXG5cdH1cclxuXHJcblx0dmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlICogMTAwKTtcclxuXHJcblx0aWYgKGZpbHRlcikge1xyXG5cdFx0ZmlsdGVyLkVuYWJsZWQgPSAodmFsdWUgIT09IDEwMCk7XHJcblx0XHRmaWx0ZXIuT3BhY2l0eSA9IHZhbHVlO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlbC5zdHlsZS5maWx0ZXIgKz0gJyBwcm9naWQ6JyArIGZpbHRlck5hbWUgKyAnKG9wYWNpdHk9JyArIHZhbHVlICsgJyknO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHRlc3RQcm9wKHByb3BzOiBTdHJpbmdbXSk6IFN0cmluZ3xmYWxzZVxyXG4vLyBHb2VzIHRocm91Z2ggdGhlIGFycmF5IG9mIHN0eWxlIG5hbWVzIGFuZCByZXR1cm5zIHRoZSBmaXJzdCBuYW1lXHJcbi8vIHRoYXQgaXMgYSB2YWxpZCBzdHlsZSBuYW1lIGZvciBhbiBlbGVtZW50LiBJZiBubyBzdWNoIG5hbWUgaXMgZm91bmQsXHJcbi8vIGl0IHJldHVybnMgZmFsc2UuIFVzZWZ1bCBmb3IgdmVuZG9yLXByZWZpeGVkIHN0eWxlcyBsaWtlIGB0cmFuc2Zvcm1gLlxyXG5leHBvcnQgZnVuY3Rpb24gdGVzdFByb3AocHJvcHMpIHtcclxuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XHJcblxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChwcm9wc1tpXSBpbiBzdHlsZSkge1xyXG5cdFx0XHRyZXR1cm4gcHJvcHNbaV07XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNldFRyYW5zZm9ybShlbDogSFRNTEVsZW1lbnQsIG9mZnNldDogUG9pbnQsIHNjYWxlPzogTnVtYmVyKVxyXG4vLyBSZXNldHMgdGhlIDNEIENTUyB0cmFuc2Zvcm0gb2YgYGVsYCBzbyBpdCBpcyB0cmFuc2xhdGVkIGJ5IGBvZmZzZXRgIHBpeGVsc1xyXG4vLyBhbmQgb3B0aW9uYWxseSBzY2FsZWQgYnkgYHNjYWxlYC4gRG9lcyBub3QgaGF2ZSBhbiBlZmZlY3QgaWYgdGhlXHJcbi8vIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IDNEIENTUyB0cmFuc2Zvcm1zLlxyXG5leHBvcnQgZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGVsLCBvZmZzZXQsIHNjYWxlKSB7XHJcblx0dmFyIHBvcyA9IG9mZnNldCB8fCBuZXcgUG9pbnQoMCwgMCk7XHJcblxyXG5cdGVsLnN0eWxlW1RSQU5TRk9STV0gPVxyXG5cdFx0KEJyb3dzZXIuaWUzZCA/XHJcblx0XHRcdCd0cmFuc2xhdGUoJyArIHBvcy54ICsgJ3B4LCcgKyBwb3MueSArICdweCknIDpcclxuXHRcdFx0J3RyYW5zbGF0ZTNkKCcgKyBwb3MueCArICdweCwnICsgcG9zLnkgKyAncHgsMCknKSArXHJcblx0XHQoc2NhbGUgPyAnIHNjYWxlKCcgKyBzY2FsZSArICcpJyA6ICcnKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHNldFBvc2l0aW9uKGVsOiBIVE1MRWxlbWVudCwgcG9zaXRpb246IFBvaW50KVxyXG4vLyBTZXRzIHRoZSBwb3NpdGlvbiBvZiBgZWxgIHRvIGNvb3JkaW5hdGVzIHNwZWNpZmllZCBieSBgcG9zaXRpb25gLFxyXG4vLyB1c2luZyBDU1MgdHJhbnNsYXRlIG9yIHRvcC9sZWZ0IHBvc2l0aW9uaW5nIGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlclxyXG4vLyAodXNlZCBieSBMZWFmbGV0IGludGVybmFsbHkgdG8gcG9zaXRpb24gaXRzIGxheWVycykuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQb3NpdGlvbihlbCwgcG9pbnQpIHtcclxuXHJcblx0Lyplc2xpbnQtZGlzYWJsZSAqL1xyXG5cdGVsLl9sZWFmbGV0X3BvcyA9IHBvaW50O1xyXG5cdC8qIGVzbGludC1lbmFibGUgKi9cclxuXHJcblx0aWYgKEJyb3dzZXIuYW55M2QpIHtcclxuXHRcdHNldFRyYW5zZm9ybShlbCwgcG9pbnQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlbC5zdHlsZS5sZWZ0ID0gcG9pbnQueCArICdweCc7XHJcblx0XHRlbC5zdHlsZS50b3AgPSBwb2ludC55ICsgJ3B4JztcclxuXHR9XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRQb3NpdGlvbihlbDogSFRNTEVsZW1lbnQpOiBQb2ludFxyXG4vLyBSZXR1cm5zIHRoZSBjb29yZGluYXRlcyBvZiBhbiBlbGVtZW50IHByZXZpb3VzbHkgcG9zaXRpb25lZCB3aXRoIHNldFBvc2l0aW9uLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zaXRpb24oZWwpIHtcclxuXHQvLyB0aGlzIG1ldGhvZCBpcyBvbmx5IHVzZWQgZm9yIGVsZW1lbnRzIHByZXZpb3VzbHkgcG9zaXRpb25lZCB1c2luZyBzZXRQb3NpdGlvbixcclxuXHQvLyBzbyBpdCdzIHNhZmUgdG8gY2FjaGUgdGhlIHBvc2l0aW9uIGZvciBwZXJmb3JtYW5jZVxyXG5cclxuXHRyZXR1cm4gZWwuX2xlYWZsZXRfcG9zIHx8IG5ldyBQb2ludCgwLCAwKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGRpc2FibGVUZXh0U2VsZWN0aW9uKClcclxuLy8gUHJldmVudHMgdGhlIHVzZXIgZnJvbSBnZW5lcmF0aW5nIGBzZWxlY3RzdGFydGAgRE9NIGV2ZW50cywgdXN1YWxseSBnZW5lcmF0ZWRcclxuLy8gd2hlbiB0aGUgdXNlciBkcmFncyB0aGUgbW91c2UgdGhyb3VnaCBhIHBhZ2Ugd2l0aCB0ZXh0LiBVc2VkIGludGVybmFsbHlcclxuLy8gYnkgTGVhZmxldCB0byBvdmVycmlkZSB0aGUgYmVoYXZpb3VyIG9mIGFueSBjbGljay1hbmQtZHJhZyBpbnRlcmFjdGlvbiBvblxyXG4vLyB0aGUgbWFwLiBBZmZlY3RzIGRyYWcgaW50ZXJhY3Rpb25zIG9uIHRoZSB3aG9sZSBkb2N1bWVudC5cclxuXHJcbi8vIEBmdW5jdGlvbiBlbmFibGVUZXh0U2VsZWN0aW9uKClcclxuLy8gQ2FuY2VscyB0aGUgZWZmZWN0cyBvZiBhIHByZXZpb3VzIFtgTC5Eb21VdGlsLmRpc2FibGVUZXh0U2VsZWN0aW9uYF0oI2RvbXV0aWwtZGlzYWJsZXRleHRzZWxlY3Rpb24pLlxyXG5leHBvcnQgdmFyIGRpc2FibGVUZXh0U2VsZWN0aW9uO1xyXG5leHBvcnQgdmFyIGVuYWJsZVRleHRTZWxlY3Rpb247XHJcbnZhciBfdXNlclNlbGVjdDtcclxuaWYgKCdvbnNlbGVjdHN0YXJ0JyBpbiBkb2N1bWVudCkge1xyXG5cdGRpc2FibGVUZXh0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0RG9tRXZlbnQub24od2luZG93LCAnc2VsZWN0c3RhcnQnLCBEb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7XHJcblx0fTtcclxuXHRlbmFibGVUZXh0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0RG9tRXZlbnQub2ZmKHdpbmRvdywgJ3NlbGVjdHN0YXJ0JywgRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xyXG5cdH07XHJcbn0gZWxzZSB7XHJcblx0dmFyIHVzZXJTZWxlY3RQcm9wZXJ0eSA9IHRlc3RQcm9wKFxyXG5cdFx0Wyd1c2VyU2VsZWN0JywgJ1dlYmtpdFVzZXJTZWxlY3QnLCAnT1VzZXJTZWxlY3QnLCAnTW96VXNlclNlbGVjdCcsICdtc1VzZXJTZWxlY3QnXSk7XHJcblxyXG5cdGRpc2FibGVUZXh0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHVzZXJTZWxlY3RQcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XHJcblx0XHRcdF91c2VyU2VsZWN0ID0gc3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XTtcclxuXHRcdFx0c3R5bGVbdXNlclNlbGVjdFByb3BlcnR5XSA9ICdub25lJztcclxuXHRcdH1cclxuXHR9O1xyXG5cdGVuYWJsZVRleHRTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodXNlclNlbGVjdFByb3BlcnR5KSB7XHJcblx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVt1c2VyU2VsZWN0UHJvcGVydHldID0gX3VzZXJTZWxlY3Q7XHJcblx0XHRcdF91c2VyU2VsZWN0ID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBkaXNhYmxlSW1hZ2VEcmFnKClcclxuLy8gQXMgW2BMLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb25gXSgjZG9tdXRpbC1kaXNhYmxldGV4dHNlbGVjdGlvbiksIGJ1dFxyXG4vLyBmb3IgYGRyYWdzdGFydGAgRE9NIGV2ZW50cywgdXN1YWxseSBnZW5lcmF0ZWQgd2hlbiB0aGUgdXNlciBkcmFncyBhbiBpbWFnZS5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVJbWFnZURyYWcoKSB7XHJcblx0RG9tRXZlbnQub24od2luZG93LCAnZHJhZ3N0YXJ0JywgRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gZW5hYmxlSW1hZ2VEcmFnKClcclxuLy8gQ2FuY2VscyB0aGUgZWZmZWN0cyBvZiBhIHByZXZpb3VzIFtgTC5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWdgXSgjZG9tdXRpbC1kaXNhYmxldGV4dHNlbGVjdGlvbikuXHJcbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVJbWFnZURyYWcoKSB7XHJcblx0RG9tRXZlbnQub2ZmKHdpbmRvdywgJ2RyYWdzdGFydCcsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxufVxyXG5cclxudmFyIF9vdXRsaW5lRWxlbWVudCwgX291dGxpbmVTdHlsZTtcclxuLy8gQGZ1bmN0aW9uIHByZXZlbnRPdXRsaW5lKGVsOiBIVE1MRWxlbWVudClcclxuLy8gTWFrZXMgdGhlIFtvdXRsaW5lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9DU1Mvb3V0bGluZSlcclxuLy8gb2YgdGhlIGVsZW1lbnQgYGVsYCBpbnZpc2libGUuIFVzZWQgaW50ZXJuYWxseSBieSBMZWFmbGV0IHRvIHByZXZlbnRcclxuLy8gZm9jdXNhYmxlIGVsZW1lbnRzIGZyb20gZGlzcGxheWluZyBhbiBvdXRsaW5lIHdoZW4gdGhlIHVzZXIgcGVyZm9ybXMgYVxyXG4vLyBkcmFnIGludGVyYWN0aW9uIG9uIHRoZW0uXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50T3V0bGluZShlbGVtZW50KSB7XHJcblx0d2hpbGUgKGVsZW1lbnQudGFiSW5kZXggPT09IC0xKSB7XHJcblx0XHRlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG5cdH1cclxuXHRpZiAoIWVsZW1lbnQuc3R5bGUpIHsgcmV0dXJuOyB9XHJcblx0cmVzdG9yZU91dGxpbmUoKTtcclxuXHRfb3V0bGluZUVsZW1lbnQgPSBlbGVtZW50O1xyXG5cdF9vdXRsaW5lU3R5bGUgPSBlbGVtZW50LnN0eWxlLm91dGxpbmVTdHlsZTtcclxuXHRlbGVtZW50LnN0eWxlLm91dGxpbmVTdHlsZSA9ICdub25lJztcclxuXHREb21FdmVudC5vbih3aW5kb3csICdrZXlkb3duJywgcmVzdG9yZU91dGxpbmUpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gcmVzdG9yZU91dGxpbmUoKVxyXG4vLyBDYW5jZWxzIHRoZSBlZmZlY3RzIG9mIGEgcHJldmlvdXMgW2BMLkRvbVV0aWwucHJldmVudE91dGxpbmVgXSgpLlxyXG5leHBvcnQgZnVuY3Rpb24gcmVzdG9yZU91dGxpbmUoKSB7XHJcblx0aWYgKCFfb3V0bGluZUVsZW1lbnQpIHsgcmV0dXJuOyB9XHJcblx0X291dGxpbmVFbGVtZW50LnN0eWxlLm91dGxpbmVTdHlsZSA9IF9vdXRsaW5lU3R5bGU7XHJcblx0X291dGxpbmVFbGVtZW50ID0gdW5kZWZpbmVkO1xyXG5cdF9vdXRsaW5lU3R5bGUgPSB1bmRlZmluZWQ7XHJcblx0RG9tRXZlbnQub2ZmKHdpbmRvdywgJ2tleWRvd24nLCByZXN0b3JlT3V0bGluZSk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRTaXplZFBhcmVudE5vZGUoZWw6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuLy8gRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IG5vZGUgd2hpY2ggc2l6ZSAod2lkdGggYW5kIGhlaWdodCkgaXMgbm90IG51bGwuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXplZFBhcmVudE5vZGUoZWxlbWVudCkge1xyXG5cdGRvIHtcclxuXHRcdGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcblx0fSB3aGlsZSAoKCFlbGVtZW50Lm9mZnNldFdpZHRoIHx8ICFlbGVtZW50Lm9mZnNldEhlaWdodCkgJiYgZWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSk7XHJcblx0cmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBnZXRTY2FsZShlbDogSFRNTEVsZW1lbnQpOiBPYmplY3RcclxuLy8gQ29tcHV0ZXMgdGhlIENTUyBzY2FsZSBjdXJyZW50bHkgYXBwbGllZCBvbiB0aGUgZWxlbWVudC5cclxuLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgeGAgYW5kIGB5YCBtZW1iZXJzIGFzIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIHNjYWxlcyByZXNwZWN0aXZlbHksXHJcbi8vIGFuZCBgYm91bmRpbmdDbGllbnRSZWN0YCBhcyB0aGUgcmVzdWx0IG9mIFtgZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9nZXRCb3VuZGluZ0NsaWVudFJlY3QpLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGUoZWxlbWVudCkge1xyXG5cdHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gUmVhZC1vbmx5IGluIG9sZCBicm93c2Vycy5cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHg6IHJlY3Qud2lkdGggLyBlbGVtZW50Lm9mZnNldFdpZHRoIHx8IDEsXHJcblx0XHR5OiByZWN0LmhlaWdodCAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDEsXHJcblx0XHRib3VuZGluZ0NsaWVudFJlY3Q6IHJlY3RcclxuXHR9O1xyXG59XHJcbiIsICJpbXBvcnQge1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vY29yZS9Ccm93c2VyJztcclxuaW1wb3J0IHthZGRQb2ludGVyTGlzdGVuZXIsIHJlbW92ZVBvaW50ZXJMaXN0ZW5lcn0gZnJvbSAnLi9Eb21FdmVudC5Qb2ludGVyJztcclxuaW1wb3J0IHthZGREb3VibGVUYXBMaXN0ZW5lciwgcmVtb3ZlRG91YmxlVGFwTGlzdGVuZXJ9IGZyb20gJy4vRG9tRXZlbnQuRG91YmxlVGFwJztcclxuaW1wb3J0IHtnZXRTY2FsZX0gZnJvbSAnLi9Eb21VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgRG9tRXZlbnRcclxuICogVXRpbGl0eSBmdW5jdGlvbnMgdG8gd29yayB3aXRoIHRoZSBbRE9NIGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0V2ZW50KSwgdXNlZCBieSBMZWFmbGV0IGludGVybmFsbHkuXHJcbiAqL1xyXG5cclxuLy8gSW5zcGlyZWQgYnkgSm9obiBSZXNpZywgRGVhbiBFZHdhcmRzIGFuZCBZVUkgYWRkRXZlbnQgaW1wbGVtZW50YXRpb25zLlxyXG5cclxuLy8gQGZ1bmN0aW9uIG9uKGVsOiBIVE1MRWxlbWVudCwgdHlwZXM6IFN0cmluZywgZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG4vLyBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gKGBmbmApIHRvIGEgcGFydGljdWxhciBET00gZXZlbnQgdHlwZSBvZiB0aGVcclxuLy8gZWxlbWVudCBgZWxgLiBZb3UgY2FuIG9wdGlvbmFsbHkgc3BlY2lmeSB0aGUgY29udGV4dCBvZiB0aGUgbGlzdGVuZXJcclxuLy8gKG9iamVjdCB0aGUgYHRoaXNgIGtleXdvcmQgd2lsbCBwb2ludCB0bykuIFlvdSBjYW4gYWxzbyBwYXNzIHNldmVyYWxcclxuLy8gc3BhY2Utc2VwYXJhdGVkIHR5cGVzIChlLmcuIGAnY2xpY2sgZGJsY2xpY2snYCkuXHJcblxyXG4vLyBAYWx0ZXJuYXRpdmVcclxuLy8gQGZ1bmN0aW9uIG9uKGVsOiBIVE1MRWxlbWVudCwgZXZlbnRNYXA6IE9iamVjdCwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuLy8gQWRkcyBhIHNldCBvZiB0eXBlL2xpc3RlbmVyIHBhaXJzLCBlLmcuIGB7Y2xpY2s6IG9uQ2xpY2ssIG1vdXNlbW92ZTogb25Nb3VzZU1vdmV9YFxyXG5leHBvcnQgZnVuY3Rpb24gb24ob2JqLCB0eXBlcywgZm4sIGNvbnRleHQpIHtcclxuXHJcblx0aWYgKHR5cGVzICYmIHR5cGVvZiB0eXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdGZvciAodmFyIHR5cGUgaW4gdHlwZXMpIHtcclxuXHRcdFx0YWRkT25lKG9iaiwgdHlwZSwgdHlwZXNbdHlwZV0sIGZuKTtcclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0dHlwZXMgPSBVdGlsLnNwbGl0V29yZHModHlwZXMpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSB0eXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRhZGRPbmUob2JqLCB0eXBlc1tpXSwgZm4sIGNvbnRleHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbnZhciBldmVudHNLZXkgPSAnX2xlYWZsZXRfZXZlbnRzJztcclxuXHJcbi8vIEBmdW5jdGlvbiBvZmYoZWw6IEhUTUxFbGVtZW50LCB0eXBlczogU3RyaW5nLCBmbjogRnVuY3Rpb24sIGNvbnRleHQ/OiBPYmplY3QpOiB0aGlzXHJcbi8vIFJlbW92ZXMgYSBwcmV2aW91c2x5IGFkZGVkIGxpc3RlbmVyIGZ1bmN0aW9uLlxyXG4vLyBOb3RlIHRoYXQgaWYgeW91IHBhc3NlZCBhIGN1c3RvbSBjb250ZXh0IHRvIG9uLCB5b3UgbXVzdCBwYXNzIHRoZSBzYW1lXHJcbi8vIGNvbnRleHQgdG8gYG9mZmAgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lci5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZnVuY3Rpb24gb2ZmKGVsOiBIVE1MRWxlbWVudCwgZXZlbnRNYXA6IE9iamVjdCwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcclxuLy8gUmVtb3ZlcyBhIHNldCBvZiB0eXBlL2xpc3RlbmVyIHBhaXJzLCBlLmcuIGB7Y2xpY2s6IG9uQ2xpY2ssIG1vdXNlbW92ZTogb25Nb3VzZU1vdmV9YFxyXG5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmdW5jdGlvbiBvZmYoZWw6IEhUTUxFbGVtZW50LCB0eXBlczogU3RyaW5nKTogdGhpc1xyXG4vLyBSZW1vdmVzIGFsbCBwcmV2aW91c2x5IGFkZGVkIGxpc3RlbmVycyBvZiBnaXZlbiB0eXBlcy5cclxuXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZnVuY3Rpb24gb2ZmKGVsOiBIVE1MRWxlbWVudCk6IHRoaXNcclxuLy8gUmVtb3ZlcyBhbGwgcHJldmlvdXNseSBhZGRlZCBsaXN0ZW5lcnMgZnJvbSBnaXZlbiBIVE1MRWxlbWVudFxyXG5leHBvcnQgZnVuY3Rpb24gb2ZmKG9iaiwgdHlwZXMsIGZuLCBjb250ZXh0KSB7XHJcblxyXG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcblx0XHRiYXRjaFJlbW92ZShvYmopO1xyXG5cdFx0ZGVsZXRlIG9ialtldmVudHNLZXldO1xyXG5cclxuXHR9IGVsc2UgaWYgKHR5cGVzICYmIHR5cGVvZiB0eXBlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdGZvciAodmFyIHR5cGUgaW4gdHlwZXMpIHtcclxuXHRcdFx0cmVtb3ZlT25lKG9iaiwgdHlwZSwgdHlwZXNbdHlwZV0sIGZuKTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdHR5cGVzID0gVXRpbC5zcGxpdFdvcmRzKHR5cGVzKTtcclxuXHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xyXG5cdFx0XHRiYXRjaFJlbW92ZShvYmosIGZ1bmN0aW9uICh0eXBlKSB7XHJcblx0XHRcdFx0cmV0dXJuIFV0aWwuaW5kZXhPZih0eXBlcywgdHlwZSkgIT09IC0xO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSB0eXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdHJlbW92ZU9uZShvYmosIHR5cGVzW2ldLCBmbiwgY29udGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB0aGlzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiYXRjaFJlbW92ZShvYmosIGZpbHRlckZuKSB7XHJcblx0Zm9yICh2YXIgaWQgaW4gb2JqW2V2ZW50c0tleV0pIHtcclxuXHRcdHZhciB0eXBlID0gaWQuc3BsaXQoL1xcZC8pWzBdO1xyXG5cdFx0aWYgKCFmaWx0ZXJGbiB8fCBmaWx0ZXJGbih0eXBlKSkge1xyXG5cdFx0XHRyZW1vdmVPbmUob2JqLCB0eXBlLCBudWxsLCBudWxsLCBpZCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG52YXIgbW91c2VTdWJzdCA9IHtcclxuXHRtb3VzZWVudGVyOiAnbW91c2VvdmVyJyxcclxuXHRtb3VzZWxlYXZlOiAnbW91c2VvdXQnLFxyXG5cdHdoZWVsOiAhKCdvbndoZWVsJyBpbiB3aW5kb3cpICYmICdtb3VzZXdoZWVsJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYWRkT25lKG9iaiwgdHlwZSwgZm4sIGNvbnRleHQpIHtcclxuXHR2YXIgaWQgPSB0eXBlICsgVXRpbC5zdGFtcChmbikgKyAoY29udGV4dCA/ICdfJyArIFV0aWwuc3RhbXAoY29udGV4dCkgOiAnJyk7XHJcblxyXG5cdGlmIChvYmpbZXZlbnRzS2V5XSAmJiBvYmpbZXZlbnRzS2V5XVtpZF0pIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0cmV0dXJuIGZuLmNhbGwoY29udGV4dCB8fCBvYmosIGUgfHwgd2luZG93LmV2ZW50KTtcclxuXHR9O1xyXG5cclxuXHR2YXIgb3JpZ2luYWxIYW5kbGVyID0gaGFuZGxlcjtcclxuXHJcblx0aWYgKCFCcm93c2VyLnRvdWNoTmF0aXZlICYmIEJyb3dzZXIucG9pbnRlciAmJiB0eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDApIHtcclxuXHRcdC8vIE5lZWRzIERvbUV2ZW50LlBvaW50ZXIuanNcclxuXHRcdGhhbmRsZXIgPSBhZGRQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBoYW5kbGVyKTtcclxuXHJcblx0fSBlbHNlIGlmIChCcm93c2VyLnRvdWNoICYmICh0eXBlID09PSAnZGJsY2xpY2snKSkge1xyXG5cdFx0aGFuZGxlciA9IGFkZERvdWJsZVRhcExpc3RlbmVyKG9iaiwgaGFuZGxlcik7XHJcblxyXG5cdH0gZWxzZSBpZiAoJ2FkZEV2ZW50TGlzdGVuZXInIGluIG9iaikge1xyXG5cclxuXHRcdGlmICh0eXBlID09PSAndG91Y2hzdGFydCcgfHwgdHlwZSA9PT0gJ3RvdWNobW92ZScgfHwgdHlwZSA9PT0gJ3doZWVsJyB8fCAgdHlwZSA9PT0gJ21vdXNld2hlZWwnKSB7XHJcblx0XHRcdG9iai5hZGRFdmVudExpc3RlbmVyKG1vdXNlU3Vic3RbdHlwZV0gfHwgdHlwZSwgaGFuZGxlciwgQnJvd3Nlci5wYXNzaXZlRXZlbnRzID8ge3Bhc3NpdmU6IGZhbHNlfSA6IGZhbHNlKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2VsZWF2ZScpIHtcclxuXHRcdFx0aGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0ZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG5cdFx0XHRcdGlmIChpc0V4dGVybmFsVGFyZ2V0KG9iaiwgZSkpIHtcclxuXHRcdFx0XHRcdG9yaWdpbmFsSGFuZGxlcihlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdG9iai5hZGRFdmVudExpc3RlbmVyKG1vdXNlU3Vic3RbdHlwZV0sIGhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBvcmlnaW5hbEhhbmRsZXIsIGZhbHNlKTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdG9iai5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XHJcblx0fVxyXG5cclxuXHRvYmpbZXZlbnRzS2V5XSA9IG9ialtldmVudHNLZXldIHx8IHt9O1xyXG5cdG9ialtldmVudHNLZXldW2lkXSA9IGhhbmRsZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZU9uZShvYmosIHR5cGUsIGZuLCBjb250ZXh0LCBpZCkge1xyXG5cdGlkID0gaWQgfHwgdHlwZSArIFV0aWwuc3RhbXAoZm4pICsgKGNvbnRleHQgPyAnXycgKyBVdGlsLnN0YW1wKGNvbnRleHQpIDogJycpO1xyXG5cdHZhciBoYW5kbGVyID0gb2JqW2V2ZW50c0tleV0gJiYgb2JqW2V2ZW50c0tleV1baWRdO1xyXG5cclxuXHRpZiAoIWhhbmRsZXIpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0aWYgKCFCcm93c2VyLnRvdWNoTmF0aXZlICYmIEJyb3dzZXIucG9pbnRlciAmJiB0eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDApIHtcclxuXHRcdHJlbW92ZVBvaW50ZXJMaXN0ZW5lcihvYmosIHR5cGUsIGhhbmRsZXIpO1xyXG5cclxuXHR9IGVsc2UgaWYgKEJyb3dzZXIudG91Y2ggJiYgKHR5cGUgPT09ICdkYmxjbGljaycpKSB7XHJcblx0XHRyZW1vdmVEb3VibGVUYXBMaXN0ZW5lcihvYmosIGhhbmRsZXIpO1xyXG5cclxuXHR9IGVsc2UgaWYgKCdyZW1vdmVFdmVudExpc3RlbmVyJyBpbiBvYmopIHtcclxuXHJcblx0XHRvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZVN1YnN0W3R5cGVdIHx8IHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdG9iai5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XHJcblx0fVxyXG5cclxuXHRvYmpbZXZlbnRzS2V5XVtpZF0gPSBudWxsO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGV2OiBET01FdmVudCk6IHRoaXNcclxuLy8gU3RvcCB0aGUgZ2l2ZW4gZXZlbnQgZnJvbSBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuIFVzZWQgaW5zaWRlIHRoZSBsaXN0ZW5lciBmdW5jdGlvbnM6XHJcbi8vIGBgYGpzXHJcbi8vIEwuRG9tRXZlbnQub24oZGl2LCAnY2xpY2snLCBmdW5jdGlvbiAoZXYpIHtcclxuLy8gXHRMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihldik7XHJcbi8vIH0pO1xyXG4vLyBgYGBcclxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihlKSB7XHJcblxyXG5cdGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xyXG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHR9IGVsc2UgaWYgKGUub3JpZ2luYWxFdmVudCkgeyAgLy8gSW4gY2FzZSBvZiBMZWFmbGV0IGV2ZW50LlxyXG5cdFx0ZS5vcmlnaW5hbEV2ZW50Ll9zdG9wcGVkID0gdHJ1ZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBkaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24oZWw6IEhUTUxFbGVtZW50KTogdGhpc1xyXG4vLyBBZGRzIGBzdG9wUHJvcGFnYXRpb25gIHRvIHRoZSBlbGVtZW50J3MgYCd3aGVlbCdgIGV2ZW50cyAocGx1cyBicm93c2VyIHZhcmlhbnRzKS5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbihlbCkge1xyXG5cdGFkZE9uZShlbCwgJ3doZWVsJywgc3RvcFByb3BhZ2F0aW9uKTtcclxuXHRyZXR1cm4gdGhpcztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGVsOiBIVE1MRWxlbWVudCk6IHRoaXNcclxuLy8gQWRkcyBgc3RvcFByb3BhZ2F0aW9uYCB0byB0aGUgZWxlbWVudCdzIGAnY2xpY2snYCwgYCdkYmxjbGljaydgLCBgJ2NvbnRleHRtZW51J2AsXHJcbi8vIGAnbW91c2Vkb3duJ2AgYW5kIGAndG91Y2hzdGFydCdgIGV2ZW50cyAocGx1cyBicm93c2VyIHZhcmlhbnRzKS5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGVsKSB7XHJcblx0b24oZWwsICdtb3VzZWRvd24gdG91Y2hzdGFydCBkYmxjbGljayBjb250ZXh0bWVudScsIHN0b3BQcm9wYWdhdGlvbik7XHJcblx0ZWxbJ19sZWFmbGV0X2Rpc2FibGVfY2xpY2snXSA9IHRydWU7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldjogRE9NRXZlbnQpOiB0aGlzXHJcbi8vIFByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvbiBvZiB0aGUgRE9NIEV2ZW50IGBldmAgZnJvbSBoYXBwZW5pbmcgKHN1Y2ggYXNcclxuLy8gZm9sbG93aW5nIGEgbGluayBpbiB0aGUgaHJlZiBvZiB0aGUgYSBlbGVtZW50LCBvciBkb2luZyBhIFBPU1QgcmVxdWVzdFxyXG4vLyB3aXRoIHBhZ2UgcmVsb2FkIHdoZW4gYSBgPGZvcm0+YCBpcyBzdWJtaXR0ZWQpLlxyXG4vLyBVc2UgaXQgaW5zaWRlIGxpc3RlbmVyIGZ1bmN0aW9ucy5cclxuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGUpIHtcclxuXHRpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlLnJldHVyblZhbHVlID0gZmFsc2U7XHJcblx0fVxyXG5cdHJldHVybiB0aGlzO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gc3RvcChldjogRE9NRXZlbnQpOiB0aGlzXHJcbi8vIERvZXMgYHN0b3BQcm9wYWdhdGlvbmAgYW5kIGBwcmV2ZW50RGVmYXVsdGAgYXQgdGhlIHNhbWUgdGltZS5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0b3AoZSkge1xyXG5cdHByZXZlbnREZWZhdWx0KGUpO1xyXG5cdHN0b3BQcm9wYWdhdGlvbihlKTtcclxuXHRyZXR1cm4gdGhpcztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldFByb3BhZ2F0aW9uUGF0aChldjogRE9NRXZlbnQpOiBBcnJheVxyXG4vLyBDb21wYXRpYmlsaXR5IHBvbHlmaWxsIGZvciBbYEV2ZW50LmNvbXBvc2VkUGF0aCgpYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50L2NvbXBvc2VkUGF0aCkuXHJcbi8vIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgYEhUTUxFbGVtZW50YHMgdGhhdCB0aGUgZ2l2ZW4gRE9NIGV2ZW50XHJcbi8vIHNob3VsZCBwcm9wYWdhdGUgdG8gKGlmIG5vdCBzdG9wcGVkKS5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3BhZ2F0aW9uUGF0aChldikge1xyXG5cdGlmIChldi5jb21wb3NlZFBhdGgpIHtcclxuXHRcdHJldHVybiBldi5jb21wb3NlZFBhdGgoKTtcclxuXHR9XHJcblxyXG5cdHZhciBwYXRoID0gW107XHJcblx0dmFyIGVsID0gZXYudGFyZ2V0O1xyXG5cclxuXHR3aGlsZSAoZWwpIHtcclxuXHRcdHBhdGgucHVzaChlbCk7XHJcblx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XHJcblx0fVxyXG5cdHJldHVybiBwYXRoO1xyXG59XHJcblxyXG5cclxuLy8gQGZ1bmN0aW9uIGdldE1vdXNlUG9zaXRpb24oZXY6IERPTUV2ZW50LCBjb250YWluZXI/OiBIVE1MRWxlbWVudCk6IFBvaW50XHJcbi8vIEdldHMgbm9ybWFsaXplZCBtb3VzZSBwb3NpdGlvbiBmcm9tIGEgRE9NIGV2ZW50IHJlbGF0aXZlIHRvIHRoZVxyXG4vLyBgY29udGFpbmVyYCAoYm9yZGVyIGV4Y2x1ZGVkKSBvciB0byB0aGUgd2hvbGUgcGFnZSBpZiBub3Qgc3BlY2lmaWVkLlxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW91c2VQb3NpdGlvbihlLCBjb250YWluZXIpIHtcclxuXHRpZiAoIWNvbnRhaW5lcikge1xyXG5cdFx0cmV0dXJuIG5ldyBQb2ludChlLmNsaWVudFgsIGUuY2xpZW50WSk7XHJcblx0fVxyXG5cclxuXHR2YXIgc2NhbGUgPSBnZXRTY2FsZShjb250YWluZXIpLFxyXG5cdCAgICBvZmZzZXQgPSBzY2FsZS5ib3VuZGluZ0NsaWVudFJlY3Q7IC8vIGxlZnQgYW5kIHRvcCAgdmFsdWVzIGFyZSBpbiBwYWdlIHNjYWxlIChsaWtlIHRoZSBldmVudCBjbGllbnRYL1kpXHJcblxyXG5cdHJldHVybiBuZXcgUG9pbnQoXHJcblx0XHQvLyBvZmZzZXQubGVmdC90b3AgdmFsdWVzIGFyZSBpbiBwYWdlIHNjYWxlIChsaWtlIGNsaWVudFgvWSksXHJcblx0XHQvLyB3aGVyZWFzIGNsaWVudExlZnQvVG9wIChib3JkZXIgd2lkdGgpIHZhbHVlcyBhcmUgdGhlIG9yaWdpbmFsIHZhbHVlcyAoYmVmb3JlIENTUyBzY2FsZSBhcHBsaWVzKS5cclxuXHRcdChlLmNsaWVudFggLSBvZmZzZXQubGVmdCkgLyBzY2FsZS54IC0gY29udGFpbmVyLmNsaWVudExlZnQsXHJcblx0XHQoZS5jbGllbnRZIC0gb2Zmc2V0LnRvcCkgLyBzY2FsZS55IC0gY29udGFpbmVyLmNsaWVudFRvcFxyXG5cdCk7XHJcbn1cclxuXHJcblxyXG4vLyAgZXhjZXB0ICwgU2FmYXJpIGFuZFxyXG4vLyBXZSBuZWVkIGRvdWJsZSB0aGUgc2Nyb2xsIHBpeGVscyAoc2VlICM3NDAzIGFuZCAjNDUzOCkgZm9yIGFsbCBCcm93c2Vyc1xyXG4vLyBleGNlcHQgT1NYIChNYWMpIC0+IDN4LCBDaHJvbWUgcnVubmluZyBvbiBMaW51eCAxeFxyXG5cclxudmFyIHdoZWVsUHhGYWN0b3IgPVxyXG5cdChCcm93c2VyLmxpbnV4ICYmIEJyb3dzZXIuY2hyb21lKSA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDpcclxuXHRCcm93c2VyLm1hYyA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICogMyA6XHJcblx0d2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAwID8gMiAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDogMTtcclxuLy8gQGZ1bmN0aW9uIGdldFdoZWVsRGVsdGEoZXY6IERPTUV2ZW50KTogTnVtYmVyXHJcbi8vIEdldHMgbm9ybWFsaXplZCB3aGVlbCBkZWx0YSBmcm9tIGEgd2hlZWwgRE9NIGV2ZW50LCBpbiB2ZXJ0aWNhbFxyXG4vLyBwaXhlbHMgc2Nyb2xsZWQgKG5lZ2F0aXZlIGlmIHNjcm9sbGluZyBkb3duKS5cclxuLy8gRXZlbnRzIGZyb20gcG9pbnRpbmcgZGV2aWNlcyB3aXRob3V0IHByZWNpc2Ugc2Nyb2xsaW5nIGFyZSBtYXBwZWQgdG9cclxuLy8gYSBiZXN0IGd1ZXNzIG9mIDYwIHBpeGVscy5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFdoZWVsRGVsdGEoZSkge1xyXG5cdHJldHVybiAoQnJvd3Nlci5lZGdlKSA/IGUud2hlZWxEZWx0YVkgLyAyIDogLy8gRG9uJ3QgdHJ1c3Qgd2luZG93LWdlb21ldHJ5LWJhc2VkIGRlbHRhXHJcblx0ICAgICAgIChlLmRlbHRhWSAmJiBlLmRlbHRhTW9kZSA9PT0gMCkgPyAtZS5kZWx0YVkgLyB3aGVlbFB4RmFjdG9yIDogLy8gUGl4ZWxzXHJcblx0ICAgICAgIChlLmRlbHRhWSAmJiBlLmRlbHRhTW9kZSA9PT0gMSkgPyAtZS5kZWx0YVkgKiAyMCA6IC8vIExpbmVzXHJcblx0ICAgICAgIChlLmRlbHRhWSAmJiBlLmRlbHRhTW9kZSA9PT0gMikgPyAtZS5kZWx0YVkgKiA2MCA6IC8vIFBhZ2VzXHJcblx0ICAgICAgIChlLmRlbHRhWCB8fCBlLmRlbHRhWikgPyAwIDpcdC8vIFNraXAgaG9yaXpvbnRhbC9kZXB0aCB3aGVlbCBldmVudHNcclxuXHQgICAgICAgZS53aGVlbERlbHRhID8gKGUud2hlZWxEZWx0YVkgfHwgZS53aGVlbERlbHRhKSAvIDIgOiAvLyBMZWdhY3kgSUUgcGl4ZWxzXHJcblx0ICAgICAgIChlLmRldGFpbCAmJiBNYXRoLmFicyhlLmRldGFpbCkgPCAzMjc2NSkgPyAtZS5kZXRhaWwgKiAyMCA6IC8vIExlZ2FjeSBNb3ogbGluZXNcclxuXHQgICAgICAgZS5kZXRhaWwgPyBlLmRldGFpbCAvIC0zMjc2NSAqIDYwIDogLy8gTGVnYWN5IE1veiBwYWdlc1xyXG5cdCAgICAgICAwO1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiBlbGVtZW50IHJlYWxseSBsZWZ0L2VudGVyZWQgdGhlIGV2ZW50IHRhcmdldCAoZm9yIG1vdXNlZW50ZXIvbW91c2VsZWF2ZSlcclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXh0ZXJuYWxUYXJnZXQoZWwsIGUpIHtcclxuXHJcblx0dmFyIHJlbGF0ZWQgPSBlLnJlbGF0ZWRUYXJnZXQ7XHJcblxyXG5cdGlmICghcmVsYXRlZCkgeyByZXR1cm4gdHJ1ZTsgfVxyXG5cclxuXHR0cnkge1xyXG5cdFx0d2hpbGUgKHJlbGF0ZWQgJiYgKHJlbGF0ZWQgIT09IGVsKSkge1xyXG5cdFx0XHRyZWxhdGVkID0gcmVsYXRlZC5wYXJlbnROb2RlO1xyXG5cdFx0fVxyXG5cdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRyZXR1cm4gKHJlbGF0ZWQgIT09IGVsKTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGFkZExpc3RlbmVyKOKApik6IHRoaXNcclxuLy8gQWxpYXMgdG8gW2BMLkRvbUV2ZW50Lm9uYF0oI2RvbWV2ZW50LW9uKVxyXG5leHBvcnQge29uIGFzIGFkZExpc3RlbmVyfTtcclxuXHJcbi8vIEBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcijigKYpOiB0aGlzXHJcbi8vIEFsaWFzIHRvIFtgTC5Eb21FdmVudC5vZmZgXSgjZG9tZXZlbnQtb2ZmKVxyXG5leHBvcnQge29mZiBhcyByZW1vdmVMaXN0ZW5lcn07XHJcbiIsICJpbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL2NvcmUvRXZlbnRzJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xuXG5cbi8qXG4gKiBAY2xhc3MgUG9zQW5pbWF0aW9uXG4gKiBAYWthIEwuUG9zQW5pbWF0aW9uXG4gKiBAaW5oZXJpdHMgRXZlbnRlZFxuICogVXNlZCBpbnRlcm5hbGx5IGZvciBwYW5uaW5nIGFuaW1hdGlvbnMsIHV0aWxpemluZyBDU1MzIFRyYW5zaXRpb25zIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIGEgdGltZXIgZmFsbGJhY2sgZm9yIElFNi05LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogdmFyIG15UG9zaXRpb25NYXJrZXIgPSBMLm1hcmtlcihbNDguODY0NzE2LCAyLjI5NDY5NF0pLmFkZFRvKG1hcCk7XG4gKlxuICogbXlQb3NpdGlvbk1hcmtlci5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICogXHR2YXIgcG9zID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChteVBvc2l0aW9uTWFya2VyLmdldExhdExuZygpKTtcbiAqIFx0cG9zLnkgLT0gMjU7XG4gKiBcdHZhciBmeCA9IG5ldyBMLlBvc0FuaW1hdGlvbigpO1xuICpcbiAqIFx0Zngub25jZSgnZW5kJyxmdW5jdGlvbigpIHtcbiAqIFx0XHRwb3MueSArPSAyNTtcbiAqIFx0XHRmeC5ydW4obXlQb3NpdGlvbk1hcmtlci5faWNvbiwgcG9zLCAwLjgpO1xuICogXHR9KTtcbiAqXG4gKiBcdGZ4LnJ1bihteVBvc2l0aW9uTWFya2VyLl9pY29uLCBwb3MsIDAuMyk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBAY29uc3RydWN0b3IgTC5Qb3NBbmltYXRpb24oKVxuICogQ3JlYXRlcyBhIGBQb3NBbmltYXRpb25gIG9iamVjdC5cbiAqXG4gKi9cblxuZXhwb3J0IHZhciBQb3NBbmltYXRpb24gPSBFdmVudGVkLmV4dGVuZCh7XG5cblx0Ly8gQG1ldGhvZCBydW4oZWw6IEhUTUxFbGVtZW50LCBuZXdQb3M6IFBvaW50LCBkdXJhdGlvbj86IE51bWJlciwgZWFzZUxpbmVhcml0eT86IE51bWJlcilcblx0Ly8gUnVuIGFuIGFuaW1hdGlvbiBvZiBhIGdpdmVuIGVsZW1lbnQgdG8gYSBuZXcgcG9zaXRpb24sIG9wdGlvbmFsbHkgc2V0dGluZ1xuXHQvLyBkdXJhdGlvbiBpbiBzZWNvbmRzIChgMC4yNWAgYnkgZGVmYXVsdCkgYW5kIGVhc2luZyBsaW5lYXJpdHkgZmFjdG9yICgzcmRcblx0Ly8gYXJndW1lbnQgb2YgdGhlIFtjdWJpYyBiZXppZXIgY3VydmVdKGh0dHBzOi8vY3ViaWMtYmV6aWVyLmNvbS8jMCwwLC41LDEpLFxuXHQvLyBgMC41YCBieSBkZWZhdWx0KS5cblx0cnVuOiBmdW5jdGlvbiAoZWwsIG5ld1BvcywgZHVyYXRpb24sIGVhc2VMaW5lYXJpdHkpIHtcblx0XHR0aGlzLnN0b3AoKTtcblxuXHRcdHRoaXMuX2VsID0gZWw7XG5cdFx0dGhpcy5faW5Qcm9ncmVzcyA9IHRydWU7XG5cdFx0dGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbiB8fCAwLjI1O1xuXHRcdHRoaXMuX2Vhc2VPdXRQb3dlciA9IDEgLyBNYXRoLm1heChlYXNlTGluZWFyaXR5IHx8IDAuNSwgMC4yKTtcblxuXHRcdHRoaXMuX3N0YXJ0UG9zID0gRG9tVXRpbC5nZXRQb3NpdGlvbihlbCk7XG5cdFx0dGhpcy5fb2Zmc2V0ID0gbmV3UG9zLnN1YnRyYWN0KHRoaXMuX3N0YXJ0UG9zKTtcblx0XHR0aGlzLl9zdGFydFRpbWUgPSArbmV3IERhdGUoKTtcblxuXHRcdC8vIEBldmVudCBzdGFydDogRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzXG5cdFx0dGhpcy5maXJlKCdzdGFydCcpO1xuXG5cdFx0dGhpcy5fYW5pbWF0ZSgpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc3RvcCgpXG5cdC8vIFN0b3BzIHRoZSBhbmltYXRpb24gKGlmIGN1cnJlbnRseSBydW5uaW5nKS5cblx0c3RvcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5faW5Qcm9ncmVzcykgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX3N0ZXAodHJ1ZSk7XG5cdFx0dGhpcy5fY29tcGxldGUoKTtcblx0fSxcblxuXHRfYW5pbWF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdC8vIGFuaW1hdGlvbiBsb29wXG5cdFx0dGhpcy5fYW5pbUlkID0gVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX2FuaW1hdGUsIHRoaXMpO1xuXHRcdHRoaXMuX3N0ZXAoKTtcblx0fSxcblxuXHRfc3RlcDogZnVuY3Rpb24gKHJvdW5kKSB7XG5cdFx0dmFyIGVsYXBzZWQgPSAoK25ldyBEYXRlKCkpIC0gdGhpcy5fc3RhcnRUaW1lLFxuXHRcdCAgICBkdXJhdGlvbiA9IHRoaXMuX2R1cmF0aW9uICogMTAwMDtcblxuXHRcdGlmIChlbGFwc2VkIDwgZHVyYXRpb24pIHtcblx0XHRcdHRoaXMuX3J1bkZyYW1lKHRoaXMuX2Vhc2VPdXQoZWxhcHNlZCAvIGR1cmF0aW9uKSwgcm91bmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9ydW5GcmFtZSgxKTtcblx0XHRcdHRoaXMuX2NvbXBsZXRlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9ydW5GcmFtZTogZnVuY3Rpb24gKHByb2dyZXNzLCByb3VuZCkge1xuXHRcdHZhciBwb3MgPSB0aGlzLl9zdGFydFBvcy5hZGQodGhpcy5fb2Zmc2V0Lm11bHRpcGx5QnkocHJvZ3Jlc3MpKTtcblx0XHRpZiAocm91bmQpIHtcblx0XHRcdHBvcy5fcm91bmQoKTtcblx0XHR9XG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbCwgcG9zKTtcblxuXHRcdC8vIEBldmVudCBzdGVwOiBFdmVudFxuXHRcdC8vIEZpcmVkIGNvbnRpbnVvdXNseSBkdXJpbmcgdGhlIGFuaW1hdGlvbi5cblx0XHR0aGlzLmZpcmUoJ3N0ZXAnKTtcblx0fSxcblxuXHRfY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltSWQpO1xuXG5cdFx0dGhpcy5faW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdC8vIEBldmVudCBlbmQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGVuZHMuXG5cdFx0dGhpcy5maXJlKCdlbmQnKTtcblx0fSxcblxuXHRfZWFzZU91dDogZnVuY3Rpb24gKHQpIHtcblx0XHRyZXR1cm4gMSAtIE1hdGgucG93KDEgLSB0LCB0aGlzLl9lYXNlT3V0UG93ZXIpO1xuXHR9XG59KTtcbiIsICJpbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7RXZlbnRlZH0gZnJvbSAnLi4vY29yZS9FdmVudHMnO1xyXG5pbXBvcnQge0VQU0czODU3fSBmcm9tICcuLi9nZW8vY3JzL0NSUy5FUFNHMzg1Nyc7XHJcbmltcG9ydCB7UG9pbnQsIHRvUG9pbnR9IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0IHtCb3VuZHMsIHRvQm91bmRzfSBmcm9tICcuLi9nZW9tZXRyeS9Cb3VuZHMnO1xyXG5pbXBvcnQge0xhdExuZywgdG9MYXRMbmd9IGZyb20gJy4uL2dlby9MYXRMbmcnO1xyXG5pbXBvcnQge0xhdExuZ0JvdW5kcywgdG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi9jb3JlL0Jyb3dzZXInO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi9kb20vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0IHtQb3NBbmltYXRpb259IGZyb20gJy4uL2RvbS9Qb3NBbmltYXRpb24nO1xyXG5cclxuLypcclxuICogQGNsYXNzIE1hcFxyXG4gKiBAYWthIEwuTWFwXHJcbiAqIEBpbmhlcml0cyBFdmVudGVkXHJcbiAqXHJcbiAqIFRoZSBjZW50cmFsIGNsYXNzIG9mIHRoZSBBUEkg4oCUIGl0IGlzIHVzZWQgdG8gY3JlYXRlIGEgbWFwIG9uIGEgcGFnZSBhbmQgbWFuaXB1bGF0ZSBpdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogLy8gaW5pdGlhbGl6ZSB0aGUgbWFwIG9uIHRoZSBcIm1hcFwiIGRpdiB3aXRoIGEgZ2l2ZW4gY2VudGVyIGFuZCB6b29tXHJcbiAqIHZhciBtYXAgPSBMLm1hcCgnbWFwJywge1xyXG4gKiBcdGNlbnRlcjogWzUxLjUwNSwgLTAuMDldLFxyXG4gKiBcdHpvb206IDEzXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICovXHJcblxyXG5leHBvcnQgdmFyIE1hcCA9IEV2ZW50ZWQuZXh0ZW5kKHtcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQHNlY3Rpb24gTWFwIFN0YXRlIE9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gY3JzOiBDUlMgPSBMLkNSUy5FUFNHMzg1N1xyXG5cdFx0Ly8gVGhlIFtDb29yZGluYXRlIFJlZmVyZW5jZSBTeXN0ZW1dKCNjcnMpIHRvIHVzZS4gRG9uJ3QgY2hhbmdlIHRoaXMgaWYgeW91J3JlIG5vdFxyXG5cdFx0Ly8gc3VyZSB3aGF0IGl0IG1lYW5zLlxyXG5cdFx0Y3JzOiBFUFNHMzg1NyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNlbnRlcjogTGF0TG5nID0gdW5kZWZpbmVkXHJcblx0XHQvLyBJbml0aWFsIGdlb2dyYXBoaWMgY2VudGVyIG9mIHRoZSBtYXBcclxuXHRcdGNlbnRlcjogdW5kZWZpbmVkLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gem9vbTogTnVtYmVyID0gdW5kZWZpbmVkXHJcblx0XHQvLyBJbml0aWFsIG1hcCB6b29tIGxldmVsXHJcblx0XHR6b29tOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBtaW5ab29tOiBOdW1iZXIgPSAqXHJcblx0XHQvLyBNaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcC5cclxuXHRcdC8vIElmIG5vdCBzcGVjaWZpZWQgYW5kIGF0IGxlYXN0IG9uZSBgR3JpZExheWVyYCBvciBgVGlsZUxheWVyYCBpcyBpbiB0aGUgbWFwLFxyXG5cdFx0Ly8gdGhlIGxvd2VzdCBvZiB0aGVpciBgbWluWm9vbWAgb3B0aW9ucyB3aWxsIGJlIHVzZWQgaW5zdGVhZC5cclxuXHRcdG1pblpvb206IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1heFpvb206IE51bWJlciA9ICpcclxuXHRcdC8vIE1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwLlxyXG5cdFx0Ly8gSWYgbm90IHNwZWNpZmllZCBhbmQgYXQgbGVhc3Qgb25lIGBHcmlkTGF5ZXJgIG9yIGBUaWxlTGF5ZXJgIGlzIGluIHRoZSBtYXAsXHJcblx0XHQvLyB0aGUgaGlnaGVzdCBvZiB0aGVpciBgbWF4Wm9vbWAgb3B0aW9ucyB3aWxsIGJlIHVzZWQgaW5zdGVhZC5cclxuXHRcdG1heFpvb206IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGxheWVyczogTGF5ZXJbXSA9IFtdXHJcblx0XHQvLyBBcnJheSBvZiBsYXllcnMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBtYXAgaW5pdGlhbGx5XHJcblx0XHRsYXllcnM6IFtdLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4Qm91bmRzOiBMYXRMbmdCb3VuZHMgPSBudWxsXHJcblx0XHQvLyBXaGVuIHRoaXMgb3B0aW9uIGlzIHNldCwgdGhlIG1hcCByZXN0cmljdHMgdGhlIHZpZXcgdG8gdGhlIGdpdmVuXHJcblx0XHQvLyBnZW9ncmFwaGljYWwgYm91bmRzLCBib3VuY2luZyB0aGUgdXNlciBiYWNrIGlmIHRoZSB1c2VyIHRyaWVzIHRvIHBhblxyXG5cdFx0Ly8gb3V0c2lkZSB0aGUgdmlldy4gVG8gc2V0IHRoZSByZXN0cmljdGlvbiBkeW5hbWljYWxseSwgdXNlXHJcblx0XHQvLyBbYHNldE1heEJvdW5kc2BdKCNtYXAtc2V0bWF4Ym91bmRzKSBtZXRob2QuXHJcblx0XHRtYXhCb3VuZHM6IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHJlbmRlcmVyOiBSZW5kZXJlciA9ICpcclxuXHRcdC8vIFRoZSBkZWZhdWx0IG1ldGhvZCBmb3IgZHJhd2luZyB2ZWN0b3IgbGF5ZXJzIG9uIHRoZSBtYXAuIGBMLlNWR2BcclxuXHRcdC8vIG9yIGBMLkNhbnZhc2AgYnkgZGVmYXVsdCBkZXBlbmRpbmcgb24gYnJvd3NlciBzdXBwb3J0LlxyXG5cdFx0cmVuZGVyZXI6IHVuZGVmaW5lZCxcclxuXHJcblxyXG5cdFx0Ly8gQHNlY3Rpb24gQW5pbWF0aW9uIE9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gem9vbUFuaW1hdGlvbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIG1hcCB6b29tIGFuaW1hdGlvbiBpcyBlbmFibGVkLiBCeSBkZWZhdWx0IGl0J3MgZW5hYmxlZFxyXG5cdFx0Ly8gaW4gYWxsIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBDU1MzIFRyYW5zaXRpb25zIGV4Y2VwdCBBbmRyb2lkLlxyXG5cdFx0em9vbUFuaW1hdGlvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21BbmltYXRpb25UaHJlc2hvbGQ6IE51bWJlciA9IDRcclxuXHRcdC8vIFdvbid0IGFuaW1hdGUgem9vbSBpZiB0aGUgem9vbSBkaWZmZXJlbmNlIGV4Y2VlZHMgdGhpcyB2YWx1ZS5cclxuXHRcdHpvb21BbmltYXRpb25UaHJlc2hvbGQ6IDQsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBmYWRlQW5pbWF0aW9uOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgdGlsZSBmYWRlIGFuaW1hdGlvbiBpcyBlbmFibGVkLiBCeSBkZWZhdWx0IGl0J3MgZW5hYmxlZFxyXG5cdFx0Ly8gaW4gYWxsIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBDU1MzIFRyYW5zaXRpb25zIGV4Y2VwdCBBbmRyb2lkLlxyXG5cdFx0ZmFkZUFuaW1hdGlvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1hcmtlclpvb21BbmltYXRpb246IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIG1hcmtlcnMgYW5pbWF0ZSB0aGVpciB6b29tIHdpdGggdGhlIHpvb20gYW5pbWF0aW9uLCBpZiBkaXNhYmxlZFxyXG5cdFx0Ly8gdGhleSB3aWxsIGRpc2FwcGVhciBmb3IgdGhlIGxlbmd0aCBvZiB0aGUgYW5pbWF0aW9uLiBCeSBkZWZhdWx0IGl0J3NcclxuXHRcdC8vIGVuYWJsZWQgaW4gYWxsIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBDU1MzIFRyYW5zaXRpb25zIGV4Y2VwdCBBbmRyb2lkLlxyXG5cdFx0bWFya2VyWm9vbUFuaW1hdGlvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHRyYW5zZm9ybTNETGltaXQ6IE51bWJlciA9IDJeMjNcclxuXHRcdC8vIERlZmluZXMgdGhlIG1heGltdW0gc2l6ZSBvZiBhIENTUyB0cmFuc2xhdGlvbiB0cmFuc2Zvcm0uIFRoZSBkZWZhdWx0XHJcblx0XHQvLyB2YWx1ZSBzaG91bGQgbm90IGJlIGNoYW5nZWQgdW5sZXNzIGEgd2ViIGJyb3dzZXIgcG9zaXRpb25zIGxheWVycyBpblxyXG5cdFx0Ly8gdGhlIHdyb25nIHBsYWNlIGFmdGVyIGRvaW5nIGEgbGFyZ2UgYHBhbkJ5YC5cclxuXHRcdHRyYW5zZm9ybTNETGltaXQ6IDgzODg2MDgsIC8vIFByZWNpc2lvbiBsaW1pdCBvZiBhIDMyLWJpdCBmbG9hdFxyXG5cclxuXHRcdC8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gem9vbVNuYXA6IE51bWJlciA9IDFcclxuXHRcdC8vIEZvcmNlcyB0aGUgbWFwJ3Mgem9vbSBsZXZlbCB0byBhbHdheXMgYmUgYSBtdWx0aXBsZSBvZiB0aGlzLCBwYXJ0aWN1bGFybHlcclxuXHRcdC8vIHJpZ2h0IGFmdGVyIGEgW2BmaXRCb3VuZHMoKWBdKCNtYXAtZml0Ym91bmRzKSBvciBhIHBpbmNoLXpvb20uXHJcblx0XHQvLyBCeSBkZWZhdWx0LCB0aGUgem9vbSBsZXZlbCBzbmFwcyB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyOyBsb3dlciB2YWx1ZXNcclxuXHRcdC8vIChlLmcuIGAwLjVgIG9yIGAwLjFgKSBhbGxvdyBmb3IgZ3JlYXRlciBncmFudWxhcml0eS4gQSB2YWx1ZSBvZiBgMGBcclxuXHRcdC8vIG1lYW5zIHRoZSB6b29tIGxldmVsIHdpbGwgbm90IGJlIHNuYXBwZWQgYWZ0ZXIgYGZpdEJvdW5kc2Agb3IgYSBwaW5jaC16b29tLlxyXG5cdFx0em9vbVNuYXA6IDEsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tRGVsdGE6IE51bWJlciA9IDFcclxuXHRcdC8vIENvbnRyb2xzIGhvdyBtdWNoIHRoZSBtYXAncyB6b29tIGxldmVsIHdpbGwgY2hhbmdlIGFmdGVyIGFcclxuXHRcdC8vIFtgem9vbUluKClgXSgjbWFwLXpvb21pbiksIFtgem9vbU91dCgpYF0oI21hcC16b29tb3V0KSwgcHJlc3NpbmcgYCtgXHJcblx0XHQvLyBvciBgLWAgb24gdGhlIGtleWJvYXJkLCBvciB1c2luZyB0aGUgW3pvb20gY29udHJvbHNdKCNjb250cm9sLXpvb20pLlxyXG5cdFx0Ly8gVmFsdWVzIHNtYWxsZXIgdGhhbiBgMWAgKGUuZy4gYDAuNWApIGFsbG93IGZvciBncmVhdGVyIGdyYW51bGFyaXR5LlxyXG5cdFx0em9vbURlbHRhOiAxLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdHJhY2tSZXNpemU6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSBtYXAgYXV0b21hdGljYWxseSBoYW5kbGVzIGJyb3dzZXIgd2luZG93IHJlc2l6ZSB0byB1cGRhdGUgaXRzZWxmLlxyXG5cdFx0dHJhY2tSZXNpemU6IHRydWVcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoaWQsIG9wdGlvbnMpIHsgLy8gKEhUTUxFbGVtZW50IG9yIFN0cmluZywgT2JqZWN0KVxyXG5cdFx0b3B0aW9ucyA9IFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcblx0XHQvLyBNYWtlIHN1cmUgdG8gYXNzaWduIGludGVybmFsIGZsYWdzIGF0IHRoZSBiZWdpbm5pbmcsXHJcblx0XHQvLyB0byBhdm9pZCBpbmNvbnNpc3RlbnQgc3RhdGUgaW4gc29tZSBlZGdlIGNhc2VzLlxyXG5cdFx0dGhpcy5faGFuZGxlcnMgPSBbXTtcclxuXHRcdHRoaXMuX2xheWVycyA9IHt9O1xyXG5cdFx0dGhpcy5fem9vbUJvdW5kTGF5ZXJzID0ge307XHJcblx0XHR0aGlzLl9zaXplQ2hhbmdlZCA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5faW5pdENvbnRhaW5lcihpZCk7XHJcblx0XHR0aGlzLl9pbml0TGF5b3V0KCk7XHJcblxyXG5cdFx0Ly8gaGFjayBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMTk4MFxyXG5cdFx0dGhpcy5fb25SZXNpemUgPSBVdGlsLmJpbmQodGhpcy5fb25SZXNpemUsIHRoaXMpO1xyXG5cclxuXHRcdHRoaXMuX2luaXRFdmVudHMoKTtcclxuXHJcblx0XHRpZiAob3B0aW9ucy5tYXhCb3VuZHMpIHtcclxuXHRcdFx0dGhpcy5zZXRNYXhCb3VuZHMob3B0aW9ucy5tYXhCb3VuZHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR0aGlzLl96b29tID0gdGhpcy5fbGltaXRab29tKG9wdGlvbnMuem9vbSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuY2VudGVyICYmIG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHRoaXMuc2V0Vmlldyh0b0xhdExuZyhvcHRpb25zLmNlbnRlciksIG9wdGlvbnMuem9vbSwge3Jlc2V0OiB0cnVlfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5jYWxsSW5pdEhvb2tzKCk7XHJcblxyXG5cdFx0Ly8gZG9uJ3QgYW5pbWF0ZSBvbiBicm93c2VycyB3aXRob3V0IGhhcmR3YXJlLWFjY2VsZXJhdGVkIHRyYW5zaXRpb25zIG9yIG9sZCBBbmRyb2lkL09wZXJhXHJcblx0XHR0aGlzLl96b29tQW5pbWF0ZWQgPSBEb21VdGlsLlRSQU5TSVRJT04gJiYgQnJvd3Nlci5hbnkzZCAmJiAhQnJvd3Nlci5tb2JpbGVPcGVyYSAmJlxyXG5cdFx0XHRcdHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uO1xyXG5cclxuXHRcdC8vIHpvb20gdHJhbnNpdGlvbnMgcnVuIHdpdGggdGhlIHNhbWUgZHVyYXRpb24gZm9yIGFsbCBsYXllcnMsIHNvIGlmIG9uZSBvZiB0cmFuc2l0aW9uZW5kIGV2ZW50c1xyXG5cdFx0Ly8gaGFwcGVucyBhZnRlciBzdGFydGluZyB6b29tIGFuaW1hdGlvbiAocHJvcGFnYXRpbmcgdG8gdGhlIG1hcCBwYW5lKSwgd2Uga25vdyB0aGF0IGl0IGVuZGVkIGdsb2JhbGx5XHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdHRoaXMuX2NyZWF0ZUFuaW1Qcm94eSgpO1xyXG5cdFx0XHREb21FdmVudC5vbih0aGlzLl9wcm94eSwgRG9tVXRpbC5UUkFOU0lUSU9OX0VORCwgdGhpcy5fY2F0Y2hUcmFuc2l0aW9uRW5kLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9hZGRMYXllcnModGhpcy5vcHRpb25zLmxheWVycyk7XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIEBzZWN0aW9uIE1ldGhvZHMgZm9yIG1vZGlmeWluZyBtYXAgc3RhdGVcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRWaWV3KGNlbnRlcjogTGF0TG5nLCB6b29tOiBOdW1iZXIsIG9wdGlvbnM/OiBab29tL3BhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIHZpZXcgb2YgdGhlIG1hcCAoZ2VvZ3JhcGhpY2FsIGNlbnRlciBhbmQgem9vbSkgd2l0aCB0aGUgZ2l2ZW5cclxuXHQvLyBhbmltYXRpb24gb3B0aW9ucy5cclxuXHRzZXRWaWV3OiBmdW5jdGlvbiAoY2VudGVyLCB6b29tLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB0aGlzLl9saW1pdFpvb20oem9vbSk7XHJcblx0XHRjZW50ZXIgPSB0aGlzLl9saW1pdENlbnRlcih0b0xhdExuZyhjZW50ZXIpLCB6b29tLCB0aGlzLm9wdGlvbnMubWF4Qm91bmRzKTtcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuXHRcdHRoaXMuX3N0b3AoKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbG9hZGVkICYmICFvcHRpb25zLnJlc2V0ICYmIG9wdGlvbnMgIT09IHRydWUpIHtcclxuXHJcblx0XHRcdGlmIChvcHRpb25zLmFuaW1hdGUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdG9wdGlvbnMuem9vbSA9IFV0aWwuZXh0ZW5kKHthbmltYXRlOiBvcHRpb25zLmFuaW1hdGV9LCBvcHRpb25zLnpvb20pO1xyXG5cdFx0XHRcdG9wdGlvbnMucGFuID0gVXRpbC5leHRlbmQoe2FuaW1hdGU6IG9wdGlvbnMuYW5pbWF0ZSwgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb259LCBvcHRpb25zLnBhbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHRyeSBhbmltYXRpbmcgcGFuIG9yIHpvb21cclxuXHRcdFx0dmFyIG1vdmVkID0gKHRoaXMuX3pvb20gIT09IHpvb20pID9cclxuXHRcdFx0XHR0aGlzLl90cnlBbmltYXRlZFpvb20gJiYgdGhpcy5fdHJ5QW5pbWF0ZWRab29tKGNlbnRlciwgem9vbSwgb3B0aW9ucy56b29tKSA6XHJcblx0XHRcdFx0dGhpcy5fdHJ5QW5pbWF0ZWRQYW4oY2VudGVyLCBvcHRpb25zLnBhbik7XHJcblxyXG5cdFx0XHRpZiAobW92ZWQpIHtcclxuXHRcdFx0XHQvLyBwcmV2ZW50IHJlc2l6ZSBoYW5kbGVyIGNhbGwsIHRoZSB2aWV3IHdpbGwgcmVmcmVzaCBhZnRlciBhbmltYXRpb24gYW55d2F5XHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lcik7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBhbmltYXRpb24gZGlkbid0IHN0YXJ0LCBqdXN0IHJlc2V0IHRoZSBtYXAgdmlld1xyXG5cdFx0dGhpcy5fcmVzZXRWaWV3KGNlbnRlciwgem9vbSwgb3B0aW9ucy5wYW4gJiYgb3B0aW9ucy5wYW4ubm9Nb3ZlU3RhcnQpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0Wm9vbSh6b29tOiBOdW1iZXIsIG9wdGlvbnM/OiBab29tL3BhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIHpvb20gb2YgdGhlIG1hcC5cclxuXHRzZXRab29tOiBmdW5jdGlvbiAoem9vbSwgb3B0aW9ucykge1xyXG5cdFx0aWYgKCF0aGlzLl9sb2FkZWQpIHtcclxuXHRcdFx0dGhpcy5fem9vbSA9IHpvb207XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuc2V0Vmlldyh0aGlzLmdldENlbnRlcigpLCB6b29tLCB7em9vbTogb3B0aW9uc30pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgem9vbUluKGRlbHRhPzogTnVtYmVyLCBvcHRpb25zPzogWm9vbSBvcHRpb25zKTogdGhpc1xyXG5cdC8vIEluY3JlYXNlcyB0aGUgem9vbSBvZiB0aGUgbWFwIGJ5IGBkZWx0YWAgKFtgem9vbURlbHRhYF0oI21hcC16b29tZGVsdGEpIGJ5IGRlZmF1bHQpLlxyXG5cdHpvb21JbjogZnVuY3Rpb24gKGRlbHRhLCBvcHRpb25zKSB7XHJcblx0XHRkZWx0YSA9IGRlbHRhIHx8IChCcm93c2VyLmFueTNkID8gdGhpcy5vcHRpb25zLnpvb21EZWx0YSA6IDEpO1xyXG5cdFx0cmV0dXJuIHRoaXMuc2V0Wm9vbSh0aGlzLl96b29tICsgZGVsdGEsIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgem9vbU91dChkZWx0YT86IE51bWJlciwgb3B0aW9ucz86IFpvb20gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBEZWNyZWFzZXMgdGhlIHpvb20gb2YgdGhlIG1hcCBieSBgZGVsdGFgIChbYHpvb21EZWx0YWBdKCNtYXAtem9vbWRlbHRhKSBieSBkZWZhdWx0KS5cclxuXHR6b29tT3V0OiBmdW5jdGlvbiAoZGVsdGEsIG9wdGlvbnMpIHtcclxuXHRcdGRlbHRhID0gZGVsdGEgfHwgKEJyb3dzZXIuYW55M2QgPyB0aGlzLm9wdGlvbnMuem9vbURlbHRhIDogMSk7XHJcblx0XHRyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20gLSBkZWx0YSwgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRab29tQXJvdW5kKGxhdGxuZzogTGF0TG5nLCB6b29tOiBOdW1iZXIsIG9wdGlvbnM6IFpvb20gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBab29tcyB0aGUgbWFwIHdoaWxlIGtlZXBpbmcgYSBzcGVjaWZpZWQgZ2VvZ3JhcGhpY2FsIHBvaW50IG9uIHRoZSBtYXBcclxuXHQvLyBzdGF0aW9uYXJ5IChlLmcuIHVzZWQgaW50ZXJuYWxseSBmb3Igc2Nyb2xsIHpvb20gYW5kIGRvdWJsZS1jbGljayB6b29tKS5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIHNldFpvb21Bcm91bmQob2Zmc2V0OiBQb2ludCwgem9vbTogTnVtYmVyLCBvcHRpb25zOiBab29tIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gWm9vbXMgdGhlIG1hcCB3aGlsZSBrZWVwaW5nIGEgc3BlY2lmaWVkIHBpeGVsIG9uIHRoZSBtYXAgKHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIpIHN0YXRpb25hcnkuXHJcblx0c2V0Wm9vbUFyb3VuZDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHNjYWxlID0gdGhpcy5nZXRab29tU2NhbGUoem9vbSksXHJcblx0XHQgICAgdmlld0hhbGYgPSB0aGlzLmdldFNpemUoKS5kaXZpZGVCeSgyKSxcclxuXHRcdCAgICBjb250YWluZXJQb2ludCA9IGxhdGxuZyBpbnN0YW5jZW9mIFBvaW50ID8gbGF0bG5nIDogdGhpcy5sYXRMbmdUb0NvbnRhaW5lclBvaW50KGxhdGxuZyksXHJcblxyXG5cdFx0ICAgIGNlbnRlck9mZnNldCA9IGNvbnRhaW5lclBvaW50LnN1YnRyYWN0KHZpZXdIYWxmKS5tdWx0aXBseUJ5KDEgLSAxIC8gc2NhbGUpLFxyXG5cdFx0ICAgIG5ld0NlbnRlciA9IHRoaXMuY29udGFpbmVyUG9pbnRUb0xhdExuZyh2aWV3SGFsZi5hZGQoY2VudGVyT2Zmc2V0KSk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuc2V0VmlldyhuZXdDZW50ZXIsIHpvb20sIHt6b29tOiBvcHRpb25zfSk7XHJcblx0fSxcclxuXHJcblx0X2dldEJvdW5kc0NlbnRlclpvb206IGZ1bmN0aW9uIChib3VuZHMsIG9wdGlvbnMpIHtcclxuXHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdGJvdW5kcyA9IGJvdW5kcy5nZXRCb3VuZHMgPyBib3VuZHMuZ2V0Qm91bmRzKCkgOiB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdHZhciBwYWRkaW5nVEwgPSB0b1BvaW50KG9wdGlvbnMucGFkZGluZ1RvcExlZnQgfHwgb3B0aW9ucy5wYWRkaW5nIHx8IFswLCAwXSksXHJcblx0XHQgICAgcGFkZGluZ0JSID0gdG9Qb2ludChvcHRpb25zLnBhZGRpbmdCb3R0b21SaWdodCB8fCBvcHRpb25zLnBhZGRpbmcgfHwgWzAsIDBdKSxcclxuXHJcblx0XHQgICAgem9vbSA9IHRoaXMuZ2V0Qm91bmRzWm9vbShib3VuZHMsIGZhbHNlLCBwYWRkaW5nVEwuYWRkKHBhZGRpbmdCUikpO1xyXG5cclxuXHRcdHpvb20gPSAodHlwZW9mIG9wdGlvbnMubWF4Wm9vbSA9PT0gJ251bWJlcicpID8gTWF0aC5taW4ob3B0aW9ucy5tYXhab29tLCB6b29tKSA6IHpvb207XHJcblxyXG5cdFx0aWYgKHpvb20gPT09IEluZmluaXR5KSB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0Y2VudGVyOiBib3VuZHMuZ2V0Q2VudGVyKCksXHJcblx0XHRcdFx0em9vbTogem9vbVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBwYWRkaW5nT2Zmc2V0ID0gcGFkZGluZ0JSLnN1YnRyYWN0KHBhZGRpbmdUTCkuZGl2aWRlQnkoMiksXHJcblxyXG5cdFx0ICAgIHN3UG9pbnQgPSB0aGlzLnByb2plY3QoYm91bmRzLmdldFNvdXRoV2VzdCgpLCB6b29tKSxcclxuXHRcdCAgICBuZVBvaW50ID0gdGhpcy5wcm9qZWN0KGJvdW5kcy5nZXROb3J0aEVhc3QoKSwgem9vbSksXHJcblx0XHQgICAgY2VudGVyID0gdGhpcy51bnByb2plY3Qoc3dQb2ludC5hZGQobmVQb2ludCkuZGl2aWRlQnkoMikuYWRkKHBhZGRpbmdPZmZzZXQpLCB6b29tKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjZW50ZXI6IGNlbnRlcixcclxuXHRcdFx0em9vbTogem9vbVxyXG5cdFx0fTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZpdEJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IGZpdEJvdW5kcyBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgYSBtYXAgdmlldyB0aGF0IGNvbnRhaW5zIHRoZSBnaXZlbiBnZW9ncmFwaGljYWwgYm91bmRzIHdpdGggdGhlXHJcblx0Ly8gbWF4aW11bSB6b29tIGxldmVsIHBvc3NpYmxlLlxyXG5cdGZpdEJvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cclxuXHRcdGJvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGJvdW5kcyk7XHJcblxyXG5cdFx0aWYgKCFib3VuZHMuaXNWYWxpZCgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignQm91bmRzIGFyZSBub3QgdmFsaWQuJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHRhcmdldCA9IHRoaXMuX2dldEJvdW5kc0NlbnRlclpvb20oYm91bmRzLCBvcHRpb25zKTtcclxuXHRcdHJldHVybiB0aGlzLnNldFZpZXcodGFyZ2V0LmNlbnRlciwgdGFyZ2V0Lnpvb20sIG9wdGlvbnMpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZml0V29ybGQob3B0aW9ucz86IGZpdEJvdW5kcyBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFNldHMgYSBtYXAgdmlldyB0aGF0IG1vc3RseSBjb250YWlucyB0aGUgd2hvbGUgd29ybGQgd2l0aCB0aGUgbWF4aW11bVxyXG5cdC8vIHpvb20gbGV2ZWwgcG9zc2libGUuXHJcblx0Zml0V29ybGQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5maXRCb3VuZHMoW1stOTAsIC0xODBdLCBbOTAsIDE4MF1dLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhblRvKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogUGFuIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gUGFucyB0aGUgbWFwIHRvIGEgZ2l2ZW4gY2VudGVyLlxyXG5cdHBhblRvOiBmdW5jdGlvbiAoY2VudGVyLCBvcHRpb25zKSB7IC8vIChMYXRMbmcpXHJcblx0XHRyZXR1cm4gdGhpcy5zZXRWaWV3KGNlbnRlciwgdGhpcy5fem9vbSwge3Bhbjogb3B0aW9uc30pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcGFuQnkob2Zmc2V0OiBQb2ludCwgb3B0aW9ucz86IFBhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFBhbnMgdGhlIG1hcCBieSBhIGdpdmVuIG51bWJlciBvZiBwaXhlbHMgKGFuaW1hdGVkKS5cclxuXHRwYW5CeTogZnVuY3Rpb24gKG9mZnNldCwgb3B0aW9ucykge1xyXG5cdFx0b2Zmc2V0ID0gdG9Qb2ludChvZmZzZXQpLnJvdW5kKCk7XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcblx0XHRpZiAoIW9mZnNldC54ICYmICFvZmZzZXQueSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0XHR9XHJcblx0XHQvLyBJZiB3ZSBwYW4gdG9vIGZhciwgQ2hyb21lIGdldHMgaXNzdWVzIHdpdGggdGlsZXNcclxuXHRcdC8vIGFuZCBtYWtlcyB0aGVtIGRpc2FwcGVhciBvciBhcHBlYXIgaW4gdGhlIHdyb25nIHBsYWNlIChzbGlnaHRseSBvZmZzZXQpICMyNjAyXHJcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlICE9PSB0cnVlICYmICF0aGlzLmdldFNpemUoKS5jb250YWlucyhvZmZzZXQpKSB7XHJcblx0XHRcdHRoaXMuX3Jlc2V0Vmlldyh0aGlzLnVucHJvamVjdCh0aGlzLnByb2plY3QodGhpcy5nZXRDZW50ZXIoKSkuYWRkKG9mZnNldCkpLCB0aGlzLmdldFpvb20oKSk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5fcGFuQW5pbSkge1xyXG5cdFx0XHR0aGlzLl9wYW5BbmltID0gbmV3IFBvc0FuaW1hdGlvbigpO1xyXG5cclxuXHRcdFx0dGhpcy5fcGFuQW5pbS5vbih7XHJcblx0XHRcdFx0J3N0ZXAnOiB0aGlzLl9vblBhblRyYW5zaXRpb25TdGVwLFxyXG5cdFx0XHRcdCdlbmQnOiB0aGlzLl9vblBhblRyYW5zaXRpb25FbmRcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZG9uJ3QgZmlyZSBtb3Zlc3RhcnQgaWYgYW5pbWF0aW5nIGluZXJ0aWFcclxuXHRcdGlmICghb3B0aW9ucy5ub01vdmVTdGFydCkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ21vdmVzdGFydCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGFuaW1hdGUgcGFuIHVubGVzcyBhbmltYXRlOiBmYWxzZSBzcGVjaWZpZWRcclxuXHRcdGlmIChvcHRpb25zLmFuaW1hdGUgIT09IGZhbHNlKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwUGFuZSwgJ2xlYWZsZXQtcGFuLWFuaW0nKTtcclxuXHJcblx0XHRcdHZhciBuZXdQb3MgPSB0aGlzLl9nZXRNYXBQYW5lUG9zKCkuc3VidHJhY3Qob2Zmc2V0KS5yb3VuZCgpO1xyXG5cdFx0XHR0aGlzLl9wYW5BbmltLnJ1bih0aGlzLl9tYXBQYW5lLCBuZXdQb3MsIG9wdGlvbnMuZHVyYXRpb24gfHwgMC4yNSwgb3B0aW9ucy5lYXNlTGluZWFyaXR5KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuX3Jhd1BhbkJ5KG9mZnNldCk7XHJcblx0XHRcdHRoaXMuZmlyZSgnbW92ZScpLmZpcmUoJ21vdmVlbmQnKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZseVRvKGxhdGxuZzogTGF0TG5nLCB6b29tPzogTnVtYmVyLCBvcHRpb25zPzogWm9vbS9wYW4gb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSB2aWV3IG9mIHRoZSBtYXAgKGdlb2dyYXBoaWNhbCBjZW50ZXIgYW5kIHpvb20pIHBlcmZvcm1pbmcgYSBzbW9vdGhcclxuXHQvLyBwYW4tem9vbSBhbmltYXRpb24uXHJcblx0Zmx5VG86IGZ1bmN0aW9uICh0YXJnZXRDZW50ZXIsIHRhcmdldFpvb20sIG9wdGlvbnMpIHtcclxuXHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdGlmIChvcHRpb25zLmFuaW1hdGUgPT09IGZhbHNlIHx8ICFCcm93c2VyLmFueTNkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNldFZpZXcodGFyZ2V0Q2VudGVyLCB0YXJnZXRab29tLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9zdG9wKCk7XHJcblxyXG5cdFx0dmFyIGZyb20gPSB0aGlzLnByb2plY3QodGhpcy5nZXRDZW50ZXIoKSksXHJcblx0XHQgICAgdG8gPSB0aGlzLnByb2plY3QodGFyZ2V0Q2VudGVyKSxcclxuXHRcdCAgICBzaXplID0gdGhpcy5nZXRTaXplKCksXHJcblx0XHQgICAgc3RhcnRab29tID0gdGhpcy5fem9vbTtcclxuXHJcblx0XHR0YXJnZXRDZW50ZXIgPSB0b0xhdExuZyh0YXJnZXRDZW50ZXIpO1xyXG5cdFx0dGFyZ2V0Wm9vbSA9IHRhcmdldFpvb20gPT09IHVuZGVmaW5lZCA/IHN0YXJ0Wm9vbSA6IHRhcmdldFpvb207XHJcblxyXG5cdFx0dmFyIHcwID0gTWF0aC5tYXgoc2l6ZS54LCBzaXplLnkpLFxyXG5cdFx0ICAgIHcxID0gdzAgKiB0aGlzLmdldFpvb21TY2FsZShzdGFydFpvb20sIHRhcmdldFpvb20pLFxyXG5cdFx0ICAgIHUxID0gKHRvLmRpc3RhbmNlVG8oZnJvbSkpIHx8IDEsXHJcblx0XHQgICAgcmhvID0gMS40MixcclxuXHRcdCAgICByaG8yID0gcmhvICogcmhvO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHIoaSkge1xyXG5cdFx0XHR2YXIgczEgPSBpID8gLTEgOiAxLFxyXG5cdFx0XHQgICAgczIgPSBpID8gdzEgOiB3MCxcclxuXHRcdFx0ICAgIHQxID0gdzEgKiB3MSAtIHcwICogdzAgKyBzMSAqIHJobzIgKiByaG8yICogdTEgKiB1MSxcclxuXHRcdFx0ICAgIGIxID0gMiAqIHMyICogcmhvMiAqIHUxLFxyXG5cdFx0XHQgICAgYiA9IHQxIC8gYjEsXHJcblx0XHRcdCAgICBzcSA9IE1hdGguc3FydChiICogYiArIDEpIC0gYjtcclxuXHJcblx0XHRcdCAgICAvLyB3b3JrYXJvdW5kIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gYnVnIHdoZW4gc3EgPSAwLCBsb2cgPSAtSW5maW5pdGUsXHJcblx0XHRcdCAgICAvLyB0aHVzIHRyaWdnZXJpbmcgYW4gaW5maW5pdGUgbG9vcCBpbiBmbHlUb1xyXG5cdFx0XHQgICAgdmFyIGxvZyA9IHNxIDwgMC4wMDAwMDAwMDEgPyAtMTggOiBNYXRoLmxvZyhzcSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gbG9nO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNpbmgobikgeyByZXR1cm4gKE1hdGguZXhwKG4pIC0gTWF0aC5leHAoLW4pKSAvIDI7IH1cclxuXHRcdGZ1bmN0aW9uIGNvc2gobikgeyByZXR1cm4gKE1hdGguZXhwKG4pICsgTWF0aC5leHAoLW4pKSAvIDI7IH1cclxuXHRcdGZ1bmN0aW9uIHRhbmgobikgeyByZXR1cm4gc2luaChuKSAvIGNvc2gobik7IH1cclxuXHJcblx0XHR2YXIgcjAgPSByKDApO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHcocykgeyByZXR1cm4gdzAgKiAoY29zaChyMCkgLyBjb3NoKHIwICsgcmhvICogcykpOyB9XHJcblx0XHRmdW5jdGlvbiB1KHMpIHsgcmV0dXJuIHcwICogKGNvc2gocjApICogdGFuaChyMCArIHJobyAqIHMpIC0gc2luaChyMCkpIC8gcmhvMjsgfVxyXG5cclxuXHRcdGZ1bmN0aW9uIGVhc2VPdXQodCkgeyByZXR1cm4gMSAtIE1hdGgucG93KDEgLSB0LCAxLjUpOyB9XHJcblxyXG5cdFx0dmFyIHN0YXJ0ID0gRGF0ZS5ub3coKSxcclxuXHRcdCAgICBTID0gKHIoMSkgLSByMCkgLyByaG8sXHJcblx0XHQgICAgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uID8gMTAwMCAqIG9wdGlvbnMuZHVyYXRpb24gOiAxMDAwICogUyAqIDAuODtcclxuXHJcblx0XHRmdW5jdGlvbiBmcmFtZSgpIHtcclxuXHRcdFx0dmFyIHQgPSAoRGF0ZS5ub3coKSAtIHN0YXJ0KSAvIGR1cmF0aW9uLFxyXG5cdFx0XHQgICAgcyA9IGVhc2VPdXQodCkgKiBTO1xyXG5cclxuXHRcdFx0aWYgKHQgPD0gMSkge1xyXG5cdFx0XHRcdHRoaXMuX2ZseVRvRnJhbWUgPSBVdGlsLnJlcXVlc3RBbmltRnJhbWUoZnJhbWUsIHRoaXMpO1xyXG5cclxuXHRcdFx0XHR0aGlzLl9tb3ZlKFxyXG5cdFx0XHRcdFx0dGhpcy51bnByb2plY3QoZnJvbS5hZGQodG8uc3VidHJhY3QoZnJvbSkubXVsdGlwbHlCeSh1KHMpIC8gdTEpKSwgc3RhcnRab29tKSxcclxuXHRcdFx0XHRcdHRoaXMuZ2V0U2NhbGVab29tKHcwIC8gdyhzKSwgc3RhcnRab29tKSxcclxuXHRcdFx0XHRcdHtmbHlUbzogdHJ1ZX0pO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzXHJcblx0XHRcdFx0XHQuX21vdmUodGFyZ2V0Q2VudGVyLCB0YXJnZXRab29tKVxyXG5cdFx0XHRcdFx0Ll9tb3ZlRW5kKHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbW92ZVN0YXJ0KHRydWUsIG9wdGlvbnMubm9Nb3ZlU3RhcnQpO1xyXG5cclxuXHRcdGZyYW1lLmNhbGwodGhpcyk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGZseVRvQm91bmRzKGJvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogZml0Qm91bmRzIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgdmlldyBvZiB0aGUgbWFwIHdpdGggYSBzbW9vdGggYW5pbWF0aW9uIGxpa2UgW2BmbHlUb2BdKCNtYXAtZmx5dG8pLFxyXG5cdC8vIGJ1dCB0YWtlcyBhIGJvdW5kcyBwYXJhbWV0ZXIgbGlrZSBbYGZpdEJvdW5kc2BdKCNtYXAtZml0Ym91bmRzKS5cclxuXHRmbHlUb0JvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cdFx0dmFyIHRhcmdldCA9IHRoaXMuX2dldEJvdW5kc0NlbnRlclpvb20oYm91bmRzLCBvcHRpb25zKTtcclxuXHRcdHJldHVybiB0aGlzLmZseVRvKHRhcmdldC5jZW50ZXIsIHRhcmdldC56b29tLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldE1heEJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcyk6IHRoaXNcclxuXHQvLyBSZXN0cmljdHMgdGhlIG1hcCB2aWV3IHRvIHRoZSBnaXZlbiBib3VuZHMgKHNlZSB0aGUgW21heEJvdW5kc10oI21hcC1tYXhib3VuZHMpIG9wdGlvbikuXHJcblx0c2V0TWF4Qm91bmRzOiBmdW5jdGlvbiAoYm91bmRzKSB7XHJcblx0XHRib3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdGlmICh0aGlzLmxpc3RlbnMoJ21vdmVlbmQnLCB0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMpKSB7XHJcblx0XHRcdHRoaXMub2ZmKCdtb3ZlZW5kJywgdGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWJvdW5kcy5pc1ZhbGlkKCkpIHtcclxuXHRcdFx0dGhpcy5vcHRpb25zLm1heEJvdW5kcyA9IG51bGw7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMub3B0aW9ucy5tYXhCb3VuZHMgPSBib3VuZHM7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHR0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5vbignbW92ZWVuZCcsIHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRNaW5ab29tKHpvb206IE51bWJlcik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBsb3dlciBsaW1pdCBmb3IgdGhlIGF2YWlsYWJsZSB6b29tIGxldmVscyAoc2VlIHRoZSBbbWluWm9vbV0oI21hcC1taW56b29tKSBvcHRpb24pLlxyXG5cdHNldE1pblpvb206IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHR2YXIgb2xkWm9vbSA9IHRoaXMub3B0aW9ucy5taW5ab29tO1xyXG5cdFx0dGhpcy5vcHRpb25zLm1pblpvb20gPSB6b29tO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sb2FkZWQgJiYgb2xkWm9vbSAhPT0gem9vbSkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ3pvb21sZXZlbHNjaGFuZ2UnKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLmdldFpvb20oKSA8IHRoaXMub3B0aW9ucy5taW5ab29tKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2V0Wm9vbSh6b29tKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0TWF4Wm9vbSh6b29tOiBOdW1iZXIpOiB0aGlzXHJcblx0Ly8gU2V0cyB0aGUgdXBwZXIgbGltaXQgZm9yIHRoZSBhdmFpbGFibGUgem9vbSBsZXZlbHMgKHNlZSB0aGUgW21heFpvb21dKCNtYXAtbWF4em9vbSkgb3B0aW9uKS5cclxuXHRzZXRNYXhab29tOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0dmFyIG9sZFpvb20gPSB0aGlzLm9wdGlvbnMubWF4Wm9vbTtcclxuXHRcdHRoaXMub3B0aW9ucy5tYXhab29tID0gem9vbTtcclxuXHJcblx0XHRpZiAodGhpcy5fbG9hZGVkICYmIG9sZFpvb20gIT09IHpvb20pIHtcclxuXHRcdFx0dGhpcy5maXJlKCd6b29tbGV2ZWxzY2hhbmdlJyk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5nZXRab29tKCkgPiB0aGlzLm9wdGlvbnMubWF4Wm9vbSkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnNldFpvb20oem9vbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHBhbkluc2lkZUJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IFBhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIFBhbnMgdGhlIG1hcCB0byB0aGUgY2xvc2VzdCB2aWV3IHRoYXQgd291bGQgbGllIGluc2lkZSB0aGUgZ2l2ZW4gYm91bmRzIChpZiBpdCdzIG5vdCBhbHJlYWR5KSwgY29udHJvbGxpbmcgdGhlIGFuaW1hdGlvbiB1c2luZyB0aGUgb3B0aW9ucyBzcGVjaWZpYywgaWYgYW55LlxyXG5cdHBhbkluc2lkZUJvdW5kczogZnVuY3Rpb24gKGJvdW5kcywgb3B0aW9ucykge1xyXG5cdFx0dGhpcy5fZW5mb3JjaW5nQm91bmRzID0gdHJ1ZTtcclxuXHRcdHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpLFxyXG5cdFx0ICAgIG5ld0NlbnRlciA9IHRoaXMuX2xpbWl0Q2VudGVyKGNlbnRlciwgdGhpcy5fem9vbSwgdG9MYXRMbmdCb3VuZHMoYm91bmRzKSk7XHJcblxyXG5cdFx0aWYgKCFjZW50ZXIuZXF1YWxzKG5ld0NlbnRlcikpIHtcclxuXHRcdFx0dGhpcy5wYW5UbyhuZXdDZW50ZXIsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2VuZm9yY2luZ0JvdW5kcyA9IGZhbHNlO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwYW5JbnNpZGUobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBwYWRkaW5nIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gUGFucyB0aGUgbWFwIHRoZSBtaW5pbXVtIGFtb3VudCB0byBtYWtlIHRoZSBgbGF0bG5nYCB2aXNpYmxlLiBVc2VcclxuXHQvLyBwYWRkaW5nIG9wdGlvbnMgdG8gZml0IHRoZSBkaXNwbGF5IHRvIG1vcmUgcmVzdHJpY3RlZCBib3VuZHMuXHJcblx0Ly8gSWYgYGxhdGxuZ2AgaXMgYWxyZWFkeSB3aXRoaW4gdGhlIChvcHRpb25hbGx5IHBhZGRlZCkgZGlzcGxheSBib3VuZHMsXHJcblx0Ly8gdGhlIG1hcCB3aWxsIG5vdCBiZSBwYW5uZWQuXHJcblx0cGFuSW5zaWRlOiBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcblx0XHR2YXIgcGFkZGluZ1RMID0gdG9Qb2ludChvcHRpb25zLnBhZGRpbmdUb3BMZWZ0IHx8IG9wdGlvbnMucGFkZGluZyB8fCBbMCwgMF0pLFxyXG5cdFx0ICAgIHBhZGRpbmdCUiA9IHRvUG9pbnQob3B0aW9ucy5wYWRkaW5nQm90dG9tUmlnaHQgfHwgb3B0aW9ucy5wYWRkaW5nIHx8IFswLCAwXSksXHJcblx0XHQgICAgcGl4ZWxDZW50ZXIgPSB0aGlzLnByb2plY3QodGhpcy5nZXRDZW50ZXIoKSksXHJcblx0XHQgICAgcGl4ZWxQb2ludCA9IHRoaXMucHJvamVjdChsYXRsbmcpLFxyXG5cdFx0ICAgIHBpeGVsQm91bmRzID0gdGhpcy5nZXRQaXhlbEJvdW5kcygpLFxyXG5cdFx0ICAgIHBhZGRlZEJvdW5kcyA9IHRvQm91bmRzKFtwaXhlbEJvdW5kcy5taW4uYWRkKHBhZGRpbmdUTCksIHBpeGVsQm91bmRzLm1heC5zdWJ0cmFjdChwYWRkaW5nQlIpXSksXHJcblx0XHQgICAgcGFkZGVkU2l6ZSA9IHBhZGRlZEJvdW5kcy5nZXRTaXplKCk7XHJcblxyXG5cdFx0aWYgKCFwYWRkZWRCb3VuZHMuY29udGFpbnMocGl4ZWxQb2ludCkpIHtcclxuXHRcdFx0dGhpcy5fZW5mb3JjaW5nQm91bmRzID0gdHJ1ZTtcclxuXHRcdFx0dmFyIGNlbnRlck9mZnNldCA9IHBpeGVsUG9pbnQuc3VidHJhY3QocGFkZGVkQm91bmRzLmdldENlbnRlcigpKTtcclxuXHRcdFx0dmFyIG9mZnNldCA9IHBhZGRlZEJvdW5kcy5leHRlbmQocGl4ZWxQb2ludCkuZ2V0U2l6ZSgpLnN1YnRyYWN0KHBhZGRlZFNpemUpO1xyXG5cdFx0XHRwaXhlbENlbnRlci54ICs9IGNlbnRlck9mZnNldC54IDwgMCA/IC1vZmZzZXQueCA6IG9mZnNldC54O1xyXG5cdFx0XHRwaXhlbENlbnRlci55ICs9IGNlbnRlck9mZnNldC55IDwgMCA/IC1vZmZzZXQueSA6IG9mZnNldC55O1xyXG5cdFx0XHR0aGlzLnBhblRvKHRoaXMudW5wcm9qZWN0KHBpeGVsQ2VudGVyKSwgb3B0aW9ucyk7XHJcblx0XHRcdHRoaXMuX2VuZm9yY2luZ0JvdW5kcyA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBpbnZhbGlkYXRlU2l6ZShvcHRpb25zOiBab29tL3BhbiBvcHRpb25zKTogdGhpc1xyXG5cdC8vIENoZWNrcyBpZiB0aGUgbWFwIGNvbnRhaW5lciBzaXplIGNoYW5nZWQgYW5kIHVwZGF0ZXMgdGhlIG1hcCBpZiBzbyDigJRcclxuXHQvLyBjYWxsIGl0IGFmdGVyIHlvdSd2ZSBjaGFuZ2VkIHRoZSBtYXAgc2l6ZSBkeW5hbWljYWxseSwgYWxzbyBhbmltYXRpbmdcclxuXHQvLyBwYW4gYnkgZGVmYXVsdC4gSWYgYG9wdGlvbnMucGFuYCBpcyBgZmFsc2VgLCBwYW5uaW5nIHdpbGwgbm90IG9jY3VyLlxyXG5cdC8vIElmIGBvcHRpb25zLmRlYm91bmNlTW92ZWVuZGAgaXMgYHRydWVgLCBpdCB3aWxsIGRlbGF5IGBtb3ZlZW5kYCBldmVudCBzb1xyXG5cdC8vIHRoYXQgaXQgZG9lc24ndCBoYXBwZW4gb2Z0ZW4gZXZlbiBpZiB0aGUgbWV0aG9kIGlzIGNhbGxlZCBtYW55XHJcblx0Ly8gdGltZXMgaW4gYSByb3cuXHJcblxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgaW52YWxpZGF0ZVNpemUoYW5pbWF0ZTogQm9vbGVhbik6IHRoaXNcclxuXHQvLyBDaGVja3MgaWYgdGhlIG1hcCBjb250YWluZXIgc2l6ZSBjaGFuZ2VkIGFuZCB1cGRhdGVzIHRoZSBtYXAgaWYgc28g4oCUXHJcblx0Ly8gY2FsbCBpdCBhZnRlciB5b3UndmUgY2hhbmdlZCB0aGUgbWFwIHNpemUgZHluYW1pY2FsbHksIGFsc28gYW5pbWF0aW5nXHJcblx0Ly8gcGFuIGJ5IGRlZmF1bHQuXHJcblx0aW52YWxpZGF0ZVNpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRpZiAoIXRoaXMuX2xvYWRlZCkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdG9wdGlvbnMgPSBVdGlsLmV4dGVuZCh7XHJcblx0XHRcdGFuaW1hdGU6IGZhbHNlLFxyXG5cdFx0XHRwYW46IHRydWVcclxuXHRcdH0sIG9wdGlvbnMgPT09IHRydWUgPyB7YW5pbWF0ZTogdHJ1ZX0gOiBvcHRpb25zKTtcclxuXHJcblx0XHR2YXIgb2xkU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xyXG5cdFx0dGhpcy5fc2l6ZUNoYW5nZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5fbGFzdENlbnRlciA9IG51bGw7XHJcblxyXG5cdFx0dmFyIG5ld1NpemUgPSB0aGlzLmdldFNpemUoKSxcclxuXHRcdCAgICBvbGRDZW50ZXIgPSBvbGRTaXplLmRpdmlkZUJ5KDIpLnJvdW5kKCksXHJcblx0XHQgICAgbmV3Q2VudGVyID0gbmV3U2l6ZS5kaXZpZGVCeSgyKS5yb3VuZCgpLFxyXG5cdFx0ICAgIG9mZnNldCA9IG9sZENlbnRlci5zdWJ0cmFjdChuZXdDZW50ZXIpO1xyXG5cclxuXHRcdGlmICghb2Zmc2V0LnggJiYgIW9mZnNldC55KSB7IHJldHVybiB0aGlzOyB9XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuYW5pbWF0ZSAmJiBvcHRpb25zLnBhbikge1xyXG5cdFx0XHR0aGlzLnBhbkJ5KG9mZnNldCk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKG9wdGlvbnMucGFuKSB7XHJcblx0XHRcdFx0dGhpcy5fcmF3UGFuQnkob2Zmc2V0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5maXJlKCdtb3ZlJyk7XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy5kZWJvdW5jZU1vdmVlbmQpIHtcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy5fc2l6ZVRpbWVyKTtcclxuXHRcdFx0XHR0aGlzLl9zaXplVGltZXIgPSBzZXRUaW1lb3V0KFV0aWwuYmluZCh0aGlzLmZpcmUsIHRoaXMsICdtb3ZlZW5kJyksIDIwMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBAc2VjdGlvbiBNYXAgc3RhdGUgY2hhbmdlIGV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IHJlc2l6ZTogUmVzaXplRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcCBpcyByZXNpemVkLlxyXG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgncmVzaXplJywge1xyXG5cdFx0XHRvbGRTaXplOiBvbGRTaXplLFxyXG5cdFx0XHRuZXdTaXplOiBuZXdTaXplXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBNZXRob2RzIGZvciBtb2RpZnlpbmcgbWFwIHN0YXRlXHJcblx0Ly8gQG1ldGhvZCBzdG9wKCk6IHRoaXNcclxuXHQvLyBTdG9wcyB0aGUgY3VycmVudGx5IHJ1bm5pbmcgYHBhblRvYCBvciBgZmx5VG9gIGFuaW1hdGlvbiwgaWYgYW55LlxyXG5cdHN0b3A6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuc2V0Wm9vbSh0aGlzLl9saW1pdFpvb20odGhpcy5fem9vbSkpO1xyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuem9vbVNuYXApIHtcclxuXHRcdFx0dGhpcy5maXJlKCd2aWV3cmVzZXQnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLl9zdG9wKCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gR2VvbG9jYXRpb24gbWV0aG9kc1xyXG5cdC8vIEBtZXRob2QgbG9jYXRlKG9wdGlvbnM/OiBMb2NhdGUgb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBUcmllcyB0byBsb2NhdGUgdGhlIHVzZXIgdXNpbmcgdGhlIEdlb2xvY2F0aW9uIEFQSSwgZmlyaW5nIGEgW2Bsb2NhdGlvbmZvdW5kYF0oI21hcC1sb2NhdGlvbmZvdW5kKVxyXG5cdC8vIGV2ZW50IHdpdGggbG9jYXRpb24gZGF0YSBvbiBzdWNjZXNzIG9yIGEgW2Bsb2NhdGlvbmVycm9yYF0oI21hcC1sb2NhdGlvbmVycm9yKSBldmVudCBvbiBmYWlsdXJlLFxyXG5cdC8vIGFuZCBvcHRpb25hbGx5IHNldHMgdGhlIG1hcCB2aWV3IHRvIHRoZSB1c2VyJ3MgbG9jYXRpb24gd2l0aCByZXNwZWN0IHRvXHJcblx0Ly8gZGV0ZWN0aW9uIGFjY3VyYWN5IChvciB0byB0aGUgd29ybGQgdmlldyBpZiBnZW9sb2NhdGlvbiBmYWlsZWQpLlxyXG5cdC8vIE5vdGUgdGhhdCwgaWYgeW91ciBwYWdlIGRvZXNuJ3QgdXNlIEhUVFBTLCB0aGlzIG1ldGhvZCB3aWxsIGZhaWwgaW5cclxuXHQvLyBtb2Rlcm4gYnJvd3NlcnMgKFtDaHJvbWUgNTAgYW5kIG5ld2VyXShodHRwczovL3NpdGVzLmdvb2dsZS5jb20vYS9jaHJvbWl1bS5vcmcvZGV2L0hvbWUvY2hyb21pdW0tc2VjdXJpdHkvZGVwcmVjYXRpbmctcG93ZXJmdWwtZmVhdHVyZXMtb24taW5zZWN1cmUtb3JpZ2lucykpXHJcblx0Ly8gU2VlIGBMb2NhdGUgb3B0aW9uc2AgZm9yIG1vcmUgZGV0YWlscy5cclxuXHRsb2NhdGU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblxyXG5cdFx0b3B0aW9ucyA9IHRoaXMuX2xvY2F0ZU9wdGlvbnMgPSBVdGlsLmV4dGVuZCh7XHJcblx0XHRcdHRpbWVvdXQ6IDEwMDAwLFxyXG5cdFx0XHR3YXRjaDogZmFsc2VcclxuXHRcdFx0Ly8gc2V0VmlldzogZmFsc2VcclxuXHRcdFx0Ly8gbWF4Wm9vbTogPE51bWJlcj5cclxuXHRcdFx0Ly8gbWF4aW11bUFnZTogMFxyXG5cdFx0XHQvLyBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlXHJcblx0XHR9LCBvcHRpb25zKTtcclxuXHJcblx0XHRpZiAoISgnZ2VvbG9jYXRpb24nIGluIG5hdmlnYXRvcikpIHtcclxuXHRcdFx0dGhpcy5faGFuZGxlR2VvbG9jYXRpb25FcnJvcih7XHJcblx0XHRcdFx0Y29kZTogMCxcclxuXHRcdFx0XHRtZXNzYWdlOiAnR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZC4nXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgb25SZXNwb25zZSA9IFV0aWwuYmluZCh0aGlzLl9oYW5kbGVHZW9sb2NhdGlvblJlc3BvbnNlLCB0aGlzKSxcclxuXHRcdCAgICBvbkVycm9yID0gVXRpbC5iaW5kKHRoaXMuX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3IsIHRoaXMpO1xyXG5cclxuXHRcdGlmIChvcHRpb25zLndhdGNoKSB7XHJcblx0XHRcdHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCA9XHJcblx0XHRcdCAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24ob25SZXNwb25zZSwgb25FcnJvciwgb3B0aW9ucyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKG9uUmVzcG9uc2UsIG9uRXJyb3IsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzdG9wTG9jYXRlKCk6IHRoaXNcclxuXHQvLyBTdG9wcyB3YXRjaGluZyBsb2NhdGlvbiBwcmV2aW91c2x5IGluaXRpYXRlZCBieSBgbWFwLmxvY2F0ZSh7d2F0Y2g6IHRydWV9KWBcclxuXHQvLyBhbmQgYWJvcnRzIHJlc2V0dGluZyB0aGUgbWFwIHZpZXcgaWYgbWFwLmxvY2F0ZSB3YXMgY2FsbGVkIHdpdGhcclxuXHQvLyBge3NldFZpZXc6IHRydWV9YC5cclxuXHRzdG9wTG9jYXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uICYmIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKSB7XHJcblx0XHRcdG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5fbG9jYXRlT3B0aW9ucykge1xyXG5cdFx0XHR0aGlzLl9sb2NhdGVPcHRpb25zLnNldFZpZXcgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVHZW9sb2NhdGlvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdGlmICghdGhpcy5fY29udGFpbmVyLl9sZWFmbGV0X2lkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciBjID0gZXJyb3IuY29kZSxcclxuXHRcdCAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fFxyXG5cdFx0ICAgICAgICAgICAgKGMgPT09IDEgPyAncGVybWlzc2lvbiBkZW5pZWQnIDpcclxuXHRcdCAgICAgICAgICAgIChjID09PSAyID8gJ3Bvc2l0aW9uIHVuYXZhaWxhYmxlJyA6ICd0aW1lb3V0JykpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sb2NhdGVPcHRpb25zLnNldFZpZXcgJiYgIXRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHR0aGlzLmZpdFdvcmxkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQHNlY3Rpb24gTG9jYXRpb24gZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgbG9jYXRpb25lcnJvcjogRXJyb3JFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBnZW9sb2NhdGlvbiAodXNpbmcgdGhlIFtgbG9jYXRlYF0oI21hcC1sb2NhdGUpIG1ldGhvZCkgZmFpbGVkLlxyXG5cdFx0dGhpcy5maXJlKCdsb2NhdGlvbmVycm9yJywge1xyXG5cdFx0XHRjb2RlOiBjLFxyXG5cdFx0XHRtZXNzYWdlOiAnR2VvbG9jYXRpb24gZXJyb3I6ICcgKyBtZXNzYWdlICsgJy4nXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlR2VvbG9jYXRpb25SZXNwb25zZTogZnVuY3Rpb24gKHBvcykge1xyXG5cdFx0aWYgKCF0aGlzLl9jb250YWluZXIuX2xlYWZsZXRfaWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dmFyIGxhdCA9IHBvcy5jb29yZHMubGF0aXR1ZGUsXHJcblx0XHQgICAgbG5nID0gcG9zLmNvb3Jkcy5sb25naXR1ZGUsXHJcblx0XHQgICAgbGF0bG5nID0gbmV3IExhdExuZyhsYXQsIGxuZyksXHJcblx0XHQgICAgYm91bmRzID0gbGF0bG5nLnRvQm91bmRzKHBvcy5jb29yZHMuYWNjdXJhY3kgKiAyKSxcclxuXHRcdCAgICBvcHRpb25zID0gdGhpcy5fbG9jYXRlT3B0aW9ucztcclxuXHJcblx0XHRpZiAob3B0aW9ucy5zZXRWaWV3KSB7XHJcblx0XHRcdHZhciB6b29tID0gdGhpcy5nZXRCb3VuZHNab29tKGJvdW5kcyk7XHJcblx0XHRcdHRoaXMuc2V0VmlldyhsYXRsbmcsIG9wdGlvbnMubWF4Wm9vbSA/IE1hdGgubWluKHpvb20sIG9wdGlvbnMubWF4Wm9vbSkgOiB6b29tKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZGF0YSA9IHtcclxuXHRcdFx0bGF0bG5nOiBsYXRsbmcsXHJcblx0XHRcdGJvdW5kczogYm91bmRzLFxyXG5cdFx0XHR0aW1lc3RhbXA6IHBvcy50aW1lc3RhbXBcclxuXHRcdH07XHJcblxyXG5cdFx0Zm9yICh2YXIgaSBpbiBwb3MuY29vcmRzKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgcG9zLmNvb3Jkc1tpXSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0XHRkYXRhW2ldID0gcG9zLmNvb3Jkc1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBldmVudCBsb2NhdGlvbmZvdW5kOiBMb2NhdGlvbkV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGdlb2xvY2F0aW9uICh1c2luZyB0aGUgW2Bsb2NhdGVgXSgjbWFwLWxvY2F0ZSkgbWV0aG9kKVxyXG5cdFx0Ly8gd2VudCBzdWNjZXNzZnVsbHkuXHJcblx0XHR0aGlzLmZpcmUoJ2xvY2F0aW9uZm91bmQnLCBkYXRhKTtcclxuXHR9LFxyXG5cclxuXHQvLyBUT0RPIEFwcHJvcHJpYXRlIGRvY3Mgc2VjdGlvbj9cclxuXHQvLyBAc2VjdGlvbiBPdGhlciBNZXRob2RzXHJcblx0Ly8gQG1ldGhvZCBhZGRIYW5kbGVyKG5hbWU6IFN0cmluZywgSGFuZGxlckNsYXNzOiBGdW5jdGlvbik6IHRoaXNcclxuXHQvLyBBZGRzIGEgbmV3IGBIYW5kbGVyYCB0byB0aGUgbWFwLCBnaXZlbiBpdHMgbmFtZSBhbmQgY29uc3RydWN0b3IgZnVuY3Rpb24uXHJcblx0YWRkSGFuZGxlcjogZnVuY3Rpb24gKG5hbWUsIEhhbmRsZXJDbGFzcykge1xyXG5cdFx0aWYgKCFIYW5kbGVyQ2xhc3MpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHR2YXIgaGFuZGxlciA9IHRoaXNbbmFtZV0gPSBuZXcgSGFuZGxlckNsYXNzKHRoaXMpO1xyXG5cclxuXHRcdHRoaXMuX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9uc1tuYW1lXSkge1xyXG5cdFx0XHRoYW5kbGVyLmVuYWJsZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlKCk6IHRoaXNcclxuXHQvLyBEZXN0cm95cyB0aGUgbWFwIGFuZCBjbGVhcnMgYWxsIHJlbGF0ZWQgZXZlbnQgbGlzdGVuZXJzLlxyXG5cdHJlbW92ZTogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHRoaXMuX2luaXRFdmVudHModHJ1ZSk7XHJcblx0XHRpZiAodGhpcy5vcHRpb25zLm1heEJvdW5kcykgeyB0aGlzLm9mZignbW92ZWVuZCcsIHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyk7IH1cclxuXHJcblx0XHRpZiAodGhpcy5fY29udGFpbmVySWQgIT09IHRoaXMuX2NvbnRhaW5lci5fbGVhZmxldF9pZCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ01hcCBjb250YWluZXIgaXMgYmVpbmcgcmV1c2VkIGJ5IGFub3RoZXIgaW5zdGFuY2UnKTtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyB0aHJvd3MgZXJyb3IgaW4gSUU2LThcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2NvbnRhaW5lci5fbGVhZmxldF9pZDtcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2NvbnRhaW5lcklkO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHQvKmVzbGludC1kaXNhYmxlICovXHJcblx0XHRcdHRoaXMuX2NvbnRhaW5lci5fbGVhZmxldF9pZCA9IHVuZGVmaW5lZDtcclxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSAqL1xyXG5cdFx0XHR0aGlzLl9jb250YWluZXJJZCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5fbG9jYXRpb25XYXRjaElkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dGhpcy5zdG9wTG9jYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc3RvcCgpO1xyXG5cclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX21hcFBhbmUpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9jbGVhckNvbnRyb2xQb3MpIHtcclxuXHRcdFx0dGhpcy5fY2xlYXJDb250cm9sUG9zKCk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5fcmVzaXplUmVxdWVzdCkge1xyXG5cdFx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9yZXNpemVSZXF1ZXN0KTtcclxuXHRcdFx0dGhpcy5fcmVzaXplUmVxdWVzdCA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fY2xlYXJIYW5kbGVycygpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sb2FkZWQpIHtcclxuXHRcdFx0Ly8gQHNlY3Rpb24gTWFwIHN0YXRlIGNoYW5nZSBldmVudHNcclxuXHRcdFx0Ly8gQGV2ZW50IHVubG9hZDogRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIGlzIGRlc3Ryb3llZCB3aXRoIFtyZW1vdmVdKCNtYXAtcmVtb3ZlKSBtZXRob2QuXHJcblx0XHRcdHRoaXMuZmlyZSgndW5sb2FkJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGk7XHJcblx0XHRmb3IgKGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdHRoaXMuX2xheWVyc1tpXS5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHRcdGZvciAoaSBpbiB0aGlzLl9wYW5lcykge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9wYW5lc1tpXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJzID0gW107XHJcblx0XHR0aGlzLl9wYW5lcyA9IFtdO1xyXG5cdFx0ZGVsZXRlIHRoaXMuX21hcFBhbmU7XHJcblx0XHRkZWxldGUgdGhpcy5fcmVuZGVyZXI7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gT3RoZXIgTWV0aG9kc1xyXG5cdC8vIEBtZXRob2QgY3JlYXRlUGFuZShuYW1lOiBTdHJpbmcsIGNvbnRhaW5lcj86IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBDcmVhdGVzIGEgbmV3IFttYXAgcGFuZV0oI21hcC1wYW5lKSB3aXRoIHRoZSBnaXZlbiBuYW1lIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYWxyZWFkeSxcclxuXHQvLyB0aGVuIHJldHVybnMgaXQuIFRoZSBwYW5lIGlzIGNyZWF0ZWQgYXMgYSBjaGlsZCBvZiBgY29udGFpbmVyYCwgb3JcclxuXHQvLyBhcyBhIGNoaWxkIG9mIHRoZSBtYWluIG1hcCBwYW5lIGlmIG5vdCBzZXQuXHJcblx0Y3JlYXRlUGFuZTogZnVuY3Rpb24gKG5hbWUsIGNvbnRhaW5lcikge1xyXG5cdFx0dmFyIGNsYXNzTmFtZSA9ICdsZWFmbGV0LXBhbmUnICsgKG5hbWUgPyAnIGxlYWZsZXQtJyArIG5hbWUucmVwbGFjZSgnUGFuZScsICcnKSArICctcGFuZScgOiAnJyksXHJcblx0XHQgICAgcGFuZSA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUsIGNvbnRhaW5lciB8fCB0aGlzLl9tYXBQYW5lKTtcclxuXHJcblx0XHRpZiAobmFtZSkge1xyXG5cdFx0XHR0aGlzLl9wYW5lc1tuYW1lXSA9IHBhbmU7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcGFuZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAc2VjdGlvbiBNZXRob2RzIGZvciBHZXR0aW5nIE1hcCBTdGF0ZVxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENlbnRlcigpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgY2VudGVyIG9mIHRoZSBtYXAgdmlld1xyXG5cdGdldENlbnRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fY2hlY2tJZkxvYWRlZCgpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9sYXN0Q2VudGVyICYmICF0aGlzLl9tb3ZlZCgpKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9sYXN0Q2VudGVyLmNsb25lKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFpvb20oKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgY3VycmVudCB6b29tIGxldmVsIG9mIHRoZSBtYXAgdmlld1xyXG5cdGdldFpvb206IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl96b29tO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Qm91bmRzKCk6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgdGhlIGdlb2dyYXBoaWNhbCBib3VuZHMgdmlzaWJsZSBpbiB0aGUgY3VycmVudCBtYXAgdmlld1xyXG5cdGdldEJvdW5kczogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGJvdW5kcyA9IHRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxcclxuXHRcdCAgICBzdyA9IHRoaXMudW5wcm9qZWN0KGJvdW5kcy5nZXRCb3R0b21MZWZ0KCkpLFxyXG5cdFx0ICAgIG5lID0gdGhpcy51bnByb2plY3QoYm91bmRzLmdldFRvcFJpZ2h0KCkpO1xyXG5cclxuXHRcdHJldHVybiBuZXcgTGF0TG5nQm91bmRzKHN3LCBuZSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRNaW5ab29tKCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIG1pbmltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwIChpZiBzZXQgaW4gdGhlIGBtaW5ab29tYCBvcHRpb24gb2YgdGhlIG1hcCBvciBvZiBhbnkgbGF5ZXJzKSwgb3IgYDBgIGJ5IGRlZmF1bHQuXHJcblx0Z2V0TWluWm9vbTogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5taW5ab29tID09PSB1bmRlZmluZWQgPyB0aGlzLl9sYXllcnNNaW5ab29tIHx8IDAgOiB0aGlzLm9wdGlvbnMubWluWm9vbTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldE1heFpvb20oKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgbWF4aW11bSB6b29tIGxldmVsIG9mIHRoZSBtYXAgKGlmIHNldCBpbiB0aGUgYG1heFpvb21gIG9wdGlvbiBvZiB0aGUgbWFwIG9yIG9mIGFueSBsYXllcnMpLlxyXG5cdGdldE1heFpvb206IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMubWF4Wm9vbSA9PT0gdW5kZWZpbmVkID9cclxuXHRcdFx0KHRoaXMuX2xheWVyc01heFpvb20gPT09IHVuZGVmaW5lZCA/IEluZmluaXR5IDogdGhpcy5fbGF5ZXJzTWF4Wm9vbSkgOlxyXG5cdFx0XHR0aGlzLm9wdGlvbnMubWF4Wm9vbTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEJvdW5kc1pvb20oYm91bmRzOiBMYXRMbmdCb3VuZHMsIGluc2lkZT86IEJvb2xlYW4sIHBhZGRpbmc/OiBQb2ludCk6IE51bWJlclxyXG5cdC8vIFJldHVybnMgdGhlIG1heGltdW0gem9vbSBsZXZlbCBvbiB3aGljaCB0aGUgZ2l2ZW4gYm91bmRzIGZpdCB0byB0aGUgbWFwXHJcblx0Ly8gdmlldyBpbiBpdHMgZW50aXJldHkuIElmIGBpbnNpZGVgIChvcHRpb25hbCkgaXMgc2V0IHRvIGB0cnVlYCwgdGhlIG1ldGhvZFxyXG5cdC8vIGluc3RlYWQgcmV0dXJucyB0aGUgbWluaW11bSB6b29tIGxldmVsIG9uIHdoaWNoIHRoZSBtYXAgdmlldyBmaXRzIGludG9cclxuXHQvLyB0aGUgZ2l2ZW4gYm91bmRzIGluIGl0cyBlbnRpcmV0eS5cclxuXHRnZXRCb3VuZHNab29tOiBmdW5jdGlvbiAoYm91bmRzLCBpbnNpZGUsIHBhZGRpbmcpIHsgLy8gKExhdExuZ0JvdW5kc1ssIEJvb2xlYW4sIFBvaW50XSkgLT4gTnVtYmVyXHJcblx0XHRib3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cdFx0cGFkZGluZyA9IHRvUG9pbnQocGFkZGluZyB8fCBbMCwgMF0pO1xyXG5cclxuXHRcdHZhciB6b29tID0gdGhpcy5nZXRab29tKCkgfHwgMCxcclxuXHRcdCAgICBtaW4gPSB0aGlzLmdldE1pblpvb20oKSxcclxuXHRcdCAgICBtYXggPSB0aGlzLmdldE1heFpvb20oKSxcclxuXHRcdCAgICBudyA9IGJvdW5kcy5nZXROb3J0aFdlc3QoKSxcclxuXHRcdCAgICBzZSA9IGJvdW5kcy5nZXRTb3V0aEVhc3QoKSxcclxuXHRcdCAgICBzaXplID0gdGhpcy5nZXRTaXplKCkuc3VidHJhY3QocGFkZGluZyksXHJcblx0XHQgICAgYm91bmRzU2l6ZSA9IHRvQm91bmRzKHRoaXMucHJvamVjdChzZSwgem9vbSksIHRoaXMucHJvamVjdChudywgem9vbSkpLmdldFNpemUoKSxcclxuXHRcdCAgICBzbmFwID0gQnJvd3Nlci5hbnkzZCA/IHRoaXMub3B0aW9ucy56b29tU25hcCA6IDEsXHJcblx0XHQgICAgc2NhbGV4ID0gc2l6ZS54IC8gYm91bmRzU2l6ZS54LFxyXG5cdFx0ICAgIHNjYWxleSA9IHNpemUueSAvIGJvdW5kc1NpemUueSxcclxuXHRcdCAgICBzY2FsZSA9IGluc2lkZSA/IE1hdGgubWF4KHNjYWxleCwgc2NhbGV5KSA6IE1hdGgubWluKHNjYWxleCwgc2NhbGV5KTtcclxuXHJcblx0XHR6b29tID0gdGhpcy5nZXRTY2FsZVpvb20oc2NhbGUsIHpvb20pO1xyXG5cclxuXHRcdGlmIChzbmFwKSB7XHJcblx0XHRcdHpvb20gPSBNYXRoLnJvdW5kKHpvb20gLyAoc25hcCAvIDEwMCkpICogKHNuYXAgLyAxMDApOyAvLyBkb24ndCBqdW1wIGlmIHdpdGhpbiAxJSBvZiBhIHNuYXAgbGV2ZWxcclxuXHRcdFx0em9vbSA9IGluc2lkZSA/IE1hdGguY2VpbCh6b29tIC8gc25hcCkgKiBzbmFwIDogTWF0aC5mbG9vcih6b29tIC8gc25hcCkgKiBzbmFwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgem9vbSkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U2l6ZSgpOiBQb2ludFxyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgbWFwIGNvbnRhaW5lciAoaW4gcGl4ZWxzKS5cclxuXHRnZXRTaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX3NpemUgfHwgdGhpcy5fc2l6ZUNoYW5nZWQpIHtcclxuXHRcdFx0dGhpcy5fc2l6ZSA9IG5ldyBQb2ludChcclxuXHRcdFx0XHR0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGggfHwgMCxcclxuXHRcdFx0XHR0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0IHx8IDApO1xyXG5cclxuXHRcdFx0dGhpcy5fc2l6ZUNoYW5nZWQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLl9zaXplLmNsb25lKCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRQaXhlbEJvdW5kcygpOiBCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSBib3VuZHMgb2YgdGhlIGN1cnJlbnQgbWFwIHZpZXcgaW4gcHJvamVjdGVkIHBpeGVsXHJcblx0Ly8gY29vcmRpbmF0ZXMgKHNvbWV0aW1lcyB1c2VmdWwgaW4gbGF5ZXIgYW5kIG92ZXJsYXkgaW1wbGVtZW50YXRpb25zKS5cclxuXHRnZXRQaXhlbEJvdW5kczogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkge1xyXG5cdFx0dmFyIHRvcExlZnRQb2ludCA9IHRoaXMuX2dldFRvcExlZnRQb2ludChjZW50ZXIsIHpvb20pO1xyXG5cdFx0cmV0dXJuIG5ldyBCb3VuZHModG9wTGVmdFBvaW50LCB0b3BMZWZ0UG9pbnQuYWRkKHRoaXMuZ2V0U2l6ZSgpKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gVE9ETzogQ2hlY2sgc2VtYW50aWNzIC0gaXNuJ3QgdGhlIHBpeGVsIG9yaWdpbiB0aGUgMCwwIGNvb3JkIHJlbGF0aXZlIHRvXHJcblx0Ly8gdGhlIG1hcCBwYW5lPyBcImxlZnQgcG9pbnQgb2YgdGhlIG1hcCBsYXllclwiIGNhbiBiZSBjb25mdXNpbmcsIHNwZWNpYWxseVxyXG5cdC8vIHNpbmNlIHRoZXJlIGNhbiBiZSBuZWdhdGl2ZSBvZmZzZXRzLlxyXG5cdC8vIEBtZXRob2QgZ2V0UGl4ZWxPcmlnaW4oKTogUG9pbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBwcm9qZWN0ZWQgcGl4ZWwgY29vcmRpbmF0ZXMgb2YgdGhlIHRvcCBsZWZ0IHBvaW50IG9mXHJcblx0Ly8gdGhlIG1hcCBsYXllciAodXNlZnVsIGluIGN1c3RvbSBsYXllciBhbmQgb3ZlcmxheSBpbXBsZW1lbnRhdGlvbnMpLlxyXG5cdGdldFBpeGVsT3JpZ2luOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl9jaGVja0lmTG9hZGVkKCk7XHJcblx0XHRyZXR1cm4gdGhpcy5fcGl4ZWxPcmlnaW47XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRQaXhlbFdvcmxkQm91bmRzKHpvb20/OiBOdW1iZXIpOiBCb3VuZHNcclxuXHQvLyBSZXR1cm5zIHRoZSB3b3JsZCdzIGJvdW5kcyBpbiBwaXhlbCBjb29yZGluYXRlcyBmb3Igem9vbSBsZXZlbCBgem9vbWAuXHJcblx0Ly8gSWYgYHpvb21gIGlzIG9taXR0ZWQsIHRoZSBtYXAncyBjdXJyZW50IHpvb20gbGV2ZWwgaXMgdXNlZC5cclxuXHRnZXRQaXhlbFdvcmxkQm91bmRzOiBmdW5jdGlvbiAoem9vbSkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMuZ2V0UHJvamVjdGVkQm91bmRzKHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuZ2V0Wm9vbSgpIDogem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQHNlY3Rpb24gT3RoZXIgTWV0aG9kc1xyXG5cclxuXHQvLyBAbWV0aG9kIGdldFBhbmUocGFuZTogU3RyaW5nfEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIGEgW21hcCBwYW5lXSgjbWFwLXBhbmUpLCBnaXZlbiBpdHMgbmFtZSBvciBpdHMgSFRNTCBlbGVtZW50IChpdHMgaWRlbnRpdHkpLlxyXG5cdGdldFBhbmU6IGZ1bmN0aW9uIChwYW5lKSB7XHJcblx0XHRyZXR1cm4gdHlwZW9mIHBhbmUgPT09ICdzdHJpbmcnID8gdGhpcy5fcGFuZXNbcGFuZV0gOiBwYW5lO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0UGFuZXMoKTogT2JqZWN0XHJcblx0Ly8gUmV0dXJucyBhIHBsYWluIG9iamVjdCBjb250YWluaW5nIHRoZSBuYW1lcyBvZiBhbGwgW3BhbmVzXSgjbWFwLXBhbmUpIGFzIGtleXMgYW5kXHJcblx0Ly8gdGhlIHBhbmVzIGFzIHZhbHVlcy5cclxuXHRnZXRQYW5lczogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3BhbmVzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBtYXAuXHJcblx0Z2V0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBAc2VjdGlvbiBDb252ZXJzaW9uIE1ldGhvZHNcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRab29tU2NhbGUodG9ab29tOiBOdW1iZXIsIGZyb21ab29tOiBOdW1iZXIpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSBzY2FsZSBmYWN0b3IgdG8gYmUgYXBwbGllZCB0byBhIG1hcCB0cmFuc2l0aW9uIGZyb20gem9vbSBsZXZlbFxyXG5cdC8vIGBmcm9tWm9vbWAgdG8gYHRvWm9vbWAuIFVzZWQgaW50ZXJuYWxseSB0byBoZWxwIHdpdGggem9vbSBhbmltYXRpb25zLlxyXG5cdGdldFpvb21TY2FsZTogZnVuY3Rpb24gKHRvWm9vbSwgZnJvbVpvb20pIHtcclxuXHRcdC8vIFRPRE8gcmVwbGFjZSB3aXRoIHVuaXZlcnNhbCBpbXBsZW1lbnRhdGlvbiBhZnRlciByZWZhY3RvcmluZyBwcm9qZWN0aW9uc1xyXG5cdFx0dmFyIGNycyA9IHRoaXMub3B0aW9ucy5jcnM7XHJcblx0XHRmcm9tWm9vbSA9IGZyb21ab29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogZnJvbVpvb207XHJcblx0XHRyZXR1cm4gY3JzLnNjYWxlKHRvWm9vbSkgLyBjcnMuc2NhbGUoZnJvbVpvb20pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0U2NhbGVab29tKHNjYWxlOiBOdW1iZXIsIGZyb21ab29tOiBOdW1iZXIpOiBOdW1iZXJcclxuXHQvLyBSZXR1cm5zIHRoZSB6b29tIGxldmVsIHRoYXQgdGhlIG1hcCB3b3VsZCBlbmQgdXAgYXQsIGlmIGl0IGlzIGF0IGBmcm9tWm9vbWBcclxuXHQvLyBsZXZlbCBhbmQgZXZlcnl0aGluZyBpcyBzY2FsZWQgYnkgYSBmYWN0b3Igb2YgYHNjYWxlYC4gSW52ZXJzZSBvZlxyXG5cdC8vIFtgZ2V0Wm9vbVNjYWxlYF0oI21hcC1nZXRab29tU2NhbGUpLlxyXG5cdGdldFNjYWxlWm9vbTogZnVuY3Rpb24gKHNjYWxlLCBmcm9tWm9vbSkge1xyXG5cdFx0dmFyIGNycyA9IHRoaXMub3B0aW9ucy5jcnM7XHJcblx0XHRmcm9tWm9vbSA9IGZyb21ab29tID09PSB1bmRlZmluZWQgPyB0aGlzLl96b29tIDogZnJvbVpvb207XHJcblx0XHR2YXIgem9vbSA9IGNycy56b29tKHNjYWxlICogY3JzLnNjYWxlKGZyb21ab29tKSk7XHJcblx0XHRyZXR1cm4gaXNOYU4oem9vbSkgPyBJbmZpbml0eSA6IHpvb207XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBwcm9qZWN0KGxhdGxuZzogTGF0TG5nLCB6b29tOiBOdW1iZXIpOiBQb2ludFxyXG5cdC8vIFByb2plY3RzIGEgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgYExhdExuZ2AgYWNjb3JkaW5nIHRvIHRoZSBwcm9qZWN0aW9uXHJcblx0Ly8gb2YgdGhlIG1hcCdzIENSUywgdGhlbiBzY2FsZXMgaXQgYWNjb3JkaW5nIHRvIGB6b29tYCBhbmQgdGhlIENSUydzXHJcblx0Ly8gYFRyYW5zZm9ybWF0aW9uYC4gVGhlIHJlc3VsdCBpcyBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvXHJcblx0Ly8gdGhlIENSUyBvcmlnaW4uXHJcblx0cHJvamVjdDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSkge1xyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB6b29tO1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMubGF0TG5nVG9Qb2ludCh0b0xhdExuZyhsYXRsbmcpLCB6b29tKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHVucHJvamVjdChwb2ludDogUG9pbnQsIHpvb206IE51bWJlcik6IExhdExuZ1xyXG5cdC8vIEludmVyc2Ugb2YgW2Bwcm9qZWN0YF0oI21hcC1wcm9qZWN0KS5cclxuXHR1bnByb2plY3Q6IGZ1bmN0aW9uIChwb2ludCwgem9vbSkge1xyXG5cdFx0em9vbSA9IHpvb20gPT09IHVuZGVmaW5lZCA/IHRoaXMuX3pvb20gOiB6b29tO1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMucG9pbnRUb0xhdExuZyh0b1BvaW50KHBvaW50KSwgem9vbSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBsYXllclBvaW50VG9MYXRMbmcocG9pbnQ6IFBvaW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBbb3JpZ2luIHBpeGVsXSgjbWFwLWdldHBpeGVsb3JpZ2luKSxcclxuXHQvLyByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlIChmb3IgdGhlIGN1cnJlbnQgem9vbSBsZXZlbCkuXHJcblx0bGF5ZXJQb2ludFRvTGF0TG5nOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHZhciBwcm9qZWN0ZWRQb2ludCA9IHRvUG9pbnQocG9pbnQpLmFkZCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpO1xyXG5cdFx0cmV0dXJuIHRoaXMudW5wcm9qZWN0KHByb2plY3RlZFBvaW50KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmc6IExhdExuZyk6IFBvaW50XHJcblx0Ly8gR2l2ZW4gYSBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSwgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbCBjb29yZGluYXRlXHJcblx0Ly8gcmVsYXRpdmUgdG8gdGhlIFtvcmlnaW4gcGl4ZWxdKCNtYXAtZ2V0cGl4ZWxvcmlnaW4pLlxyXG5cdGxhdExuZ1RvTGF5ZXJQb2ludDogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0dmFyIHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0KHRvTGF0TG5nKGxhdGxuZykpLl9yb3VuZCgpO1xyXG5cdFx0cmV0dXJuIHByb2plY3RlZFBvaW50Ll9zdWJ0cmFjdCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgd3JhcExhdExuZyhsYXRsbmc6IExhdExuZyk6IExhdExuZ1xyXG5cdC8vIFJldHVybnMgYSBgTGF0TG5nYCB3aGVyZSBgbGF0YCBhbmQgYGxuZ2AgaGFzIGJlZW4gd3JhcHBlZCBhY2NvcmRpbmcgdG8gdGhlXHJcblx0Ly8gbWFwJ3MgQ1JTJ3MgYHdyYXBMYXRgIGFuZCBgd3JhcExuZ2AgcHJvcGVydGllcywgaWYgdGhleSBhcmUgb3V0c2lkZSB0aGVcclxuXHQvLyBDUlMncyBib3VuZHMuXHJcblx0Ly8gQnkgZGVmYXVsdCB0aGlzIG1lYW5zIGxvbmdpdHVkZSBpcyB3cmFwcGVkIGFyb3VuZCB0aGUgZGF0ZWxpbmUgc28gaXRzXHJcblx0Ly8gdmFsdWUgaXMgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXMuXHJcblx0d3JhcExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMud3JhcExhdExuZyh0b0xhdExuZyhsYXRsbmcpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHdyYXBMYXRMbmdCb3VuZHMoYm91bmRzOiBMYXRMbmdCb3VuZHMpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBSZXR1cm5zIGEgYExhdExuZ0JvdW5kc2Agd2l0aCB0aGUgc2FtZSBzaXplIGFzIHRoZSBnaXZlbiBvbmUsIGVuc3VyaW5nIHRoYXRcclxuXHQvLyBpdHMgY2VudGVyIGlzIHdpdGhpbiB0aGUgQ1JTJ3MgYm91bmRzLlxyXG5cdC8vIEJ5IGRlZmF1bHQgdGhpcyBtZWFucyB0aGUgY2VudGVyIGxvbmdpdHVkZSBpcyB3cmFwcGVkIGFyb3VuZCB0aGUgZGF0ZWxpbmUgc28gaXRzXHJcblx0Ly8gdmFsdWUgaXMgYmV0d2VlbiAtMTgwIGFuZCArMTgwIGRlZ3JlZXMsIGFuZCB0aGUgbWFqb3JpdHkgb2YgdGhlIGJvdW5kc1xyXG5cdC8vIG92ZXJsYXBzIHRoZSBDUlMncyBib3VuZHMuXHJcblx0d3JhcExhdExuZ0JvdW5kczogZnVuY3Rpb24gKGxhdGxuZykge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5jcnMud3JhcExhdExuZ0JvdW5kcyh0b0xhdExuZ0JvdW5kcyhsYXRsbmcpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc3RhbmNlKGxhdGxuZzE6IExhdExuZywgbGF0bG5nMjogTGF0TG5nKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGFjY29yZGluZyB0b1xyXG5cdC8vIHRoZSBtYXAncyBDUlMuIEJ5IGRlZmF1bHQgdGhpcyBtZWFzdXJlcyBkaXN0YW5jZSBpbiBtZXRlcnMuXHJcblx0ZGlzdGFuY2U6IGZ1bmN0aW9uIChsYXRsbmcxLCBsYXRsbmcyKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmNycy5kaXN0YW5jZSh0b0xhdExuZyhsYXRsbmcxKSwgdG9MYXRMbmcobGF0bG5nMikpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIG1hcCBjb250YWluZXIsIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmdcclxuXHQvLyBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBbb3JpZ2luIHBpeGVsXSgjbWFwLWdldHBpeGVsb3JpZ2luKS5cclxuXHRjb250YWluZXJQb2ludFRvTGF5ZXJQb2ludDogZnVuY3Rpb24gKHBvaW50KSB7IC8vIChQb2ludClcclxuXHRcdHJldHVybiB0b1BvaW50KHBvaW50KS5zdWJ0cmFjdCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIFtvcmlnaW4gcGl4ZWxdKCNtYXAtZ2V0cGl4ZWxvcmlnaW4pLFxyXG5cdC8vIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0byB0aGUgbWFwIGNvbnRhaW5lci5cclxuXHRsYXllclBvaW50VG9Db250YWluZXJQb2ludDogZnVuY3Rpb24gKHBvaW50KSB7IC8vIChQb2ludClcclxuXHRcdHJldHVybiB0b1BvaW50KHBvaW50KS5hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNvbnRhaW5lclBvaW50VG9MYXRMbmcocG9pbnQ6IFBvaW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBwaXhlbCBjb29yZGluYXRlIHJlbGF0aXZlIHRvIHRoZSBtYXAgY29udGFpbmVyLCByZXR1cm5zXHJcblx0Ly8gdGhlIGNvcnJlc3BvbmRpbmcgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgKGZvciB0aGUgY3VycmVudCB6b29tIGxldmVsKS5cclxuXHRjb250YWluZXJQb2ludFRvTGF0TG5nOiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHZhciBsYXllclBvaW50ID0gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludCh0b1BvaW50KHBvaW50KSk7XHJcblx0XHRyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcobGF5ZXJQb2ludCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBsYXRMbmdUb0NvbnRhaW5lclBvaW50KGxhdGxuZzogTGF0TG5nKTogUG9pbnRcclxuXHQvLyBHaXZlbiBhIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlLCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHBpeGVsIGNvb3JkaW5hdGVcclxuXHQvLyByZWxhdGl2ZSB0byB0aGUgbWFwIGNvbnRhaW5lci5cclxuXHRsYXRMbmdUb0NvbnRhaW5lclBvaW50OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5sYXllclBvaW50VG9Db250YWluZXJQb2ludCh0aGlzLmxhdExuZ1RvTGF5ZXJQb2ludCh0b0xhdExuZyhsYXRsbmcpKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBtb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChldjogTW91c2VFdmVudCk6IFBvaW50XHJcblx0Ly8gR2l2ZW4gYSBNb3VzZUV2ZW50IG9iamVjdCwgcmV0dXJucyB0aGUgcGl4ZWwgY29vcmRpbmF0ZSByZWxhdGl2ZSB0byB0aGVcclxuXHQvLyBtYXAgY29udGFpbmVyIHdoZXJlIHRoZSBldmVudCB0b29rIHBsYWNlLlxyXG5cdG1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50OiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0cmV0dXJuIERvbUV2ZW50LmdldE1vdXNlUG9zaXRpb24oZSwgdGhpcy5fY29udGFpbmVyKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZXY6IE1vdXNlRXZlbnQpOiBQb2ludFxyXG5cdC8vIEdpdmVuIGEgTW91c2VFdmVudCBvYmplY3QsIHJldHVybnMgdGhlIHBpeGVsIGNvb3JkaW5hdGUgcmVsYXRpdmUgdG9cclxuXHQvLyB0aGUgW29yaWdpbiBwaXhlbF0oI21hcC1nZXRwaXhlbG9yaWdpbikgd2hlcmUgdGhlIGV2ZW50IHRvb2sgcGxhY2UuXHJcblx0bW91c2VFdmVudFRvTGF5ZXJQb2ludDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSkpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgbW91c2VFdmVudFRvTGF0TG5nKGV2OiBNb3VzZUV2ZW50KTogTGF0TG5nXHJcblx0Ly8gR2l2ZW4gYSBNb3VzZUV2ZW50IG9iamVjdCwgcmV0dXJucyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZSB3aGVyZSB0aGVcclxuXHQvLyBldmVudCB0b29rIHBsYWNlLlxyXG5cdG1vdXNlRXZlbnRUb0xhdExuZzogZnVuY3Rpb24gKGUpIHsgLy8gKE1vdXNlRXZlbnQpXHJcblx0XHRyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcodGhpcy5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUpKTtcclxuXHR9LFxyXG5cclxuXHJcblx0Ly8gbWFwIGluaXRpYWxpemF0aW9uIG1ldGhvZHNcclxuXHJcblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uIChpZCkge1xyXG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuZ2V0KGlkKTtcclxuXHJcblx0XHRpZiAoIWNvbnRhaW5lcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ01hcCBjb250YWluZXIgbm90IGZvdW5kLicpO1xyXG5cdFx0fSBlbHNlIGlmIChjb250YWluZXIuX2xlYWZsZXRfaWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNYXAgY29udGFpbmVyIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0RG9tRXZlbnQub24oY29udGFpbmVyLCAnc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIHRoaXMpO1xyXG5cdFx0dGhpcy5fY29udGFpbmVySWQgPSBVdGlsLnN0YW1wKGNvbnRhaW5lcik7XHJcblx0fSxcclxuXHJcblx0X2luaXRMYXlvdXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XHJcblxyXG5cdFx0dGhpcy5fZmFkZUFuaW1hdGVkID0gdGhpcy5vcHRpb25zLmZhZGVBbmltYXRpb24gJiYgQnJvd3Nlci5hbnkzZDtcclxuXHJcblx0XHREb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtY29udGFpbmVyJyArXHJcblx0XHRcdChCcm93c2VyLnRvdWNoID8gJyBsZWFmbGV0LXRvdWNoJyA6ICcnKSArXHJcblx0XHRcdChCcm93c2VyLnJldGluYSA/ICcgbGVhZmxldC1yZXRpbmEnIDogJycpICtcclxuXHRcdFx0KEJyb3dzZXIuaWVsdDkgPyAnIGxlYWZsZXQtb2xkaWUnIDogJycpICtcclxuXHRcdFx0KEJyb3dzZXIuc2FmYXJpID8gJyBsZWFmbGV0LXNhZmFyaScgOiAnJykgK1xyXG5cdFx0XHQodGhpcy5fZmFkZUFuaW1hdGVkID8gJyBsZWFmbGV0LWZhZGUtYW5pbScgOiAnJykpO1xyXG5cclxuXHRcdHZhciBwb3NpdGlvbiA9IERvbVV0aWwuZ2V0U3R5bGUoY29udGFpbmVyLCAncG9zaXRpb24nKTtcclxuXHJcblx0XHRpZiAocG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgcG9zaXRpb24gIT09ICdyZWxhdGl2ZScgJiYgcG9zaXRpb24gIT09ICdmaXhlZCcgJiYgcG9zaXRpb24gIT09ICdzdGlja3knKSB7XHJcblx0XHRcdGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faW5pdFBhbmVzKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2luaXRDb250cm9sUG9zKSB7XHJcblx0XHRcdHRoaXMuX2luaXRDb250cm9sUG9zKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2luaXRQYW5lczogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHBhbmVzID0gdGhpcy5fcGFuZXMgPSB7fTtcclxuXHRcdHRoaXMuX3BhbmVSZW5kZXJlcnMgPSB7fTtcclxuXHJcblx0XHQvLyBAc2VjdGlvblxyXG5cdFx0Ly9cclxuXHRcdC8vIFBhbmVzIGFyZSBET00gZWxlbWVudHMgdXNlZCB0byBjb250cm9sIHRoZSBvcmRlcmluZyBvZiBsYXllcnMgb24gdGhlIG1hcC4gWW91XHJcblx0XHQvLyBjYW4gYWNjZXNzIHBhbmVzIHdpdGggW2BtYXAuZ2V0UGFuZWBdKCNtYXAtZ2V0cGFuZSkgb3JcclxuXHRcdC8vIFtgbWFwLmdldFBhbmVzYF0oI21hcC1nZXRwYW5lcykgbWV0aG9kcy4gTmV3IHBhbmVzIGNhbiBiZSBjcmVhdGVkIHdpdGggdGhlXHJcblx0XHQvLyBbYG1hcC5jcmVhdGVQYW5lYF0oI21hcC1jcmVhdGVwYW5lKSBtZXRob2QuXHJcblx0XHQvL1xyXG5cdFx0Ly8gRXZlcnkgbWFwIGhhcyB0aGUgZm9sbG93aW5nIGRlZmF1bHQgcGFuZXMgdGhhdCBkaWZmZXIgb25seSBpbiB6SW5kZXguXHJcblx0XHQvL1xyXG5cdFx0Ly8gQHBhbmUgbWFwUGFuZTogSFRNTEVsZW1lbnQgPSAnYXV0bydcclxuXHRcdC8vIFBhbmUgdGhhdCBjb250YWlucyBhbGwgb3RoZXIgbWFwIHBhbmVzXHJcblxyXG5cdFx0dGhpcy5fbWFwUGFuZSA9IHRoaXMuY3JlYXRlUGFuZSgnbWFwUGFuZScsIHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsIG5ldyBQb2ludCgwLCAwKSk7XHJcblxyXG5cdFx0Ly8gQHBhbmUgdGlsZVBhbmU6IEhUTUxFbGVtZW50ID0gMjAwXHJcblx0XHQvLyBQYW5lIGZvciBgR3JpZExheWVyYHMgYW5kIGBUaWxlTGF5ZXJgc1xyXG5cdFx0dGhpcy5jcmVhdGVQYW5lKCd0aWxlUGFuZScpO1xyXG5cdFx0Ly8gQHBhbmUgb3ZlcmxheVBhbmU6IEhUTUxFbGVtZW50ID0gNDAwXHJcblx0XHQvLyBQYW5lIGZvciB2ZWN0b3JzIChgUGF0aGBzLCBsaWtlIGBQb2x5bGluZWBzIGFuZCBgUG9seWdvbmBzKSwgYEltYWdlT3ZlcmxheWBzIGFuZCBgVmlkZW9PdmVybGF5YHNcclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgnb3ZlcmxheVBhbmUnKTtcclxuXHRcdC8vIEBwYW5lIHNoYWRvd1BhbmU6IEhUTUxFbGVtZW50ID0gNTAwXHJcblx0XHQvLyBQYW5lIGZvciBvdmVybGF5IHNoYWRvd3MgKGUuZy4gYE1hcmtlcmAgc2hhZG93cylcclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgnc2hhZG93UGFuZScpO1xyXG5cdFx0Ly8gQHBhbmUgbWFya2VyUGFuZTogSFRNTEVsZW1lbnQgPSA2MDBcclxuXHRcdC8vIFBhbmUgZm9yIGBJY29uYHMgb2YgYE1hcmtlcmBzXHJcblx0XHR0aGlzLmNyZWF0ZVBhbmUoJ21hcmtlclBhbmUnKTtcclxuXHRcdC8vIEBwYW5lIHRvb2x0aXBQYW5lOiBIVE1MRWxlbWVudCA9IDY1MFxyXG5cdFx0Ly8gUGFuZSBmb3IgYFRvb2x0aXBgcy5cclxuXHRcdHRoaXMuY3JlYXRlUGFuZSgndG9vbHRpcFBhbmUnKTtcclxuXHRcdC8vIEBwYW5lIHBvcHVwUGFuZTogSFRNTEVsZW1lbnQgPSA3MDBcclxuXHRcdC8vIFBhbmUgZm9yIGBQb3B1cGBzLlxyXG5cdFx0dGhpcy5jcmVhdGVQYW5lKCdwb3B1cFBhbmUnKTtcclxuXHJcblx0XHRpZiAoIXRoaXMub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3MocGFuZXMubWFya2VyUGFuZSwgJ2xlYWZsZXQtem9vbS1oaWRlJyk7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3MocGFuZXMuc2hhZG93UGFuZSwgJ2xlYWZsZXQtem9vbS1oaWRlJyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblxyXG5cdC8vIHByaXZhdGUgbWV0aG9kcyB0aGF0IG1vZGlmeSBtYXAgc3RhdGVcclxuXHJcblx0Ly8gQHNlY3Rpb24gTWFwIHN0YXRlIGNoYW5nZSBldmVudHNcclxuXHRfcmVzZXRWaWV3OiBmdW5jdGlvbiAoY2VudGVyLCB6b29tLCBub01vdmVTdGFydCkge1xyXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLCBuZXcgUG9pbnQoMCwgMCkpO1xyXG5cclxuXHRcdHZhciBsb2FkaW5nID0gIXRoaXMuX2xvYWRlZDtcclxuXHRcdHRoaXMuX2xvYWRlZCA9IHRydWU7XHJcblx0XHR6b29tID0gdGhpcy5fbGltaXRab29tKHpvb20pO1xyXG5cclxuXHRcdHRoaXMuZmlyZSgndmlld3ByZXJlc2V0Jyk7XHJcblxyXG5cdFx0dmFyIHpvb21DaGFuZ2VkID0gdGhpcy5fem9vbSAhPT0gem9vbTtcclxuXHRcdHRoaXNcclxuXHRcdFx0Ll9tb3ZlU3RhcnQoem9vbUNoYW5nZWQsIG5vTW92ZVN0YXJ0KVxyXG5cdFx0XHQuX21vdmUoY2VudGVyLCB6b29tKVxyXG5cdFx0XHQuX21vdmVFbmQoem9vbUNoYW5nZWQpO1xyXG5cclxuXHRcdC8vIEBldmVudCB2aWV3cmVzZXQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgbmVlZHMgdG8gcmVkcmF3IGl0cyBjb250ZW50ICh0aGlzIHVzdWFsbHkgaGFwcGVuc1xyXG5cdFx0Ly8gb24gbWFwIHpvb20gb3IgbG9hZCkuIFZlcnkgdXNlZnVsIGZvciBjcmVhdGluZyBjdXN0b20gb3ZlcmxheXMuXHJcblx0XHR0aGlzLmZpcmUoJ3ZpZXdyZXNldCcpO1xyXG5cclxuXHRcdC8vIEBldmVudCBsb2FkOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFwIGlzIGluaXRpYWxpemVkICh3aGVuIGl0cyBjZW50ZXIgYW5kIHpvb20gYXJlIHNldFxyXG5cdFx0Ly8gZm9yIHRoZSBmaXJzdCB0aW1lKS5cclxuXHRcdGlmIChsb2FkaW5nKSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnbG9hZCcpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9tb3ZlU3RhcnQ6IGZ1bmN0aW9uICh6b29tQ2hhbmdlZCwgbm9Nb3ZlU3RhcnQpIHtcclxuXHRcdC8vIEBldmVudCB6b29tc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgem9vbSBpcyBhYm91dCB0byBjaGFuZ2UgKGUuZy4gYmVmb3JlIHpvb20gYW5pbWF0aW9uKS5cclxuXHRcdC8vIEBldmVudCBtb3Zlc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB2aWV3IG9mIHRoZSBtYXAgc3RhcnRzIGNoYW5naW5nIChlLmcuIHVzZXIgc3RhcnRzIGRyYWdnaW5nIHRoZSBtYXApLlxyXG5cdFx0aWYgKHpvb21DaGFuZ2VkKSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbXN0YXJ0Jyk7XHJcblx0XHR9XHJcblx0XHRpZiAoIW5vTW92ZVN0YXJ0KSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnbW92ZXN0YXJ0Jyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfbW92ZTogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgZGF0YSwgc3VwcmVzc0V2ZW50KSB7XHJcblx0XHRpZiAoem9vbSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHpvb20gPSB0aGlzLl96b29tO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHpvb21DaGFuZ2VkID0gdGhpcy5fem9vbSAhPT0gem9vbTtcclxuXHJcblx0XHR0aGlzLl96b29tID0gem9vbTtcclxuXHRcdHRoaXMuX2xhc3RDZW50ZXIgPSBjZW50ZXI7XHJcblx0XHR0aGlzLl9waXhlbE9yaWdpbiA9IHRoaXMuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlcik7XHJcblxyXG5cdFx0aWYgKCFzdXByZXNzRXZlbnQpIHtcclxuXHRcdFx0Ly8gQGV2ZW50IHpvb206IEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGFueSBjaGFuZ2UgaW4gem9vbSBsZXZlbCxcclxuXHRcdFx0Ly8gaW5jbHVkaW5nIHpvb20gYW5kIGZseSBhbmltYXRpb25zLlxyXG5cdFx0XHRpZiAoem9vbUNoYW5nZWQgfHwgKGRhdGEgJiYgZGF0YS5waW5jaCkpIHtcdC8vIEFsd2F5cyBmaXJlICd6b29tJyBpZiBwaW5jaGluZyBiZWNhdXNlICMzNTMwXHJcblx0XHRcdFx0dGhpcy5maXJlKCd6b29tJywgZGF0YSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEBldmVudCBtb3ZlOiBFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbnkgbW92ZW1lbnQgb2YgdGhlIG1hcCxcclxuXHRcdFx0Ly8gaW5jbHVkaW5nIHBhbiBhbmQgZmx5IGFuaW1hdGlvbnMuXHJcblx0XHRcdHRoaXMuZmlyZSgnbW92ZScsIGRhdGEpO1xyXG5cdFx0fSBlbHNlIGlmIChkYXRhICYmIGRhdGEucGluY2gpIHtcdC8vIEFsd2F5cyBmaXJlICd6b29tJyBpZiBwaW5jaGluZyBiZWNhdXNlICMzNTMwXHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbScsIGRhdGEpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X21vdmVFbmQ6IGZ1bmN0aW9uICh6b29tQ2hhbmdlZCkge1xyXG5cdFx0Ly8gQGV2ZW50IHpvb21lbmQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgem9vbSBjaGFuZ2VkLCBhZnRlciBhbnkgYW5pbWF0aW9ucy5cclxuXHRcdGlmICh6b29tQ2hhbmdlZCkge1xyXG5cdFx0XHR0aGlzLmZpcmUoJ3pvb21lbmQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBAZXZlbnQgbW92ZWVuZDogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIGNlbnRlciBvZiB0aGUgbWFwIHN0b3BzIGNoYW5naW5nXHJcblx0XHQvLyAoZS5nLiB1c2VyIHN0b3BwZWQgZHJhZ2dpbmcgdGhlIG1hcCBvciBhZnRlciBub24tY2VudGVyZWQgem9vbSkuXHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdtb3ZlZW5kJyk7XHJcblx0fSxcclxuXHJcblx0X3N0b3A6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2ZseVRvRnJhbWUpO1xyXG5cdFx0aWYgKHRoaXMuX3BhbkFuaW0pIHtcclxuXHRcdFx0dGhpcy5fcGFuQW5pbS5zdG9wKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfcmF3UGFuQnk6IGZ1bmN0aW9uIChvZmZzZXQpIHtcclxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSwgdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KG9mZnNldCkpO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRab29tU3BhbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0TWF4Wm9vbSgpIC0gdGhpcy5nZXRNaW5ab29tKCk7XHJcblx0fSxcclxuXHJcblx0X3Bhbkluc2lkZU1heEJvdW5kczogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9lbmZvcmNpbmdCb3VuZHMpIHtcclxuXHRcdFx0dGhpcy5wYW5JbnNpZGVCb3VuZHModGhpcy5vcHRpb25zLm1heEJvdW5kcyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2NoZWNrSWZMb2FkZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fbG9hZGVkKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignU2V0IG1hcCBjZW50ZXIgYW5kIHpvb20gZmlyc3QuJyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gRE9NIGV2ZW50IGhhbmRsaW5nXHJcblxyXG5cdC8vIEBzZWN0aW9uIEludGVyYWN0aW9uIGV2ZW50c1xyXG5cdF9pbml0RXZlbnRzOiBmdW5jdGlvbiAocmVtb3ZlKSB7XHJcblx0XHR0aGlzLl90YXJnZXRzID0ge307XHJcblx0XHR0aGlzLl90YXJnZXRzW1V0aWwuc3RhbXAodGhpcy5fY29udGFpbmVyKV0gPSB0aGlzO1xyXG5cclxuXHRcdHZhciBvbk9mZiA9IHJlbW92ZSA/IERvbUV2ZW50Lm9mZiA6IERvbUV2ZW50Lm9uO1xyXG5cclxuXHRcdC8vIEBldmVudCBjbGljazogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgKG9yIHRhcHMpIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgZGJsY2xpY2s6IE1vdXNlRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHVzZXIgZG91YmxlLWNsaWNrcyAob3IgZG91YmxlLXRhcHMpIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2Vkb3duOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHB1c2hlcyB0aGUgbW91c2UgYnV0dG9uIG9uIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2V1cDogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciByZWxlYXNlcyB0aGUgbW91c2UgYnV0dG9uIG9uIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2VvdmVyOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtb3VzZSBlbnRlcnMgdGhlIG1hcC5cclxuXHRcdC8vIEBldmVudCBtb3VzZW91dDogTW91c2VFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBtYXAuXHJcblx0XHQvLyBAZXZlbnQgbW91c2Vtb3ZlOiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGlsZSB0aGUgbW91c2UgbW92ZXMgb3ZlciB0aGUgbWFwLlxyXG5cdFx0Ly8gQGV2ZW50IGNvbnRleHRtZW51OiBNb3VzZUV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHB1c2hlcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIG9uIHRoZSBtYXAsIHByZXZlbnRzXHJcblx0XHQvLyBkZWZhdWx0IGJyb3dzZXIgY29udGV4dCBtZW51IGZyb20gc2hvd2luZyBpZiB0aGVyZSBhcmUgbGlzdGVuZXJzIG9uXHJcblx0XHQvLyB0aGlzIGV2ZW50LiBBbHNvIGZpcmVkIG9uIG1vYmlsZSB3aGVuIHRoZSB1c2VyIGhvbGRzIGEgc2luZ2xlIHRvdWNoXHJcblx0XHQvLyBmb3IgYSBzZWNvbmQgKGFsc28gY2FsbGVkIGxvbmcgcHJlc3MpLlxyXG5cdFx0Ly8gQGV2ZW50IGtleXByZXNzOiBLZXlib2FyZEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgYSBrZXkgZnJvbSB0aGUga2V5Ym9hcmQgdGhhdCBwcm9kdWNlcyBhIGNoYXJhY3RlciB2YWx1ZSB3aGlsZSB0aGUgbWFwIGlzIGZvY3VzZWQuXHJcblx0XHQvLyBAZXZlbnQga2V5ZG93bjogS2V5Ym9hcmRFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGEga2V5IGZyb20gdGhlIGtleWJvYXJkIHdoaWxlIHRoZSBtYXAgaXMgZm9jdXNlZC4gVW5saWtlIHRoZSBga2V5cHJlc3NgIGV2ZW50LFxyXG5cdFx0Ly8gdGhlIGBrZXlkb3duYCBldmVudCBpcyBmaXJlZCBmb3Iga2V5cyB0aGF0IHByb2R1Y2UgYSBjaGFyYWN0ZXIgdmFsdWUgYW5kIGZvciBrZXlzXHJcblx0XHQvLyB0aGF0IGRvIG5vdCBwcm9kdWNlIGEgY2hhcmFjdGVyIHZhbHVlLlxyXG5cdFx0Ly8gQGV2ZW50IGtleXVwOiBLZXlib2FyZEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHJlbGVhc2VzIGEga2V5IGZyb20gdGhlIGtleWJvYXJkIHdoaWxlIHRoZSBtYXAgaXMgZm9jdXNlZC5cclxuXHRcdG9uT2ZmKHRoaXMuX2NvbnRhaW5lciwgJ2NsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwICcgK1xyXG5cdFx0XHQnbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBjb250ZXh0bWVudSBrZXlwcmVzcyBrZXlkb3duIGtleXVwJywgdGhpcy5faGFuZGxlRE9NRXZlbnQsIHRoaXMpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMudHJhY2tSZXNpemUpIHtcclxuXHRcdFx0b25PZmYod2luZG93LCAncmVzaXplJywgdGhpcy5fb25SZXNpemUsIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChCcm93c2VyLmFueTNkICYmIHRoaXMub3B0aW9ucy50cmFuc2Zvcm0zRExpbWl0KSB7XHJcblx0XHRcdChyZW1vdmUgPyB0aGlzLm9mZiA6IHRoaXMub24pLmNhbGwodGhpcywgJ21vdmVlbmQnLCB0aGlzLl9vbk1vdmVFbmQpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9vblJlc2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0VXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fcmVzaXplUmVxdWVzdCk7XHJcblx0XHR0aGlzLl9yZXNpemVSZXF1ZXN0ID0gVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKFxyXG5cdFx0ICAgICAgICBmdW5jdGlvbiAoKSB7IHRoaXMuaW52YWxpZGF0ZVNpemUoe2RlYm91bmNlTW92ZWVuZDogdHJ1ZX0pOyB9LCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfb25TY3JvbGw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zY3JvbGxUb3AgID0gMDtcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gMDtcclxuXHR9LFxyXG5cclxuXHRfb25Nb3ZlRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fZ2V0TWFwUGFuZVBvcygpO1xyXG5cdFx0aWYgKE1hdGgubWF4KE1hdGguYWJzKHBvcy54KSwgTWF0aC5hYnMocG9zLnkpKSA+PSB0aGlzLm9wdGlvbnMudHJhbnNmb3JtM0RMaW1pdCkge1xyXG5cdFx0XHQvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjAzODczIGJ1dCBXZWJraXQgYWxzbyBoYXZlXHJcblx0XHRcdC8vIGEgcGl4ZWwgb2Zmc2V0IG9uIHZlcnkgaGlnaCB2YWx1ZXMsIHNlZTogaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvZGc2cjVoaGIvXHJcblx0XHRcdHRoaXMuX3Jlc2V0Vmlldyh0aGlzLmdldENlbnRlcigpLCB0aGlzLmdldFpvb20oKSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2ZpbmRFdmVudFRhcmdldHM6IGZ1bmN0aW9uIChlLCB0eXBlKSB7XHJcblx0XHR2YXIgdGFyZ2V0cyA9IFtdLFxyXG5cdFx0ICAgIHRhcmdldCxcclxuXHRcdCAgICBpc0hvdmVyID0gdHlwZSA9PT0gJ21vdXNlb3V0JyB8fCB0eXBlID09PSAnbW91c2VvdmVyJyxcclxuXHRcdCAgICBzcmMgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQsXHJcblx0XHQgICAgZHJhZ2dpbmcgPSBmYWxzZTtcclxuXHJcblx0XHR3aGlsZSAoc3JjKSB7XHJcblx0XHRcdHRhcmdldCA9IHRoaXMuX3RhcmdldHNbVXRpbC5zdGFtcChzcmMpXTtcclxuXHRcdFx0aWYgKHRhcmdldCAmJiAodHlwZSA9PT0gJ2NsaWNrJyB8fCB0eXBlID09PSAncHJlY2xpY2snKSAmJiB0aGlzLl9kcmFnZ2FibGVNb3ZlZCh0YXJnZXQpKSB7XHJcblx0XHRcdFx0Ly8gUHJldmVudCBmaXJpbmcgY2xpY2sgYWZ0ZXIgeW91IGp1c3QgZHJhZ2dlZCBhbiBvYmplY3QuXHJcblx0XHRcdFx0ZHJhZ2dpbmcgPSB0cnVlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0YXJnZXQgJiYgdGFyZ2V0Lmxpc3RlbnModHlwZSwgdHJ1ZSkpIHtcclxuXHRcdFx0XHRpZiAoaXNIb3ZlciAmJiAhRG9tRXZlbnQuaXNFeHRlcm5hbFRhcmdldChzcmMsIGUpKSB7IGJyZWFrOyB9XHJcblx0XHRcdFx0dGFyZ2V0cy5wdXNoKHRhcmdldCk7XHJcblx0XHRcdFx0aWYgKGlzSG92ZXIpIHsgYnJlYWs7IH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoc3JjID09PSB0aGlzLl9jb250YWluZXIpIHsgYnJlYWs7IH1cclxuXHRcdFx0c3JjID0gc3JjLnBhcmVudE5vZGU7XHJcblx0XHR9XHJcblx0XHRpZiAoIXRhcmdldHMubGVuZ3RoICYmICFkcmFnZ2luZyAmJiAhaXNIb3ZlciAmJiB0aGlzLmxpc3RlbnModHlwZSwgdHJ1ZSkpIHtcclxuXHRcdFx0dGFyZ2V0cyA9IFt0aGlzXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0YXJnZXRzO1xyXG5cdH0sXHJcblxyXG5cdF9pc0NsaWNrRGlzYWJsZWQ6IGZ1bmN0aW9uIChlbCkge1xyXG5cdFx0d2hpbGUgKGVsICYmIGVsICE9PSB0aGlzLl9jb250YWluZXIpIHtcclxuXHRcdFx0aWYgKGVsWydfbGVhZmxldF9kaXNhYmxlX2NsaWNrJ10pIHsgcmV0dXJuIHRydWU7IH1cclxuXHRcdFx0ZWwgPSBlbC5wYXJlbnROb2RlO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVET01FdmVudDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHZhciBlbCA9IChlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpO1xyXG5cdFx0aWYgKCF0aGlzLl9sb2FkZWQgfHwgZWxbJ19sZWFmbGV0X2Rpc2FibGVfZXZlbnRzJ10gfHwgZS50eXBlID09PSAnY2xpY2snICYmIHRoaXMuX2lzQ2xpY2tEaXNhYmxlZChlbCkpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB0eXBlID0gZS50eXBlO1xyXG5cclxuXHRcdGlmICh0eXBlID09PSAnbW91c2Vkb3duJykge1xyXG5cdFx0XHQvLyBwcmV2ZW50cyBvdXRsaW5lIHdoZW4gY2xpY2tpbmcgb24ga2V5Ym9hcmQtZm9jdXNhYmxlIGVsZW1lbnRcclxuXHRcdFx0RG9tVXRpbC5wcmV2ZW50T3V0bGluZShlbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fZmlyZURPTUV2ZW50KGUsIHR5cGUpO1xyXG5cdH0sXHJcblxyXG5cdF9tb3VzZUV2ZW50czogWydjbGljaycsICdkYmxjbGljaycsICdtb3VzZW92ZXInLCAnbW91c2VvdXQnLCAnY29udGV4dG1lbnUnXSxcclxuXHJcblx0X2ZpcmVET01FdmVudDogZnVuY3Rpb24gKGUsIHR5cGUsIGNhbnZhc1RhcmdldHMpIHtcclxuXHJcblx0XHRpZiAoZS50eXBlID09PSAnY2xpY2snKSB7XHJcblx0XHRcdC8vIEZpcmUgYSBzeW50aGV0aWMgJ3ByZWNsaWNrJyBldmVudCB3aGljaCBwcm9wYWdhdGVzIHVwIChtYWlubHkgZm9yIGNsb3NpbmcgcG9wdXBzKS5cclxuXHRcdFx0Ly8gQGV2ZW50IHByZWNsaWNrOiBNb3VzZUV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIGJlZm9yZSBtb3VzZSBjbGljayBvbiB0aGUgbWFwIChzb21ldGltZXMgdXNlZnVsIHdoZW4geW91XHJcblx0XHRcdC8vIHdhbnQgc29tZXRoaW5nIHRvIGhhcHBlbiBvbiBjbGljayBiZWZvcmUgYW55IGV4aXN0aW5nIGNsaWNrXHJcblx0XHRcdC8vIGhhbmRsZXJzIHN0YXJ0IHJ1bm5pbmcpLlxyXG5cdFx0XHR2YXIgc3ludGggPSBVdGlsLmV4dGVuZCh7fSwgZSk7XHJcblx0XHRcdHN5bnRoLnR5cGUgPSAncHJlY2xpY2snO1xyXG5cdFx0XHR0aGlzLl9maXJlRE9NRXZlbnQoc3ludGgsIHN5bnRoLnR5cGUsIGNhbnZhc1RhcmdldHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZpbmQgdGhlIGxheWVyIHRoZSBldmVudCBpcyBwcm9wYWdhdGluZyBmcm9tIGFuZCBpdHMgcGFyZW50cy5cclxuXHRcdHZhciB0YXJnZXRzID0gdGhpcy5fZmluZEV2ZW50VGFyZ2V0cyhlLCB0eXBlKTtcclxuXHJcblx0XHRpZiAoY2FudmFzVGFyZ2V0cykge1xyXG5cdFx0XHR2YXIgZmlsdGVyZWQgPSBbXTsgLy8gcGljayBvbmx5IHRhcmdldHMgd2l0aCBsaXN0ZW5lcnNcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjYW52YXNUYXJnZXRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGNhbnZhc1RhcmdldHNbaV0ubGlzdGVucyh0eXBlLCB0cnVlKSkge1xyXG5cdFx0XHRcdFx0ZmlsdGVyZWQucHVzaChjYW52YXNUYXJnZXRzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dGFyZ2V0cyA9IGZpbHRlcmVkLmNvbmNhdCh0YXJnZXRzKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRhcmdldHMubGVuZ3RoKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmICh0eXBlID09PSAnY29udGV4dG1lbnUnKSB7XHJcblx0XHRcdERvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB0YXJnZXQgPSB0YXJnZXRzWzBdO1xyXG5cdFx0dmFyIGRhdGEgPSB7XHJcblx0XHRcdG9yaWdpbmFsRXZlbnQ6IGVcclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKGUudHlwZSAhPT0gJ2tleXByZXNzJyAmJiBlLnR5cGUgIT09ICdrZXlkb3duJyAmJiBlLnR5cGUgIT09ICdrZXl1cCcpIHtcclxuXHRcdFx0dmFyIGlzTWFya2VyID0gdGFyZ2V0LmdldExhdExuZyAmJiAoIXRhcmdldC5fcmFkaXVzIHx8IHRhcmdldC5fcmFkaXVzIDw9IDEwKTtcclxuXHRcdFx0ZGF0YS5jb250YWluZXJQb2ludCA9IGlzTWFya2VyID9cclxuXHRcdFx0XHR0aGlzLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQodGFyZ2V0LmdldExhdExuZygpKSA6IHRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XHJcblx0XHRcdGRhdGEubGF5ZXJQb2ludCA9IHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoZGF0YS5jb250YWluZXJQb2ludCk7XHJcblx0XHRcdGRhdGEubGF0bG5nID0gaXNNYXJrZXIgPyB0YXJnZXQuZ2V0TGF0TG5nKCkgOiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyhkYXRhLmxheWVyUG9pbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRhcmdldHNbaV0uZmlyZSh0eXBlLCBkYXRhLCB0cnVlKTtcclxuXHRcdFx0aWYgKGRhdGEub3JpZ2luYWxFdmVudC5fc3RvcHBlZCB8fFxyXG5cdFx0XHRcdCh0YXJnZXRzW2ldLm9wdGlvbnMuYnViYmxpbmdNb3VzZUV2ZW50cyA9PT0gZmFsc2UgJiYgVXRpbC5pbmRleE9mKHRoaXMuX21vdXNlRXZlbnRzLCB0eXBlKSAhPT0gLTEpKSB7IHJldHVybjsgfVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9kcmFnZ2FibGVNb3ZlZDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0b2JqID0gb2JqLmRyYWdnaW5nICYmIG9iai5kcmFnZ2luZy5lbmFibGVkKCkgPyBvYmogOiB0aGlzO1xyXG5cdFx0cmV0dXJuIChvYmouZHJhZ2dpbmcgJiYgb2JqLmRyYWdnaW5nLm1vdmVkKCkpIHx8ICh0aGlzLmJveFpvb20gJiYgdGhpcy5ib3hab29tLm1vdmVkKCkpO1xyXG5cdH0sXHJcblxyXG5cdF9jbGVhckhhbmRsZXJzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5faGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0dGhpcy5faGFuZGxlcnNbaV0uZGlzYWJsZSgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBzZWN0aW9uIE90aGVyIE1ldGhvZHNcclxuXHJcblx0Ly8gQG1ldGhvZCB3aGVuUmVhZHkoZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG5cdC8vIFJ1bnMgdGhlIGdpdmVuIGZ1bmN0aW9uIGBmbmAgd2hlbiB0aGUgbWFwIGdldHMgaW5pdGlhbGl6ZWQgd2l0aFxyXG5cdC8vIGEgdmlldyAoY2VudGVyIGFuZCB6b29tKSBhbmQgYXQgbGVhc3Qgb25lIGxheWVyLCBvciBpbW1lZGlhdGVseVxyXG5cdC8vIGlmIGl0J3MgYWxyZWFkeSBpbml0aWFsaXplZCwgb3B0aW9uYWxseSBwYXNzaW5nIGEgZnVuY3Rpb24gY29udGV4dC5cclxuXHR3aGVuUmVhZHk6IGZ1bmN0aW9uIChjYWxsYmFjaywgY29udGV4dCkge1xyXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xyXG5cdFx0XHRjYWxsYmFjay5jYWxsKGNvbnRleHQgfHwgdGhpcywge3RhcmdldDogdGhpc30pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5vbignbG9hZCcsIGNhbGxiYWNrLCBjb250ZXh0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cclxuXHQvLyBwcml2YXRlIG1ldGhvZHMgZm9yIGdldHRpbmcgbWFwIHN0YXRlXHJcblxyXG5cdF9nZXRNYXBQYW5lUG9zOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lKSB8fCBuZXcgUG9pbnQoMCwgMCk7XHJcblx0fSxcclxuXHJcblx0X21vdmVkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fZ2V0TWFwUGFuZVBvcygpO1xyXG5cdFx0cmV0dXJuIHBvcyAmJiAhcG9zLmVxdWFscyhbMCwgMF0pO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRUb3BMZWZ0UG9pbnQ6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20pIHtcclxuXHRcdHZhciBwaXhlbE9yaWdpbiA9IGNlbnRlciAmJiB6b29tICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHR0aGlzLl9nZXROZXdQaXhlbE9yaWdpbihjZW50ZXIsIHpvb20pIDpcclxuXHRcdFx0dGhpcy5nZXRQaXhlbE9yaWdpbigpO1xyXG5cdFx0cmV0dXJuIHBpeGVsT3JpZ2luLnN1YnRyYWN0KHRoaXMuX2dldE1hcFBhbmVQb3MoKSk7XHJcblx0fSxcclxuXHJcblx0X2dldE5ld1BpeGVsT3JpZ2luOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XHJcblx0XHR2YXIgdmlld0hhbGYgPSB0aGlzLmdldFNpemUoKS5fZGl2aWRlQnkoMik7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0KGNlbnRlciwgem9vbSkuX3N1YnRyYWN0KHZpZXdIYWxmKS5fYWRkKHRoaXMuX2dldE1hcFBhbmVQb3MoKSkuX3JvdW5kKCk7XHJcblx0fSxcclxuXHJcblx0X2xhdExuZ1RvTmV3TGF5ZXJQb2ludDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSwgY2VudGVyKSB7XHJcblx0XHR2YXIgdG9wTGVmdCA9IHRoaXMuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlciwgem9vbSk7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9qZWN0KGxhdGxuZywgem9vbSkuX3N1YnRyYWN0KHRvcExlZnQpO1xyXG5cdH0sXHJcblxyXG5cdF9sYXRMbmdCb3VuZHNUb05ld0xheWVyQm91bmRzOiBmdW5jdGlvbiAobGF0TG5nQm91bmRzLCB6b29tLCBjZW50ZXIpIHtcclxuXHRcdHZhciB0b3BMZWZ0ID0gdGhpcy5fZ2V0TmV3UGl4ZWxPcmlnaW4oY2VudGVyLCB6b29tKTtcclxuXHRcdHJldHVybiB0b0JvdW5kcyhbXHJcblx0XHRcdHRoaXMucHJvamVjdChsYXRMbmdCb3VuZHMuZ2V0U291dGhXZXN0KCksIHpvb20pLl9zdWJ0cmFjdCh0b3BMZWZ0KSxcclxuXHRcdFx0dGhpcy5wcm9qZWN0KGxhdExuZ0JvdW5kcy5nZXROb3J0aFdlc3QoKSwgem9vbSkuX3N1YnRyYWN0KHRvcExlZnQpLFxyXG5cdFx0XHR0aGlzLnByb2plY3QobGF0TG5nQm91bmRzLmdldFNvdXRoRWFzdCgpLCB6b29tKS5fc3VidHJhY3QodG9wTGVmdCksXHJcblx0XHRcdHRoaXMucHJvamVjdChsYXRMbmdCb3VuZHMuZ2V0Tm9ydGhFYXN0KCksIHpvb20pLl9zdWJ0cmFjdCh0b3BMZWZ0KVxyXG5cdFx0XSk7XHJcblx0fSxcclxuXHJcblx0Ly8gbGF5ZXIgcG9pbnQgb2YgdGhlIGN1cnJlbnQgY2VudGVyXHJcblx0X2dldENlbnRlckxheWVyUG9pbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHRoaXMuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gb2Zmc2V0IG9mIHRoZSBzcGVjaWZpZWQgcGxhY2UgdG8gdGhlIGN1cnJlbnQgY2VudGVyIGluIHBpeGVsc1xyXG5cdF9nZXRDZW50ZXJPZmZzZXQ6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmcpLnN1YnRyYWN0KHRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gYWRqdXN0IGNlbnRlciBmb3IgdmlldyB0byBnZXQgaW5zaWRlIGJvdW5kc1xyXG5cdF9saW1pdENlbnRlcjogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgYm91bmRzKSB7XHJcblxyXG5cdFx0aWYgKCFib3VuZHMpIHsgcmV0dXJuIGNlbnRlcjsgfVxyXG5cclxuXHRcdHZhciBjZW50ZXJQb2ludCA9IHRoaXMucHJvamVjdChjZW50ZXIsIHpvb20pLFxyXG5cdFx0ICAgIHZpZXdIYWxmID0gdGhpcy5nZXRTaXplKCkuZGl2aWRlQnkoMiksXHJcblx0XHQgICAgdmlld0JvdW5kcyA9IG5ldyBCb3VuZHMoY2VudGVyUG9pbnQuc3VidHJhY3Qodmlld0hhbGYpLCBjZW50ZXJQb2ludC5hZGQodmlld0hhbGYpKSxcclxuXHRcdCAgICBvZmZzZXQgPSB0aGlzLl9nZXRCb3VuZHNPZmZzZXQodmlld0JvdW5kcywgYm91bmRzLCB6b29tKTtcclxuXHJcblx0XHQvLyBJZiBvZmZzZXQgaXMgbGVzcyB0aGFuIGEgcGl4ZWwsIGlnbm9yZS5cclxuXHRcdC8vIFRoaXMgcHJldmVudHMgdW5zdGFibGUgcHJvamVjdGlvbnMgZnJvbSBnZXR0aW5nIGludG9cclxuXHRcdC8vIGFuIGluZmluaXRlIGxvb3Agb2YgdGlueSBvZmZzZXRzLlxyXG5cdFx0aWYgKE1hdGguYWJzKG9mZnNldC54KSA8PSAxICYmIE1hdGguYWJzKG9mZnNldC55KSA8PSAxKSB7XHJcblx0XHRcdHJldHVybiBjZW50ZXI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudW5wcm9qZWN0KGNlbnRlclBvaW50LmFkZChvZmZzZXQpLCB6b29tKTtcclxuXHR9LFxyXG5cclxuXHQvLyBhZGp1c3Qgb2Zmc2V0IGZvciB2aWV3IHRvIGdldCBpbnNpZGUgYm91bmRzXHJcblx0X2xpbWl0T2Zmc2V0OiBmdW5jdGlvbiAob2Zmc2V0LCBib3VuZHMpIHtcclxuXHRcdGlmICghYm91bmRzKSB7IHJldHVybiBvZmZzZXQ7IH1cclxuXHJcblx0XHR2YXIgdmlld0JvdW5kcyA9IHRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxcclxuXHRcdCAgICBuZXdCb3VuZHMgPSBuZXcgQm91bmRzKHZpZXdCb3VuZHMubWluLmFkZChvZmZzZXQpLCB2aWV3Qm91bmRzLm1heC5hZGQob2Zmc2V0KSk7XHJcblxyXG5cdFx0cmV0dXJuIG9mZnNldC5hZGQodGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KG5ld0JvdW5kcywgYm91bmRzKSk7XHJcblx0fSxcclxuXHJcblx0Ly8gcmV0dXJucyBvZmZzZXQgbmVlZGVkIGZvciBweEJvdW5kcyB0byBnZXQgaW5zaWRlIG1heEJvdW5kcyBhdCBhIHNwZWNpZmllZCB6b29tXHJcblx0X2dldEJvdW5kc09mZnNldDogZnVuY3Rpb24gKHB4Qm91bmRzLCBtYXhCb3VuZHMsIHpvb20pIHtcclxuXHRcdHZhciBwcm9qZWN0ZWRNYXhCb3VuZHMgPSB0b0JvdW5kcyhcclxuXHRcdCAgICAgICAgdGhpcy5wcm9qZWN0KG1heEJvdW5kcy5nZXROb3J0aEVhc3QoKSwgem9vbSksXHJcblx0XHQgICAgICAgIHRoaXMucHJvamVjdChtYXhCb3VuZHMuZ2V0U291dGhXZXN0KCksIHpvb20pXHJcblx0XHQgICAgKSxcclxuXHRcdCAgICBtaW5PZmZzZXQgPSBwcm9qZWN0ZWRNYXhCb3VuZHMubWluLnN1YnRyYWN0KHB4Qm91bmRzLm1pbiksXHJcblx0XHQgICAgbWF4T2Zmc2V0ID0gcHJvamVjdGVkTWF4Qm91bmRzLm1heC5zdWJ0cmFjdChweEJvdW5kcy5tYXgpLFxyXG5cclxuXHRcdCAgICBkeCA9IHRoaXMuX3JlYm91bmQobWluT2Zmc2V0LngsIC1tYXhPZmZzZXQueCksXHJcblx0XHQgICAgZHkgPSB0aGlzLl9yZWJvdW5kKG1pbk9mZnNldC55LCAtbWF4T2Zmc2V0LnkpO1xyXG5cclxuXHRcdHJldHVybiBuZXcgUG9pbnQoZHgsIGR5KTtcclxuXHR9LFxyXG5cclxuXHRfcmVib3VuZDogZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XHJcblx0XHRyZXR1cm4gbGVmdCArIHJpZ2h0ID4gMCA/XHJcblx0XHRcdE1hdGgucm91bmQobGVmdCAtIHJpZ2h0KSAvIDIgOlxyXG5cdFx0XHRNYXRoLm1heCgwLCBNYXRoLmNlaWwobGVmdCkpIC0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihyaWdodCkpO1xyXG5cdH0sXHJcblxyXG5cdF9saW1pdFpvb206IGZ1bmN0aW9uICh6b29tKSB7XHJcblx0XHR2YXIgbWluID0gdGhpcy5nZXRNaW5ab29tKCksXHJcblx0XHQgICAgbWF4ID0gdGhpcy5nZXRNYXhab29tKCksXHJcblx0XHQgICAgc25hcCA9IEJyb3dzZXIuYW55M2QgPyB0aGlzLm9wdGlvbnMuem9vbVNuYXAgOiAxO1xyXG5cdFx0aWYgKHNuYXApIHtcclxuXHRcdFx0em9vbSA9IE1hdGgucm91bmQoem9vbSAvIHNuYXApICogc25hcDtcclxuXHRcdH1cclxuXHRcdHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgem9vbSkpO1xyXG5cdH0sXHJcblxyXG5cdF9vblBhblRyYW5zaXRpb25TdGVwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLmZpcmUoJ21vdmUnKTtcclxuXHR9LFxyXG5cclxuXHRfb25QYW5UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXBhbi1hbmltJyk7XHJcblx0XHR0aGlzLmZpcmUoJ21vdmVlbmQnKTtcclxuXHR9LFxyXG5cclxuXHRfdHJ5QW5pbWF0ZWRQYW46IGZ1bmN0aW9uIChjZW50ZXIsIG9wdGlvbnMpIHtcclxuXHRcdC8vIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgbmV3IGFuZCBjdXJyZW50IGNlbnRlcnMgaW4gcGl4ZWxzXHJcblx0XHR2YXIgb2Zmc2V0ID0gdGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KGNlbnRlcikuX3RydW5jKCk7XHJcblxyXG5cdFx0Ly8gZG9uJ3QgYW5pbWF0ZSB0b28gZmFyIHVubGVzcyBhbmltYXRlOiB0cnVlIHNwZWNpZmllZCBpbiBvcHRpb25zXHJcblx0XHRpZiAoKG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRlKSAhPT0gdHJ1ZSAmJiAhdGhpcy5nZXRTaXplKCkuY29udGFpbnMob2Zmc2V0KSkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcblx0XHR0aGlzLnBhbkJ5KG9mZnNldCwgb3B0aW9ucyk7XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZUFuaW1Qcm94eTogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciBwcm94eSA9IHRoaXMuX3Byb3h5ID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LXByb3h5IGxlYWZsZXQtem9vbS1hbmltYXRlZCcpO1xyXG5cdFx0dGhpcy5fcGFuZXMubWFwUGFuZS5hcHBlbmRDaGlsZChwcm94eSk7XHJcblxyXG5cdFx0dGhpcy5vbignem9vbWFuaW0nLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHR2YXIgcHJvcCA9IERvbVV0aWwuVFJBTlNGT1JNLFxyXG5cdFx0XHQgICAgdHJhbnNmb3JtID0gdGhpcy5fcHJveHkuc3R5bGVbcHJvcF07XHJcblxyXG5cdFx0XHREb21VdGlsLnNldFRyYW5zZm9ybSh0aGlzLl9wcm94eSwgdGhpcy5wcm9qZWN0KGUuY2VudGVyLCBlLnpvb20pLCB0aGlzLmdldFpvb21TY2FsZShlLnpvb20sIDEpKTtcclxuXHJcblx0XHRcdC8vIHdvcmthcm91bmQgZm9yIGNhc2Ugd2hlbiB0cmFuc2Zvcm0gaXMgdGhlIHNhbWUgYW5kIHNvIHRyYW5zaXRpb25lbmQgZXZlbnQgaXMgbm90IGZpcmVkXHJcblx0XHRcdGlmICh0cmFuc2Zvcm0gPT09IHRoaXMuX3Byb3h5LnN0eWxlW3Byb3BdICYmIHRoaXMuX2FuaW1hdGluZ1pvb20pIHtcclxuXHRcdFx0XHR0aGlzLl9vblpvb21UcmFuc2l0aW9uRW5kKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIHRoaXMpO1xyXG5cclxuXHRcdHRoaXMub24oJ2xvYWQgbW92ZWVuZCcsIHRoaXMuX2FuaW1Nb3ZlRW5kLCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9vbigndW5sb2FkJywgdGhpcy5fZGVzdHJveUFuaW1Qcm94eSwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0X2Rlc3Ryb3lBbmltUHJveHk6IGZ1bmN0aW9uICgpIHtcclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX3Byb3h5KTtcclxuXHRcdHRoaXMub2ZmKCdsb2FkIG1vdmVlbmQnLCB0aGlzLl9hbmltTW92ZUVuZCwgdGhpcyk7XHJcblx0XHRkZWxldGUgdGhpcy5fcHJveHk7XHJcblx0fSxcclxuXHJcblx0X2FuaW1Nb3ZlRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgYyA9IHRoaXMuZ2V0Q2VudGVyKCksXHJcblx0XHQgICAgeiA9IHRoaXMuZ2V0Wm9vbSgpO1xyXG5cdFx0RG9tVXRpbC5zZXRUcmFuc2Zvcm0odGhpcy5fcHJveHksIHRoaXMucHJvamVjdChjLCB6KSwgdGhpcy5nZXRab29tU2NhbGUoeiwgMSkpO1xyXG5cdH0sXHJcblxyXG5cdF9jYXRjaFRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAodGhpcy5fYW5pbWF0aW5nWm9vbSAmJiBlLnByb3BlcnR5TmFtZS5pbmRleE9mKCd0cmFuc2Zvcm0nKSA+PSAwKSB7XHJcblx0XHRcdHRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfbm90aGluZ1RvQW5pbWF0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICF0aGlzLl9jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGVhZmxldC16b29tLWFuaW1hdGVkJykubGVuZ3RoO1xyXG5cdH0sXHJcblxyXG5cdF90cnlBbmltYXRlZFpvb206IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIG9wdGlvbnMpIHtcclxuXHJcblx0XHRpZiAodGhpcy5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm4gdHJ1ZTsgfVxyXG5cclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuXHRcdC8vIGRvbid0IGFuaW1hdGUgaWYgZGlzYWJsZWQsIG5vdCBzdXBwb3J0ZWQgb3Igem9vbSBkaWZmZXJlbmNlIGlzIHRvbyBsYXJnZVxyXG5cdFx0aWYgKCF0aGlzLl96b29tQW5pbWF0ZWQgfHwgb3B0aW9ucy5hbmltYXRlID09PSBmYWxzZSB8fCB0aGlzLl9ub3RoaW5nVG9BbmltYXRlKCkgfHxcclxuXHRcdCAgICAgICAgTWF0aC5hYnMoem9vbSAtIHRoaXMuX3pvb20pID4gdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb25UaHJlc2hvbGQpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG5cdFx0Ly8gb2Zmc2V0IGlzIHRoZSBwaXhlbCBjb29yZHMgb2YgdGhlIHpvb20gb3JpZ2luIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IGNlbnRlclxyXG5cdFx0dmFyIHNjYWxlID0gdGhpcy5nZXRab29tU2NhbGUoem9vbSksXHJcblx0XHQgICAgb2Zmc2V0ID0gdGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KGNlbnRlcikuX2RpdmlkZUJ5KDEgLSAxIC8gc2NhbGUpO1xyXG5cclxuXHRcdC8vIGRvbid0IGFuaW1hdGUgaWYgdGhlIHpvb20gb3JpZ2luIGlzbid0IHdpdGhpbiBvbmUgc2NyZWVuIGZyb20gdGhlIGN1cnJlbnQgY2VudGVyLCB1bmxlc3MgZm9yY2VkXHJcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlICE9PSB0cnVlICYmICF0aGlzLmdldFNpemUoKS5jb250YWlucyhvZmZzZXQpKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdFV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHRoaXNcclxuXHRcdFx0ICAgIC5fbW92ZVN0YXJ0KHRydWUsIG9wdGlvbnMubm9Nb3ZlU3RhcnQgfHwgZmFsc2UpXHJcblx0XHRcdCAgICAuX2FuaW1hdGVab29tKGNlbnRlciwgem9vbSwgdHJ1ZSk7XHJcblx0XHR9LCB0aGlzKTtcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIHN0YXJ0QW5pbSwgbm9VcGRhdGUpIHtcclxuXHRcdGlmICghdGhpcy5fbWFwUGFuZSkgeyByZXR1cm47IH1cclxuXHJcblx0XHRpZiAoc3RhcnRBbmltKSB7XHJcblx0XHRcdHRoaXMuX2FuaW1hdGluZ1pvb20gPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gcmVtZW1iZXIgd2hhdCBjZW50ZXIvem9vbSB0byBzZXQgYWZ0ZXIgYW5pbWF0aW9uXHJcblx0XHRcdHRoaXMuX2FuaW1hdGVUb0NlbnRlciA9IGNlbnRlcjtcclxuXHRcdFx0dGhpcy5fYW5pbWF0ZVRvWm9vbSA9IHpvb207XHJcblxyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXpvb20tYW5pbScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBzZWN0aW9uIE90aGVyIEV2ZW50c1xyXG5cdFx0Ly8gQGV2ZW50IHpvb21hbmltOiBab29tQW5pbUV2ZW50XHJcblx0XHQvLyBGaXJlZCBhdCBsZWFzdCBvbmNlIHBlciB6b29tIGFuaW1hdGlvbi4gRm9yIGNvbnRpbnVvdXMgem9vbSwgbGlrZSBwaW5jaCB6b29taW5nLCBmaXJlZCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgem9vbS5cclxuXHRcdHRoaXMuZmlyZSgnem9vbWFuaW0nLCB7XHJcblx0XHRcdGNlbnRlcjogY2VudGVyLFxyXG5cdFx0XHR6b29tOiB6b29tLFxyXG5cdFx0XHRub1VwZGF0ZTogbm9VcGRhdGVcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICghdGhpcy5fdGVtcEZpcmVab29tRXZlbnQpIHtcclxuXHRcdFx0dGhpcy5fdGVtcEZpcmVab29tRXZlbnQgPSB0aGlzLl96b29tICE9PSB0aGlzLl9hbmltYXRlVG9ab29tO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX21vdmUodGhpcy5fYW5pbWF0ZVRvQ2VudGVyLCB0aGlzLl9hbmltYXRlVG9ab29tLCB1bmRlZmluZWQsIHRydWUpO1xyXG5cclxuXHRcdC8vIFdvcmsgYXJvdW5kIHdlYmtpdCBub3QgZmlyaW5nICd0cmFuc2l0aW9uZW5kJywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzM2ODksIDI2OTNcclxuXHRcdHNldFRpbWVvdXQoVXRpbC5iaW5kKHRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQsIHRoaXMpLCAyNTApO1xyXG5cdH0sXHJcblxyXG5cdF9vblpvb21UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcFBhbmUpIHtcclxuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXBQYW5lLCAnbGVhZmxldC16b29tLWFuaW0nKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9hbmltYXRpbmdab29tID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5fbW92ZSh0aGlzLl9hbmltYXRlVG9DZW50ZXIsIHRoaXMuX2FuaW1hdGVUb1pvb20sIHVuZGVmaW5lZCwgdHJ1ZSk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3RlbXBGaXJlWm9vbUV2ZW50KSB7XHJcblx0XHRcdHRoaXMuZmlyZSgnem9vbScpO1xyXG5cdFx0fVxyXG5cdFx0ZGVsZXRlIHRoaXMuX3RlbXBGaXJlWm9vbUV2ZW50O1xyXG5cclxuXHRcdHRoaXMuZmlyZSgnbW92ZScpO1xyXG5cclxuXHRcdHRoaXMuX21vdmVFbmQodHJ1ZSk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBzZWN0aW9uXHJcblxyXG4vLyBAZmFjdG9yeSBMLm1hcChpZDogU3RyaW5nLCBvcHRpb25zPzogTWFwIG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhIG1hcCBvYmplY3QgZ2l2ZW4gdGhlIERPTSBJRCBvZiBhIGA8ZGl2PmAgZWxlbWVudFxyXG4vLyBhbmQgb3B0aW9uYWxseSBhbiBvYmplY3QgbGl0ZXJhbCB3aXRoIGBNYXAgb3B0aW9uc2AuXHJcbi8vXHJcbi8vIEBhbHRlcm5hdGl2ZVxyXG4vLyBAZmFjdG9yeSBMLm1hcChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBNYXAgb3B0aW9ucylcclxuLy8gSW5zdGFudGlhdGVzIGEgbWFwIG9iamVjdCBnaXZlbiBhbiBpbnN0YW5jZSBvZiBhIGA8ZGl2PmAgSFRNTCBlbGVtZW50XHJcbi8vIGFuZCBvcHRpb25hbGx5IGFuIG9iamVjdCBsaXRlcmFsIHdpdGggYE1hcCBvcHRpb25zYC5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hcChpZCwgb3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgTWFwKGlkLCBvcHRpb25zKTtcclxufVxyXG4iLCAiXHJcbmltcG9ydCB7Q2xhc3N9IGZyb20gJy4uL2NvcmUvQ2xhc3MnO1xyXG5pbXBvcnQge01hcH0gZnJvbSAnLi4vbWFwL01hcCc7XHJcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgQ29udHJvbFxyXG4gKiBAYWthIEwuQ29udHJvbFxyXG4gKiBAaW5oZXJpdHMgQ2xhc3NcclxuICpcclxuICogTC5Db250cm9sIGlzIGEgYmFzZSBjbGFzcyBmb3IgaW1wbGVtZW50aW5nIG1hcCBjb250cm9scy4gSGFuZGxlcyBwb3NpdGlvbmluZy5cclxuICogQWxsIG90aGVyIGNvbnRyb2xzIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBDb250cm9sID0gQ2xhc3MuZXh0ZW5kKHtcclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgQ29udHJvbCBPcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBwb3NpdGlvbjogU3RyaW5nID0gJ3RvcHJpZ2h0J1xyXG5cdFx0Ly8gVGhlIHBvc2l0aW9uIG9mIHRoZSBjb250cm9sIChvbmUgb2YgdGhlIG1hcCBjb3JuZXJzKS4gUG9zc2libGUgdmFsdWVzIGFyZSBgJ3RvcGxlZnQnYCxcclxuXHRcdC8vIGAndG9wcmlnaHQnYCwgYCdib3R0b21sZWZ0J2Agb3IgYCdib3R0b21yaWdodCdgXHJcblx0XHRwb3NpdGlvbjogJ3RvcHJpZ2h0J1xyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0LyogQHNlY3Rpb25cclxuXHQgKiBDbGFzc2VzIGV4dGVuZGluZyBMLkNvbnRyb2wgd2lsbCBpbmhlcml0IHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcclxuXHQgKlxyXG5cdCAqIEBtZXRob2QgZ2V0UG9zaXRpb246IHN0cmluZ1xyXG5cdCAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBjb250cm9sLlxyXG5cdCAqL1xyXG5cdGdldFBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0UG9zaXRpb24ocG9zaXRpb246IHN0cmluZyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbC5cclxuXHRzZXRQb3NpdGlvbjogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwO1xyXG5cclxuXHRcdGlmIChtYXApIHtcclxuXHRcdFx0bWFwLnJlbW92ZUNvbnRyb2wodGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5vcHRpb25zLnBvc2l0aW9uID0gcG9zaXRpb247XHJcblxyXG5cdFx0aWYgKG1hcCkge1xyXG5cdFx0XHRtYXAuYWRkQ29udHJvbCh0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBIVE1MRWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBjb250cm9sLlxyXG5cdGdldENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZFRvKG1hcDogTWFwKTogdGhpc1xyXG5cdC8vIEFkZHMgdGhlIGNvbnRyb2wgdG8gdGhlIGdpdmVuIG1hcC5cclxuXHRhZGRUbzogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dGhpcy5yZW1vdmUoKTtcclxuXHRcdHRoaXMuX21hcCA9IG1hcDtcclxuXHJcblx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gdGhpcy5vbkFkZChtYXApLFxyXG5cdFx0ICAgIHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oKSxcclxuXHRcdCAgICBjb3JuZXIgPSBtYXAuX2NvbnRyb2xDb3JuZXJzW3Bvc107XHJcblxyXG5cdFx0RG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wnKTtcclxuXHJcblx0XHRpZiAocG9zLmluZGV4T2YoJ2JvdHRvbScpICE9PSAtMSkge1xyXG5cdFx0XHRjb3JuZXIuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgY29ybmVyLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29ybmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbWFwLm9uKCd1bmxvYWQnLCB0aGlzLnJlbW92ZSwgdGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZW1vdmU6IHRoaXNcclxuXHQvLyBSZW1vdmVzIHRoZSBjb250cm9sIGZyb20gdGhlIG1hcCBpdCBpcyBjdXJyZW50bHkgYWN0aXZlIG9uLlxyXG5cdHJlbW92ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9tYXApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcclxuXHJcblx0XHRpZiAodGhpcy5vblJlbW92ZSkge1xyXG5cdFx0XHR0aGlzLm9uUmVtb3ZlKHRoaXMuX21hcCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbWFwLm9mZigndW5sb2FkJywgdGhpcy5yZW1vdmUsIHRoaXMpO1xyXG5cdFx0dGhpcy5fbWFwID0gbnVsbDtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfcmVmb2N1c09uTWFwOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0Ly8gaWYgbWFwIGV4aXN0cyBhbmQgZXZlbnQgaXMgbm90IGEga2V5Ym9hcmQgZXZlbnRcclxuXHRcdGlmICh0aGlzLl9tYXAgJiYgZSAmJiBlLnNjcmVlblggPiAwICYmIGUuc2NyZWVuWSA+IDApIHtcclxuXHRcdFx0dGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmV4cG9ydCB2YXIgY29udHJvbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBDb250cm9sKG9wdGlvbnMpO1xyXG59O1xyXG5cclxuLyogQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcclxuICogQHVuaW5oZXJpdGFibGVcclxuICpcclxuICogRXZlcnkgY29udHJvbCBzaG91bGQgZXh0ZW5kIGZyb20gYEwuQ29udHJvbGAgYW5kIChyZS0paW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgbWV0aG9kcy5cclxuICpcclxuICogQG1ldGhvZCBvbkFkZChtYXA6IE1hcCk6IEhUTUxFbGVtZW50XHJcbiAqIFNob3VsZCByZXR1cm4gdGhlIGNvbnRhaW5lciBET00gZWxlbWVudCBmb3IgdGhlIGNvbnRyb2wgYW5kIGFkZCBsaXN0ZW5lcnMgb24gcmVsZXZhbnQgbWFwIGV2ZW50cy4gQ2FsbGVkIG9uIFtgY29udHJvbC5hZGRUbyhtYXApYF0oI2NvbnRyb2wtYWRkVG8pLlxyXG4gKlxyXG4gKiBAbWV0aG9kIG9uUmVtb3ZlKG1hcDogTWFwKVxyXG4gKiBPcHRpb25hbCBtZXRob2QuIFNob3VsZCBjb250YWluIGFsbCBjbGVhbiB1cCBjb2RlIHRoYXQgcmVtb3ZlcyB0aGUgbGlzdGVuZXJzIHByZXZpb3VzbHkgYWRkZWQgaW4gW2BvbkFkZGBdKCNjb250cm9sLW9uYWRkKS4gQ2FsbGVkIG9uIFtgY29udHJvbC5yZW1vdmUoKWBdKCNjb250cm9sLXJlbW92ZSkuXHJcbiAqL1xyXG5cclxuLyogQG5hbWVzcGFjZSBNYXBcclxuICogQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xyXG4gKi9cclxuTWFwLmluY2x1ZGUoe1xyXG5cdC8vIEBtZXRob2QgYWRkQ29udHJvbChjb250cm9sOiBDb250cm9sKTogdGhpc1xyXG5cdC8vIEFkZHMgdGhlIGdpdmVuIGNvbnRyb2wgdG8gdGhlIG1hcFxyXG5cdGFkZENvbnRyb2w6IGZ1bmN0aW9uIChjb250cm9sKSB7XHJcblx0XHRjb250cm9sLmFkZFRvKHRoaXMpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCByZW1vdmVDb250cm9sKGNvbnRyb2w6IENvbnRyb2wpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyB0aGUgZ2l2ZW4gY29udHJvbCBmcm9tIHRoZSBtYXBcclxuXHRyZW1vdmVDb250cm9sOiBmdW5jdGlvbiAoY29udHJvbCkge1xyXG5cdFx0Y29udHJvbC5yZW1vdmUoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0Q29udHJvbFBvczogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGNvcm5lcnMgPSB0aGlzLl9jb250cm9sQ29ybmVycyA9IHt9LFxyXG5cdFx0ICAgIGwgPSAnbGVhZmxldC0nLFxyXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRyb2xDb250YWluZXIgPVxyXG5cdFx0ICAgICAgICAgICAgRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGwgKyAnY29udHJvbC1jb250YWluZXInLCB0aGlzLl9jb250YWluZXIpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUNvcm5lcih2U2lkZSwgaFNpZGUpIHtcclxuXHRcdFx0dmFyIGNsYXNzTmFtZSA9IGwgKyB2U2lkZSArICcgJyArIGwgKyBoU2lkZTtcclxuXHJcblx0XHRcdGNvcm5lcnNbdlNpZGUgKyBoU2lkZV0gPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lLCBjb250YWluZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNyZWF0ZUNvcm5lcigndG9wJywgJ2xlZnQnKTtcclxuXHRcdGNyZWF0ZUNvcm5lcigndG9wJywgJ3JpZ2h0Jyk7XHJcblx0XHRjcmVhdGVDb3JuZXIoJ2JvdHRvbScsICdsZWZ0Jyk7XHJcblx0XHRjcmVhdGVDb3JuZXIoJ2JvdHRvbScsICdyaWdodCcpO1xyXG5cdH0sXHJcblxyXG5cdF9jbGVhckNvbnRyb2xQb3M6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fY29udHJvbENvcm5lcnMpIHtcclxuXHRcdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udHJvbENvcm5lcnNbaV0pO1xyXG5cdFx0fVxyXG5cdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udHJvbENvbnRhaW5lcik7XHJcblx0XHRkZWxldGUgdGhpcy5fY29udHJvbENvcm5lcnM7XHJcblx0XHRkZWxldGUgdGhpcy5fY29udHJvbENvbnRhaW5lcjtcclxuXHR9XHJcbn0pO1xyXG4iLCAiXHJcbmltcG9ydCB7Q29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi9kb20vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBDb250cm9sLkxheWVyc1xyXG4gKiBAYWthIEwuQ29udHJvbC5MYXllcnNcclxuICogQGluaGVyaXRzIENvbnRyb2xcclxuICpcclxuICogVGhlIGxheWVycyBjb250cm9sIGdpdmVzIHVzZXJzIHRoZSBhYmlsaXR5IHRvIHN3aXRjaCBiZXR3ZWVuIGRpZmZlcmVudCBiYXNlIGxheWVycyBhbmQgc3dpdGNoIG92ZXJsYXlzIG9uL29mZiAoY2hlY2sgb3V0IHRoZSBbZGV0YWlsZWQgZXhhbXBsZV0oaHR0cHM6Ly9sZWFmbGV0anMuY29tL2V4YW1wbGVzL2xheWVycy1jb250cm9sLykpLiBFeHRlbmRzIGBDb250cm9sYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIGJhc2VMYXllcnMgPSB7XHJcbiAqIFx0XCJNYXBib3hcIjogbWFwYm94LFxyXG4gKiBcdFwiT3BlblN0cmVldE1hcFwiOiBvc21cclxuICogfTtcclxuICpcclxuICogdmFyIG92ZXJsYXlzID0ge1xyXG4gKiBcdFwiTWFya2VyXCI6IG1hcmtlcixcclxuICogXHRcIlJvYWRzXCI6IHJvYWRzTGF5ZXJcclxuICogfTtcclxuICpcclxuICogTC5jb250cm9sLmxheWVycyhiYXNlTGF5ZXJzLCBvdmVybGF5cykuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBgYmFzZUxheWVyc2AgYW5kIGBvdmVybGF5c2AgcGFyYW1ldGVycyBhcmUgb2JqZWN0IGxpdGVyYWxzIHdpdGggbGF5ZXIgbmFtZXMgYXMga2V5cyBhbmQgYExheWVyYCBvYmplY3RzIGFzIHZhbHVlczpcclxuICpcclxuICogYGBganNcclxuICoge1xyXG4gKiAgICAgXCI8c29tZU5hbWUxPlwiOiBsYXllcjEsXHJcbiAqICAgICBcIjxzb21lTmFtZTI+XCI6IGxheWVyMlxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgbGF5ZXIgbmFtZXMgY2FuIGNvbnRhaW4gSFRNTCwgd2hpY2ggYWxsb3dzIHlvdSB0byBhZGQgYWRkaXRpb25hbCBzdHlsaW5nIHRvIHRoZSBpdGVtczpcclxuICpcclxuICogYGBganNcclxuICoge1wiPGltZyBzcmM9J215LWxheWVyLWljb24nIC8+IDxzcGFuIGNsYXNzPSdteS1sYXllci1pdGVtJz5NeSBMYXllcjwvc3Bhbj5cIjogbXlMYXllcn1cclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBMYXllcnMgPSBDb250cm9sLmV4dGVuZCh7XHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIENvbnRyb2wuTGF5ZXJzIG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGNvbGxhcHNlZDogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIGNvbnRyb2wgd2lsbCBiZSBjb2xsYXBzZWQgaW50byBhbiBpY29uIGFuZCBleHBhbmRlZCBvbiBtb3VzZSBob3ZlciwgdG91Y2gsIG9yIGtleWJvYXJkIGFjdGl2YXRpb24uXHJcblx0XHRjb2xsYXBzZWQ6IHRydWUsXHJcblx0XHRwb3NpdGlvbjogJ3RvcHJpZ2h0JyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9aSW5kZXg6IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBjb250cm9sIHdpbGwgYXNzaWduIHpJbmRleGVzIGluIGluY3JlYXNpbmcgb3JkZXIgdG8gYWxsIG9mIGl0cyBsYXllcnMgc28gdGhhdCB0aGUgb3JkZXIgaXMgcHJlc2VydmVkIHdoZW4gc3dpdGNoaW5nIHRoZW0gb24vb2ZmLlxyXG5cdFx0YXV0b1pJbmRleDogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGhpZGVTaW5nbGVCYXNlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgdGhlIGJhc2UgbGF5ZXJzIGluIHRoZSBjb250cm9sIHdpbGwgYmUgaGlkZGVuIHdoZW4gdGhlcmUgaXMgb25seSBvbmUuXHJcblx0XHRoaWRlU2luZ2xlQmFzZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBzb3J0TGF5ZXJzOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFdoZXRoZXIgdG8gc29ydCB0aGUgbGF5ZXJzLiBXaGVuIGBmYWxzZWAsIGxheWVycyB3aWxsIGtlZXAgdGhlIG9yZGVyXHJcblx0XHQvLyBpbiB3aGljaCB0aGV5IHdlcmUgYWRkZWQgdG8gdGhlIGNvbnRyb2wuXHJcblx0XHRzb3J0TGF5ZXJzOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHNvcnRGdW5jdGlvbjogRnVuY3Rpb24gPSAqXHJcblx0XHQvLyBBIFtjb21wYXJlIGZ1bmN0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb3J0KVxyXG5cdFx0Ly8gdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHNvcnRpbmcgdGhlIGxheWVycywgd2hlbiBgc29ydExheWVyc2AgaXMgYHRydWVgLlxyXG5cdFx0Ly8gVGhlIGZ1bmN0aW9uIHJlY2VpdmVzIGJvdGggdGhlIGBMLkxheWVyYCBpbnN0YW5jZXMgYW5kIHRoZWlyIG5hbWVzLCBhcyBpblxyXG5cdFx0Ly8gYHNvcnRGdW5jdGlvbihsYXllckEsIGxheWVyQiwgbmFtZUEsIG5hbWVCKWAuXHJcblx0XHQvLyBCeSBkZWZhdWx0LCBpdCBzb3J0cyBsYXllcnMgYWxwaGFiZXRpY2FsbHkgYnkgdGhlaXIgbmFtZS5cclxuXHRcdHNvcnRGdW5jdGlvbjogZnVuY3Rpb24gKGxheWVyQSwgbGF5ZXJCLCBuYW1lQSwgbmFtZUIpIHtcclxuXHRcdFx0cmV0dXJuIG5hbWVBIDwgbmFtZUIgPyAtMSA6IChuYW1lQiA8IG5hbWVBID8gMSA6IDApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChiYXNlTGF5ZXJzLCBvdmVybGF5cywgb3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuX2xheWVyQ29udHJvbElucHV0cyA9IFtdO1xyXG5cdFx0dGhpcy5fbGF5ZXJzID0gW107XHJcblx0XHR0aGlzLl9sYXN0WkluZGV4ID0gMDtcclxuXHRcdHRoaXMuX2hhbmRsaW5nQ2xpY2sgPSBmYWxzZTtcclxuXHRcdHRoaXMuX3ByZXZlbnRDbGljayA9IGZhbHNlO1xyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gYmFzZUxheWVycykge1xyXG5cdFx0XHR0aGlzLl9hZGRMYXllcihiYXNlTGF5ZXJzW2ldLCBpKTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGkgaW4gb3ZlcmxheXMpIHtcclxuXHRcdFx0dGhpcy5fYWRkTGF5ZXIob3ZlcmxheXNbaV0sIGksIHRydWUpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLl9pbml0TGF5b3V0KCk7XHJcblx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHJcblx0XHR0aGlzLl9tYXAgPSBtYXA7XHJcblx0XHRtYXAub24oJ3pvb21lbmQnLCB0aGlzLl9jaGVja0Rpc2FibGVkTGF5ZXJzLCB0aGlzKTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLl9sYXllcnNbaV0ubGF5ZXIub24oJ2FkZCByZW1vdmUnLCB0aGlzLl9vbkxheWVyQ2hhbmdlLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cdGFkZFRvOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRDb250cm9sLnByb3RvdHlwZS5hZGRUby5jYWxsKHRoaXMsIG1hcCk7XHJcblx0XHQvLyBUcmlnZ2VyIGV4cGFuZCBhZnRlciBMYXllcnMgQ29udHJvbCBoYXMgYmVlbiBpbnNlcnRlZCBpbnRvIERPTSBzbyB0aGF0IGlzIG5vdyBoYXMgYW4gYWN0dWFsIGhlaWdodC5cclxuXHRcdHJldHVybiB0aGlzLl9leHBhbmRJZk5vdENvbGxhcHNlZCgpO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLl9tYXAub2ZmKCd6b29tZW5kJywgdGhpcy5fY2hlY2tEaXNhYmxlZExheWVycywgdGhpcyk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9sYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5fbGF5ZXJzW2ldLmxheWVyLm9mZignYWRkIHJlbW92ZScsIHRoaXMuX29uTGF5ZXJDaGFuZ2UsIHRoaXMpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYWRkQmFzZUxheWVyKGxheWVyOiBMYXllciwgbmFtZTogU3RyaW5nKTogdGhpc1xyXG5cdC8vIEFkZHMgYSBiYXNlIGxheWVyIChyYWRpbyBidXR0b24gZW50cnkpIHdpdGggdGhlIGdpdmVuIG5hbWUgdG8gdGhlIGNvbnRyb2wuXHJcblx0YWRkQmFzZUxheWVyOiBmdW5jdGlvbiAobGF5ZXIsIG5hbWUpIHtcclxuXHRcdHRoaXMuX2FkZExheWVyKGxheWVyLCBuYW1lKTtcclxuXHRcdHJldHVybiAodGhpcy5fbWFwKSA/IHRoaXMuX3VwZGF0ZSgpIDogdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZE92ZXJsYXkobGF5ZXI6IExheWVyLCBuYW1lOiBTdHJpbmcpOiB0aGlzXHJcblx0Ly8gQWRkcyBhbiBvdmVybGF5IChjaGVja2JveCBlbnRyeSkgd2l0aCB0aGUgZ2l2ZW4gbmFtZSB0byB0aGUgY29udHJvbC5cclxuXHRhZGRPdmVybGF5OiBmdW5jdGlvbiAobGF5ZXIsIG5hbWUpIHtcclxuXHRcdHRoaXMuX2FkZExheWVyKGxheWVyLCBuYW1lLCB0cnVlKTtcclxuXHRcdHJldHVybiAodGhpcy5fbWFwKSA/IHRoaXMuX3VwZGF0ZSgpIDogdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUxheWVyKGxheWVyOiBMYXllcik6IHRoaXNcclxuXHQvLyBSZW1vdmUgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIGNvbnRyb2wuXHJcblx0cmVtb3ZlTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0bGF5ZXIub2ZmKCdhZGQgcmVtb3ZlJywgdGhpcy5fb25MYXllckNoYW5nZSwgdGhpcyk7XHJcblxyXG5cdFx0dmFyIG9iaiA9IHRoaXMuX2dldExheWVyKFV0aWwuc3RhbXAobGF5ZXIpKTtcclxuXHRcdGlmIChvYmopIHtcclxuXHRcdFx0dGhpcy5fbGF5ZXJzLnNwbGljZSh0aGlzLl9sYXllcnMuaW5kZXhPZihvYmopLCAxKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAodGhpcy5fbWFwKSA/IHRoaXMuX3VwZGF0ZSgpIDogdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGV4cGFuZCgpOiB0aGlzXHJcblx0Ly8gRXhwYW5kIHRoZSBjb250cm9sIGNvbnRhaW5lciBpZiBjb2xsYXBzZWQuXHJcblx0ZXhwYW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQnKTtcclxuXHRcdHRoaXMuX3NlY3Rpb24uc3R5bGUuaGVpZ2h0ID0gbnVsbDtcclxuXHRcdHZhciBhY2NlcHRhYmxlSGVpZ2h0ID0gdGhpcy5fbWFwLmdldFNpemUoKS55IC0gKHRoaXMuX2NvbnRhaW5lci5vZmZzZXRUb3AgKyA1MCk7XHJcblx0XHRpZiAoYWNjZXB0YWJsZUhlaWdodCA8IHRoaXMuX3NlY3Rpb24uY2xpZW50SGVpZ2h0KSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fc2VjdGlvbiwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtc2Nyb2xsYmFyJyk7XHJcblx0XHRcdHRoaXMuX3NlY3Rpb24uc3R5bGUuaGVpZ2h0ID0gYWNjZXB0YWJsZUhlaWdodCArICdweCc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3NlY3Rpb24sICdsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNjcm9sbGJhcicpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fY2hlY2tEaXNhYmxlZExheWVycygpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjb2xsYXBzZSgpOiB0aGlzXHJcblx0Ly8gQ29sbGFwc2UgdGhlIGNvbnRyb2wgY29udGFpbmVyIGlmIGV4cGFuZGVkLlxyXG5cdGNvbGxhcHNlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQnKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0TGF5b3V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1sYXllcnMnLFxyXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUpLFxyXG5cdFx0ICAgIGNvbGxhcHNlZCA9IHRoaXMub3B0aW9ucy5jb2xsYXBzZWQ7XHJcblxyXG5cdFx0Ly8gbWFrZXMgdGhpcyB3b3JrIG9uIElFIHRvdWNoIGRldmljZXMgYnkgc3RvcHBpbmcgaXQgZnJvbSBmaXJpbmcgYSBtb3VzZW91dCBldmVudCB3aGVuIHRoZSB0b3VjaCBpcyByZWxlYXNlZFxyXG5cdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgnYXJpYS1oYXNwb3B1cCcsIHRydWUpO1xyXG5cclxuXHRcdERvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGNvbnRhaW5lcik7XHJcblx0XHREb21FdmVudC5kaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24oY29udGFpbmVyKTtcclxuXHJcblx0XHR2YXIgc2VjdGlvbiA9IHRoaXMuX3NlY3Rpb24gPSBEb21VdGlsLmNyZWF0ZSgnc2VjdGlvbicsIGNsYXNzTmFtZSArICctbGlzdCcpO1xyXG5cclxuXHRcdGlmIChjb2xsYXBzZWQpIHtcclxuXHRcdFx0dGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuY29sbGFwc2UsIHRoaXMpO1xyXG5cclxuXHRcdFx0RG9tRXZlbnQub24oY29udGFpbmVyLCB7XHJcblx0XHRcdFx0bW91c2VlbnRlcjogdGhpcy5fZXhwYW5kU2FmZWx5LFxyXG5cdFx0XHRcdG1vdXNlbGVhdmU6IHRoaXMuY29sbGFwc2VcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGxpbmsgPSB0aGlzLl9sYXllcnNMaW5rID0gRG9tVXRpbC5jcmVhdGUoJ2EnLCBjbGFzc05hbWUgKyAnLXRvZ2dsZScsIGNvbnRhaW5lcik7XHJcblx0XHRsaW5rLmhyZWYgPSAnIyc7XHJcblx0XHRsaW5rLnRpdGxlID0gJ0xheWVycyc7XHJcblx0XHRsaW5rLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcclxuXHJcblx0XHREb21FdmVudC5vbihsaW5rLCB7XHJcblx0XHRcdGtleWRvd246IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcclxuXHRcdFx0XHRcdHRoaXMuX2V4cGFuZFNhZmVseSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0Ly8gQ2VydGFpbiBzY3JlZW4gcmVhZGVycyBpbnRlcmNlcHQgdGhlIGtleSBldmVudCBhbmQgaW5zdGVhZCBzZW5kIGEgY2xpY2sgZXZlbnRcclxuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XHJcblx0XHRcdFx0dGhpcy5fZXhwYW5kU2FmZWx5KCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIHRoaXMpO1xyXG5cclxuXHRcdGlmICghY29sbGFwc2VkKSB7XHJcblx0XHRcdHRoaXMuZXhwYW5kKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fYmFzZUxheWVyc0xpc3QgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJy1iYXNlJywgc2VjdGlvbik7XHJcblx0XHR0aGlzLl9zZXBhcmF0b3IgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJy1zZXBhcmF0b3InLCBzZWN0aW9uKTtcclxuXHRcdHRoaXMuX292ZXJsYXlzTGlzdCA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUgKyAnLW92ZXJsYXlzJywgc2VjdGlvbik7XHJcblxyXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb24pO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRMYXllcjogZnVuY3Rpb24gKGlkKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7IGkrKykge1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuX2xheWVyc1tpXSAmJiBVdGlsLnN0YW1wKHRoaXMuX2xheWVyc1tpXS5sYXllcikgPT09IGlkKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2xheWVyc1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9hZGRMYXllcjogZnVuY3Rpb24gKGxheWVyLCBuYW1lLCBvdmVybGF5KSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdGxheWVyLm9uKCdhZGQgcmVtb3ZlJywgdGhpcy5fb25MYXllckNoYW5nZSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fbGF5ZXJzLnB1c2goe1xyXG5cdFx0XHRsYXllcjogbGF5ZXIsXHJcblx0XHRcdG5hbWU6IG5hbWUsXHJcblx0XHRcdG92ZXJsYXk6IG92ZXJsYXlcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuc29ydExheWVycykge1xyXG5cdFx0XHR0aGlzLl9sYXllcnMuc29ydChVdGlsLmJpbmQoZnVuY3Rpb24gKGEsIGIpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLnNvcnRGdW5jdGlvbihhLmxheWVyLCBiLmxheWVyLCBhLm5hbWUsIGIubmFtZSk7XHJcblx0XHRcdH0sIHRoaXMpKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmF1dG9aSW5kZXggJiYgbGF5ZXIuc2V0WkluZGV4KSB7XHJcblx0XHRcdHRoaXMuX2xhc3RaSW5kZXgrKztcclxuXHRcdFx0bGF5ZXIuc2V0WkluZGV4KHRoaXMuX2xhc3RaSW5kZXgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2V4cGFuZElmTm90Q29sbGFwc2VkKCk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9jb250YWluZXIpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHREb21VdGlsLmVtcHR5KHRoaXMuX2Jhc2VMYXllcnNMaXN0KTtcclxuXHRcdERvbVV0aWwuZW1wdHkodGhpcy5fb3ZlcmxheXNMaXN0KTtcclxuXHJcblx0XHR0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMgPSBbXTtcclxuXHRcdHZhciBiYXNlTGF5ZXJzUHJlc2VudCwgb3ZlcmxheXNQcmVzZW50LCBpLCBvYmosIGJhc2VMYXllcnNDb3VudCA9IDA7XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRvYmogPSB0aGlzLl9sYXllcnNbaV07XHJcblx0XHRcdHRoaXMuX2FkZEl0ZW0ob2JqKTtcclxuXHRcdFx0b3ZlcmxheXNQcmVzZW50ID0gb3ZlcmxheXNQcmVzZW50IHx8IG9iai5vdmVybGF5O1xyXG5cdFx0XHRiYXNlTGF5ZXJzUHJlc2VudCA9IGJhc2VMYXllcnNQcmVzZW50IHx8ICFvYmoub3ZlcmxheTtcclxuXHRcdFx0YmFzZUxheWVyc0NvdW50ICs9ICFvYmoub3ZlcmxheSA/IDEgOiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEhpZGUgYmFzZSBsYXllcnMgc2VjdGlvbiBpZiB0aGVyZSdzIG9ubHkgb25lIGxheWVyLlxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5oaWRlU2luZ2xlQmFzZSkge1xyXG5cdFx0XHRiYXNlTGF5ZXJzUHJlc2VudCA9IGJhc2VMYXllcnNQcmVzZW50ICYmIGJhc2VMYXllcnNDb3VudCA+IDE7XHJcblx0XHRcdHRoaXMuX2Jhc2VMYXllcnNMaXN0LnN0eWxlLmRpc3BsYXkgPSBiYXNlTGF5ZXJzUHJlc2VudCA/ICcnIDogJ25vbmUnO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3NlcGFyYXRvci5zdHlsZS5kaXNwbGF5ID0gb3ZlcmxheXNQcmVzZW50ICYmIGJhc2VMYXllcnNQcmVzZW50ID8gJycgOiAnbm9uZSc7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X29uTGF5ZXJDaGFuZ2U6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoIXRoaXMuX2hhbmRsaW5nQ2xpY2spIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG9iaiA9IHRoaXMuX2dldExheWVyKFV0aWwuc3RhbXAoZS50YXJnZXQpKTtcclxuXHJcblx0XHQvLyBAbmFtZXNwYWNlIE1hcFxyXG5cdFx0Ly8gQHNlY3Rpb24gTGF5ZXIgZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgYmFzZWxheWVyY2hhbmdlOiBMYXllcnNDb250cm9sRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIGJhc2UgbGF5ZXIgaXMgY2hhbmdlZCB0aHJvdWdoIHRoZSBbbGF5ZXJzIGNvbnRyb2xdKCNjb250cm9sLWxheWVycykuXHJcblx0XHQvLyBAZXZlbnQgb3ZlcmxheWFkZDogTGF5ZXJzQ29udHJvbEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGFuIG92ZXJsYXkgaXMgc2VsZWN0ZWQgdGhyb3VnaCB0aGUgW2xheWVycyBjb250cm9sXSgjY29udHJvbC1sYXllcnMpLlxyXG5cdFx0Ly8gQGV2ZW50IG92ZXJsYXlyZW1vdmU6IExheWVyc0NvbnRyb2xFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhbiBvdmVybGF5IGlzIGRlc2VsZWN0ZWQgdGhyb3VnaCB0aGUgW2xheWVycyBjb250cm9sXSgjY29udHJvbC1sYXllcnMpLlxyXG5cdFx0Ly8gQG5hbWVzcGFjZSBDb250cm9sLkxheWVyc1xyXG5cdFx0dmFyIHR5cGUgPSBvYmoub3ZlcmxheSA/XHJcblx0XHRcdChlLnR5cGUgPT09ICdhZGQnID8gJ292ZXJsYXlhZGQnIDogJ292ZXJsYXlyZW1vdmUnKSA6XHJcblx0XHRcdChlLnR5cGUgPT09ICdhZGQnID8gJ2Jhc2VsYXllcmNoYW5nZScgOiBudWxsKTtcclxuXHJcblx0XHRpZiAodHlwZSkge1xyXG5cdFx0XHR0aGlzLl9tYXAuZmlyZSh0eXBlLCBvYmopO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIElFNyBidWdzIG91dCBpZiB5b3UgY3JlYXRlIGEgcmFkaW8gZHluYW1pY2FsbHksIHNvIHlvdSBoYXZlIHRvIGRvIGl0IHRoaXMgaGFja3kgd2F5IChzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExOTA3OSlcclxuXHRfY3JlYXRlUmFkaW9FbGVtZW50OiBmdW5jdGlvbiAobmFtZSwgY2hlY2tlZCkge1xyXG5cclxuXHRcdHZhciByYWRpb0h0bWwgPSAnPGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwibGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvclwiIG5hbWU9XCInICtcclxuXHRcdFx0XHRuYW1lICsgJ1wiJyArIChjaGVja2VkID8gJyBjaGVja2VkPVwiY2hlY2tlZFwiJyA6ICcnKSArICcvPic7XHJcblxyXG5cdFx0dmFyIHJhZGlvRnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdHJhZGlvRnJhZ21lbnQuaW5uZXJIVE1MID0gcmFkaW9IdG1sO1xyXG5cclxuXHRcdHJldHVybiByYWRpb0ZyYWdtZW50LmZpcnN0Q2hpbGQ7XHJcblx0fSxcclxuXHJcblx0X2FkZEl0ZW06IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyksXHJcblx0XHQgICAgY2hlY2tlZCA9IHRoaXMuX21hcC5oYXNMYXllcihvYmoubGF5ZXIpLFxyXG5cdFx0ICAgIGlucHV0O1xyXG5cclxuXHRcdGlmIChvYmoub3ZlcmxheSkge1xyXG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblx0XHRcdGlucHV0LnR5cGUgPSAnY2hlY2tib3gnO1xyXG5cdFx0XHRpbnB1dC5jbGFzc05hbWUgPSAnbGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3Rvcic7XHJcblx0XHRcdGlucHV0LmRlZmF1bHRDaGVja2VkID0gY2hlY2tlZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlucHV0ID0gdGhpcy5fY3JlYXRlUmFkaW9FbGVtZW50KCdsZWFmbGV0LWJhc2UtbGF5ZXJzXycgKyBVdGlsLnN0YW1wKHRoaXMpLCBjaGVja2VkKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMucHVzaChpbnB1dCk7XHJcblx0XHRpbnB1dC5sYXllcklkID0gVXRpbC5zdGFtcChvYmoubGF5ZXIpO1xyXG5cclxuXHRcdERvbUV2ZW50Lm9uKGlucHV0LCAnY2xpY2snLCB0aGlzLl9vbklucHV0Q2xpY2ssIHRoaXMpO1xyXG5cclxuXHRcdHZhciBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0bmFtZS5pbm5lckhUTUwgPSAnICcgKyBvYmoubmFtZTtcclxuXHJcblx0XHQvLyBIZWxwcyBmcm9tIHByZXZlbnRpbmcgbGF5ZXIgY29udHJvbCBmbGlja2VyIHdoZW4gY2hlY2tib3hlcyBhcmUgZGlzYWJsZWRcclxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzI3NzFcclxuXHRcdHZhciBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG5cdFx0bGFiZWwuYXBwZW5kQ2hpbGQoaG9sZGVyKTtcclxuXHRcdGhvbGRlci5hcHBlbmRDaGlsZChpbnB1dCk7XHJcblx0XHRob2xkZXIuYXBwZW5kQ2hpbGQobmFtZSk7XHJcblxyXG5cdFx0dmFyIGNvbnRhaW5lciA9IG9iai5vdmVybGF5ID8gdGhpcy5fb3ZlcmxheXNMaXN0IDogdGhpcy5fYmFzZUxheWVyc0xpc3Q7XHJcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuXHRcdHRoaXMuX2NoZWNrRGlzYWJsZWRMYXllcnMoKTtcclxuXHRcdHJldHVybiBsYWJlbDtcclxuXHR9LFxyXG5cclxuXHRfb25JbnB1dENsaWNrOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBleHBhbmRpbmcgdGhlIGNvbnRyb2wgb24gbW9iaWxlIHdpdGggYSBjbGljayBjYW4gY2F1c2UgYWRkaW5nIGEgbGF5ZXIgLSB3ZSBkb24ndCB3YW50IHRoaXNcclxuXHRcdGlmICh0aGlzLl9wcmV2ZW50Q2xpY2spIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBpbnB1dHMgPSB0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMsXHJcblx0XHQgICAgaW5wdXQsIGxheWVyO1xyXG5cdFx0dmFyIGFkZGVkTGF5ZXJzID0gW10sXHJcblx0XHQgICAgcmVtb3ZlZExheWVycyA9IFtdO1xyXG5cclxuXHRcdHRoaXMuX2hhbmRsaW5nQ2xpY2sgPSB0cnVlO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSBpbnB1dHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0aW5wdXQgPSBpbnB1dHNbaV07XHJcblx0XHRcdGxheWVyID0gdGhpcy5fZ2V0TGF5ZXIoaW5wdXQubGF5ZXJJZCkubGF5ZXI7XHJcblxyXG5cdFx0XHRpZiAoaW5wdXQuY2hlY2tlZCkge1xyXG5cdFx0XHRcdGFkZGVkTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCFpbnB1dC5jaGVja2VkKSB7XHJcblx0XHRcdFx0cmVtb3ZlZExheWVycy5wdXNoKGxheWVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEJ1Z2ZpeCBpc3N1ZSAyMzE4OiBTaG91bGQgcmVtb3ZlIGFsbCBvbGQgbGF5ZXJzIGJlZm9yZSByZWFkZGluZyBuZXcgb25lc1xyXG5cdFx0Zm9yIChpID0gMDsgaSA8IHJlbW92ZWRMYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKHRoaXMuX21hcC5oYXNMYXllcihyZW1vdmVkTGF5ZXJzW2ldKSkge1xyXG5cdFx0XHRcdHRoaXMuX21hcC5yZW1vdmVMYXllcihyZW1vdmVkTGF5ZXJzW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGFkZGVkTGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICghdGhpcy5fbWFwLmhhc0xheWVyKGFkZGVkTGF5ZXJzW2ldKSkge1xyXG5cdFx0XHRcdHRoaXMuX21hcC5hZGRMYXllcihhZGRlZExheWVyc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9oYW5kbGluZ0NsaWNrID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5fcmVmb2N1c09uTWFwKCk7XHJcblx0fSxcclxuXHJcblx0X2NoZWNrRGlzYWJsZWRMYXllcnM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBpbnB1dHMgPSB0aGlzLl9sYXllckNvbnRyb2xJbnB1dHMsXHJcblx0XHQgICAgaW5wdXQsXHJcblx0XHQgICAgbGF5ZXIsXHJcblx0XHQgICAgem9vbSA9IHRoaXMuX21hcC5nZXRab29tKCk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IGlucHV0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRpbnB1dCA9IGlucHV0c1tpXTtcclxuXHRcdFx0bGF5ZXIgPSB0aGlzLl9nZXRMYXllcihpbnB1dC5sYXllcklkKS5sYXllcjtcclxuXHRcdFx0aW5wdXQuZGlzYWJsZWQgPSAobGF5ZXIub3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgJiYgem9vbSA8IGxheWVyLm9wdGlvbnMubWluWm9vbSkgfHxcclxuXHRcdFx0ICAgICAgICAgICAgICAgICAobGF5ZXIub3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgJiYgem9vbSA+IGxheWVyLm9wdGlvbnMubWF4Wm9vbSk7XHJcblxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9leHBhbmRJZk5vdENvbGxhcHNlZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCAmJiAhdGhpcy5vcHRpb25zLmNvbGxhcHNlZCkge1xyXG5cdFx0XHR0aGlzLmV4cGFuZCgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X2V4cGFuZFNhZmVseTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHNlY3Rpb24gPSB0aGlzLl9zZWN0aW9uO1xyXG5cdFx0dGhpcy5fcHJldmVudENsaWNrID0gdHJ1ZTtcclxuXHRcdERvbUV2ZW50Lm9uKHNlY3Rpb24sICdjbGljaycsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxuXHRcdHRoaXMuZXhwYW5kKCk7XHJcblx0XHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0RG9tRXZlbnQub2ZmKHNlY3Rpb24sICdjbGljaycsIERvbUV2ZW50LnByZXZlbnREZWZhdWx0KTtcclxuXHRcdFx0dGhhdC5fcHJldmVudENsaWNrID0gZmFsc2U7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG59KTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLmNvbnRyb2wubGF5ZXJzKGJhc2VsYXllcnM/OiBPYmplY3QsIG92ZXJsYXlzPzogT2JqZWN0LCBvcHRpb25zPzogQ29udHJvbC5MYXllcnMgb3B0aW9ucylcclxuLy8gQ3JlYXRlcyBhIGxheWVycyBjb250cm9sIHdpdGggdGhlIGdpdmVuIGxheWVycy4gQmFzZSBsYXllcnMgd2lsbCBiZSBzd2l0Y2hlZCB3aXRoIHJhZGlvIGJ1dHRvbnMsIHdoaWxlIG92ZXJsYXlzIHdpbGwgYmUgc3dpdGNoZWQgd2l0aCBjaGVja2JveGVzLiBOb3RlIHRoYXQgYWxsIGJhc2UgbGF5ZXJzIHNob3VsZCBiZSBwYXNzZWQgaW4gdGhlIGJhc2UgbGF5ZXJzIG9iamVjdCwgYnV0IG9ubHkgb25lIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgbWFwIGR1cmluZyBtYXAgaW5zdGFudGlhdGlvbi5cclxuZXhwb3J0IHZhciBsYXllcnMgPSBmdW5jdGlvbiAoYmFzZUxheWVycywgb3ZlcmxheXMsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IExheWVycyhiYXNlTGF5ZXJzLCBvdmVybGF5cywgb3B0aW9ucyk7XHJcbn07XHJcbiIsICJcclxuaW1wb3J0IHtDb250cm9sfSBmcm9tICcuL0NvbnRyb2wnO1xyXG5pbXBvcnQge01hcH0gZnJvbSAnLi4vbWFwL01hcCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi9kb20vRG9tRXZlbnQnO1xyXG5cclxuLypcclxuICogQGNsYXNzIENvbnRyb2wuWm9vbVxyXG4gKiBAYWthIEwuQ29udHJvbC5ab29tXHJcbiAqIEBpbmhlcml0cyBDb250cm9sXHJcbiAqXHJcbiAqIEEgYmFzaWMgem9vbSBjb250cm9sIHdpdGggdHdvIGJ1dHRvbnMgKHpvb20gaW4gYW5kIHpvb20gb3V0KS4gSXQgaXMgcHV0IG9uIHRoZSBtYXAgYnkgZGVmYXVsdCB1bmxlc3MgeW91IHNldCBpdHMgW2B6b29tQ29udHJvbGAgb3B0aW9uXSgjbWFwLXpvb21jb250cm9sKSB0byBgZmFsc2VgLiBFeHRlbmRzIGBDb250cm9sYC5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIFpvb20gPSBDb250cm9sLmV4dGVuZCh7XHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIENvbnRyb2wuWm9vbSBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9zaXRpb246ICd0b3BsZWZ0JyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21JblRleHQ6IFN0cmluZyA9ICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4rPC9zcGFuPidcclxuXHRcdC8vIFRoZSB0ZXh0IHNldCBvbiB0aGUgJ3pvb20gaW4nIGJ1dHRvbi5cclxuXHRcdHpvb21JblRleHQ6ICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4rPC9zcGFuPicsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB6b29tSW5UaXRsZTogU3RyaW5nID0gJ1pvb20gaW4nXHJcblx0XHQvLyBUaGUgdGl0bGUgc2V0IG9uIHRoZSAnem9vbSBpbicgYnV0dG9uLlxyXG5cdFx0em9vbUluVGl0bGU6ICdab29tIGluJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21PdXRUZXh0OiBTdHJpbmcgPSAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JiN4MjIxMjs8L3NwYW4+J1xyXG5cdFx0Ly8gVGhlIHRleHQgc2V0IG9uIHRoZSAnem9vbSBvdXQnIGJ1dHRvbi5cclxuXHRcdHpvb21PdXRUZXh0OiAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JiN4MjIxMjs8L3NwYW4+JyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21PdXRUaXRsZTogU3RyaW5nID0gJ1pvb20gb3V0J1xyXG5cdFx0Ly8gVGhlIHRpdGxlIHNldCBvbiB0aGUgJ3pvb20gb3V0JyBidXR0b24uXHJcblx0XHR6b29tT3V0VGl0bGU6ICdab29tIG91dCdcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dmFyIHpvb21OYW1lID0gJ2xlYWZsZXQtY29udHJvbC16b29tJyxcclxuXHRcdCAgICBjb250YWluZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2Jywgem9vbU5hbWUgKyAnIGxlYWZsZXQtYmFyJyksXHJcblx0XHQgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHR0aGlzLl96b29tSW5CdXR0b24gID0gdGhpcy5fY3JlYXRlQnV0dG9uKG9wdGlvbnMuem9vbUluVGV4dCwgb3B0aW9ucy56b29tSW5UaXRsZSxcclxuXHRcdCAgICAgICAgem9vbU5hbWUgKyAnLWluJywgIGNvbnRhaW5lciwgdGhpcy5fem9vbUluKTtcclxuXHRcdHRoaXMuX3pvb21PdXRCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24ob3B0aW9ucy56b29tT3V0VGV4dCwgb3B0aW9ucy56b29tT3V0VGl0bGUsXHJcblx0XHQgICAgICAgIHpvb21OYW1lICsgJy1vdXQnLCBjb250YWluZXIsIHRoaXMuX3pvb21PdXQpO1xyXG5cclxuXHRcdHRoaXMuX3VwZGF0ZURpc2FibGVkKCk7XHJcblx0XHRtYXAub24oJ3pvb21lbmQgem9vbWxldmVsc2NoYW5nZScsIHRoaXMuX3VwZGF0ZURpc2FibGVkLCB0aGlzKTtcclxuXHJcblx0XHRyZXR1cm4gY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRtYXAub2ZmKCd6b29tZW5kIHpvb21sZXZlbHNjaGFuZ2UnLCB0aGlzLl91cGRhdGVEaXNhYmxlZCwgdGhpcyk7XHJcblx0fSxcclxuXHJcblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fZGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5fdXBkYXRlRGlzYWJsZWQoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdGVuYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuX3VwZGF0ZURpc2FibGVkKCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfem9vbUluOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0aWYgKCF0aGlzLl9kaXNhYmxlZCAmJiB0aGlzLl9tYXAuX3pvb20gPCB0aGlzLl9tYXAuZ2V0TWF4Wm9vbSgpKSB7XHJcblx0XHRcdHRoaXMuX21hcC56b29tSW4odGhpcy5fbWFwLm9wdGlvbnMuem9vbURlbHRhICogKGUuc2hpZnRLZXkgPyAzIDogMSkpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF96b29tT3V0OiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0aWYgKCF0aGlzLl9kaXNhYmxlZCAmJiB0aGlzLl9tYXAuX3pvb20gPiB0aGlzLl9tYXAuZ2V0TWluWm9vbSgpKSB7XHJcblx0XHRcdHRoaXMuX21hcC56b29tT3V0KHRoaXMuX21hcC5vcHRpb25zLnpvb21EZWx0YSAqIChlLnNoaWZ0S2V5ID8gMyA6IDEpKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlQnV0dG9uOiBmdW5jdGlvbiAoaHRtbCwgdGl0bGUsIGNsYXNzTmFtZSwgY29udGFpbmVyLCBmbikge1xyXG5cdFx0dmFyIGxpbmsgPSBEb21VdGlsLmNyZWF0ZSgnYScsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcclxuXHRcdGxpbmsuaW5uZXJIVE1MID0gaHRtbDtcclxuXHRcdGxpbmsuaHJlZiA9ICcjJztcclxuXHRcdGxpbmsudGl0bGUgPSB0aXRsZTtcclxuXHJcblx0XHQvKlxyXG5cdFx0ICogV2lsbCBmb3JjZSBzY3JlZW4gcmVhZGVycyBsaWtlIFZvaWNlT3ZlciB0byByZWFkIHRoaXMgYXMgXCJab29tIGluIC0gYnV0dG9uXCJcclxuXHRcdCAqL1xyXG5cdFx0bGluay5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcblx0XHRsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRpdGxlKTtcclxuXHJcblx0XHREb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihsaW5rKTtcclxuXHRcdERvbUV2ZW50Lm9uKGxpbmssICdjbGljaycsIERvbUV2ZW50LnN0b3ApO1xyXG5cdFx0RG9tRXZlbnQub24obGluaywgJ2NsaWNrJywgZm4sIHRoaXMpO1xyXG5cdFx0RG9tRXZlbnQub24obGluaywgJ2NsaWNrJywgdGhpcy5fcmVmb2N1c09uTWFwLCB0aGlzKTtcclxuXHJcblx0XHRyZXR1cm4gbGluaztcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlRGlzYWJsZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXHJcblx0XHQgICAgY2xhc3NOYW1lID0gJ2xlYWZsZXQtZGlzYWJsZWQnO1xyXG5cclxuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fem9vbUluQnV0dG9uLCBjbGFzc05hbWUpO1xyXG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl96b29tT3V0QnV0dG9uLCBjbGFzc05hbWUpO1xyXG5cdFx0dGhpcy5fem9vbUluQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xyXG5cdFx0dGhpcy5fem9vbU91dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcclxuXHJcblx0XHRpZiAodGhpcy5fZGlzYWJsZWQgfHwgbWFwLl96b29tID09PSBtYXAuZ2V0TWluWm9vbSgpKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fem9vbU91dEJ1dHRvbiwgY2xhc3NOYW1lKTtcclxuXHRcdFx0dGhpcy5fem9vbU91dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuX2Rpc2FibGVkIHx8IG1hcC5fem9vbSA9PT0gbWFwLmdldE1heFpvb20oKSkge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX3pvb21JbkJ1dHRvbiwgY2xhc3NOYW1lKTtcclxuXHRcdFx0dGhpcy5fem9vbUluQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgTWFwXHJcbi8vIEBzZWN0aW9uIENvbnRyb2wgb3B0aW9uc1xyXG4vLyBAb3B0aW9uIHpvb21Db250cm9sOiBCb29sZWFuID0gdHJ1ZVxyXG4vLyBXaGV0aGVyIGEgW3pvb20gY29udHJvbF0oI2NvbnRyb2wtem9vbSkgaXMgYWRkZWQgdG8gdGhlIG1hcCBieSBkZWZhdWx0LlxyXG5NYXAubWVyZ2VPcHRpb25zKHtcclxuXHR6b29tQ29udHJvbDogdHJ1ZVxyXG59KTtcclxuXHJcbk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7XHJcblx0aWYgKHRoaXMub3B0aW9ucy56b29tQ29udHJvbCkge1xyXG5cdFx0Ly8gQHNlY3Rpb24gQ29udHJvbHNcclxuXHRcdC8vIEBwcm9wZXJ0eSB6b29tQ29udHJvbDogQ29udHJvbC5ab29tXHJcblx0XHQvLyBUaGUgZGVmYXVsdCB6b29tIGNvbnRyb2wgKG9ubHkgYXZhaWxhYmxlIGlmIHRoZVxyXG5cdFx0Ly8gW2B6b29tQ29udHJvbGAgb3B0aW9uXSgjbWFwLXpvb21jb250cm9sKSB3YXMgYHRydWVgIHdoZW4gY3JlYXRpbmcgdGhlIG1hcCkuXHJcblx0XHR0aGlzLnpvb21Db250cm9sID0gbmV3IFpvb20oKTtcclxuXHRcdHRoaXMuYWRkQ29udHJvbCh0aGlzLnpvb21Db250cm9sKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBDb250cm9sLlpvb21cclxuLy8gQGZhY3RvcnkgTC5jb250cm9sLnpvb20ob3B0aW9uczogQ29udHJvbC5ab29tIG9wdGlvbnMpXHJcbi8vIENyZWF0ZXMgYSB6b29tIGNvbnRyb2xcclxuZXhwb3J0IHZhciB6b29tID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IFpvb20ob3B0aW9ucyk7XHJcbn07XHJcbiIsICJcbmltcG9ydCB7Q29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xuXG4vKlxuICogQGNsYXNzIENvbnRyb2wuU2NhbGVcbiAqIEBha2EgTC5Db250cm9sLlNjYWxlXG4gKiBAaW5oZXJpdHMgQ29udHJvbFxuICpcbiAqIEEgc2ltcGxlIHNjYWxlIGNvbnRyb2wgdGhhdCBzaG93cyB0aGUgc2NhbGUgb2YgdGhlIGN1cnJlbnQgY2VudGVyIG9mIHNjcmVlbiBpbiBtZXRyaWMgKG0va20pIGFuZCBpbXBlcmlhbCAobWkvZnQpIHN5c3RlbXMuIEV4dGVuZHMgYENvbnRyb2xgLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIEwuY29udHJvbC5zY2FsZSgpLmFkZFRvKG1hcCk7XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgdmFyIFNjYWxlID0gQ29udHJvbC5leHRlbmQoe1xuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIENvbnRyb2wuU2NhbGUgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0cG9zaXRpb246ICdib3R0b21sZWZ0JyxcblxuXHRcdC8vIEBvcHRpb24gbWF4V2lkdGg6IE51bWJlciA9IDEwMFxuXHRcdC8vIE1heGltdW0gd2lkdGggb2YgdGhlIGNvbnRyb2wgaW4gcGl4ZWxzLiBUaGUgd2lkdGggaXMgc2V0IGR5bmFtaWNhbGx5IHRvIHNob3cgcm91bmQgdmFsdWVzIChlLmcuIDEwMCwgMjAwLCA1MDApLlxuXHRcdG1heFdpZHRoOiAxMDAsXG5cblx0XHQvLyBAb3B0aW9uIG1ldHJpYzogQm9vbGVhbiA9IFRydWVcblx0XHQvLyBXaGV0aGVyIHRvIHNob3cgdGhlIG1ldHJpYyBzY2FsZSBsaW5lIChtL2ttKS5cblx0XHRtZXRyaWM6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIGltcGVyaWFsOiBCb29sZWFuID0gVHJ1ZVxuXHRcdC8vIFdoZXRoZXIgdG8gc2hvdyB0aGUgaW1wZXJpYWwgc2NhbGUgbGluZSAobWkvZnQpLlxuXHRcdGltcGVyaWFsOiB0cnVlXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZVdoZW5JZGxlOiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBjb250cm9sIGlzIHVwZGF0ZWQgb24gW2Btb3ZlZW5kYF0oI21hcC1tb3ZlZW5kKSwgb3RoZXJ3aXNlIGl0J3MgYWx3YXlzIHVwLXRvLWRhdGUgKHVwZGF0ZWQgb24gW2Btb3ZlYF0oI21hcC1tb3ZlKSkuXG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1zY2FsZScsXG5cdFx0ICAgIGNvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUpLFxuXHRcdCAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0dGhpcy5fYWRkU2NhbGVzKG9wdGlvbnMsIGNsYXNzTmFtZSArICctbGluZScsIGNvbnRhaW5lcik7XG5cblx0XHRtYXAub24ob3B0aW9ucy51cGRhdGVXaGVuSWRsZSA/ICdtb3ZlZW5kJyA6ICdtb3ZlJywgdGhpcy5fdXBkYXRlLCB0aGlzKTtcblx0XHRtYXAud2hlblJlYWR5KHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG5cblx0XHRyZXR1cm4gY29udGFpbmVyO1xuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0bWFwLm9mZih0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGUgPyAnbW92ZWVuZCcgOiAnbW92ZScsIHRoaXMuX3VwZGF0ZSwgdGhpcyk7XG5cdH0sXG5cblx0X2FkZFNjYWxlczogZnVuY3Rpb24gKG9wdGlvbnMsIGNsYXNzTmFtZSwgY29udGFpbmVyKSB7XG5cdFx0aWYgKG9wdGlvbnMubWV0cmljKSB7XG5cdFx0XHR0aGlzLl9tU2NhbGUgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lLCBjb250YWluZXIpO1xuXHRcdH1cblx0XHRpZiAob3B0aW9ucy5pbXBlcmlhbCkge1xuXHRcdFx0dGhpcy5faVNjYWxlID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSwgY29udGFpbmVyKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHkgPSBtYXAuZ2V0U2l6ZSgpLnkgLyAyO1xuXG5cdFx0dmFyIG1heE1ldGVycyA9IG1hcC5kaXN0YW5jZShcblx0XHRcdG1hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKFswLCB5XSksXG5cdFx0XHRtYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyhbdGhpcy5vcHRpb25zLm1heFdpZHRoLCB5XSkpO1xuXG5cdFx0dGhpcy5fdXBkYXRlU2NhbGVzKG1heE1ldGVycyk7XG5cdH0sXG5cblx0X3VwZGF0ZVNjYWxlczogZnVuY3Rpb24gKG1heE1ldGVycykge1xuXHRcdGlmICh0aGlzLm9wdGlvbnMubWV0cmljICYmIG1heE1ldGVycykge1xuXHRcdFx0dGhpcy5fdXBkYXRlTWV0cmljKG1heE1ldGVycyk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW1wZXJpYWwgJiYgbWF4TWV0ZXJzKSB7XG5cdFx0XHR0aGlzLl91cGRhdGVJbXBlcmlhbChtYXhNZXRlcnMpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlTWV0cmljOiBmdW5jdGlvbiAobWF4TWV0ZXJzKSB7XG5cdFx0dmFyIG1ldGVycyA9IHRoaXMuX2dldFJvdW5kTnVtKG1heE1ldGVycyksXG5cdFx0ICAgIGxhYmVsID0gbWV0ZXJzIDwgMTAwMCA/IG1ldGVycyArICcgbScgOiAobWV0ZXJzIC8gMTAwMCkgKyAnIGttJztcblxuXHRcdHRoaXMuX3VwZGF0ZVNjYWxlKHRoaXMuX21TY2FsZSwgbGFiZWwsIG1ldGVycyAvIG1heE1ldGVycyk7XG5cdH0sXG5cblx0X3VwZGF0ZUltcGVyaWFsOiBmdW5jdGlvbiAobWF4TWV0ZXJzKSB7XG5cdFx0dmFyIG1heEZlZXQgPSBtYXhNZXRlcnMgKiAzLjI4MDgzOTksXG5cdFx0ICAgIG1heE1pbGVzLCBtaWxlcywgZmVldDtcblxuXHRcdGlmIChtYXhGZWV0ID4gNTI4MCkge1xuXHRcdFx0bWF4TWlsZXMgPSBtYXhGZWV0IC8gNTI4MDtcblx0XHRcdG1pbGVzID0gdGhpcy5fZ2V0Um91bmROdW0obWF4TWlsZXMpO1xuXHRcdFx0dGhpcy5fdXBkYXRlU2NhbGUodGhpcy5faVNjYWxlLCBtaWxlcyArICcgbWknLCBtaWxlcyAvIG1heE1pbGVzKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmZWV0ID0gdGhpcy5fZ2V0Um91bmROdW0obWF4RmVldCk7XG5cdFx0XHR0aGlzLl91cGRhdGVTY2FsZSh0aGlzLl9pU2NhbGUsIGZlZXQgKyAnIGZ0JywgZmVldCAvIG1heEZlZXQpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlU2NhbGU6IGZ1bmN0aW9uIChzY2FsZSwgdGV4dCwgcmF0aW8pIHtcblx0XHRzY2FsZS5zdHlsZS53aWR0aCA9IE1hdGgucm91bmQodGhpcy5vcHRpb25zLm1heFdpZHRoICogcmF0aW8pICsgJ3B4Jztcblx0XHRzY2FsZS5pbm5lckhUTUwgPSB0ZXh0O1xuXHR9LFxuXG5cdF9nZXRSb3VuZE51bTogZnVuY3Rpb24gKG51bSkge1xuXHRcdHZhciBwb3cxMCA9IE1hdGgucG93KDEwLCAoTWF0aC5mbG9vcihudW0pICsgJycpLmxlbmd0aCAtIDEpLFxuXHRcdCAgICBkID0gbnVtIC8gcG93MTA7XG5cblx0XHRkID0gZCA+PSAxMCA/IDEwIDpcblx0XHQgICAgZCA+PSA1ID8gNSA6XG5cdFx0ICAgIGQgPj0gMyA/IDMgOlxuXHRcdCAgICBkID49IDIgPyAyIDogMTtcblxuXHRcdHJldHVybiBwb3cxMCAqIGQ7XG5cdH1cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwuY29udHJvbC5zY2FsZShvcHRpb25zPzogQ29udHJvbC5TY2FsZSBvcHRpb25zKVxuLy8gQ3JlYXRlcyBhbiBzY2FsZSBjb250cm9sIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5leHBvcnQgdmFyIHNjYWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBTY2FsZShvcHRpb25zKTtcbn07XG4iLCAiXHJcbmltcG9ydCB7Q29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcclxuaW1wb3J0IHtNYXB9IGZyb20gJy4uL21hcC9NYXAnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uL2RvbS9Eb21FdmVudCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi9jb3JlL0Jyb3dzZXInO1xyXG5cclxudmFyIHVrcmFpbmlhbkZsYWcgPSAnPHN2ZyBhcmlhLWhpZGRlbj1cInRydWVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjhcIiB2aWV3Qm94PVwiMCAwIDEyIDhcIiBjbGFzcz1cImxlYWZsZXQtYXR0cmlidXRpb24tZmxhZ1wiPjxwYXRoIGZpbGw9XCIjNEM3QkUxXCIgZD1cIk0wIDBoMTJ2NEgwelwiLz48cGF0aCBmaWxsPVwiI0ZGRDUwMFwiIGQ9XCJNMCA0aDEydjNIMHpcIi8+PHBhdGggZmlsbD1cIiNFMEJDMDBcIiBkPVwiTTAgN2gxMnYxSDB6XCIvPjwvc3ZnPic7XHJcblxyXG5cclxuLypcclxuICogQGNsYXNzIENvbnRyb2wuQXR0cmlidXRpb25cclxuICogQGFrYSBMLkNvbnRyb2wuQXR0cmlidXRpb25cclxuICogQGluaGVyaXRzIENvbnRyb2xcclxuICpcclxuICogVGhlIGF0dHJpYnV0aW9uIGNvbnRyb2wgYWxsb3dzIHlvdSB0byBkaXNwbGF5IGF0dHJpYnV0aW9uIGRhdGEgaW4gYSBzbWFsbCB0ZXh0IGJveCBvbiBhIG1hcC4gSXQgaXMgcHV0IG9uIHRoZSBtYXAgYnkgZGVmYXVsdCB1bmxlc3MgeW91IHNldCBpdHMgW2BhdHRyaWJ1dGlvbkNvbnRyb2xgIG9wdGlvbl0oI21hcC1hdHRyaWJ1dGlvbmNvbnRyb2wpIHRvIGBmYWxzZWAsIGFuZCBpdCBmZXRjaGVzIGF0dHJpYnV0aW9uIHRleHRzIGZyb20gbGF5ZXJzIHdpdGggdGhlIFtgZ2V0QXR0cmlidXRpb25gIG1ldGhvZF0oI2xheWVyLWdldGF0dHJpYnV0aW9uKSBhdXRvbWF0aWNhbGx5LiBFeHRlbmRzIENvbnRyb2wuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBBdHRyaWJ1dGlvbiA9IENvbnRyb2wuZXh0ZW5kKHtcclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgQ29udHJvbC5BdHRyaWJ1dGlvbiBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9zaXRpb246ICdib3R0b21yaWdodCcsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBwcmVmaXg6IFN0cmluZ3xmYWxzZSA9ICdMZWFmbGV0J1xyXG5cdFx0Ly8gVGhlIEhUTUwgdGV4dCBzaG93biBiZWZvcmUgdGhlIGF0dHJpYnV0aW9ucy4gUGFzcyBgZmFsc2VgIHRvIGRpc2FibGUuXHJcblx0XHRwcmVmaXg6ICc8YSBocmVmPVwiaHR0cHM6Ly9sZWFmbGV0anMuY29tXCIgdGl0bGU9XCJBIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgaW50ZXJhY3RpdmUgbWFwc1wiPicgKyAoQnJvd3Nlci5pbmxpbmVTdmcgPyB1a3JhaW5pYW5GbGFnICsgJyAnIDogJycpICsgJ0xlYWZsZXQ8L2E+J1xyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0dGhpcy5fYXR0cmlidXRpb25zID0ge307XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdG1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wgPSB0aGlzO1xyXG5cdFx0dGhpcy5fY29udGFpbmVyID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24nKTtcclxuXHRcdERvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG5cdFx0Ly8gVE9ETyB1Z2x5LCByZWZhY3RvclxyXG5cdFx0Zm9yICh2YXIgaSBpbiBtYXAuX2xheWVycykge1xyXG5cdFx0XHRpZiAobWFwLl9sYXllcnNbaV0uZ2V0QXR0cmlidXRpb24pIHtcclxuXHRcdFx0XHR0aGlzLmFkZEF0dHJpYnV0aW9uKG1hcC5fbGF5ZXJzW2ldLmdldEF0dHJpYnV0aW9uKCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fdXBkYXRlKCk7XHJcblxyXG5cdFx0bWFwLm9uKCdsYXllcmFkZCcsIHRoaXMuX2FkZEF0dHJpYnV0aW9uLCB0aGlzKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHRtYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2FkZEF0dHJpYnV0aW9uLCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfYWRkQXR0cmlidXRpb246IGZ1bmN0aW9uIChldikge1xyXG5cdFx0aWYgKGV2LmxheWVyLmdldEF0dHJpYnV0aW9uKSB7XHJcblx0XHRcdHRoaXMuYWRkQXR0cmlidXRpb24oZXYubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSk7XHJcblx0XHRcdGV2LmxheWVyLm9uY2UoJ3JlbW92ZScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0aGlzLnJlbW92ZUF0dHJpYnV0aW9uKGV2LmxheWVyLmdldEF0dHJpYnV0aW9uKCkpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFByZWZpeChwcmVmaXg6IFN0cmluZ3xmYWxzZSk6IHRoaXNcclxuXHQvLyBUaGUgSFRNTCB0ZXh0IHNob3duIGJlZm9yZSB0aGUgYXR0cmlidXRpb25zLiBQYXNzIGBmYWxzZWAgdG8gZGlzYWJsZS5cclxuXHRzZXRQcmVmaXg6IGZ1bmN0aW9uIChwcmVmaXgpIHtcclxuXHRcdHRoaXMub3B0aW9ucy5wcmVmaXggPSBwcmVmaXg7XHJcblx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYWRkQXR0cmlidXRpb24odGV4dDogU3RyaW5nKTogdGhpc1xyXG5cdC8vIEFkZHMgYW4gYXR0cmlidXRpb24gdGV4dCAoZS5nLiBgJyZjb3B5OyBPcGVuU3RyZWV0TWFwIGNvbnRyaWJ1dG9ycydgKS5cclxuXHRhZGRBdHRyaWJ1dGlvbjogZnVuY3Rpb24gKHRleHQpIHtcclxuXHRcdGlmICghdGV4dCkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdGlmICghdGhpcy5fYXR0cmlidXRpb25zW3RleHRdKSB7XHJcblx0XHRcdHRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XSA9IDA7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9hdHRyaWJ1dGlvbnNbdGV4dF0rKztcclxuXHJcblx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlbW92ZUF0dHJpYnV0aW9uKHRleHQ6IFN0cmluZyk6IHRoaXNcclxuXHQvLyBSZW1vdmVzIGFuIGF0dHJpYnV0aW9uIHRleHQuXHJcblx0cmVtb3ZlQXR0cmlidXRpb246IGZ1bmN0aW9uICh0ZXh0KSB7XHJcblx0XHRpZiAoIXRleHQpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcblx0XHRpZiAodGhpcy5fYXR0cmlidXRpb25zW3RleHRdKSB7XHJcblx0XHRcdHRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XS0tO1xyXG5cdFx0XHR0aGlzLl91cGRhdGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR2YXIgYXR0cmlicyA9IFtdO1xyXG5cclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fYXR0cmlidXRpb25zKSB7XHJcblx0XHRcdGlmICh0aGlzLl9hdHRyaWJ1dGlvbnNbaV0pIHtcclxuXHRcdFx0XHRhdHRyaWJzLnB1c2goaSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR2YXIgcHJlZml4QW5kQXR0cmlicyA9IFtdO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMucHJlZml4KSB7XHJcblx0XHRcdHByZWZpeEFuZEF0dHJpYnMucHVzaCh0aGlzLm9wdGlvbnMucHJlZml4KTtcclxuXHRcdH1cclxuXHRcdGlmIChhdHRyaWJzLmxlbmd0aCkge1xyXG5cdFx0XHRwcmVmaXhBbmRBdHRyaWJzLnB1c2goYXR0cmlicy5qb2luKCcsICcpKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gcHJlZml4QW5kQXR0cmlicy5qb2luKCcgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+fDwvc3Bhbj4gJyk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBuYW1lc3BhY2UgTWFwXHJcbi8vIEBzZWN0aW9uIENvbnRyb2wgb3B0aW9uc1xyXG4vLyBAb3B0aW9uIGF0dHJpYnV0aW9uQ29udHJvbDogQm9vbGVhbiA9IHRydWVcclxuLy8gV2hldGhlciBhIFthdHRyaWJ1dGlvbiBjb250cm9sXSgjY29udHJvbC1hdHRyaWJ1dGlvbikgaXMgYWRkZWQgdG8gdGhlIG1hcCBieSBkZWZhdWx0LlxyXG5NYXAubWVyZ2VPcHRpb25zKHtcclxuXHRhdHRyaWJ1dGlvbkNvbnRyb2w6IHRydWVcclxufSk7XHJcblxyXG5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xyXG5cdGlmICh0aGlzLm9wdGlvbnMuYXR0cmlidXRpb25Db250cm9sKSB7XHJcblx0XHRuZXcgQXR0cmlidXRpb24oKS5hZGRUbyh0aGlzKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBDb250cm9sLkF0dHJpYnV0aW9uXHJcbi8vIEBmYWN0b3J5IEwuY29udHJvbC5hdHRyaWJ1dGlvbihvcHRpb25zOiBDb250cm9sLkF0dHJpYnV0aW9uIG9wdGlvbnMpXHJcbi8vIENyZWF0ZXMgYW4gYXR0cmlidXRpb24gY29udHJvbC5cclxuZXhwb3J0IHZhciBhdHRyaWJ1dGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBBdHRyaWJ1dGlvbihvcHRpb25zKTtcclxufTtcclxuIiwgImltcG9ydCB7Q29udHJvbCwgY29udHJvbH0gZnJvbSAnLi9Db250cm9sJztcbmltcG9ydCB7TGF5ZXJzLCBsYXllcnN9IGZyb20gJy4vQ29udHJvbC5MYXllcnMnO1xuaW1wb3J0IHtab29tLCB6b29tfSBmcm9tICcuL0NvbnRyb2wuWm9vbSc7XG5pbXBvcnQge1NjYWxlLCBzY2FsZX0gZnJvbSAnLi9Db250cm9sLlNjYWxlJztcbmltcG9ydCB7QXR0cmlidXRpb24sIGF0dHJpYnV0aW9ufSBmcm9tICcuL0NvbnRyb2wuQXR0cmlidXRpb24nO1xuXG5Db250cm9sLkxheWVycyA9IExheWVycztcbkNvbnRyb2wuWm9vbSA9IFpvb207XG5Db250cm9sLlNjYWxlID0gU2NhbGU7XG5Db250cm9sLkF0dHJpYnV0aW9uID0gQXR0cmlidXRpb247XG5cbmNvbnRyb2wubGF5ZXJzID0gbGF5ZXJzO1xuY29udHJvbC56b29tID0gem9vbTtcbmNvbnRyb2wuc2NhbGUgPSBzY2FsZTtcbmNvbnRyb2wuYXR0cmlidXRpb24gPSBhdHRyaWJ1dGlvbjtcblxuZXhwb3J0IHtDb250cm9sLCBjb250cm9sfTtcbiIsICJpbXBvcnQge0NsYXNzfSBmcm9tICcuL0NsYXNzJztcblxuLypcblx0TC5IYW5kbGVyIGlzIGEgYmFzZSBjbGFzcyBmb3IgaGFuZGxlciBjbGFzc2VzIHRoYXQgYXJlIHVzZWQgaW50ZXJuYWxseSB0byBpbmplY3Rcblx0aW50ZXJhY3Rpb24gZmVhdHVyZXMgbGlrZSBkcmFnZ2luZyB0byBjbGFzc2VzIGxpa2UgTWFwIGFuZCBNYXJrZXIuXG4qL1xuXG4vLyBAY2xhc3MgSGFuZGxlclxuLy8gQGFrYSBMLkhhbmRsZXJcbi8vIEFic3RyYWN0IGNsYXNzIGZvciBtYXAgaW50ZXJhY3Rpb24gaGFuZGxlcnNcblxuZXhwb3J0IHZhciBIYW5kbGVyID0gQ2xhc3MuZXh0ZW5kKHtcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdHRoaXMuX21hcCA9IG1hcDtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGVuYWJsZSgpOiB0aGlzXG5cdC8vIEVuYWJsZXMgdGhlIGhhbmRsZXJcblx0ZW5hYmxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuIHRoaXM7IH1cblxuXHRcdHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXHRcdHRoaXMuYWRkSG9va3MoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGRpc2FibGUoKTogdGhpc1xuXHQvLyBEaXNhYmxlcyB0aGUgaGFuZGxlclxuXHRkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybiB0aGlzOyB9XG5cblx0XHR0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cdFx0dGhpcy5yZW1vdmVIb29rcygpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZW5hYmxlZCgpOiBCb29sZWFuXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBoYW5kbGVyIGlzIGVuYWJsZWRcblx0ZW5hYmxlZDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG5cdH1cblxuXHQvLyBAc2VjdGlvbiBFeHRlbnNpb24gbWV0aG9kc1xuXHQvLyBDbGFzc2VzIGluaGVyaXRpbmcgZnJvbSBgSGFuZGxlcmAgbXVzdCBpbXBsZW1lbnQgdGhlIHR3byBmb2xsb3dpbmcgbWV0aG9kczpcblx0Ly8gQG1ldGhvZCBhZGRIb29rcygpXG5cdC8vIENhbGxlZCB3aGVuIHRoZSBoYW5kbGVyIGlzIGVuYWJsZWQsIHNob3VsZCBhZGQgZXZlbnQgaG9va3MuXG5cdC8vIEBtZXRob2QgcmVtb3ZlSG9va3MoKVxuXHQvLyBDYWxsZWQgd2hlbiB0aGUgaGFuZGxlciBpcyBkaXNhYmxlZCwgc2hvdWxkIHJlbW92ZSB0aGUgZXZlbnQgaG9va3MgYWRkZWQgcHJldmlvdXNseS5cbn0pO1xuXG4vLyBAc2VjdGlvbiBUaGVyZSBpcyBzdGF0aWMgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZCB3aXRob3V0IGluc3RhbnRpYXRpbmcgTC5IYW5kbGVyOlxuLy8gQGZ1bmN0aW9uIGFkZFRvKG1hcDogTWFwLCBuYW1lOiBTdHJpbmcpOiB0aGlzXG4vLyBBZGRzIGEgbmV3IEhhbmRsZXIgdG8gdGhlIGdpdmVuIG1hcCB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuSGFuZGxlci5hZGRUbyA9IGZ1bmN0aW9uIChtYXAsIG5hbWUpIHtcblx0bWFwLmFkZEhhbmRsZXIobmFtZSwgdGhpcyk7XG5cdHJldHVybiB0aGlzO1xufTtcbiIsICJpbXBvcnQgQnJvd3NlciBmcm9tICcuL0Jyb3dzZXInO1xuZXhwb3J0IHtCcm93c2VyfTtcblxuZXhwb3J0IHtDbGFzc30gZnJvbSAnLi9DbGFzcyc7XG5cbmltcG9ydCB7RXZlbnRlZH0gZnJvbSAnLi9FdmVudHMnO1xuaW1wb3J0IHtFdmVudHN9IGZyb20gJy4vRXZlbnRzJztcbmV4cG9ydCB7RXZlbnRlZH07XG5leHBvcnQgdmFyIE1peGluID0ge0V2ZW50czogRXZlbnRzfTtcblxuZXhwb3J0IHtIYW5kbGVyfSBmcm9tICcuL0hhbmRsZXInO1xuXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4vVXRpbCc7XG5leHBvcnQge1V0aWx9O1xuZXhwb3J0IHtleHRlbmQsIGJpbmQsIHN0YW1wLCBzZXRPcHRpb25zfSBmcm9tICcuL1V0aWwnO1xuIiwgImltcG9ydCB7RXZlbnRlZH0gZnJvbSAnLi4vY29yZS9FdmVudHMnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi9jb3JlL0Jyb3dzZXInO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuL0RvbUV2ZW50JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuL0RvbVV0aWwnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7UG9pbnR9IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBEcmFnZ2FibGVcclxuICogQGFrYSBMLkRyYWdnYWJsZVxyXG4gKiBAaW5oZXJpdHMgRXZlbnRlZFxyXG4gKlxyXG4gKiBBIGNsYXNzIGZvciBtYWtpbmcgRE9NIGVsZW1lbnRzIGRyYWdnYWJsZSAoaW5jbHVkaW5nIHRvdWNoIHN1cHBvcnQpLlxyXG4gKiBVc2VkIGludGVybmFsbHkgZm9yIG1hcCBhbmQgbWFya2VyIGRyYWdnaW5nLiBPbmx5IHdvcmtzIGZvciBlbGVtZW50c1xyXG4gKiB0aGF0IHdlcmUgcG9zaXRpb25lZCB3aXRoIFtgTC5Eb21VdGlsLnNldFBvc2l0aW9uYF0oI2RvbXV0aWwtc2V0cG9zaXRpb24pLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgZHJhZ2dhYmxlID0gbmV3IEwuRHJhZ2dhYmxlKGVsZW1lbnRUb0RyYWcpO1xyXG4gKiBkcmFnZ2FibGUuZW5hYmxlKCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbnZhciBTVEFSVCA9IEJyb3dzZXIudG91Y2ggPyAndG91Y2hzdGFydCBtb3VzZWRvd24nIDogJ21vdXNlZG93bic7XHJcblxyXG5leHBvcnQgdmFyIERyYWdnYWJsZSA9IEV2ZW50ZWQuZXh0ZW5kKHtcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQHNlY3Rpb25cclxuXHRcdC8vIEBha2EgRHJhZ2dhYmxlIG9wdGlvbnNcclxuXHRcdC8vIEBvcHRpb24gY2xpY2tUb2xlcmFuY2U6IE51bWJlciA9IDNcclxuXHRcdC8vIFRoZSBtYXggbnVtYmVyIG9mIHBpeGVscyBhIHVzZXIgY2FuIHNoaWZ0IHRoZSBtb3VzZSBwb2ludGVyIGR1cmluZyBhIGNsaWNrXHJcblx0XHQvLyBmb3IgaXQgdG8gYmUgY29uc2lkZXJlZCBhIHZhbGlkIGNsaWNrIChhcyBvcHBvc2VkIHRvIGEgbW91c2UgZHJhZykuXHJcblx0XHRjbGlja1RvbGVyYW5jZTogM1xyXG5cdH0sXHJcblxyXG5cdC8vIEBjb25zdHJ1Y3RvciBMLkRyYWdnYWJsZShlbDogSFRNTEVsZW1lbnQsIGRyYWdIYW5kbGU/OiBIVE1MRWxlbWVudCwgcHJldmVudE91dGxpbmU/OiBCb29sZWFuLCBvcHRpb25zPzogRHJhZ2dhYmxlIG9wdGlvbnMpXHJcblx0Ly8gQ3JlYXRlcyBhIGBEcmFnZ2FibGVgIG9iamVjdCBmb3IgbW92aW5nIGBlbGAgd2hlbiB5b3Ugc3RhcnQgZHJhZ2dpbmcgdGhlIGBkcmFnSGFuZGxlYCBlbGVtZW50IChlcXVhbHMgYGVsYCBpdHNlbGYgYnkgZGVmYXVsdCkuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGVsZW1lbnQsIGRyYWdTdGFydFRhcmdldCwgcHJldmVudE91dGxpbmUsIG9wdGlvbnMpIHtcclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHJcblx0XHR0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdHRoaXMuX2RyYWdTdGFydFRhcmdldCA9IGRyYWdTdGFydFRhcmdldCB8fCBlbGVtZW50O1xyXG5cdFx0dGhpcy5fcHJldmVudE91dGxpbmUgPSBwcmV2ZW50T3V0bGluZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGVuYWJsZSgpXHJcblx0Ly8gRW5hYmxlcyB0aGUgZHJhZ2dpbmcgYWJpbGl0eVxyXG5cdGVuYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX2VuYWJsZWQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0RG9tRXZlbnQub24odGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0LCBTVEFSVCwgdGhpcy5fb25Eb3duLCB0aGlzKTtcclxuXHJcblx0XHR0aGlzLl9lbmFibGVkID0gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGRpc2FibGUoKVxyXG5cdC8vIERpc2FibGVzIHRoZSBkcmFnZ2luZyBhYmlsaXR5XHJcblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdC8vIElmIHdlJ3JlIGN1cnJlbnRseSBkcmFnZ2luZyB0aGlzIGRyYWdnYWJsZSxcclxuXHRcdC8vIGRpc2FibGluZyBpdCBjb3VudHMgYXMgZmlyc3QgZW5kaW5nIHRoZSBkcmFnLlxyXG5cdFx0aWYgKERyYWdnYWJsZS5fZHJhZ2dpbmcgPT09IHRoaXMpIHtcclxuXHRcdFx0dGhpcy5maW5pc2hEcmFnKHRydWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9kcmFnU3RhcnRUYXJnZXQsIFNUQVJULCB0aGlzLl9vbkRvd24sIHRoaXMpO1xyXG5cclxuXHRcdHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuX21vdmVkID0gZmFsc2U7XHJcblx0fSxcclxuXHJcblx0X29uRG93bjogZnVuY3Rpb24gKGUpIHtcclxuXHRcdC8vIElnbm9yZSB0aGUgZXZlbnQgaWYgZGlzYWJsZWQ7IHRoaXMgaGFwcGVucyBpbiBJRTExXHJcblx0XHQvLyB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMsIHNlZSAjMzY2Ni5cclxuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH1cclxuXHJcblx0XHR0aGlzLl9tb3ZlZCA9IGZhbHNlO1xyXG5cclxuXHRcdGlmIChEb21VdGlsLmhhc0NsYXNzKHRoaXMuX2VsZW1lbnQsICdsZWFmbGV0LXpvb20tYW5pbScpKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCAhPT0gMSkge1xyXG5cdFx0XHQvLyBGaW5pc2ggZHJhZ2dpbmcgdG8gYXZvaWQgY29uZmxpY3Qgd2l0aCB0b3VjaFpvb21cclxuXHRcdFx0aWYgKERyYWdnYWJsZS5fZHJhZ2dpbmcgPT09IHRoaXMpIHtcclxuXHRcdFx0XHR0aGlzLmZpbmlzaERyYWcoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKERyYWdnYWJsZS5fZHJhZ2dpbmcgfHwgZS5zaGlmdEtleSB8fCAoKGUud2hpY2ggIT09IDEpICYmIChlLmJ1dHRvbiAhPT0gMSkgJiYgIWUudG91Y2hlcykpIHsgcmV0dXJuOyB9XHJcblx0XHREcmFnZ2FibGUuX2RyYWdnaW5nID0gdGhpczsgIC8vIFByZXZlbnQgZHJhZ2dpbmcgbXVsdGlwbGUgb2JqZWN0cyBhdCBvbmNlLlxyXG5cclxuXHRcdGlmICh0aGlzLl9wcmV2ZW50T3V0bGluZSkge1xyXG5cdFx0XHREb21VdGlsLnByZXZlbnRPdXRsaW5lKHRoaXMuX2VsZW1lbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpO1xyXG5cdFx0RG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbigpO1xyXG5cclxuXHRcdGlmICh0aGlzLl9tb3ZpbmcpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGRvd246IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGEgZHJhZyBpcyBhYm91dCB0byBzdGFydC5cclxuXHRcdHRoaXMuZmlyZSgnZG93bicpO1xyXG5cclxuXHRcdHZhciBmaXJzdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGUsXHJcblx0XHQgICAgc2l6ZWRQYXJlbnQgPSBEb21VdGlsLmdldFNpemVkUGFyZW50Tm9kZSh0aGlzLl9lbGVtZW50KTtcclxuXHJcblx0XHR0aGlzLl9zdGFydFBvaW50ID0gbmV3IFBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpO1xyXG5cdFx0dGhpcy5fc3RhcnRQb3MgPSBEb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQpO1xyXG5cclxuXHRcdC8vIENhY2hlIHRoZSBzY2FsZSwgc28gdGhhdCB3ZSBjYW4gY29udGludW91c2x5IGNvbXBlbnNhdGUgZm9yIGl0IGR1cmluZyBkcmFnIChfb25Nb3ZlKS5cclxuXHRcdHRoaXMuX3BhcmVudFNjYWxlID0gRG9tVXRpbC5nZXRTY2FsZShzaXplZFBhcmVudCk7XHJcblxyXG5cdFx0dmFyIG1vdXNlZXZlbnQgPSBlLnR5cGUgPT09ICdtb3VzZWRvd24nO1xyXG5cdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsIG1vdXNlZXZlbnQgPyAnbW91c2Vtb3ZlJyA6ICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHRoaXMpO1xyXG5cdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsIG1vdXNlZXZlbnQgPyAnbW91c2V1cCcgOiAndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCB0aGlzLl9vblVwLCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfb25Nb3ZlOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0Ly8gSWdub3JlIHRoZSBldmVudCBpZiBkaXNhYmxlZDsgdGhpcyBoYXBwZW5zIGluIElFMTFcclxuXHRcdC8vIHVuZGVyIHNvbWUgY2lyY3Vtc3RhbmNlcywgc2VlICMzNjY2LlxyXG5cdFx0aWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0dGhpcy5fbW92ZWQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGZpcnN0ID0gKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID09PSAxID8gZS50b3VjaGVzWzBdIDogZSksXHJcblx0XHQgICAgb2Zmc2V0ID0gbmV3IFBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpLl9zdWJ0cmFjdCh0aGlzLl9zdGFydFBvaW50KTtcclxuXHJcblx0XHRpZiAoIW9mZnNldC54ICYmICFvZmZzZXQueSkgeyByZXR1cm47IH1cclxuXHRcdGlmIChNYXRoLmFicyhvZmZzZXQueCkgKyBNYXRoLmFicyhvZmZzZXQueSkgPCB0aGlzLm9wdGlvbnMuY2xpY2tUb2xlcmFuY2UpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgdGhlIHBhcmVudCBjb250YWluZXIncyBwb3NpdGlvbiwgYm9yZGVyIGFuZCBzY2FsZSBkbyBub3QgY2hhbmdlIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGRyYWcuXHJcblx0XHQvLyBUaGVyZWZvcmUgdGhlcmUgaXMgbm8gbmVlZCB0byBhY2NvdW50IGZvciB0aGUgcG9zaXRpb24gYW5kIGJvcmRlciAodGhleSBhcmUgZWxpbWluYXRlZCBieSB0aGUgc3VidHJhY3Rpb24pXHJcblx0XHQvLyBhbmQgd2UgY2FuIHVzZSB0aGUgY2FjaGVkIHZhbHVlIGZvciB0aGUgc2NhbGUuXHJcblx0XHRvZmZzZXQueCAvPSB0aGlzLl9wYXJlbnRTY2FsZS54O1xyXG5cdFx0b2Zmc2V0LnkgLz0gdGhpcy5fcGFyZW50U2NhbGUueTtcclxuXHJcblx0XHREb21FdmVudC5wcmV2ZW50RGVmYXVsdChlKTtcclxuXHJcblx0XHRpZiAoIXRoaXMuX21vdmVkKSB7XHJcblx0XHRcdC8vIEBldmVudCBkcmFnc3RhcnQ6IEV2ZW50XHJcblx0XHRcdC8vIEZpcmVkIHdoZW4gYSBkcmFnIHN0YXJ0c1xyXG5cdFx0XHR0aGlzLmZpcmUoJ2RyYWdzdGFydCcpO1xyXG5cclxuXHRcdFx0dGhpcy5fbW92ZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyhkb2N1bWVudC5ib2R5LCAnbGVhZmxldC1kcmFnZ2luZycpO1xyXG5cclxuXHRcdFx0dGhpcy5fbGFzdFRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuXHRcdFx0Ly8gSUUgYW5kIEVkZ2UgZG8gbm90IGdpdmUgdGhlIDx1c2U+IGVsZW1lbnQsIHNvIGZldGNoIGl0XHJcblx0XHRcdC8vIGlmIG5lY2Vzc2FyeVxyXG5cdFx0XHRpZiAod2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZSAmJiB0aGlzLl9sYXN0VGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZSkge1xyXG5cdFx0XHRcdHRoaXMuX2xhc3RUYXJnZXQgPSB0aGlzLl9sYXN0VGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGFzdFRhcmdldCwgJ2xlYWZsZXQtZHJhZy10YXJnZXQnKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9uZXdQb3MgPSB0aGlzLl9zdGFydFBvcy5hZGQob2Zmc2V0KTtcclxuXHRcdHRoaXMuX21vdmluZyA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5fbGFzdEV2ZW50ID0gZTtcclxuXHRcdHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZSA9IHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0RXZlbnR9O1xyXG5cclxuXHRcdC8vIEBldmVudCBwcmVkcmFnOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgY29udGludW91c2x5IGR1cmluZyBkcmFnZ2luZyAqYmVmb3JlKiBlYWNoIGNvcnJlc3BvbmRpbmdcclxuXHRcdC8vIHVwZGF0ZSBvZiB0aGUgZWxlbWVudCdzIHBvc2l0aW9uLlxyXG5cdFx0dGhpcy5maXJlKCdwcmVkcmFnJywgZSk7XHJcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQsIHRoaXMuX25ld1Bvcyk7XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGRyYWc6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCBjb250aW51b3VzbHkgZHVyaW5nIGRyYWdnaW5nLlxyXG5cdFx0dGhpcy5maXJlKCdkcmFnJywgZSk7XHJcblx0fSxcclxuXHJcblx0X29uVXA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vIElnbm9yZSB0aGUgZXZlbnQgaWYgZGlzYWJsZWQ7IHRoaXMgaGFwcGVucyBpbiBJRTExXHJcblx0XHQvLyB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMsIHNlZSAjMzY2Ni5cclxuXHRcdGlmICghdGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH1cclxuXHRcdHRoaXMuZmluaXNoRHJhZygpO1xyXG5cdH0sXHJcblxyXG5cdGZpbmlzaERyYWc6IGZ1bmN0aW9uIChub0luZXJ0aWEpIHtcclxuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xlYWZsZXQtZHJhZ2dpbmcnKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbGFzdFRhcmdldCkge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xhc3RUYXJnZXQsICdsZWFmbGV0LWRyYWctdGFyZ2V0Jyk7XHJcblx0XHRcdHRoaXMuX2xhc3RUYXJnZXQgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ21vdXNlbW92ZSB0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHRoaXMpO1xyXG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCAnbW91c2V1cCB0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuX29uVXAsIHRoaXMpO1xyXG5cclxuXHRcdERvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnKCk7XHJcblx0XHREb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTtcclxuXHJcblx0XHR2YXIgZmlyZURyYWdlbmQgPSB0aGlzLl9tb3ZlZCAmJiB0aGlzLl9tb3Zpbmc7XHJcblxyXG5cdFx0dGhpcy5fbW92aW5nID0gZmFsc2U7XHJcblx0XHREcmFnZ2FibGUuX2RyYWdnaW5nID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKGZpcmVEcmFnZW5kKSB7XHJcblx0XHRcdC8vIEBldmVudCBkcmFnZW5kOiBEcmFnRW5kRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiB0aGUgZHJhZyBlbmRzLlxyXG5cdFx0XHR0aGlzLmZpcmUoJ2RyYWdlbmQnLCB7XHJcblx0XHRcdFx0bm9JbmVydGlhOiBub0luZXJ0aWEsXHJcblx0XHRcdFx0ZGlzdGFuY2U6IHRoaXMuX25ld1Bvcy5kaXN0YW5jZVRvKHRoaXMuX3N0YXJ0UG9zKVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59KTtcclxuIiwgImltcG9ydCAqIGFzIExpbmVVdGlsIGZyb20gJy4vTGluZVV0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nfSBmcm9tICcuLi9nZW8vTGF0TG5nJztcclxuaW1wb3J0IHt0b1BvaW50fSBmcm9tICcuL1BvaW50JztcclxuaW1wb3J0IHt0b0xhdExuZ0JvdW5kc30gZnJvbSAnLi4vZ2VvL0xhdExuZ0JvdW5kcyc7XHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgUG9seVV0aWxcclxuICogVmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgcG9seWdvbiBnZW9tZXRyaWVzLlxyXG4gKi9cclxuXHJcbi8qIEBmdW5jdGlvbiBjbGlwUG9seWdvbihwb2ludHM6IFBvaW50W10sIGJvdW5kczogQm91bmRzLCByb3VuZD86IEJvb2xlYW4pOiBQb2ludFtdXHJcbiAqIENsaXBzIHRoZSBwb2x5Z29uIGdlb21ldHJ5IGRlZmluZWQgYnkgdGhlIGdpdmVuIGBwb2ludHNgIGJ5IHRoZSBnaXZlbiBib3VuZHMgKHVzaW5nIHRoZSBbU3V0aGVybGFuZC1Ib2RnbWFuIGFsZ29yaXRobV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3V0aGVybGFuZCVFMiU4MCU5M0hvZGdtYW5fYWxnb3JpdGhtKSkuXHJcbiAqIFVzZWQgYnkgTGVhZmxldCB0byBvbmx5IHNob3cgcG9seWdvbiBwb2ludHMgdGhhdCBhcmUgb24gdGhlIHNjcmVlbiBvciBuZWFyLCBpbmNyZWFzaW5nXHJcbiAqIHBlcmZvcm1hbmNlLiBOb3RlIHRoYXQgcG9seWdvbiBwb2ludHMgbmVlZHMgZGlmZmVyZW50IGFsZ29yaXRobSBmb3IgY2xpcHBpbmdcclxuICogdGhhbiBwb2x5bGluZSwgc28gdGhlcmUncyBhIHNlcGFyYXRlIG1ldGhvZCBmb3IgaXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xpcFBvbHlnb24ocG9pbnRzLCBib3VuZHMsIHJvdW5kKSB7XHJcblx0dmFyIGNsaXBwZWRQb2ludHMsXHJcblx0ICAgIGVkZ2VzID0gWzEsIDQsIDIsIDhdLFxyXG5cdCAgICBpLCBqLCBrLFxyXG5cdCAgICBhLCBiLFxyXG5cdCAgICBsZW4sIGVkZ2UsIHA7XHJcblxyXG5cdGZvciAoaSA9IDAsIGxlbiA9IHBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0cG9pbnRzW2ldLl9jb2RlID0gTGluZVV0aWwuX2dldEJpdENvZGUocG9pbnRzW2ldLCBib3VuZHMpO1xyXG5cdH1cclxuXHJcblx0Ly8gZm9yIGVhY2ggZWRnZSAobGVmdCwgYm90dG9tLCByaWdodCwgdG9wKVxyXG5cdGZvciAoayA9IDA7IGsgPCA0OyBrKyspIHtcclxuXHRcdGVkZ2UgPSBlZGdlc1trXTtcclxuXHRcdGNsaXBwZWRQb2ludHMgPSBbXTtcclxuXHJcblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoLCBqID0gbGVuIC0gMTsgaSA8IGxlbjsgaiA9IGkrKykge1xyXG5cdFx0XHRhID0gcG9pbnRzW2ldO1xyXG5cdFx0XHRiID0gcG9pbnRzW2pdO1xyXG5cclxuXHRcdFx0Ly8gaWYgYSBpcyBpbnNpZGUgdGhlIGNsaXAgd2luZG93XHJcblx0XHRcdGlmICghKGEuX2NvZGUgJiBlZGdlKSkge1xyXG5cdFx0XHRcdC8vIGlmIGIgaXMgb3V0c2lkZSB0aGUgY2xpcCB3aW5kb3cgKGEtPmIgZ29lcyBvdXQgb2Ygc2NyZWVuKVxyXG5cdFx0XHRcdGlmIChiLl9jb2RlICYgZWRnZSkge1xyXG5cdFx0XHRcdFx0cCA9IExpbmVVdGlsLl9nZXRFZGdlSW50ZXJzZWN0aW9uKGIsIGEsIGVkZ2UsIGJvdW5kcywgcm91bmQpO1xyXG5cdFx0XHRcdFx0cC5fY29kZSA9IExpbmVVdGlsLl9nZXRCaXRDb2RlKHAsIGJvdW5kcyk7XHJcblx0XHRcdFx0XHRjbGlwcGVkUG9pbnRzLnB1c2gocCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNsaXBwZWRQb2ludHMucHVzaChhKTtcclxuXHJcblx0XHRcdC8vIGVsc2UgaWYgYiBpcyBpbnNpZGUgdGhlIGNsaXAgd2luZG93IChhLT5iIGVudGVycyB0aGUgc2NyZWVuKVxyXG5cdFx0XHR9IGVsc2UgaWYgKCEoYi5fY29kZSAmIGVkZ2UpKSB7XHJcblx0XHRcdFx0cCA9IExpbmVVdGlsLl9nZXRFZGdlSW50ZXJzZWN0aW9uKGIsIGEsIGVkZ2UsIGJvdW5kcywgcm91bmQpO1xyXG5cdFx0XHRcdHAuX2NvZGUgPSBMaW5lVXRpbC5fZ2V0Qml0Q29kZShwLCBib3VuZHMpO1xyXG5cdFx0XHRcdGNsaXBwZWRQb2ludHMucHVzaChwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cG9pbnRzID0gY2xpcHBlZFBvaW50cztcclxuXHR9XHJcblxyXG5cdHJldHVybiBwb2ludHM7XHJcbn1cclxuXHJcbi8qIEBmdW5jdGlvbiBwb2x5Z29uQ2VudGVyKGxhdGxuZ3M6IExhdExuZ1tdLCBjcnM6IENSUyk6IExhdExuZ1xyXG4gKiBSZXR1cm5zIHRoZSBjZW50ZXIgKFtjZW50cm9pZF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCkpIG9mIHRoZSBwYXNzZWQgTGF0TG5ncyAoZmlyc3QgcmluZykgZnJvbSBhIHBvbHlnb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcG9seWdvbkNlbnRlcihsYXRsbmdzLCBjcnMpIHtcclxuXHR2YXIgaSwgaiwgcDEsIHAyLCBmLCBhcmVhLCB4LCB5LCBjZW50ZXI7XHJcblxyXG5cdGlmICghbGF0bG5ncyB8fCBsYXRsbmdzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdsYXRsbmdzIG5vdCBwYXNzZWQnKTtcclxuXHR9XHJcblxyXG5cdGlmICghTGluZVV0aWwuaXNGbGF0KGxhdGxuZ3MpKSB7XHJcblx0XHRjb25zb2xlLndhcm4oJ2xhdGxuZ3MgYXJlIG5vdCBmbGF0ISBPbmx5IHRoZSBmaXJzdCByaW5nIHdpbGwgYmUgdXNlZCcpO1xyXG5cdFx0bGF0bG5ncyA9IGxhdGxuZ3NbMF07XHJcblx0fVxyXG5cclxuXHR2YXIgY2VudHJvaWRMYXRMbmcgPSB0b0xhdExuZyhbMCwgMF0pO1xyXG5cclxuXHR2YXIgYm91bmRzID0gdG9MYXRMbmdCb3VuZHMobGF0bG5ncyk7XHJcblx0dmFyIGFyZWFCb3VuZHMgPSBib3VuZHMuZ2V0Tm9ydGhXZXN0KCkuZGlzdGFuY2VUbyhib3VuZHMuZ2V0U291dGhXZXN0KCkpICogYm91bmRzLmdldE5vcnRoRWFzdCgpLmRpc3RhbmNlVG8oYm91bmRzLmdldE5vcnRoV2VzdCgpKTtcclxuXHQvLyB0ZXN0cyBzaG93ZWQgdGhhdCBiZWxvdyAxNzAwIHJvdW5kaW5nIGVycm9ycyBhcmUgaGFwcGVuaW5nXHJcblx0aWYgKGFyZWFCb3VuZHMgPCAxNzAwKSB7XHJcblx0XHQvLyBnZXR0aW5nIGEgaW5leGFjdCBjZW50ZXIsIHRvIG1vdmUgdGhlIGxhdGxuZ3MgbmVhciB0byBbMCwgMF0gdG8gcHJldmVudCByb3VuZGluZyBlcnJvcnNcclxuXHRcdGNlbnRyb2lkTGF0TG5nID0gY2VudHJvaWQobGF0bG5ncyk7XHJcblx0fVxyXG5cclxuXHR2YXIgbGVuID0gbGF0bG5ncy5sZW5ndGg7XHJcblx0dmFyIHBvaW50cyA9IFtdO1xyXG5cdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0dmFyIGxhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZ3NbaV0pO1xyXG5cdFx0cG9pbnRzLnB1c2goY3JzLnByb2plY3QodG9MYXRMbmcoW2xhdGxuZy5sYXQgLSBjZW50cm9pZExhdExuZy5sYXQsIGxhdGxuZy5sbmcgLSBjZW50cm9pZExhdExuZy5sbmddKSkpO1xyXG5cdH1cclxuXHJcblx0YXJlYSA9IHggPSB5ID0gMDtcclxuXHJcblx0Ly8gcG9seWdvbiBjZW50cm9pZCBhbGdvcml0aG07XHJcblx0Zm9yIChpID0gMCwgaiA9IGxlbiAtIDE7IGkgPCBsZW47IGogPSBpKyspIHtcclxuXHRcdHAxID0gcG9pbnRzW2ldO1xyXG5cdFx0cDIgPSBwb2ludHNbal07XHJcblxyXG5cdFx0ZiA9IHAxLnkgKiBwMi54IC0gcDIueSAqIHAxLng7XHJcblx0XHR4ICs9IChwMS54ICsgcDIueCkgKiBmO1xyXG5cdFx0eSArPSAocDEueSArIHAyLnkpICogZjtcclxuXHRcdGFyZWEgKz0gZiAqIDM7XHJcblx0fVxyXG5cclxuXHRpZiAoYXJlYSA9PT0gMCkge1xyXG5cdFx0Ly8gUG9seWdvbiBpcyBzbyBzbWFsbCB0aGF0IGFsbCBwb2ludHMgYXJlIG9uIHNhbWUgcGl4ZWwuXHJcblx0XHRjZW50ZXIgPSBwb2ludHNbMF07XHJcblx0fSBlbHNlIHtcclxuXHRcdGNlbnRlciA9IFt4IC8gYXJlYSwgeSAvIGFyZWFdO1xyXG5cdH1cclxuXHJcblx0dmFyIGxhdGxuZ0NlbnRlciA9IGNycy51bnByb2plY3QodG9Qb2ludChjZW50ZXIpKTtcclxuXHRyZXR1cm4gdG9MYXRMbmcoW2xhdGxuZ0NlbnRlci5sYXQgKyBjZW50cm9pZExhdExuZy5sYXQsIGxhdGxuZ0NlbnRlci5sbmcgKyBjZW50cm9pZExhdExuZy5sbmddKTtcclxufVxyXG5cclxuLyogQGZ1bmN0aW9uIGNlbnRyb2lkKGxhdGxuZ3M6IExhdExuZ1tdKTogTGF0TG5nXHJcbiAqIFJldHVybnMgdGhlICdjZW50ZXIgb2YgbWFzcycgb2YgdGhlIHBhc3NlZCBMYXRMbmdzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNlbnRyb2lkKGNvb3Jkcykge1xyXG5cdHZhciBsYXRTdW0gPSAwO1xyXG5cdHZhciBsbmdTdW0gPSAwO1xyXG5cdHZhciBsZW4gPSAwO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgbGF0bG5nID0gdG9MYXRMbmcoY29vcmRzW2ldKTtcclxuXHRcdGxhdFN1bSArPSBsYXRsbmcubGF0O1xyXG5cdFx0bG5nU3VtICs9IGxhdGxuZy5sbmc7XHJcblx0XHRsZW4rKztcclxuXHR9XHJcblx0cmV0dXJuIHRvTGF0TG5nKFtsYXRTdW0gLyBsZW4sIGxuZ1N1bSAvIGxlbl0pO1xyXG59XHJcbiIsICJpbXBvcnQge1BvaW50LCB0b1BvaW50fSBmcm9tICcuL1BvaW50JztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nfSBmcm9tICcuLi9nZW8vTGF0TG5nJztcclxuaW1wb3J0IHtjZW50cm9pZH0gZnJvbSAnLi9Qb2x5VXRpbCc7XHJcbmltcG9ydCB7dG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG5cclxuXHJcbi8qXHJcbiAqIEBuYW1lc3BhY2UgTGluZVV0aWxcclxuICpcclxuICogVmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgcG9seWxpbmUgcG9pbnRzIHByb2Nlc3NpbmcsIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5IHRvIG1ha2UgcG9seWxpbmVzIGxpZ2h0bmluZy1mYXN0LlxyXG4gKi9cclxuXHJcbi8vIFNpbXBsaWZ5IHBvbHlsaW5lIHdpdGggdmVydGV4IHJlZHVjdGlvbiBhbmQgRG91Z2xhcy1QZXVja2VyIHNpbXBsaWZpY2F0aW9uLlxyXG4vLyBJbXByb3ZlcyByZW5kZXJpbmcgcGVyZm9ybWFuY2UgZHJhbWF0aWNhbGx5IGJ5IGxlc3NlbmluZyB0aGUgbnVtYmVyIG9mIHBvaW50cyB0byBkcmF3LlxyXG5cclxuLy8gQGZ1bmN0aW9uIHNpbXBsaWZ5KHBvaW50czogUG9pbnRbXSwgdG9sZXJhbmNlOiBOdW1iZXIpOiBQb2ludFtdXHJcbi8vIERyYW1hdGljYWxseSByZWR1Y2VzIHRoZSBudW1iZXIgb2YgcG9pbnRzIGluIGEgcG9seWxpbmUgd2hpbGUgcmV0YWluaW5nXHJcbi8vIGl0cyBzaGFwZSBhbmQgcmV0dXJucyBhIG5ldyBhcnJheSBvZiBzaW1wbGlmaWVkIHBvaW50cywgdXNpbmcgdGhlXHJcbi8vIFtSYW1lci1Eb3VnbGFzLVBldWNrZXIgYWxnb3JpdGhtXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SYW1lci1Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtKS5cclxuLy8gVXNlZCBmb3IgYSBodWdlIHBlcmZvcm1hbmNlIGJvb3N0IHdoZW4gcHJvY2Vzc2luZy9kaXNwbGF5aW5nIExlYWZsZXQgcG9seWxpbmVzIGZvclxyXG4vLyBlYWNoIHpvb20gbGV2ZWwgYW5kIGFsc28gcmVkdWNpbmcgdmlzdWFsIG5vaXNlLiB0b2xlcmFuY2UgYWZmZWN0cyB0aGUgYW1vdW50IG9mXHJcbi8vIHNpbXBsaWZpY2F0aW9uIChsZXNzZXIgdmFsdWUgbWVhbnMgaGlnaGVyIHF1YWxpdHkgYnV0IHNsb3dlciBhbmQgd2l0aCBtb3JlIHBvaW50cykuXHJcbi8vIEFsc28gcmVsZWFzZWQgYXMgYSBzZXBhcmF0ZWQgbWljcm8tbGlicmFyeSBbU2ltcGxpZnkuanNdKGh0dHBzOi8vbW91cm5lci5naXRodWIuaW8vc2ltcGxpZnktanMvKS5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5KHBvaW50cywgdG9sZXJhbmNlKSB7XHJcblx0aWYgKCF0b2xlcmFuY2UgfHwgIXBvaW50cy5sZW5ndGgpIHtcclxuXHRcdHJldHVybiBwb2ludHMuc2xpY2UoKTtcclxuXHR9XHJcblxyXG5cdHZhciBzcVRvbGVyYW5jZSA9IHRvbGVyYW5jZSAqIHRvbGVyYW5jZTtcclxuXHJcblx0ICAgIC8vIHN0YWdlIDE6IHZlcnRleCByZWR1Y3Rpb25cclxuXHQgICAgcG9pbnRzID0gX3JlZHVjZVBvaW50cyhwb2ludHMsIHNxVG9sZXJhbmNlKTtcclxuXHJcblx0ICAgIC8vIHN0YWdlIDI6IERvdWdsYXMtUGV1Y2tlciBzaW1wbGlmaWNhdGlvblxyXG5cdCAgICBwb2ludHMgPSBfc2ltcGxpZnlEUChwb2ludHMsIHNxVG9sZXJhbmNlKTtcclxuXHJcblx0cmV0dXJuIHBvaW50cztcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIHBvaW50VG9TZWdtZW50RGlzdGFuY2UocDogUG9pbnQsIHAxOiBQb2ludCwgcDI6IFBvaW50KTogTnVtYmVyXHJcbi8vIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gcG9pbnQgYHBgIGFuZCBzZWdtZW50IGBwMWAgdG8gYHAyYC5cclxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50VG9TZWdtZW50RGlzdGFuY2UocCwgcDEsIHAyKSB7XHJcblx0cmV0dXJuIE1hdGguc3FydChfc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQocCwgcDEsIHAyLCB0cnVlKSk7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBjbG9zZXN0UG9pbnRPblNlZ21lbnQocDogUG9pbnQsIHAxOiBQb2ludCwgcDI6IFBvaW50KTogTnVtYmVyXHJcbi8vIFJldHVybnMgdGhlIGNsb3Nlc3QgcG9pbnQgZnJvbSBhIHBvaW50IGBwYCBvbiBhIHNlZ21lbnQgYHAxYCB0byBgcDJgLlxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdFBvaW50T25TZWdtZW50KHAsIHAxLCBwMikge1xyXG5cdHJldHVybiBfc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQocCwgcDEsIHAyKTtcclxufVxyXG5cclxuLy8gUmFtZXItRG91Z2xhcy1QZXVja2VyIHNpbXBsaWZpY2F0aW9uLCBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXItRG91Z2xhcy1QZXVja2VyX2FsZ29yaXRobVxyXG5mdW5jdGlvbiBfc2ltcGxpZnlEUChwb2ludHMsIHNxVG9sZXJhbmNlKSB7XHJcblxyXG5cdHZhciBsZW4gPSBwb2ludHMubGVuZ3RoLFxyXG5cdCAgICBBcnJheUNvbnN0cnVjdG9yID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09IHVuZGVmaW5lZCArICcnID8gVWludDhBcnJheSA6IEFycmF5LFxyXG5cdCAgICBtYXJrZXJzID0gbmV3IEFycmF5Q29uc3RydWN0b3IobGVuKTtcclxuXHJcblx0ICAgIG1hcmtlcnNbMF0gPSBtYXJrZXJzW2xlbiAtIDFdID0gMTtcclxuXHJcblx0X3NpbXBsaWZ5RFBTdGVwKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIDAsIGxlbiAtIDEpO1xyXG5cclxuXHR2YXIgaSxcclxuXHQgICAgbmV3UG9pbnRzID0gW107XHJcblxyXG5cdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0aWYgKG1hcmtlcnNbaV0pIHtcclxuXHRcdFx0bmV3UG9pbnRzLnB1c2gocG9pbnRzW2ldKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBuZXdQb2ludHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9zaW1wbGlmeURQU3RlcChwb2ludHMsIG1hcmtlcnMsIHNxVG9sZXJhbmNlLCBmaXJzdCwgbGFzdCkge1xyXG5cclxuXHR2YXIgbWF4U3FEaXN0ID0gMCxcclxuXHRpbmRleCwgaSwgc3FEaXN0O1xyXG5cclxuXHRmb3IgKGkgPSBmaXJzdCArIDE7IGkgPD0gbGFzdCAtIDE7IGkrKykge1xyXG5cdFx0c3FEaXN0ID0gX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHBvaW50c1tpXSwgcG9pbnRzW2ZpcnN0XSwgcG9pbnRzW2xhc3RdLCB0cnVlKTtcclxuXHJcblx0XHRpZiAoc3FEaXN0ID4gbWF4U3FEaXN0KSB7XHJcblx0XHRcdGluZGV4ID0gaTtcclxuXHRcdFx0bWF4U3FEaXN0ID0gc3FEaXN0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKG1heFNxRGlzdCA+IHNxVG9sZXJhbmNlKSB7XHJcblx0XHRtYXJrZXJzW2luZGV4XSA9IDE7XHJcblxyXG5cdFx0X3NpbXBsaWZ5RFBTdGVwKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIGZpcnN0LCBpbmRleCk7XHJcblx0XHRfc2ltcGxpZnlEUFN0ZXAocG9pbnRzLCBtYXJrZXJzLCBzcVRvbGVyYW5jZSwgaW5kZXgsIGxhc3QpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gcmVkdWNlIHBvaW50cyB0aGF0IGFyZSB0b28gY2xvc2UgdG8gZWFjaCBvdGhlciB0byBhIHNpbmdsZSBwb2ludFxyXG5mdW5jdGlvbiBfcmVkdWNlUG9pbnRzKHBvaW50cywgc3FUb2xlcmFuY2UpIHtcclxuXHR2YXIgcmVkdWNlZFBvaW50cyA9IFtwb2ludHNbMF1dO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMSwgcHJldiA9IDAsIGxlbiA9IHBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0aWYgKF9zcURpc3QocG9pbnRzW2ldLCBwb2ludHNbcHJldl0pID4gc3FUb2xlcmFuY2UpIHtcclxuXHRcdFx0cmVkdWNlZFBvaW50cy5wdXNoKHBvaW50c1tpXSk7XHJcblx0XHRcdHByZXYgPSBpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAocHJldiA8IGxlbiAtIDEpIHtcclxuXHRcdHJlZHVjZWRQb2ludHMucHVzaChwb2ludHNbbGVuIC0gMV0pO1xyXG5cdH1cclxuXHRyZXR1cm4gcmVkdWNlZFBvaW50cztcclxufVxyXG5cclxudmFyIF9sYXN0Q29kZTtcclxuXHJcbi8vIEBmdW5jdGlvbiBjbGlwU2VnbWVudChhOiBQb2ludCwgYjogUG9pbnQsIGJvdW5kczogQm91bmRzLCB1c2VMYXN0Q29kZT86IEJvb2xlYW4sIHJvdW5kPzogQm9vbGVhbik6IFBvaW50W118Qm9vbGVhblxyXG4vLyBDbGlwcyB0aGUgc2VnbWVudCBhIHRvIGIgYnkgcmVjdGFuZ3VsYXIgYm91bmRzIHdpdGggdGhlXHJcbi8vIFtDb2hlbi1TdXRoZXJsYW5kIGFsZ29yaXRobV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29oZW4lRTIlODAlOTNTdXRoZXJsYW5kX2FsZ29yaXRobSlcclxuLy8gKG1vZGlmeWluZyB0aGUgc2VnbWVudCBwb2ludHMgZGlyZWN0bHkhKS4gVXNlZCBieSBMZWFmbGV0IHRvIG9ubHkgc2hvdyBwb2x5bGluZVxyXG4vLyBwb2ludHMgdGhhdCBhcmUgb24gdGhlIHNjcmVlbiBvciBuZWFyLCBpbmNyZWFzaW5nIHBlcmZvcm1hbmNlLlxyXG5leHBvcnQgZnVuY3Rpb24gY2xpcFNlZ21lbnQoYSwgYiwgYm91bmRzLCB1c2VMYXN0Q29kZSwgcm91bmQpIHtcclxuXHR2YXIgY29kZUEgPSB1c2VMYXN0Q29kZSA/IF9sYXN0Q29kZSA6IF9nZXRCaXRDb2RlKGEsIGJvdW5kcyksXHJcblx0ICAgIGNvZGVCID0gX2dldEJpdENvZGUoYiwgYm91bmRzKSxcclxuXHJcblx0ICAgIGNvZGVPdXQsIHAsIG5ld0NvZGU7XHJcblxyXG5cdCAgICAvLyBzYXZlIDJuZCBjb2RlIHRvIGF2b2lkIGNhbGN1bGF0aW5nIGl0IG9uIHRoZSBuZXh0IHNlZ21lbnRcclxuXHQgICAgX2xhc3RDb2RlID0gY29kZUI7XHJcblxyXG5cdHdoaWxlICh0cnVlKSB7XHJcblx0XHQvLyBpZiBhLGIgaXMgaW5zaWRlIHRoZSBjbGlwIHdpbmRvdyAodHJpdmlhbCBhY2NlcHQpXHJcblx0XHRpZiAoIShjb2RlQSB8IGNvZGVCKSkge1xyXG5cdFx0XHRyZXR1cm4gW2EsIGJdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGlmIGEsYiBpcyBvdXRzaWRlIHRoZSBjbGlwIHdpbmRvdyAodHJpdmlhbCByZWplY3QpXHJcblx0XHRpZiAoY29kZUEgJiBjb2RlQikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gb3RoZXIgY2FzZXNcclxuXHRcdGNvZGVPdXQgPSBjb2RlQSB8fCBjb2RlQjtcclxuXHRcdHAgPSBfZ2V0RWRnZUludGVyc2VjdGlvbihhLCBiLCBjb2RlT3V0LCBib3VuZHMsIHJvdW5kKTtcclxuXHRcdG5ld0NvZGUgPSBfZ2V0Qml0Q29kZShwLCBib3VuZHMpO1xyXG5cclxuXHRcdGlmIChjb2RlT3V0ID09PSBjb2RlQSkge1xyXG5cdFx0XHRhID0gcDtcclxuXHRcdFx0Y29kZUEgPSBuZXdDb2RlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0YiA9IHA7XHJcblx0XHRcdGNvZGVCID0gbmV3Q29kZTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfZ2V0RWRnZUludGVyc2VjdGlvbihhLCBiLCBjb2RlLCBib3VuZHMsIHJvdW5kKSB7XHJcblx0dmFyIGR4ID0gYi54IC0gYS54LFxyXG5cdCAgICBkeSA9IGIueSAtIGEueSxcclxuXHQgICAgbWluID0gYm91bmRzLm1pbixcclxuXHQgICAgbWF4ID0gYm91bmRzLm1heCxcclxuXHQgICAgeCwgeTtcclxuXHJcblx0aWYgKGNvZGUgJiA4KSB7IC8vIHRvcFxyXG5cdFx0eCA9IGEueCArIGR4ICogKG1heC55IC0gYS55KSAvIGR5O1xyXG5cdFx0eSA9IG1heC55O1xyXG5cclxuXHR9IGVsc2UgaWYgKGNvZGUgJiA0KSB7IC8vIGJvdHRvbVxyXG5cdFx0eCA9IGEueCArIGR4ICogKG1pbi55IC0gYS55KSAvIGR5O1xyXG5cdFx0eSA9IG1pbi55O1xyXG5cclxuXHR9IGVsc2UgaWYgKGNvZGUgJiAyKSB7IC8vIHJpZ2h0XHJcblx0XHR4ID0gbWF4Lng7XHJcblx0XHR5ID0gYS55ICsgZHkgKiAobWF4LnggLSBhLngpIC8gZHg7XHJcblxyXG5cdH0gZWxzZSBpZiAoY29kZSAmIDEpIHsgLy8gbGVmdFxyXG5cdFx0eCA9IG1pbi54O1xyXG5cdFx0eSA9IGEueSArIGR5ICogKG1pbi54IC0gYS54KSAvIGR4O1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIG5ldyBQb2ludCh4LCB5LCByb3VuZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfZ2V0Qml0Q29kZShwLCBib3VuZHMpIHtcclxuXHR2YXIgY29kZSA9IDA7XHJcblxyXG5cdGlmIChwLnggPCBib3VuZHMubWluLngpIHsgLy8gbGVmdFxyXG5cdFx0Y29kZSB8PSAxO1xyXG5cdH0gZWxzZSBpZiAocC54ID4gYm91bmRzLm1heC54KSB7IC8vIHJpZ2h0XHJcblx0XHRjb2RlIHw9IDI7XHJcblx0fVxyXG5cclxuXHRpZiAocC55IDwgYm91bmRzLm1pbi55KSB7IC8vIGJvdHRvbVxyXG5cdFx0Y29kZSB8PSA0O1xyXG5cdH0gZWxzZSBpZiAocC55ID4gYm91bmRzLm1heC55KSB7IC8vIHRvcFxyXG5cdFx0Y29kZSB8PSA4O1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGNvZGU7XHJcbn1cclxuXHJcbi8vIHNxdWFyZSBkaXN0YW5jZSAodG8gYXZvaWQgdW5uZWNlc3NhcnkgTWF0aC5zcXJ0IGNhbGxzKVxyXG5mdW5jdGlvbiBfc3FEaXN0KHAxLCBwMikge1xyXG5cdHZhciBkeCA9IHAyLnggLSBwMS54LFxyXG5cdCAgICBkeSA9IHAyLnkgLSBwMS55O1xyXG5cdHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcclxufVxyXG5cclxuLy8gcmV0dXJuIGNsb3Nlc3QgcG9pbnQgb24gc2VnbWVudCBvciBkaXN0YW5jZSB0byB0aGF0IHBvaW50XHJcbmV4cG9ydCBmdW5jdGlvbiBfc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQocCwgcDEsIHAyLCBzcURpc3QpIHtcclxuXHR2YXIgeCA9IHAxLngsXHJcblx0ICAgIHkgPSBwMS55LFxyXG5cdCAgICBkeCA9IHAyLnggLSB4LFxyXG5cdCAgICBkeSA9IHAyLnkgLSB5LFxyXG5cdCAgICBkb3QgPSBkeCAqIGR4ICsgZHkgKiBkeSxcclxuXHQgICAgdDtcclxuXHJcblx0aWYgKGRvdCA+IDApIHtcclxuXHRcdHQgPSAoKHAueCAtIHgpICogZHggKyAocC55IC0geSkgKiBkeSkgLyBkb3Q7XHJcblxyXG5cdFx0aWYgKHQgPiAxKSB7XHJcblx0XHRcdHggPSBwMi54O1xyXG5cdFx0XHR5ID0gcDIueTtcclxuXHRcdH0gZWxzZSBpZiAodCA+IDApIHtcclxuXHRcdFx0eCArPSBkeCAqIHQ7XHJcblx0XHRcdHkgKz0gZHkgKiB0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZHggPSBwLnggLSB4O1xyXG5cdGR5ID0gcC55IC0geTtcclxuXHJcblx0cmV0dXJuIHNxRGlzdCA/IGR4ICogZHggKyBkeSAqIGR5IDogbmV3IFBvaW50KHgsIHkpO1xyXG59XHJcblxyXG5cclxuLy8gQGZ1bmN0aW9uIGlzRmxhdChsYXRsbmdzOiBMYXRMbmdbXSk6IEJvb2xlYW5cclxuLy8gUmV0dXJucyB0cnVlIGlmIGBsYXRsbmdzYCBpcyBhIGZsYXQgYXJyYXksIGZhbHNlIGlzIG5lc3RlZC5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmxhdChsYXRsbmdzKSB7XHJcblx0cmV0dXJuICFVdGlsLmlzQXJyYXkobGF0bG5nc1swXSkgfHwgKHR5cGVvZiBsYXRsbmdzWzBdWzBdICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgbGF0bG5nc1swXVswXSAhPT0gJ3VuZGVmaW5lZCcpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX2ZsYXQobGF0bG5ncykge1xyXG5cdGNvbnNvbGUud2FybignRGVwcmVjYXRlZCB1c2Ugb2YgX2ZsYXQsIHBsZWFzZSB1c2UgTC5MaW5lVXRpbC5pc0ZsYXQgaW5zdGVhZC4nKTtcclxuXHRyZXR1cm4gaXNGbGF0KGxhdGxuZ3MpO1xyXG59XHJcblxyXG4vKiBAZnVuY3Rpb24gcG9seWxpbmVDZW50ZXIobGF0bG5nczogTGF0TG5nW10sIGNyczogQ1JTKTogTGF0TG5nXHJcbiAqIFJldHVybnMgdGhlIGNlbnRlciAoW2NlbnRyb2lkXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NlbnRyb2lkKSkgb2YgdGhlIHBhc3NlZCBMYXRMbmdzIChmaXJzdCByaW5nKSBmcm9tIGEgcG9seWxpbmUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcG9seWxpbmVDZW50ZXIobGF0bG5ncywgY3JzKSB7XHJcblx0dmFyIGksIGhhbGZEaXN0LCBzZWdEaXN0LCBkaXN0LCBwMSwgcDIsIHJhdGlvLCBjZW50ZXI7XHJcblxyXG5cdGlmICghbGF0bG5ncyB8fCBsYXRsbmdzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdsYXRsbmdzIG5vdCBwYXNzZWQnKTtcclxuXHR9XHJcblxyXG5cdGlmICghaXNGbGF0KGxhdGxuZ3MpKSB7XHJcblx0XHRjb25zb2xlLndhcm4oJ2xhdGxuZ3MgYXJlIG5vdCBmbGF0ISBPbmx5IHRoZSBmaXJzdCByaW5nIHdpbGwgYmUgdXNlZCcpO1xyXG5cdFx0bGF0bG5ncyA9IGxhdGxuZ3NbMF07XHJcblx0fVxyXG5cclxuXHR2YXIgY2VudHJvaWRMYXRMbmcgPSB0b0xhdExuZyhbMCwgMF0pO1xyXG5cclxuXHR2YXIgYm91bmRzID0gdG9MYXRMbmdCb3VuZHMobGF0bG5ncyk7XHJcblx0dmFyIGFyZWFCb3VuZHMgPSBib3VuZHMuZ2V0Tm9ydGhXZXN0KCkuZGlzdGFuY2VUbyhib3VuZHMuZ2V0U291dGhXZXN0KCkpICogYm91bmRzLmdldE5vcnRoRWFzdCgpLmRpc3RhbmNlVG8oYm91bmRzLmdldE5vcnRoV2VzdCgpKTtcclxuXHQvLyB0ZXN0cyBzaG93ZWQgdGhhdCBiZWxvdyAxNzAwIHJvdW5kaW5nIGVycm9ycyBhcmUgaGFwcGVuaW5nXHJcblx0aWYgKGFyZWFCb3VuZHMgPCAxNzAwKSB7XHJcblx0XHQvLyBnZXR0aW5nIGEgaW5leGFjdCBjZW50ZXIsIHRvIG1vdmUgdGhlIGxhdGxuZ3MgbmVhciB0byBbMCwgMF0gdG8gcHJldmVudCByb3VuZGluZyBlcnJvcnNcclxuXHRcdGNlbnRyb2lkTGF0TG5nID0gY2VudHJvaWQobGF0bG5ncyk7XHJcblx0fVxyXG5cclxuXHR2YXIgbGVuID0gbGF0bG5ncy5sZW5ndGg7XHJcblx0dmFyIHBvaW50cyA9IFtdO1xyXG5cdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0dmFyIGxhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZ3NbaV0pO1xyXG5cdFx0cG9pbnRzLnB1c2goY3JzLnByb2plY3QodG9MYXRMbmcoW2xhdGxuZy5sYXQgLSBjZW50cm9pZExhdExuZy5sYXQsIGxhdGxuZy5sbmcgLSBjZW50cm9pZExhdExuZy5sbmddKSkpO1xyXG5cdH1cclxuXHJcblx0Zm9yIChpID0gMCwgaGFsZkRpc3QgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XHJcblx0XHRoYWxmRGlzdCArPSBwb2ludHNbaV0uZGlzdGFuY2VUbyhwb2ludHNbaSArIDFdKSAvIDI7XHJcblx0fVxyXG5cclxuXHQvLyBUaGUgbGluZSBpcyBzbyBzbWFsbCBpbiB0aGUgY3VycmVudCB2aWV3IHRoYXQgYWxsIHBvaW50cyBhcmUgb24gdGhlIHNhbWUgcGl4ZWwuXHJcblx0aWYgKGhhbGZEaXN0ID09PSAwKSB7XHJcblx0XHRjZW50ZXIgPSBwb2ludHNbMF07XHJcblx0fSBlbHNlIHtcclxuXHRcdGZvciAoaSA9IDAsIGRpc3QgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XHJcblx0XHRcdHAxID0gcG9pbnRzW2ldO1xyXG5cdFx0XHRwMiA9IHBvaW50c1tpICsgMV07XHJcblx0XHRcdHNlZ0Rpc3QgPSBwMS5kaXN0YW5jZVRvKHAyKTtcclxuXHRcdFx0ZGlzdCArPSBzZWdEaXN0O1xyXG5cclxuXHRcdFx0aWYgKGRpc3QgPiBoYWxmRGlzdCkge1xyXG5cdFx0XHRcdHJhdGlvID0gKGRpc3QgLSBoYWxmRGlzdCkgLyBzZWdEaXN0O1xyXG5cdFx0XHRcdGNlbnRlciA9IFtcclxuXHRcdFx0XHRcdHAyLnggLSByYXRpbyAqIChwMi54IC0gcDEueCksXHJcblx0XHRcdFx0XHRwMi55IC0gcmF0aW8gKiAocDIueSAtIHAxLnkpXHJcblx0XHRcdFx0XTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dmFyIGxhdGxuZ0NlbnRlciA9IGNycy51bnByb2plY3QodG9Qb2ludChjZW50ZXIpKTtcclxuXHRyZXR1cm4gdG9MYXRMbmcoW2xhdGxuZ0NlbnRlci5sYXQgKyBjZW50cm9pZExhdExuZy5sYXQsIGxhdGxuZ0NlbnRlci5sbmcgKyBjZW50cm9pZExhdExuZy5sbmddKTtcclxufVxyXG4iLCAiaW1wb3J0IHtMYXRMbmd9IGZyb20gJy4uL0xhdExuZyc7XHJcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xyXG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XHJcblxyXG4vKlxyXG4gKiBAbmFtZXNwYWNlIFByb2plY3Rpb25cclxuICogQHNlY3Rpb25cclxuICogTGVhZmxldCBjb21lcyB3aXRoIGEgc2V0IG9mIGFscmVhZHkgZGVmaW5lZCBQcm9qZWN0aW9ucyBvdXQgb2YgdGhlIGJveDpcclxuICpcclxuICogQHByb2plY3Rpb24gTC5Qcm9qZWN0aW9uLkxvbkxhdFxyXG4gKlxyXG4gKiBFcXVpcmVjdGFuZ3VsYXIsIG9yIFBsYXRlIENhcnJlZSBwcm9qZWN0aW9uIOKAlCB0aGUgbW9zdCBzaW1wbGUgcHJvamVjdGlvbixcclxuICogbW9zdGx5IHVzZWQgYnkgR0lTIGVudGh1c2lhc3RzLiBEaXJlY3RseSBtYXBzIGB4YCBhcyBsb25naXR1ZGUsIGFuZCBgeWAgYXNcclxuICogbGF0aXR1ZGUuIEFsc28gc3VpdGFibGUgZm9yIGZsYXQgd29ybGRzLCBlLmcuIGdhbWUgbWFwcy4gVXNlZCBieSB0aGVcclxuICogYEVQU0c6NDMyNmAgYW5kIGBTaW1wbGVgIENSUy5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIExvbkxhdCA9IHtcclxuXHRwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KGxhdGxuZy5sbmcsIGxhdGxuZy5sYXQpO1xyXG5cdH0sXHJcblxyXG5cdHVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50KSB7XHJcblx0XHRyZXR1cm4gbmV3IExhdExuZyhwb2ludC55LCBwb2ludC54KTtcclxuXHR9LFxyXG5cclxuXHRib3VuZHM6IG5ldyBCb3VuZHMoWy0xODAsIC05MF0sIFsxODAsIDkwXSlcclxufTtcclxuIiwgImltcG9ydCB7TGF0TG5nfSBmcm9tICcuLi9MYXRMbmcnO1xyXG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuaW1wb3J0IHtQb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBQcm9qZWN0aW9uXHJcbiAqIEBwcm9qZWN0aW9uIEwuUHJvamVjdGlvbi5NZXJjYXRvclxyXG4gKlxyXG4gKiBFbGxpcHRpY2FsIE1lcmNhdG9yIHByb2plY3Rpb24g4oCUIG1vcmUgY29tcGxleCB0aGFuIFNwaGVyaWNhbCBNZXJjYXRvci4gQXNzdW1lcyB0aGF0IEVhcnRoIGlzIGFuIGVsbGlwc29pZC4gVXNlZCBieSB0aGUgRVBTRzozMzk1IENSUy5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIE1lcmNhdG9yID0ge1xyXG5cdFI6IDYzNzgxMzcsXHJcblx0Ul9NSU5PUjogNjM1Njc1Mi4zMTQyNDUxNzksXHJcblxyXG5cdGJvdW5kczogbmV3IEJvdW5kcyhbLTIwMDM3NTA4LjM0Mjc5LCAtMTU0OTY1NzAuNzM5NzJdLCBbMjAwMzc1MDguMzQyNzksIDE4NzY0NjU2LjIzMTM4XSksXHJcblxyXG5cdHByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBkID0gTWF0aC5QSSAvIDE4MCxcclxuXHRcdCAgICByID0gdGhpcy5SLFxyXG5cdFx0ICAgIHkgPSBsYXRsbmcubGF0ICogZCxcclxuXHRcdCAgICB0bXAgPSB0aGlzLlJfTUlOT1IgLyByLFxyXG5cdFx0ICAgIGUgPSBNYXRoLnNxcnQoMSAtIHRtcCAqIHRtcCksXHJcblx0XHQgICAgY29uID0gZSAqIE1hdGguc2luKHkpO1xyXG5cclxuXHRcdHZhciB0cyA9IE1hdGgudGFuKE1hdGguUEkgLyA0IC0geSAvIDIpIC8gTWF0aC5wb3coKDEgLSBjb24pIC8gKDEgKyBjb24pLCBlIC8gMik7XHJcblx0XHR5ID0gLXIgKiBNYXRoLmxvZyhNYXRoLm1heCh0cywgMUUtMTApKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IFBvaW50KGxhdGxuZy5sbmcgKiBkICogciwgeSk7XHJcblx0fSxcclxuXHJcblx0dW5wcm9qZWN0OiBmdW5jdGlvbiAocG9pbnQpIHtcclxuXHRcdHZhciBkID0gMTgwIC8gTWF0aC5QSSxcclxuXHRcdCAgICByID0gdGhpcy5SLFxyXG5cdFx0ICAgIHRtcCA9IHRoaXMuUl9NSU5PUiAvIHIsXHJcblx0XHQgICAgZSA9IE1hdGguc3FydCgxIC0gdG1wICogdG1wKSxcclxuXHRcdCAgICB0cyA9IE1hdGguZXhwKC1wb2ludC55IC8gciksXHJcblx0XHQgICAgcGhpID0gTWF0aC5QSSAvIDIgLSAyICogTWF0aC5hdGFuKHRzKTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMCwgZHBoaSA9IDAuMSwgY29uOyBpIDwgMTUgJiYgTWF0aC5hYnMoZHBoaSkgPiAxZS03OyBpKyspIHtcclxuXHRcdFx0Y29uID0gZSAqIE1hdGguc2luKHBoaSk7XHJcblx0XHRcdGNvbiA9IE1hdGgucG93KCgxIC0gY29uKSAvICgxICsgY29uKSwgZSAvIDIpO1xyXG5cdFx0XHRkcGhpID0gTWF0aC5QSSAvIDIgLSAyICogTWF0aC5hdGFuKHRzICogY29uKSAtIHBoaTtcclxuXHRcdFx0cGhpICs9IGRwaGk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBMYXRMbmcocGhpICogZCwgcG9pbnQueCAqIGQgLyByKTtcclxuXHR9XHJcbn07XHJcbiIsICIvKlxuICogQGNsYXNzIFByb2plY3Rpb25cblxuICogQW4gb2JqZWN0IHdpdGggbWV0aG9kcyBmb3IgcHJvamVjdGluZyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHdvcmxkIG9udG9cbiAqIGEgZmxhdCBzdXJmYWNlIChhbmQgYmFjaykuIFNlZSBbTWFwIHByb2plY3Rpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hcF9wcm9qZWN0aW9uKS5cblxuICogQHByb3BlcnR5IGJvdW5kczogQm91bmRzXG4gKiBUaGUgYm91bmRzIChzcGVjaWZpZWQgaW4gQ1JTIHVuaXRzKSB3aGVyZSB0aGUgcHJvamVjdGlvbiBpcyB2YWxpZFxuXG4gKiBAbWV0aG9kIHByb2plY3QobGF0bG5nOiBMYXRMbmcpOiBQb2ludFxuICogUHJvamVjdHMgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIGludG8gYSAyRCBwb2ludC5cbiAqIE9ubHkgYWNjZXB0cyBhY3R1YWwgYEwuTGF0TG5nYCBpbnN0YW5jZXMsIG5vdCBhcnJheXMuXG5cbiAqIEBtZXRob2QgdW5wcm9qZWN0KHBvaW50OiBQb2ludCk6IExhdExuZ1xuICogVGhlIGludmVyc2Ugb2YgYHByb2plY3RgLiBQcm9qZWN0cyBhIDJEIHBvaW50IGludG8gYSBnZW9ncmFwaGljYWwgbG9jYXRpb24uXG4gKiBPbmx5IGFjY2VwdHMgYWN0dWFsIGBMLlBvaW50YCBpbnN0YW5jZXMsIG5vdCBhcnJheXMuXG5cbiAqIE5vdGUgdGhhdCB0aGUgcHJvamVjdGlvbiBpbnN0YW5jZXMgZG8gbm90IGluaGVyaXQgZnJvbSBMZWFmbGV0J3MgYENsYXNzYCBvYmplY3QsXG4gKiBhbmQgY2FuJ3QgYmUgaW5zdGFudGlhdGVkLiBBbHNvLCBuZXcgY2xhc3NlcyBjYW4ndCBpbmhlcml0IGZyb20gdGhlbSxcbiAqIGFuZCBtZXRob2RzIGNhbid0IGJlIGFkZGVkIHRvIHRoZW0gd2l0aCB0aGUgYGluY2x1ZGVgIGZ1bmN0aW9uLlxuXG4gKi9cblxuZXhwb3J0IHtMb25MYXR9IGZyb20gJy4vUHJvamVjdGlvbi5Mb25MYXQnO1xuZXhwb3J0IHtNZXJjYXRvcn0gZnJvbSAnLi9Qcm9qZWN0aW9uLk1lcmNhdG9yJztcbmV4cG9ydCB7U3BoZXJpY2FsTWVyY2F0b3J9IGZyb20gJy4vUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvcic7XG4iLCAiaW1wb3J0IHtFYXJ0aH0gZnJvbSAnLi9DUlMuRWFydGgnO1xyXG5pbXBvcnQge01lcmNhdG9yfSBmcm9tICcuLi9wcm9qZWN0aW9uL1Byb2plY3Rpb24uTWVyY2F0b3InO1xyXG5pbXBvcnQge3RvVHJhbnNmb3JtYXRpb259IGZyb20gJy4uLy4uL2dlb21ldHJ5L1RyYW5zZm9ybWF0aW9uJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBDUlNcclxuICogQGNycyBMLkNSUy5FUFNHMzM5NVxyXG4gKlxyXG4gKiBSYXJlbHkgdXNlZCBieSBzb21lIGNvbW1lcmNpYWwgdGlsZSBwcm92aWRlcnMuIFVzZXMgRWxsaXB0aWNhbCBNZXJjYXRvciBwcm9qZWN0aW9uLlxyXG4gKi9cclxuZXhwb3J0IHZhciBFUFNHMzM5NSA9IFV0aWwuZXh0ZW5kKHt9LCBFYXJ0aCwge1xyXG5cdGNvZGU6ICdFUFNHOjMzOTUnLFxyXG5cdHByb2plY3Rpb246IE1lcmNhdG9yLFxyXG5cclxuXHR0cmFuc2Zvcm1hdGlvbjogKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBzY2FsZSA9IDAuNSAvIChNYXRoLlBJICogTWVyY2F0b3IuUik7XHJcblx0XHRyZXR1cm4gdG9UcmFuc2Zvcm1hdGlvbihzY2FsZSwgMC41LCAtc2NhbGUsIDAuNSk7XHJcblx0fSgpKVxyXG59KTtcclxuIiwgImltcG9ydCB7RWFydGh9IGZyb20gJy4vQ1JTLkVhcnRoJztcclxuaW1wb3J0IHtMb25MYXR9IGZyb20gJy4uL3Byb2plY3Rpb24vUHJvamVjdGlvbi5Mb25MYXQnO1xyXG5pbXBvcnQge3RvVHJhbnNmb3JtYXRpb259IGZyb20gJy4uLy4uL2dlb21ldHJ5L1RyYW5zZm9ybWF0aW9uJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBDUlNcclxuICogQGNycyBMLkNSUy5FUFNHNDMyNlxyXG4gKlxyXG4gKiBBIGNvbW1vbiBDUlMgYW1vbmcgR0lTIGVudGh1c2lhc3RzLiBVc2VzIHNpbXBsZSBFcXVpcmVjdGFuZ3VsYXIgcHJvamVjdGlvbi5cclxuICpcclxuICogTGVhZmxldCAxLjAueCBjb21wbGllcyB3aXRoIHRoZSBbVE1TIGNvb3JkaW5hdGUgc2NoZW1lIGZvciBFUFNHOjQzMjZdKGh0dHBzOi8vd2lraS5vc2dlby5vcmcvd2lraS9UaWxlX01hcF9TZXJ2aWNlX1NwZWNpZmljYXRpb24jZ2xvYmFsLWdlb2RldGljKSxcclxuICogd2hpY2ggaXMgYSBicmVha2luZyBjaGFuZ2UgZnJvbSAwLjcueCBiZWhhdmlvdXIuICBJZiB5b3UgYXJlIHVzaW5nIGEgYFRpbGVMYXllcmBcclxuICogd2l0aCB0aGlzIENSUywgZW5zdXJlIHRoYXQgdGhlcmUgYXJlIHR3byAyNTZ4MjU2IHBpeGVsIHRpbGVzIGNvdmVyaW5nIHRoZVxyXG4gKiB3aG9sZSBlYXJ0aCBhdCB6b29tIGxldmVsIHplcm8sIGFuZCB0aGF0IHRoZSB0aWxlIGNvb3JkaW5hdGUgb3JpZ2luIGlzICgtMTgwLCs5MCksXHJcbiAqIG9yICgtMTgwLC05MCkgZm9yIGBUaWxlTGF5ZXJgcyB3aXRoIFt0aGUgYHRtc2Agb3B0aW9uXSgjdGlsZWxheWVyLXRtcykgc2V0LlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgRVBTRzQzMjYgPSBVdGlsLmV4dGVuZCh7fSwgRWFydGgsIHtcclxuXHRjb2RlOiAnRVBTRzo0MzI2JyxcclxuXHRwcm9qZWN0aW9uOiBMb25MYXQsXHJcblx0dHJhbnNmb3JtYXRpb246IHRvVHJhbnNmb3JtYXRpb24oMSAvIDE4MCwgMSwgLTEgLyAxODAsIDAuNSlcclxufSk7XHJcbiIsICJpbXBvcnQge0NSU30gZnJvbSAnLi9DUlMnO1xuaW1wb3J0IHtMb25MYXR9IGZyb20gJy4uL3Byb2plY3Rpb24vUHJvamVjdGlvbi5Mb25MYXQnO1xuaW1wb3J0IHt0b1RyYW5zZm9ybWF0aW9ufSBmcm9tICcuLi8uLi9nZW9tZXRyeS9UcmFuc2Zvcm1hdGlvbic7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBAbmFtZXNwYWNlIENSU1xuICogQGNycyBMLkNSUy5TaW1wbGVcbiAqXG4gKiBBIHNpbXBsZSBDUlMgdGhhdCBtYXBzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgaW50byBgeGAgYW5kIGB5YCBkaXJlY3RseS5cbiAqIE1heSBiZSB1c2VkIGZvciBtYXBzIG9mIGZsYXQgc3VyZmFjZXMgKGUuZy4gZ2FtZSBtYXBzKS4gTm90ZSB0aGF0IHRoZSBgeWBcbiAqIGF4aXMgc2hvdWxkIHN0aWxsIGJlIGludmVydGVkIChnb2luZyBmcm9tIGJvdHRvbSB0byB0b3ApLiBgZGlzdGFuY2UoKWAgcmV0dXJuc1xuICogc2ltcGxlIGV1Y2xpZGVhbiBkaXN0YW5jZS5cbiAqL1xuXG5leHBvcnQgdmFyIFNpbXBsZSA9IFV0aWwuZXh0ZW5kKHt9LCBDUlMsIHtcblx0cHJvamVjdGlvbjogTG9uTGF0LFxuXHR0cmFuc2Zvcm1hdGlvbjogdG9UcmFuc2Zvcm1hdGlvbigxLCAwLCAtMSwgMCksXG5cblx0c2NhbGU6IGZ1bmN0aW9uICh6b29tKSB7XG5cdFx0cmV0dXJuIE1hdGgucG93KDIsIHpvb20pO1xuXHR9LFxuXG5cdHpvb206IGZ1bmN0aW9uIChzY2FsZSkge1xuXHRcdHJldHVybiBNYXRoLmxvZyhzY2FsZSkgLyBNYXRoLkxOMjtcblx0fSxcblxuXHRkaXN0YW5jZTogZnVuY3Rpb24gKGxhdGxuZzEsIGxhdGxuZzIpIHtcblx0XHR2YXIgZHggPSBsYXRsbmcyLmxuZyAtIGxhdGxuZzEubG5nLFxuXHRcdCAgICBkeSA9IGxhdGxuZzIubGF0IC0gbGF0bG5nMS5sYXQ7XG5cblx0XHRyZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblx0fSxcblxuXHRpbmZpbml0ZTogdHJ1ZVxufSk7XG4iLCAiaW1wb3J0IHtDUlN9IGZyb20gJy4vQ1JTJztcbmltcG9ydCB7RWFydGh9IGZyb20gJy4vQ1JTLkVhcnRoJztcbmltcG9ydCB7RVBTRzMzOTV9IGZyb20gJy4vQ1JTLkVQU0czMzk1JztcbmltcG9ydCB7RVBTRzM4NTcsIEVQU0c5MDA5MTN9IGZyb20gJy4vQ1JTLkVQU0czODU3JztcbmltcG9ydCB7RVBTRzQzMjZ9IGZyb20gJy4vQ1JTLkVQU0c0MzI2JztcbmltcG9ydCB7U2ltcGxlfSBmcm9tICcuL0NSUy5TaW1wbGUnO1xuXG5DUlMuRWFydGggPSBFYXJ0aDtcbkNSUy5FUFNHMzM5NSA9IEVQU0czMzk1O1xuQ1JTLkVQU0czODU3ID0gRVBTRzM4NTc7XG5DUlMuRVBTRzkwMDkxMyA9IEVQU0c5MDA5MTM7XG5DUlMuRVBTRzQzMjYgPSBFUFNHNDMyNjtcbkNSUy5TaW1wbGUgPSBTaW1wbGU7XG5cbmV4cG9ydCB7Q1JTfTtcbiIsICJpbXBvcnQge0V2ZW50ZWR9IGZyb20gJy4uL2NvcmUvRXZlbnRzJztcbmltcG9ydCB7TWFwfSBmcm9tICcuLi9tYXAvTWFwJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcblxuLypcbiAqIEBjbGFzcyBMYXllclxuICogQGluaGVyaXRzIEV2ZW50ZWRcbiAqIEBha2EgTC5MYXllclxuICogQGFrYSBJTGF5ZXJcbiAqXG4gKiBBIHNldCBvZiBtZXRob2RzIGZyb20gdGhlIExheWVyIGJhc2UgY2xhc3MgdGhhdCBhbGwgTGVhZmxldCBsYXllcnMgdXNlLlxuICogSW5oZXJpdHMgYWxsIG1ldGhvZHMsIG9wdGlvbnMgYW5kIGV2ZW50cyBmcm9tIGBMLkV2ZW50ZWRgLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIHZhciBsYXllciA9IEwubWFya2VyKGxhdGxuZykuYWRkVG8obWFwKTtcbiAqIGxheWVyLmFkZFRvKG1hcCk7XG4gKiBsYXllci5yZW1vdmUoKTtcbiAqIGBgYFxuICpcbiAqIEBldmVudCBhZGQ6IEV2ZW50XG4gKiBGaXJlZCBhZnRlciB0aGUgbGF5ZXIgaXMgYWRkZWQgdG8gYSBtYXBcbiAqXG4gKiBAZXZlbnQgcmVtb3ZlOiBFdmVudFxuICogRmlyZWQgYWZ0ZXIgdGhlIGxheWVyIGlzIHJlbW92ZWQgZnJvbSBhIG1hcFxuICovXG5cblxuZXhwb3J0IHZhciBMYXllciA9IEV2ZW50ZWQuZXh0ZW5kKHtcblxuXHQvLyBDbGFzc2VzIGV4dGVuZGluZyBgTC5MYXllcmAgd2lsbCBpbmhlcml0IHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ292ZXJsYXlQYW5lJ1xuXHRcdC8vIEJ5IGRlZmF1bHQgdGhlIGxheWVyIHdpbGwgYmUgYWRkZWQgdG8gdGhlIG1hcCdzIFtvdmVybGF5IHBhbmVdKCNtYXAtb3ZlcmxheXBhbmUpLiBPdmVycmlkaW5nIHRoaXMgb3B0aW9uIHdpbGwgY2F1c2UgdGhlIGxheWVyIHRvIGJlIHBsYWNlZCBvbiBhbm90aGVyIHBhbmUgYnkgZGVmYXVsdC5cblx0XHRwYW5lOiAnb3ZlcmxheVBhbmUnLFxuXG5cdFx0Ly8gQG9wdGlvbiBhdHRyaWJ1dGlvbjogU3RyaW5nID0gbnVsbFxuXHRcdC8vIFN0cmluZyB0byBiZSBzaG93biBpbiB0aGUgYXR0cmlidXRpb24gY29udHJvbCwgZS5nLiBcIsKpIE9wZW5TdHJlZXRNYXAgY29udHJpYnV0b3JzXCIuIEl0IGRlc2NyaWJlcyB0aGUgbGF5ZXIgZGF0YSBhbmQgaXMgb2Z0ZW4gYSBsZWdhbCBvYmxpZ2F0aW9uIHRvd2FyZHMgY29weXJpZ2h0IGhvbGRlcnMgYW5kIHRpbGUgcHJvdmlkZXJzLlxuXHRcdGF0dHJpYnV0aW9uOiBudWxsLFxuXG5cdFx0YnViYmxpbmdNb3VzZUV2ZW50czogdHJ1ZVxuXHR9LFxuXG5cdC8qIEBzZWN0aW9uXG5cdCAqIENsYXNzZXMgZXh0ZW5kaW5nIGBMLkxheWVyYCB3aWxsIGluaGVyaXQgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuXHQgKlxuXHQgKiBAbWV0aG9kIGFkZFRvKG1hcDogTWFwfExheWVyR3JvdXApOiB0aGlzXG5cdCAqIEFkZHMgdGhlIGxheWVyIHRvIHRoZSBnaXZlbiBtYXAgb3IgbGF5ZXIgZ3JvdXAuXG5cdCAqL1xuXHRhZGRUbzogZnVuY3Rpb24gKG1hcCkge1xuXHRcdG1hcC5hZGRMYXllcih0aGlzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHJlbW92ZTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSBsYXllciBmcm9tIHRoZSBtYXAgaXQgaXMgY3VycmVudGx5IGFjdGl2ZSBvbi5cblx0cmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVtb3ZlRnJvbSh0aGlzLl9tYXAgfHwgdGhpcy5fbWFwVG9BZGQpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVtb3ZlRnJvbShtYXA6IE1hcCk6IHRoaXNcblx0Ly8gUmVtb3ZlcyB0aGUgbGF5ZXIgZnJvbSB0aGUgZ2l2ZW4gbWFwXG5cdC8vXG5cdC8vIEBhbHRlcm5hdGl2ZVxuXHQvLyBAbWV0aG9kIHJlbW92ZUZyb20oZ3JvdXA6IExheWVyR3JvdXApOiB0aGlzXG5cdC8vIFJlbW92ZXMgdGhlIGxheWVyIGZyb20gdGhlIGdpdmVuIGBMYXllckdyb3VwYFxuXHRyZW1vdmVGcm9tOiBmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKG9iaikge1xuXHRcdFx0b2JqLnJlbW92ZUxheWVyKHRoaXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldFBhbmUobmFtZT8gOiBTdHJpbmcpOiBIVE1MRWxlbWVudFxuXHQvLyBSZXR1cm5zIHRoZSBgSFRNTEVsZW1lbnRgIHJlcHJlc2VudGluZyB0aGUgbmFtZWQgcGFuZSBvbiB0aGUgbWFwLiBJZiBgbmFtZWAgaXMgb21pdHRlZCwgcmV0dXJucyB0aGUgcGFuZSBmb3IgdGhpcyBsYXllci5cblx0Z2V0UGFuZTogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmdldFBhbmUobmFtZSA/ICh0aGlzLm9wdGlvbnNbbmFtZV0gfHwgbmFtZSkgOiB0aGlzLm9wdGlvbnMucGFuZSk7XG5cdH0sXG5cblx0YWRkSW50ZXJhY3RpdmVUYXJnZXQ6IGZ1bmN0aW9uICh0YXJnZXRFbCkge1xuXHRcdHRoaXMuX21hcC5fdGFyZ2V0c1tVdGlsLnN0YW1wKHRhcmdldEVsKV0gPSB0aGlzO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUludGVyYWN0aXZlVGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0RWwpIHtcblx0XHRkZWxldGUgdGhpcy5fbWFwLl90YXJnZXRzW1V0aWwuc3RhbXAodGFyZ2V0RWwpXTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldEF0dHJpYnV0aW9uOiBTdHJpbmdcblx0Ly8gVXNlZCBieSB0aGUgYGF0dHJpYnV0aW9uIGNvbnRyb2xgLCByZXR1cm5zIHRoZSBbYXR0cmlidXRpb24gb3B0aW9uXSgjZ3JpZGxheWVyLWF0dHJpYnV0aW9uKS5cblx0Z2V0QXR0cmlidXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uO1xuXHR9LFxuXG5cdF9sYXllckFkZDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbWFwID0gZS50YXJnZXQ7XG5cblx0XHQvLyBjaGVjayBpbiBjYXNlIGxheWVyIGdldHMgYWRkZWQgYW5kIHRoZW4gcmVtb3ZlZCBiZWZvcmUgdGhlIG1hcCBpcyByZWFkeVxuXHRcdGlmICghbWFwLmhhc0xheWVyKHRoaXMpKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5fbWFwID0gbWFwO1xuXHRcdHRoaXMuX3pvb21BbmltYXRlZCA9IG1hcC5fem9vbUFuaW1hdGVkO1xuXG5cdFx0aWYgKHRoaXMuZ2V0RXZlbnRzKSB7XG5cdFx0XHR2YXIgZXZlbnRzID0gdGhpcy5nZXRFdmVudHMoKTtcblx0XHRcdG1hcC5vbihldmVudHMsIHRoaXMpO1xuXHRcdFx0dGhpcy5vbmNlKCdyZW1vdmUnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1hcC5vZmYoZXZlbnRzLCB0aGlzKTtcblx0XHRcdH0sIHRoaXMpO1xuXHRcdH1cblxuXHRcdHRoaXMub25BZGQobWFwKTtcblxuXHRcdHRoaXMuZmlyZSgnYWRkJyk7XG5cdFx0bWFwLmZpcmUoJ2xheWVyYWRkJywge2xheWVyOiB0aGlzfSk7XG5cdH1cbn0pO1xuXG4vKiBAc2VjdGlvbiBFeHRlbnNpb24gbWV0aG9kc1xuICogQHVuaW5oZXJpdGFibGVcbiAqXG4gKiBFdmVyeSBsYXllciBzaG91bGQgZXh0ZW5kIGZyb20gYEwuTGF5ZXJgIGFuZCAocmUtKWltcGxlbWVudCB0aGUgZm9sbG93aW5nIG1ldGhvZHMuXG4gKlxuICogQG1ldGhvZCBvbkFkZChtYXA6IE1hcCk6IHRoaXNcbiAqIFNob3VsZCBjb250YWluIGNvZGUgdGhhdCBjcmVhdGVzIERPTSBlbGVtZW50cyBmb3IgdGhlIGxheWVyLCBhZGRzIHRoZW0gdG8gYG1hcCBwYW5lc2Agd2hlcmUgdGhleSBzaG91bGQgYmVsb25nIGFuZCBwdXRzIGxpc3RlbmVycyBvbiByZWxldmFudCBtYXAgZXZlbnRzLiBDYWxsZWQgb24gW2BtYXAuYWRkTGF5ZXIobGF5ZXIpYF0oI21hcC1hZGRsYXllcikuXG4gKlxuICogQG1ldGhvZCBvblJlbW92ZShtYXA6IE1hcCk6IHRoaXNcbiAqIFNob3VsZCBjb250YWluIGFsbCBjbGVhbiB1cCBjb2RlIHRoYXQgcmVtb3ZlcyB0aGUgbGF5ZXIncyBlbGVtZW50cyBmcm9tIHRoZSBET00gYW5kIHJlbW92ZXMgbGlzdGVuZXJzIHByZXZpb3VzbHkgYWRkZWQgaW4gW2BvbkFkZGBdKCNsYXllci1vbmFkZCkuIENhbGxlZCBvbiBbYG1hcC5yZW1vdmVMYXllcihsYXllcilgXSgjbWFwLXJlbW92ZWxheWVyKS5cbiAqXG4gKiBAbWV0aG9kIGdldEV2ZW50cygpOiBPYmplY3RcbiAqIFRoaXMgb3B0aW9uYWwgbWV0aG9kIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0IGxpa2UgYHsgdmlld3Jlc2V0OiB0aGlzLl9yZXNldCB9YCBmb3IgW2BhZGRFdmVudExpc3RlbmVyYF0oI2V2ZW50ZWQtYWRkZXZlbnRsaXN0ZW5lcikuIFRoZSBldmVudCBoYW5kbGVycyBpbiB0aGlzIG9iamVjdCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgbWFwIHdpdGggeW91ciBsYXllci5cbiAqXG4gKiBAbWV0aG9kIGdldEF0dHJpYnV0aW9uKCk6IFN0cmluZ1xuICogVGhpcyBvcHRpb25hbCBtZXRob2Qgc2hvdWxkIHJldHVybiBhIHN0cmluZyBjb250YWluaW5nIEhUTUwgdG8gYmUgc2hvd24gb24gdGhlIGBBdHRyaWJ1dGlvbiBjb250cm9sYCB3aGVuZXZlciB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAqXG4gKiBAbWV0aG9kIGJlZm9yZUFkZChtYXA6IE1hcCk6IHRoaXNcbiAqIE9wdGlvbmFsIG1ldGhvZC4gQ2FsbGVkIG9uIFtgbWFwLmFkZExheWVyKGxheWVyKWBdKCNtYXAtYWRkbGF5ZXIpLCBiZWZvcmUgdGhlIGxheWVyIGlzIGFkZGVkIHRvIHRoZSBtYXAsIGJlZm9yZSBldmVudHMgYXJlIGluaXRpYWxpemVkLCB3aXRob3V0IHdhaXRpbmcgdW50aWwgdGhlIG1hcCBpcyBpbiBhIHVzYWJsZSBzdGF0ZS4gVXNlIGZvciBlYXJseSBpbml0aWFsaXphdGlvbiBvbmx5LlxuICovXG5cblxuLyogQG5hbWVzcGFjZSBNYXBcbiAqIEBzZWN0aW9uIExheWVyIGV2ZW50c1xuICpcbiAqIEBldmVudCBsYXllcmFkZDogTGF5ZXJFdmVudFxuICogRmlyZWQgd2hlbiBhIG5ldyBsYXllciBpcyBhZGRlZCB0byB0aGUgbWFwLlxuICpcbiAqIEBldmVudCBsYXllcnJlbW92ZTogTGF5ZXJFdmVudFxuICogRmlyZWQgd2hlbiBzb21lIGxheWVyIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwXG4gKlxuICogQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xuICovXG5NYXAuaW5jbHVkZSh7XG5cdC8vIEBtZXRob2QgYWRkTGF5ZXIobGF5ZXI6IExheWVyKTogdGhpc1xuXHQvLyBBZGRzIHRoZSBnaXZlbiBsYXllciB0byB0aGUgbWFwXG5cdGFkZExheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIWxheWVyLl9sYXllckFkZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhIExheWVyLicpO1xuXHRcdH1cblxuXHRcdHZhciBpZCA9IFV0aWwuc3RhbXAobGF5ZXIpO1xuXHRcdGlmICh0aGlzLl9sYXllcnNbaWRdKSB7IHJldHVybiB0aGlzOyB9XG5cdFx0dGhpcy5fbGF5ZXJzW2lkXSA9IGxheWVyO1xuXG5cdFx0bGF5ZXIuX21hcFRvQWRkID0gdGhpcztcblxuXHRcdGlmIChsYXllci5iZWZvcmVBZGQpIHtcblx0XHRcdGxheWVyLmJlZm9yZUFkZCh0aGlzKTtcblx0XHR9XG5cblx0XHR0aGlzLndoZW5SZWFkeShsYXllci5fbGF5ZXJBZGQsIGxheWVyKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVtb3ZlTGF5ZXIobGF5ZXI6IExheWVyKTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSBnaXZlbiBsYXllciBmcm9tIHRoZSBtYXAuXG5cdHJlbW92ZUxheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgaWQgPSBVdGlsLnN0YW1wKGxheWVyKTtcblxuXHRcdGlmICghdGhpcy5fbGF5ZXJzW2lkXSkgeyByZXR1cm4gdGhpczsgfVxuXG5cdFx0aWYgKHRoaXMuX2xvYWRlZCkge1xuXHRcdFx0bGF5ZXIub25SZW1vdmUodGhpcyk7XG5cdFx0fVxuXG5cdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XG5cblx0XHRpZiAodGhpcy5fbG9hZGVkKSB7XG5cdFx0XHR0aGlzLmZpcmUoJ2xheWVycmVtb3ZlJywge2xheWVyOiBsYXllcn0pO1xuXHRcdFx0bGF5ZXIuZmlyZSgncmVtb3ZlJyk7XG5cdFx0fVxuXG5cdFx0bGF5ZXIuX21hcCA9IGxheWVyLl9tYXBUb0FkZCA9IG51bGw7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGhhc0xheWVyKGxheWVyOiBMYXllcik6IEJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGxheWVyIGlzIGN1cnJlbnRseSBhZGRlZCB0byB0aGUgbWFwXG5cdGhhc0xheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRyZXR1cm4gVXRpbC5zdGFtcChsYXllcikgaW4gdGhpcy5fbGF5ZXJzO1xuXHR9LFxuXG5cdC8qIEBtZXRob2QgZWFjaExheWVyKGZuOiBGdW5jdGlvbiwgY29udGV4dD86IE9iamVjdCk6IHRoaXNcblx0ICogSXRlcmF0ZXMgb3ZlciB0aGUgbGF5ZXJzIG9mIHRoZSBtYXAsIG9wdGlvbmFsbHkgc3BlY2lmeWluZyBjb250ZXh0IG9mIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cblx0ICogYGBgXG5cdCAqIG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24obGF5ZXIpe1xuXHQgKiAgICAgbGF5ZXIuYmluZFBvcHVwKCdIZWxsbycpO1xuXHQgKiB9KTtcblx0ICogYGBgXG5cdCAqL1xuXHRlYWNoTGF5ZXI6IGZ1bmN0aW9uIChtZXRob2QsIGNvbnRleHQpIHtcblx0XHRmb3IgKHZhciBpIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0bWV0aG9kLmNhbGwoY29udGV4dCwgdGhpcy5fbGF5ZXJzW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2FkZExheWVyczogZnVuY3Rpb24gKGxheWVycykge1xuXHRcdGxheWVycyA9IGxheWVycyA/IChVdGlsLmlzQXJyYXkobGF5ZXJzKSA/IGxheWVycyA6IFtsYXllcnNdKSA6IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxheWVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0dGhpcy5hZGRMYXllcihsYXllcnNbaV0pO1xuXHRcdH1cblx0fSxcblxuXHRfYWRkWm9vbUxpbWl0OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIWlzTmFOKGxheWVyLm9wdGlvbnMubWF4Wm9vbSkgfHwgIWlzTmFOKGxheWVyLm9wdGlvbnMubWluWm9vbSkpIHtcblx0XHRcdHRoaXMuX3pvb21Cb3VuZExheWVyc1tVdGlsLnN0YW1wKGxheWVyKV0gPSBsYXllcjtcblx0XHRcdHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlbW92ZVpvb21MaW1pdDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIGlkID0gVXRpbC5zdGFtcChsYXllcik7XG5cblx0XHRpZiAodGhpcy5fem9vbUJvdW5kTGF5ZXJzW2lkXSkge1xuXHRcdFx0ZGVsZXRlIHRoaXMuX3pvb21Cb3VuZExheWVyc1tpZF07XG5cdFx0XHR0aGlzLl91cGRhdGVab29tTGV2ZWxzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVab29tTGV2ZWxzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1pblpvb20gPSBJbmZpbml0eSxcblx0XHQgICAgbWF4Wm9vbSA9IC1JbmZpbml0eSxcblx0XHQgICAgb2xkWm9vbVNwYW4gPSB0aGlzLl9nZXRab29tU3BhbigpO1xuXG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLl96b29tQm91bmRMYXllcnMpIHtcblx0XHRcdHZhciBvcHRpb25zID0gdGhpcy5fem9vbUJvdW5kTGF5ZXJzW2ldLm9wdGlvbnM7XG5cblx0XHRcdG1pblpvb20gPSBvcHRpb25zLm1pblpvb20gPT09IHVuZGVmaW5lZCA/IG1pblpvb20gOiBNYXRoLm1pbihtaW5ab29tLCBvcHRpb25zLm1pblpvb20pO1xuXHRcdFx0bWF4Wm9vbSA9IG9wdGlvbnMubWF4Wm9vbSA9PT0gdW5kZWZpbmVkID8gbWF4Wm9vbSA6IE1hdGgubWF4KG1heFpvb20sIG9wdGlvbnMubWF4Wm9vbSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fbGF5ZXJzTWF4Wm9vbSA9IG1heFpvb20gPT09IC1JbmZpbml0eSA/IHVuZGVmaW5lZCA6IG1heFpvb207XG5cdFx0dGhpcy5fbGF5ZXJzTWluWm9vbSA9IG1pblpvb20gPT09IEluZmluaXR5ID8gdW5kZWZpbmVkIDogbWluWm9vbTtcblxuXHRcdC8vIEBzZWN0aW9uIE1hcCBzdGF0ZSBjaGFuZ2UgZXZlbnRzXG5cdFx0Ly8gQGV2ZW50IHpvb21sZXZlbHNjaGFuZ2U6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbnVtYmVyIG9mIHpvb21sZXZlbHMgb24gdGhlIG1hcCBpcyBjaGFuZ2VkIGR1ZVxuXHRcdC8vIHRvIGFkZGluZyBvciByZW1vdmluZyBhIGxheWVyLlxuXHRcdGlmIChvbGRab29tU3BhbiAhPT0gdGhpcy5fZ2V0Wm9vbVNwYW4oKSkge1xuXHRcdFx0dGhpcy5maXJlKCd6b29tbGV2ZWxzY2hhbmdlJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5tYXhab29tID09PSB1bmRlZmluZWQgJiYgdGhpcy5fbGF5ZXJzTWF4Wm9vbSAmJiB0aGlzLmdldFpvb20oKSA+IHRoaXMuX2xheWVyc01heFpvb20pIHtcblx0XHRcdHRoaXMuc2V0Wm9vbSh0aGlzLl9sYXllcnNNYXhab29tKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMub3B0aW9ucy5taW5ab29tID09PSB1bmRlZmluZWQgJiYgdGhpcy5fbGF5ZXJzTWluWm9vbSAmJiB0aGlzLmdldFpvb20oKSA8IHRoaXMuX2xheWVyc01pblpvb20pIHtcblx0XHRcdHRoaXMuc2V0Wm9vbSh0aGlzLl9sYXllcnNNaW5ab29tKTtcblx0XHR9XG5cdH1cbn0pO1xuIiwgIlxyXG5pbXBvcnQge0xheWVyfSBmcm9tICcuL0xheWVyJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQGNsYXNzIExheWVyR3JvdXBcclxuICogQGFrYSBMLkxheWVyR3JvdXBcclxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXHJcbiAqXHJcbiAqIFVzZWQgdG8gZ3JvdXAgc2V2ZXJhbCBsYXllcnMgYW5kIGhhbmRsZSB0aGVtIGFzIG9uZS4gSWYgeW91IGFkZCBpdCB0byB0aGUgbWFwLFxyXG4gKiBhbnkgbGF5ZXJzIGFkZGVkIG9yIHJlbW92ZWQgZnJvbSB0aGUgZ3JvdXAgd2lsbCBiZSBhZGRlZC9yZW1vdmVkIG9uIHRoZSBtYXAgYXNcclxuICogd2VsbC4gRXh0ZW5kcyBgTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLmxheWVyR3JvdXAoW21hcmtlcjEsIG1hcmtlcjJdKVxyXG4gKiBcdC5hZGRMYXllcihwb2x5bGluZSlcclxuICogXHQuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBMYXllckdyb3VwID0gTGF5ZXIuZXh0ZW5kKHtcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxheWVycywgb3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuX2xheWVycyA9IHt9O1xyXG5cclxuXHRcdHZhciBpLCBsZW47XHJcblxyXG5cdFx0aWYgKGxheWVycykge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBsZW4gPSBsYXllcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLmFkZExheWVyKGxheWVyc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZExheWVyKGxheWVyOiBMYXllcik6IHRoaXNcclxuXHQvLyBBZGRzIHRoZSBnaXZlbiBsYXllciB0byB0aGUgZ3JvdXAuXHJcblx0YWRkTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0dmFyIGlkID0gdGhpcy5nZXRMYXllcklkKGxheWVyKTtcclxuXHJcblx0XHR0aGlzLl9sYXllcnNbaWRdID0gbGF5ZXI7XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl9tYXAuYWRkTGF5ZXIobGF5ZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlTGF5ZXIobGF5ZXI6IExheWVyKTogdGhpc1xyXG5cdC8vIFJlbW92ZXMgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIGdyb3VwLlxyXG5cdC8vIEBhbHRlcm5hdGl2ZVxyXG5cdC8vIEBtZXRob2QgcmVtb3ZlTGF5ZXIoaWQ6IE51bWJlcik6IHRoaXNcclxuXHQvLyBSZW1vdmVzIHRoZSBsYXllciB3aXRoIHRoZSBnaXZlbiBpbnRlcm5hbCBJRCBmcm9tIHRoZSBncm91cC5cclxuXHRyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHR2YXIgaWQgPSBsYXllciBpbiB0aGlzLl9sYXllcnMgPyBsYXllciA6IHRoaXMuZ2V0TGF5ZXJJZChsYXllcik7XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCAmJiB0aGlzLl9sYXllcnNbaWRdKSB7XHJcblx0XHRcdHRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYXllcnNbaWRdKTtcclxuXHRcdH1cclxuXHJcblx0XHRkZWxldGUgdGhpcy5fbGF5ZXJzW2lkXTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGhhc0xheWVyKGxheWVyOiBMYXllcik6IEJvb2xlYW5cclxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gbGF5ZXIgaXMgY3VycmVudGx5IGFkZGVkIHRvIHRoZSBncm91cC5cclxuXHQvLyBAYWx0ZXJuYXRpdmVcclxuXHQvLyBAbWV0aG9kIGhhc0xheWVyKGlkOiBOdW1iZXIpOiBCb29sZWFuXHJcblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGludGVybmFsIElEIGlzIGN1cnJlbnRseSBhZGRlZCB0byB0aGUgZ3JvdXAuXHJcblx0aGFzTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0dmFyIGxheWVySWQgPSB0eXBlb2YgbGF5ZXIgPT09ICdudW1iZXInID8gbGF5ZXIgOiB0aGlzLmdldExheWVySWQobGF5ZXIpO1xyXG5cdFx0cmV0dXJuIGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY2xlYXJMYXllcnMoKTogdGhpc1xyXG5cdC8vIFJlbW92ZXMgYWxsIHRoZSBsYXllcnMgZnJvbSB0aGUgZ3JvdXAuXHJcblx0Y2xlYXJMYXllcnM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLmVhY2hMYXllcih0aGlzLnJlbW92ZUxheWVyLCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGludm9rZShtZXRob2ROYW1lOiBTdHJpbmcsIOKApik6IHRoaXNcclxuXHQvLyBDYWxscyBgbWV0aG9kTmFtZWAgb24gZXZlcnkgbGF5ZXIgY29udGFpbmVkIGluIHRoaXMgZ3JvdXAsIHBhc3NpbmcgYW55XHJcblx0Ly8gYWRkaXRpb25hbCBwYXJhbWV0ZXJzLiBIYXMgbm8gZWZmZWN0IGlmIHRoZSBsYXllcnMgY29udGFpbmVkIGRvIG5vdFxyXG5cdC8vIGltcGxlbWVudCBgbWV0aG9kTmFtZWAuXHJcblx0aW52b2tlOiBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xyXG5cdFx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxyXG5cdFx0ICAgIGksIGxheWVyO1xyXG5cclxuXHRcdGZvciAoaSBpbiB0aGlzLl9sYXllcnMpIHtcclxuXHRcdFx0bGF5ZXIgPSB0aGlzLl9sYXllcnNbaV07XHJcblxyXG5cdFx0XHRpZiAobGF5ZXJbbWV0aG9kTmFtZV0pIHtcclxuXHRcdFx0XHRsYXllclttZXRob2ROYW1lXS5hcHBseShsYXllciwgYXJncyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0dGhpcy5lYWNoTGF5ZXIobWFwLmFkZExheWVyLCBtYXApO1xyXG5cdH0sXHJcblxyXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLmVhY2hMYXllcihtYXAucmVtb3ZlTGF5ZXIsIG1hcCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBlYWNoTGF5ZXIoZm46IEZ1bmN0aW9uLCBjb250ZXh0PzogT2JqZWN0KTogdGhpc1xyXG5cdC8vIEl0ZXJhdGVzIG92ZXIgdGhlIGxheWVycyBvZiB0aGUgZ3JvdXAsIG9wdGlvbmFsbHkgc3BlY2lmeWluZyBjb250ZXh0IG9mIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cclxuXHQvLyBgYGBqc1xyXG5cdC8vIGdyb3VwLmVhY2hMYXllcihmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHQvLyBcdGxheWVyLmJpbmRQb3B1cCgnSGVsbG8nKTtcclxuXHQvLyB9KTtcclxuXHQvLyBgYGBcclxuXHRlYWNoTGF5ZXI6IGZ1bmN0aW9uIChtZXRob2QsIGNvbnRleHQpIHtcclxuXHRcdGZvciAodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdG1ldGhvZC5jYWxsKGNvbnRleHQsIHRoaXMuX2xheWVyc1tpXSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldExheWVyKGlkOiBOdW1iZXIpOiBMYXllclxyXG5cdC8vIFJldHVybnMgdGhlIGxheWVyIHdpdGggdGhlIGdpdmVuIGludGVybmFsIElELlxyXG5cdGdldExheWVyOiBmdW5jdGlvbiAoaWQpIHtcclxuXHRcdHJldHVybiB0aGlzLl9sYXllcnNbaWRdO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0TGF5ZXJzKCk6IExheWVyW11cclxuXHQvLyBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgbGF5ZXJzIGFkZGVkIHRvIHRoZSBncm91cC5cclxuXHRnZXRMYXllcnM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBsYXllcnMgPSBbXTtcclxuXHRcdHRoaXMuZWFjaExheWVyKGxheWVycy5wdXNoLCBsYXllcnMpO1xyXG5cdFx0cmV0dXJuIGxheWVycztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFpJbmRleCh6SW5kZXg6IE51bWJlcik6IHRoaXNcclxuXHQvLyBDYWxscyBgc2V0WkluZGV4YCBvbiBldmVyeSBsYXllciBjb250YWluZWQgaW4gdGhpcyBncm91cCwgcGFzc2luZyB0aGUgei1pbmRleC5cclxuXHRzZXRaSW5kZXg6IGZ1bmN0aW9uICh6SW5kZXgpIHtcclxuXHRcdHJldHVybiB0aGlzLmludm9rZSgnc2V0WkluZGV4JywgekluZGV4KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldExheWVySWQobGF5ZXI6IExheWVyKTogTnVtYmVyXHJcblx0Ly8gUmV0dXJucyB0aGUgaW50ZXJuYWwgSUQgZm9yIGEgbGF5ZXJcclxuXHRnZXRMYXllcklkOiBmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdHJldHVybiBVdGlsLnN0YW1wKGxheWVyKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbi8vIEBmYWN0b3J5IEwubGF5ZXJHcm91cChsYXllcnM/OiBMYXllcltdLCBvcHRpb25zPzogT2JqZWN0KVxyXG4vLyBDcmVhdGUgYSBsYXllciBncm91cCwgb3B0aW9uYWxseSBnaXZlbiBhbiBpbml0aWFsIHNldCBvZiBsYXllcnMgYW5kIGFuIGBvcHRpb25zYCBvYmplY3QuXHJcbmV4cG9ydCB2YXIgbGF5ZXJHcm91cCA9IGZ1bmN0aW9uIChsYXllcnMsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IExheWVyR3JvdXAobGF5ZXJzLCBvcHRpb25zKTtcclxufTtcclxuIiwgImltcG9ydCB7TGF5ZXJHcm91cH0gZnJvbSAnLi9MYXllckdyb3VwJztcclxuaW1wb3J0IHtMYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG5cclxuLypcclxuICogQGNsYXNzIEZlYXR1cmVHcm91cFxyXG4gKiBAYWthIEwuRmVhdHVyZUdyb3VwXHJcbiAqIEBpbmhlcml0cyBMYXllckdyb3VwXHJcbiAqXHJcbiAqIEV4dGVuZGVkIGBMYXllckdyb3VwYCB0aGF0IG1ha2VzIGl0IGVhc2llciB0byBkbyB0aGUgc2FtZSB0aGluZyB0byBhbGwgaXRzIG1lbWJlciBsYXllcnM6XHJcbiAqICAqIFtgYmluZFBvcHVwYF0oI2xheWVyLWJpbmRwb3B1cCkgYmluZHMgYSBwb3B1cCB0byBhbGwgb2YgdGhlIGxheWVycyBhdCBvbmNlIChsaWtld2lzZSB3aXRoIFtgYmluZFRvb2x0aXBgXSgjbGF5ZXItYmluZHRvb2x0aXApKVxyXG4gKiAgKiBFdmVudHMgYXJlIHByb3BhZ2F0ZWQgdG8gdGhlIGBGZWF0dXJlR3JvdXBgLCBzbyBpZiB0aGUgZ3JvdXAgaGFzIGFuIGV2ZW50XHJcbiAqIGhhbmRsZXIsIGl0IHdpbGwgaGFuZGxlIGV2ZW50cyBmcm9tIGFueSBvZiB0aGUgbGF5ZXJzLiBUaGlzIGluY2x1ZGVzIG1vdXNlIGV2ZW50c1xyXG4gKiBhbmQgY3VzdG9tIGV2ZW50cy5cclxuICogICogSGFzIGBsYXllcmFkZGAgYW5kIGBsYXllcnJlbW92ZWAgZXZlbnRzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIEwuZmVhdHVyZUdyb3VwKFttYXJrZXIxLCBtYXJrZXIyLCBwb2x5bGluZV0pXHJcbiAqIFx0LmJpbmRQb3B1cCgnSGVsbG8gd29ybGQhJylcclxuICogXHQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IGFsZXJ0KCdDbGlja2VkIG9uIGEgbWVtYmVyIG9mIHRoZSBncm91cCEnKTsgfSlcclxuICogXHQuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBGZWF0dXJlR3JvdXAgPSBMYXllckdyb3VwLmV4dGVuZCh7XHJcblxyXG5cdGFkZExheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdGlmICh0aGlzLmhhc0xheWVyKGxheWVyKSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRsYXllci5hZGRFdmVudFBhcmVudCh0aGlzKTtcclxuXHJcblx0XHRMYXllckdyb3VwLnByb3RvdHlwZS5hZGRMYXllci5jYWxsKHRoaXMsIGxheWVyKTtcclxuXHJcblx0XHQvLyBAZXZlbnQgbGF5ZXJhZGQ6IExheWVyRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYSBsYXllciBpcyBhZGRlZCB0byB0aGlzIGBGZWF0dXJlR3JvdXBgXHJcblx0XHRyZXR1cm4gdGhpcy5maXJlKCdsYXllcmFkZCcsIHtsYXllcjogbGF5ZXJ9KTtcclxuXHR9LFxyXG5cclxuXHRyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAoIXRoaXMuaGFzTGF5ZXIobGF5ZXIpKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGxheWVyIGluIHRoaXMuX2xheWVycykge1xyXG5cdFx0XHRsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcl07XHJcblx0XHR9XHJcblxyXG5cdFx0bGF5ZXIucmVtb3ZlRXZlbnRQYXJlbnQodGhpcyk7XHJcblxyXG5cdFx0TGF5ZXJHcm91cC5wcm90b3R5cGUucmVtb3ZlTGF5ZXIuY2FsbCh0aGlzLCBsYXllcik7XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGxheWVycmVtb3ZlOiBMYXllckV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIGEgbGF5ZXIgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgYEZlYXR1cmVHcm91cGBcclxuXHRcdHJldHVybiB0aGlzLmZpcmUoJ2xheWVycmVtb3ZlJywge2xheWVyOiBsYXllcn0pO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0U3R5bGUoc3R5bGU6IFBhdGggb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBnaXZlbiBwYXRoIG9wdGlvbnMgdG8gZWFjaCBsYXllciBvZiB0aGUgZ3JvdXAgdGhhdCBoYXMgYSBgc2V0U3R5bGVgIG1ldGhvZC5cclxuXHRzZXRTdHlsZTogZnVuY3Rpb24gKHN0eWxlKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnZva2UoJ3NldFN0eWxlJywgc3R5bGUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYnJpbmdUb0Zyb250KCk6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhlIGxheWVyIGdyb3VwIHRvIHRoZSB0b3Agb2YgYWxsIG90aGVyIGxheWVyc1xyXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW52b2tlKCdicmluZ1RvRnJvbnQnKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9CYWNrKCk6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhlIGxheWVyIGdyb3VwIHRvIHRoZSBiYWNrIG9mIGFsbCBvdGhlciBsYXllcnNcclxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW52b2tlKCdicmluZ1RvQmFjaycpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Qm91bmRzKCk6IExhdExuZ0JvdW5kc1xyXG5cdC8vIFJldHVybnMgdGhlIExhdExuZ0JvdW5kcyBvZiB0aGUgRmVhdHVyZSBHcm91cCAoY3JlYXRlZCBmcm9tIGJvdW5kcyBhbmQgY29vcmRpbmF0ZXMgb2YgaXRzIGNoaWxkcmVuKS5cclxuXHRnZXRCb3VuZHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBib3VuZHMgPSBuZXcgTGF0TG5nQm91bmRzKCk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XHJcblx0XHRcdHZhciBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XHJcblx0XHRcdGJvdW5kcy5leHRlbmQobGF5ZXIuZ2V0Qm91bmRzID8gbGF5ZXIuZ2V0Qm91bmRzKCkgOiBsYXllci5nZXRMYXRMbmcoKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYm91bmRzO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAZmFjdG9yeSBMLmZlYXR1cmVHcm91cChsYXllcnM/OiBMYXllcltdLCBvcHRpb25zPzogT2JqZWN0KVxyXG4vLyBDcmVhdGUgYSBmZWF0dXJlIGdyb3VwLCBvcHRpb25hbGx5IGdpdmVuIGFuIGluaXRpYWwgc2V0IG9mIGxheWVycyBhbmQgYW4gYG9wdGlvbnNgIG9iamVjdC5cclxuZXhwb3J0IHZhciBmZWF0dXJlR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJzLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBGZWF0dXJlR3JvdXAobGF5ZXJzLCBvcHRpb25zKTtcclxufTtcclxuIiwgImltcG9ydCB7Q2xhc3N9IGZyb20gJy4uLy4uL2NvcmUvQ2xhc3MnO1xyXG5pbXBvcnQge3NldE9wdGlvbnN9IGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7dG9Qb2ludCBhcyBwb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi8uLi9jb3JlL0Jyb3dzZXInO1xyXG5cclxuLypcclxuICogQGNsYXNzIEljb25cclxuICogQGFrYSBMLkljb25cclxuICpcclxuICogUmVwcmVzZW50cyBhbiBpY29uIHRvIHByb3ZpZGUgd2hlbiBjcmVhdGluZyBhIG1hcmtlci5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIG15SWNvbiA9IEwuaWNvbih7XHJcbiAqICAgICBpY29uVXJsOiAnbXktaWNvbi5wbmcnLFxyXG4gKiAgICAgaWNvblJldGluYVVybDogJ215LWljb25AMngucG5nJyxcclxuICogICAgIGljb25TaXplOiBbMzgsIDk1XSxcclxuICogICAgIGljb25BbmNob3I6IFsyMiwgOTRdLFxyXG4gKiAgICAgcG9wdXBBbmNob3I6IFstMywgLTc2XSxcclxuICogICAgIHNoYWRvd1VybDogJ215LWljb24tc2hhZG93LnBuZycsXHJcbiAqICAgICBzaGFkb3dSZXRpbmFVcmw6ICdteS1pY29uLXNoYWRvd0AyeC5wbmcnLFxyXG4gKiAgICAgc2hhZG93U2l6ZTogWzY4LCA5NV0sXHJcbiAqICAgICBzaGFkb3dBbmNob3I6IFsyMiwgOTRdXHJcbiAqIH0pO1xyXG4gKlxyXG4gKiBMLm1hcmtlcihbNTAuNTA1LCAzMC41N10sIHtpY29uOiBteUljb259KS5hZGRUbyhtYXApO1xyXG4gKiBgYGBcclxuICpcclxuICogYEwuSWNvbi5EZWZhdWx0YCBleHRlbmRzIGBMLkljb25gIGFuZCBpcyB0aGUgYmx1ZSBpY29uIExlYWZsZXQgdXNlcyBmb3IgbWFya2VycyBieSBkZWZhdWx0LlxyXG4gKlxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgSWNvbiA9IENsYXNzLmV4dGVuZCh7XHJcblxyXG5cdC8qIEBzZWN0aW9uXHJcblx0ICogQGFrYSBJY29uIG9wdGlvbnNcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gaWNvblVybDogU3RyaW5nID0gbnVsbFxyXG5cdCAqICoqKHJlcXVpcmVkKSoqIFRoZSBVUkwgdG8gdGhlIGljb24gaW1hZ2UgKGFic29sdXRlIG9yIHJlbGF0aXZlIHRvIHlvdXIgc2NyaXB0IHBhdGgpLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBpY29uUmV0aW5hVXJsOiBTdHJpbmcgPSBudWxsXHJcblx0ICogVGhlIFVSTCB0byBhIHJldGluYSBzaXplZCB2ZXJzaW9uIG9mIHRoZSBpY29uIGltYWdlIChhYnNvbHV0ZSBvciByZWxhdGl2ZSB0byB5b3VyXHJcblx0ICogc2NyaXB0IHBhdGgpLiBVc2VkIGZvciBSZXRpbmEgc2NyZWVuIGRldmljZXMuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGljb25TaXplOiBQb2ludCA9IG51bGxcclxuXHQgKiBTaXplIG9mIHRoZSBpY29uIGltYWdlIGluIHBpeGVscy5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gaWNvbkFuY2hvcjogUG9pbnQgPSBudWxsXHJcblx0ICogVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBcInRpcFwiIG9mIHRoZSBpY29uIChyZWxhdGl2ZSB0byBpdHMgdG9wIGxlZnQgY29ybmVyKS4gVGhlIGljb25cclxuXHQgKiB3aWxsIGJlIGFsaWduZWQgc28gdGhhdCB0aGlzIHBvaW50IGlzIGF0IHRoZSBtYXJrZXIncyBnZW9ncmFwaGljYWwgbG9jYXRpb24uIENlbnRlcmVkXHJcblx0ICogYnkgZGVmYXVsdCBpZiBzaXplIGlzIHNwZWNpZmllZCwgYWxzbyBjYW4gYmUgc2V0IGluIENTUyB3aXRoIG5lZ2F0aXZlIG1hcmdpbnMuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHBvcHVwQW5jaG9yOiBQb2ludCA9IFswLCAwXVxyXG5cdCAqIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCBwb3B1cHMgd2lsbCBcIm9wZW5cIiwgcmVsYXRpdmUgdG8gdGhlIGljb24gYW5jaG9yLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiB0b29sdGlwQW5jaG9yOiBQb2ludCA9IFswLCAwXVxyXG5cdCAqIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCB0b29sdGlwcyB3aWxsIFwib3BlblwiLCByZWxhdGl2ZSB0byB0aGUgaWNvbiBhbmNob3IuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIHNoYWRvd1VybDogU3RyaW5nID0gbnVsbFxyXG5cdCAqIFRoZSBVUkwgdG8gdGhlIGljb24gc2hhZG93IGltYWdlLiBJZiBub3Qgc3BlY2lmaWVkLCBubyBzaGFkb3cgaW1hZ2Ugd2lsbCBiZSBjcmVhdGVkLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBzaGFkb3dSZXRpbmFVcmw6IFN0cmluZyA9IG51bGxcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc2hhZG93U2l6ZTogUG9pbnQgPSBudWxsXHJcblx0ICogU2l6ZSBvZiB0aGUgc2hhZG93IGltYWdlIGluIHBpeGVscy5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc2hhZG93QW5jaG9yOiBQb2ludCA9IG51bGxcclxuXHQgKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIFwidGlwXCIgb2YgdGhlIHNoYWRvdyAocmVsYXRpdmUgdG8gaXRzIHRvcCBsZWZ0IGNvcm5lcikgKHRoZSBzYW1lXHJcblx0ICogYXMgaWNvbkFuY2hvciBpZiBub3Qgc3BlY2lmaWVkKS5cclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gY2xhc3NOYW1lOiBTdHJpbmcgPSAnJ1xyXG5cdCAqIEEgY3VzdG9tIGNsYXNzIG5hbWUgdG8gYXNzaWduIHRvIGJvdGggaWNvbiBhbmQgc2hhZG93IGltYWdlcy4gRW1wdHkgYnkgZGVmYXVsdC5cclxuXHQgKi9cclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9wdXBBbmNob3I6IFswLCAwXSxcclxuXHRcdHRvb2x0aXBBbmNob3I6IFswLCAwXSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNyb3NzT3JpZ2luOiBCb29sZWFufFN0cmluZyA9IGZhbHNlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSBjcm9zc09yaWdpbiBhdHRyaWJ1dGUgd2lsbCBiZSBhZGRlZCB0byB0aGUgdGlsZXMuXHJcblx0XHQvLyBJZiBhIFN0cmluZyBpcyBwcm92aWRlZCwgYWxsIHRpbGVzIHdpbGwgaGF2ZSB0aGVpciBjcm9zc09yaWdpbiBhdHRyaWJ1dGUgc2V0IHRvIHRoZSBTdHJpbmcgcHJvdmlkZWQuIFRoaXMgaXMgbmVlZGVkIGlmIHlvdSB3YW50IHRvIGFjY2VzcyB0aWxlIHBpeGVsIGRhdGEuXHJcblx0XHQvLyBSZWZlciB0byBbQ09SUyBTZXR0aW5nc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX3NldHRpbmdzX2F0dHJpYnV0ZXMpIGZvciB2YWxpZCBTdHJpbmcgdmFsdWVzLlxyXG5cdFx0Y3Jvc3NPcmlnaW46IGZhbHNlXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRcdHNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjcmVhdGVJY29uKG9sZEljb24/OiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50XHJcblx0Ly8gQ2FsbGVkIGludGVybmFsbHkgd2hlbiB0aGUgaWNvbiBoYXMgdG8gYmUgc2hvd24sIHJldHVybnMgYSBgPGltZz5gIEhUTUwgZWxlbWVudFxyXG5cdC8vIHN0eWxlZCBhY2NvcmRpbmcgdG8gdGhlIG9wdGlvbnMuXHJcblx0Y3JlYXRlSWNvbjogZnVuY3Rpb24gKG9sZEljb24pIHtcclxuXHRcdHJldHVybiB0aGlzLl9jcmVhdGVJY29uKCdpY29uJywgb2xkSWNvbik7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjcmVhdGVTaGFkb3cob2xkSWNvbj86IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRcclxuXHQvLyBBcyBgY3JlYXRlSWNvbmAsIGJ1dCBmb3IgdGhlIHNoYWRvdyBiZW5lYXRoIGl0LlxyXG5cdGNyZWF0ZVNoYWRvdzogZnVuY3Rpb24gKG9sZEljb24pIHtcclxuXHRcdHJldHVybiB0aGlzLl9jcmVhdGVJY29uKCdzaGFkb3cnLCBvbGRJY29uKTtcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlSWNvbjogZnVuY3Rpb24gKG5hbWUsIG9sZEljb24pIHtcclxuXHRcdHZhciBzcmMgPSB0aGlzLl9nZXRJY29uVXJsKG5hbWUpO1xyXG5cclxuXHRcdGlmICghc3JjKSB7XHJcblx0XHRcdGlmIChuYW1lID09PSAnaWNvbicpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ljb25Vcmwgbm90IHNldCBpbiBJY29uIG9wdGlvbnMgKHNlZSB0aGUgZG9jcykuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGltZyA9IHRoaXMuX2NyZWF0ZUltZyhzcmMsIG9sZEljb24gJiYgb2xkSWNvbi50YWdOYW1lID09PSAnSU1HJyA/IG9sZEljb24gOiBudWxsKTtcclxuXHRcdHRoaXMuX3NldEljb25TdHlsZXMoaW1nLCBuYW1lKTtcclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luIHx8IHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gJycpIHtcclxuXHRcdFx0aW1nLmNyb3NzT3JpZ2luID0gdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJycgOiB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW47XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGltZztcclxuXHR9LFxyXG5cclxuXHRfc2V0SWNvblN0eWxlczogZnVuY3Rpb24gKGltZywgbmFtZSkge1xyXG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcblx0XHR2YXIgc2l6ZU9wdGlvbiA9IG9wdGlvbnNbbmFtZSArICdTaXplJ107XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBzaXplT3B0aW9uID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRzaXplT3B0aW9uID0gW3NpemVPcHRpb24sIHNpemVPcHRpb25dO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBzaXplID0gcG9pbnQoc2l6ZU9wdGlvbiksXHJcblx0XHQgICAgYW5jaG9yID0gcG9pbnQobmFtZSA9PT0gJ3NoYWRvdycgJiYgb3B0aW9ucy5zaGFkb3dBbmNob3IgfHwgb3B0aW9ucy5pY29uQW5jaG9yIHx8XHJcblx0XHQgICAgICAgICAgICBzaXplICYmIHNpemUuZGl2aWRlQnkoMiwgdHJ1ZSkpO1xyXG5cclxuXHRcdGltZy5jbGFzc05hbWUgPSAnbGVhZmxldC1tYXJrZXItJyArIG5hbWUgKyAnICcgKyAob3B0aW9ucy5jbGFzc05hbWUgfHwgJycpO1xyXG5cclxuXHRcdGlmIChhbmNob3IpIHtcclxuXHRcdFx0aW1nLnN0eWxlLm1hcmdpbkxlZnQgPSAoLWFuY2hvci54KSArICdweCc7XHJcblx0XHRcdGltZy5zdHlsZS5tYXJnaW5Ub3AgID0gKC1hbmNob3IueSkgKyAncHgnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzaXplKSB7XHJcblx0XHRcdGltZy5zdHlsZS53aWR0aCAgPSBzaXplLnggKyAncHgnO1xyXG5cdFx0XHRpbWcuc3R5bGUuaGVpZ2h0ID0gc2l6ZS55ICsgJ3B4JztcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlSW1nOiBmdW5jdGlvbiAoc3JjLCBlbCkge1xyXG5cdFx0ZWwgPSBlbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGVsLnNyYyA9IHNyYztcclxuXHRcdHJldHVybiBlbDtcclxuXHR9LFxyXG5cclxuXHRfZ2V0SWNvblVybDogZnVuY3Rpb24gKG5hbWUpIHtcclxuXHRcdHJldHVybiBCcm93c2VyLnJldGluYSAmJiB0aGlzLm9wdGlvbnNbbmFtZSArICdSZXRpbmFVcmwnXSB8fCB0aGlzLm9wdGlvbnNbbmFtZSArICdVcmwnXTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbi8vIEBmYWN0b3J5IEwuaWNvbihvcHRpb25zOiBJY29uIG9wdGlvbnMpXHJcbi8vIENyZWF0ZXMgYW4gaWNvbiBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxyXG5leHBvcnQgZnVuY3Rpb24gaWNvbihvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBJY29uKG9wdGlvbnMpO1xyXG59XHJcbiIsICJpbXBvcnQge0ljb259IGZyb20gJy4vSWNvbic7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcblxuLypcbiAqIEBtaW5pY2xhc3MgSWNvbi5EZWZhdWx0IChJY29uKVxuICogQGFrYSBMLkljb24uRGVmYXVsdFxuICogQHNlY3Rpb25cbiAqXG4gKiBBIHRyaXZpYWwgc3ViY2xhc3Mgb2YgYEljb25gLCByZXByZXNlbnRzIHRoZSBpY29uIHRvIHVzZSBpbiBgTWFya2VyYHMgd2hlblxuICogbm8gaWNvbiBpcyBzcGVjaWZpZWQuIFBvaW50cyB0byB0aGUgYmx1ZSBtYXJrZXIgaW1hZ2UgZGlzdHJpYnV0ZWQgd2l0aCBMZWFmbGV0XG4gKiByZWxlYXNlcy5cbiAqXG4gKiBJbiBvcmRlciB0byBjdXN0b21pemUgdGhlIGRlZmF1bHQgaWNvbiwganVzdCBjaGFuZ2UgdGhlIHByb3BlcnRpZXMgb2YgYEwuSWNvbi5EZWZhdWx0LnByb3RvdHlwZS5vcHRpb25zYFxuICogKHdoaWNoIGlzIGEgc2V0IG9mIGBJY29uIG9wdGlvbnNgKS5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byBfY29tcGxldGVseV8gcmVwbGFjZSB0aGUgZGVmYXVsdCBpY29uLCBvdmVycmlkZSB0aGVcbiAqIGBMLk1hcmtlci5wcm90b3R5cGUub3B0aW9ucy5pY29uYCB3aXRoIHlvdXIgb3duIGljb24gaW5zdGVhZC5cbiAqL1xuXG5leHBvcnQgdmFyIEljb25EZWZhdWx0ID0gSWNvbi5leHRlbmQoe1xuXG5cdG9wdGlvbnM6IHtcblx0XHRpY29uVXJsOiAgICAgICAnbWFya2VyLWljb24ucG5nJyxcblx0XHRpY29uUmV0aW5hVXJsOiAnbWFya2VyLWljb24tMngucG5nJyxcblx0XHRzaGFkb3dVcmw6ICAgICAnbWFya2VyLXNoYWRvdy5wbmcnLFxuXHRcdGljb25TaXplOiAgICBbMjUsIDQxXSxcblx0XHRpY29uQW5jaG9yOiAgWzEyLCA0MV0sXG5cdFx0cG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuXHRcdHRvb2x0aXBBbmNob3I6IFsxNiwgLTI4XSxcblx0XHRzaGFkb3dTaXplOiAgWzQxLCA0MV1cblx0fSxcblxuXHRfZ2V0SWNvblVybDogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRpZiAodHlwZW9mIEljb25EZWZhdWx0LmltYWdlUGF0aCAhPT0gJ3N0cmluZycpIHtcdC8vIERlcHJlY2F0ZWQsIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IG9ubHlcblx0XHRcdEljb25EZWZhdWx0LmltYWdlUGF0aCA9IHRoaXMuX2RldGVjdEljb25QYXRoKCk7XG5cdFx0fVxuXG5cdFx0Ly8gQG9wdGlvbiBpbWFnZVBhdGg6IFN0cmluZ1xuXHRcdC8vIGBJY29uLkRlZmF1bHRgIHdpbGwgdHJ5IHRvIGF1dG8tZGV0ZWN0IHRoZSBsb2NhdGlvbiBvZiB0aGVcblx0XHQvLyBibHVlIGljb24gaW1hZ2VzLiBJZiB5b3UgYXJlIHBsYWNpbmcgdGhlc2UgaW1hZ2VzIGluIGEgbm9uLXN0YW5kYXJkXG5cdFx0Ly8gd2F5LCBzZXQgdGhpcyBvcHRpb24gdG8gcG9pbnQgdG8gdGhlIHJpZ2h0IHBhdGguXG5cdFx0cmV0dXJuICh0aGlzLm9wdGlvbnMuaW1hZ2VQYXRoIHx8IEljb25EZWZhdWx0LmltYWdlUGF0aCkgKyBJY29uLnByb3RvdHlwZS5fZ2V0SWNvblVybC5jYWxsKHRoaXMsIG5hbWUpO1xuXHR9LFxuXG5cdF9zdHJpcFVybDogZnVuY3Rpb24gKHBhdGgpIHtcdC8vIHNlcGFyYXRlIGZ1bmN0aW9uIHRvIHVzZSBpbiB0ZXN0c1xuXHRcdHZhciBzdHJpcCA9IGZ1bmN0aW9uIChzdHIsIHJlLCBpZHgpIHtcblx0XHRcdHZhciBtYXRjaCA9IHJlLmV4ZWMoc3RyKTtcblx0XHRcdHJldHVybiBtYXRjaCAmJiBtYXRjaFtpZHhdO1xuXHRcdH07XG5cdFx0cGF0aCA9IHN0cmlwKHBhdGgsIC9edXJsXFwoKFsnXCJdKT8oLispXFwxXFwpJC8sIDIpO1xuXHRcdHJldHVybiBwYXRoICYmIHN0cmlwKHBhdGgsIC9eKC4qKW1hcmtlci1pY29uXFwucG5nJC8sIDEpO1xuXHR9LFxuXG5cdF9kZXRlY3RJY29uUGF0aDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBlbCA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCAgJ2xlYWZsZXQtZGVmYXVsdC1pY29uLXBhdGgnLCBkb2N1bWVudC5ib2R5KTtcblx0XHR2YXIgcGF0aCA9IERvbVV0aWwuZ2V0U3R5bGUoZWwsICdiYWNrZ3JvdW5kLWltYWdlJykgfHxcblx0XHQgICAgICAgICAgIERvbVV0aWwuZ2V0U3R5bGUoZWwsICdiYWNrZ3JvdW5kSW1hZ2UnKTtcdC8vIElFOFxuXG5cdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG5cdFx0cGF0aCA9IHRoaXMuX3N0cmlwVXJsKHBhdGgpO1xuXHRcdGlmIChwYXRoKSB7IHJldHVybiBwYXRoOyB9XG5cdFx0dmFyIGxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaW5rW2hyZWYkPVwibGVhZmxldC5jc3NcIl0nKTtcblx0XHRpZiAoIWxpbmspIHsgcmV0dXJuICcnOyB9XG5cdFx0cmV0dXJuIGxpbmsuaHJlZi5zdWJzdHJpbmcoMCwgbGluay5ocmVmLmxlbmd0aCAtICdsZWFmbGV0LmNzcycubGVuZ3RoIC0gMSk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0IHtEcmFnZ2FibGV9IGZyb20gJy4uLy4uL2RvbS9EcmFnZ2FibGUnO1xuaW1wb3J0IHt0b0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcbmltcG9ydCB7dG9Qb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuaW1wb3J0IHtyZXF1ZXN0QW5pbUZyYW1lLCBjYW5jZWxBbmltRnJhbWV9IGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBMLkhhbmRsZXIuTWFya2VyRHJhZyBpcyB1c2VkIGludGVybmFsbHkgYnkgTC5NYXJrZXIgdG8gbWFrZSB0aGUgbWFya2VycyBkcmFnZ2FibGUuXG4gKi9cblxuXG4vKiBAbmFtZXNwYWNlIE1hcmtlclxuICogQHNlY3Rpb24gSW50ZXJhY3Rpb24gaGFuZGxlcnNcbiAqXG4gKiBJbnRlcmFjdGlvbiBoYW5kbGVycyBhcmUgcHJvcGVydGllcyBvZiBhIG1hcmtlciBpbnN0YW5jZSB0aGF0IGFsbG93IHlvdSB0byBjb250cm9sIGludGVyYWN0aW9uIGJlaGF2aW9yIGluIHJ1bnRpbWUsIGVuYWJsaW5nIG9yIGRpc2FibGluZyBjZXJ0YWluIGZlYXR1cmVzIHN1Y2ggYXMgZHJhZ2dpbmcgKHNlZSBgSGFuZGxlcmAgbWV0aG9kcykuIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIG1hcmtlci5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkgZHJhZ2dpbmc6IEhhbmRsZXJcbiAqIE1hcmtlciBkcmFnZ2luZyBoYW5kbGVyIChieSBib3RoIG1vdXNlIGFuZCB0b3VjaCkuIE9ubHkgdmFsaWQgd2hlbiB0aGUgbWFya2VyIGlzIG9uIHRoZSBtYXAgKE90aGVyd2lzZSBzZXQgW2BtYXJrZXIub3B0aW9ucy5kcmFnZ2FibGVgXSgjbWFya2VyLWRyYWdnYWJsZSkpLlxuICovXG5cbmV4cG9ydCB2YXIgTWFya2VyRHJhZyA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcmtlcikge1xuXHRcdHRoaXMuX21hcmtlciA9IG1hcmtlcjtcblx0fSxcblxuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBpY29uID0gdGhpcy5fbWFya2VyLl9pY29uO1xuXG5cdFx0aWYgKCF0aGlzLl9kcmFnZ2FibGUpIHtcblx0XHRcdHRoaXMuX2RyYWdnYWJsZSA9IG5ldyBEcmFnZ2FibGUoaWNvbiwgaWNvbiwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZHJhZ2dhYmxlLm9uKHtcblx0XHRcdGRyYWdzdGFydDogdGhpcy5fb25EcmFnU3RhcnQsXG5cdFx0XHRwcmVkcmFnOiB0aGlzLl9vblByZURyYWcsXG5cdFx0XHRkcmFnOiB0aGlzLl9vbkRyYWcsXG5cdFx0XHRkcmFnZW5kOiB0aGlzLl9vbkRyYWdFbmRcblx0XHR9LCB0aGlzKS5lbmFibGUoKTtcblxuXHRcdERvbVV0aWwuYWRkQ2xhc3MoaWNvbiwgJ2xlYWZsZXQtbWFya2VyLWRyYWdnYWJsZScpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fZHJhZ2dhYmxlLm9mZih7XG5cdFx0XHRkcmFnc3RhcnQ6IHRoaXMuX29uRHJhZ1N0YXJ0LFxuXHRcdFx0cHJlZHJhZzogdGhpcy5fb25QcmVEcmFnLFxuXHRcdFx0ZHJhZzogdGhpcy5fb25EcmFnLFxuXHRcdFx0ZHJhZ2VuZDogdGhpcy5fb25EcmFnRW5kXG5cdFx0fSwgdGhpcykuZGlzYWJsZSgpO1xuXG5cdFx0aWYgKHRoaXMuX21hcmtlci5faWNvbikge1xuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXJrZXIuX2ljb24sICdsZWFmbGV0LW1hcmtlci1kcmFnZ2FibGUnKTtcblx0XHR9XG5cdH0sXG5cblx0bW92ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlICYmIHRoaXMuX2RyYWdnYWJsZS5fbW92ZWQ7XG5cdH0sXG5cblx0X2FkanVzdFBhbjogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbWFya2VyID0gdGhpcy5fbWFya2VyLFxuXHRcdCAgICBtYXAgPSBtYXJrZXIuX21hcCxcblx0XHQgICAgc3BlZWQgPSB0aGlzLl9tYXJrZXIub3B0aW9ucy5hdXRvUGFuU3BlZWQsXG5cdFx0ICAgIHBhZGRpbmcgPSB0aGlzLl9tYXJrZXIub3B0aW9ucy5hdXRvUGFuUGFkZGluZyxcblx0XHQgICAgaWNvblBvcyA9IERvbVV0aWwuZ2V0UG9zaXRpb24obWFya2VyLl9pY29uKSxcblx0XHQgICAgYm91bmRzID0gbWFwLmdldFBpeGVsQm91bmRzKCksXG5cdFx0ICAgIG9yaWdpbiA9IG1hcC5nZXRQaXhlbE9yaWdpbigpO1xuXG5cdFx0dmFyIHBhbkJvdW5kcyA9IHRvQm91bmRzKFxuXHRcdFx0Ym91bmRzLm1pbi5fc3VidHJhY3Qob3JpZ2luKS5hZGQocGFkZGluZyksXG5cdFx0XHRib3VuZHMubWF4Ll9zdWJ0cmFjdChvcmlnaW4pLnN1YnRyYWN0KHBhZGRpbmcpXG5cdFx0KTtcblxuXHRcdGlmICghcGFuQm91bmRzLmNvbnRhaW5zKGljb25Qb3MpKSB7XG5cdFx0XHQvLyBDb21wdXRlIGluY3JlbWVudGFsIG1vdmVtZW50XG5cdFx0XHR2YXIgbW92ZW1lbnQgPSB0b1BvaW50KFxuXHRcdFx0XHQoTWF0aC5tYXgocGFuQm91bmRzLm1heC54LCBpY29uUG9zLngpIC0gcGFuQm91bmRzLm1heC54KSAvIChib3VuZHMubWF4LnggLSBwYW5Cb3VuZHMubWF4LngpIC1cblx0XHRcdFx0KE1hdGgubWluKHBhbkJvdW5kcy5taW4ueCwgaWNvblBvcy54KSAtIHBhbkJvdW5kcy5taW4ueCkgLyAoYm91bmRzLm1pbi54IC0gcGFuQm91bmRzLm1pbi54KSxcblxuXHRcdFx0XHQoTWF0aC5tYXgocGFuQm91bmRzLm1heC55LCBpY29uUG9zLnkpIC0gcGFuQm91bmRzLm1heC55KSAvIChib3VuZHMubWF4LnkgLSBwYW5Cb3VuZHMubWF4LnkpIC1cblx0XHRcdFx0KE1hdGgubWluKHBhbkJvdW5kcy5taW4ueSwgaWNvblBvcy55KSAtIHBhbkJvdW5kcy5taW4ueSkgLyAoYm91bmRzLm1pbi55IC0gcGFuQm91bmRzLm1pbi55KVxuXHRcdFx0KS5tdWx0aXBseUJ5KHNwZWVkKTtcblxuXHRcdFx0bWFwLnBhbkJ5KG1vdmVtZW50LCB7YW5pbWF0ZTogZmFsc2V9KTtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MuX2FkZChtb3ZlbWVudCk7XG5cdFx0XHR0aGlzLl9kcmFnZ2FibGUuX3N0YXJ0UG9zLl9hZGQobW92ZW1lbnQpO1xuXG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKG1hcmtlci5faWNvbiwgdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MpO1xuXHRcdFx0dGhpcy5fb25EcmFnKGUpO1xuXG5cdFx0XHR0aGlzLl9wYW5SZXF1ZXN0ID0gcmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9hZGp1c3RQYW4uYmluZCh0aGlzLCBlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vbkRyYWdTdGFydDogZnVuY3Rpb24gKCkge1xuXHRcdC8vIEBzZWN0aW9uIERyYWdnaW5nIGV2ZW50c1xuXHRcdC8vIEBldmVudCBkcmFnc3RhcnQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgdXNlciBzdGFydHMgZHJhZ2dpbmcgdGhlIG1hcmtlci5cblxuXHRcdC8vIEBldmVudCBtb3Zlc3RhcnQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFya2VyIHN0YXJ0cyBtb3ZpbmcgKGJlY2F1c2Ugb2YgZHJhZ2dpbmcpLlxuXG5cdFx0dGhpcy5fb2xkTGF0TG5nID0gdGhpcy5fbWFya2VyLmdldExhdExuZygpO1xuXG5cdFx0Ly8gV2hlbiB1c2luZyBFUzYgaW1wb3J0cyBpdCBjb3VsZCBub3QgYmUgc2V0IHdoZW4gYFBvcHVwYCB3YXMgbm90IGltcG9ydGVkIGFzIHdlbGxcblx0XHR0aGlzLl9tYXJrZXIuY2xvc2VQb3B1cCAmJiB0aGlzLl9tYXJrZXIuY2xvc2VQb3B1cCgpO1xuXG5cdFx0dGhpcy5fbWFya2VyXG5cdFx0XHQuZmlyZSgnbW92ZXN0YXJ0Jylcblx0XHRcdC5maXJlKCdkcmFnc3RhcnQnKTtcblx0fSxcblxuXHRfb25QcmVEcmFnOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICh0aGlzLl9tYXJrZXIub3B0aW9ucy5hdXRvUGFuKSB7XG5cdFx0XHRjYW5jZWxBbmltRnJhbWUodGhpcy5fcGFuUmVxdWVzdCk7XG5cdFx0XHR0aGlzLl9wYW5SZXF1ZXN0ID0gcmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9hZGp1c3RQYW4uYmluZCh0aGlzLCBlKSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vbkRyYWc6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcmtlciA9IHRoaXMuX21hcmtlcixcblx0XHQgICAgc2hhZG93ID0gbWFya2VyLl9zaGFkb3csXG5cdFx0ICAgIGljb25Qb3MgPSBEb21VdGlsLmdldFBvc2l0aW9uKG1hcmtlci5faWNvbiksXG5cdFx0ICAgIGxhdGxuZyA9IG1hcmtlci5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhpY29uUG9zKTtcblxuXHRcdC8vIHVwZGF0ZSBzaGFkb3cgcG9zaXRpb25cblx0XHRpZiAoc2hhZG93KSB7XG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKHNoYWRvdywgaWNvblBvcyk7XG5cdFx0fVxuXG5cdFx0bWFya2VyLl9sYXRsbmcgPSBsYXRsbmc7XG5cdFx0ZS5sYXRsbmcgPSBsYXRsbmc7XG5cdFx0ZS5vbGRMYXRMbmcgPSB0aGlzLl9vbGRMYXRMbmc7XG5cblx0XHQvLyBAZXZlbnQgZHJhZzogRXZlbnRcblx0XHQvLyBGaXJlZCByZXBlYXRlZGx5IHdoaWxlIHRoZSB1c2VyIGRyYWdzIHRoZSBtYXJrZXIuXG5cdFx0bWFya2VyXG5cdFx0ICAgIC5maXJlKCdtb3ZlJywgZSlcblx0XHQgICAgLmZpcmUoJ2RyYWcnLCBlKTtcblx0fSxcblxuXHRfb25EcmFnRW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdC8vIEBldmVudCBkcmFnZW5kOiBEcmFnRW5kRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSB1c2VyIHN0b3BzIGRyYWdnaW5nIHRoZSBtYXJrZXIuXG5cblx0XHQgY2FuY2VsQW5pbUZyYW1lKHRoaXMuX3BhblJlcXVlc3QpO1xuXG5cdFx0Ly8gQGV2ZW50IG1vdmVlbmQ6IEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgbWFya2VyIHN0b3BzIG1vdmluZyAoYmVjYXVzZSBvZiBkcmFnZ2luZykuXG5cdFx0ZGVsZXRlIHRoaXMuX29sZExhdExuZztcblx0XHR0aGlzLl9tYXJrZXJcblx0XHQgICAgLmZpcmUoJ21vdmVlbmQnKVxuXHRcdCAgICAuZmlyZSgnZHJhZ2VuZCcsIGUpO1xuXHR9XG59KTtcbiIsICJpbXBvcnQge0xheWVyfSBmcm9tICcuLi9MYXllcic7XHJcbmltcG9ydCB7SWNvbkRlZmF1bHR9IGZyb20gJy4vSWNvbi5EZWZhdWx0JztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nIGFzIGxhdExuZ30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZyc7XHJcbmltcG9ydCB7dG9Qb2ludCBhcyBwb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcclxuaW1wb3J0IHtNYXJrZXJEcmFnfSBmcm9tICcuL01hcmtlci5EcmFnJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBNYXJrZXJcclxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXHJcbiAqIEBha2EgTC5NYXJrZXJcclxuICogTC5NYXJrZXIgaXMgdXNlZCB0byBkaXNwbGF5IGNsaWNrYWJsZS9kcmFnZ2FibGUgaWNvbnMgb24gdGhlIG1hcC4gRXh0ZW5kcyBgTGF5ZXJgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBMLm1hcmtlcihbNTAuNSwgMzAuNV0pLmFkZFRvKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgTWFya2VyID0gTGF5ZXIuZXh0ZW5kKHtcclxuXHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIE1hcmtlciBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBpY29uOiBJY29uID0gKlxyXG5cdFx0Ly8gSWNvbiBpbnN0YW5jZSB0byB1c2UgZm9yIHJlbmRlcmluZyB0aGUgbWFya2VyLlxyXG5cdFx0Ly8gU2VlIFtJY29uIGRvY3VtZW50YXRpb25dKCNMLkljb24pIGZvciBkZXRhaWxzIG9uIGhvdyB0byBjdXN0b21pemUgdGhlIG1hcmtlciBpY29uLlxyXG5cdFx0Ly8gSWYgbm90IHNwZWNpZmllZCwgYSBjb21tb24gaW5zdGFuY2Ugb2YgYEwuSWNvbi5EZWZhdWx0YCBpcyB1c2VkLlxyXG5cdFx0aWNvbjogbmV3IEljb25EZWZhdWx0KCksXHJcblxyXG5cdFx0Ly8gT3B0aW9uIGluaGVyaXRlZCBmcm9tIFwiSW50ZXJhY3RpdmUgbGF5ZXJcIiBhYnN0cmFjdCBjbGFzc1xyXG5cdFx0aW50ZXJhY3RpdmU6IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBrZXlib2FyZDogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIG1hcmtlciBjYW4gYmUgdGFiYmVkIHRvIHdpdGggYSBrZXlib2FyZCBhbmQgY2xpY2tlZCBieSBwcmVzc2luZyBlbnRlci5cclxuXHRcdGtleWJvYXJkOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdGl0bGU6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBUZXh0IGZvciB0aGUgYnJvd3NlciB0b29sdGlwIHRoYXQgYXBwZWFyIG9uIG1hcmtlciBob3ZlciAobm8gdG9vbHRpcCBieSBkZWZhdWx0KS5cclxuXHRcdC8vIFtVc2VmdWwgZm9yIGFjY2Vzc2liaWxpdHldKGh0dHBzOi8vbGVhZmxldGpzLmNvbS9leGFtcGxlcy9hY2Nlc3NpYmlsaXR5LyNtYXJrZXJzLW11c3QtYmUtbGFiZWxsZWQpLlxyXG5cdFx0dGl0bGU6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYWx0OiBTdHJpbmcgPSAnTWFya2VyJ1xyXG5cdFx0Ly8gVGV4dCBmb3IgdGhlIGBhbHRgIGF0dHJpYnV0ZSBvZiB0aGUgaWNvbiBpbWFnZS5cclxuXHRcdC8vIFtVc2VmdWwgZm9yIGFjY2Vzc2liaWxpdHldKGh0dHBzOi8vbGVhZmxldGpzLmNvbS9leGFtcGxlcy9hY2Nlc3NpYmlsaXR5LyNtYXJrZXJzLW11c3QtYmUtbGFiZWxsZWQpLlxyXG5cdFx0YWx0OiAnTWFya2VyJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpJbmRleE9mZnNldDogTnVtYmVyID0gMFxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgbWFya2VyIGltYWdlcyB6SW5kZXggaXMgc2V0IGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gaXRzIGxhdGl0dWRlLiBVc2UgdGhpcyBvcHRpb24gaWYgeW91IHdhbnQgdG8gcHV0IHRoZSBtYXJrZXIgb24gdG9wIG9mIGFsbCBvdGhlcnMgKG9yIGJlbG93KSwgc3BlY2lmeWluZyBhIGhpZ2ggdmFsdWUgbGlrZSBgMTAwMGAgKG9yIGhpZ2ggbmVnYXRpdmUgdmFsdWUsIHJlc3BlY3RpdmVseSkuXHJcblx0XHR6SW5kZXhPZmZzZXQ6IDAsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBvcGFjaXR5OiBOdW1iZXIgPSAxLjBcclxuXHRcdC8vIFRoZSBvcGFjaXR5IG9mIHRoZSBtYXJrZXIuXHJcblx0XHRvcGFjaXR5OiAxLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gcmlzZU9uSG92ZXI6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgLCB0aGUgbWFya2VyIHdpbGwgZ2V0IG9uIHRvcCBvZiBvdGhlcnMgd2hlbiB5b3UgaG92ZXIgdGhlIG1vdXNlIG92ZXIgaXQuXHJcblx0XHRyaXNlT25Ib3ZlcjogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiByaXNlT2Zmc2V0OiBOdW1iZXIgPSAyNTBcclxuXHRcdC8vIFRoZSB6LWluZGV4IG9mZnNldCB1c2VkIGZvciB0aGUgYHJpc2VPbkhvdmVyYCBmZWF0dXJlLlxyXG5cdFx0cmlzZU9mZnNldDogMjUwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ21hcmtlclBhbmUnXHJcblx0XHQvLyBgTWFwIHBhbmVgIHdoZXJlIHRoZSBtYXJrZXJzIGljb24gd2lsbCBiZSBhZGRlZC5cclxuXHRcdHBhbmU6ICdtYXJrZXJQYW5lJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHNoYWRvd1BhbmU6IFN0cmluZyA9ICdzaGFkb3dQYW5lJ1xyXG5cdFx0Ly8gYE1hcCBwYW5lYCB3aGVyZSB0aGUgbWFya2VycyBzaGFkb3cgd2lsbCBiZSBhZGRlZC5cclxuXHRcdHNoYWRvd1BhbmU6ICdzaGFkb3dQYW5lJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGJ1YmJsaW5nTW91c2VFdmVudHM6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gV2hlbiBgdHJ1ZWAsIGEgbW91c2UgZXZlbnQgb24gdGhpcyBtYXJrZXIgd2lsbCB0cmlnZ2VyIHRoZSBzYW1lIGV2ZW50IG9uIHRoZSBtYXBcclxuXHRcdC8vICh1bmxlc3MgW2BMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbmBdKCNkb21ldmVudC1zdG9wcHJvcGFnYXRpb24pIGlzIHVzZWQpLlxyXG5cdFx0YnViYmxpbmdNb3VzZUV2ZW50czogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvUGFuT25Gb2N1czogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZW4gYHRydWVgLCB0aGUgbWFwIHdpbGwgcGFuIHdoZW5ldmVyIHRoZSBtYXJrZXIgaXMgZm9jdXNlZCAodmlhXHJcblx0XHQvLyBlLmcuIHByZXNzaW5nIGB0YWJgIG9uIHRoZSBrZXlib2FyZCkgdG8gZW5zdXJlIHRoZSBtYXJrZXIgaXNcclxuXHRcdC8vIHZpc2libGUgd2l0aGluIHRoZSBtYXAncyBib3VuZHNcclxuXHRcdGF1dG9QYW5PbkZvY3VzOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBzZWN0aW9uIERyYWdnYWJsZSBtYXJrZXIgb3B0aW9uc1xyXG5cdFx0Ly8gQG9wdGlvbiBkcmFnZ2FibGU6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgbWFya2VyIGlzIGRyYWdnYWJsZSB3aXRoIG1vdXNlL3RvdWNoIG9yIG5vdC5cclxuXHRcdGRyYWdnYWJsZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvUGFuOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFdoZXRoZXIgdG8gcGFuIHRoZSBtYXAgd2hlbiBkcmFnZ2luZyB0aGlzIG1hcmtlciBuZWFyIGl0cyBlZGdlIG9yIG5vdC5cclxuXHRcdGF1dG9QYW46IGZhbHNlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1BhblBhZGRpbmc6IFBvaW50ID0gUG9pbnQoNTAsIDUwKVxyXG5cdFx0Ly8gRGlzdGFuY2UgKGluIHBpeGVscyB0byB0aGUgbGVmdC9yaWdodCBhbmQgdG8gdGhlIHRvcC9ib3R0b20pIG9mIHRoZVxyXG5cdFx0Ly8gbWFwIGVkZ2UgdG8gc3RhcnQgcGFubmluZyB0aGUgbWFwLlxyXG5cdFx0YXV0b1BhblBhZGRpbmc6IFs1MCwgNTBdLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1BhblNwZWVkOiBOdW1iZXIgPSAxMFxyXG5cdFx0Ly8gTnVtYmVyIG9mIHBpeGVscyB0aGUgbWFwIHNob3VsZCBwYW4gYnkuXHJcblx0XHRhdXRvUGFuU3BlZWQ6IDEwXHJcblx0fSxcclxuXHJcblx0LyogQHNlY3Rpb25cclxuXHQgKlxyXG5cdCAqIEluIGFkZGl0aW9uIHRvIFtzaGFyZWQgbGF5ZXIgbWV0aG9kc10oI0xheWVyKSBsaWtlIGBhZGRUbygpYCBhbmQgYHJlbW92ZSgpYCBhbmQgW3BvcHVwIG1ldGhvZHNdKCNQb3B1cCkgbGlrZSBiaW5kUG9wdXAoKSB5b3UgY2FuIGFsc28gdXNlIHRoZSBmb2xsb3dpbmcgbWV0aG9kczpcclxuXHQgKi9cclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxhdGxuZywgb3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cdFx0dGhpcy5fbGF0bG5nID0gbGF0TG5nKGxhdGxuZyk7XHJcblx0fSxcclxuXHJcblx0b25BZGQ6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdHRoaXMuX3pvb21BbmltYXRlZCA9IHRoaXMuX3pvb21BbmltYXRlZCAmJiBtYXAub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uO1xyXG5cclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcclxuXHRcdFx0bWFwLm9uKCd6b29tYW5pbScsIHRoaXMuX2FuaW1hdGVab29tLCB0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9pbml0SWNvbigpO1xyXG5cdFx0dGhpcy51cGRhdGUoKTtcclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0aWYgKHRoaXMuZHJhZ2dpbmcgJiYgdGhpcy5kcmFnZ2luZy5lbmFibGVkKCkpIHtcclxuXHRcdFx0dGhpcy5vcHRpb25zLmRyYWdnYWJsZSA9IHRydWU7XHJcblx0XHRcdHRoaXMuZHJhZ2dpbmcucmVtb3ZlSG9va3MoKTtcclxuXHRcdH1cclxuXHRcdGRlbGV0ZSB0aGlzLmRyYWdnaW5nO1xyXG5cclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcclxuXHRcdFx0bWFwLm9mZignem9vbWFuaW0nLCB0aGlzLl9hbmltYXRlWm9vbSwgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fcmVtb3ZlSWNvbigpO1xyXG5cdFx0dGhpcy5fcmVtb3ZlU2hhZG93KCk7XHJcblx0fSxcclxuXHJcblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR6b29tOiB0aGlzLnVwZGF0ZSxcclxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLnVwZGF0ZVxyXG5cdFx0fTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldExhdExuZzogTGF0TG5nXHJcblx0Ly8gUmV0dXJucyB0aGUgY3VycmVudCBnZW9ncmFwaGljYWwgcG9zaXRpb24gb2YgdGhlIG1hcmtlci5cclxuXHRnZXRMYXRMbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9sYXRsbmc7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRMYXRMbmcobGF0bG5nOiBMYXRMbmcpOiB0aGlzXHJcblx0Ly8gQ2hhbmdlcyB0aGUgbWFya2VyIHBvc2l0aW9uIHRvIHRoZSBnaXZlbiBwb2ludC5cclxuXHRzZXRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBvbGRMYXRMbmcgPSB0aGlzLl9sYXRsbmc7XHJcblx0XHR0aGlzLl9sYXRsbmcgPSBsYXRMbmcobGF0bG5nKTtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblxyXG5cdFx0Ly8gQGV2ZW50IG1vdmU6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXJrZXIgaXMgbW92ZWQgdmlhIFtgc2V0TGF0TG5nYF0oI21hcmtlci1zZXRsYXRsbmcpIG9yIGJ5IFtkcmFnZ2luZ10oI21hcmtlci1kcmFnZ2luZykuIE9sZCBhbmQgbmV3IGNvb3JkaW5hdGVzIGFyZSBpbmNsdWRlZCBpbiBldmVudCBhcmd1bWVudHMgYXMgYG9sZExhdExuZ2AsIGBsYXRsbmdgLlxyXG5cdFx0cmV0dXJuIHRoaXMuZmlyZSgnbW92ZScsIHtvbGRMYXRMbmc6IG9sZExhdExuZywgbGF0bG5nOiB0aGlzLl9sYXRsbmd9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFpJbmRleE9mZnNldChvZmZzZXQ6IE51bWJlcik6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBbekluZGV4IG9mZnNldF0oI21hcmtlci16aW5kZXhvZmZzZXQpIG9mIHRoZSBtYXJrZXIuXHJcblx0c2V0WkluZGV4T2Zmc2V0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcblx0XHR0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0ID0gb2Zmc2V0O1xyXG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKCk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBnZXRJY29uOiBJY29uXHJcblx0Ly8gUmV0dXJucyB0aGUgY3VycmVudCBpY29uIHVzZWQgYnkgdGhlIG1hcmtlclxyXG5cdGdldEljb246IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaWNvbjtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldEljb24oaWNvbjogSWNvbik6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBtYXJrZXIgaWNvbi5cclxuXHRzZXRJY29uOiBmdW5jdGlvbiAoaWNvbikge1xyXG5cclxuXHRcdHRoaXMub3B0aW9ucy5pY29uID0gaWNvbjtcclxuXHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdHRoaXMuX2luaXRJY29uKCk7XHJcblx0XHRcdHRoaXMudXBkYXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX3BvcHVwKSB7XHJcblx0XHRcdHRoaXMuYmluZFBvcHVwKHRoaXMuX3BvcHVwLCB0aGlzLl9wb3B1cC5vcHRpb25zKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRnZXRFbGVtZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5faWNvbjtcclxuXHR9LFxyXG5cclxuXHR1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRpZiAodGhpcy5faWNvbiAmJiB0aGlzLl9tYXApIHtcclxuXHRcdFx0dmFyIHBvcyA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKS5yb3VuZCgpO1xyXG5cdFx0XHR0aGlzLl9zZXRQb3MocG9zKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfaW5pdEljb246IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0ICAgIGNsYXNzVG9BZGQgPSAnbGVhZmxldC16b29tLScgKyAodGhpcy5fem9vbUFuaW1hdGVkID8gJ2FuaW1hdGVkJyA6ICdoaWRlJyk7XHJcblxyXG5cdFx0dmFyIGljb24gPSBvcHRpb25zLmljb24uY3JlYXRlSWNvbih0aGlzLl9pY29uKSxcclxuXHRcdCAgICBhZGRJY29uID0gZmFsc2U7XHJcblxyXG5cdFx0Ly8gaWYgd2UncmUgbm90IHJldXNpbmcgdGhlIGljb24sIHJlbW92ZSB0aGUgb2xkIG9uZSBhbmQgaW5pdCBuZXcgb25lXHJcblx0XHRpZiAoaWNvbiAhPT0gdGhpcy5faWNvbikge1xyXG5cdFx0XHRpZiAodGhpcy5faWNvbikge1xyXG5cdFx0XHRcdHRoaXMuX3JlbW92ZUljb24oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhZGRJY29uID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmIChvcHRpb25zLnRpdGxlKSB7XHJcblx0XHRcdFx0aWNvbi50aXRsZSA9IG9wdGlvbnMudGl0bGU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChpY29uLnRhZ05hbWUgPT09ICdJTUcnKSB7XHJcblx0XHRcdFx0aWNvbi5hbHQgPSBvcHRpb25zLmFsdCB8fCAnJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdERvbVV0aWwuYWRkQ2xhc3MoaWNvbiwgY2xhc3NUb0FkZCk7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMua2V5Ym9hcmQpIHtcclxuXHRcdFx0aWNvbi50YWJJbmRleCA9ICcwJztcclxuXHRcdFx0aWNvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faWNvbiA9IGljb247XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMucmlzZU9uSG92ZXIpIHtcclxuXHRcdFx0dGhpcy5vbih7XHJcblx0XHRcdFx0bW91c2VvdmVyOiB0aGlzLl9icmluZ1RvRnJvbnQsXHJcblx0XHRcdFx0bW91c2VvdXQ6IHRoaXMuX3Jlc2V0WkluZGV4XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuYXV0b1Bhbk9uRm9jdXMpIHtcclxuXHRcdFx0RG9tRXZlbnQub24oaWNvbiwgJ2ZvY3VzJywgdGhpcy5fcGFuT25Gb2N1cywgdGhpcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG5ld1NoYWRvdyA9IG9wdGlvbnMuaWNvbi5jcmVhdGVTaGFkb3codGhpcy5fc2hhZG93KSxcclxuXHRcdCAgICBhZGRTaGFkb3cgPSBmYWxzZTtcclxuXHJcblx0XHRpZiAobmV3U2hhZG93ICE9PSB0aGlzLl9zaGFkb3cpIHtcclxuXHRcdFx0dGhpcy5fcmVtb3ZlU2hhZG93KCk7XHJcblx0XHRcdGFkZFNoYWRvdyA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG5ld1NoYWRvdykge1xyXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKG5ld1NoYWRvdywgY2xhc3NUb0FkZCk7XHJcblx0XHRcdG5ld1NoYWRvdy5hbHQgPSAnJztcclxuXHRcdH1cclxuXHRcdHRoaXMuX3NoYWRvdyA9IG5ld1NoYWRvdztcclxuXHJcblxyXG5cdFx0aWYgKG9wdGlvbnMub3BhY2l0eSA8IDEpIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRpZiAoYWRkSWNvbikge1xyXG5cdFx0XHR0aGlzLmdldFBhbmUoKS5hcHBlbmRDaGlsZCh0aGlzLl9pY29uKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2luaXRJbnRlcmFjdGlvbigpO1xyXG5cdFx0aWYgKG5ld1NoYWRvdyAmJiBhZGRTaGFkb3cpIHtcclxuXHRcdFx0dGhpcy5nZXRQYW5lKG9wdGlvbnMuc2hhZG93UGFuZSkuYXBwZW5kQ2hpbGQodGhpcy5fc2hhZG93KTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfcmVtb3ZlSWNvbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5yaXNlT25Ib3Zlcikge1xyXG5cdFx0XHR0aGlzLm9mZih7XHJcblx0XHRcdFx0bW91c2VvdmVyOiB0aGlzLl9icmluZ1RvRnJvbnQsXHJcblx0XHRcdFx0bW91c2VvdXQ6IHRoaXMuX3Jlc2V0WkluZGV4XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuYXV0b1Bhbk9uRm9jdXMpIHtcclxuXHRcdFx0RG9tRXZlbnQub2ZmKHRoaXMuX2ljb24sICdmb2N1cycsIHRoaXMuX3Bhbk9uRm9jdXMsIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2ljb24pO1xyXG5cdFx0dGhpcy5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9pY29uKTtcclxuXHJcblx0XHR0aGlzLl9pY29uID0gbnVsbDtcclxuXHR9LFxyXG5cclxuXHRfcmVtb3ZlU2hhZG93OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fc2hhZG93KSB7XHJcblx0XHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX3NoYWRvdyk7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9zaGFkb3cgPSBudWxsO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRQb3M6IGZ1bmN0aW9uIChwb3MpIHtcclxuXHJcblx0XHRpZiAodGhpcy5faWNvbikge1xyXG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2ljb24sIHBvcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX3NoYWRvdykge1xyXG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX3NoYWRvdywgcG9zKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl96SW5kZXggPSBwb3MueSArIHRoaXMub3B0aW9ucy56SW5kZXhPZmZzZXQ7XHJcblxyXG5cdFx0dGhpcy5fcmVzZXRaSW5kZXgoKTtcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlWkluZGV4OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcblx0XHRpZiAodGhpcy5faWNvbikge1xyXG5cdFx0XHR0aGlzLl9pY29uLnN0eWxlLnpJbmRleCA9IHRoaXMuX3pJbmRleCArIG9mZnNldDtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChvcHQpIHtcclxuXHRcdHZhciBwb3MgPSB0aGlzLl9tYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcsIG9wdC56b29tLCBvcHQuY2VudGVyKS5yb3VuZCgpO1xyXG5cclxuXHRcdHRoaXMuX3NldFBvcyhwb3MpO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0SW50ZXJhY3Rpb246IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRpZiAoIXRoaXMub3B0aW9ucy5pbnRlcmFjdGl2ZSkgeyByZXR1cm47IH1cclxuXHJcblx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX2ljb24sICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XHJcblxyXG5cdFx0dGhpcy5hZGRJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9pY29uKTtcclxuXHJcblx0XHRpZiAoTWFya2VyRHJhZykge1xyXG5cdFx0XHR2YXIgZHJhZ2dhYmxlID0gdGhpcy5vcHRpb25zLmRyYWdnYWJsZTtcclxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dpbmcpIHtcclxuXHRcdFx0XHRkcmFnZ2FibGUgPSB0aGlzLmRyYWdnaW5nLmVuYWJsZWQoKTtcclxuXHRcdFx0XHR0aGlzLmRyYWdnaW5nLmRpc2FibGUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5kcmFnZ2luZyA9IG5ldyBNYXJrZXJEcmFnKHRoaXMpO1xyXG5cclxuXHRcdFx0aWYgKGRyYWdnYWJsZSkge1xyXG5cdFx0XHRcdHRoaXMuZHJhZ2dpbmcuZW5hYmxlKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldE9wYWNpdHkob3BhY2l0eTogTnVtYmVyKTogdGhpc1xyXG5cdC8vIENoYW5nZXMgdGhlIG9wYWNpdHkgb2YgdGhlIG1hcmtlci5cclxuXHRzZXRPcGFjaXR5OiBmdW5jdGlvbiAob3BhY2l0eSkge1xyXG5cdFx0dGhpcy5vcHRpb25zLm9wYWNpdHkgPSBvcGFjaXR5O1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl91cGRhdGVPcGFjaXR5KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZU9wYWNpdHk6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBvcGFjaXR5ID0gdGhpcy5vcHRpb25zLm9wYWNpdHk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2ljb24pIHtcclxuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2ljb24sIG9wYWNpdHkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9zaGFkb3cpIHtcclxuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX3NoYWRvdywgb3BhY2l0eSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2JyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5fdXBkYXRlWkluZGV4KHRoaXMub3B0aW9ucy5yaXNlT2Zmc2V0KTtcclxuXHR9LFxyXG5cclxuXHRfcmVzZXRaSW5kZXg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgwKTtcclxuXHR9LFxyXG5cclxuXHRfcGFuT25Gb2N1czogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcclxuXHRcdGlmICghbWFwKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciBpY29uT3B0cyA9IHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnM7XHJcblx0XHR2YXIgc2l6ZSA9IGljb25PcHRzLmljb25TaXplID8gcG9pbnQoaWNvbk9wdHMuaWNvblNpemUpIDogcG9pbnQoMCwgMCk7XHJcblx0XHR2YXIgYW5jaG9yID0gaWNvbk9wdHMuaWNvbkFuY2hvciA/IHBvaW50KGljb25PcHRzLmljb25BbmNob3IpIDogcG9pbnQoMCwgMCk7XHJcblxyXG5cdFx0bWFwLnBhbkluc2lkZSh0aGlzLl9sYXRsbmcsIHtcclxuXHRcdFx0cGFkZGluZ1RvcExlZnQ6IGFuY2hvcixcclxuXHRcdFx0cGFkZGluZ0JvdHRvbVJpZ2h0OiBzaXplLnN1YnRyYWN0KGFuY2hvcilcclxuXHRcdH0pO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRQb3B1cEFuY2hvcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnMucG9wdXBBbmNob3I7XHJcblx0fSxcclxuXHJcblx0X2dldFRvb2x0aXBBbmNob3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaWNvbi5vcHRpb25zLnRvb2x0aXBBbmNob3I7XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG4vLyBmYWN0b3J5IEwubWFya2VyKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPyA6IE1hcmtlciBvcHRpb25zKVxyXG5cclxuLy8gQGZhY3RvcnkgTC5tYXJrZXIobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/IDogTWFya2VyIG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhIE1hcmtlciBvYmplY3QgZ2l2ZW4gYSBnZW9ncmFwaGljYWwgcG9pbnQgYW5kIG9wdGlvbmFsbHkgYW4gb3B0aW9ucyBvYmplY3QuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXJrZXIobGF0bG5nLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBNYXJrZXIobGF0bG5nLCBvcHRpb25zKTtcclxufVxyXG4iLCAiaW1wb3J0IHtMYXllcn0gZnJvbSAnLi4vTGF5ZXInO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuXG4vKlxuICogQGNsYXNzIFBhdGhcbiAqIEBha2EgTC5QYXRoXG4gKiBAaW5oZXJpdHMgSW50ZXJhY3RpdmUgbGF5ZXJcbiAqXG4gKiBBbiBhYnN0cmFjdCBjbGFzcyB0aGF0IGNvbnRhaW5zIG9wdGlvbnMgYW5kIGNvbnN0YW50cyBzaGFyZWQgYmV0d2VlbiB2ZWN0b3JcbiAqIG92ZXJsYXlzIChQb2x5Z29uLCBQb2x5bGluZSwgQ2lyY2xlKS4gRG8gbm90IHVzZSBpdCBkaXJlY3RseS4gRXh0ZW5kcyBgTGF5ZXJgLlxuICovXG5cbmV4cG9ydCB2YXIgUGF0aCA9IExheWVyLmV4dGVuZCh7XG5cblx0Ly8gQHNlY3Rpb25cblx0Ly8gQGFrYSBQYXRoIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gc3Ryb2tlOiBCb29sZWFuID0gdHJ1ZVxuXHRcdC8vIFdoZXRoZXIgdG8gZHJhdyBzdHJva2UgYWxvbmcgdGhlIHBhdGguIFNldCBpdCB0byBgZmFsc2VgIHRvIGRpc2FibGUgYm9yZGVycyBvbiBwb2x5Z29ucyBvciBjaXJjbGVzLlxuXHRcdHN0cm9rZTogdHJ1ZSxcblxuXHRcdC8vIEBvcHRpb24gY29sb3I6IFN0cmluZyA9ICcjMzM4OGZmJ1xuXHRcdC8vIFN0cm9rZSBjb2xvclxuXHRcdGNvbG9yOiAnIzMzODhmZicsXG5cblx0XHQvLyBAb3B0aW9uIHdlaWdodDogTnVtYmVyID0gM1xuXHRcdC8vIFN0cm9rZSB3aWR0aCBpbiBwaXhlbHNcblx0XHR3ZWlnaHQ6IDMsXG5cblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDEuMFxuXHRcdC8vIFN0cm9rZSBvcGFjaXR5XG5cdFx0b3BhY2l0eTogMSxcblxuXHRcdC8vIEBvcHRpb24gbGluZUNhcDogU3RyaW5nPSAncm91bmQnXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIFtzaGFwZSB0byBiZSB1c2VkIGF0IHRoZSBlbmRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvc3Ryb2tlLWxpbmVjYXApIG9mIHRoZSBzdHJva2UuXG5cdFx0bGluZUNhcDogJ3JvdW5kJyxcblxuXHRcdC8vIEBvcHRpb24gbGluZUpvaW46IFN0cmluZyA9ICdyb3VuZCdcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgW3NoYXBlIHRvIGJlIHVzZWQgYXQgdGhlIGNvcm5lcnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvc3Ryb2tlLWxpbmVqb2luKSBvZiB0aGUgc3Ryb2tlLlxuXHRcdGxpbmVKb2luOiAncm91bmQnLFxuXG5cdFx0Ly8gQG9wdGlvbiBkYXNoQXJyYXk6IFN0cmluZyA9IG51bGxcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgdGhlIHN0cm9rZSBbZGFzaCBwYXR0ZXJuXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1kYXNoYXJyYXkpLiBEb2Vzbid0IHdvcmsgb24gYENhbnZhc2AtcG93ZXJlZCBsYXllcnMgaW4gW3NvbWUgb2xkIGJyb3dzZXJzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NldExpbmVEYXNoI0Jyb3dzZXJfY29tcGF0aWJpbGl0eSkuXG5cdFx0ZGFzaEFycmF5OiBudWxsLFxuXG5cdFx0Ly8gQG9wdGlvbiBkYXNoT2Zmc2V0OiBTdHJpbmcgPSBudWxsXG5cdFx0Ly8gQSBzdHJpbmcgdGhhdCBkZWZpbmVzIHRoZSBbZGlzdGFuY2UgaW50byB0aGUgZGFzaCBwYXR0ZXJuIHRvIHN0YXJ0IHRoZSBkYXNoXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1kYXNob2Zmc2V0KS4gRG9lc24ndCB3b3JrIG9uIGBDYW52YXNgLXBvd2VyZWQgbGF5ZXJzIGluIFtzb21lIG9sZCBicm93c2Vyc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRMaW5lRGFzaCNCcm93c2VyX2NvbXBhdGliaWxpdHkpLlxuXHRcdGRhc2hPZmZzZXQ6IG51bGwsXG5cblx0XHQvLyBAb3B0aW9uIGZpbGw6IEJvb2xlYW4gPSBkZXBlbmRzXG5cdFx0Ly8gV2hldGhlciB0byBmaWxsIHRoZSBwYXRoIHdpdGggY29sb3IuIFNldCBpdCB0byBgZmFsc2VgIHRvIGRpc2FibGUgZmlsbGluZyBvbiBwb2x5Z29ucyBvciBjaXJjbGVzLlxuXHRcdGZpbGw6IGZhbHNlLFxuXG5cdFx0Ly8gQG9wdGlvbiBmaWxsQ29sb3I6IFN0cmluZyA9ICpcblx0XHQvLyBGaWxsIGNvbG9yLiBEZWZhdWx0cyB0byB0aGUgdmFsdWUgb2YgdGhlIFtgY29sb3JgXSgjcGF0aC1jb2xvcikgb3B0aW9uXG5cdFx0ZmlsbENvbG9yOiBudWxsLFxuXG5cdFx0Ly8gQG9wdGlvbiBmaWxsT3BhY2l0eTogTnVtYmVyID0gMC4yXG5cdFx0Ly8gRmlsbCBvcGFjaXR5LlxuXHRcdGZpbGxPcGFjaXR5OiAwLjIsXG5cblx0XHQvLyBAb3B0aW9uIGZpbGxSdWxlOiBTdHJpbmcgPSAnZXZlbm9kZCdcblx0XHQvLyBBIHN0cmluZyB0aGF0IGRlZmluZXMgW2hvdyB0aGUgaW5zaWRlIG9mIGEgc2hhcGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvZmlsbC1ydWxlKSBpcyBkZXRlcm1pbmVkLlxuXHRcdGZpbGxSdWxlOiAnZXZlbm9kZCcsXG5cblx0XHQvLyBjbGFzc05hbWU6ICcnLFxuXG5cdFx0Ly8gT3B0aW9uIGluaGVyaXRlZCBmcm9tIFwiSW50ZXJhY3RpdmUgbGF5ZXJcIiBhYnN0cmFjdCBjbGFzc1xuXHRcdGludGVyYWN0aXZlOiB0cnVlLFxuXG5cdFx0Ly8gQG9wdGlvbiBidWJibGluZ01vdXNlRXZlbnRzOiBCb29sZWFuID0gdHJ1ZVxuXHRcdC8vIFdoZW4gYHRydWVgLCBhIG1vdXNlIGV2ZW50IG9uIHRoaXMgcGF0aCB3aWxsIHRyaWdnZXIgdGhlIHNhbWUgZXZlbnQgb24gdGhlIG1hcFxuXHRcdC8vICh1bmxlc3MgW2BMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbmBdKCNkb21ldmVudC1zdG9wcHJvcGFnYXRpb24pIGlzIHVzZWQpLlxuXHRcdGJ1YmJsaW5nTW91c2VFdmVudHM6IHRydWVcblx0fSxcblxuXHRiZWZvcmVBZGQ6IGZ1bmN0aW9uIChtYXApIHtcblx0XHQvLyBSZW5kZXJlciBpcyBzZXQgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gY2FsbCByZW5kZXJlci5nZXRFdmVudHNcblx0XHQvLyBiZWZvcmUgdGhpcy5nZXRFdmVudHMuXG5cdFx0dGhpcy5fcmVuZGVyZXIgPSBtYXAuZ2V0UmVuZGVyZXIodGhpcyk7XG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZW5kZXJlci5faW5pdFBhdGgodGhpcyk7XG5cdFx0dGhpcy5fcmVzZXQoKTtcblx0XHR0aGlzLl9yZW5kZXJlci5fYWRkUGF0aCh0aGlzKTtcblx0fSxcblxuXHRvblJlbW92ZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlbmRlcmVyLl9yZW1vdmVQYXRoKHRoaXMpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVkcmF3KCk6IHRoaXNcblx0Ly8gUmVkcmF3cyB0aGUgbGF5ZXIuIFNvbWV0aW1lcyB1c2VmdWwgYWZ0ZXIgeW91IGNoYW5nZWQgdGhlIGNvb3JkaW5hdGVzIHRoYXQgdGhlIHBhdGggdXNlcy5cblx0cmVkcmF3OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcCkge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZVBhdGgodGhpcyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0U3R5bGUoc3R5bGU6IFBhdGggb3B0aW9ucyk6IHRoaXNcblx0Ly8gQ2hhbmdlcyB0aGUgYXBwZWFyYW5jZSBvZiBhIFBhdGggYmFzZWQgb24gdGhlIG9wdGlvbnMgaW4gdGhlIGBQYXRoIG9wdGlvbnNgIG9iamVjdC5cblx0c2V0U3R5bGU6IGZ1bmN0aW9uIChzdHlsZSkge1xuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBzdHlsZSk7XG5cdFx0aWYgKHRoaXMuX3JlbmRlcmVyKSB7XG5cdFx0XHR0aGlzLl9yZW5kZXJlci5fdXBkYXRlU3R5bGUodGhpcyk7XG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLnN0cm9rZSAmJiBzdHlsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc3R5bGUsICd3ZWlnaHQnKSkge1xuXHRcdFx0XHR0aGlzLl91cGRhdGVCb3VuZHMoKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBicmluZ1RvRnJvbnQoKTogdGhpc1xuXHQvLyBCcmluZ3MgdGhlIGxheWVyIHRvIHRoZSB0b3Agb2YgYWxsIHBhdGggbGF5ZXJzLlxuXHRicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fcmVuZGVyZXIpIHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLl9icmluZ1RvRnJvbnQodGhpcyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYnJpbmdUb0JhY2soKTogdGhpc1xuXHQvLyBCcmluZ3MgdGhlIGxheWVyIHRvIHRoZSBib3R0b20gb2YgYWxsIHBhdGggbGF5ZXJzLlxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9yZW5kZXJlcikge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuX2JyaW5nVG9CYWNrKHRoaXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRnZXRFbGVtZW50OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3BhdGg7XG5cdH0sXG5cblx0X3Jlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gZGVmaW5lZCBpbiBjaGlsZCBjbGFzc2VzXG5cdFx0dGhpcy5fcHJvamVjdCgpO1xuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF9jbGlja1RvbGVyYW5jZTogZnVuY3Rpb24gKCkge1xuXHRcdC8vIHVzZWQgd2hlbiBkb2luZyBoaXQgZGV0ZWN0aW9uIGZvciBDYW52YXMgbGF5ZXJzXG5cdFx0cmV0dXJuICh0aGlzLm9wdGlvbnMuc3Ryb2tlID8gdGhpcy5vcHRpb25zLndlaWdodCAvIDIgOiAwKSArXG5cdFx0ICAodGhpcy5fcmVuZGVyZXIub3B0aW9ucy50b2xlcmFuY2UgfHwgMCk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7UGF0aH0gZnJvbSAnLi9QYXRoJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCB7dG9MYXRMbmd9IGZyb20gJy4uLy4uL2dlby9MYXRMbmcnO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5cblxuLypcbiAqIEBjbGFzcyBDaXJjbGVNYXJrZXJcbiAqIEBha2EgTC5DaXJjbGVNYXJrZXJcbiAqIEBpbmhlcml0cyBQYXRoXG4gKlxuICogQSBjaXJjbGUgb2YgYSBmaXhlZCBzaXplIHdpdGggcmFkaXVzIHNwZWNpZmllZCBpbiBwaXhlbHMuIEV4dGVuZHMgYFBhdGhgLlxuICovXG5cbmV4cG9ydCB2YXIgQ2lyY2xlTWFya2VyID0gUGF0aC5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgQ2lyY2xlTWFya2VyIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdGZpbGw6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIHJhZGl1czogTnVtYmVyID0gMTBcblx0XHQvLyBSYWRpdXMgb2YgdGhlIGNpcmNsZSBtYXJrZXIsIGluIHBpeGVsc1xuXHRcdHJhZGl1czogMTBcblx0fSxcblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7XG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX2xhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZyk7XG5cdFx0dGhpcy5fcmFkaXVzID0gdGhpcy5vcHRpb25zLnJhZGl1cztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldExhdExuZyhsYXRMbmc6IExhdExuZyk6IHRoaXNcblx0Ly8gU2V0cyB0aGUgcG9zaXRpb24gb2YgYSBjaXJjbGUgbWFya2VyIHRvIGEgbmV3IGxvY2F0aW9uLlxuXHRzZXRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcpIHtcblx0XHR2YXIgb2xkTGF0TG5nID0gdGhpcy5fbGF0bG5nO1xuXHRcdHRoaXMuX2xhdGxuZyA9IHRvTGF0TG5nKGxhdGxuZyk7XG5cdFx0dGhpcy5yZWRyYXcoKTtcblxuXHRcdC8vIEBldmVudCBtb3ZlOiBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIG1hcmtlciBpcyBtb3ZlZCB2aWEgW2BzZXRMYXRMbmdgXSgjY2lyY2xlbWFya2VyLXNldGxhdGxuZykuIE9sZCBhbmQgbmV3IGNvb3JkaW5hdGVzIGFyZSBpbmNsdWRlZCBpbiBldmVudCBhcmd1bWVudHMgYXMgYG9sZExhdExuZ2AsIGBsYXRsbmdgLlxuXHRcdHJldHVybiB0aGlzLmZpcmUoJ21vdmUnLCB7b2xkTGF0TG5nOiBvbGRMYXRMbmcsIGxhdGxuZzogdGhpcy5fbGF0bG5nfSk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRMYXRMbmcoKTogTGF0TG5nXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uIG9mIHRoZSBjaXJjbGUgbWFya2VyXG5cdGdldExhdExuZzogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9sYXRsbmc7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRSYWRpdXMocmFkaXVzOiBOdW1iZXIpOiB0aGlzXG5cdC8vIFNldHMgdGhlIHJhZGl1cyBvZiBhIGNpcmNsZSBtYXJrZXIuIFVuaXRzIGFyZSBpbiBwaXhlbHMuXG5cdHNldFJhZGl1czogZnVuY3Rpb24gKHJhZGl1cykge1xuXHRcdHRoaXMub3B0aW9ucy5yYWRpdXMgPSB0aGlzLl9yYWRpdXMgPSByYWRpdXM7XG5cdFx0cmV0dXJuIHRoaXMucmVkcmF3KCk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRSYWRpdXMoKTogTnVtYmVyXG5cdC8vIFJldHVybnMgdGhlIGN1cnJlbnQgcmFkaXVzIG9mIHRoZSBjaXJjbGVcblx0Z2V0UmFkaXVzOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JhZGl1cztcblx0fSxcblxuXHRzZXRTdHlsZSA6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0dmFyIHJhZGl1cyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5yYWRpdXMgfHwgdGhpcy5fcmFkaXVzO1xuXHRcdFBhdGgucHJvdG90eXBlLnNldFN0eWxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cdFx0dGhpcy5zZXRSYWRpdXMocmFkaXVzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfcHJvamVjdDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3BvaW50ID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpO1xuXHRcdHRoaXMuX3VwZGF0ZUJvdW5kcygpO1xuXHR9LFxuXG5cdF91cGRhdGVCb3VuZHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgciA9IHRoaXMuX3JhZGl1cyxcblx0XHQgICAgcjIgPSB0aGlzLl9yYWRpdXNZIHx8IHIsXG5cdFx0ICAgIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpLFxuXHRcdCAgICBwID0gW3IgKyB3LCByMiArIHddO1xuXHRcdHRoaXMuX3B4Qm91bmRzID0gbmV3IEJvdW5kcyh0aGlzLl9wb2ludC5zdWJ0cmFjdChwKSwgdGhpcy5fcG9pbnQuYWRkKHApKTtcblx0fSxcblxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcCkge1xuXHRcdFx0dGhpcy5fdXBkYXRlUGF0aCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlUGF0aDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3JlbmRlcmVyLl91cGRhdGVDaXJjbGUodGhpcyk7XG5cdH0sXG5cblx0X2VtcHR5OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JhZGl1cyAmJiAhdGhpcy5fcmVuZGVyZXIuX2JvdW5kcy5pbnRlcnNlY3RzKHRoaXMuX3B4Qm91bmRzKTtcblx0fSxcblxuXHQvLyBOZWVkZWQgYnkgdGhlIGBDYW52YXNgIHJlbmRlcmVyIGZvciBpbnRlcmFjdGl2aXR5XG5cdF9jb250YWluc1BvaW50OiBmdW5jdGlvbiAocCkge1xuXHRcdHJldHVybiBwLmRpc3RhbmNlVG8odGhpcy5fcG9pbnQpIDw9IHRoaXMuX3JhZGl1cyArIHRoaXMuX2NsaWNrVG9sZXJhbmNlKCk7XG5cdH1cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwuY2lyY2xlTWFya2VyKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogQ2lyY2xlTWFya2VyIG9wdGlvbnMpXG4vLyBJbnN0YW50aWF0ZXMgYSBjaXJjbGUgbWFya2VyIG9iamVjdCBnaXZlbiBhIGdlb2dyYXBoaWNhbCBwb2ludCwgYW5kIGFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZU1hcmtlcihsYXRsbmcsIG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBDaXJjbGVNYXJrZXIobGF0bG5nLCBvcHRpb25zKTtcbn1cbiIsICJpbXBvcnQge0NpcmNsZU1hcmtlcn0gZnJvbSAnLi9DaXJjbGVNYXJrZXInO1xuaW1wb3J0IHtQYXRofSBmcm9tICcuL1BhdGgnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0IHt0b0xhdExuZ30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZyc7XG5pbXBvcnQge0xhdExuZ0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZ0JvdW5kcyc7XG5pbXBvcnQge0VhcnRofSBmcm9tICcuLi8uLi9nZW8vY3JzL0NSUy5FYXJ0aCc7XG5cblxuLypcbiAqIEBjbGFzcyBDaXJjbGVcbiAqIEBha2EgTC5DaXJjbGVcbiAqIEBpbmhlcml0cyBDaXJjbGVNYXJrZXJcbiAqXG4gKiBBIGNsYXNzIGZvciBkcmF3aW5nIGNpcmNsZSBvdmVybGF5cyBvbiBhIG1hcC4gRXh0ZW5kcyBgQ2lyY2xlTWFya2VyYC5cbiAqXG4gKiBJdCdzIGFuIGFwcHJveGltYXRpb24gYW5kIHN0YXJ0cyB0byBkaXZlcmdlIGZyb20gYSByZWFsIGNpcmNsZSBjbG9zZXIgdG8gcG9sZXMgKGR1ZSB0byBwcm9qZWN0aW9uIGRpc3RvcnRpb24pLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBganNcbiAqIEwuY2lyY2xlKFs1MC41LCAzMC41XSwge3JhZGl1czogMjAwfSkuYWRkVG8obWFwKTtcbiAqIGBgYFxuICovXG5cbmV4cG9ydCB2YXIgQ2lyY2xlID0gQ2lyY2xlTWFya2VyLmV4dGVuZCh7XG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxhdGxuZywgb3B0aW9ucywgbGVnYWN5T3B0aW9ucykge1xuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcblx0XHRcdC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggMC43LnggZmFjdG9yeSAobGF0bG5nLCByYWRpdXMsIG9wdGlvbnM/KVxuXHRcdFx0b3B0aW9ucyA9IFV0aWwuZXh0ZW5kKHt9LCBsZWdhY3lPcHRpb25zLCB7cmFkaXVzOiBvcHRpb25zfSk7XG5cdFx0fVxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblx0XHR0aGlzLl9sYXRsbmcgPSB0b0xhdExuZyhsYXRsbmcpO1xuXG5cdFx0aWYgKGlzTmFOKHRoaXMub3B0aW9ucy5yYWRpdXMpKSB7IHRocm93IG5ldyBFcnJvcignQ2lyY2xlIHJhZGl1cyBjYW5ub3QgYmUgTmFOJyk7IH1cblxuXHRcdC8vIEBzZWN0aW9uXG5cdFx0Ly8gQGFrYSBDaXJjbGUgb3B0aW9uc1xuXHRcdC8vIEBvcHRpb24gcmFkaXVzOiBOdW1iZXI7IFJhZGl1cyBvZiB0aGUgY2lyY2xlLCBpbiBtZXRlcnMuXG5cdFx0dGhpcy5fbVJhZGl1cyA9IHRoaXMub3B0aW9ucy5yYWRpdXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBzZXRSYWRpdXMocmFkaXVzOiBOdW1iZXIpOiB0aGlzXG5cdC8vIFNldHMgdGhlIHJhZGl1cyBvZiBhIGNpcmNsZS4gVW5pdHMgYXJlIGluIG1ldGVycy5cblx0c2V0UmFkaXVzOiBmdW5jdGlvbiAocmFkaXVzKSB7XG5cdFx0dGhpcy5fbVJhZGl1cyA9IHJhZGl1cztcblx0XHRyZXR1cm4gdGhpcy5yZWRyYXcoKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGdldFJhZGl1cygpOiBOdW1iZXJcblx0Ly8gUmV0dXJucyB0aGUgY3VycmVudCByYWRpdXMgb2YgYSBjaXJjbGUuIFVuaXRzIGFyZSBpbiBtZXRlcnMuXG5cdGdldFJhZGl1czogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9tUmFkaXVzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Qm91bmRzKCk6IExhdExuZ0JvdW5kc1xuXHQvLyBSZXR1cm5zIHRoZSBgTGF0TG5nQm91bmRzYCBvZiB0aGUgcGF0aC5cblx0Z2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGhhbGYgPSBbdGhpcy5fcmFkaXVzLCB0aGlzLl9yYWRpdXNZIHx8IHRoaXMuX3JhZGl1c107XG5cblx0XHRyZXR1cm4gbmV3IExhdExuZ0JvdW5kcyhcblx0XHRcdHRoaXMuX21hcC5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fcG9pbnQuc3VidHJhY3QoaGFsZikpLFxuXHRcdFx0dGhpcy5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLl9wb2ludC5hZGQoaGFsZikpKTtcblx0fSxcblxuXHRzZXRTdHlsZTogUGF0aC5wcm90b3R5cGUuc2V0U3R5bGUsXG5cblx0X3Byb2plY3Q6IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBsbmcgPSB0aGlzLl9sYXRsbmcubG5nLFxuXHRcdCAgICBsYXQgPSB0aGlzLl9sYXRsbmcubGF0LFxuXHRcdCAgICBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIGNycyA9IG1hcC5vcHRpb25zLmNycztcblxuXHRcdGlmIChjcnMuZGlzdGFuY2UgPT09IEVhcnRoLmRpc3RhbmNlKSB7XG5cdFx0XHR2YXIgZCA9IE1hdGguUEkgLyAxODAsXG5cdFx0XHQgICAgbGF0UiA9ICh0aGlzLl9tUmFkaXVzIC8gRWFydGguUikgLyBkLFxuXHRcdFx0ICAgIHRvcCA9IG1hcC5wcm9qZWN0KFtsYXQgKyBsYXRSLCBsbmddKSxcblx0XHRcdCAgICBib3R0b20gPSBtYXAucHJvamVjdChbbGF0IC0gbGF0UiwgbG5nXSksXG5cdFx0XHQgICAgcCA9IHRvcC5hZGQoYm90dG9tKS5kaXZpZGVCeSgyKSxcblx0XHRcdCAgICBsYXQyID0gbWFwLnVucHJvamVjdChwKS5sYXQsXG5cdFx0XHQgICAgbG5nUiA9IE1hdGguYWNvcygoTWF0aC5jb3MobGF0UiAqIGQpIC0gTWF0aC5zaW4obGF0ICogZCkgKiBNYXRoLnNpbihsYXQyICogZCkpIC9cblx0XHRcdCAgICAgICAgICAgIChNYXRoLmNvcyhsYXQgKiBkKSAqIE1hdGguY29zKGxhdDIgKiBkKSkpIC8gZDtcblxuXHRcdFx0aWYgKGlzTmFOKGxuZ1IpIHx8IGxuZ1IgPT09IDApIHtcblx0XHRcdFx0bG5nUiA9IGxhdFIgLyBNYXRoLmNvcyhNYXRoLlBJIC8gMTgwICogbGF0KTsgLy8gRmFsbGJhY2sgZm9yIGVkZ2UgY2FzZSwgIzI0MjVcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fcG9pbnQgPSBwLnN1YnRyYWN0KG1hcC5nZXRQaXhlbE9yaWdpbigpKTtcblx0XHRcdHRoaXMuX3JhZGl1cyA9IGlzTmFOKGxuZ1IpID8gMCA6IHAueCAtIG1hcC5wcm9qZWN0KFtsYXQyLCBsbmcgLSBsbmdSXSkueDtcblx0XHRcdHRoaXMuX3JhZGl1c1kgPSBwLnkgLSB0b3AueTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgbGF0bG5nMiA9IGNycy51bnByb2plY3QoY3JzLnByb2plY3QodGhpcy5fbGF0bG5nKS5zdWJ0cmFjdChbdGhpcy5fbVJhZGl1cywgMF0pKTtcblxuXHRcdFx0dGhpcy5fcG9pbnQgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyk7XG5cdFx0XHR0aGlzLl9yYWRpdXMgPSB0aGlzLl9wb2ludC54IC0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmcyKS54O1xuXHRcdH1cblxuXHRcdHRoaXMuX3VwZGF0ZUJvdW5kcygpO1xuXHR9XG59KTtcblxuLy8gQGZhY3RvcnkgTC5jaXJjbGUobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBDaXJjbGUgb3B0aW9ucylcbi8vIEluc3RhbnRpYXRlcyBhIGNpcmNsZSBvYmplY3QgZ2l2ZW4gYSBnZW9ncmFwaGljYWwgcG9pbnQsIGFuZCBhbiBvcHRpb25zIG9iamVjdFxuLy8gd2hpY2ggY29udGFpbnMgdGhlIGNpcmNsZSByYWRpdXMuXG4vLyBAYWx0ZXJuYXRpdmVcbi8vIEBmYWN0b3J5IEwuY2lyY2xlKGxhdGxuZzogTGF0TG5nLCByYWRpdXM6IE51bWJlciwgb3B0aW9ucz86IENpcmNsZSBvcHRpb25zKVxuLy8gT2Jzb2xldGUgd2F5IG9mIGluc3RhbnRpYXRpbmcgYSBjaXJjbGUsIGZvciBjb21wYXRpYmlsaXR5IHdpdGggMC43LnggY29kZS5cbi8vIERvIG5vdCB1c2UgaW4gbmV3IGFwcGxpY2F0aW9ucyBvciBwbHVnaW5zLlxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNsZShsYXRsbmcsIG9wdGlvbnMsIGxlZ2FjeU9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBDaXJjbGUobGF0bG5nLCBvcHRpb25zLCBsZWdhY3lPcHRpb25zKTtcbn1cbiIsICJpbXBvcnQge1BhdGh9IGZyb20gJy4vUGF0aCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQgKiBhcyBMaW5lVXRpbCBmcm9tICcuLi8uLi9nZW9tZXRyeS9MaW5lVXRpbCc7XG5pbXBvcnQge0xhdExuZywgdG9MYXRMbmd9IGZyb20gJy4uLy4uL2dlby9MYXRMbmcnO1xuaW1wb3J0IHtMYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2dlb21ldHJ5L0JvdW5kcyc7XG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5cbi8qXG4gKiBAY2xhc3MgUG9seWxpbmVcbiAqIEBha2EgTC5Qb2x5bGluZVxuICogQGluaGVyaXRzIFBhdGhcbiAqXG4gKiBBIGNsYXNzIGZvciBkcmF3aW5nIHBvbHlsaW5lIG92ZXJsYXlzIG9uIGEgbWFwLiBFeHRlbmRzIGBQYXRoYC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiAvLyBjcmVhdGUgYSByZWQgcG9seWxpbmUgZnJvbSBhbiBhcnJheSBvZiBMYXRMbmcgcG9pbnRzXG4gKiB2YXIgbGF0bG5ncyA9IFtcbiAqIFx0WzQ1LjUxLCAtMTIyLjY4XSxcbiAqIFx0WzM3Ljc3LCAtMTIyLjQzXSxcbiAqIFx0WzM0LjA0LCAtMTE4LjJdXG4gKiBdO1xuICpcbiAqIHZhciBwb2x5bGluZSA9IEwucG9seWxpbmUobGF0bG5ncywge2NvbG9yOiAncmVkJ30pLmFkZFRvKG1hcCk7XG4gKlxuICogLy8gem9vbSB0aGUgbWFwIHRvIHRoZSBwb2x5bGluZVxuICogbWFwLmZpdEJvdW5kcyhwb2x5bGluZS5nZXRCb3VuZHMoKSk7XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gcGFzcyBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IHRvIHJlcHJlc2VudCBhIGBNdWx0aVBvbHlsaW5lYCBzaGFwZTpcbiAqXG4gKiBgYGBqc1xuICogLy8gY3JlYXRlIGEgcmVkIHBvbHlsaW5lIGZyb20gYW4gYXJyYXkgb2YgYXJyYXlzIG9mIExhdExuZyBwb2ludHNcbiAqIHZhciBsYXRsbmdzID0gW1xuICogXHRbWzQ1LjUxLCAtMTIyLjY4XSxcbiAqIFx0IFszNy43NywgLTEyMi40M10sXG4gKiBcdCBbMzQuMDQsIC0xMTguMl1dLFxuICogXHRbWzQwLjc4LCAtNzMuOTFdLFxuICogXHQgWzQxLjgzLCAtODcuNjJdLFxuICogXHQgWzMyLjc2LCAtOTYuNzJdXVxuICogXTtcbiAqIGBgYFxuICovXG5cblxuZXhwb3J0IHZhciBQb2x5bGluZSA9IFBhdGguZXh0ZW5kKHtcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIFBvbHlsaW5lIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gc21vb3RoRmFjdG9yOiBOdW1iZXIgPSAxLjBcblx0XHQvLyBIb3cgbXVjaCB0byBzaW1wbGlmeSB0aGUgcG9seWxpbmUgb24gZWFjaCB6b29tIGxldmVsLiBNb3JlIG1lYW5zXG5cdFx0Ly8gYmV0dGVyIHBlcmZvcm1hbmNlIGFuZCBzbW9vdGhlciBsb29rLCBhbmQgbGVzcyBtZWFucyBtb3JlIGFjY3VyYXRlIHJlcHJlc2VudGF0aW9uLlxuXHRcdHNtb290aEZhY3RvcjogMS4wLFxuXG5cdFx0Ly8gQG9wdGlvbiBub0NsaXA6IEJvb2xlYW4gPSBmYWxzZVxuXHRcdC8vIERpc2FibGUgcG9seWxpbmUgY2xpcHBpbmcuXG5cdFx0bm9DbGlwOiBmYWxzZVxuXHR9LFxuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmdzLCBvcHRpb25zKSB7XG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX3NldExhdExuZ3MobGF0bG5ncyk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRMYXRMbmdzKCk6IExhdExuZ1tdXG5cdC8vIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHBvaW50cyBpbiB0aGUgcGF0aCwgb3IgbmVzdGVkIGFycmF5cyBvZiBwb2ludHMgaW4gY2FzZSBvZiBtdWx0aS1wb2x5bGluZS5cblx0Z2V0TGF0TG5nczogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9sYXRsbmdzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0TGF0TG5ncyhsYXRsbmdzOiBMYXRMbmdbXSk6IHRoaXNcblx0Ly8gUmVwbGFjZXMgYWxsIHRoZSBwb2ludHMgaW4gdGhlIHBvbHlsaW5lIHdpdGggdGhlIGdpdmVuIGFycmF5IG9mIGdlb2dyYXBoaWNhbCBwb2ludHMuXG5cdHNldExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0dGhpcy5fc2V0TGF0TG5ncyhsYXRsbmdzKTtcblx0XHRyZXR1cm4gdGhpcy5yZWRyYXcoKTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGlzRW1wdHkoKTogQm9vbGVhblxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgUG9seWxpbmUgaGFzIG5vIExhdExuZ3MuXG5cdGlzRW1wdHk6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gIXRoaXMuX2xhdGxuZ3MubGVuZ3RoO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgY2xvc2VzdExheWVyUG9pbnQocDogUG9pbnQpOiBQb2ludFxuXHQvLyBSZXR1cm5zIHRoZSBwb2ludCBjbG9zZXN0IHRvIGBwYCBvbiB0aGUgUG9seWxpbmUuXG5cdGNsb3Nlc3RMYXllclBvaW50OiBmdW5jdGlvbiAocCkge1xuXHRcdHZhciBtaW5EaXN0YW5jZSA9IEluZmluaXR5LFxuXHRcdCAgICBtaW5Qb2ludCA9IG51bGwsXG5cdFx0ICAgIGNsb3Nlc3QgPSBMaW5lVXRpbC5fc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQsXG5cdFx0ICAgIHAxLCBwMjtcblxuXHRcdGZvciAodmFyIGogPSAwLCBqTGVuID0gdGhpcy5fcGFydHMubGVuZ3RoOyBqIDwgakxlbjsgaisrKSB7XG5cdFx0XHR2YXIgcG9pbnRzID0gdGhpcy5fcGFydHNbal07XG5cblx0XHRcdGZvciAodmFyIGkgPSAxLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0cDEgPSBwb2ludHNbaSAtIDFdO1xuXHRcdFx0XHRwMiA9IHBvaW50c1tpXTtcblxuXHRcdFx0XHR2YXIgc3FEaXN0ID0gY2xvc2VzdChwLCBwMSwgcDIsIHRydWUpO1xuXG5cdFx0XHRcdGlmIChzcURpc3QgPCBtaW5EaXN0YW5jZSkge1xuXHRcdFx0XHRcdG1pbkRpc3RhbmNlID0gc3FEaXN0O1xuXHRcdFx0XHRcdG1pblBvaW50ID0gY2xvc2VzdChwLCBwMSwgcDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChtaW5Qb2ludCkge1xuXHRcdFx0bWluUG9pbnQuZGlzdGFuY2UgPSBNYXRoLnNxcnQobWluRGlzdGFuY2UpO1xuXHRcdH1cblx0XHRyZXR1cm4gbWluUG9pbnQ7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRDZW50ZXIoKTogTGF0TG5nXG5cdC8vIFJldHVybnMgdGhlIGNlbnRlciAoW2NlbnRyb2lkXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCkpIG9mIHRoZSBwb2x5bGluZS5cblx0Z2V0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gdGhyb3dzIGVycm9yIHdoZW4gbm90IHlldCBhZGRlZCB0byBtYXAgYXMgdGhpcyBjZW50ZXIgY2FsY3VsYXRpb24gcmVxdWlyZXMgcHJvamVjdGVkIGNvb3JkaW5hdGVzXG5cdFx0aWYgKCF0aGlzLl9tYXApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTXVzdCBhZGQgbGF5ZXIgdG8gbWFwIGJlZm9yZSB1c2luZyBnZXRDZW50ZXIoKScpO1xuXHRcdH1cblx0XHRyZXR1cm4gTGluZVV0aWwucG9seWxpbmVDZW50ZXIodGhpcy5fZGVmYXVsdFNoYXBlKCksIHRoaXMuX21hcC5vcHRpb25zLmNycyk7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRCb3VuZHMoKTogTGF0TG5nQm91bmRzXG5cdC8vIFJldHVybnMgdGhlIGBMYXRMbmdCb3VuZHNgIG9mIHRoZSBwYXRoLlxuXHRnZXRCb3VuZHM6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fYm91bmRzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYWRkTGF0TG5nKGxhdGxuZzogTGF0TG5nLCBsYXRsbmdzPzogTGF0TG5nW10pOiB0aGlzXG5cdC8vIEFkZHMgYSBnaXZlbiBwb2ludCB0byB0aGUgcG9seWxpbmUuIEJ5IGRlZmF1bHQsIGFkZHMgdG8gdGhlIGZpcnN0IHJpbmcgb2Zcblx0Ly8gdGhlIHBvbHlsaW5lIGluIGNhc2Ugb2YgYSBtdWx0aS1wb2x5bGluZSwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHBhc3Npbmdcblx0Ly8gYSBzcGVjaWZpYyByaW5nIGFzIGEgTGF0TG5nIGFycmF5ICh0aGF0IHlvdSBjYW4gZWFybGllciBhY2Nlc3Mgd2l0aCBbYGdldExhdExuZ3NgXSgjcG9seWxpbmUtZ2V0bGF0bG5ncykpLlxuXHRhZGRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcsIGxhdGxuZ3MpIHtcblx0XHRsYXRsbmdzID0gbGF0bG5ncyB8fCB0aGlzLl9kZWZhdWx0U2hhcGUoKTtcblx0XHRsYXRsbmcgPSB0b0xhdExuZyhsYXRsbmcpO1xuXHRcdGxhdGxuZ3MucHVzaChsYXRsbmcpO1xuXHRcdHRoaXMuX2JvdW5kcy5leHRlbmQobGF0bG5nKTtcblx0XHRyZXR1cm4gdGhpcy5yZWRyYXcoKTtcblx0fSxcblxuXHRfc2V0TGF0TG5nczogZnVuY3Rpb24gKGxhdGxuZ3MpIHtcblx0XHR0aGlzLl9ib3VuZHMgPSBuZXcgTGF0TG5nQm91bmRzKCk7XG5cdFx0dGhpcy5fbGF0bG5ncyA9IHRoaXMuX2NvbnZlcnRMYXRMbmdzKGxhdGxuZ3MpO1xuXHR9LFxuXG5cdF9kZWZhdWx0U2hhcGU6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gTGluZVV0aWwuaXNGbGF0KHRoaXMuX2xhdGxuZ3MpID8gdGhpcy5fbGF0bG5ncyA6IHRoaXMuX2xhdGxuZ3NbMF07XG5cdH0sXG5cblx0Ly8gcmVjdXJzaXZlbHkgY29udmVydCBsYXRsbmdzIGlucHV0IGludG8gYWN0dWFsIExhdExuZyBpbnN0YW5jZXM7IGNhbGN1bGF0ZSBib3VuZHMgYWxvbmcgdGhlIHdheVxuXHRfY29udmVydExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFtdLFxuXHRcdCAgICBmbGF0ID0gTGluZVV0aWwuaXNGbGF0KGxhdGxuZ3MpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChmbGF0KSB7XG5cdFx0XHRcdHJlc3VsdFtpXSA9IHRvTGF0TG5nKGxhdGxuZ3NbaV0pO1xuXHRcdFx0XHR0aGlzLl9ib3VuZHMuZXh0ZW5kKHJlc3VsdFtpXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHRbaV0gPSB0aGlzLl9jb252ZXJ0TGF0TG5ncyhsYXRsbmdzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdF9wcm9qZWN0OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHB4Qm91bmRzID0gbmV3IEJvdW5kcygpO1xuXHRcdHRoaXMuX3JpbmdzID0gW107XG5cdFx0dGhpcy5fcHJvamVjdExhdGxuZ3ModGhpcy5fbGF0bG5ncywgdGhpcy5fcmluZ3MsIHB4Qm91bmRzKTtcblxuXHRcdGlmICh0aGlzLl9ib3VuZHMuaXNWYWxpZCgpICYmIHB4Qm91bmRzLmlzVmFsaWQoKSkge1xuXHRcdFx0dGhpcy5fcmF3UHhCb3VuZHMgPSBweEJvdW5kcztcblx0XHRcdHRoaXMuX3VwZGF0ZUJvdW5kcygpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlQm91bmRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpLFxuXHRcdCAgICBwID0gbmV3IFBvaW50KHcsIHcpO1xuXG5cdFx0aWYgKCF0aGlzLl9yYXdQeEJvdW5kcykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3B4Qm91bmRzID0gbmV3IEJvdW5kcyhbXG5cdFx0XHR0aGlzLl9yYXdQeEJvdW5kcy5taW4uc3VidHJhY3QocCksXG5cdFx0XHR0aGlzLl9yYXdQeEJvdW5kcy5tYXguYWRkKHApXG5cdFx0XSk7XG5cdH0sXG5cblx0Ly8gcmVjdXJzaXZlbHkgdHVybnMgbGF0bG5ncyBpbnRvIGEgc2V0IG9mIHJpbmdzIHdpdGggcHJvamVjdGVkIGNvb3JkaW5hdGVzXG5cdF9wcm9qZWN0TGF0bG5nczogZnVuY3Rpb24gKGxhdGxuZ3MsIHJlc3VsdCwgcHJvamVjdGVkQm91bmRzKSB7XG5cdFx0dmFyIGZsYXQgPSBsYXRsbmdzWzBdIGluc3RhbmNlb2YgTGF0TG5nLFxuXHRcdCAgICBsZW4gPSBsYXRsbmdzLmxlbmd0aCxcblx0XHQgICAgaSwgcmluZztcblxuXHRcdGlmIChmbGF0KSB7XG5cdFx0XHRyaW5nID0gW107XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0cmluZ1tpXSA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nc1tpXSk7XG5cdFx0XHRcdHByb2plY3RlZEJvdW5kcy5leHRlbmQocmluZ1tpXSk7XG5cdFx0XHR9XG5cdFx0XHRyZXN1bHQucHVzaChyaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdHRoaXMuX3Byb2plY3RMYXRsbmdzKGxhdGxuZ3NbaV0sIHJlc3VsdCwgcHJvamVjdGVkQm91bmRzKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gY2xpcCBwb2x5bGluZSBieSByZW5kZXJlciBib3VuZHMgc28gdGhhdCB3ZSBoYXZlIGxlc3MgdG8gcmVuZGVyIGZvciBwZXJmb3JtYW5jZVxuXHRfY2xpcFBvaW50czogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBib3VuZHMgPSB0aGlzLl9yZW5kZXJlci5fYm91bmRzO1xuXG5cdFx0dGhpcy5fcGFydHMgPSBbXTtcblx0XHRpZiAoIXRoaXMuX3B4Qm91bmRzIHx8ICF0aGlzLl9weEJvdW5kcy5pbnRlcnNlY3RzKGJvdW5kcykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5vcHRpb25zLm5vQ2xpcCkge1xuXHRcdFx0dGhpcy5fcGFydHMgPSB0aGlzLl9yaW5ncztcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgcGFydHMgPSB0aGlzLl9wYXJ0cyxcblx0XHQgICAgaSwgaiwgaywgbGVuLCBsZW4yLCBzZWdtZW50LCBwb2ludHM7XG5cblx0XHRmb3IgKGkgPSAwLCBrID0gMCwgbGVuID0gdGhpcy5fcmluZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHBvaW50cyA9IHRoaXMuX3JpbmdzW2ldO1xuXG5cdFx0XHRmb3IgKGogPSAwLCBsZW4yID0gcG9pbnRzLmxlbmd0aDsgaiA8IGxlbjIgLSAxOyBqKyspIHtcblx0XHRcdFx0c2VnbWVudCA9IExpbmVVdGlsLmNsaXBTZWdtZW50KHBvaW50c1tqXSwgcG9pbnRzW2ogKyAxXSwgYm91bmRzLCBqLCB0cnVlKTtcblxuXHRcdFx0XHRpZiAoIXNlZ21lbnQpIHsgY29udGludWU7IH1cblxuXHRcdFx0XHRwYXJ0c1trXSA9IHBhcnRzW2tdIHx8IFtdO1xuXHRcdFx0XHRwYXJ0c1trXS5wdXNoKHNlZ21lbnRbMF0pO1xuXG5cdFx0XHRcdC8vIGlmIHNlZ21lbnQgZ29lcyBvdXQgb2Ygc2NyZWVuLCBvciBpdCdzIHRoZSBsYXN0IG9uZSwgaXQncyB0aGUgZW5kIG9mIHRoZSBsaW5lIHBhcnRcblx0XHRcdFx0aWYgKChzZWdtZW50WzFdICE9PSBwb2ludHNbaiArIDFdKSB8fCAoaiA9PT0gbGVuMiAtIDIpKSB7XG5cdFx0XHRcdFx0cGFydHNba10ucHVzaChzZWdtZW50WzFdKTtcblx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gc2ltcGxpZnkgZWFjaCBjbGlwcGVkIHBhcnQgb2YgdGhlIHBvbHlsaW5lIGZvciBwZXJmb3JtYW5jZVxuXHRfc2ltcGxpZnlQb2ludHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcGFydHMgPSB0aGlzLl9wYXJ0cyxcblx0XHQgICAgdG9sZXJhbmNlID0gdGhpcy5vcHRpb25zLnNtb290aEZhY3RvcjtcblxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0cGFydHNbaV0gPSBMaW5lVXRpbC5zaW1wbGlmeShwYXJ0c1tpXSwgdG9sZXJhbmNlKTtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5fY2xpcFBvaW50cygpO1xuXHRcdHRoaXMuX3NpbXBsaWZ5UG9pbnRzKCk7XG5cdFx0dGhpcy5fdXBkYXRlUGF0aCgpO1xuXHR9LFxuXG5cdF91cGRhdGVQYXRoOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVuZGVyZXIuX3VwZGF0ZVBvbHkodGhpcyk7XG5cdH0sXG5cblx0Ly8gTmVlZGVkIGJ5IHRoZSBgQ2FudmFzYCByZW5kZXJlciBmb3IgaW50ZXJhY3Rpdml0eVxuXHRfY29udGFpbnNQb2ludDogZnVuY3Rpb24gKHAsIGNsb3NlZCkge1xuXHRcdHZhciBpLCBqLCBrLCBsZW4sIGxlbjIsIHBhcnQsXG5cdFx0ICAgIHcgPSB0aGlzLl9jbGlja1RvbGVyYW5jZSgpO1xuXG5cdFx0aWYgKCF0aGlzLl9weEJvdW5kcyB8fCAhdGhpcy5fcHhCb3VuZHMuY29udGFpbnMocCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0XHQvLyBoaXQgZGV0ZWN0aW9uIGZvciBwb2x5bGluZXNcblx0XHRmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLl9wYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0cGFydCA9IHRoaXMuX3BhcnRzW2ldO1xuXG5cdFx0XHRmb3IgKGogPSAwLCBsZW4yID0gcGFydC5sZW5ndGgsIGsgPSBsZW4yIC0gMTsgaiA8IGxlbjI7IGsgPSBqKyspIHtcblx0XHRcdFx0aWYgKCFjbG9zZWQgJiYgKGogPT09IDApKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdFx0aWYgKExpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UocCwgcGFydFtrXSwgcGFydFtqXSkgPD0gdykge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwucG9seWxpbmUobGF0bG5nczogTGF0TG5nW10sIG9wdGlvbnM/OiBQb2x5bGluZSBvcHRpb25zKVxuLy8gSW5zdGFudGlhdGVzIGEgcG9seWxpbmUgb2JqZWN0IGdpdmVuIGFuIGFycmF5IG9mIGdlb2dyYXBoaWNhbCBwb2ludHMgYW5kXG4vLyBvcHRpb25hbGx5IGFuIG9wdGlvbnMgb2JqZWN0LiBZb3UgY2FuIGNyZWF0ZSBhIGBQb2x5bGluZWAgb2JqZWN0IHdpdGhcbi8vIG11bHRpcGxlIHNlcGFyYXRlIGxpbmVzIChgTXVsdGlQb2x5bGluZWApIGJ5IHBhc3NpbmcgYW4gYXJyYXkgb2YgYXJyYXlzXG4vLyBvZiBnZW9ncmFwaGljIHBvaW50cy5cbmV4cG9ydCBmdW5jdGlvbiBwb2x5bGluZShsYXRsbmdzLCBvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgUG9seWxpbmUobGF0bG5ncywgb3B0aW9ucyk7XG59XG5cbi8vIFJldHJvY29tcGF0LiBBbGxvdyBwbHVnaW5zIHRvIHN1cHBvcnQgTGVhZmxldCB2ZXJzaW9ucyBiZWZvcmUgYW5kIGFmdGVyIDEuMS5cblBvbHlsaW5lLl9mbGF0ID0gTGluZVV0aWwuX2ZsYXQ7XG4iLCAiaW1wb3J0IHtQb2x5bGluZX0gZnJvbSAnLi9Qb2x5bGluZSc7XG5pbXBvcnQge0xhdExuZ30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZyc7XG5pbXBvcnQgKiBhcyBMaW5lVXRpbCBmcm9tICcuLi8uLi9nZW9tZXRyeS9MaW5lVXRpbCc7XG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcbmltcG9ydCAqIGFzIFBvbHlVdGlsIGZyb20gJy4uLy4uL2dlb21ldHJ5L1BvbHlVdGlsJztcblxuLypcbiAqIEBjbGFzcyBQb2x5Z29uXG4gKiBAYWthIEwuUG9seWdvblxuICogQGluaGVyaXRzIFBvbHlsaW5lXG4gKlxuICogQSBjbGFzcyBmb3IgZHJhd2luZyBwb2x5Z29uIG92ZXJsYXlzIG9uIGEgbWFwLiBFeHRlbmRzIGBQb2x5bGluZWAuXG4gKlxuICogTm90ZSB0aGF0IHBvaW50cyB5b3UgcGFzcyB3aGVuIGNyZWF0aW5nIGEgcG9seWdvbiBzaG91bGRuJ3QgaGF2ZSBhbiBhZGRpdGlvbmFsIGxhc3QgcG9pbnQgZXF1YWwgdG8gdGhlIGZpcnN0IG9uZSDigJQgaXQncyBiZXR0ZXIgdG8gZmlsdGVyIG91dCBzdWNoIHBvaW50cy5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogLy8gY3JlYXRlIGEgcmVkIHBvbHlnb24gZnJvbSBhbiBhcnJheSBvZiBMYXRMbmcgcG9pbnRzXG4gKiB2YXIgbGF0bG5ncyA9IFtbMzcsIC0xMDkuMDVdLFs0MSwgLTEwOS4wM10sWzQxLCAtMTAyLjA1XSxbMzcsIC0xMDIuMDRdXTtcbiAqXG4gKiB2YXIgcG9seWdvbiA9IEwucG9seWdvbihsYXRsbmdzLCB7Y29sb3I6ICdyZWQnfSkuYWRkVG8obWFwKTtcbiAqXG4gKiAvLyB6b29tIHRoZSBtYXAgdG8gdGhlIHBvbHlnb25cbiAqIG1hcC5maXRCb3VuZHMocG9seWdvbi5nZXRCb3VuZHMoKSk7XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gcGFzcyBhbiBhcnJheSBvZiBhcnJheXMgb2YgbGF0bG5ncywgd2l0aCB0aGUgZmlyc3QgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBvdXRlciBzaGFwZSBhbmQgdGhlIG90aGVyIGFycmF5cyByZXByZXNlbnRpbmcgaG9sZXMgaW4gdGhlIG91dGVyIHNoYXBlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbGF0bG5ncyA9IFtcbiAqICAgW1szNywgLTEwOS4wNV0sWzQxLCAtMTA5LjAzXSxbNDEsIC0xMDIuMDVdLFszNywgLTEwMi4wNF1dLCAvLyBvdXRlciByaW5nXG4gKiAgIFtbMzcuMjksIC0xMDguNThdLFs0MC43MSwgLTEwOC41OF0sWzQwLjcxLCAtMTAyLjUwXSxbMzcuMjksIC0xMDIuNTBdXSAvLyBob2xlXG4gKiBdO1xuICogYGBgXG4gKlxuICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHBhc3MgYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSB0byByZXByZXNlbnQgYSBNdWx0aVBvbHlnb24gc2hhcGUuXG4gKlxuICogYGBganNcbiAqIHZhciBsYXRsbmdzID0gW1xuICogICBbIC8vIGZpcnN0IHBvbHlnb25cbiAqICAgICBbWzM3LCAtMTA5LjA1XSxbNDEsIC0xMDkuMDNdLFs0MSwgLTEwMi4wNV0sWzM3LCAtMTAyLjA0XV0sIC8vIG91dGVyIHJpbmdcbiAqICAgICBbWzM3LjI5LCAtMTA4LjU4XSxbNDAuNzEsIC0xMDguNThdLFs0MC43MSwgLTEwMi41MF0sWzM3LjI5LCAtMTAyLjUwXV0gLy8gaG9sZVxuICogICBdLFxuICogICBbIC8vIHNlY29uZCBwb2x5Z29uXG4gKiAgICAgW1s0MSwgLTExMS4wM10sWzQ1LCAtMTExLjA0XSxbNDUsIC0xMDQuMDVdLFs0MSwgLTEwNC4wNV1dXG4gKiAgIF1cbiAqIF07XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgdmFyIFBvbHlnb24gPSBQb2x5bGluZS5leHRlbmQoe1xuXG5cdG9wdGlvbnM6IHtcblx0XHRmaWxsOiB0cnVlXG5cdH0sXG5cblx0aXNFbXB0eTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAhdGhpcy5fbGF0bG5ncy5sZW5ndGggfHwgIXRoaXMuX2xhdGxuZ3NbMF0ubGVuZ3RoO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgZ2V0Q2VudGVyKCk6IExhdExuZ1xuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgKFtjZW50cm9pZF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DZW50cm9pZCkpIG9mIHRoZSBQb2x5Z29uLlxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyB0aHJvd3MgZXJyb3Igd2hlbiBub3QgeWV0IGFkZGVkIHRvIG1hcCBhcyB0aGlzIGNlbnRlciBjYWxjdWxhdGlvbiByZXF1aXJlcyBwcm9qZWN0ZWQgY29vcmRpbmF0ZXNcblx0XHRpZiAoIXRoaXMuX21hcCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNdXN0IGFkZCBsYXllciB0byBtYXAgYmVmb3JlIHVzaW5nIGdldENlbnRlcigpJyk7XG5cdFx0fVxuXHRcdHJldHVybiBQb2x5VXRpbC5wb2x5Z29uQ2VudGVyKHRoaXMuX2RlZmF1bHRTaGFwZSgpLCB0aGlzLl9tYXAub3B0aW9ucy5jcnMpO1xuXHR9LFxuXG5cdF9jb252ZXJ0TGF0TG5nczogZnVuY3Rpb24gKGxhdGxuZ3MpIHtcblx0XHR2YXIgcmVzdWx0ID0gUG9seWxpbmUucHJvdG90eXBlLl9jb252ZXJ0TGF0TG5ncy5jYWxsKHRoaXMsIGxhdGxuZ3MpLFxuXHRcdCAgICBsZW4gPSByZXN1bHQubGVuZ3RoO1xuXG5cdFx0Ly8gcmVtb3ZlIGxhc3QgcG9pbnQgaWYgaXQgZXF1YWxzIGZpcnN0IG9uZVxuXHRcdGlmIChsZW4gPj0gMiAmJiByZXN1bHRbMF0gaW5zdGFuY2VvZiBMYXRMbmcgJiYgcmVzdWx0WzBdLmVxdWFscyhyZXN1bHRbbGVuIC0gMV0pKSB7XG5cdFx0XHRyZXN1bHQucG9wKCk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0X3NldExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7XG5cdFx0UG9seWxpbmUucHJvdG90eXBlLl9zZXRMYXRMbmdzLmNhbGwodGhpcywgbGF0bG5ncyk7XG5cdFx0aWYgKExpbmVVdGlsLmlzRmxhdCh0aGlzLl9sYXRsbmdzKSkge1xuXHRcdFx0dGhpcy5fbGF0bG5ncyA9IFt0aGlzLl9sYXRsbmdzXTtcblx0XHR9XG5cdH0sXG5cblx0X2RlZmF1bHRTaGFwZTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBMaW5lVXRpbC5pc0ZsYXQodGhpcy5fbGF0bG5nc1swXSkgPyB0aGlzLl9sYXRsbmdzWzBdIDogdGhpcy5fbGF0bG5nc1swXVswXTtcblx0fSxcblxuXHRfY2xpcFBvaW50czogZnVuY3Rpb24gKCkge1xuXHRcdC8vIHBvbHlnb25zIG5lZWQgYSBkaWZmZXJlbnQgY2xpcHBpbmcgYWxnb3JpdGhtIHNvIHdlIHJlZGVmaW5lIHRoYXRcblxuXHRcdHZhciBib3VuZHMgPSB0aGlzLl9yZW5kZXJlci5fYm91bmRzLFxuXHRcdCAgICB3ID0gdGhpcy5vcHRpb25zLndlaWdodCxcblx0XHQgICAgcCA9IG5ldyBQb2ludCh3LCB3KTtcblxuXHRcdC8vIGluY3JlYXNlIGNsaXAgcGFkZGluZyBieSBzdHJva2Ugd2lkdGggdG8gYXZvaWQgc3Ryb2tlIG9uIGNsaXAgZWRnZXNcblx0XHRib3VuZHMgPSBuZXcgQm91bmRzKGJvdW5kcy5taW4uc3VidHJhY3QocCksIGJvdW5kcy5tYXguYWRkKHApKTtcblxuXHRcdHRoaXMuX3BhcnRzID0gW107XG5cdFx0aWYgKCF0aGlzLl9weEJvdW5kcyB8fCAhdGhpcy5fcHhCb3VuZHMuaW50ZXJzZWN0cyhib3VuZHMpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5ub0NsaXApIHtcblx0XHRcdHRoaXMuX3BhcnRzID0gdGhpcy5fcmluZ3M7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3JpbmdzLmxlbmd0aCwgY2xpcHBlZDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRjbGlwcGVkID0gUG9seVV0aWwuY2xpcFBvbHlnb24odGhpcy5fcmluZ3NbaV0sIGJvdW5kcywgdHJ1ZSk7XG5cdFx0XHRpZiAoY2xpcHBlZC5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMucHVzaChjbGlwcGVkKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZVBhdGg6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZW5kZXJlci5fdXBkYXRlUG9seSh0aGlzLCB0cnVlKTtcblx0fSxcblxuXHQvLyBOZWVkZWQgYnkgdGhlIGBDYW52YXNgIHJlbmRlcmVyIGZvciBpbnRlcmFjdGl2aXR5XG5cdF9jb250YWluc1BvaW50OiBmdW5jdGlvbiAocCkge1xuXHRcdHZhciBpbnNpZGUgPSBmYWxzZSxcblx0XHQgICAgcGFydCwgcDEsIHAyLCBpLCBqLCBrLCBsZW4sIGxlbjI7XG5cblx0XHRpZiAoIXRoaXMuX3B4Qm91bmRzIHx8ICF0aGlzLl9weEJvdW5kcy5jb250YWlucyhwKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRcdC8vIHJheSBjYXN0aW5nIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGlmIHBvaW50IGlzIGluIHBvbHlnb25cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLl9wYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0cGFydCA9IHRoaXMuX3BhcnRzW2ldO1xuXG5cdFx0XHRmb3IgKGogPSAwLCBsZW4yID0gcGFydC5sZW5ndGgsIGsgPSBsZW4yIC0gMTsgaiA8IGxlbjI7IGsgPSBqKyspIHtcblx0XHRcdFx0cDEgPSBwYXJ0W2pdO1xuXHRcdFx0XHRwMiA9IHBhcnRba107XG5cblx0XHRcdFx0aWYgKCgocDEueSA+IHAueSkgIT09IChwMi55ID4gcC55KSkgJiYgKHAueCA8IChwMi54IC0gcDEueCkgKiAocC55IC0gcDEueSkgLyAocDIueSAtIHAxLnkpICsgcDEueCkpIHtcblx0XHRcdFx0XHRpbnNpZGUgPSAhaW5zaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gYWxzbyBjaGVjayBpZiBpdCdzIG9uIHBvbHlnb24gc3Ryb2tlXG5cdFx0cmV0dXJuIGluc2lkZSB8fCBQb2x5bGluZS5wcm90b3R5cGUuX2NvbnRhaW5zUG9pbnQuY2FsbCh0aGlzLCBwLCB0cnVlKTtcblx0fVxuXG59KTtcblxuXG4vLyBAZmFjdG9yeSBMLnBvbHlnb24obGF0bG5nczogTGF0TG5nW10sIG9wdGlvbnM/OiBQb2x5bGluZSBvcHRpb25zKVxuZXhwb3J0IGZ1bmN0aW9uIHBvbHlnb24obGF0bG5ncywgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IFBvbHlnb24obGF0bG5ncywgb3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtMYXllckdyb3VwfSBmcm9tICcuL0xheWVyR3JvdXAnO1xyXG5pbXBvcnQge0ZlYXR1cmVHcm91cH0gZnJvbSAnLi9GZWF0dXJlR3JvdXAnO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7TWFya2VyfSBmcm9tICcuL21hcmtlci9NYXJrZXInO1xyXG5pbXBvcnQge0NpcmNsZX0gZnJvbSAnLi92ZWN0b3IvQ2lyY2xlJztcclxuaW1wb3J0IHtDaXJjbGVNYXJrZXJ9IGZyb20gJy4vdmVjdG9yL0NpcmNsZU1hcmtlcic7XHJcbmltcG9ydCB7UG9seWxpbmV9IGZyb20gJy4vdmVjdG9yL1BvbHlsaW5lJztcclxuaW1wb3J0IHtQb2x5Z29ufSBmcm9tICcuL3ZlY3Rvci9Qb2x5Z29uJztcclxuaW1wb3J0IHtMYXRMbmd9IGZyb20gJy4uL2dlby9MYXRMbmcnO1xyXG5pbXBvcnQgKiBhcyBMaW5lVXRpbCBmcm9tICcuLi9nZW9tZXRyeS9MaW5lVXRpbCc7XHJcbmltcG9ydCB7dG9MYXRMbmd9IGZyb20gJy4uL2dlby9MYXRMbmcnO1xyXG5cclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBHZW9KU09OXHJcbiAqIEBha2EgTC5HZW9KU09OXHJcbiAqIEBpbmhlcml0cyBGZWF0dXJlR3JvdXBcclxuICpcclxuICogUmVwcmVzZW50cyBhIEdlb0pTT04gb2JqZWN0IG9yIGFuIGFycmF5IG9mIEdlb0pTT04gb2JqZWN0cy4gQWxsb3dzIHlvdSB0byBwYXJzZVxyXG4gKiBHZW9KU09OIGRhdGEgYW5kIGRpc3BsYXkgaXQgb24gdGhlIG1hcC4gRXh0ZW5kcyBgRmVhdHVyZUdyb3VwYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogTC5nZW9KU09OKGRhdGEsIHtcclxuICogXHRzdHlsZTogZnVuY3Rpb24gKGZlYXR1cmUpIHtcclxuICogXHRcdHJldHVybiB7Y29sb3I6IGZlYXR1cmUucHJvcGVydGllcy5jb2xvcn07XHJcbiAqIFx0fVxyXG4gKiB9KS5iaW5kUG9wdXAoZnVuY3Rpb24gKGxheWVyKSB7XHJcbiAqIFx0cmV0dXJuIGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5kZXNjcmlwdGlvbjtcclxuICogfSkuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBHZW9KU09OID0gRmVhdHVyZUdyb3VwLmV4dGVuZCh7XHJcblxyXG5cdC8qIEBzZWN0aW9uXHJcblx0ICogQGFrYSBHZW9KU09OIG9wdGlvbnNcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gcG9pbnRUb0xheWVyOiBGdW5jdGlvbiA9ICpcclxuXHQgKiBBIGBGdW5jdGlvbmAgZGVmaW5pbmcgaG93IEdlb0pTT04gcG9pbnRzIHNwYXduIExlYWZsZXQgbGF5ZXJzLiBJdCBpcyBpbnRlcm5hbGx5XHJcblx0ICogY2FsbGVkIHdoZW4gZGF0YSBpcyBhZGRlZCwgcGFzc2luZyB0aGUgR2VvSlNPTiBwb2ludCBmZWF0dXJlIGFuZCBpdHMgYExhdExuZ2AuXHJcblx0ICogVGhlIGRlZmF1bHQgaXMgdG8gc3Bhd24gYSBkZWZhdWx0IGBNYXJrZXJgOlxyXG5cdCAqIGBgYGpzXHJcblx0ICogZnVuY3Rpb24oZ2VvSnNvblBvaW50LCBsYXRsbmcpIHtcclxuXHQgKiBcdHJldHVybiBMLm1hcmtlcihsYXRsbmcpO1xyXG5cdCAqIH1cclxuXHQgKiBgYGBcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gc3R5bGU6IEZ1bmN0aW9uID0gKlxyXG5cdCAqIEEgYEZ1bmN0aW9uYCBkZWZpbmluZyB0aGUgYFBhdGggb3B0aW9uc2AgZm9yIHN0eWxpbmcgR2VvSlNPTiBsaW5lcyBhbmQgcG9seWdvbnMsXHJcblx0ICogY2FsbGVkIGludGVybmFsbHkgd2hlbiBkYXRhIGlzIGFkZGVkLlxyXG5cdCAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRvIG5vdCBvdmVycmlkZSBhbnkgZGVmYXVsdHM6XHJcblx0ICogYGBganNcclxuXHQgKiBmdW5jdGlvbiAoZ2VvSnNvbkZlYXR1cmUpIHtcclxuXHQgKiBcdHJldHVybiB7fVxyXG5cdCAqIH1cclxuXHQgKiBgYGBcclxuXHQgKlxyXG5cdCAqIEBvcHRpb24gb25FYWNoRmVhdHVyZTogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBmb3IgZWFjaCBjcmVhdGVkIGBGZWF0dXJlYCwgYWZ0ZXIgaXQgaGFzXHJcblx0ICogYmVlbiBjcmVhdGVkIGFuZCBzdHlsZWQuIFVzZWZ1bCBmb3IgYXR0YWNoaW5nIGV2ZW50cyBhbmQgcG9wdXBzIHRvIGZlYXR1cmVzLlxyXG5cdCAqIFRoZSBkZWZhdWx0IGlzIHRvIGRvIG5vdGhpbmcgd2l0aCB0aGUgbmV3bHkgY3JlYXRlZCBsYXllcnM6XHJcblx0ICogYGBganNcclxuXHQgKiBmdW5jdGlvbiAoZmVhdHVyZSwgbGF5ZXIpIHt9XHJcblx0ICogYGBgXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIGZpbHRlcjogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRlY2lkZSB3aGV0aGVyIHRvIGluY2x1ZGUgYSBmZWF0dXJlIG9yIG5vdC5cclxuXHQgKiBUaGUgZGVmYXVsdCBpcyB0byBpbmNsdWRlIGFsbCBmZWF0dXJlczpcclxuXHQgKiBgYGBqc1xyXG5cdCAqIGZ1bmN0aW9uIChnZW9Kc29uRmVhdHVyZSkge1xyXG5cdCAqIFx0cmV0dXJuIHRydWU7XHJcblx0ICogfVxyXG5cdCAqIGBgYFxyXG5cdCAqIE5vdGU6IGR5bmFtaWNhbGx5IGNoYW5naW5nIHRoZSBgZmlsdGVyYCBvcHRpb24gd2lsbCBoYXZlIGVmZmVjdCBvbmx5IG9uIG5ld2x5XHJcblx0ICogYWRkZWQgZGF0YS4gSXQgd2lsbCBfbm90XyByZS1ldmFsdWF0ZSBhbHJlYWR5IGluY2x1ZGVkIGZlYXR1cmVzLlxyXG5cdCAqXHJcblx0ICogQG9wdGlvbiBjb29yZHNUb0xhdExuZzogRnVuY3Rpb24gPSAqXHJcblx0ICogQSBgRnVuY3Rpb25gIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBjb252ZXJ0aW5nIEdlb0pTT04gY29vcmRpbmF0ZXMgdG8gYExhdExuZ2BzLlxyXG5cdCAqIFRoZSBkZWZhdWx0IGlzIHRoZSBgY29vcmRzVG9MYXRMbmdgIHN0YXRpYyBtZXRob2QuXHJcblx0ICpcclxuXHQgKiBAb3B0aW9uIG1hcmtlcnNJbmhlcml0T3B0aW9uczogQm9vbGVhbiA9IGZhbHNlXHJcblx0ICogV2hldGhlciBkZWZhdWx0IE1hcmtlcnMgZm9yIFwiUG9pbnRcIiB0eXBlIEZlYXR1cmVzIGluaGVyaXQgZnJvbSBncm91cCBvcHRpb25zLlxyXG5cdCAqL1xyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoZ2VvanNvbiwgb3B0aW9ucykge1xyXG5cdFx0VXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuX2xheWVycyA9IHt9O1xyXG5cclxuXHRcdGlmIChnZW9qc29uKSB7XHJcblx0XHRcdHRoaXMuYWRkRGF0YShnZW9qc29uKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGFkZERhdGEoIDxHZW9KU09OPiBkYXRhICk6IHRoaXNcclxuXHQvLyBBZGRzIGEgR2VvSlNPTiBvYmplY3QgdG8gdGhlIGxheWVyLlxyXG5cdGFkZERhdGE6IGZ1bmN0aW9uIChnZW9qc29uKSB7XHJcblx0XHR2YXIgZmVhdHVyZXMgPSBVdGlsLmlzQXJyYXkoZ2VvanNvbikgPyBnZW9qc29uIDogZ2VvanNvbi5mZWF0dXJlcyxcclxuXHRcdCAgICBpLCBsZW4sIGZlYXR1cmU7XHJcblxyXG5cdFx0aWYgKGZlYXR1cmVzKSB7XHJcblx0XHRcdGZvciAoaSA9IDAsIGxlbiA9IGZlYXR1cmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0Ly8gb25seSBhZGQgdGhpcyBpZiBnZW9tZXRyeSBvciBnZW9tZXRyaWVzIGFyZSBzZXQgYW5kIG5vdCBudWxsXHJcblx0XHRcdFx0ZmVhdHVyZSA9IGZlYXR1cmVzW2ldO1xyXG5cdFx0XHRcdGlmIChmZWF0dXJlLmdlb21ldHJpZXMgfHwgZmVhdHVyZS5nZW9tZXRyeSB8fCBmZWF0dXJlLmZlYXR1cmVzIHx8IGZlYXR1cmUuY29vcmRpbmF0ZXMpIHtcclxuXHRcdFx0XHRcdHRoaXMuYWRkRGF0YShmZWF0dXJlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMuZmlsdGVyICYmICFvcHRpb25zLmZpbHRlcihnZW9qc29uKSkgeyByZXR1cm4gdGhpczsgfVxyXG5cclxuXHRcdHZhciBsYXllciA9IGdlb21ldHJ5VG9MYXllcihnZW9qc29uLCBvcHRpb25zKTtcclxuXHRcdGlmICghbGF5ZXIpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0XHRsYXllci5mZWF0dXJlID0gYXNGZWF0dXJlKGdlb2pzb24pO1xyXG5cclxuXHRcdGxheWVyLmRlZmF1bHRPcHRpb25zID0gbGF5ZXIub3B0aW9ucztcclxuXHRcdHRoaXMucmVzZXRTdHlsZShsYXllcik7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMub25FYWNoRmVhdHVyZSkge1xyXG5cdFx0XHRvcHRpb25zLm9uRWFjaEZlYXR1cmUoZ2VvanNvbiwgbGF5ZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmFkZExheWVyKGxheWVyKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHJlc2V0U3R5bGUoIDxQYXRoPiBsYXllcj8gKTogdGhpc1xyXG5cdC8vIFJlc2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIGxheWVyJ3Mgc3R5bGUgdG8gdGhlIG9yaWdpbmFsIEdlb0pTT04gc3R5bGUsIHVzZWZ1bCBmb3IgcmVzZXR0aW5nIHN0eWxlIGFmdGVyIGhvdmVyIGV2ZW50cy5cclxuXHQvLyBJZiBgbGF5ZXJgIGlzIG9taXR0ZWQsIHRoZSBzdHlsZSBvZiBhbGwgZmVhdHVyZXMgaW4gdGhlIGN1cnJlbnQgbGF5ZXIgaXMgcmVzZXQuXHJcblx0cmVzZXRTdHlsZTogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoTGF5ZXIodGhpcy5yZXNldFN0eWxlLCB0aGlzKTtcclxuXHRcdH1cclxuXHRcdC8vIHJlc2V0IGFueSBjdXN0b20gc3R5bGVzXHJcblx0XHRsYXllci5vcHRpb25zID0gVXRpbC5leHRlbmQoe30sIGxheWVyLmRlZmF1bHRPcHRpb25zKTtcclxuXHRcdHRoaXMuX3NldExheWVyU3R5bGUobGF5ZXIsIHRoaXMub3B0aW9ucy5zdHlsZSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFN0eWxlKCA8RnVuY3Rpb24+IHN0eWxlICk6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHN0eWxlcyBvZiBHZW9KU09OIHZlY3RvciBsYXllcnMgd2l0aCB0aGUgZ2l2ZW4gc3R5bGUgZnVuY3Rpb24uXHJcblx0c2V0U3R5bGU6IGZ1bmN0aW9uIChzdHlsZSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0XHR0aGlzLl9zZXRMYXllclN0eWxlKGxheWVyLCBzdHlsZSk7XHJcblx0XHR9LCB0aGlzKTtcclxuXHR9LFxyXG5cclxuXHRfc2V0TGF5ZXJTdHlsZTogZnVuY3Rpb24gKGxheWVyLCBzdHlsZSkge1xyXG5cdFx0aWYgKGxheWVyLnNldFN0eWxlKSB7XHJcblx0XHRcdGlmICh0eXBlb2Ygc3R5bGUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRzdHlsZSA9IHN0eWxlKGxheWVyLmZlYXR1cmUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxheWVyLnNldFN0eWxlKHN0eWxlKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQHNlY3Rpb25cclxuLy8gVGhlcmUgYXJlIHNldmVyYWwgc3RhdGljIGZ1bmN0aW9ucyB3aGljaCBjYW4gYmUgY2FsbGVkIHdpdGhvdXQgaW5zdGFudGlhdGluZyBMLkdlb0pTT046XHJcblxyXG4vLyBAZnVuY3Rpb24gZ2VvbWV0cnlUb0xheWVyKGZlYXR1cmVEYXRhOiBPYmplY3QsIG9wdGlvbnM/OiBHZW9KU09OIG9wdGlvbnMpOiBMYXllclxyXG4vLyBDcmVhdGVzIGEgYExheWVyYCBmcm9tIGEgZ2l2ZW4gR2VvSlNPTiBmZWF0dXJlLiBDYW4gdXNlIGEgY3VzdG9tXHJcbi8vIFtgcG9pbnRUb0xheWVyYF0oI2dlb2pzb24tcG9pbnR0b2xheWVyKSBhbmQvb3IgW2Bjb29yZHNUb0xhdExuZ2BdKCNnZW9qc29uLWNvb3Jkc3RvbGF0bG5nKVxyXG4vLyBmdW5jdGlvbnMgaWYgcHJvdmlkZWQgYXMgb3B0aW9ucy5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlb21ldHJ5VG9MYXllcihnZW9qc29uLCBvcHRpb25zKSB7XHJcblxyXG5cdHZhciBnZW9tZXRyeSA9IGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnID8gZ2VvanNvbi5nZW9tZXRyeSA6IGdlb2pzb24sXHJcblx0ICAgIGNvb3JkcyA9IGdlb21ldHJ5ID8gZ2VvbWV0cnkuY29vcmRpbmF0ZXMgOiBudWxsLFxyXG5cdCAgICBsYXllcnMgPSBbXSxcclxuXHQgICAgcG9pbnRUb0xheWVyID0gb3B0aW9ucyAmJiBvcHRpb25zLnBvaW50VG9MYXllcixcclxuXHQgICAgX2Nvb3Jkc1RvTGF0TG5nID0gb3B0aW9ucyAmJiBvcHRpb25zLmNvb3Jkc1RvTGF0TG5nIHx8IGNvb3Jkc1RvTGF0TG5nLFxyXG5cdCAgICBsYXRsbmcsIGxhdGxuZ3MsIGksIGxlbjtcclxuXHJcblx0aWYgKCFjb29yZHMgJiYgIWdlb21ldHJ5KSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xyXG5cdGNhc2UgJ1BvaW50JzpcclxuXHRcdGxhdGxuZyA9IF9jb29yZHNUb0xhdExuZyhjb29yZHMpO1xyXG5cdFx0cmV0dXJuIF9wb2ludFRvTGF5ZXIocG9pbnRUb0xheWVyLCBnZW9qc29uLCBsYXRsbmcsIG9wdGlvbnMpO1xyXG5cclxuXHRjYXNlICdNdWx0aVBvaW50JzpcclxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvb3Jkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRsYXRsbmcgPSBfY29vcmRzVG9MYXRMbmcoY29vcmRzW2ldKTtcclxuXHRcdFx0bGF5ZXJzLnB1c2goX3BvaW50VG9MYXllcihwb2ludFRvTGF5ZXIsIGdlb2pzb24sIGxhdGxuZywgb3B0aW9ucykpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBGZWF0dXJlR3JvdXAobGF5ZXJzKTtcclxuXHJcblx0Y2FzZSAnTGluZVN0cmluZyc6XHJcblx0Y2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcclxuXHRcdGxhdGxuZ3MgPSBjb29yZHNUb0xhdExuZ3MoY29vcmRzLCBnZW9tZXRyeS50eXBlID09PSAnTGluZVN0cmluZycgPyAwIDogMSwgX2Nvb3Jkc1RvTGF0TG5nKTtcclxuXHRcdHJldHVybiBuZXcgUG9seWxpbmUobGF0bG5ncywgb3B0aW9ucyk7XHJcblxyXG5cdGNhc2UgJ1BvbHlnb24nOlxyXG5cdGNhc2UgJ011bHRpUG9seWdvbic6XHJcblx0XHRsYXRsbmdzID0gY29vcmRzVG9MYXRMbmdzKGNvb3JkcywgZ2VvbWV0cnkudHlwZSA9PT0gJ1BvbHlnb24nID8gMSA6IDIsIF9jb29yZHNUb0xhdExuZyk7XHJcblx0XHRyZXR1cm4gbmV3IFBvbHlnb24obGF0bG5ncywgb3B0aW9ucyk7XHJcblxyXG5cdGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6XHJcblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBnZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdHZhciBnZW9MYXllciA9IGdlb21ldHJ5VG9MYXllcih7XHJcblx0XHRcdFx0Z2VvbWV0cnk6IGdlb21ldHJ5Lmdlb21ldHJpZXNbaV0sXHJcblx0XHRcdFx0dHlwZTogJ0ZlYXR1cmUnLFxyXG5cdFx0XHRcdHByb3BlcnRpZXM6IGdlb2pzb24ucHJvcGVydGllc1xyXG5cdFx0XHR9LCBvcHRpb25zKTtcclxuXHJcblx0XHRcdGlmIChnZW9MYXllcikge1xyXG5cdFx0XHRcdGxheWVycy5wdXNoKGdlb0xheWVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBGZWF0dXJlR3JvdXAobGF5ZXJzKTtcclxuXHJcblx0Y2FzZSAnRmVhdHVyZUNvbGxlY3Rpb24nOlxyXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gZ2VvbWV0cnkuZmVhdHVyZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0dmFyIGZlYXR1cmVMYXllciA9IGdlb21ldHJ5VG9MYXllcihnZW9tZXRyeS5mZWF0dXJlc1tpXSwgb3B0aW9ucyk7XHJcblxyXG5cdFx0XHRpZiAoZmVhdHVyZUxheWVyKSB7XHJcblx0XHRcdFx0bGF5ZXJzLnB1c2goZmVhdHVyZUxheWVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBGZWF0dXJlR3JvdXAobGF5ZXJzKTtcclxuXHJcblx0ZGVmYXVsdDpcclxuXHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBHZW9KU09OIG9iamVjdC4nKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9wb2ludFRvTGF5ZXIocG9pbnRUb0xheWVyRm4sIGdlb2pzb24sIGxhdGxuZywgb3B0aW9ucykge1xyXG5cdHJldHVybiBwb2ludFRvTGF5ZXJGbiA/XHJcblx0XHRwb2ludFRvTGF5ZXJGbihnZW9qc29uLCBsYXRsbmcpIDpcclxuXHRcdG5ldyBNYXJrZXIobGF0bG5nLCBvcHRpb25zICYmIG9wdGlvbnMubWFya2Vyc0luaGVyaXRPcHRpb25zICYmIG9wdGlvbnMpO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gY29vcmRzVG9MYXRMbmcoY29vcmRzOiBBcnJheSk6IExhdExuZ1xyXG4vLyBDcmVhdGVzIGEgYExhdExuZ2Agb2JqZWN0IGZyb20gYW4gYXJyYXkgb2YgMiBudW1iZXJzIChsb25naXR1ZGUsIGxhdGl0dWRlKVxyXG4vLyBvciAzIG51bWJlcnMgKGxvbmdpdHVkZSwgbGF0aXR1ZGUsIGFsdGl0dWRlKSB1c2VkIGluIEdlb0pTT04gZm9yIHBvaW50cy5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvb3Jkc1RvTGF0TG5nKGNvb3Jkcykge1xyXG5cdHJldHVybiBuZXcgTGF0TG5nKGNvb3Jkc1sxXSwgY29vcmRzWzBdLCBjb29yZHNbMl0pO1xyXG59XHJcblxyXG4vLyBAZnVuY3Rpb24gY29vcmRzVG9MYXRMbmdzKGNvb3JkczogQXJyYXksIGxldmVsc0RlZXA/OiBOdW1iZXIsIGNvb3Jkc1RvTGF0TG5nPzogRnVuY3Rpb24pOiBBcnJheVxyXG4vLyBDcmVhdGVzIGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheSBvZiBgTGF0TG5nYHMgZnJvbSBhIEdlb0pTT04gY29vcmRpbmF0ZXMgYXJyYXkuXHJcbi8vIGBsZXZlbHNEZWVwYCBzcGVjaWZpZXMgdGhlIG5lc3RpbmcgbGV2ZWwgKDAgaXMgZm9yIGFuIGFycmF5IG9mIHBvaW50cywgMSBmb3IgYW4gYXJyYXkgb2YgYXJyYXlzIG9mIHBvaW50cywgZXRjLiwgMCBieSBkZWZhdWx0KS5cclxuLy8gQ2FuIHVzZSBhIGN1c3RvbSBbYGNvb3Jkc1RvTGF0TG5nYF0oI2dlb2pzb24tY29vcmRzdG9sYXRsbmcpIGZ1bmN0aW9uLlxyXG5leHBvcnQgZnVuY3Rpb24gY29vcmRzVG9MYXRMbmdzKGNvb3JkcywgbGV2ZWxzRGVlcCwgX2Nvb3Jkc1RvTGF0TG5nKSB7XHJcblx0dmFyIGxhdGxuZ3MgPSBbXTtcclxuXHJcblx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvb3Jkcy5sZW5ndGgsIGxhdGxuZzsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRsYXRsbmcgPSBsZXZlbHNEZWVwID9cclxuXHRcdFx0Y29vcmRzVG9MYXRMbmdzKGNvb3Jkc1tpXSwgbGV2ZWxzRGVlcCAtIDEsIF9jb29yZHNUb0xhdExuZykgOlxyXG5cdFx0XHQoX2Nvb3Jkc1RvTGF0TG5nIHx8IGNvb3Jkc1RvTGF0TG5nKShjb29yZHNbaV0pO1xyXG5cclxuXHRcdGxhdGxuZ3MucHVzaChsYXRsbmcpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGxhdGxuZ3M7XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBsYXRMbmdUb0Nvb3JkcyhsYXRsbmc6IExhdExuZywgcHJlY2lzaW9uPzogTnVtYmVyfGZhbHNlKTogQXJyYXlcclxuLy8gUmV2ZXJzZSBvZiBbYGNvb3Jkc1RvTGF0TG5nYF0oI2dlb2pzb24tY29vcmRzdG9sYXRsbmcpXHJcbi8vIENvb3JkaW5hdGVzIHZhbHVlcyBhcmUgcm91bmRlZCB3aXRoIFtgZm9ybWF0TnVtYF0oI3V0aWwtZm9ybWF0bnVtKSBmdW5jdGlvbi5cclxuZXhwb3J0IGZ1bmN0aW9uIGxhdExuZ1RvQ29vcmRzKGxhdGxuZywgcHJlY2lzaW9uKSB7XHJcblx0bGF0bG5nID0gdG9MYXRMbmcobGF0bG5nKTtcclxuXHRyZXR1cm4gbGF0bG5nLmFsdCAhPT0gdW5kZWZpbmVkID9cclxuXHRcdFtVdGlsLmZvcm1hdE51bShsYXRsbmcubG5nLCBwcmVjaXNpb24pLCBVdGlsLmZvcm1hdE51bShsYXRsbmcubGF0LCBwcmVjaXNpb24pLCBVdGlsLmZvcm1hdE51bShsYXRsbmcuYWx0LCBwcmVjaXNpb24pXSA6XHJcblx0XHRbVXRpbC5mb3JtYXROdW0obGF0bG5nLmxuZywgcHJlY2lzaW9uKSwgVXRpbC5mb3JtYXROdW0obGF0bG5nLmxhdCwgcHJlY2lzaW9uKV07XHJcbn1cclxuXHJcbi8vIEBmdW5jdGlvbiBsYXRMbmdzVG9Db29yZHMobGF0bG5nczogQXJyYXksIGxldmVsc0RlZXA/OiBOdW1iZXIsIGNsb3NlZD86IEJvb2xlYW4sIHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IEFycmF5XHJcbi8vIFJldmVyc2Ugb2YgW2Bjb29yZHNUb0xhdExuZ3NgXSgjZ2VvanNvbi1jb29yZHN0b2xhdGxuZ3MpXHJcbi8vIGBjbG9zZWRgIGRldGVybWluZXMgd2hldGhlciB0aGUgZmlyc3QgcG9pbnQgc2hvdWxkIGJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGFycmF5IHRvIGNsb3NlIHRoZSBmZWF0dXJlLCBvbmx5IHVzZWQgd2hlbiBgbGV2ZWxzRGVlcGAgaXMgMC4gRmFsc2UgYnkgZGVmYXVsdC5cclxuLy8gQ29vcmRpbmF0ZXMgdmFsdWVzIGFyZSByb3VuZGVkIHdpdGggW2Bmb3JtYXROdW1gXSgjdXRpbC1mb3JtYXRudW0pIGZ1bmN0aW9uLlxyXG5leHBvcnQgZnVuY3Rpb24gbGF0TG5nc1RvQ29vcmRzKGxhdGxuZ3MsIGxldmVsc0RlZXAsIGNsb3NlZCwgcHJlY2lzaW9uKSB7XHJcblx0dmFyIGNvb3JkcyA9IFtdO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGF0bG5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0Ly8gQ2hlY2sgZm9yIGZsYXQgYXJyYXlzIHJlcXVpcmVkIHRvIGVuc3VyZSB1bmJhbGFuY2VkIGFycmF5cyBhcmUgY29ycmVjdGx5IGNvbnZlcnRlZCBpbiByZWN1cnNpb25cclxuXHRcdGNvb3Jkcy5wdXNoKGxldmVsc0RlZXAgP1xyXG5cdFx0XHRsYXRMbmdzVG9Db29yZHMobGF0bG5nc1tpXSwgTGluZVV0aWwuaXNGbGF0KGxhdGxuZ3NbaV0pID8gMCA6IGxldmVsc0RlZXAgLSAxLCBjbG9zZWQsIHByZWNpc2lvbikgOlxyXG5cdFx0XHRsYXRMbmdUb0Nvb3JkcyhsYXRsbmdzW2ldLCBwcmVjaXNpb24pKTtcclxuXHR9XHJcblxyXG5cdGlmICghbGV2ZWxzRGVlcCAmJiBjbG9zZWQgJiYgY29vcmRzLmxlbmd0aCA+IDApIHtcclxuXHRcdGNvb3Jkcy5wdXNoKGNvb3Jkc1swXS5zbGljZSgpKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBjb29yZHM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGZWF0dXJlKGxheWVyLCBuZXdHZW9tZXRyeSkge1xyXG5cdHJldHVybiBsYXllci5mZWF0dXJlID9cclxuXHRcdFV0aWwuZXh0ZW5kKHt9LCBsYXllci5mZWF0dXJlLCB7Z2VvbWV0cnk6IG5ld0dlb21ldHJ5fSkgOlxyXG5cdFx0YXNGZWF0dXJlKG5ld0dlb21ldHJ5KTtcclxufVxyXG5cclxuLy8gQGZ1bmN0aW9uIGFzRmVhdHVyZShnZW9qc29uOiBPYmplY3QpOiBPYmplY3RcclxuLy8gTm9ybWFsaXplIEdlb0pTT04gZ2VvbWV0cmllcy9mZWF0dXJlcyBpbnRvIEdlb0pTT04gZmVhdHVyZXMuXHJcbmV4cG9ydCBmdW5jdGlvbiBhc0ZlYXR1cmUoZ2VvanNvbikge1xyXG5cdGlmIChnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlJyB8fCBnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHtcclxuXHRcdHJldHVybiBnZW9qc29uO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHR5cGU6ICdGZWF0dXJlJyxcclxuXHRcdHByb3BlcnRpZXM6IHt9LFxyXG5cdFx0Z2VvbWV0cnk6IGdlb2pzb25cclxuXHR9O1xyXG59XHJcblxyXG52YXIgUG9pbnRUb0dlb0pTT04gPSB7XHJcblx0dG9HZW9KU09OOiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblx0XHRyZXR1cm4gZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHRcdHR5cGU6ICdQb2ludCcsXHJcblx0XHRcdGNvb3JkaW5hdGVzOiBsYXRMbmdUb0Nvb3Jkcyh0aGlzLmdldExhdExuZygpLCBwcmVjaXNpb24pXHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBAbmFtZXNwYWNlIE1hcmtlclxyXG4vLyBAc2VjdGlvbiBPdGhlciBtZXRob2RzXHJcbi8vIEBtZXRob2QgdG9HZW9KU09OKHByZWNpc2lvbj86IE51bWJlcnxmYWxzZSk6IE9iamVjdFxyXG4vLyBDb29yZGluYXRlcyB2YWx1ZXMgYXJlIHJvdW5kZWQgd2l0aCBbYGZvcm1hdE51bWBdKCN1dGlsLWZvcm1hdG51bSkgZnVuY3Rpb24gd2l0aCBnaXZlbiBgcHJlY2lzaW9uYC5cclxuLy8gUmV0dXJucyBhIFtgR2VvSlNPTmBdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0dlb0pTT04pIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXJrZXIgKGFzIGEgR2VvSlNPTiBgUG9pbnRgIEZlYXR1cmUpLlxyXG5NYXJrZXIuaW5jbHVkZShQb2ludFRvR2VvSlNPTik7XHJcblxyXG4vLyBAbmFtZXNwYWNlIENpcmNsZU1hcmtlclxyXG4vLyBAbWV0aG9kIHRvR2VvSlNPTihwcmVjaXNpb24/OiBOdW1iZXJ8ZmFsc2UpOiBPYmplY3RcclxuLy8gQ29vcmRpbmF0ZXMgdmFsdWVzIGFyZSByb3VuZGVkIHdpdGggW2Bmb3JtYXROdW1gXSgjdXRpbC1mb3JtYXRudW0pIGZ1bmN0aW9uIHdpdGggZ2l2ZW4gYHByZWNpc2lvbmAuXHJcbi8vIFJldHVybnMgYSBbYEdlb0pTT05gXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HZW9KU09OKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgY2lyY2xlIG1hcmtlciAoYXMgYSBHZW9KU09OIGBQb2ludGAgRmVhdHVyZSkuXHJcbkNpcmNsZS5pbmNsdWRlKFBvaW50VG9HZW9KU09OKTtcclxuQ2lyY2xlTWFya2VyLmluY2x1ZGUoUG9pbnRUb0dlb0pTT04pO1xyXG5cclxuXHJcbi8vIEBuYW1lc3BhY2UgUG9seWxpbmVcclxuLy8gQG1ldGhvZCB0b0dlb0pTT04ocHJlY2lzaW9uPzogTnVtYmVyfGZhbHNlKTogT2JqZWN0XHJcbi8vIENvb3JkaW5hdGVzIHZhbHVlcyBhcmUgcm91bmRlZCB3aXRoIFtgZm9ybWF0TnVtYF0oI3V0aWwtZm9ybWF0bnVtKSBmdW5jdGlvbiB3aXRoIGdpdmVuIGBwcmVjaXNpb25gLlxyXG4vLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvSlNPTikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvbHlsaW5lIChhcyBhIEdlb0pTT04gYExpbmVTdHJpbmdgIG9yIGBNdWx0aUxpbmVTdHJpbmdgIEZlYXR1cmUpLlxyXG5Qb2x5bGluZS5pbmNsdWRlKHtcclxuXHR0b0dlb0pTT046IGZ1bmN0aW9uIChwcmVjaXNpb24pIHtcclxuXHRcdHZhciBtdWx0aSA9ICFMaW5lVXRpbC5pc0ZsYXQodGhpcy5fbGF0bG5ncyk7XHJcblxyXG5cdFx0dmFyIGNvb3JkcyA9IGxhdExuZ3NUb0Nvb3Jkcyh0aGlzLl9sYXRsbmdzLCBtdWx0aSA/IDEgOiAwLCBmYWxzZSwgcHJlY2lzaW9uKTtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHRcdHR5cGU6IChtdWx0aSA/ICdNdWx0aScgOiAnJykgKyAnTGluZVN0cmluZycsXHJcblx0XHRcdGNvb3JkaW5hdGVzOiBjb29yZHNcclxuXHRcdH0pO1xyXG5cdH1cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvbHlnb25cclxuLy8gQG1ldGhvZCB0b0dlb0pTT04ocHJlY2lzaW9uPzogTnVtYmVyfGZhbHNlKTogT2JqZWN0XHJcbi8vIENvb3JkaW5hdGVzIHZhbHVlcyBhcmUgcm91bmRlZCB3aXRoIFtgZm9ybWF0TnVtYF0oI3V0aWwtZm9ybWF0bnVtKSBmdW5jdGlvbiB3aXRoIGdpdmVuIGBwcmVjaXNpb25gLlxyXG4vLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvSlNPTikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvbHlnb24gKGFzIGEgR2VvSlNPTiBgUG9seWdvbmAgb3IgYE11bHRpUG9seWdvbmAgRmVhdHVyZSkuXHJcblBvbHlnb24uaW5jbHVkZSh7XHJcblx0dG9HZW9KU09OOiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblx0XHR2YXIgaG9sZXMgPSAhTGluZVV0aWwuaXNGbGF0KHRoaXMuX2xhdGxuZ3MpLFxyXG5cdFx0ICAgIG11bHRpID0gaG9sZXMgJiYgIUxpbmVVdGlsLmlzRmxhdCh0aGlzLl9sYXRsbmdzWzBdKTtcclxuXHJcblx0XHR2YXIgY29vcmRzID0gbGF0TG5nc1RvQ29vcmRzKHRoaXMuX2xhdGxuZ3MsIG11bHRpID8gMiA6IGhvbGVzID8gMSA6IDAsIHRydWUsIHByZWNpc2lvbik7XHJcblxyXG5cdFx0aWYgKCFob2xlcykge1xyXG5cdFx0XHRjb29yZHMgPSBbY29vcmRzXTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZ2V0RmVhdHVyZSh0aGlzLCB7XHJcblx0XHRcdHR5cGU6IChtdWx0aSA/ICdNdWx0aScgOiAnJykgKyAnUG9seWdvbicsXHJcblx0XHRcdGNvb3JkaW5hdGVzOiBjb29yZHNcclxuXHRcdH0pO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQG5hbWVzcGFjZSBMYXllckdyb3VwXHJcbkxheWVyR3JvdXAuaW5jbHVkZSh7XHJcblx0dG9NdWx0aVBvaW50OiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblx0XHR2YXIgY29vcmRzID0gW107XHJcblxyXG5cdFx0dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRcdGNvb3Jkcy5wdXNoKGxheWVyLnRvR2VvSlNPTihwcmVjaXNpb24pLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBnZXRGZWF0dXJlKHRoaXMsIHtcclxuXHRcdFx0dHlwZTogJ011bHRpUG9pbnQnLFxyXG5cdFx0XHRjb29yZGluYXRlczogY29vcmRzXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRvR2VvSlNPTihwcmVjaXNpb24/OiBOdW1iZXJ8ZmFsc2UpOiBPYmplY3RcclxuXHQvLyBDb29yZGluYXRlcyB2YWx1ZXMgYXJlIHJvdW5kZWQgd2l0aCBbYGZvcm1hdE51bWBdKCN1dGlsLWZvcm1hdG51bSkgZnVuY3Rpb24gd2l0aCBnaXZlbiBgcHJlY2lzaW9uYC5cclxuXHQvLyBSZXR1cm5zIGEgW2BHZW9KU09OYF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR2VvSlNPTikgcmVwcmVzZW50YXRpb24gb2YgdGhlIGxheWVyIGdyb3VwIChhcyBhIEdlb0pTT04gYEZlYXR1cmVDb2xsZWN0aW9uYCwgYEdlb21ldHJ5Q29sbGVjdGlvbmAsIG9yIGBNdWx0aVBvaW50YCkuXHJcblx0dG9HZW9KU09OOiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XHJcblxyXG5cdFx0dmFyIHR5cGUgPSB0aGlzLmZlYXR1cmUgJiYgdGhpcy5mZWF0dXJlLmdlb21ldHJ5ICYmIHRoaXMuZmVhdHVyZS5nZW9tZXRyeS50eXBlO1xyXG5cclxuXHRcdGlmICh0eXBlID09PSAnTXVsdGlQb2ludCcpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMudG9NdWx0aVBvaW50KHByZWNpc2lvbik7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gdHlwZSA9PT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicsXHJcblx0XHQgICAganNvbnMgPSBbXTtcclxuXHJcblx0XHR0aGlzLmVhY2hMYXllcihmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdFx0aWYgKGxheWVyLnRvR2VvSlNPTikge1xyXG5cdFx0XHRcdHZhciBqc29uID0gbGF5ZXIudG9HZW9KU09OKHByZWNpc2lvbik7XHJcblx0XHRcdFx0aWYgKGlzR2VvbWV0cnlDb2xsZWN0aW9uKSB7XHJcblx0XHRcdFx0XHRqc29ucy5wdXNoKGpzb24uZ2VvbWV0cnkpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR2YXIgZmVhdHVyZSA9IGFzRmVhdHVyZShqc29uKTtcclxuXHRcdFx0XHRcdC8vIFNxdWFzaCBuZXN0ZWQgZmVhdHVyZSBjb2xsZWN0aW9uc1xyXG5cdFx0XHRcdFx0aWYgKGZlYXR1cmUudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRqc29ucy5wdXNoLmFwcGx5KGpzb25zLCBmZWF0dXJlLmZlYXR1cmVzKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGpzb25zLnB1c2goZmVhdHVyZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoaXNHZW9tZXRyeUNvbGxlY3Rpb24pIHtcclxuXHRcdFx0cmV0dXJuIGdldEZlYXR1cmUodGhpcywge1xyXG5cdFx0XHRcdGdlb21ldHJpZXM6IGpzb25zLFxyXG5cdFx0XHRcdHR5cGU6ICdHZW9tZXRyeUNvbGxlY3Rpb24nXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXHJcblx0XHRcdGZlYXR1cmVzOiBqc29uc1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gQG5hbWVzcGFjZSBHZW9KU09OXHJcbi8vIEBmYWN0b3J5IEwuZ2VvSlNPTihnZW9qc29uPzogT2JqZWN0LCBvcHRpb25zPzogR2VvSlNPTiBvcHRpb25zKVxyXG4vLyBDcmVhdGVzIGEgR2VvSlNPTiBsYXllci4gT3B0aW9uYWxseSBhY2NlcHRzIGFuIG9iamVjdCBpblxyXG4vLyBbR2VvSlNPTiBmb3JtYXRdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3OTQ2KSB0byBkaXNwbGF5IG9uIHRoZSBtYXBcclxuLy8gKHlvdSBjYW4gYWx0ZXJuYXRpdmVseSBhZGQgaXQgbGF0ZXIgd2l0aCBgYWRkRGF0YWAgbWV0aG9kKSBhbmQgYW4gYG9wdGlvbnNgIG9iamVjdC5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlb0pTT04oZ2VvanNvbiwgb3B0aW9ucykge1xyXG5cdHJldHVybiBuZXcgR2VvSlNPTihnZW9qc29uLCBvcHRpb25zKTtcclxufVxyXG5cclxuLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eS5cclxuZXhwb3J0IHZhciBnZW9Kc29uID0gZ2VvSlNPTjtcclxuIiwgImltcG9ydCB7TGF5ZXJ9IGZyb20gJy4vTGF5ZXInO1xyXG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCB7dG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uL2dlby9MYXRMbmdCb3VuZHMnO1xyXG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgSW1hZ2VPdmVybGF5XHJcbiAqIEBha2EgTC5JbWFnZU92ZXJsYXlcclxuICogQGluaGVyaXRzIEludGVyYWN0aXZlIGxheWVyXHJcbiAqXHJcbiAqIFVzZWQgdG8gbG9hZCBhbmQgZGlzcGxheSBhIHNpbmdsZSBpbWFnZSBvdmVyIHNwZWNpZmljIGJvdW5kcyBvZiB0aGUgbWFwLiBFeHRlbmRzIGBMYXllcmAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBpbWFnZVVybCA9ICdodHRwczovL21hcHMubGliLnV0ZXhhcy5lZHUvbWFwcy9oaXN0b3JpY2FsL25ld2Fya19ual8xOTIyLmpwZycsXHJcbiAqIFx0aW1hZ2VCb3VuZHMgPSBbWzQwLjcxMjIxNiwgLTc0LjIyNjU1XSwgWzQwLjc3Mzk0MSwgLTc0LjEyNTQ0XV07XHJcbiAqIEwuaW1hZ2VPdmVybGF5KGltYWdlVXJsLCBpbWFnZUJvdW5kcykuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBJbWFnZU92ZXJsYXkgPSBMYXllci5leHRlbmQoe1xyXG5cclxuXHQvLyBAc2VjdGlvblxyXG5cdC8vIEBha2EgSW1hZ2VPdmVybGF5IG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDEuMFxyXG5cdFx0Ly8gVGhlIG9wYWNpdHkgb2YgdGhlIGltYWdlIG92ZXJsYXkuXHJcblx0XHRvcGFjaXR5OiAxLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYWx0OiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gVGV4dCBmb3IgdGhlIGBhbHRgIGF0dHJpYnV0ZSBvZiB0aGUgaW1hZ2UgKHVzZWZ1bCBmb3IgYWNjZXNzaWJpbGl0eSkuXHJcblx0XHRhbHQ6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gaW50ZXJhY3RpdmU6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gSWYgYHRydWVgLCB0aGUgaW1hZ2Ugb3ZlcmxheSB3aWxsIGVtaXQgW21vdXNlIGV2ZW50c10oI2ludGVyYWN0aXZlLWxheWVyKSB3aGVuIGNsaWNrZWQgb3IgaG92ZXJlZC5cclxuXHRcdGludGVyYWN0aXZlOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNyb3NzT3JpZ2luOiBCb29sZWFufFN0cmluZyA9IGZhbHNlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSBjcm9zc09yaWdpbiBhdHRyaWJ1dGUgd2lsbCBiZSBhZGRlZCB0byB0aGUgaW1hZ2UuXHJcblx0XHQvLyBJZiBhIFN0cmluZyBpcyBwcm92aWRlZCwgdGhlIGltYWdlIHdpbGwgaGF2ZSBpdHMgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHNldCB0byB0aGUgU3RyaW5nIHByb3ZpZGVkLiBUaGlzIGlzIG5lZWRlZCBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgaW1hZ2UgcGl4ZWwgZGF0YS5cclxuXHRcdC8vIFJlZmVyIHRvIFtDT1JTIFNldHRpbmdzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfc2V0dGluZ3NfYXR0cmlidXRlcykgZm9yIHZhbGlkIFN0cmluZyB2YWx1ZXMuXHJcblx0XHRjcm9zc09yaWdpbjogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBlcnJvck92ZXJsYXlVcmw6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBVUkwgdG8gdGhlIG92ZXJsYXkgaW1hZ2UgdG8gc2hvdyBpbiBwbGFjZSBvZiB0aGUgb3ZlcmxheSB0aGF0IGZhaWxlZCB0byBsb2FkLlxyXG5cdFx0ZXJyb3JPdmVybGF5VXJsOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpJbmRleDogTnVtYmVyID0gMVxyXG5cdFx0Ly8gVGhlIGV4cGxpY2l0IFt6SW5kZXhdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0NTUy9DU1NfUG9zaXRpb25pbmcvVW5kZXJzdGFuZGluZ196X2luZGV4KSBvZiB0aGUgb3ZlcmxheSBsYXllci5cclxuXHRcdHpJbmRleDogMSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gJydcclxuXHRcdC8vIEEgY3VzdG9tIGNsYXNzIG5hbWUgdG8gYXNzaWduIHRvIHRoZSBpbWFnZS4gRW1wdHkgYnkgZGVmYXVsdC5cclxuXHRcdGNsYXNzTmFtZTogJydcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAodXJsLCBib3VuZHMsIG9wdGlvbnMpIHsgLy8gKFN0cmluZywgTGF0TG5nQm91bmRzLCBPYmplY3QpXHJcblx0XHR0aGlzLl91cmwgPSB1cmw7XHJcblx0XHR0aGlzLl9ib3VuZHMgPSB0b0xhdExuZ0JvdW5kcyhib3VuZHMpO1xyXG5cclxuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKCF0aGlzLl9pbWFnZSkge1xyXG5cdFx0XHR0aGlzLl9pbml0SW1hZ2UoKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLm9wdGlvbnMub3BhY2l0eSA8IDEpIHtcclxuXHRcdFx0XHR0aGlzLl91cGRhdGVPcGFjaXR5KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmludGVyYWN0aXZlKSB7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5faW1hZ2UsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XHJcblx0XHRcdHRoaXMuYWRkSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5faW1hZ2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2ltYWdlKTtcclxuXHRcdHRoaXMuX3Jlc2V0KCk7XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2ltYWdlKTtcclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcclxuXHRcdFx0dGhpcy5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9pbWFnZSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRPcGFjaXR5KG9wYWNpdHk6IE51bWJlcik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBvcGFjaXR5IG9mIHRoZSBvdmVybGF5LlxyXG5cdHNldE9wYWNpdHk6IGZ1bmN0aW9uIChvcGFjaXR5KSB7XHJcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2ltYWdlKSB7XHJcblx0XHRcdHRoaXMuX3VwZGF0ZU9wYWNpdHkoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdHNldFN0eWxlOiBmdW5jdGlvbiAoc3R5bGVPcHRzKSB7XHJcblx0XHRpZiAoc3R5bGVPcHRzLm9wYWNpdHkpIHtcclxuXHRcdFx0dGhpcy5zZXRPcGFjaXR5KHN0eWxlT3B0cy5vcGFjaXR5KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgYnJpbmdUb0Zyb250KCk6IHRoaXNcclxuXHQvLyBCcmluZ3MgdGhlIGxheWVyIHRvIHRoZSB0b3Agb2YgYWxsIG92ZXJsYXlzLlxyXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHREb21VdGlsLnRvRnJvbnQodGhpcy5faW1hZ2UpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBicmluZ1RvQmFjaygpOiB0aGlzXHJcblx0Ly8gQnJpbmdzIHRoZSBsYXllciB0byB0aGUgYm90dG9tIG9mIGFsbCBvdmVybGF5cy5cclxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHREb21VdGlsLnRvQmFjayh0aGlzLl9pbWFnZSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFVybCh1cmw6IFN0cmluZyk6IHRoaXNcclxuXHQvLyBDaGFuZ2VzIHRoZSBVUkwgb2YgdGhlIGltYWdlLlxyXG5cdHNldFVybDogZnVuY3Rpb24gKHVybCkge1xyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cclxuXHRcdGlmICh0aGlzLl9pbWFnZSkge1xyXG5cdFx0XHR0aGlzLl9pbWFnZS5zcmMgPSB1cmw7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldEJvdW5kcyhib3VuZHM6IExhdExuZ0JvdW5kcyk6IHRoaXNcclxuXHQvLyBVcGRhdGUgdGhlIGJvdW5kcyB0aGF0IHRoaXMgSW1hZ2VPdmVybGF5IGNvdmVyc1xyXG5cdHNldEJvdW5kczogZnVuY3Rpb24gKGJvdW5kcykge1xyXG5cdFx0dGhpcy5fYm91bmRzID0gdG9MYXRMbmdCb3VuZHMoYm91bmRzKTtcclxuXHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdHRoaXMuX3Jlc2V0KCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBldmVudHMgPSB7XHJcblx0XHRcdHpvb206IHRoaXMuX3Jlc2V0LFxyXG5cdFx0XHR2aWV3cmVzZXQ6IHRoaXMuX3Jlc2V0XHJcblx0XHR9O1xyXG5cclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcclxuXHRcdFx0ZXZlbnRzLnpvb21hbmltID0gdGhpcy5fYW5pbWF0ZVpvb207XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGV2ZW50cztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldFpJbmRleCh2YWx1ZTogTnVtYmVyKTogdGhpc1xyXG5cdC8vIENoYW5nZXMgdGhlIFt6SW5kZXhdKCNpbWFnZW92ZXJsYXktemluZGV4KSBvZiB0aGUgaW1hZ2Ugb3ZlcmxheS5cclxuXHRzZXRaSW5kZXg6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0dGhpcy5vcHRpb25zLnpJbmRleCA9IHZhbHVlO1xyXG5cdFx0dGhpcy5fdXBkYXRlWkluZGV4KCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEJvdW5kcygpOiBMYXRMbmdCb3VuZHNcclxuXHQvLyBHZXQgdGhlIGJvdW5kcyB0aGF0IHRoaXMgSW1hZ2VPdmVybGF5IGNvdmVyc1xyXG5cdGdldEJvdW5kczogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2JvdW5kcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEVsZW1lbnQoKTogSFRNTEVsZW1lbnRcclxuXHQvLyBSZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiBbYEhUTUxJbWFnZUVsZW1lbnRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvSFRNTEltYWdlRWxlbWVudClcclxuXHQvLyB1c2VkIGJ5IHRoaXMgb3ZlcmxheS5cclxuXHRnZXRFbGVtZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5faW1hZ2U7XHJcblx0fSxcclxuXHJcblx0X2luaXRJbWFnZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHdhc0VsZW1lbnRTdXBwbGllZCA9IHRoaXMuX3VybC50YWdOYW1lID09PSAnSU1HJztcclxuXHRcdHZhciBpbWcgPSB0aGlzLl9pbWFnZSA9IHdhc0VsZW1lbnRTdXBwbGllZCA/IHRoaXMuX3VybCA6IERvbVV0aWwuY3JlYXRlKCdpbWcnKTtcclxuXHJcblx0XHREb21VdGlsLmFkZENsYXNzKGltZywgJ2xlYWZsZXQtaW1hZ2UtbGF5ZXInKTtcclxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHsgRG9tVXRpbC5hZGRDbGFzcyhpbWcsICdsZWFmbGV0LXpvb20tYW5pbWF0ZWQnKTsgfVxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUpIHsgRG9tVXRpbC5hZGRDbGFzcyhpbWcsIHRoaXMub3B0aW9ucy5jbGFzc05hbWUpOyB9XHJcblxyXG5cdFx0aW1nLm9uc2VsZWN0c3RhcnQgPSBVdGlsLmZhbHNlRm47XHJcblx0XHRpbWcub25tb3VzZW1vdmUgPSBVdGlsLmZhbHNlRm47XHJcblxyXG5cdFx0Ly8gQGV2ZW50IGxvYWQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBJbWFnZU92ZXJsYXkgbGF5ZXIgaGFzIGxvYWRlZCBpdHMgaW1hZ2VcclxuXHRcdGltZy5vbmxvYWQgPSBVdGlsLmJpbmQodGhpcy5maXJlLCB0aGlzLCAnbG9hZCcpO1xyXG5cdFx0aW1nLm9uZXJyb3IgPSBVdGlsLmJpbmQodGhpcy5fb3ZlcmxheU9uRXJyb3IsIHRoaXMsICdlcnJvcicpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gfHwgdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSAnJykge1xyXG5cdFx0XHRpbWcuY3Jvc3NPcmlnaW4gPSB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnJyA6IHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5vcHRpb25zLnpJbmRleCkge1xyXG5cdFx0XHR0aGlzLl91cGRhdGVaSW5kZXgoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAod2FzRWxlbWVudFN1cHBsaWVkKSB7XHJcblx0XHRcdHRoaXMuX3VybCA9IGltZy5zcmM7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpbWcuc3JjID0gdGhpcy5fdXJsO1xyXG5cdFx0aW1nLmFsdCA9IHRoaXMub3B0aW9ucy5hbHQ7XHJcblx0fSxcclxuXHJcblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAoZSkge1xyXG5cdFx0dmFyIHNjYWxlID0gdGhpcy5fbWFwLmdldFpvb21TY2FsZShlLnpvb20pLFxyXG5cdFx0ICAgIG9mZnNldCA9IHRoaXMuX21hcC5fbGF0TG5nQm91bmRzVG9OZXdMYXllckJvdW5kcyh0aGlzLl9ib3VuZHMsIGUuem9vbSwgZS5jZW50ZXIpLm1pbjtcclxuXHJcblx0XHREb21VdGlsLnNldFRyYW5zZm9ybSh0aGlzLl9pbWFnZSwgb2Zmc2V0LCBzY2FsZSk7XHJcblx0fSxcclxuXHJcblx0X3Jlc2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgaW1hZ2UgPSB0aGlzLl9pbWFnZSxcclxuXHRcdCAgICBib3VuZHMgPSBuZXcgQm91bmRzKFxyXG5cdFx0ICAgICAgICB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2JvdW5kcy5nZXROb3J0aFdlc3QoKSksXHJcblx0XHQgICAgICAgIHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpKSksXHJcblx0XHQgICAgc2l6ZSA9IGJvdW5kcy5nZXRTaXplKCk7XHJcblxyXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbihpbWFnZSwgYm91bmRzLm1pbik7XHJcblxyXG5cdFx0aW1hZ2Uuc3R5bGUud2lkdGggID0gc2l6ZS54ICsgJ3B4JztcclxuXHRcdGltYWdlLnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZU9wYWNpdHk6IGZ1bmN0aW9uICgpIHtcclxuXHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9pbWFnZSwgdGhpcy5vcHRpb25zLm9wYWNpdHkpO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVaSW5kZXg6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9pbWFnZSAmJiB0aGlzLm9wdGlvbnMuekluZGV4ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vcHRpb25zLnpJbmRleCAhPT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLl9pbWFnZS5zdHlsZS56SW5kZXggPSB0aGlzLm9wdGlvbnMuekluZGV4O1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9vdmVybGF5T25FcnJvcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gQGV2ZW50IGVycm9yOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgSW1hZ2VPdmVybGF5IGxheWVyIGZhaWxzIHRvIGxvYWQgaXRzIGltYWdlXHJcblx0XHR0aGlzLmZpcmUoJ2Vycm9yJyk7XHJcblxyXG5cdFx0dmFyIGVycm9yVXJsID0gdGhpcy5vcHRpb25zLmVycm9yT3ZlcmxheVVybDtcclxuXHRcdGlmIChlcnJvclVybCAmJiB0aGlzLl91cmwgIT09IGVycm9yVXJsKSB7XHJcblx0XHRcdHRoaXMuX3VybCA9IGVycm9yVXJsO1xyXG5cdFx0XHR0aGlzLl9pbWFnZS5zcmMgPSBlcnJvclVybDtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldENlbnRlcigpOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBjZW50ZXIgb2YgdGhlIEltYWdlT3ZlcmxheS5cclxuXHRnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0Q2VudGVyKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIEBmYWN0b3J5IEwuaW1hZ2VPdmVybGF5KGltYWdlVXJsOiBTdHJpbmcsIGJvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogSW1hZ2VPdmVybGF5IG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhbiBpbWFnZSBvdmVybGF5IG9iamVjdCBnaXZlbiB0aGUgVVJMIG9mIHRoZSBpbWFnZSBhbmQgdGhlXHJcbi8vIGdlb2dyYXBoaWNhbCBib3VuZHMgaXQgaXMgdGllZCB0by5cclxuZXhwb3J0IHZhciBpbWFnZU92ZXJsYXkgPSBmdW5jdGlvbiAodXJsLCBib3VuZHMsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IEltYWdlT3ZlcmxheSh1cmwsIGJvdW5kcywgb3B0aW9ucyk7XHJcbn07XHJcbiIsICJpbXBvcnQge0ltYWdlT3ZlcmxheX0gZnJvbSAnLi9JbWFnZU92ZXJsYXknO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5cclxuLypcclxuICogQGNsYXNzIFZpZGVvT3ZlcmxheVxyXG4gKiBAYWthIEwuVmlkZW9PdmVybGF5XHJcbiAqIEBpbmhlcml0cyBJbWFnZU92ZXJsYXlcclxuICpcclxuICogVXNlZCB0byBsb2FkIGFuZCBkaXNwbGF5IGEgdmlkZW8gcGxheWVyIG92ZXIgc3BlY2lmaWMgYm91bmRzIG9mIHRoZSBtYXAuIEV4dGVuZHMgYEltYWdlT3ZlcmxheWAuXHJcbiAqXHJcbiAqIEEgdmlkZW8gb3ZlcmxheSB1c2VzIHRoZSBbYDx2aWRlbz5gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvdmlkZW8pXHJcbiAqIEhUTUw1IGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciB2aWRlb1VybCA9ICdodHRwczovL3d3dy5tYXBib3guY29tL2JpdGVzLzAwMTg4L3BhdHJpY2lhX25hc2Eud2VibScsXHJcbiAqIFx0dmlkZW9Cb3VuZHMgPSBbWyAzMiwgLTEzMF0sIFsgMTMsIC0xMDBdXTtcclxuICogTC52aWRlb092ZXJsYXkodmlkZW9VcmwsIHZpZGVvQm91bmRzICkuYWRkVG8obWFwKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBWaWRlb092ZXJsYXkgPSBJbWFnZU92ZXJsYXkuZXh0ZW5kKHtcclxuXHJcblx0Ly8gQHNlY3Rpb25cclxuXHQvLyBAYWthIFZpZGVvT3ZlcmxheSBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBhdXRvcGxheTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFdoZXRoZXIgdGhlIHZpZGVvIHN0YXJ0cyBwbGF5aW5nIGF1dG9tYXRpY2FsbHkgd2hlbiBsb2FkZWQuXHJcblx0XHQvLyBPbiBzb21lIGJyb3dzZXJzIGF1dG9wbGF5IHdpbGwgb25seSB3b3JrIHdpdGggYG11dGVkOiB0cnVlYFxyXG5cdFx0YXV0b3BsYXk6IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBsb29wOiBCb29sZWFuID0gdHJ1ZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgdmlkZW8gd2lsbCBsb29wIGJhY2sgdG8gdGhlIGJlZ2lubmluZyB3aGVuIHBsYXllZC5cclxuXHRcdGxvb3A6IHRydWUsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBrZWVwQXNwZWN0UmF0aW86IEJvb2xlYW4gPSB0cnVlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSB2aWRlbyB3aWxsIHNhdmUgYXNwZWN0IHJhdGlvIGFmdGVyIHRoZSBwcm9qZWN0aW9uLlxyXG5cdFx0Ly8gUmVsZXZhbnQgZm9yIHN1cHBvcnRlZCBicm93c2Vycy4gU2VlIFticm93c2VyIGNvbXBhdGliaWxpdHldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9vYmplY3QtZml0KVxyXG5cdFx0a2VlcEFzcGVjdFJhdGlvOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbXV0ZWQ6IEJvb2xlYW4gPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgdmlkZW8gc3RhcnRzIG9uIG11dGUgd2hlbiBsb2FkZWQuXHJcblx0XHRtdXRlZDogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBwbGF5c0lubGluZTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIE1vYmlsZSBicm93c2VycyB3aWxsIHBsYXkgdGhlIHZpZGVvIHJpZ2h0IHdoZXJlIGl0IGlzIGluc3RlYWQgb2Ygb3BlbiBpdCB1cCBpbiBmdWxsc2NyZWVuIG1vZGUuXHJcblx0XHRwbGF5c0lubGluZTogdHJ1ZVxyXG5cdH0sXHJcblxyXG5cdF9pbml0SW1hZ2U6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB3YXNFbGVtZW50U3VwcGxpZWQgPSB0aGlzLl91cmwudGFnTmFtZSA9PT0gJ1ZJREVPJztcclxuXHRcdHZhciB2aWQgPSB0aGlzLl9pbWFnZSA9IHdhc0VsZW1lbnRTdXBwbGllZCA/IHRoaXMuX3VybCA6IERvbVV0aWwuY3JlYXRlKCd2aWRlbycpO1xyXG5cclxuXHRcdERvbVV0aWwuYWRkQ2xhc3ModmlkLCAnbGVhZmxldC1pbWFnZS1sYXllcicpO1xyXG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkgeyBEb21VdGlsLmFkZENsYXNzKHZpZCwgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpOyB9XHJcblx0XHRpZiAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSkgeyBEb21VdGlsLmFkZENsYXNzKHZpZCwgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSk7IH1cclxuXHJcblx0XHR2aWQub25zZWxlY3RzdGFydCA9IFV0aWwuZmFsc2VGbjtcclxuXHRcdHZpZC5vbm1vdXNlbW92ZSA9IFV0aWwuZmFsc2VGbjtcclxuXHJcblx0XHQvLyBAZXZlbnQgbG9hZDogRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGhhcyBmaW5pc2hlZCBsb2FkaW5nIHRoZSBmaXJzdCBmcmFtZVxyXG5cdFx0dmlkLm9ubG9hZGVkZGF0YSA9IFV0aWwuYmluZCh0aGlzLmZpcmUsIHRoaXMsICdsb2FkJyk7XHJcblxyXG5cdFx0aWYgKHdhc0VsZW1lbnRTdXBwbGllZCkge1xyXG5cdFx0XHR2YXIgc291cmNlRWxlbWVudHMgPSB2aWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NvdXJjZScpO1xyXG5cdFx0XHR2YXIgc291cmNlcyA9IFtdO1xyXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHNvdXJjZUVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0c291cmNlcy5wdXNoKHNvdXJjZUVsZW1lbnRzW2pdLnNyYyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX3VybCA9IChzb3VyY2VFbGVtZW50cy5sZW5ndGggPiAwKSA/IHNvdXJjZXMgOiBbdmlkLnNyY107XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIVV0aWwuaXNBcnJheSh0aGlzLl91cmwpKSB7IHRoaXMuX3VybCA9IFt0aGlzLl91cmxdOyB9XHJcblxyXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMua2VlcEFzcGVjdFJhdGlvICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2aWQuc3R5bGUsICdvYmplY3RGaXQnKSkge1xyXG5cdFx0XHR2aWQuc3R5bGVbJ29iamVjdEZpdCddID0gJ2ZpbGwnO1xyXG5cdFx0fVxyXG5cdFx0dmlkLmF1dG9wbGF5ID0gISF0aGlzLm9wdGlvbnMuYXV0b3BsYXk7XHJcblx0XHR2aWQubG9vcCA9ICEhdGhpcy5vcHRpb25zLmxvb3A7XHJcblx0XHR2aWQubXV0ZWQgPSAhIXRoaXMub3B0aW9ucy5tdXRlZDtcclxuXHRcdHZpZC5wbGF5c0lubGluZSA9ICEhdGhpcy5vcHRpb25zLnBsYXlzSW5saW5lO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl91cmwubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIHNvdXJjZSA9IERvbVV0aWwuY3JlYXRlKCdzb3VyY2UnKTtcclxuXHRcdFx0c291cmNlLnNyYyA9IHRoaXMuX3VybFtpXTtcclxuXHRcdFx0dmlkLmFwcGVuZENoaWxkKHNvdXJjZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEVsZW1lbnQoKTogSFRNTFZpZGVvRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIGluc3RhbmNlIG9mIFtgSFRNTFZpZGVvRWxlbWVudGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9IVE1MVmlkZW9FbGVtZW50KVxyXG5cdC8vIHVzZWQgYnkgdGhpcyBvdmVybGF5LlxyXG59KTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLnZpZGVvT3ZlcmxheSh2aWRlbzogU3RyaW5nfEFycmF5fEhUTUxWaWRlb0VsZW1lbnQsIGJvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogVmlkZW9PdmVybGF5IG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhbiBpbWFnZSBvdmVybGF5IG9iamVjdCBnaXZlbiB0aGUgVVJMIG9mIHRoZSB2aWRlbyAob3IgYXJyYXkgb2YgVVJMcywgb3IgZXZlbiBhIHZpZGVvIGVsZW1lbnQpIGFuZCB0aGVcclxuLy8gZ2VvZ3JhcGhpY2FsIGJvdW5kcyBpdCBpcyB0aWVkIHRvLlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZpZGVvT3ZlcmxheSh2aWRlbywgYm91bmRzLCBvcHRpb25zKSB7XHJcblx0cmV0dXJuIG5ldyBWaWRlb092ZXJsYXkodmlkZW8sIGJvdW5kcywgb3B0aW9ucyk7XHJcbn1cclxuIiwgImltcG9ydCB7SW1hZ2VPdmVybGF5fSBmcm9tICcuL0ltYWdlT3ZlcmxheSc7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcblxuLypcbiAqIEBjbGFzcyBTVkdPdmVybGF5XG4gKiBAYWthIEwuU1ZHT3ZlcmxheVxuICogQGluaGVyaXRzIEltYWdlT3ZlcmxheVxuICpcbiAqIFVzZWQgdG8gbG9hZCwgZGlzcGxheSBhbmQgcHJvdmlkZSBET00gYWNjZXNzIHRvIGFuIFNWRyBmaWxlIG92ZXIgc3BlY2lmaWMgYm91bmRzIG9mIHRoZSBtYXAuIEV4dGVuZHMgYEltYWdlT3ZlcmxheWAuXG4gKlxuICogQW4gU1ZHIG92ZXJsYXkgdXNlcyB0aGUgW2A8c3ZnPmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRy9FbGVtZW50L3N2ZykgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiB2YXIgc3ZnRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICogc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3htbG5zJywgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcbiAqIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgXCIwIDAgMjAwIDIwMFwiKTtcbiAqIHN2Z0VsZW1lbnQuaW5uZXJIVE1MID0gJzxyZWN0IHdpZHRoPVwiMjAwXCIgaGVpZ2h0PVwiMjAwXCIvPjxyZWN0IHg9XCI3NVwiIHk9XCIyM1wiIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1MFwiIHN0eWxlPVwiZmlsbDpyZWRcIi8+PHJlY3QgeD1cIjc1XCIgeT1cIjEyM1wiIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1MFwiIHN0eWxlPVwiZmlsbDojMDAxM2ZmXCIvPic7XG4gKiB2YXIgc3ZnRWxlbWVudEJvdW5kcyA9IFsgWyAzMiwgLTEzMCBdLCBbIDEzLCAtMTAwIF0gXTtcbiAqIEwuc3ZnT3ZlcmxheShzdmdFbGVtZW50LCBzdmdFbGVtZW50Qm91bmRzKS5hZGRUbyhtYXApO1xuICogYGBgXG4gKi9cblxuZXhwb3J0IHZhciBTVkdPdmVybGF5ID0gSW1hZ2VPdmVybGF5LmV4dGVuZCh7XG5cdF9pbml0SW1hZ2U6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZWwgPSB0aGlzLl9pbWFnZSA9IHRoaXMuX3VybDtcblxuXHRcdERvbVV0aWwuYWRkQ2xhc3MoZWwsICdsZWFmbGV0LWltYWdlLWxheWVyJyk7XG5cdFx0aWYgKHRoaXMuX3pvb21BbmltYXRlZCkgeyBEb21VdGlsLmFkZENsYXNzKGVsLCAnbGVhZmxldC16b29tLWFuaW1hdGVkJyk7IH1cblx0XHRpZiAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSkgeyBEb21VdGlsLmFkZENsYXNzKGVsLCB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKTsgfVxuXG5cdFx0ZWwub25zZWxlY3RzdGFydCA9IFV0aWwuZmFsc2VGbjtcblx0XHRlbC5vbm1vdXNlbW92ZSA9IFV0aWwuZmFsc2VGbjtcblx0fVxuXG5cdC8vIEBtZXRob2QgZ2V0RWxlbWVudCgpOiBTVkdFbGVtZW50XG5cdC8vIFJldHVybnMgdGhlIGluc3RhbmNlIG9mIFtgU1ZHRWxlbWVudGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9TVkdFbGVtZW50KVxuXHQvLyB1c2VkIGJ5IHRoaXMgb3ZlcmxheS5cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwuc3ZnT3ZlcmxheShzdmc6IFN0cmluZ3xTVkdFbGVtZW50LCBib3VuZHM6IExhdExuZ0JvdW5kcywgb3B0aW9ucz86IFNWR092ZXJsYXkgb3B0aW9ucylcbi8vIEluc3RhbnRpYXRlcyBhbiBpbWFnZSBvdmVybGF5IG9iamVjdCBnaXZlbiBhbiBTVkcgZWxlbWVudCBhbmQgdGhlIGdlb2dyYXBoaWNhbCBib3VuZHMgaXQgaXMgdGllZCB0by5cbi8vIEEgdmlld0JveCBhdHRyaWJ1dGUgaXMgcmVxdWlyZWQgb24gdGhlIFNWRyBlbGVtZW50IHRvIHpvb20gaW4gYW5kIG91dCBwcm9wZXJseS5cblxuZXhwb3J0IGZ1bmN0aW9uIHN2Z092ZXJsYXkoZWwsIGJvdW5kcywgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IFNWR092ZXJsYXkoZWwsIGJvdW5kcywgb3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uL21hcC9NYXAnO1xyXG5pbXBvcnQge0xheWVyfSBmcm9tICcuL0xheWVyJztcclxuaW1wb3J0IHtGZWF0dXJlR3JvdXB9IGZyb20gJy4vRmVhdHVyZUdyb3VwJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQge3RvTGF0TG5nLCBMYXRMbmd9IGZyb20gJy4uL2dlby9MYXRMbmcnO1xyXG5pbXBvcnQge3RvUG9pbnR9IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi9kb20vRG9tVXRpbCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgRGl2T3ZlcmxheVxyXG4gKiBAaW5oZXJpdHMgSW50ZXJhY3RpdmUgbGF5ZXJcclxuICogQGFrYSBMLkRpdk92ZXJsYXlcclxuICogQmFzZSBtb2RlbCBmb3IgTC5Qb3B1cCBhbmQgTC5Ub29sdGlwLiBJbmhlcml0IGZyb20gaXQgZm9yIGN1c3RvbSBvdmVybGF5cyBsaWtlIHBsdWdpbnMuXHJcbiAqL1xyXG5cclxuLy8gQG5hbWVzcGFjZSBEaXZPdmVybGF5XHJcbmV4cG9ydCB2YXIgRGl2T3ZlcmxheSA9IExheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBEaXZPdmVybGF5IG9wdGlvbnNcclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGludGVyYWN0aXZlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIHRydWUsIHRoZSBwb3B1cC90b29sdGlwIHdpbGwgbGlzdGVuIHRvIHRoZSBtb3VzZSBldmVudHMuXHJcblx0XHRpbnRlcmFjdGl2ZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBvZmZzZXQ6IFBvaW50ID0gUG9pbnQoMCwgMClcclxuXHRcdC8vIFRoZSBvZmZzZXQgb2YgdGhlIG92ZXJsYXkgcG9zaXRpb24uXHJcblx0XHRvZmZzZXQ6IFswLCAwXSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gJydcclxuXHRcdC8vIEEgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGFzc2lnbiB0byB0aGUgb3ZlcmxheS5cclxuXHRcdGNsYXNzTmFtZTogJycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBwYW5lOiBTdHJpbmcgPSB1bmRlZmluZWRcclxuXHRcdC8vIGBNYXAgcGFuZWAgd2hlcmUgdGhlIG92ZXJsYXkgd2lsbCBiZSBhZGRlZC5cclxuXHRcdHBhbmU6IHVuZGVmaW5lZCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxGdW5jdGlvbiA9ICcnXHJcblx0XHQvLyBTZXRzIHRoZSBIVE1MIGNvbnRlbnQgb2YgdGhlIG92ZXJsYXkgd2hpbGUgaW5pdGlhbGl6aW5nLiBJZiBhIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgc291cmNlIGxheWVyIHdpbGwgYmVcclxuXHRcdC8vIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24uIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgYFN0cmluZ2Agb3IgYEhUTUxFbGVtZW50YCB0byBiZSB1c2VkIGluIHRoZSBvdmVybGF5LlxyXG5cdFx0Y29udGVudDogJydcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucywgc291cmNlKSB7XHJcblx0XHRpZiAob3B0aW9ucyAmJiAob3B0aW9ucyBpbnN0YW5jZW9mIExhdExuZyB8fCBVdGlsLmlzQXJyYXkob3B0aW9ucykpKSB7XHJcblx0XHRcdHRoaXMuX2xhdGxuZyA9IHRvTGF0TG5nKG9wdGlvbnMpO1xyXG5cdFx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgc291cmNlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcclxuXHRcdFx0dGhpcy5fc291cmNlID0gc291cmNlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jb250ZW50KSB7XHJcblx0XHRcdHRoaXMuX2NvbnRlbnQgPSB0aGlzLm9wdGlvbnMuY29udGVudDtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIG9wZW5PbihtYXA6IE1hcCk6IHRoaXNcclxuXHQvLyBBZGRzIHRoZSBvdmVybGF5IHRvIHRoZSBtYXAuXHJcblx0Ly8gQWx0ZXJuYXRpdmUgdG8gYG1hcC5vcGVuUG9wdXAocG9wdXApYC9gLm9wZW5Ub29sdGlwKHRvb2x0aXApYC5cclxuXHRvcGVuT246IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdG1hcCA9IGFyZ3VtZW50cy5sZW5ndGggPyBtYXAgOiB0aGlzLl9zb3VyY2UuX21hcDsgLy8gZXhwZXJpbWVudGFsLCBub3QgdGhlIHBhcnQgb2YgcHVibGljIGFwaVxyXG5cdFx0aWYgKCFtYXAuaGFzTGF5ZXIodGhpcykpIHtcclxuXHRcdFx0bWFwLmFkZExheWVyKHRoaXMpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjbG9zZSgpOiB0aGlzXHJcblx0Ly8gQ2xvc2VzIHRoZSBvdmVybGF5LlxyXG5cdC8vIEFsdGVybmF0aXZlIHRvIGBtYXAuY2xvc2VQb3B1cChwb3B1cClgL2AuY2xvc2VUb29sdGlwKHRvb2x0aXApYFxyXG5cdC8vIGFuZCBgbGF5ZXIuY2xvc2VQb3B1cCgpYC9gLmNsb3NlVG9vbHRpcCgpYC5cclxuXHRjbG9zZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHRvZ2dsZShsYXllcj86IExheWVyKTogdGhpc1xyXG5cdC8vIE9wZW5zIG9yIGNsb3NlcyB0aGUgb3ZlcmxheSBib3VuZCB0byBsYXllciBkZXBlbmRpbmcgb24gaXRzIGN1cnJlbnQgc3RhdGUuXHJcblx0Ly8gQXJndW1lbnQgbWF5IGJlIG9taXR0ZWQgb25seSBmb3Igb3ZlcmxheSBib3VuZCB0byBsYXllci5cclxuXHQvLyBBbHRlcm5hdGl2ZSB0byBgbGF5ZXIudG9nZ2xlUG9wdXAoKWAvYC50b2dnbGVUb29sdGlwKClgLlxyXG5cdHRvZ2dsZTogZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5fc291cmNlID0gbGF5ZXI7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bGF5ZXIgPSB0aGlzLl9zb3VyY2U7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5fcHJlcGFyZU9wZW4oKTtcclxuXHJcblx0XHRcdC8vIG9wZW4gdGhlIG92ZXJsYXkgb24gdGhlIG1hcFxyXG5cdFx0XHR0aGlzLm9wZW5PbihsYXllci5fbWFwKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblx0XHR0aGlzLl96b29tQW5pbWF0ZWQgPSBtYXAuX3pvb21BbmltYXRlZDtcclxuXHJcblx0XHRpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xyXG5cdFx0XHR0aGlzLl9pbml0TGF5b3V0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG1hcC5fZmFkZUFuaW1hdGVkKSB7XHJcblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsIDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNsZWFyVGltZW91dCh0aGlzLl9yZW1vdmVUaW1lb3V0KTtcclxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cclxuXHRcdGlmIChtYXAuX2ZhZGVBbmltYXRlZCkge1xyXG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCAxKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmJyaW5nVG9Gcm9udCgpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcclxuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XHJcblx0XHRcdHRoaXMuYWRkSW50ZXJhY3RpdmVUYXJnZXQodGhpcy5fY29udGFpbmVyKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0aWYgKG1hcC5fZmFkZUFuaW1hdGVkKSB7XHJcblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsIDApO1xyXG5cdFx0XHR0aGlzLl9yZW1vdmVUaW1lb3V0ID0gc2V0VGltZW91dChVdGlsLmJpbmQoRG9tVXRpbC5yZW1vdmUsIHVuZGVmaW5lZCwgdGhpcy5fY29udGFpbmVyKSwgMjAwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xyXG5cdFx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtaW50ZXJhY3RpdmUnKTtcclxuXHRcdFx0dGhpcy5yZW1vdmVJbnRlcmFjdGl2ZVRhcmdldCh0aGlzLl9jb250YWluZXIpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8vIEBuYW1lc3BhY2UgRGl2T3ZlcmxheVxyXG5cdC8vIEBtZXRob2QgZ2V0TGF0TG5nOiBMYXRMbmdcclxuXHQvLyBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgcG9pbnQgb2YgdGhlIG92ZXJsYXkuXHJcblx0Z2V0TGF0TG5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fbGF0bG5nO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0TGF0TG5nKGxhdGxuZzogTGF0TG5nKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIGdlb2dyYXBoaWNhbCBwb2ludCB3aGVyZSB0aGUgb3ZlcmxheSB3aWxsIG9wZW4uXHJcblx0c2V0TGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHR0aGlzLl9sYXRsbmcgPSB0b0xhdExuZyhsYXRsbmcpO1xyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHR0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xyXG5cdFx0XHR0aGlzLl9hZGp1c3RQYW4oKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgZ2V0Q29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50XHJcblx0Ly8gUmV0dXJucyB0aGUgY29udGVudCBvZiB0aGUgb3ZlcmxheS5cclxuXHRnZXRDb250ZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY29udGVudDtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIHNldENvbnRlbnQoaHRtbENvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxGdW5jdGlvbik6IHRoaXNcclxuXHQvLyBTZXRzIHRoZSBIVE1MIGNvbnRlbnQgb2YgdGhlIG92ZXJsYXkuIElmIGEgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBzb3VyY2UgbGF5ZXIgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uLlxyXG5cdC8vIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGEgYFN0cmluZ2Agb3IgYEhUTUxFbGVtZW50YCB0byBiZSB1c2VkIGluIHRoZSBvdmVybGF5LlxyXG5cdHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcblx0XHR0aGlzLl9jb250ZW50ID0gY29udGVudDtcclxuXHRcdHRoaXMudXBkYXRlKCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldEVsZW1lbnQ6IFN0cmluZ3xIVE1MRWxlbWVudFxyXG5cdC8vIFJldHVybnMgdGhlIEhUTUwgY29udGFpbmVyIG9mIHRoZSBvdmVybGF5LlxyXG5cdGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1cGRhdGU6IG51bGxcclxuXHQvLyBVcGRhdGVzIHRoZSBvdmVybGF5IGNvbnRlbnQsIGxheW91dCBhbmQgcG9zaXRpb24uIFVzZWZ1bCBmb3IgdXBkYXRpbmcgdGhlIG92ZXJsYXkgYWZ0ZXIgc29tZXRoaW5nIGluc2lkZSBjaGFuZ2VkLCBlLmcuIGltYWdlIGxvYWRlZC5cclxuXHR1cGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcblxyXG5cdFx0dGhpcy5fdXBkYXRlQ29udGVudCgpO1xyXG5cdFx0dGhpcy5fdXBkYXRlTGF5b3V0KCk7XHJcblx0XHR0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xyXG5cclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XHJcblxyXG5cdFx0dGhpcy5fYWRqdXN0UGFuKCk7XHJcblx0fSxcclxuXHJcblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZXZlbnRzID0ge1xyXG5cdFx0XHR6b29tOiB0aGlzLl91cGRhdGVQb3NpdGlvbixcclxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLl91cGRhdGVQb3NpdGlvblxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX2FuaW1hdGVab29tO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGV2ZW50cztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGlzT3BlbjogQm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIHdoZW4gdGhlIG92ZXJsYXkgaXMgdmlzaWJsZSBvbiB0aGUgbWFwLlxyXG5cdGlzT3BlbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICEhdGhpcy5fbWFwICYmIHRoaXMuX21hcC5oYXNMYXllcih0aGlzKTtcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9Gcm9udDogdGhpc1xyXG5cdC8vIEJyaW5ncyB0aGlzIG92ZXJsYXkgaW4gZnJvbnQgb2Ygb3RoZXIgb3ZlcmxheXMgKGluIHRoZSBzYW1lIG1hcCBwYW5lKS5cclxuXHRicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9tYXApIHtcclxuXHRcdFx0RG9tVXRpbC50b0Zyb250KHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGJyaW5nVG9CYWNrOiB0aGlzXHJcblx0Ly8gQnJpbmdzIHRoaXMgb3ZlcmxheSB0byB0aGUgYmFjayBvZiBvdGhlciBvdmVybGF5cyAoaW4gdGhlIHNhbWUgbWFwIHBhbmUpLlxyXG5cdGJyaW5nVG9CYWNrOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fbWFwKSB7XHJcblx0XHRcdERvbVV0aWwudG9CYWNrKHRoaXMuX2NvbnRhaW5lcik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBwcmVwYXJlIGJvdW5kIG92ZXJsYXkgdG8gb3BlbjogdXBkYXRlIGxhdGxuZyBwb3MgLyBjb250ZW50IHNvdXJjZSAoZm9yIEZlYXR1cmVHcm91cClcclxuXHRfcHJlcGFyZU9wZW46IGZ1bmN0aW9uIChsYXRsbmcpIHtcclxuXHRcdHZhciBzb3VyY2UgPSB0aGlzLl9zb3VyY2U7XHJcblx0XHRpZiAoIXNvdXJjZS5fbWFwKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuXHRcdGlmIChzb3VyY2UgaW5zdGFuY2VvZiBGZWF0dXJlR3JvdXApIHtcclxuXHRcdFx0c291cmNlID0gbnVsbDtcclxuXHRcdFx0dmFyIGxheWVycyA9IHRoaXMuX3NvdXJjZS5fbGF5ZXJzO1xyXG5cdFx0XHRmb3IgKHZhciBpZCBpbiBsYXllcnMpIHtcclxuXHRcdFx0XHRpZiAobGF5ZXJzW2lkXS5fbWFwKSB7XHJcblx0XHRcdFx0XHRzb3VyY2UgPSBsYXllcnNbaWRdO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghc291cmNlKSB7IHJldHVybiBmYWxzZTsgfSAvLyBVbmFibGUgdG8gZ2V0IHNvdXJjZSBsYXllci5cclxuXHJcblx0XHRcdC8vIHNldCBvdmVybGF5IHNvdXJjZSB0byB0aGlzIGxheWVyXHJcblx0XHRcdHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWxhdGxuZykge1xyXG5cdFx0XHRpZiAoc291cmNlLmdldENlbnRlcikge1xyXG5cdFx0XHRcdGxhdGxuZyA9IHNvdXJjZS5nZXRDZW50ZXIoKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzb3VyY2UuZ2V0TGF0TG5nKSB7XHJcblx0XHRcdFx0bGF0bG5nID0gc291cmNlLmdldExhdExuZygpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHNvdXJjZS5nZXRCb3VuZHMpIHtcclxuXHRcdFx0XHRsYXRsbmcgPSBzb3VyY2UuZ2V0Qm91bmRzKCkuZ2V0Q2VudGVyKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IHNvdXJjZSBsYXllciBMYXRMbmcuJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuc2V0TGF0TG5nKGxhdGxuZyk7XHJcblxyXG5cdFx0aWYgKHRoaXMuX21hcCkge1xyXG5cdFx0XHQvLyB1cGRhdGUgdGhlIG92ZXJsYXkgKGNvbnRlbnQsIGxheW91dCwgZXRjLi4uKVxyXG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVDb250ZW50OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIXRoaXMuX2NvbnRlbnQpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0dmFyIG5vZGUgPSB0aGlzLl9jb250ZW50Tm9kZTtcclxuXHRcdHZhciBjb250ZW50ID0gKHR5cGVvZiB0aGlzLl9jb250ZW50ID09PSAnZnVuY3Rpb24nKSA/IHRoaXMuX2NvbnRlbnQodGhpcy5fc291cmNlIHx8IHRoaXMpIDogdGhpcy5fY29udGVudDtcclxuXHJcblx0XHRpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdG5vZGUuaW5uZXJIVE1MID0gY29udGVudDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xyXG5cdFx0XHRcdG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRub2RlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBuYW1lc3BhY2UgRGl2T3ZlcmxheVxyXG5cdFx0Ly8gQHNlY3Rpb24gRGl2T3ZlcmxheSBldmVudHNcclxuXHRcdC8vIEBldmVudCBjb250ZW50dXBkYXRlOiBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiB0aGUgY29udGVudCBvZiB0aGUgb3ZlcmxheSBpcyB1cGRhdGVkXHJcblx0XHR0aGlzLmZpcmUoJ2NvbnRlbnR1cGRhdGUnKTtcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfVxyXG5cclxuXHRcdHZhciBwb3MgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyksXHJcblx0XHQgICAgb2Zmc2V0ID0gdG9Qb2ludCh0aGlzLm9wdGlvbnMub2Zmc2V0KSxcclxuXHRcdCAgICBhbmNob3IgPSB0aGlzLl9nZXRBbmNob3IoKTtcclxuXHJcblx0XHRpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7XHJcblx0XHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLCBwb3MuYWRkKGFuY2hvcikpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b2Zmc2V0ID0gb2Zmc2V0LmFkZChwb3MpLmFkZChhbmNob3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBib3R0b20gPSB0aGlzLl9jb250YWluZXJCb3R0b20gPSAtb2Zmc2V0LnksXHJcblx0XHQgICAgbGVmdCA9IHRoaXMuX2NvbnRhaW5lckxlZnQgPSAtTWF0aC5yb3VuZCh0aGlzLl9jb250YWluZXJXaWR0aCAvIDIpICsgb2Zmc2V0Lng7XHJcblxyXG5cdFx0Ly8gYm90dG9tIHBvc2l0aW9uIHRoZSBvdmVybGF5IGluIGNhc2UgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmxheSBjaGFuZ2VzIChpbWFnZXMgbG9hZGluZyBldGMpXHJcblx0XHR0aGlzLl9jb250YWluZXIuc3R5bGUuYm90dG9tID0gYm90dG9tICsgJ3B4JztcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XHJcblx0fSxcclxuXHJcblx0X2dldEFuY2hvcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIFswLCAwXTtcclxuXHR9XHJcblxyXG59KTtcclxuXHJcbk1hcC5pbmNsdWRlKHtcclxuXHRfaW5pdE92ZXJsYXk6IGZ1bmN0aW9uIChPdmVybGF5Q2xhc3MsIGNvbnRlbnQsIGxhdGxuZywgb3B0aW9ucykge1xyXG5cdFx0dmFyIG92ZXJsYXkgPSBjb250ZW50O1xyXG5cdFx0aWYgKCEob3ZlcmxheSBpbnN0YW5jZW9mIE92ZXJsYXlDbGFzcykpIHtcclxuXHRcdFx0b3ZlcmxheSA9IG5ldyBPdmVybGF5Q2xhc3Mob3B0aW9ucykuc2V0Q29udGVudChjb250ZW50KTtcclxuXHRcdH1cclxuXHRcdGlmIChsYXRsbmcpIHtcclxuXHRcdFx0b3ZlcmxheS5zZXRMYXRMbmcobGF0bG5nKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBvdmVybGF5O1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuTGF5ZXIuaW5jbHVkZSh7XHJcblx0X2luaXRPdmVybGF5OiBmdW5jdGlvbiAoT3ZlcmxheUNsYXNzLCBvbGQsIGNvbnRlbnQsIG9wdGlvbnMpIHtcclxuXHRcdHZhciBvdmVybGF5ID0gY29udGVudDtcclxuXHRcdGlmIChvdmVybGF5IGluc3RhbmNlb2YgT3ZlcmxheUNsYXNzKSB7XHJcblx0XHRcdFV0aWwuc2V0T3B0aW9ucyhvdmVybGF5LCBvcHRpb25zKTtcclxuXHRcdFx0b3ZlcmxheS5fc291cmNlID0gdGhpcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG92ZXJsYXkgPSAob2xkICYmICFvcHRpb25zKSA/IG9sZCA6IG5ldyBPdmVybGF5Q2xhc3Mob3B0aW9ucywgdGhpcyk7XHJcblx0XHRcdG92ZXJsYXkuc2V0Q29udGVudChjb250ZW50KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBvdmVybGF5O1xyXG5cdH1cclxufSk7XHJcbiIsICJpbXBvcnQge0Rpdk92ZXJsYXl9IGZyb20gJy4vRGl2T3ZlcmxheSc7XHJcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uL2RvbS9Eb21FdmVudCc7XHJcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xyXG5pbXBvcnQge1BvaW50LCB0b1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XHJcbmltcG9ydCB7TWFwfSBmcm9tICcuLi9tYXAvTWFwJztcclxuaW1wb3J0IHtMYXllcn0gZnJvbSAnLi9MYXllcic7XHJcbmltcG9ydCB7UGF0aH0gZnJvbSAnLi92ZWN0b3IvUGF0aCc7XHJcbmltcG9ydCB7RmVhdHVyZUdyb3VwfSBmcm9tICcuL0ZlYXR1cmVHcm91cCc7XHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgUG9wdXBcclxuICogQGluaGVyaXRzIERpdk92ZXJsYXlcclxuICogQGFrYSBMLlBvcHVwXHJcbiAqIFVzZWQgdG8gb3BlbiBwb3B1cHMgaW4gY2VydGFpbiBwbGFjZXMgb2YgdGhlIG1hcC4gVXNlIFtNYXAub3BlblBvcHVwXSgjbWFwLW9wZW5wb3B1cCkgdG9cclxuICogb3BlbiBwb3B1cHMgd2hpbGUgbWFraW5nIHN1cmUgdGhhdCBvbmx5IG9uZSBwb3B1cCBpcyBvcGVuIGF0IG9uZSB0aW1lXHJcbiAqIChyZWNvbW1lbmRlZCBmb3IgdXNhYmlsaXR5KSwgb3IgdXNlIFtNYXAuYWRkTGF5ZXJdKCNtYXAtYWRkbGF5ZXIpIHRvIG9wZW4gYXMgbWFueSBhcyB5b3Ugd2FudC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogSWYgeW91IHdhbnQgdG8ganVzdCBiaW5kIGEgcG9wdXAgdG8gbWFya2VyIGNsaWNrIGFuZCB0aGVuIG9wZW4gaXQsIGl0J3MgcmVhbGx5IGVhc3k6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG1hcmtlci5iaW5kUG9wdXAocG9wdXBDb250ZW50KS5vcGVuUG9wdXAoKTtcclxuICogYGBgXHJcbiAqIFBhdGggb3ZlcmxheXMgbGlrZSBwb2x5bGluZXMgYWxzbyBoYXZlIGEgYGJpbmRQb3B1cGAgbWV0aG9kLlxyXG4gKlxyXG4gKiBBIHBvcHVwIGNhbiBiZSBhbHNvIHN0YW5kYWxvbmU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciBwb3B1cCA9IEwucG9wdXAoKVxyXG4gKiBcdC5zZXRMYXRMbmcobGF0bG5nKVxyXG4gKiBcdC5zZXRDb250ZW50KCc8cD5IZWxsbyB3b3JsZCE8YnIgLz5UaGlzIGlzIGEgbmljZSBwb3B1cC48L3A+JylcclxuICogXHQub3Blbk9uKG1hcCk7XHJcbiAqIGBgYFxyXG4gKiBvclxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgcG9wdXAgPSBMLnBvcHVwKGxhdGxuZywge2NvbnRlbnQ6ICc8cD5IZWxsbyB3b3JsZCE8YnIgLz5UaGlzIGlzIGEgbmljZSBwb3B1cC48L3A+JylcclxuICogXHQub3Blbk9uKG1hcCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvcHVwXHJcbmV4cG9ydCB2YXIgUG9wdXAgPSBEaXZPdmVybGF5LmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBQb3B1cCBvcHRpb25zXHJcblx0b3B0aW9uczoge1xyXG5cdFx0Ly8gQG9wdGlvbiBwYW5lOiBTdHJpbmcgPSAncG9wdXBQYW5lJ1xyXG5cdFx0Ly8gYE1hcCBwYW5lYCB3aGVyZSB0aGUgcG9wdXAgd2lsbCBiZSBhZGRlZC5cclxuXHRcdHBhbmU6ICdwb3B1cFBhbmUnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gb2Zmc2V0OiBQb2ludCA9IFBvaW50KDAsIDcpXHJcblx0XHQvLyBUaGUgb2Zmc2V0IG9mIHRoZSBwb3B1cCBwb3NpdGlvbi5cclxuXHRcdG9mZnNldDogWzAsIDddLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4V2lkdGg6IE51bWJlciA9IDMwMFxyXG5cdFx0Ly8gTWF4IHdpZHRoIG9mIHRoZSBwb3B1cCwgaW4gcGl4ZWxzLlxyXG5cdFx0bWF4V2lkdGg6IDMwMCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIG1pbldpZHRoOiBOdW1iZXIgPSA1MFxyXG5cdFx0Ly8gTWluIHdpZHRoIG9mIHRoZSBwb3B1cCwgaW4gcGl4ZWxzLlxyXG5cdFx0bWluV2lkdGg6IDUwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4SGVpZ2h0OiBOdW1iZXIgPSBudWxsXHJcblx0XHQvLyBJZiBzZXQsIGNyZWF0ZXMgYSBzY3JvbGxhYmxlIGNvbnRhaW5lciBvZiB0aGUgZ2l2ZW4gaGVpZ2h0XHJcblx0XHQvLyBpbnNpZGUgYSBwb3B1cCBpZiBpdHMgY29udGVudCBleGNlZWRzIGl0LlxyXG5cdFx0Ly8gVGhlIHNjcm9sbGFibGUgY29udGFpbmVyIGNhbiBiZSBzdHlsZWQgdXNpbmcgdGhlXHJcblx0XHQvLyBgbGVhZmxldC1wb3B1cC1zY3JvbGxlZGAgQ1NTIGNsYXNzIHNlbGVjdG9yLlxyXG5cdFx0bWF4SGVpZ2h0OiBudWxsLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gYXV0b1BhbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSBkb24ndCB3YW50IHRoZSBtYXAgdG8gZG8gcGFubmluZyBhbmltYXRpb25cclxuXHRcdC8vIHRvIGZpdCB0aGUgb3BlbmVkIHBvcHVwLlxyXG5cdFx0YXV0b1BhbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nVG9wTGVmdDogUG9pbnQgPSBudWxsXHJcblx0XHQvLyBUaGUgbWFyZ2luIGJldHdlZW4gdGhlIHBvcHVwIGFuZCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBtYXBcclxuXHRcdC8vIHZpZXcgYWZ0ZXIgYXV0b3Bhbm5pbmcgd2FzIHBlcmZvcm1lZC5cclxuXHRcdGF1dG9QYW5QYWRkaW5nVG9wTGVmdDogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nQm90dG9tUmlnaHQ6IFBvaW50ID0gbnVsbFxyXG5cdFx0Ly8gVGhlIG1hcmdpbiBiZXR3ZWVuIHRoZSBwb3B1cCBhbmQgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIgb2YgdGhlIG1hcFxyXG5cdFx0Ly8gdmlldyBhZnRlciBhdXRvcGFubmluZyB3YXMgcGVyZm9ybWVkLlxyXG5cdFx0YXV0b1BhblBhZGRpbmdCb3R0b21SaWdodDogbnVsbCxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9QYW5QYWRkaW5nOiBQb2ludCA9IFBvaW50KDUsIDUpXHJcblx0XHQvLyBFcXVpdmFsZW50IG9mIHNldHRpbmcgYm90aCB0b3AgbGVmdCBhbmQgYm90dG9tIHJpZ2h0IGF1dG9wYW4gcGFkZGluZyB0byB0aGUgc2FtZSB2YWx1ZS5cclxuXHRcdGF1dG9QYW5QYWRkaW5nOiBbNSwgNV0sXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBrZWVwSW5WaWV3OiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIFNldCBpdCB0byBgdHJ1ZWAgaWYgeW91IHdhbnQgdG8gcHJldmVudCB1c2VycyBmcm9tIHBhbm5pbmcgdGhlIHBvcHVwXHJcblx0XHQvLyBvZmYgb2YgdGhlIHNjcmVlbiB3aGlsZSBpdCBpcyBvcGVuLlxyXG5cdFx0a2VlcEluVmlldzogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjbG9zZUJ1dHRvbjogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIENvbnRyb2xzIHRoZSBwcmVzZW5jZSBvZiBhIGNsb3NlIGJ1dHRvbiBpbiB0aGUgcG9wdXAuXHJcblx0XHRjbG9zZUJ1dHRvbjogdHJ1ZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGF1dG9DbG9zZTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSB3YW50IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mXHJcblx0XHQvLyB0aGUgcG9wdXAgY2xvc2luZyB3aGVuIGFub3RoZXIgcG9wdXAgaXMgb3BlbmVkLlxyXG5cdFx0YXV0b0Nsb3NlOiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gY2xvc2VPbkVzY2FwZUtleTogQm9vbGVhbiA9IHRydWVcclxuXHRcdC8vIFNldCBpdCB0byBgZmFsc2VgIGlmIHlvdSB3YW50IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mXHJcblx0XHQvLyB0aGUgRVNDIGtleSBmb3IgY2xvc2luZyBvZiB0aGUgcG9wdXAuXHJcblx0XHRjbG9zZU9uRXNjYXBlS2V5OiB0cnVlLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gY2xvc2VPbkNsaWNrOiBCb29sZWFuID0gKlxyXG5cdFx0Ly8gU2V0IGl0IGlmIHlvdSB3YW50IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBwb3B1cCBjbG9zaW5nIHdoZW4gdXNlciBjbGlja3NcclxuXHRcdC8vIG9uIHRoZSBtYXAuIERlZmF1bHRzIHRvIHRoZSBtYXAncyBbYGNsb3NlUG9wdXBPbkNsaWNrYF0oI21hcC1jbG9zZXBvcHVwb25jbGljaykgb3B0aW9uLlxyXG5cclxuXHRcdC8vIEBvcHRpb24gY2xhc3NOYW1lOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gQSBjdXN0b20gQ1NTIGNsYXNzIG5hbWUgdG8gYXNzaWduIHRvIHRoZSBwb3B1cC5cclxuXHRcdGNsYXNzTmFtZTogJydcclxuXHR9LFxyXG5cclxuXHQvLyBAbmFtZXNwYWNlIFBvcHVwXHJcblx0Ly8gQG1ldGhvZCBvcGVuT24obWFwOiBNYXApOiB0aGlzXHJcblx0Ly8gQWx0ZXJuYXRpdmUgdG8gYG1hcC5vcGVuUG9wdXAocG9wdXApYC5cclxuXHQvLyBBZGRzIHRoZSBwb3B1cCB0byB0aGUgbWFwIGFuZCBjbG9zZXMgdGhlIHByZXZpb3VzIG9uZS5cclxuXHRvcGVuT246IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdG1hcCA9IGFyZ3VtZW50cy5sZW5ndGggPyBtYXAgOiB0aGlzLl9zb3VyY2UuX21hcDsgLy8gZXhwZXJpbWVudGFsLCBub3QgdGhlIHBhcnQgb2YgcHVibGljIGFwaVxyXG5cclxuXHRcdGlmICghbWFwLmhhc0xheWVyKHRoaXMpICYmIG1hcC5fcG9wdXAgJiYgbWFwLl9wb3B1cC5vcHRpb25zLmF1dG9DbG9zZSkge1xyXG5cdFx0XHRtYXAucmVtb3ZlTGF5ZXIobWFwLl9wb3B1cCk7XHJcblx0XHR9XHJcblx0XHRtYXAuX3BvcHVwID0gdGhpcztcclxuXHJcblx0XHRyZXR1cm4gRGl2T3ZlcmxheS5wcm90b3R5cGUub3Blbk9uLmNhbGwodGhpcywgbWFwKTtcclxuXHR9LFxyXG5cclxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xyXG5cdFx0RGl2T3ZlcmxheS5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzLCBtYXApO1xyXG5cclxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXHJcblx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdC8vIEBldmVudCBwb3B1cG9wZW46IFBvcHVwRXZlbnRcclxuXHRcdC8vIEZpcmVkIHdoZW4gYSBwb3B1cCBpcyBvcGVuZWQgaW4gdGhlIG1hcFxyXG5cdFx0bWFwLmZpcmUoJ3BvcHVwb3BlbicsIHtwb3B1cDogdGhpc30pO1xyXG5cclxuXHRcdGlmICh0aGlzLl9zb3VyY2UpIHtcclxuXHRcdFx0Ly8gQG5hbWVzcGFjZSBMYXllclxyXG5cdFx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdFx0Ly8gQGV2ZW50IHBvcHVwb3BlbjogUG9wdXBFdmVudFxyXG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllciBpcyBvcGVuZWRcclxuXHRcdFx0dGhpcy5fc291cmNlLmZpcmUoJ3BvcHVwb3BlbicsIHtwb3B1cDogdGhpc30sIHRydWUpO1xyXG5cdFx0XHQvLyBGb3Igbm9uLXBhdGggbGF5ZXJzLCB3ZSB0b2dnbGUgdGhlIHBvcHVwIHdoZW4gY2xpY2tpbmdcclxuXHRcdFx0Ly8gYWdhaW4gdGhlIGxheWVyLCBzbyBwcmV2ZW50IHRoZSBtYXAgdG8gcmVvcGVuIGl0LlxyXG5cdFx0XHRpZiAoISh0aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBQYXRoKSkge1xyXG5cdFx0XHRcdHRoaXMuX3NvdXJjZS5vbigncHJlY2xpY2snLCBEb21FdmVudC5zdG9wUHJvcGFnYXRpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcclxuXHRcdERpdk92ZXJsYXkucHJvdG90eXBlLm9uUmVtb3ZlLmNhbGwodGhpcywgbWFwKTtcclxuXHJcblx0XHQvLyBAbmFtZXNwYWNlIE1hcFxyXG5cdFx0Ly8gQHNlY3Rpb24gUG9wdXAgZXZlbnRzXHJcblx0XHQvLyBAZXZlbnQgcG9wdXBjbG9zZTogUG9wdXBFdmVudFxyXG5cdFx0Ly8gRmlyZWQgd2hlbiBhIHBvcHVwIGluIHRoZSBtYXAgaXMgY2xvc2VkXHJcblx0XHRtYXAuZmlyZSgncG9wdXBjbG9zZScsIHtwb3B1cDogdGhpc30pO1xyXG5cclxuXHRcdGlmICh0aGlzLl9zb3VyY2UpIHtcclxuXHRcdFx0Ly8gQG5hbWVzcGFjZSBMYXllclxyXG5cdFx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdFx0Ly8gQGV2ZW50IHBvcHVwY2xvc2U6IFBvcHVwRXZlbnRcclxuXHRcdFx0Ly8gRmlyZWQgd2hlbiBhIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaXMgY2xvc2VkXHJcblx0XHRcdHRoaXMuX3NvdXJjZS5maXJlKCdwb3B1cGNsb3NlJywge3BvcHVwOiB0aGlzfSwgdHJ1ZSk7XHJcblx0XHRcdGlmICghKHRoaXMuX3NvdXJjZSBpbnN0YW5jZW9mIFBhdGgpKSB7XHJcblx0XHRcdFx0dGhpcy5fc291cmNlLm9mZigncHJlY2xpY2snLCBEb21FdmVudC5zdG9wUHJvcGFnYXRpb24pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZXZlbnRzID0gRGl2T3ZlcmxheS5wcm90b3R5cGUuZ2V0RXZlbnRzLmNhbGwodGhpcyk7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgIT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgOiB0aGlzLl9tYXAub3B0aW9ucy5jbG9zZVBvcHVwT25DbGljaykge1xyXG5cdFx0XHRldmVudHMucHJlY2xpY2sgPSB0aGlzLmNsb3NlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMua2VlcEluVmlldykge1xyXG5cdFx0XHRldmVudHMubW92ZWVuZCA9IHRoaXMuX2FkanVzdFBhbjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZXZlbnRzO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0TGF5b3V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgcHJlZml4ID0gJ2xlYWZsZXQtcG9wdXAnLFxyXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLFxyXG5cdFx0XHRwcmVmaXggKyAnICcgKyAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSB8fCAnJykgK1xyXG5cdFx0XHQnIGxlYWZsZXQtem9vbS1hbmltYXRlZCcpO1xyXG5cclxuXHRcdHZhciB3cmFwcGVyID0gdGhpcy5fd3JhcHBlciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLWNvbnRlbnQtd3JhcHBlcicsIGNvbnRhaW5lcik7XHJcblx0XHR0aGlzLl9jb250ZW50Tm9kZSA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLWNvbnRlbnQnLCB3cmFwcGVyKTtcclxuXHJcblx0XHREb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihjb250YWluZXIpO1xyXG5cdFx0RG9tRXZlbnQuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKHRoaXMuX2NvbnRlbnROb2RlKTtcclxuXHRcdERvbUV2ZW50Lm9uKGNvbnRhaW5lciwgJ2NvbnRleHRtZW51JywgRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTtcclxuXHJcblx0XHR0aGlzLl90aXBDb250YWluZXIgPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy10aXAtY29udGFpbmVyJywgY29udGFpbmVyKTtcclxuXHRcdHRoaXMuX3RpcCA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLXRpcCcsIHRoaXMuX3RpcENvbnRhaW5lcik7XHJcblxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbikge1xyXG5cdFx0XHR2YXIgY2xvc2VCdXR0b24gPSB0aGlzLl9jbG9zZUJ1dHRvbiA9IERvbVV0aWwuY3JlYXRlKCdhJywgcHJlZml4ICsgJy1jbG9zZS1idXR0b24nLCBjb250YWluZXIpO1xyXG5cdFx0XHRjbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7IC8vIG92ZXJyaWRlcyB0aGUgaW1wbGljaXQgcm9sZT1saW5rIG9mIDxhPiBlbGVtZW50cyAjNzM5OVxyXG5cdFx0XHRjbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2xvc2UgcG9wdXAnKTtcclxuXHRcdFx0Y2xvc2VCdXR0b24uaHJlZiA9ICcjY2xvc2UnO1xyXG5cdFx0XHRjbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JiMyMTU7PC9zcGFuPic7XHJcblxyXG5cdFx0XHREb21FdmVudC5vbihjbG9zZUJ1dHRvbiwgJ2NsaWNrJywgZnVuY3Rpb24gKGV2KSB7XHJcblx0XHRcdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZXYpO1xyXG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3VwZGF0ZUxheW91dDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRlbnROb2RlLFxyXG5cdFx0ICAgIHN0eWxlID0gY29udGFpbmVyLnN0eWxlO1xyXG5cclxuXHRcdHN0eWxlLndpZHRoID0gJyc7XHJcblx0XHRzdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7XHJcblxyXG5cdFx0dmFyIHdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoO1xyXG5cdFx0d2lkdGggPSBNYXRoLm1pbih3aWR0aCwgdGhpcy5vcHRpb25zLm1heFdpZHRoKTtcclxuXHRcdHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIHRoaXMub3B0aW9ucy5taW5XaWR0aCk7XHJcblxyXG5cdFx0c3R5bGUud2lkdGggPSAod2lkdGggKyAxKSArICdweCc7XHJcblx0XHRzdHlsZS53aGl0ZVNwYWNlID0gJyc7XHJcblxyXG5cdFx0c3R5bGUuaGVpZ2h0ID0gJyc7XHJcblxyXG5cdFx0dmFyIGhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQsXHJcblx0XHQgICAgbWF4SGVpZ2h0ID0gdGhpcy5vcHRpb25zLm1heEhlaWdodCxcclxuXHRcdCAgICBzY3JvbGxlZENsYXNzID0gJ2xlYWZsZXQtcG9wdXAtc2Nyb2xsZWQnO1xyXG5cclxuXHRcdGlmIChtYXhIZWlnaHQgJiYgaGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XHJcblx0XHRcdHN0eWxlLmhlaWdodCA9IG1heEhlaWdodCArICdweCc7XHJcblx0XHRcdERvbVV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCBzY3JvbGxlZENsYXNzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdERvbVV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCBzY3JvbGxlZENsYXNzKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9jb250YWluZXJXaWR0aCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuXHR9LFxyXG5cclxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChlKSB7XHJcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLCBlLnpvb20sIGUuY2VudGVyKSxcclxuXHRcdCAgICBhbmNob3IgPSB0aGlzLl9nZXRBbmNob3IoKTtcclxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLCBwb3MuYWRkKGFuY2hvcikpO1xyXG5cdH0sXHJcblxyXG5cdF9hZGp1c3RQYW46IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICghdGhpcy5vcHRpb25zLmF1dG9QYW4pIHsgcmV0dXJuOyB9XHJcblx0XHRpZiAodGhpcy5fbWFwLl9wYW5BbmltKSB7IHRoaXMuX21hcC5fcGFuQW5pbS5zdG9wKCk7IH1cclxuXHJcblx0XHQvLyBXZSBjYW4gZW5kbGVzc2x5IHJlY3Vyc2UgaWYga2VlcEluVmlldyBpcyBzZXQgYW5kIHRoZSB2aWV3IHJlc2V0cy5cclxuXHRcdC8vIExldCdzIGd1YXJkIGFnYWluc3QgdGhhdCBieSBleGl0aW5nIGVhcmx5IGlmIHdlJ3JlIHJlc3BvbmRpbmcgdG8gb3VyIG93biBhdXRvcGFuLlxyXG5cdFx0aWYgKHRoaXMuX2F1dG9wYW5uaW5nKSB7XHJcblx0XHRcdHRoaXMuX2F1dG9wYW5uaW5nID0gZmFsc2U7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwLFxyXG5cdFx0ICAgIG1hcmdpbkJvdHRvbSA9IHBhcnNlSW50KERvbVV0aWwuZ2V0U3R5bGUodGhpcy5fY29udGFpbmVyLCAnbWFyZ2luQm90dG9tJyksIDEwKSB8fCAwLFxyXG5cdFx0ICAgIGNvbnRhaW5lckhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRIZWlnaHQgKyBtYXJnaW5Cb3R0b20sXHJcblx0XHQgICAgY29udGFpbmVyV2lkdGggPSB0aGlzLl9jb250YWluZXJXaWR0aCxcclxuXHRcdCAgICBsYXllclBvcyA9IG5ldyBQb2ludCh0aGlzLl9jb250YWluZXJMZWZ0LCAtY29udGFpbmVySGVpZ2h0IC0gdGhpcy5fY29udGFpbmVyQm90dG9tKTtcclxuXHJcblx0XHRsYXllclBvcy5fYWRkKERvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7XHJcblxyXG5cdFx0dmFyIGNvbnRhaW5lclBvcyA9IG1hcC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChsYXllclBvcyksXHJcblx0XHQgICAgcGFkZGluZyA9IHRvUG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKSxcclxuXHRcdCAgICBwYWRkaW5nVEwgPSB0b1BvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ1RvcExlZnQgfHwgcGFkZGluZyksXHJcblx0XHQgICAgcGFkZGluZ0JSID0gdG9Qb2ludCh0aGlzLm9wdGlvbnMuYXV0b1BhblBhZGRpbmdCb3R0b21SaWdodCB8fCBwYWRkaW5nKSxcclxuXHRcdCAgICBzaXplID0gbWFwLmdldFNpemUoKSxcclxuXHRcdCAgICBkeCA9IDAsXHJcblx0XHQgICAgZHkgPSAwO1xyXG5cclxuXHRcdGlmIChjb250YWluZXJQb3MueCArIGNvbnRhaW5lcldpZHRoICsgcGFkZGluZ0JSLnggPiBzaXplLngpIHsgLy8gcmlnaHRcclxuXHRcdFx0ZHggPSBjb250YWluZXJQb3MueCArIGNvbnRhaW5lcldpZHRoIC0gc2l6ZS54ICsgcGFkZGluZ0JSLng7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyUG9zLnggLSBkeCAtIHBhZGRpbmdUTC54IDwgMCkgeyAvLyBsZWZ0XHJcblx0XHRcdGR4ID0gY29udGFpbmVyUG9zLnggLSBwYWRkaW5nVEwueDtcclxuXHRcdH1cclxuXHRcdGlmIChjb250YWluZXJQb3MueSArIGNvbnRhaW5lckhlaWdodCArIHBhZGRpbmdCUi55ID4gc2l6ZS55KSB7IC8vIGJvdHRvbVxyXG5cdFx0XHRkeSA9IGNvbnRhaW5lclBvcy55ICsgY29udGFpbmVySGVpZ2h0IC0gc2l6ZS55ICsgcGFkZGluZ0JSLnk7XHJcblx0XHR9XHJcblx0XHRpZiAoY29udGFpbmVyUG9zLnkgLSBkeSAtIHBhZGRpbmdUTC55IDwgMCkgeyAvLyB0b3BcclxuXHRcdFx0ZHkgPSBjb250YWluZXJQb3MueSAtIHBhZGRpbmdUTC55O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEBuYW1lc3BhY2UgTWFwXHJcblx0XHQvLyBAc2VjdGlvbiBQb3B1cCBldmVudHNcclxuXHRcdC8vIEBldmVudCBhdXRvcGFuc3RhcnQ6IEV2ZW50XHJcblx0XHQvLyBGaXJlZCB3aGVuIHRoZSBtYXAgc3RhcnRzIGF1dG9wYW5uaW5nIHdoZW4gb3BlbmluZyBhIHBvcHVwLlxyXG5cdFx0aWYgKGR4IHx8IGR5KSB7XHJcblx0XHRcdC8vIFRyYWNrIHRoYXQgd2UncmUgYXV0b3Bhbm5pbmcsIGFzIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSByZS1yYW4gb24gbW92ZWVuZFxyXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLmtlZXBJblZpZXcpIHtcclxuXHRcdFx0XHR0aGlzLl9hdXRvcGFubmluZyA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1hcFxyXG5cdFx0XHQgICAgLmZpcmUoJ2F1dG9wYW5zdGFydCcpXHJcblx0XHRcdCAgICAucGFuQnkoW2R4LCBkeV0pO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9nZXRBbmNob3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vIFdoZXJlIHNob3VsZCB3ZSBhbmNob3IgdGhlIHBvcHVwIG9uIHRoZSBzb3VyY2UgbGF5ZXI/XHJcblx0XHRyZXR1cm4gdG9Qb2ludCh0aGlzLl9zb3VyY2UgJiYgdGhpcy5fc291cmNlLl9nZXRQb3B1cEFuY2hvciA/IHRoaXMuX3NvdXJjZS5fZ2V0UG9wdXBBbmNob3IoKSA6IFswLCAwXSk7XHJcblx0fVxyXG5cclxufSk7XHJcblxyXG4vLyBAbmFtZXNwYWNlIFBvcHVwXHJcbi8vIEBmYWN0b3J5IEwucG9wdXAob3B0aW9ucz86IFBvcHVwIG9wdGlvbnMsIHNvdXJjZT86IExheWVyKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBgUG9wdXBgIG9iamVjdCBnaXZlbiBhbiBvcHRpb25hbCBgb3B0aW9uc2Agb2JqZWN0IHRoYXQgZGVzY3JpYmVzIGl0cyBhcHBlYXJhbmNlIGFuZCBsb2NhdGlvbiBhbmQgYW4gb3B0aW9uYWwgYHNvdXJjZWAgb2JqZWN0IHRoYXQgaXMgdXNlZCB0byB0YWcgdGhlIHBvcHVwIHdpdGggYSByZWZlcmVuY2UgdG8gdGhlIExheWVyIHRvIHdoaWNoIGl0IHJlZmVycy5cclxuLy8gQGFsdGVybmF0aXZlXHJcbi8vIEBmYWN0b3J5IEwucG9wdXAobGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBQb3B1cCBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSBgUG9wdXBgIG9iamVjdCBnaXZlbiBgbGF0bG5nYCB3aGVyZSB0aGUgcG9wdXAgd2lsbCBvcGVuIGFuZCBhbiBvcHRpb25hbCBgb3B0aW9uc2Agb2JqZWN0IHRoYXQgZGVzY3JpYmVzIGl0cyBhcHBlYXJhbmNlIGFuZCBsb2NhdGlvbi5cclxuZXhwb3J0IHZhciBwb3B1cCA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcclxuXHRyZXR1cm4gbmV3IFBvcHVwKG9wdGlvbnMsIHNvdXJjZSk7XHJcbn07XHJcblxyXG5cclxuLyogQG5hbWVzcGFjZSBNYXBcclxuICogQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xyXG4gKiBAb3B0aW9uIGNsb3NlUG9wdXBPbkNsaWNrOiBCb29sZWFuID0gdHJ1ZVxyXG4gKiBTZXQgaXQgdG8gYGZhbHNlYCBpZiB5b3UgZG9uJ3Qgd2FudCBwb3B1cHMgdG8gY2xvc2Ugd2hlbiB1c2VyIGNsaWNrcyB0aGUgbWFwLlxyXG4gKi9cclxuTWFwLm1lcmdlT3B0aW9ucyh7XHJcblx0Y2xvc2VQb3B1cE9uQ2xpY2s6IHRydWVcclxufSk7XHJcblxyXG5cclxuLy8gQG5hbWVzcGFjZSBNYXBcclxuLy8gQHNlY3Rpb24gTWV0aG9kcyBmb3IgTGF5ZXJzIGFuZCBDb250cm9sc1xyXG5NYXAuaW5jbHVkZSh7XHJcblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAocG9wdXA6IFBvcHVwKTogdGhpc1xyXG5cdC8vIE9wZW5zIHRoZSBzcGVjaWZpZWQgcG9wdXAgd2hpbGUgY2xvc2luZyB0aGUgcHJldmlvdXNseSBvcGVuZWQgKHRvIG1ha2Ugc3VyZSBvbmx5IG9uZSBpcyBvcGVuZWQgYXQgb25lIHRpbWUgZm9yIHVzYWJpbGl0eSkuXHJcblx0Ly8gQGFsdGVybmF0aXZlXHJcblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50LCBsYXRsbmc6IExhdExuZywgb3B0aW9ucz86IFBvcHVwIG9wdGlvbnMpOiB0aGlzXHJcblx0Ly8gQ3JlYXRlcyBhIHBvcHVwIHdpdGggdGhlIHNwZWNpZmllZCBjb250ZW50IGFuZCBvcHRpb25zIGFuZCBvcGVucyBpdCBpbiB0aGUgZ2l2ZW4gcG9pbnQgb24gYSBtYXAuXHJcblx0b3BlblBvcHVwOiBmdW5jdGlvbiAocG9wdXAsIGxhdGxuZywgb3B0aW9ucykge1xyXG5cdFx0dGhpcy5faW5pdE92ZXJsYXkoUG9wdXAsIHBvcHVwLCBsYXRsbmcsIG9wdGlvbnMpXHJcblx0XHQgIC5vcGVuT24odGhpcyk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBjbG9zZVBvcHVwKHBvcHVwPzogUG9wdXApOiB0aGlzXHJcblx0Ly8gQ2xvc2VzIHRoZSBwb3B1cCBwcmV2aW91c2x5IG9wZW5lZCB3aXRoIFtvcGVuUG9wdXBdKCNtYXAtb3BlbnBvcHVwKSAob3IgdGhlIGdpdmVuIG9uZSkuXHJcblx0Y2xvc2VQb3B1cDogZnVuY3Rpb24gKHBvcHVwKSB7XHJcblx0XHRwb3B1cCA9IGFyZ3VtZW50cy5sZW5ndGggPyBwb3B1cCA6IHRoaXMuX3BvcHVwO1xyXG5cdFx0aWYgKHBvcHVwKSB7XHJcblx0XHRcdHBvcHVwLmNsb3NlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcbn0pO1xyXG5cclxuLypcclxuICogQG5hbWVzcGFjZSBMYXllclxyXG4gKiBAc2VjdGlvbiBQb3B1cCBtZXRob2RzIGV4YW1wbGVcclxuICpcclxuICogQWxsIGxheWVycyBzaGFyZSBhIHNldCBvZiBtZXRob2RzIGNvbnZlbmllbnQgZm9yIGJpbmRpbmcgcG9wdXBzIHRvIGl0LlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgbGF5ZXIgPSBMLlBvbHlnb24obGF0bG5ncykuYmluZFBvcHVwKCdIaSBUaGVyZSEnKS5hZGRUbyhtYXApO1xyXG4gKiBsYXllci5vcGVuUG9wdXAoKTtcclxuICogbGF5ZXIuY2xvc2VQb3B1cCgpO1xyXG4gKiBgYGBcclxuICpcclxuICogUG9wdXBzIHdpbGwgYWxzbyBiZSBhdXRvbWF0aWNhbGx5IG9wZW5lZCB3aGVuIHRoZSBsYXllciBpcyBjbGlja2VkIG9uIGFuZCBjbG9zZWQgd2hlbiB0aGUgbGF5ZXIgaXMgcmVtb3ZlZCBmcm9tIHRoZSBtYXAgb3IgYW5vdGhlciBwb3B1cCBpcyBvcGVuZWQuXHJcbiAqL1xyXG5cclxuLy8gQHNlY3Rpb24gUG9wdXAgbWV0aG9kc1xyXG5MYXllci5pbmNsdWRlKHtcclxuXHJcblx0Ly8gQG1ldGhvZCBiaW5kUG9wdXAoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50fEZ1bmN0aW9ufFBvcHVwLCBvcHRpb25zPzogUG9wdXAgb3B0aW9ucyk6IHRoaXNcclxuXHQvLyBCaW5kcyBhIHBvcHVwIHRvIHRoZSBsYXllciB3aXRoIHRoZSBwYXNzZWQgYGNvbnRlbnRgIGFuZCBzZXRzIHVwIHRoZVxyXG5cdC8vIG5lY2Vzc2FyeSBldmVudCBsaXN0ZW5lcnMuIElmIGEgYEZ1bmN0aW9uYCBpcyBwYXNzZWQgaXQgd2lsbCByZWNlaXZlXHJcblx0Ly8gdGhlIGxheWVyIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBhbmQgc2hvdWxkIHJldHVybiBhIGBTdHJpbmdgIG9yIGBIVE1MRWxlbWVudGAuXHJcblx0YmluZFBvcHVwOiBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xyXG5cdFx0dGhpcy5fcG9wdXAgPSB0aGlzLl9pbml0T3ZlcmxheShQb3B1cCwgdGhpcy5fcG9wdXAsIGNvbnRlbnQsIG9wdGlvbnMpO1xyXG5cdFx0aWYgKCF0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQpIHtcclxuXHRcdFx0dGhpcy5vbih7XHJcblx0XHRcdFx0Y2xpY2s6IHRoaXMuX29wZW5Qb3B1cCxcclxuXHRcdFx0XHRrZXlwcmVzczogdGhpcy5fb25LZXlQcmVzcyxcclxuXHRcdFx0XHRyZW1vdmU6IHRoaXMuY2xvc2VQb3B1cCxcclxuXHRcdFx0XHRtb3ZlOiB0aGlzLl9tb3ZlUG9wdXBcclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB1bmJpbmRQb3B1cCgpOiB0aGlzXHJcblx0Ly8gUmVtb3ZlcyB0aGUgcG9wdXAgcHJldmlvdXNseSBib3VuZCB3aXRoIGBiaW5kUG9wdXBgLlxyXG5cdHVuYmluZFBvcHVwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAodGhpcy5fcG9wdXApIHtcclxuXHRcdFx0dGhpcy5vZmYoe1xyXG5cdFx0XHRcdGNsaWNrOiB0aGlzLl9vcGVuUG9wdXAsXHJcblx0XHRcdFx0a2V5cHJlc3M6IHRoaXMuX29uS2V5UHJlc3MsXHJcblx0XHRcdFx0cmVtb3ZlOiB0aGlzLmNsb3NlUG9wdXAsXHJcblx0XHRcdFx0bW92ZTogdGhpcy5fbW92ZVBvcHVwXHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5fcG9wdXAgPSBudWxsO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBvcGVuUG9wdXAobGF0bG5nPzogTGF0TG5nKTogdGhpc1xyXG5cdC8vIE9wZW5zIHRoZSBib3VuZCBwb3B1cCBhdCB0aGUgc3BlY2lmaWVkIGBsYXRsbmdgIG9yIGF0IHRoZSBkZWZhdWx0IHBvcHVwIGFuY2hvciBpZiBubyBgbGF0bG5nYCBpcyBwYXNzZWQuXHJcblx0b3BlblBvcHVwOiBmdW5jdGlvbiAobGF0bG5nKSB7XHJcblx0XHRpZiAodGhpcy5fcG9wdXApIHtcclxuXHRcdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIEZlYXR1cmVHcm91cCkpIHtcclxuXHRcdFx0XHR0aGlzLl9wb3B1cC5fc291cmNlID0gdGhpcztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy5fcG9wdXAuX3ByZXBhcmVPcGVuKGxhdGxuZyB8fCB0aGlzLl9sYXRsbmcpKSB7XHJcblx0XHRcdFx0Ly8gb3BlbiB0aGUgcG9wdXAgb24gdGhlIG1hcFxyXG5cdFx0XHRcdHRoaXMuX3BvcHVwLm9wZW5Pbih0aGlzLl9tYXApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGNsb3NlUG9wdXAoKTogdGhpc1xyXG5cdC8vIENsb3NlcyB0aGUgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllciBpZiBpdCBpcyBvcGVuLlxyXG5cdGNsb3NlUG9wdXA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh0aGlzLl9wb3B1cCkge1xyXG5cdFx0XHR0aGlzLl9wb3B1cC5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCB0b2dnbGVQb3B1cCgpOiB0aGlzXHJcblx0Ly8gT3BlbnMgb3IgY2xvc2VzIHRoZSBwb3B1cCBib3VuZCB0byB0aGlzIGxheWVyIGRlcGVuZGluZyBvbiBpdHMgY3VycmVudCBzdGF0ZS5cclxuXHR0b2dnbGVQb3B1cDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYgKHRoaXMuX3BvcHVwKSB7XHJcblx0XHRcdHRoaXMuX3BvcHVwLnRvZ2dsZSh0aGlzKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgaXNQb3B1cE9wZW4oKTogYm9vbGVhblxyXG5cdC8vIFJldHVybnMgYHRydWVgIGlmIHRoZSBwb3B1cCBib3VuZCB0byB0aGlzIGxheWVyIGlzIGN1cnJlbnRseSBvcGVuLlxyXG5cdGlzUG9wdXBPcGVuOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gKHRoaXMuX3BvcHVwID8gdGhpcy5fcG9wdXAuaXNPcGVuKCkgOiBmYWxzZSk7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRQb3B1cENvbnRlbnQoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50fFBvcHVwKTogdGhpc1xyXG5cdC8vIFNldHMgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcHVwIGJvdW5kIHRvIHRoaXMgbGF5ZXIuXHJcblx0c2V0UG9wdXBDb250ZW50OiBmdW5jdGlvbiAoY29udGVudCkge1xyXG5cdFx0aWYgKHRoaXMuX3BvcHVwKSB7XHJcblx0XHRcdHRoaXMuX3BvcHVwLnNldENvbnRlbnQoY29udGVudCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHQvLyBAbWV0aG9kIGdldFBvcHVwKCk6IFBvcHVwXHJcblx0Ly8gUmV0dXJucyB0aGUgcG9wdXAgYm91bmQgdG8gdGhpcyBsYXllci5cclxuXHRnZXRQb3B1cDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3BvcHVwO1xyXG5cdH0sXHJcblxyXG5cdF9vcGVuUG9wdXA6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoIXRoaXMuX3BvcHVwIHx8ICF0aGlzLl9tYXApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0Ly8gcHJldmVudCBtYXAgY2xpY2tcclxuXHRcdERvbUV2ZW50LnN0b3AoZSk7XHJcblxyXG5cdFx0dmFyIHRhcmdldCA9IGUubGF5ZXIgfHwgZS50YXJnZXQ7XHJcblx0XHRpZiAodGhpcy5fcG9wdXAuX3NvdXJjZSA9PT0gdGFyZ2V0ICYmICEodGFyZ2V0IGluc3RhbmNlb2YgUGF0aCkpIHtcclxuXHRcdFx0Ly8gdHJlYXQgaXQgbGlrZSBhIG1hcmtlciBhbmQgZmlndXJlIG91dFxyXG5cdFx0XHQvLyBpZiB3ZSBzaG91bGQgdG9nZ2xlIGl0IG9wZW4vY2xvc2VkXHJcblx0XHRcdGlmICh0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcy5fcG9wdXApKSB7XHJcblx0XHRcdFx0dGhpcy5jbG9zZVBvcHVwKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5vcGVuUG9wdXAoZS5sYXRsbmcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdHRoaXMuX3BvcHVwLl9zb3VyY2UgPSB0YXJnZXQ7XHJcblx0XHR0aGlzLm9wZW5Qb3B1cChlLmxhdGxuZyk7XHJcblx0fSxcclxuXHJcblx0X21vdmVQb3B1cDogZnVuY3Rpb24gKGUpIHtcclxuXHRcdHRoaXMuX3BvcHVwLnNldExhdExuZyhlLmxhdGxuZyk7XHJcblx0fSxcclxuXHJcblx0X29uS2V5UHJlc3M6IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRpZiAoZS5vcmlnaW5hbEV2ZW50LmtleUNvZGUgPT09IDEzKSB7XHJcblx0XHRcdHRoaXMuX29wZW5Qb3B1cChlKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG4iLCAiaW1wb3J0IHtEaXZPdmVybGF5fSBmcm9tICcuL0Rpdk92ZXJsYXknO1xuaW1wb3J0IHt0b1BvaW50fSBmcm9tICcuLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQge01hcH0gZnJvbSAnLi4vbWFwL01hcCc7XG5pbXBvcnQge0xheWVyfSBmcm9tICcuL0xheWVyJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vZG9tL0RvbUV2ZW50JztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vY29yZS9VdGlsJztcbmltcG9ydCB7RmVhdHVyZUdyb3VwfSBmcm9tICcuL0ZlYXR1cmVHcm91cCc7XG5cbi8qXG4gKiBAY2xhc3MgVG9vbHRpcFxuICogQGluaGVyaXRzIERpdk92ZXJsYXlcbiAqIEBha2EgTC5Ub29sdGlwXG4gKiBVc2VkIHRvIGRpc3BsYXkgc21hbGwgdGV4dHMgb24gdG9wIG9mIG1hcCBsYXllcnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIElmIHlvdSB3YW50IHRvIGp1c3QgYmluZCBhIHRvb2x0aXAgdG8gbWFya2VyOlxuICpcbiAqIGBgYGpzXG4gKiBtYXJrZXIuYmluZFRvb2x0aXAoXCJteSB0b29sdGlwIHRleHRcIikub3BlblRvb2x0aXAoKTtcbiAqIGBgYFxuICogUGF0aCBvdmVybGF5cyBsaWtlIHBvbHlsaW5lcyBhbHNvIGhhdmUgYSBgYmluZFRvb2x0aXBgIG1ldGhvZC5cbiAqXG4gKiBBIHRvb2x0aXAgY2FuIGJlIGFsc28gc3RhbmRhbG9uZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHRvb2x0aXAgPSBMLnRvb2x0aXAoKVxuICogXHQuc2V0TGF0TG5nKGxhdGxuZylcbiAqIFx0LnNldENvbnRlbnQoJ0hlbGxvIHdvcmxkITxiciAvPlRoaXMgaXMgYSBuaWNlIHRvb2x0aXAuJylcbiAqIFx0LmFkZFRvKG1hcCk7XG4gKiBgYGBcbiAqIG9yXG4gKiBgYGBqc1xuICogdmFyIHRvb2x0aXAgPSBMLnRvb2x0aXAobGF0bG5nLCB7Y29udGVudDogJ0hlbGxvIHdvcmxkITxiciAvPlRoaXMgaXMgYSBuaWNlIHRvb2x0aXAuJ30pXG4gKiBcdC5hZGRUbyhtYXApO1xuICogYGBgXG4gKlxuICpcbiAqIE5vdGUgYWJvdXQgdG9vbHRpcCBvZmZzZXQuIExlYWZsZXQgdGFrZXMgdHdvIG9wdGlvbnMgaW4gY29uc2lkZXJhdGlvblxuICogZm9yIGNvbXB1dGluZyB0b29sdGlwIG9mZnNldHRpbmc6XG4gKiAtIHRoZSBgb2Zmc2V0YCBUb29sdGlwIG9wdGlvbjogaXQgZGVmYXVsdHMgdG8gWzAsIDBdLCBhbmQgaXQncyBzcGVjaWZpYyB0byBvbmUgdG9vbHRpcC5cbiAqICAgQWRkIGEgcG9zaXRpdmUgeCBvZmZzZXQgdG8gbW92ZSB0aGUgdG9vbHRpcCB0byB0aGUgcmlnaHQsIGFuZCBhIHBvc2l0aXZlIHkgb2Zmc2V0IHRvXG4gKiAgIG1vdmUgaXQgdG8gdGhlIGJvdHRvbS4gTmVnYXRpdmVzIHdpbGwgbW92ZSB0byB0aGUgbGVmdCBhbmQgdG9wLlxuICogLSB0aGUgYHRvb2x0aXBBbmNob3JgIEljb24gb3B0aW9uOiB0aGlzIHdpbGwgb25seSBiZSBjb25zaWRlcmVkIGZvciBNYXJrZXIuIFlvdVxuICogICBzaG91bGQgYWRhcHQgdGhpcyB2YWx1ZSBpZiB5b3UgdXNlIGEgY3VzdG9tIGljb24uXG4gKi9cblxuXG4vLyBAbmFtZXNwYWNlIFRvb2x0aXBcbmV4cG9ydCB2YXIgVG9vbHRpcCA9IERpdk92ZXJsYXkuZXh0ZW5kKHtcblxuXHQvLyBAc2VjdGlvblxuXHQvLyBAYWthIFRvb2x0aXAgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0Ly8gQG9wdGlvbiBwYW5lOiBTdHJpbmcgPSAndG9vbHRpcFBhbmUnXG5cdFx0Ly8gYE1hcCBwYW5lYCB3aGVyZSB0aGUgdG9vbHRpcCB3aWxsIGJlIGFkZGVkLlxuXHRcdHBhbmU6ICd0b29sdGlwUGFuZScsXG5cblx0XHQvLyBAb3B0aW9uIG9mZnNldDogUG9pbnQgPSBQb2ludCgwLCAwKVxuXHRcdC8vIE9wdGlvbmFsIG9mZnNldCBvZiB0aGUgdG9vbHRpcCBwb3NpdGlvbi5cblx0XHRvZmZzZXQ6IFswLCAwXSxcblxuXHRcdC8vIEBvcHRpb24gZGlyZWN0aW9uOiBTdHJpbmcgPSAnYXV0bydcblx0XHQvLyBEaXJlY3Rpb24gd2hlcmUgdG8gb3BlbiB0aGUgdG9vbHRpcC4gUG9zc2libGUgdmFsdWVzIGFyZTogYHJpZ2h0YCwgYGxlZnRgLFxuXHRcdC8vIGB0b3BgLCBgYm90dG9tYCwgYGNlbnRlcmAsIGBhdXRvYC5cblx0XHQvLyBgYXV0b2Agd2lsbCBkeW5hbWljYWxseSBzd2l0Y2ggYmV0d2VlbiBgcmlnaHRgIGFuZCBgbGVmdGAgYWNjb3JkaW5nIHRvIHRoZSB0b29sdGlwXG5cdFx0Ly8gcG9zaXRpb24gb24gdGhlIG1hcC5cblx0XHRkaXJlY3Rpb246ICdhdXRvJyxcblxuXHRcdC8vIEBvcHRpb24gcGVybWFuZW50OiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBXaGV0aGVyIHRvIG9wZW4gdGhlIHRvb2x0aXAgcGVybWFuZW50bHkgb3Igb25seSBvbiBtb3VzZW92ZXIuXG5cdFx0cGVybWFuZW50OiBmYWxzZSxcblxuXHRcdC8vIEBvcHRpb24gc3RpY2t5OiBCb29sZWFuID0gZmFsc2Vcblx0XHQvLyBJZiB0cnVlLCB0aGUgdG9vbHRpcCB3aWxsIGZvbGxvdyB0aGUgbW91c2UgaW5zdGVhZCBvZiBiZWluZyBmaXhlZCBhdCB0aGUgZmVhdHVyZSBjZW50ZXIuXG5cdFx0c3RpY2t5OiBmYWxzZSxcblxuXHRcdC8vIEBvcHRpb24gb3BhY2l0eTogTnVtYmVyID0gMC45XG5cdFx0Ly8gVG9vbHRpcCBjb250YWluZXIgb3BhY2l0eS5cblx0XHRvcGFjaXR5OiAwLjlcblx0fSxcblxuXHRvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xuXHRcdERpdk92ZXJsYXkucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcblx0XHR0aGlzLnNldE9wYWNpdHkodGhpcy5vcHRpb25zLm9wYWNpdHkpO1xuXG5cdFx0Ly8gQG5hbWVzcGFjZSBNYXBcblx0XHQvLyBAc2VjdGlvbiBUb29sdGlwIGV2ZW50c1xuXHRcdC8vIEBldmVudCB0b29sdGlwb3BlbjogVG9vbHRpcEV2ZW50XG5cdFx0Ly8gRmlyZWQgd2hlbiBhIHRvb2x0aXAgaXMgb3BlbmVkIGluIHRoZSBtYXAuXG5cdFx0bWFwLmZpcmUoJ3Rvb2x0aXBvcGVuJywge3Rvb2x0aXA6IHRoaXN9KTtcblxuXHRcdGlmICh0aGlzLl9zb3VyY2UpIHtcblx0XHRcdHRoaXMuYWRkRXZlbnRQYXJlbnQodGhpcy5fc291cmNlKTtcblxuXHRcdFx0Ly8gQG5hbWVzcGFjZSBMYXllclxuXHRcdFx0Ly8gQHNlY3Rpb24gVG9vbHRpcCBldmVudHNcblx0XHRcdC8vIEBldmVudCB0b29sdGlwb3BlbjogVG9vbHRpcEV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyIGlzIG9wZW5lZC5cblx0XHRcdHRoaXMuX3NvdXJjZS5maXJlKCd0b29sdGlwb3BlbicsIHt0b29sdGlwOiB0aGlzfSwgdHJ1ZSk7XG5cdFx0fVxuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0RGl2T3ZlcmxheS5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuXG5cdFx0Ly8gQG5hbWVzcGFjZSBNYXBcblx0XHQvLyBAc2VjdGlvbiBUb29sdGlwIGV2ZW50c1xuXHRcdC8vIEBldmVudCB0b29sdGlwY2xvc2U6IFRvb2x0aXBFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gYSB0b29sdGlwIGluIHRoZSBtYXAgaXMgY2xvc2VkLlxuXHRcdG1hcC5maXJlKCd0b29sdGlwY2xvc2UnLCB7dG9vbHRpcDogdGhpc30pO1xuXG5cdFx0aWYgKHRoaXMuX3NvdXJjZSkge1xuXHRcdFx0dGhpcy5yZW1vdmVFdmVudFBhcmVudCh0aGlzLl9zb3VyY2UpO1xuXG5cdFx0XHQvLyBAbmFtZXNwYWNlIExheWVyXG5cdFx0XHQvLyBAc2VjdGlvbiBUb29sdGlwIGV2ZW50c1xuXHRcdFx0Ly8gQGV2ZW50IHRvb2x0aXBjbG9zZTogVG9vbHRpcEV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyIGlzIGNsb3NlZC5cblx0XHRcdHRoaXMuX3NvdXJjZS5maXJlKCd0b29sdGlwY2xvc2UnLCB7dG9vbHRpcDogdGhpc30sIHRydWUpO1xuXHRcdH1cblx0fSxcblxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZXZlbnRzID0gRGl2T3ZlcmxheS5wcm90b3R5cGUuZ2V0RXZlbnRzLmNhbGwodGhpcyk7XG5cblx0XHRpZiAoIXRoaXMub3B0aW9ucy5wZXJtYW5lbnQpIHtcblx0XHRcdGV2ZW50cy5wcmVjbGljayA9IHRoaXMuY2xvc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50cztcblx0fSxcblxuXHRfaW5pdExheW91dDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBwcmVmaXggPSAnbGVhZmxldC10b29sdGlwJyxcblx0XHQgICAgY2xhc3NOYW1lID0gcHJlZml4ICsgJyAnICsgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUgfHwgJycpICsgJyBsZWFmbGV0LXpvb20tJyArICh0aGlzLl96b29tQW5pbWF0ZWQgPyAnYW5pbWF0ZWQnIDogJ2hpZGUnKTtcblxuXHRcdHRoaXMuX2NvbnRlbnROb2RlID0gdGhpcy5fY29udGFpbmVyID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSk7XG5cblx0XHR0aGlzLl9jb250YWluZXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3Rvb2x0aXAnKTtcblx0XHR0aGlzLl9jb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdsZWFmbGV0LXRvb2x0aXAtJyArIFV0aWwuc3RhbXAodGhpcykpO1xuXHR9LFxuXG5cdF91cGRhdGVMYXlvdXQ6IGZ1bmN0aW9uICgpIHt9LFxuXG5cdF9hZGp1c3RQYW46IGZ1bmN0aW9uICgpIHt9LFxuXG5cdF9zZXRQb3NpdGlvbjogZnVuY3Rpb24gKHBvcykge1xuXHRcdHZhciBzdWJYLCBzdWJZLFxuXHRcdCAgICBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcixcblx0XHQgICAgY2VudGVyUG9pbnQgPSBtYXAubGF0TG5nVG9Db250YWluZXJQb2ludChtYXAuZ2V0Q2VudGVyKCkpLFxuXHRcdCAgICB0b29sdGlwUG9pbnQgPSBtYXAubGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQocG9zKSxcblx0XHQgICAgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbixcblx0XHQgICAgdG9vbHRpcFdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoLFxuXHRcdCAgICB0b29sdGlwSGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodCxcblx0XHQgICAgb2Zmc2V0ID0gdG9Qb2ludCh0aGlzLm9wdGlvbnMub2Zmc2V0KSxcblx0XHQgICAgYW5jaG9yID0gdGhpcy5fZ2V0QW5jaG9yKCk7XG5cblx0XHRpZiAoZGlyZWN0aW9uID09PSAndG9wJykge1xuXHRcdFx0c3ViWCA9IHRvb2x0aXBXaWR0aCAvIDI7XG5cdFx0XHRzdWJZID0gdG9vbHRpcEhlaWdodDtcblx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpIHtcblx0XHRcdHN1YlggPSB0b29sdGlwV2lkdGggLyAyO1xuXHRcdFx0c3ViWSA9IDA7XG5cdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdjZW50ZXInKSB7XG5cdFx0XHRzdWJYID0gdG9vbHRpcFdpZHRoIC8gMjtcblx0XHRcdHN1YlkgPSB0b29sdGlwSGVpZ2h0IC8gMjtcblx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuXHRcdFx0c3ViWCA9IDA7XG5cdFx0XHRzdWJZID0gdG9vbHRpcEhlaWdodCAvIDI7XG5cdFx0fSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuXHRcdFx0c3ViWCA9IHRvb2x0aXBXaWR0aDtcblx0XHRcdHN1YlkgPSB0b29sdGlwSGVpZ2h0IC8gMjtcblx0XHR9IGVsc2UgaWYgKHRvb2x0aXBQb2ludC54IDwgY2VudGVyUG9pbnQueCkge1xuXHRcdFx0ZGlyZWN0aW9uID0gJ3JpZ2h0Jztcblx0XHRcdHN1YlggPSAwO1xuXHRcdFx0c3ViWSA9IHRvb2x0aXBIZWlnaHQgLyAyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaXJlY3Rpb24gPSAnbGVmdCc7XG5cdFx0XHRzdWJYID0gdG9vbHRpcFdpZHRoICsgKG9mZnNldC54ICsgYW5jaG9yLngpICogMjtcblx0XHRcdHN1YlkgPSB0b29sdGlwSGVpZ2h0IC8gMjtcblx0XHR9XG5cblx0XHRwb3MgPSBwb3Muc3VidHJhY3QodG9Qb2ludChzdWJYLCBzdWJZLCB0cnVlKSkuYWRkKG9mZnNldCkuYWRkKGFuY2hvcik7XG5cblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC1yaWdodCcpO1xuXHRcdERvbVV0aWwucmVtb3ZlQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC10b29sdGlwLWxlZnQnKTtcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC10b3AnKTtcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC1ib3R0b20nKTtcblx0XHREb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdG9vbHRpcC0nICsgZGlyZWN0aW9uKTtcblx0XHREb21VdGlsLnNldFBvc2l0aW9uKGNvbnRhaW5lciwgcG9zKTtcblx0fSxcblxuXHRfdXBkYXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcG9zID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpO1xuXHRcdHRoaXMuX3NldFBvc2l0aW9uKHBvcyk7XG5cdH0sXG5cblx0c2V0T3BhY2l0eTogZnVuY3Rpb24gKG9wYWNpdHkpIHtcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XG5cblx0XHRpZiAodGhpcy5fY29udGFpbmVyKSB7XG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCBvcGFjaXR5KTtcblx0XHR9XG5cdH0sXG5cblx0X2FuaW1hdGVab29tOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBwb3MgPSB0aGlzLl9tYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcsIGUuem9vbSwgZS5jZW50ZXIpO1xuXHRcdHRoaXMuX3NldFBvc2l0aW9uKHBvcyk7XG5cdH0sXG5cblx0X2dldEFuY2hvcjogZnVuY3Rpb24gKCkge1xuXHRcdC8vIFdoZXJlIHNob3VsZCB3ZSBhbmNob3IgdGhlIHRvb2x0aXAgb24gdGhlIHNvdXJjZSBsYXllcj9cblx0XHRyZXR1cm4gdG9Qb2ludCh0aGlzLl9zb3VyY2UgJiYgdGhpcy5fc291cmNlLl9nZXRUb29sdGlwQW5jaG9yICYmICF0aGlzLm9wdGlvbnMuc3RpY2t5ID8gdGhpcy5fc291cmNlLl9nZXRUb29sdGlwQW5jaG9yKCkgOiBbMCwgMF0pO1xuXHR9XG5cbn0pO1xuXG4vLyBAbmFtZXNwYWNlIFRvb2x0aXBcbi8vIEBmYWN0b3J5IEwudG9vbHRpcChvcHRpb25zPzogVG9vbHRpcCBvcHRpb25zLCBzb3VyY2U/OiBMYXllcilcbi8vIEluc3RhbnRpYXRlcyBhIGBUb29sdGlwYCBvYmplY3QgZ2l2ZW4gYW4gb3B0aW9uYWwgYG9wdGlvbnNgIG9iamVjdCB0aGF0IGRlc2NyaWJlcyBpdHMgYXBwZWFyYW5jZSBhbmQgbG9jYXRpb24gYW5kIGFuIG9wdGlvbmFsIGBzb3VyY2VgIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gdGFnIHRoZSB0b29sdGlwIHdpdGggYSByZWZlcmVuY2UgdG8gdGhlIExheWVyIHRvIHdoaWNoIGl0IHJlZmVycy5cbi8vIEBhbHRlcm5hdGl2ZVxuLy8gQGZhY3RvcnkgTC50b29sdGlwKGxhdGxuZzogTGF0TG5nLCBvcHRpb25zPzogVG9vbHRpcCBvcHRpb25zKVxuLy8gSW5zdGFudGlhdGVzIGEgYFRvb2x0aXBgIG9iamVjdCBnaXZlbiBgbGF0bG5nYCB3aGVyZSB0aGUgdG9vbHRpcCB3aWxsIG9wZW4gYW5kIGFuIG9wdGlvbmFsIGBvcHRpb25zYCBvYmplY3QgdGhhdCBkZXNjcmliZXMgaXRzIGFwcGVhcmFuY2UgYW5kIGxvY2F0aW9uLlxuZXhwb3J0IHZhciB0b29sdGlwID0gZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xuXHRyZXR1cm4gbmV3IFRvb2x0aXAob3B0aW9ucywgc291cmNlKTtcbn07XG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBNZXRob2RzIGZvciBMYXllcnMgYW5kIENvbnRyb2xzXG5NYXAuaW5jbHVkZSh7XG5cblx0Ly8gQG1ldGhvZCBvcGVuVG9vbHRpcCh0b29sdGlwOiBUb29sdGlwKTogdGhpc1xuXHQvLyBPcGVucyB0aGUgc3BlY2lmaWVkIHRvb2x0aXAuXG5cdC8vIEBhbHRlcm5hdGl2ZVxuXHQvLyBAbWV0aG9kIG9wZW5Ub29sdGlwKGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudCwgbGF0bG5nOiBMYXRMbmcsIG9wdGlvbnM/OiBUb29sdGlwIG9wdGlvbnMpOiB0aGlzXG5cdC8vIENyZWF0ZXMgYSB0b29sdGlwIHdpdGggdGhlIHNwZWNpZmllZCBjb250ZW50IGFuZCBvcHRpb25zIGFuZCBvcGVuIGl0LlxuXHRvcGVuVG9vbHRpcDogZnVuY3Rpb24gKHRvb2x0aXAsIGxhdGxuZywgb3B0aW9ucykge1xuXHRcdHRoaXMuX2luaXRPdmVybGF5KFRvb2x0aXAsIHRvb2x0aXAsIGxhdGxuZywgb3B0aW9ucylcblx0XHQgIC5vcGVuT24odGhpcyk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGNsb3NlVG9vbHRpcCh0b29sdGlwOiBUb29sdGlwKTogdGhpc1xuXHQvLyBDbG9zZXMgdGhlIHRvb2x0aXAgZ2l2ZW4gYXMgcGFyYW1ldGVyLlxuXHRjbG9zZVRvb2x0aXA6IGZ1bmN0aW9uICh0b29sdGlwKSB7XG5cdFx0dG9vbHRpcC5jbG9zZSgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cbn0pO1xuXG4vKlxuICogQG5hbWVzcGFjZSBMYXllclxuICogQHNlY3Rpb24gVG9vbHRpcCBtZXRob2RzIGV4YW1wbGVcbiAqXG4gKiBBbGwgbGF5ZXJzIHNoYXJlIGEgc2V0IG9mIG1ldGhvZHMgY29udmVuaWVudCBmb3IgYmluZGluZyB0b29sdGlwcyB0byBpdC5cbiAqXG4gKiBgYGBqc1xuICogdmFyIGxheWVyID0gTC5Qb2x5Z29uKGxhdGxuZ3MpLmJpbmRUb29sdGlwKCdIaSBUaGVyZSEnKS5hZGRUbyhtYXApO1xuICogbGF5ZXIub3BlblRvb2x0aXAoKTtcbiAqIGxheWVyLmNsb3NlVG9vbHRpcCgpO1xuICogYGBgXG4gKi9cblxuLy8gQHNlY3Rpb24gVG9vbHRpcCBtZXRob2RzXG5MYXllci5pbmNsdWRlKHtcblxuXHQvLyBAbWV0aG9kIGJpbmRUb29sdGlwKGNvbnRlbnQ6IFN0cmluZ3xIVE1MRWxlbWVudHxGdW5jdGlvbnxUb29sdGlwLCBvcHRpb25zPzogVG9vbHRpcCBvcHRpb25zKTogdGhpc1xuXHQvLyBCaW5kcyBhIHRvb2x0aXAgdG8gdGhlIGxheWVyIHdpdGggdGhlIHBhc3NlZCBgY29udGVudGAgYW5kIHNldHMgdXAgdGhlXG5cdC8vIG5lY2Vzc2FyeSBldmVudCBsaXN0ZW5lcnMuIElmIGEgYEZ1bmN0aW9uYCBpcyBwYXNzZWQgaXQgd2lsbCByZWNlaXZlXG5cdC8vIHRoZSBsYXllciBhcyB0aGUgZmlyc3QgYXJndW1lbnQgYW5kIHNob3VsZCByZXR1cm4gYSBgU3RyaW5nYCBvciBgSFRNTEVsZW1lbnRgLlxuXHRiaW5kVG9vbHRpcDogZnVuY3Rpb24gKGNvbnRlbnQsIG9wdGlvbnMpIHtcblxuXHRcdGlmICh0aGlzLl90b29sdGlwICYmIHRoaXMuaXNUb29sdGlwT3BlbigpKSB7XG5cdFx0XHR0aGlzLnVuYmluZFRvb2x0aXAoKTtcblx0XHR9XG5cblx0XHR0aGlzLl90b29sdGlwID0gdGhpcy5faW5pdE92ZXJsYXkoVG9vbHRpcCwgdGhpcy5fdG9vbHRpcCwgY29udGVudCwgb3B0aW9ucyk7XG5cdFx0dGhpcy5faW5pdFRvb2x0aXBJbnRlcmFjdGlvbnMoKTtcblxuXHRcdGlmICh0aGlzLl90b29sdGlwLm9wdGlvbnMucGVybWFuZW50ICYmIHRoaXMuX21hcCAmJiB0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcykpIHtcblx0XHRcdHRoaXMub3BlblRvb2x0aXAoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIHVuYmluZFRvb2x0aXAoKTogdGhpc1xuXHQvLyBSZW1vdmVzIHRoZSB0b29sdGlwIHByZXZpb3VzbHkgYm91bmQgd2l0aCBgYmluZFRvb2x0aXBgLlxuXHR1bmJpbmRUb29sdGlwOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdHRoaXMuX2luaXRUb29sdGlwSW50ZXJhY3Rpb25zKHRydWUpO1xuXHRcdFx0dGhpcy5jbG9zZVRvb2x0aXAoKTtcblx0XHRcdHRoaXMuX3Rvb2x0aXAgPSBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfaW5pdFRvb2x0aXBJbnRlcmFjdGlvbnM6IGZ1bmN0aW9uIChyZW1vdmUpIHtcblx0XHRpZiAoIXJlbW92ZSAmJiB0aGlzLl90b29sdGlwSGFuZGxlcnNBZGRlZCkgeyByZXR1cm47IH1cblx0XHR2YXIgb25PZmYgPSByZW1vdmUgPyAnb2ZmJyA6ICdvbicsXG5cdFx0ICAgIGV2ZW50cyA9IHtcblx0XHRcdHJlbW92ZTogdGhpcy5jbG9zZVRvb2x0aXAsXG5cdFx0XHRtb3ZlOiB0aGlzLl9tb3ZlVG9vbHRpcFxuXHRcdCAgICB9O1xuXHRcdGlmICghdGhpcy5fdG9vbHRpcC5vcHRpb25zLnBlcm1hbmVudCkge1xuXHRcdFx0ZXZlbnRzLm1vdXNlb3ZlciA9IHRoaXMuX29wZW5Ub29sdGlwO1xuXHRcdFx0ZXZlbnRzLm1vdXNlb3V0ID0gdGhpcy5jbG9zZVRvb2x0aXA7XG5cdFx0XHRldmVudHMuY2xpY2sgPSB0aGlzLl9vcGVuVG9vbHRpcDtcblx0XHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdFx0dGhpcy5fYWRkRm9jdXNMaXN0ZW5lcnMoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV2ZW50cy5hZGQgPSB0aGlzLl9hZGRGb2N1c0xpc3RlbmVycztcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZlbnRzLmFkZCA9IHRoaXMuX29wZW5Ub29sdGlwO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fdG9vbHRpcC5vcHRpb25zLnN0aWNreSkge1xuXHRcdFx0ZXZlbnRzLm1vdXNlbW92ZSA9IHRoaXMuX21vdmVUb29sdGlwO1xuXHRcdH1cblx0XHR0aGlzW29uT2ZmXShldmVudHMpO1xuXHRcdHRoaXMuX3Rvb2x0aXBIYW5kbGVyc0FkZGVkID0gIXJlbW92ZTtcblx0fSxcblxuXHQvLyBAbWV0aG9kIG9wZW5Ub29sdGlwKGxhdGxuZz86IExhdExuZyk6IHRoaXNcblx0Ly8gT3BlbnMgdGhlIGJvdW5kIHRvb2x0aXAgYXQgdGhlIHNwZWNpZmllZCBgbGF0bG5nYCBvciBhdCB0aGUgZGVmYXVsdCB0b29sdGlwIGFuY2hvciBpZiBubyBgbGF0bG5nYCBpcyBwYXNzZWQuXG5cdG9wZW5Ub29sdGlwOiBmdW5jdGlvbiAobGF0bG5nKSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdGlmICghKHRoaXMgaW5zdGFuY2VvZiBGZWF0dXJlR3JvdXApKSB7XG5cdFx0XHRcdHRoaXMuX3Rvb2x0aXAuX3NvdXJjZSA9IHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5fdG9vbHRpcC5fcHJlcGFyZU9wZW4obGF0bG5nKSkge1xuXHRcdFx0XHQvLyBvcGVuIHRoZSB0b29sdGlwIG9uIHRoZSBtYXBcblx0XHRcdFx0dGhpcy5fdG9vbHRpcC5vcGVuT24odGhpcy5fbWFwKTtcblxuXHRcdFx0XHRpZiAodGhpcy5nZXRFbGVtZW50KSB7XG5cdFx0XHRcdFx0dGhpcy5fc2V0QXJpYURlc2NyaWJlZEJ5T25MYXllcih0aGlzKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLmVhY2hMYXllcikge1xuXHRcdFx0XHRcdHRoaXMuZWFjaExheWVyKHRoaXMuX3NldEFyaWFEZXNjcmliZWRCeU9uTGF5ZXIsIHRoaXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgY2xvc2VUb29sdGlwKCk6IHRoaXNcblx0Ly8gQ2xvc2VzIHRoZSB0b29sdGlwIGJvdW5kIHRvIHRoaXMgbGF5ZXIgaWYgaXQgaXMgb3Blbi5cblx0Y2xvc2VUb29sdGlwOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdHJldHVybiB0aGlzLl90b29sdGlwLmNsb3NlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIEBtZXRob2QgdG9nZ2xlVG9vbHRpcCgpOiB0aGlzXG5cdC8vIE9wZW5zIG9yIGNsb3NlcyB0aGUgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyIGRlcGVuZGluZyBvbiBpdHMgY3VycmVudCBzdGF0ZS5cblx0dG9nZ2xlVG9vbHRpcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl90b29sdGlwKSB7XG5cdFx0XHR0aGlzLl90b29sdGlwLnRvZ2dsZSh0aGlzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBpc1Rvb2x0aXBPcGVuKCk6IGJvb2xlYW5cblx0Ly8gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllciBpcyBjdXJyZW50bHkgb3Blbi5cblx0aXNUb29sdGlwT3BlbjogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl90b29sdGlwLmlzT3BlbigpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0VG9vbHRpcENvbnRlbnQoY29udGVudDogU3RyaW5nfEhUTUxFbGVtZW50fFRvb2x0aXApOiB0aGlzXG5cdC8vIFNldHMgdGhlIGNvbnRlbnQgb2YgdGhlIHRvb2x0aXAgYm91bmQgdG8gdGhpcyBsYXllci5cblx0c2V0VG9vbHRpcENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG5cdFx0aWYgKHRoaXMuX3Rvb2x0aXApIHtcblx0XHRcdHRoaXMuX3Rvb2x0aXAuc2V0Q29udGVudChjb250ZW50KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRUb29sdGlwKCk6IFRvb2x0aXBcblx0Ly8gUmV0dXJucyB0aGUgdG9vbHRpcCBib3VuZCB0byB0aGlzIGxheWVyLlxuXHRnZXRUb29sdGlwOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3Rvb2x0aXA7XG5cdH0sXG5cblx0X2FkZEZvY3VzTGlzdGVuZXJzOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuZ2V0RWxlbWVudCkge1xuXHRcdFx0dGhpcy5fYWRkRm9jdXNMaXN0ZW5lcnNPbkxheWVyKHRoaXMpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5lYWNoTGF5ZXIpIHtcblx0XHRcdHRoaXMuZWFjaExheWVyKHRoaXMuX2FkZEZvY3VzTGlzdGVuZXJzT25MYXllciwgdGhpcyk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hZGRGb2N1c0xpc3RlbmVyc09uTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBlbCA9IHR5cGVvZiBsYXllci5nZXRFbGVtZW50ID09PSAnZnVuY3Rpb24nICYmIGxheWVyLmdldEVsZW1lbnQoKTtcblx0XHRpZiAoZWwpIHtcblx0XHRcdERvbUV2ZW50Lm9uKGVsLCAnZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRoaXMuX3Rvb2x0aXAuX3NvdXJjZSA9IGxheWVyO1xuXHRcdFx0XHR0aGlzLm9wZW5Ub29sdGlwKCk7XG5cdFx0XHR9LCB0aGlzKTtcblx0XHRcdERvbUV2ZW50Lm9uKGVsLCAnYmx1cicsIHRoaXMuY2xvc2VUb29sdGlwLCB0aGlzKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldEFyaWFEZXNjcmliZWRCeU9uTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBlbCA9IHR5cGVvZiBsYXllci5nZXRFbGVtZW50ID09PSAnZnVuY3Rpb24nICYmIGxheWVyLmdldEVsZW1lbnQoKTtcblx0XHRpZiAoZWwpIHtcblx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIHRoaXMuX3Rvb2x0aXAuX2NvbnRhaW5lci5pZCk7XG5cdFx0fVxuXHR9LFxuXG5cblx0X29wZW5Ub29sdGlwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghdGhpcy5fdG9vbHRpcCB8fCAhdGhpcy5fbWFwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlIG1hcCBpcyBtb3ZpbmcsIHdlIHdpbGwgc2hvdyB0aGUgdG9vbHRpcCBhZnRlciBpdCdzIGRvbmUuXG5cdFx0aWYgKHRoaXMuX21hcC5kcmFnZ2luZyAmJiB0aGlzLl9tYXAuZHJhZ2dpbmcubW92aW5nKCkgJiYgIXRoaXMuX29wZW5PbmNlRmxhZykge1xuXHRcdFx0dGhpcy5fb3Blbk9uY2VGbGFnID0gdHJ1ZTtcblx0XHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRcdHRoaXMuX21hcC5vbmNlKCdtb3ZlZW5kJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGF0Ll9vcGVuT25jZUZsYWcgPSBmYWxzZTtcblx0XHRcdFx0dGhhdC5fb3BlblRvb2x0aXAoZSk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl90b29sdGlwLl9zb3VyY2UgPSBlLmxheWVyIHx8IGUudGFyZ2V0O1xuXG5cdFx0dGhpcy5vcGVuVG9vbHRpcCh0aGlzLl90b29sdGlwLm9wdGlvbnMuc3RpY2t5ID8gZS5sYXRsbmcgOiB1bmRlZmluZWQpO1xuXHR9LFxuXG5cdF9tb3ZlVG9vbHRpcDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbGF0bG5nID0gZS5sYXRsbmcsIGNvbnRhaW5lclBvaW50LCBsYXllclBvaW50O1xuXHRcdGlmICh0aGlzLl90b29sdGlwLm9wdGlvbnMuc3RpY2t5ICYmIGUub3JpZ2luYWxFdmVudCkge1xuXHRcdFx0Y29udGFpbmVyUG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZS5vcmlnaW5hbEV2ZW50KTtcblx0XHRcdGxheWVyUG9pbnQgPSB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoY29udGFpbmVyUG9pbnQpO1xuXHRcdFx0bGF0bG5nID0gdGhpcy5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhsYXllclBvaW50KTtcblx0XHR9XG5cdFx0dGhpcy5fdG9vbHRpcC5zZXRMYXRMbmcobGF0bG5nKTtcblx0fVxufSk7XG4iLCAiaW1wb3J0IHtJY29ufSBmcm9tICcuL0ljb24nO1xuaW1wb3J0IHt0b1BvaW50IGFzIHBvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQge2VtcHR5fSBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5cbi8qXG4gKiBAY2xhc3MgRGl2SWNvblxuICogQGFrYSBMLkRpdkljb25cbiAqIEBpbmhlcml0cyBJY29uXG4gKlxuICogUmVwcmVzZW50cyBhIGxpZ2h0d2VpZ2h0IGljb24gZm9yIG1hcmtlcnMgdGhhdCB1c2VzIGEgc2ltcGxlIGA8ZGl2PmBcbiAqIGVsZW1lbnQgaW5zdGVhZCBvZiBhbiBpbWFnZS4gSW5oZXJpdHMgZnJvbSBgSWNvbmAgYnV0IGlnbm9yZXMgdGhlIGBpY29uVXJsYCBhbmQgc2hhZG93IG9wdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiB2YXIgbXlJY29uID0gTC5kaXZJY29uKHtjbGFzc05hbWU6ICdteS1kaXYtaWNvbid9KTtcbiAqIC8vIHlvdSBjYW4gc2V0IC5teS1kaXYtaWNvbiBzdHlsZXMgaW4gQ1NTXG4gKlxuICogTC5tYXJrZXIoWzUwLjUwNSwgMzAuNTddLCB7aWNvbjogbXlJY29ufSkuYWRkVG8obWFwKTtcbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQsIGl0IGhhcyBhICdsZWFmbGV0LWRpdi1pY29uJyBDU1MgY2xhc3MgYW5kIGlzIHN0eWxlZCBhcyBhIGxpdHRsZSB3aGl0ZSBzcXVhcmUgd2l0aCBhIHNoYWRvdy5cbiAqL1xuXG5leHBvcnQgdmFyIERpdkljb24gPSBJY29uLmV4dGVuZCh7XG5cdG9wdGlvbnM6IHtcblx0XHQvLyBAc2VjdGlvblxuXHRcdC8vIEBha2EgRGl2SWNvbiBvcHRpb25zXG5cdFx0aWNvblNpemU6IFsxMiwgMTJdLCAvLyBhbHNvIGNhbiBiZSBzZXQgdGhyb3VnaCBDU1NcblxuXHRcdC8vIGljb25BbmNob3I6IChQb2ludCksXG5cdFx0Ly8gcG9wdXBBbmNob3I6IChQb2ludCksXG5cblx0XHQvLyBAb3B0aW9uIGh0bWw6IFN0cmluZ3xIVE1MRWxlbWVudCA9ICcnXG5cdFx0Ly8gQ3VzdG9tIEhUTUwgY29kZSB0byBwdXQgaW5zaWRlIHRoZSBkaXYgZWxlbWVudCwgZW1wdHkgYnkgZGVmYXVsdC4gQWx0ZXJuYXRpdmVseSxcblx0XHQvLyBhbiBpbnN0YW5jZSBvZiBgSFRNTEVsZW1lbnRgLlxuXHRcdGh0bWw6IGZhbHNlLFxuXG5cdFx0Ly8gQG9wdGlvbiBiZ1BvczogUG9pbnQgPSBbMCwgMF1cblx0XHQvLyBPcHRpb25hbCByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgYmFja2dyb3VuZCwgaW4gcGl4ZWxzXG5cdFx0YmdQb3M6IG51bGwsXG5cblx0XHRjbGFzc05hbWU6ICdsZWFmbGV0LWRpdi1pY29uJ1xuXHR9LFxuXG5cdGNyZWF0ZUljb246IGZ1bmN0aW9uIChvbGRJY29uKSB7XG5cdFx0dmFyIGRpdiA9IChvbGRJY29uICYmIG9sZEljb24udGFnTmFtZSA9PT0gJ0RJVicpID8gb2xkSWNvbiA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHRcdCAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKG9wdGlvbnMuaHRtbCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcblx0XHRcdGVtcHR5KGRpdik7XG5cdFx0XHRkaXYuYXBwZW5kQ2hpbGQob3B0aW9ucy5odG1sKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGl2LmlubmVySFRNTCA9IG9wdGlvbnMuaHRtbCAhPT0gZmFsc2UgPyBvcHRpb25zLmh0bWwgOiAnJztcblx0XHR9XG5cblx0XHRpZiAob3B0aW9ucy5iZ1Bvcykge1xuXHRcdFx0dmFyIGJnUG9zID0gcG9pbnQob3B0aW9ucy5iZ1Bvcyk7XG5cdFx0XHRkaXYuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gKC1iZ1Bvcy54KSArICdweCAnICsgKC1iZ1Bvcy55KSArICdweCc7XG5cdFx0fVxuXHRcdHRoaXMuX3NldEljb25TdHlsZXMoZGl2LCAnaWNvbicpO1xuXG5cdFx0cmV0dXJuIGRpdjtcblx0fSxcblxuXHRjcmVhdGVTaGFkb3c6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwuZGl2SWNvbihvcHRpb25zOiBEaXZJY29uIG9wdGlvbnMpXG4vLyBDcmVhdGVzIGEgYERpdkljb25gIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5leHBvcnQgZnVuY3Rpb24gZGl2SWNvbihvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgRGl2SWNvbihvcHRpb25zKTtcbn1cbiIsICJpbXBvcnQge0ljb259IGZyb20gJy4vSWNvbic7XG5leHBvcnQge2ljb259IGZyb20gJy4vSWNvbic7XG5pbXBvcnQge0ljb25EZWZhdWx0fSBmcm9tICcuL0ljb24uRGVmYXVsdCc7XG5JY29uLkRlZmF1bHQgPSBJY29uRGVmYXVsdDtcbmV4cG9ydCB7SWNvbn07XG5cbmV4cG9ydCB7RGl2SWNvbiwgZGl2SWNvbn0gZnJvbSAnLi9EaXZJY29uJztcbmV4cG9ydCB7TWFya2VyLCBtYXJrZXJ9IGZyb20gJy4vTWFya2VyJztcbiIsICJpbXBvcnQge0xheWVyfSBmcm9tICcuLi9MYXllcic7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi8uLi9jb3JlL0Jyb3dzZXInO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcbmltcG9ydCB7TGF0TG5nQm91bmRzLCB0b0xhdExuZ0JvdW5kcyBhcyBsYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuXG4vKlxuICogQGNsYXNzIEdyaWRMYXllclxuICogQGluaGVyaXRzIExheWVyXG4gKiBAYWthIEwuR3JpZExheWVyXG4gKlxuICogR2VuZXJpYyBjbGFzcyBmb3IgaGFuZGxpbmcgYSB0aWxlZCBncmlkIG9mIEhUTUwgZWxlbWVudHMuIFRoaXMgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGFsbCB0aWxlIGxheWVycyBhbmQgcmVwbGFjZXMgYFRpbGVMYXllci5DYW52YXNgLlxuICogR3JpZExheWVyIGNhbiBiZSBleHRlbmRlZCB0byBjcmVhdGUgYSB0aWxlZCBncmlkIG9mIEhUTUwgZWxlbWVudHMgbGlrZSBgPGNhbnZhcz5gLCBgPGltZz5gIG9yIGA8ZGl2PmAuIEdyaWRMYXllciB3aWxsIGhhbmRsZSBjcmVhdGluZyBhbmQgYW5pbWF0aW5nIHRoZXNlIERPTSBlbGVtZW50cyBmb3IgeW91LlxuICpcbiAqXG4gKiBAc2VjdGlvbiBTeW5jaHJvbm91cyB1c2FnZVxuICogQGV4YW1wbGVcbiAqXG4gKiBUbyBjcmVhdGUgYSBjdXN0b20gbGF5ZXIsIGV4dGVuZCBHcmlkTGF5ZXIgYW5kIGltcGxlbWVudCB0aGUgYGNyZWF0ZVRpbGUoKWAgbWV0aG9kLCB3aGljaCB3aWxsIGJlIHBhc3NlZCBhIGBQb2ludGAgb2JqZWN0IHdpdGggdGhlIGB4YCwgYHlgLCBhbmQgYHpgICh6b29tIGxldmVsKSBjb29yZGluYXRlcyB0byBkcmF3IHlvdXIgdGlsZS5cbiAqXG4gKiBgYGBqc1xuICogdmFyIENhbnZhc0xheWVyID0gTC5HcmlkTGF5ZXIuZXh0ZW5kKHtcbiAqICAgICBjcmVhdGVUaWxlOiBmdW5jdGlvbihjb29yZHMpe1xuICogICAgICAgICAvLyBjcmVhdGUgYSA8Y2FudmFzPiBlbGVtZW50IGZvciBkcmF3aW5nXG4gKiAgICAgICAgIHZhciB0aWxlID0gTC5Eb21VdGlsLmNyZWF0ZSgnY2FudmFzJywgJ2xlYWZsZXQtdGlsZScpO1xuICpcbiAqICAgICAgICAgLy8gc2V0dXAgdGlsZSB3aWR0aCBhbmQgaGVpZ2h0IGFjY29yZGluZyB0byB0aGUgb3B0aW9uc1xuICogICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKTtcbiAqICAgICAgICAgdGlsZS53aWR0aCA9IHNpemUueDtcbiAqICAgICAgICAgdGlsZS5oZWlnaHQgPSBzaXplLnk7XG4gKlxuICogICAgICAgICAvLyBnZXQgYSBjYW52YXMgY29udGV4dCBhbmQgZHJhdyBzb21ldGhpbmcgb24gaXQgdXNpbmcgY29vcmRzLngsIGNvb3Jkcy55IGFuZCBjb29yZHMuelxuICogICAgICAgICB2YXIgY3R4ID0gdGlsZS5nZXRDb250ZXh0KCcyZCcpO1xuICpcbiAqICAgICAgICAgLy8gcmV0dXJuIHRoZSB0aWxlIHNvIGl0IGNhbiBiZSByZW5kZXJlZCBvbiBzY3JlZW5cbiAqICAgICAgICAgcmV0dXJuIHRpbGU7XG4gKiAgICAgfVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VjdGlvbiBBc3luY2hyb25vdXMgdXNhZ2VcbiAqIEBleGFtcGxlXG4gKlxuICogVGlsZSBjcmVhdGlvbiBjYW4gYWxzbyBiZSBhc3luY2hyb25vdXMsIHRoaXMgaXMgdXNlZnVsIHdoZW4gdXNpbmcgYSB0aGlyZC1wYXJ0eSBkcmF3aW5nIGxpYnJhcnkuIE9uY2UgdGhlIHRpbGUgaXMgZmluaXNoZWQgZHJhd2luZyBpdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBgZG9uZSgpYCBjYWxsYmFjay5cbiAqXG4gKiBgYGBqc1xuICogdmFyIENhbnZhc0xheWVyID0gTC5HcmlkTGF5ZXIuZXh0ZW5kKHtcbiAqICAgICBjcmVhdGVUaWxlOiBmdW5jdGlvbihjb29yZHMsIGRvbmUpe1xuICogICAgICAgICB2YXIgZXJyb3I7XG4gKlxuICogICAgICAgICAvLyBjcmVhdGUgYSA8Y2FudmFzPiBlbGVtZW50IGZvciBkcmF3aW5nXG4gKiAgICAgICAgIHZhciB0aWxlID0gTC5Eb21VdGlsLmNyZWF0ZSgnY2FudmFzJywgJ2xlYWZsZXQtdGlsZScpO1xuICpcbiAqICAgICAgICAgLy8gc2V0dXAgdGlsZSB3aWR0aCBhbmQgaGVpZ2h0IGFjY29yZGluZyB0byB0aGUgb3B0aW9uc1xuICogICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKTtcbiAqICAgICAgICAgdGlsZS53aWR0aCA9IHNpemUueDtcbiAqICAgICAgICAgdGlsZS5oZWlnaHQgPSBzaXplLnk7XG4gKlxuICogICAgICAgICAvLyBkcmF3IHNvbWV0aGluZyBhc3luY2hyb25vdXNseSBhbmQgcGFzcyB0aGUgdGlsZSB0byB0aGUgZG9uZSgpIGNhbGxiYWNrXG4gKiAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICBkb25lKGVycm9yLCB0aWxlKTtcbiAqICAgICAgICAgfSwgMTAwMCk7XG4gKlxuICogICAgICAgICByZXR1cm4gdGlsZTtcbiAqICAgICB9XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWN0aW9uXG4gKi9cblxuXG5leHBvcnQgdmFyIEdyaWRMYXllciA9IExheWVyLmV4dGVuZCh7XG5cblx0Ly8gQHNlY3Rpb25cblx0Ly8gQGFrYSBHcmlkTGF5ZXIgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0Ly8gQG9wdGlvbiB0aWxlU2l6ZTogTnVtYmVyfFBvaW50ID0gMjU2XG5cdFx0Ly8gV2lkdGggYW5kIGhlaWdodCBvZiB0aWxlcyBpbiB0aGUgZ3JpZC4gVXNlIGEgbnVtYmVyIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGVxdWFsLCBvciBgTC5wb2ludCh3aWR0aCwgaGVpZ2h0KWAgb3RoZXJ3aXNlLlxuXHRcdHRpbGVTaXplOiAyNTYsXG5cblx0XHQvLyBAb3B0aW9uIG9wYWNpdHk6IE51bWJlciA9IDEuMFxuXHRcdC8vIE9wYWNpdHkgb2YgdGhlIHRpbGVzLiBDYW4gYmUgdXNlZCBpbiB0aGUgYGNyZWF0ZVRpbGUoKWAgZnVuY3Rpb24uXG5cdFx0b3BhY2l0eTogMSxcblxuXHRcdC8vIEBvcHRpb24gdXBkYXRlV2hlbklkbGU6IEJvb2xlYW4gPSAoZGVwZW5kcylcblx0XHQvLyBMb2FkIG5ldyB0aWxlcyBvbmx5IHdoZW4gcGFubmluZyBlbmRzLlxuXHRcdC8vIGB0cnVlYCBieSBkZWZhdWx0IG9uIG1vYmlsZSBicm93c2VycywgaW4gb3JkZXIgdG8gYXZvaWQgdG9vIG1hbnkgcmVxdWVzdHMgYW5kIGtlZXAgc21vb3RoIG5hdmlnYXRpb24uXG5cdFx0Ly8gYGZhbHNlYCBvdGhlcndpc2UgaW4gb3JkZXIgdG8gZGlzcGxheSBuZXcgdGlsZXMgX2R1cmluZ18gcGFubmluZywgc2luY2UgaXQgaXMgZWFzeSB0byBwYW4gb3V0c2lkZSB0aGVcblx0XHQvLyBbYGtlZXBCdWZmZXJgXSgjZ3JpZGxheWVyLWtlZXBidWZmZXIpIG9wdGlvbiBpbiBkZXNrdG9wIGJyb3dzZXJzLlxuXHRcdHVwZGF0ZVdoZW5JZGxlOiBCcm93c2VyLm1vYmlsZSxcblxuXHRcdC8vIEBvcHRpb24gdXBkYXRlV2hlblpvb21pbmc6IEJvb2xlYW4gPSB0cnVlXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYSBzbW9vdGggem9vbSBhbmltYXRpb24gKGR1cmluZyBhIFt0b3VjaCB6b29tXSgjbWFwLXRvdWNoem9vbSkgb3IgYSBbYGZseVRvKClgXSgjbWFwLWZseXRvKSkgd2lsbCB1cGRhdGUgZ3JpZCBsYXllcnMgZXZlcnkgaW50ZWdlciB6b29tIGxldmVsLiBTZXR0aW5nIHRoaXMgb3B0aW9uIHRvIGBmYWxzZWAgd2lsbCB1cGRhdGUgdGhlIGdyaWQgbGF5ZXIgb25seSB3aGVuIHRoZSBzbW9vdGggYW5pbWF0aW9uIGVuZHMuXG5cdFx0dXBkYXRlV2hlblpvb21pbmc6IHRydWUsXG5cblx0XHQvLyBAb3B0aW9uIHVwZGF0ZUludGVydmFsOiBOdW1iZXIgPSAyMDBcblx0XHQvLyBUaWxlcyB3aWxsIG5vdCB1cGRhdGUgbW9yZSB0aGFuIG9uY2UgZXZlcnkgYHVwZGF0ZUludGVydmFsYCBtaWxsaXNlY29uZHMgd2hlbiBwYW5uaW5nLlxuXHRcdHVwZGF0ZUludGVydmFsOiAyMDAsXG5cblx0XHQvLyBAb3B0aW9uIHpJbmRleDogTnVtYmVyID0gMVxuXHRcdC8vIFRoZSBleHBsaWNpdCB6SW5kZXggb2YgdGhlIHRpbGUgbGF5ZXIuXG5cdFx0ekluZGV4OiAxLFxuXG5cdFx0Ly8gQG9wdGlvbiBib3VuZHM6IExhdExuZ0JvdW5kcyA9IHVuZGVmaW5lZFxuXHRcdC8vIElmIHNldCwgdGlsZXMgd2lsbCBvbmx5IGJlIGxvYWRlZCBpbnNpZGUgdGhlIHNldCBgTGF0TG5nQm91bmRzYC5cblx0XHRib3VuZHM6IG51bGwsXG5cblx0XHQvLyBAb3B0aW9uIG1pblpvb206IE51bWJlciA9IDBcblx0XHQvLyBUaGUgbWluaW11bSB6b29tIGxldmVsIGRvd24gdG8gd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlIGRpc3BsYXllZCAoaW5jbHVzaXZlKS5cblx0XHRtaW5ab29tOiAwLFxuXG5cdFx0Ly8gQG9wdGlvbiBtYXhab29tOiBOdW1iZXIgPSB1bmRlZmluZWRcblx0XHQvLyBUaGUgbWF4aW11bSB6b29tIGxldmVsIHVwIHRvIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZSBkaXNwbGF5ZWQgKGluY2x1c2l2ZSkuXG5cdFx0bWF4Wm9vbTogdW5kZWZpbmVkLFxuXG5cdFx0Ly8gQG9wdGlvbiBtYXhOYXRpdmVab29tOiBOdW1iZXIgPSB1bmRlZmluZWRcblx0XHQvLyBNYXhpbXVtIHpvb20gbnVtYmVyIHRoZSB0aWxlIHNvdXJjZSBoYXMgYXZhaWxhYmxlLiBJZiBpdCBpcyBzcGVjaWZpZWQsXG5cdFx0Ly8gdGhlIHRpbGVzIG9uIGFsbCB6b29tIGxldmVscyBoaWdoZXIgdGhhbiBgbWF4TmF0aXZlWm9vbWAgd2lsbCBiZSBsb2FkZWRcblx0XHQvLyBmcm9tIGBtYXhOYXRpdmVab29tYCBsZXZlbCBhbmQgYXV0by1zY2FsZWQuXG5cdFx0bWF4TmF0aXZlWm9vbTogdW5kZWZpbmVkLFxuXG5cdFx0Ly8gQG9wdGlvbiBtaW5OYXRpdmVab29tOiBOdW1iZXIgPSB1bmRlZmluZWRcblx0XHQvLyBNaW5pbXVtIHpvb20gbnVtYmVyIHRoZSB0aWxlIHNvdXJjZSBoYXMgYXZhaWxhYmxlLiBJZiBpdCBpcyBzcGVjaWZpZWQsXG5cdFx0Ly8gdGhlIHRpbGVzIG9uIGFsbCB6b29tIGxldmVscyBsb3dlciB0aGFuIGBtaW5OYXRpdmVab29tYCB3aWxsIGJlIGxvYWRlZFxuXHRcdC8vIGZyb20gYG1pbk5hdGl2ZVpvb21gIGxldmVsIGFuZCBhdXRvLXNjYWxlZC5cblx0XHRtaW5OYXRpdmVab29tOiB1bmRlZmluZWQsXG5cblx0XHQvLyBAb3B0aW9uIG5vV3JhcDogQm9vbGVhbiA9IGZhbHNlXG5cdFx0Ly8gV2hldGhlciB0aGUgbGF5ZXIgaXMgd3JhcHBlZCBhcm91bmQgdGhlIGFudGltZXJpZGlhbi4gSWYgYHRydWVgLCB0aGVcblx0XHQvLyBHcmlkTGF5ZXIgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBvbmNlIGF0IGxvdyB6b29tIGxldmVscy4gSGFzIG5vXG5cdFx0Ly8gZWZmZWN0IHdoZW4gdGhlIFttYXAgQ1JTXSgjbWFwLWNycykgZG9lc24ndCB3cmFwIGFyb3VuZC4gQ2FuIGJlIHVzZWRcblx0XHQvLyBpbiBjb21iaW5hdGlvbiB3aXRoIFtgYm91bmRzYF0oI2dyaWRsYXllci1ib3VuZHMpIHRvIHByZXZlbnQgcmVxdWVzdGluZ1xuXHRcdC8vIHRpbGVzIG91dHNpZGUgdGhlIENSUyBsaW1pdHMuXG5cdFx0bm9XcmFwOiBmYWxzZSxcblxuXHRcdC8vIEBvcHRpb24gcGFuZTogU3RyaW5nID0gJ3RpbGVQYW5lJ1xuXHRcdC8vIGBNYXAgcGFuZWAgd2hlcmUgdGhlIGdyaWQgbGF5ZXIgd2lsbCBiZSBhZGRlZC5cblx0XHRwYW5lOiAndGlsZVBhbmUnLFxuXG5cdFx0Ly8gQG9wdGlvbiBjbGFzc05hbWU6IFN0cmluZyA9ICcnXG5cdFx0Ly8gQSBjdXN0b20gY2xhc3MgbmFtZSB0byBhc3NpZ24gdG8gdGhlIHRpbGUgbGF5ZXIuIEVtcHR5IGJ5IGRlZmF1bHQuXG5cdFx0Y2xhc3NOYW1lOiAnJyxcblxuXHRcdC8vIEBvcHRpb24ga2VlcEJ1ZmZlcjogTnVtYmVyID0gMlxuXHRcdC8vIFdoZW4gcGFubmluZyB0aGUgbWFwLCBrZWVwIHRoaXMgbWFueSByb3dzIGFuZCBjb2x1bW5zIG9mIHRpbGVzIGJlZm9yZSB1bmxvYWRpbmcgdGhlbS5cblx0XHRrZWVwQnVmZmVyOiAyXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9pbml0Q29udGFpbmVyKCk7XG5cblx0XHR0aGlzLl9sZXZlbHMgPSB7fTtcblx0XHR0aGlzLl90aWxlcyA9IHt9O1xuXG5cdFx0dGhpcy5fcmVzZXRWaWV3KCk7IC8vIGltcGxpY2l0IF91cGRhdGUoKSBjYWxsXG5cdH0sXG5cblx0YmVmb3JlQWRkOiBmdW5jdGlvbiAobWFwKSB7XG5cdFx0bWFwLl9hZGRab29tTGltaXQodGhpcyk7XG5cdH0sXG5cblx0b25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHtcblx0XHR0aGlzLl9yZW1vdmVBbGxUaWxlcygpO1xuXHRcdERvbVV0aWwucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0bWFwLl9yZW1vdmVab29tTGltaXQodGhpcyk7XG5cdFx0dGhpcy5fY29udGFpbmVyID0gbnVsbDtcblx0XHR0aGlzLl90aWxlWm9vbSA9IHVuZGVmaW5lZDtcblx0fSxcblxuXHQvLyBAbWV0aG9kIGJyaW5nVG9Gcm9udDogdGhpc1xuXHQvLyBCcmluZ3MgdGhlIHRpbGUgbGF5ZXIgdG8gdGhlIHRvcCBvZiBhbGwgdGlsZSBsYXllcnMuXG5cdGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdERvbVV0aWwudG9Gcm9udCh0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0dGhpcy5fc2V0QXV0b1pJbmRleChNYXRoLm1heCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgYnJpbmdUb0JhY2s6IHRoaXNcblx0Ly8gQnJpbmdzIHRoZSB0aWxlIGxheWVyIHRvIHRoZSBib3R0b20gb2YgYWxsIHRpbGUgbGF5ZXJzLlxuXHRicmluZ1RvQmFjazogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXApIHtcblx0XHRcdERvbVV0aWwudG9CYWNrKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0XHR0aGlzLl9zZXRBdXRvWkluZGV4KE1hdGgubWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gQG1ldGhvZCBnZXRDb250YWluZXI6IEhUTUxFbGVtZW50XG5cdC8vIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSB0aWxlcyBmb3IgdGhpcyBsYXllci5cblx0Z2V0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcblx0fSxcblxuXHQvLyBAbWV0aG9kIHNldE9wYWNpdHkob3BhY2l0eTogTnVtYmVyKTogdGhpc1xuXHQvLyBDaGFuZ2VzIHRoZSBbb3BhY2l0eV0oI2dyaWRsYXllci1vcGFjaXR5KSBvZiB0aGUgZ3JpZCBsYXllci5cblx0c2V0T3BhY2l0eTogZnVuY3Rpb24gKG9wYWNpdHkpIHtcblx0XHR0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7XG5cdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0WkluZGV4KHpJbmRleDogTnVtYmVyKTogdGhpc1xuXHQvLyBDaGFuZ2VzIHRoZSBbekluZGV4XSgjZ3JpZGxheWVyLXppbmRleCkgb2YgdGhlIGdyaWQgbGF5ZXIuXG5cdHNldFpJbmRleDogZnVuY3Rpb24gKHpJbmRleCkge1xuXHRcdHRoaXMub3B0aW9ucy56SW5kZXggPSB6SW5kZXg7XG5cdFx0dGhpcy5fdXBkYXRlWkluZGV4KCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvLyBAbWV0aG9kIGlzTG9hZGluZzogQm9vbGVhblxuXHQvLyBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgdGlsZSBpbiB0aGUgZ3JpZCBsYXllciBoYXMgbm90IGZpbmlzaGVkIGxvYWRpbmcuXG5cdGlzTG9hZGluZzogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9sb2FkaW5nO1xuXHR9LFxuXG5cdC8vIEBtZXRob2QgcmVkcmF3OiB0aGlzXG5cdC8vIENhdXNlcyB0aGUgbGF5ZXIgdG8gY2xlYXIgYWxsIHRoZSB0aWxlcyBhbmQgcmVxdWVzdCB0aGVtIGFnYWluLlxuXHRyZWRyYXc6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwKSB7XG5cdFx0XHR0aGlzLl9yZW1vdmVBbGxUaWxlcygpO1xuXHRcdFx0dmFyIHRpbGVab29tID0gdGhpcy5fY2xhbXBab29tKHRoaXMuX21hcC5nZXRab29tKCkpO1xuXHRcdFx0aWYgKHRpbGVab29tICE9PSB0aGlzLl90aWxlWm9vbSkge1xuXHRcdFx0XHR0aGlzLl90aWxlWm9vbSA9IHRpbGVab29tO1xuXHRcdFx0XHR0aGlzLl91cGRhdGVMZXZlbHMoKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZXZlbnRzID0ge1xuXHRcdFx0dmlld3ByZXJlc2V0OiB0aGlzLl9pbnZhbGlkYXRlQWxsLFxuXHRcdFx0dmlld3Jlc2V0OiB0aGlzLl9yZXNldFZpZXcsXG5cdFx0XHR6b29tOiB0aGlzLl9yZXNldFZpZXcsXG5cdFx0XHRtb3ZlZW5kOiB0aGlzLl9vbk1vdmVFbmRcblx0XHR9O1xuXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGUpIHtcblx0XHRcdC8vIHVwZGF0ZSB0aWxlcyBvbiBtb3ZlLCBidXQgbm90IG1vcmUgb2Z0ZW4gdGhhbiBvbmNlIHBlciBnaXZlbiBpbnRlcnZhbFxuXHRcdFx0aWYgKCF0aGlzLl9vbk1vdmUpIHtcblx0XHRcdFx0dGhpcy5fb25Nb3ZlID0gVXRpbC50aHJvdHRsZSh0aGlzLl9vbk1vdmVFbmQsIHRoaXMub3B0aW9ucy51cGRhdGVJbnRlcnZhbCwgdGhpcyk7XG5cdFx0XHR9XG5cblx0XHRcdGV2ZW50cy5tb3ZlID0gdGhpcy5fb25Nb3ZlO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX2FuaW1hdGVab29tO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudHM7XG5cdH0sXG5cblx0Ly8gQHNlY3Rpb24gRXh0ZW5zaW9uIG1ldGhvZHNcblx0Ly8gTGF5ZXJzIGV4dGVuZGluZyBgR3JpZExheWVyYCBzaGFsbCByZWltcGxlbWVudCB0aGUgZm9sbG93aW5nIG1ldGhvZC5cblx0Ly8gQG1ldGhvZCBjcmVhdGVUaWxlKGNvb3JkczogT2JqZWN0LCBkb25lPzogRnVuY3Rpb24pOiBIVE1MRWxlbWVudFxuXHQvLyBDYWxsZWQgb25seSBpbnRlcm5hbGx5LCBtdXN0IGJlIG92ZXJyaWRkZW4gYnkgY2xhc3NlcyBleHRlbmRpbmcgYEdyaWRMYXllcmAuXG5cdC8vIFJldHVybnMgdGhlIGBIVE1MRWxlbWVudGAgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gYGNvb3Jkc2AuIElmIHRoZSBgZG9uZWAgY2FsbGJhY2tcblx0Ly8gaXMgc3BlY2lmaWVkLCBpdCBtdXN0IGJlIGNhbGxlZCB3aGVuIHRoZSB0aWxlIGhhcyBmaW5pc2hlZCBsb2FkaW5nIGFuZCBkcmF3aW5nLlxuXHRjcmVhdGVUaWxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHR9LFxuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBtZXRob2QgZ2V0VGlsZVNpemU6IFBvaW50XG5cdC8vIE5vcm1hbGl6ZXMgdGhlIFt0aWxlU2l6ZSBvcHRpb25dKCNncmlkbGF5ZXItdGlsZXNpemUpIGludG8gYSBwb2ludC4gVXNlZCBieSB0aGUgYGNyZWF0ZVRpbGUoKWAgbWV0aG9kLlxuXHRnZXRUaWxlU2l6ZTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzID0gdGhpcy5vcHRpb25zLnRpbGVTaXplO1xuXHRcdHJldHVybiBzIGluc3RhbmNlb2YgUG9pbnQgPyBzIDogbmV3IFBvaW50KHMsIHMpO1xuXHR9LFxuXG5cdF91cGRhdGVaSW5kZXg6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fY29udGFpbmVyICYmIHRoaXMub3B0aW9ucy56SW5kZXggIT09IHVuZGVmaW5lZCAmJiB0aGlzLm9wdGlvbnMuekluZGV4ICE9PSBudWxsKSB7XG5cdFx0XHR0aGlzLl9jb250YWluZXIuc3R5bGUuekluZGV4ID0gdGhpcy5vcHRpb25zLnpJbmRleDtcblx0XHR9XG5cdH0sXG5cblx0X3NldEF1dG9aSW5kZXg6IGZ1bmN0aW9uIChjb21wYXJlKSB7XG5cdFx0Ly8gZ28gdGhyb3VnaCBhbGwgb3RoZXIgbGF5ZXJzIG9mIHRoZSBzYW1lIHBhbmUsIHNldCB6SW5kZXggdG8gbWF4ICsgMSAoZnJvbnQpIG9yIG1pbiAtIDEgKGJhY2spXG5cblx0XHR2YXIgbGF5ZXJzID0gdGhpcy5nZXRQYW5lKCkuY2hpbGRyZW4sXG5cdFx0ICAgIGVkZ2VaSW5kZXggPSAtY29tcGFyZSgtSW5maW5pdHksIEluZmluaXR5KTsgLy8gLUluZmluaXR5IGZvciBtYXgsIEluZmluaXR5IGZvciBtaW5cblxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBsYXllcnMubGVuZ3RoLCB6SW5kZXg7IGkgPCBsZW47IGkrKykge1xuXG5cdFx0XHR6SW5kZXggPSBsYXllcnNbaV0uc3R5bGUuekluZGV4O1xuXG5cdFx0XHRpZiAobGF5ZXJzW2ldICE9PSB0aGlzLl9jb250YWluZXIgJiYgekluZGV4KSB7XG5cdFx0XHRcdGVkZ2VaSW5kZXggPSBjb21wYXJlKGVkZ2VaSW5kZXgsICt6SW5kZXgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpc0Zpbml0ZShlZGdlWkluZGV4KSkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnpJbmRleCA9IGVkZ2VaSW5kZXggKyBjb21wYXJlKC0xLCAxKTtcblx0XHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlT3BhY2l0eTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfVxuXG5cdFx0Ly8gSUUgZG9lc24ndCBpbmhlcml0IGZpbHRlciBvcGFjaXR5IHByb3Blcmx5LCBzbyB3ZSdyZSBmb3JjZWQgdG8gc2V0IGl0IG9uIHRpbGVzXG5cdFx0aWYgKEJyb3dzZXIuaWVsdDkpIHsgcmV0dXJuOyB9XG5cblx0XHREb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLCB0aGlzLm9wdGlvbnMub3BhY2l0eSk7XG5cblx0XHR2YXIgbm93ID0gK25ldyBEYXRlKCksXG5cdFx0ICAgIG5leHRGcmFtZSA9IGZhbHNlLFxuXHRcdCAgICB3aWxsUHJ1bmUgPSBmYWxzZTtcblxuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dmFyIHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXHRcdFx0aWYgKCF0aWxlLmN1cnJlbnQgfHwgIXRpbGUubG9hZGVkKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdHZhciBmYWRlID0gTWF0aC5taW4oMSwgKG5vdyAtIHRpbGUubG9hZGVkKSAvIDIwMCk7XG5cblx0XHRcdERvbVV0aWwuc2V0T3BhY2l0eSh0aWxlLmVsLCBmYWRlKTtcblx0XHRcdGlmIChmYWRlIDwgMSkge1xuXHRcdFx0XHRuZXh0RnJhbWUgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHRpbGUuYWN0aXZlKSB7XG5cdFx0XHRcdFx0d2lsbFBydW5lID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl9vbk9wYXF1ZVRpbGUodGlsZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGlsZS5hY3RpdmUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh3aWxsUHJ1bmUgJiYgIXRoaXMuX25vUHJ1bmUpIHsgdGhpcy5fcHJ1bmVUaWxlcygpOyB9XG5cblx0XHRpZiAobmV4dEZyYW1lKSB7XG5cdFx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9mYWRlRnJhbWUpO1xuXHRcdFx0dGhpcy5fZmFkZUZyYW1lID0gVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3VwZGF0ZU9wYWNpdHksIHRoaXMpO1xuXHRcdH1cblx0fSxcblxuXHRfb25PcGFxdWVUaWxlOiBVdGlsLmZhbHNlRm4sXG5cblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fY29udGFpbmVyKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5fY29udGFpbmVyID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LWxheWVyICcgKyAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSB8fCAnJykpO1xuXHRcdHRoaXMuX3VwZGF0ZVpJbmRleCgpO1xuXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5vcGFjaXR5IDwgMSkge1xuXHRcdFx0dGhpcy5fdXBkYXRlT3BhY2l0eSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG5cdH0sXG5cblx0X3VwZGF0ZUxldmVsczogZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIHpvb20gPSB0aGlzLl90aWxlWm9vbSxcblx0XHQgICAgbWF4Wm9vbSA9IHRoaXMub3B0aW9ucy5tYXhab29tO1xuXG5cdFx0aWYgKHpvb20gPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG5cblx0XHRmb3IgKHZhciB6IGluIHRoaXMuX2xldmVscykge1xuXHRcdFx0eiA9IE51bWJlcih6KTtcblx0XHRcdGlmICh0aGlzLl9sZXZlbHNbel0uZWwuY2hpbGRyZW4ubGVuZ3RoIHx8IHogPT09IHpvb20pIHtcblx0XHRcdFx0dGhpcy5fbGV2ZWxzW3pdLmVsLnN0eWxlLnpJbmRleCA9IG1heFpvb20gLSBNYXRoLmFicyh6b29tIC0geik7XG5cdFx0XHRcdHRoaXMuX29uVXBkYXRlTGV2ZWwoeik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9sZXZlbHNbel0uZWwpO1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVUaWxlc0F0Wm9vbSh6KTtcblx0XHRcdFx0dGhpcy5fb25SZW1vdmVMZXZlbCh6KTtcblx0XHRcdFx0ZGVsZXRlIHRoaXMuX2xldmVsc1t6XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbem9vbV0sXG5cdFx0ICAgIG1hcCA9IHRoaXMuX21hcDtcblxuXHRcdGlmICghbGV2ZWwpIHtcblx0XHRcdGxldmVsID0gdGhpcy5fbGV2ZWxzW3pvb21dID0ge307XG5cblx0XHRcdGxldmVsLmVsID0gRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LXRpbGUtY29udGFpbmVyIGxlYWZsZXQtem9vbS1hbmltYXRlZCcsIHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0XHRsZXZlbC5lbC5zdHlsZS56SW5kZXggPSBtYXhab29tO1xuXG5cdFx0XHRsZXZlbC5vcmlnaW4gPSBtYXAucHJvamVjdChtYXAudW5wcm9qZWN0KG1hcC5nZXRQaXhlbE9yaWdpbigpKSwgem9vbSkucm91bmQoKTtcblx0XHRcdGxldmVsLnpvb20gPSB6b29tO1xuXG5cdFx0XHR0aGlzLl9zZXRab29tVHJhbnNmb3JtKGxldmVsLCBtYXAuZ2V0Q2VudGVyKCksIG1hcC5nZXRab29tKCkpO1xuXG5cdFx0XHQvLyBmb3JjZSB0aGUgYnJvd3NlciB0byBjb25zaWRlciB0aGUgbmV3bHkgYWRkZWQgZWxlbWVudCBmb3IgdHJhbnNpdGlvblxuXHRcdFx0VXRpbC5mYWxzZUZuKGxldmVsLmVsLm9mZnNldFdpZHRoKTtcblxuXHRcdFx0dGhpcy5fb25DcmVhdGVMZXZlbChsZXZlbCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fbGV2ZWwgPSBsZXZlbDtcblxuXHRcdHJldHVybiBsZXZlbDtcblx0fSxcblxuXHRfb25VcGRhdGVMZXZlbDogVXRpbC5mYWxzZUZuLFxuXG5cdF9vblJlbW92ZUxldmVsOiBVdGlsLmZhbHNlRm4sXG5cblx0X29uQ3JlYXRlTGV2ZWw6IFV0aWwuZmFsc2VGbixcblxuXHRfcHJ1bmVUaWxlczogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGtleSwgdGlsZTtcblxuXHRcdHZhciB6b29tID0gdGhpcy5fbWFwLmdldFpvb20oKTtcblx0XHRpZiAoem9vbSA+IHRoaXMub3B0aW9ucy5tYXhab29tIHx8XG5cdFx0XHR6b29tIDwgdGhpcy5vcHRpb25zLm1pblpvb20pIHtcblx0XHRcdHRoaXMuX3JlbW92ZUFsbFRpbGVzKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yIChrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXHRcdFx0dGlsZS5yZXRhaW4gPSB0aWxlLmN1cnJlbnQ7XG5cdFx0fVxuXG5cdFx0Zm9yIChrZXkgaW4gdGhpcy5fdGlsZXMpIHtcblx0XHRcdHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXHRcdFx0aWYgKHRpbGUuY3VycmVudCAmJiAhdGlsZS5hY3RpdmUpIHtcblx0XHRcdFx0dmFyIGNvb3JkcyA9IHRpbGUuY29vcmRzO1xuXHRcdFx0XHRpZiAoIXRoaXMuX3JldGFpblBhcmVudChjb29yZHMueCwgY29vcmRzLnksIGNvb3Jkcy56LCBjb29yZHMueiAtIDUpKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmV0YWluQ2hpbGRyZW4oY29vcmRzLngsIGNvb3Jkcy55LCBjb29yZHMueiwgY29vcmRzLnogKyAyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoa2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3RpbGVzW2tleV0ucmV0YWluKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZVRpbGUoa2V5KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X3JlbW92ZVRpbGVzQXRab29tOiBmdW5jdGlvbiAoem9vbSkge1xuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0aWYgKHRoaXMuX3RpbGVzW2tleV0uY29vcmRzLnogIT09IHpvb20pIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9yZW1vdmVUaWxlKGtleSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZW1vdmVBbGxUaWxlczogZnVuY3Rpb24gKCkge1xuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dGhpcy5fcmVtb3ZlVGlsZShrZXkpO1xuXHRcdH1cblx0fSxcblxuXHRfaW52YWxpZGF0ZUFsbDogZnVuY3Rpb24gKCkge1xuXHRcdGZvciAodmFyIHogaW4gdGhpcy5fbGV2ZWxzKSB7XG5cdFx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9sZXZlbHNbel0uZWwpO1xuXHRcdFx0dGhpcy5fb25SZW1vdmVMZXZlbChOdW1iZXIoeikpO1xuXHRcdFx0ZGVsZXRlIHRoaXMuX2xldmVsc1t6XTtcblx0XHR9XG5cdFx0dGhpcy5fcmVtb3ZlQWxsVGlsZXMoKTtcblxuXHRcdHRoaXMuX3RpbGVab29tID0gdW5kZWZpbmVkO1xuXHR9LFxuXG5cdF9yZXRhaW5QYXJlbnQ6IGZ1bmN0aW9uICh4LCB5LCB6LCBtaW5ab29tKSB7XG5cdFx0dmFyIHgyID0gTWF0aC5mbG9vcih4IC8gMiksXG5cdFx0ICAgIHkyID0gTWF0aC5mbG9vcih5IC8gMiksXG5cdFx0ICAgIHoyID0geiAtIDEsXG5cdFx0ICAgIGNvb3JkczIgPSBuZXcgUG9pbnQoK3gyLCAreTIpO1xuXHRcdGNvb3JkczIueiA9ICt6MjtcblxuXHRcdHZhciBrZXkgPSB0aGlzLl90aWxlQ29vcmRzVG9LZXkoY29vcmRzMiksXG5cdFx0ICAgIHRpbGUgPSB0aGlzLl90aWxlc1trZXldO1xuXG5cdFx0aWYgKHRpbGUgJiYgdGlsZS5hY3RpdmUpIHtcblx0XHRcdHRpbGUucmV0YWluID0gdHJ1ZTtcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0fSBlbHNlIGlmICh0aWxlICYmIHRpbGUubG9hZGVkKSB7XG5cdFx0XHR0aWxlLnJldGFpbiA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHoyID4gbWluWm9vbSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3JldGFpblBhcmVudCh4MiwgeTIsIHoyLCBtaW5ab29tKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X3JldGFpbkNoaWxkcmVuOiBmdW5jdGlvbiAoeCwgeSwgeiwgbWF4Wm9vbSkge1xuXG5cdFx0Zm9yICh2YXIgaSA9IDIgKiB4OyBpIDwgMiAqIHggKyAyOyBpKyspIHtcblx0XHRcdGZvciAodmFyIGogPSAyICogeTsgaiA8IDIgKiB5ICsgMjsgaisrKSB7XG5cblx0XHRcdFx0dmFyIGNvb3JkcyA9IG5ldyBQb2ludChpLCBqKTtcblx0XHRcdFx0Y29vcmRzLnogPSB6ICsgMTtcblxuXHRcdFx0XHR2YXIga2V5ID0gdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3JkcyksXG5cdFx0XHRcdCAgICB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblxuXHRcdFx0XHRpZiAodGlsZSAmJiB0aWxlLmFjdGl2ZSkge1xuXHRcdFx0XHRcdHRpbGUucmV0YWluID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHR9IGVsc2UgaWYgKHRpbGUgJiYgdGlsZS5sb2FkZWQpIHtcblx0XHRcdFx0XHR0aWxlLnJldGFpbiA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoeiArIDEgPCBtYXhab29tKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmV0YWluQ2hpbGRyZW4oaSwgaiwgeiArIDEsIG1heFpvb20pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9yZXNldFZpZXc6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGFuaW1hdGluZyA9IGUgJiYgKGUucGluY2ggfHwgZS5mbHlUbyk7XG5cdFx0dGhpcy5fc2V0Vmlldyh0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHRoaXMuX21hcC5nZXRab29tKCksIGFuaW1hdGluZywgYW5pbWF0aW5nKTtcblx0fSxcblxuXHRfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChlKSB7XG5cdFx0dGhpcy5fc2V0VmlldyhlLmNlbnRlciwgZS56b29tLCB0cnVlLCBlLm5vVXBkYXRlKTtcblx0fSxcblxuXHRfY2xhbXBab29tOiBmdW5jdGlvbiAoem9vbSkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKHVuZGVmaW5lZCAhPT0gb3B0aW9ucy5taW5OYXRpdmVab29tICYmIHpvb20gPCBvcHRpb25zLm1pbk5hdGl2ZVpvb20pIHtcblx0XHRcdHJldHVybiBvcHRpb25zLm1pbk5hdGl2ZVpvb207XG5cdFx0fVxuXG5cdFx0aWYgKHVuZGVmaW5lZCAhPT0gb3B0aW9ucy5tYXhOYXRpdmVab29tICYmIG9wdGlvbnMubWF4TmF0aXZlWm9vbSA8IHpvb20pIHtcblx0XHRcdHJldHVybiBvcHRpb25zLm1heE5hdGl2ZVpvb207XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHpvb207XG5cdH0sXG5cblx0X3NldFZpZXc6IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIG5vUHJ1bmUsIG5vVXBkYXRlKSB7XG5cdFx0dmFyIHRpbGVab29tID0gTWF0aC5yb3VuZCh6b29tKTtcblx0XHRpZiAoKHRoaXMub3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgJiYgdGlsZVpvb20gPiB0aGlzLm9wdGlvbnMubWF4Wm9vbSkgfHxcblx0XHQgICAgKHRoaXMub3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgJiYgdGlsZVpvb20gPCB0aGlzLm9wdGlvbnMubWluWm9vbSkpIHtcblx0XHRcdHRpbGVab29tID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aWxlWm9vbSA9IHRoaXMuX2NsYW1wWm9vbSh0aWxlWm9vbSk7XG5cdFx0fVxuXG5cdFx0dmFyIHRpbGVab29tQ2hhbmdlZCA9IHRoaXMub3B0aW9ucy51cGRhdGVXaGVuWm9vbWluZyAmJiAodGlsZVpvb20gIT09IHRoaXMuX3RpbGVab29tKTtcblxuXHRcdGlmICghbm9VcGRhdGUgfHwgdGlsZVpvb21DaGFuZ2VkKSB7XG5cblx0XHRcdHRoaXMuX3RpbGVab29tID0gdGlsZVpvb207XG5cblx0XHRcdGlmICh0aGlzLl9hYm9ydExvYWRpbmcpIHtcblx0XHRcdFx0dGhpcy5fYWJvcnRMb2FkaW5nKCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3VwZGF0ZUxldmVscygpO1xuXHRcdFx0dGhpcy5fcmVzZXRHcmlkKCk7XG5cblx0XHRcdGlmICh0aWxlWm9vbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMuX3VwZGF0ZShjZW50ZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIW5vUHJ1bmUpIHtcblx0XHRcdFx0dGhpcy5fcHJ1bmVUaWxlcygpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGbGFnIHRvIHByZXZlbnQgX3VwZGF0ZU9wYWNpdHkgZnJvbSBwcnVuaW5nIHRpbGVzIGR1cmluZ1xuXHRcdFx0Ly8gYSB6b29tIGFuaW0gb3IgYSBwaW5jaCBnZXN0dXJlXG5cdFx0XHR0aGlzLl9ub1BydW5lID0gISFub1BydW5lO1xuXHRcdH1cblxuXHRcdHRoaXMuX3NldFpvb21UcmFuc2Zvcm1zKGNlbnRlciwgem9vbSk7XG5cdH0sXG5cblx0X3NldFpvb21UcmFuc2Zvcm1zOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLl9sZXZlbHMpIHtcblx0XHRcdHRoaXMuX3NldFpvb21UcmFuc2Zvcm0odGhpcy5fbGV2ZWxzW2ldLCBjZW50ZXIsIHpvb20pO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0Wm9vbVRyYW5zZm9ybTogZnVuY3Rpb24gKGxldmVsLCBjZW50ZXIsIHpvb20pIHtcblx0XHR2YXIgc2NhbGUgPSB0aGlzLl9tYXAuZ2V0Wm9vbVNjYWxlKHpvb20sIGxldmVsLnpvb20pLFxuXHRcdCAgICB0cmFuc2xhdGUgPSBsZXZlbC5vcmlnaW4ubXVsdGlwbHlCeShzY2FsZSlcblx0XHQgICAgICAgIC5zdWJ0cmFjdCh0aGlzLl9tYXAuX2dldE5ld1BpeGVsT3JpZ2luKGNlbnRlciwgem9vbSkpLnJvdW5kKCk7XG5cblx0XHRpZiAoQnJvd3Nlci5hbnkzZCkge1xuXHRcdFx0RG9tVXRpbC5zZXRUcmFuc2Zvcm0obGV2ZWwuZWwsIHRyYW5zbGF0ZSwgc2NhbGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHREb21VdGlsLnNldFBvc2l0aW9uKGxldmVsLmVsLCB0cmFuc2xhdGUpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVzZXRHcmlkOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgY3JzID0gbWFwLm9wdGlvbnMuY3JzLFxuXHRcdCAgICB0aWxlU2l6ZSA9IHRoaXMuX3RpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpLFxuXHRcdCAgICB0aWxlWm9vbSA9IHRoaXMuX3RpbGVab29tO1xuXG5cdFx0dmFyIGJvdW5kcyA9IHRoaXMuX21hcC5nZXRQaXhlbFdvcmxkQm91bmRzKHRoaXMuX3RpbGVab29tKTtcblx0XHRpZiAoYm91bmRzKSB7XG5cdFx0XHR0aGlzLl9nbG9iYWxUaWxlUmFuZ2UgPSB0aGlzLl9weEJvdW5kc1RvVGlsZVJhbmdlKGJvdW5kcyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fd3JhcFggPSBjcnMud3JhcExuZyAmJiAhdGhpcy5vcHRpb25zLm5vV3JhcCAmJiBbXG5cdFx0XHRNYXRoLmZsb29yKG1hcC5wcm9qZWN0KFswLCBjcnMud3JhcExuZ1swXV0sIHRpbGVab29tKS54IC8gdGlsZVNpemUueCksXG5cdFx0XHRNYXRoLmNlaWwobWFwLnByb2plY3QoWzAsIGNycy53cmFwTG5nWzFdXSwgdGlsZVpvb20pLnggLyB0aWxlU2l6ZS55KVxuXHRcdF07XG5cdFx0dGhpcy5fd3JhcFkgPSBjcnMud3JhcExhdCAmJiAhdGhpcy5vcHRpb25zLm5vV3JhcCAmJiBbXG5cdFx0XHRNYXRoLmZsb29yKG1hcC5wcm9qZWN0KFtjcnMud3JhcExhdFswXSwgMF0sIHRpbGVab29tKS55IC8gdGlsZVNpemUueCksXG5cdFx0XHRNYXRoLmNlaWwobWFwLnByb2plY3QoW2Nycy53cmFwTGF0WzFdLCAwXSwgdGlsZVpvb20pLnkgLyB0aWxlU2l6ZS55KVxuXHRcdF07XG5cdH0sXG5cblx0X29uTW92ZUVuZDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fbWFwIHx8IHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF9nZXRUaWxlZFBpeGVsQm91bmRzOiBmdW5jdGlvbiAoY2VudGVyKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgbWFwWm9vbSA9IG1hcC5fYW5pbWF0aW5nWm9vbSA/IE1hdGgubWF4KG1hcC5fYW5pbWF0ZVRvWm9vbSwgbWFwLmdldFpvb20oKSkgOiBtYXAuZ2V0Wm9vbSgpLFxuXHRcdCAgICBzY2FsZSA9IG1hcC5nZXRab29tU2NhbGUobWFwWm9vbSwgdGhpcy5fdGlsZVpvb20pLFxuXHRcdCAgICBwaXhlbENlbnRlciA9IG1hcC5wcm9qZWN0KGNlbnRlciwgdGhpcy5fdGlsZVpvb20pLmZsb29yKCksXG5cdFx0ICAgIGhhbGZTaXplID0gbWFwLmdldFNpemUoKS5kaXZpZGVCeShzY2FsZSAqIDIpO1xuXG5cdFx0cmV0dXJuIG5ldyBCb3VuZHMocGl4ZWxDZW50ZXIuc3VidHJhY3QoaGFsZlNpemUpLCBwaXhlbENlbnRlci5hZGQoaGFsZlNpemUpKTtcblx0fSxcblxuXHQvLyBQcml2YXRlIG1ldGhvZCB0byBsb2FkIHRpbGVzIGluIHRoZSBncmlkJ3MgYWN0aXZlIHpvb20gbGV2ZWwgYWNjb3JkaW5nIHRvIG1hcCBib3VuZHNcblx0X3VwZGF0ZTogZnVuY3Rpb24gKGNlbnRlcikge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cdFx0aWYgKCFtYXApIHsgcmV0dXJuOyB9XG5cdFx0dmFyIHpvb20gPSB0aGlzLl9jbGFtcFpvb20obWFwLmdldFpvb20oKSk7XG5cblx0XHRpZiAoY2VudGVyID09PSB1bmRlZmluZWQpIHsgY2VudGVyID0gbWFwLmdldENlbnRlcigpOyB9XG5cdFx0aWYgKHRoaXMuX3RpbGVab29tID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9XHQvLyBpZiBvdXQgb2YgbWluem9vbS9tYXh6b29tXG5cblx0XHR2YXIgcGl4ZWxCb3VuZHMgPSB0aGlzLl9nZXRUaWxlZFBpeGVsQm91bmRzKGNlbnRlciksXG5cdFx0ICAgIHRpbGVSYW5nZSA9IHRoaXMuX3B4Qm91bmRzVG9UaWxlUmFuZ2UocGl4ZWxCb3VuZHMpLFxuXHRcdCAgICB0aWxlQ2VudGVyID0gdGlsZVJhbmdlLmdldENlbnRlcigpLFxuXHRcdCAgICBxdWV1ZSA9IFtdLFxuXHRcdCAgICBtYXJnaW4gPSB0aGlzLm9wdGlvbnMua2VlcEJ1ZmZlcixcblx0XHQgICAgbm9QcnVuZVJhbmdlID0gbmV3IEJvdW5kcyh0aWxlUmFuZ2UuZ2V0Qm90dG9tTGVmdCgpLnN1YnRyYWN0KFttYXJnaW4sIC1tYXJnaW5dKSxcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlUmFuZ2UuZ2V0VG9wUmlnaHQoKS5hZGQoW21hcmdpbiwgLW1hcmdpbl0pKTtcblxuXHRcdC8vIFNhbml0eSBjaGVjazogcGFuaWMgaWYgdGhlIHRpbGUgcmFuZ2UgY29udGFpbnMgSW5maW5pdHkgc29tZXdoZXJlLlxuXHRcdGlmICghKGlzRmluaXRlKHRpbGVSYW5nZS5taW4ueCkgJiZcblx0XHQgICAgICBpc0Zpbml0ZSh0aWxlUmFuZ2UubWluLnkpICYmXG5cdFx0ICAgICAgaXNGaW5pdGUodGlsZVJhbmdlLm1heC54KSAmJlxuXHRcdCAgICAgIGlzRmluaXRlKHRpbGVSYW5nZS5tYXgueSkpKSB7IHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIGxvYWQgYW4gaW5maW5pdGUgbnVtYmVyIG9mIHRpbGVzJyk7IH1cblxuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl90aWxlcykge1xuXHRcdFx0dmFyIGMgPSB0aGlzLl90aWxlc1trZXldLmNvb3Jkcztcblx0XHRcdGlmIChjLnogIT09IHRoaXMuX3RpbGVab29tIHx8ICFub1BydW5lUmFuZ2UuY29udGFpbnMobmV3IFBvaW50KGMueCwgYy55KSkpIHtcblx0XHRcdFx0dGhpcy5fdGlsZXNba2V5XS5jdXJyZW50ID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gX3VwZGF0ZSBqdXN0IGxvYWRzIG1vcmUgdGlsZXMuIElmIHRoZSB0aWxlIHpvb20gbGV2ZWwgZGlmZmVycyB0b28gbXVjaFxuXHRcdC8vIGZyb20gdGhlIG1hcCdzLCBsZXQgX3NldFZpZXcgcmVzZXQgbGV2ZWxzIGFuZCBwcnVuZSBvbGQgdGlsZXMuXG5cdFx0aWYgKE1hdGguYWJzKHpvb20gLSB0aGlzLl90aWxlWm9vbSkgPiAxKSB7IHRoaXMuX3NldFZpZXcoY2VudGVyLCB6b29tKTsgcmV0dXJuOyB9XG5cblx0XHQvLyBjcmVhdGUgYSBxdWV1ZSBvZiBjb29yZGluYXRlcyB0byBsb2FkIHRpbGVzIGZyb21cblx0XHRmb3IgKHZhciBqID0gdGlsZVJhbmdlLm1pbi55OyBqIDw9IHRpbGVSYW5nZS5tYXgueTsgaisrKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gdGlsZVJhbmdlLm1pbi54OyBpIDw9IHRpbGVSYW5nZS5tYXgueDsgaSsrKSB7XG5cdFx0XHRcdHZhciBjb29yZHMgPSBuZXcgUG9pbnQoaSwgaik7XG5cdFx0XHRcdGNvb3Jkcy56ID0gdGhpcy5fdGlsZVpvb207XG5cblx0XHRcdFx0aWYgKCF0aGlzLl9pc1ZhbGlkVGlsZShjb29yZHMpKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdFx0dmFyIHRpbGUgPSB0aGlzLl90aWxlc1t0aGlzLl90aWxlQ29vcmRzVG9LZXkoY29vcmRzKV07XG5cdFx0XHRcdGlmICh0aWxlKSB7XG5cdFx0XHRcdFx0dGlsZS5jdXJyZW50ID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKGNvb3Jkcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBzb3J0IHRpbGUgcXVldWUgdG8gbG9hZCB0aWxlcyBpbiBvcmRlciBvZiB0aGVpciBkaXN0YW5jZSB0byBjZW50ZXJcblx0XHRxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRyZXR1cm4gYS5kaXN0YW5jZVRvKHRpbGVDZW50ZXIpIC0gYi5kaXN0YW5jZVRvKHRpbGVDZW50ZXIpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKHF1ZXVlLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0Ly8gaWYgaXQncyB0aGUgZmlyc3QgYmF0Y2ggb2YgdGlsZXMgdG8gbG9hZFxuXHRcdFx0aWYgKCF0aGlzLl9sb2FkaW5nKSB7XG5cdFx0XHRcdHRoaXMuX2xvYWRpbmcgPSB0cnVlO1xuXHRcdFx0XHQvLyBAZXZlbnQgbG9hZGluZzogRXZlbnRcblx0XHRcdFx0Ly8gRmlyZWQgd2hlbiB0aGUgZ3JpZCBsYXllciBzdGFydHMgbG9hZGluZyB0aWxlcy5cblx0XHRcdFx0dGhpcy5maXJlKCdsb2FkaW5nJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNyZWF0ZSBET00gZnJhZ21lbnQgdG8gYXBwZW5kIHRpbGVzIGluIG9uZSBiYXRjaFxuXHRcdFx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dGhpcy5fYWRkVGlsZShxdWV1ZVtpXSwgZnJhZ21lbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9sZXZlbC5lbC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9pc1ZhbGlkVGlsZTogZnVuY3Rpb24gKGNvb3Jkcykge1xuXHRcdHZhciBjcnMgPSB0aGlzLl9tYXAub3B0aW9ucy5jcnM7XG5cblx0XHRpZiAoIWNycy5pbmZpbml0ZSkge1xuXHRcdFx0Ly8gZG9uJ3QgbG9hZCB0aWxlIGlmIGl0J3Mgb3V0IG9mIGJvdW5kcyBhbmQgbm90IHdyYXBwZWRcblx0XHRcdHZhciBib3VuZHMgPSB0aGlzLl9nbG9iYWxUaWxlUmFuZ2U7XG5cdFx0XHRpZiAoKCFjcnMud3JhcExuZyAmJiAoY29vcmRzLnggPCBib3VuZHMubWluLnggfHwgY29vcmRzLnggPiBib3VuZHMubWF4LngpKSB8fFxuXHRcdFx0ICAgICghY3JzLndyYXBMYXQgJiYgKGNvb3Jkcy55IDwgYm91bmRzLm1pbi55IHx8IGNvb3Jkcy55ID4gYm91bmRzLm1heC55KSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuYm91bmRzKSB7IHJldHVybiB0cnVlOyB9XG5cblx0XHQvLyBkb24ndCBsb2FkIHRpbGUgaWYgaXQgZG9lc24ndCBpbnRlcnNlY3QgdGhlIGJvdW5kcyBpbiBvcHRpb25zXG5cdFx0dmFyIHRpbGVCb3VuZHMgPSB0aGlzLl90aWxlQ29vcmRzVG9Cb3VuZHMoY29vcmRzKTtcblx0XHRyZXR1cm4gbGF0TG5nQm91bmRzKHRoaXMub3B0aW9ucy5ib3VuZHMpLm92ZXJsYXBzKHRpbGVCb3VuZHMpO1xuXHR9LFxuXG5cdF9rZXlUb0JvdW5kczogZnVuY3Rpb24gKGtleSkge1xuXHRcdHJldHVybiB0aGlzLl90aWxlQ29vcmRzVG9Cb3VuZHModGhpcy5fa2V5VG9UaWxlQ29vcmRzKGtleSkpO1xuXHR9LFxuXG5cdF90aWxlQ29vcmRzVG9Od1NlOiBmdW5jdGlvbiAoY29vcmRzKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgdGlsZVNpemUgPSB0aGlzLmdldFRpbGVTaXplKCksXG5cdFx0ICAgIG53UG9pbnQgPSBjb29yZHMuc2NhbGVCeSh0aWxlU2l6ZSksXG5cdFx0ICAgIHNlUG9pbnQgPSBud1BvaW50LmFkZCh0aWxlU2l6ZSksXG5cdFx0ICAgIG53ID0gbWFwLnVucHJvamVjdChud1BvaW50LCBjb29yZHMueiksXG5cdFx0ICAgIHNlID0gbWFwLnVucHJvamVjdChzZVBvaW50LCBjb29yZHMueik7XG5cdFx0cmV0dXJuIFtudywgc2VdO1xuXHR9LFxuXG5cdC8vIGNvbnZlcnRzIHRpbGUgY29vcmRpbmF0ZXMgdG8gaXRzIGdlb2dyYXBoaWNhbCBib3VuZHNcblx0X3RpbGVDb29yZHNUb0JvdW5kczogZnVuY3Rpb24gKGNvb3Jkcykge1xuXHRcdHZhciBicCA9IHRoaXMuX3RpbGVDb29yZHNUb053U2UoY29vcmRzKSxcblx0XHQgICAgYm91bmRzID0gbmV3IExhdExuZ0JvdW5kcyhicFswXSwgYnBbMV0pO1xuXG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMubm9XcmFwKSB7XG5cdFx0XHRib3VuZHMgPSB0aGlzLl9tYXAud3JhcExhdExuZ0JvdW5kcyhib3VuZHMpO1xuXHRcdH1cblx0XHRyZXR1cm4gYm91bmRzO1xuXHR9LFxuXHQvLyBjb252ZXJ0cyB0aWxlIGNvb3JkaW5hdGVzIHRvIGtleSBmb3IgdGhlIHRpbGUgY2FjaGVcblx0X3RpbGVDb29yZHNUb0tleTogZnVuY3Rpb24gKGNvb3Jkcykge1xuXHRcdHJldHVybiBjb29yZHMueCArICc6JyArIGNvb3Jkcy55ICsgJzonICsgY29vcmRzLno7XG5cdH0sXG5cblx0Ly8gY29udmVydHMgdGlsZSBjYWNoZSBrZXkgdG8gY29vcmRpbmF0ZXNcblx0X2tleVRvVGlsZUNvb3JkczogZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciBrID0ga2V5LnNwbGl0KCc6JyksXG5cdFx0ICAgIGNvb3JkcyA9IG5ldyBQb2ludCgra1swXSwgK2tbMV0pO1xuXHRcdGNvb3Jkcy56ID0gK2tbMl07XG5cdFx0cmV0dXJuIGNvb3Jkcztcblx0fSxcblxuXHRfcmVtb3ZlVGlsZTogZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciB0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XG5cblx0XHREb21VdGlsLnJlbW92ZSh0aWxlLmVsKTtcblxuXHRcdGRlbGV0ZSB0aGlzLl90aWxlc1trZXldO1xuXG5cdFx0Ly8gQGV2ZW50IHRpbGV1bmxvYWQ6IFRpbGVFdmVudFxuXHRcdC8vIEZpcmVkIHdoZW4gYSB0aWxlIGlzIHJlbW92ZWQgKGUuZy4gd2hlbiBhIHRpbGUgZ29lcyBvZmYgdGhlIHNjcmVlbikuXG5cdFx0dGhpcy5maXJlKCd0aWxldW5sb2FkJywge1xuXHRcdFx0dGlsZTogdGlsZS5lbCxcblx0XHRcdGNvb3JkczogdGhpcy5fa2V5VG9UaWxlQ29vcmRzKGtleSlcblx0XHR9KTtcblx0fSxcblxuXHRfaW5pdFRpbGU6IGZ1bmN0aW9uICh0aWxlKSB7XG5cdFx0RG9tVXRpbC5hZGRDbGFzcyh0aWxlLCAnbGVhZmxldC10aWxlJyk7XG5cblx0XHR2YXIgdGlsZVNpemUgPSB0aGlzLmdldFRpbGVTaXplKCk7XG5cdFx0dGlsZS5zdHlsZS53aWR0aCA9IHRpbGVTaXplLnggKyAncHgnO1xuXHRcdHRpbGUuc3R5bGUuaGVpZ2h0ID0gdGlsZVNpemUueSArICdweCc7XG5cblx0XHR0aWxlLm9uc2VsZWN0c3RhcnQgPSBVdGlsLmZhbHNlRm47XG5cdFx0dGlsZS5vbm1vdXNlbW92ZSA9IFV0aWwuZmFsc2VGbjtcblxuXHRcdC8vIHVwZGF0ZSBvcGFjaXR5IG9uIHRpbGVzIGluIElFNy04IGJlY2F1c2Ugb2YgZmlsdGVyIGluaGVyaXRhbmNlIHByb2JsZW1zXG5cdFx0aWYgKEJyb3dzZXIuaWVsdDkgJiYgdGhpcy5vcHRpb25zLm9wYWNpdHkgPCAxKSB7XG5cdFx0XHREb21VdGlsLnNldE9wYWNpdHkodGlsZSwgdGhpcy5vcHRpb25zLm9wYWNpdHkpO1xuXHRcdH1cblx0fSxcblxuXHRfYWRkVGlsZTogZnVuY3Rpb24gKGNvb3JkcywgY29udGFpbmVyKSB7XG5cdFx0dmFyIHRpbGVQb3MgPSB0aGlzLl9nZXRUaWxlUG9zKGNvb3JkcyksXG5cdFx0ICAgIGtleSA9IHRoaXMuX3RpbGVDb29yZHNUb0tleShjb29yZHMpO1xuXG5cdFx0dmFyIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGUodGhpcy5fd3JhcENvb3Jkcyhjb29yZHMpLCBVdGlsLmJpbmQodGhpcy5fdGlsZVJlYWR5LCB0aGlzLCBjb29yZHMpKTtcblxuXHRcdHRoaXMuX2luaXRUaWxlKHRpbGUpO1xuXG5cdFx0Ly8gaWYgY3JlYXRlVGlsZSBpcyBkZWZpbmVkIHdpdGggYSBzZWNvbmQgYXJndW1lbnQgKFwiZG9uZVwiIGNhbGxiYWNrKSxcblx0XHQvLyB3ZSBrbm93IHRoYXQgdGlsZSBpcyBhc3luYyBhbmQgd2lsbCBiZSByZWFkeSBsYXRlcjsgb3RoZXJ3aXNlXG5cdFx0aWYgKHRoaXMuY3JlYXRlVGlsZS5sZW5ndGggPCAyKSB7XG5cdFx0XHQvLyBtYXJrIHRpbGUgYXMgcmVhZHksIGJ1dCBkZWxheSBvbmUgZnJhbWUgZm9yIG9wYWNpdHkgYW5pbWF0aW9uIHRvIGhhcHBlblxuXHRcdFx0VXRpbC5yZXF1ZXN0QW5pbUZyYW1lKFV0aWwuYmluZCh0aGlzLl90aWxlUmVhZHksIHRoaXMsIGNvb3JkcywgbnVsbCwgdGlsZSkpO1xuXHRcdH1cblxuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24odGlsZSwgdGlsZVBvcyk7XG5cblx0XHQvLyBzYXZlIHRpbGUgaW4gY2FjaGVcblx0XHR0aGlzLl90aWxlc1trZXldID0ge1xuXHRcdFx0ZWw6IHRpbGUsXG5cdFx0XHRjb29yZHM6IGNvb3Jkcyxcblx0XHRcdGN1cnJlbnQ6IHRydWVcblx0XHR9O1xuXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHRpbGUpO1xuXHRcdC8vIEBldmVudCB0aWxlbG9hZHN0YXJ0OiBUaWxlRXZlbnRcblx0XHQvLyBGaXJlZCB3aGVuIGEgdGlsZSBpcyByZXF1ZXN0ZWQgYW5kIHN0YXJ0cyBsb2FkaW5nLlxuXHRcdHRoaXMuZmlyZSgndGlsZWxvYWRzdGFydCcsIHtcblx0XHRcdHRpbGU6IHRpbGUsXG5cdFx0XHRjb29yZHM6IGNvb3Jkc1xuXHRcdH0pO1xuXHR9LFxuXG5cdF90aWxlUmVhZHk6IGZ1bmN0aW9uIChjb29yZHMsIGVyciwgdGlsZSkge1xuXHRcdGlmIChlcnIpIHtcblx0XHRcdC8vIEBldmVudCB0aWxlZXJyb3I6IFRpbGVFcnJvckV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIGxvYWRpbmcgYSB0aWxlLlxuXHRcdFx0dGhpcy5maXJlKCd0aWxlZXJyb3InLCB7XG5cdFx0XHRcdGVycm9yOiBlcnIsXG5cdFx0XHRcdHRpbGU6IHRpbGUsXG5cdFx0XHRcdGNvb3JkczogY29vcmRzXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR2YXIga2V5ID0gdGhpcy5fdGlsZUNvb3Jkc1RvS2V5KGNvb3Jkcyk7XG5cblx0XHR0aWxlID0gdGhpcy5fdGlsZXNba2V5XTtcblx0XHRpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XG5cblx0XHR0aWxlLmxvYWRlZCA9ICtuZXcgRGF0ZSgpO1xuXHRcdGlmICh0aGlzLl9tYXAuX2ZhZGVBbmltYXRlZCkge1xuXHRcdFx0RG9tVXRpbC5zZXRPcGFjaXR5KHRpbGUuZWwsIDApO1xuXHRcdFx0VXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fZmFkZUZyYW1lKTtcblx0XHRcdHRoaXMuX2ZhZGVGcmFtZSA9IFV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl91cGRhdGVPcGFjaXR5LCB0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGlsZS5hY3RpdmUgPSB0cnVlO1xuXHRcdFx0dGhpcy5fcHJ1bmVUaWxlcygpO1xuXHRcdH1cblxuXHRcdGlmICghZXJyKSB7XG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRpbGUuZWwsICdsZWFmbGV0LXRpbGUtbG9hZGVkJyk7XG5cblx0XHRcdC8vIEBldmVudCB0aWxlbG9hZDogVGlsZUV2ZW50XG5cdFx0XHQvLyBGaXJlZCB3aGVuIGEgdGlsZSBsb2Fkcy5cblx0XHRcdHRoaXMuZmlyZSgndGlsZWxvYWQnLCB7XG5cdFx0XHRcdHRpbGU6IHRpbGUuZWwsXG5cdFx0XHRcdGNvb3JkczogY29vcmRzXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fbm9UaWxlc1RvTG9hZCgpKSB7XG5cdFx0XHR0aGlzLl9sb2FkaW5nID0gZmFsc2U7XG5cdFx0XHQvLyBAZXZlbnQgbG9hZDogRXZlbnRcblx0XHRcdC8vIEZpcmVkIHdoZW4gdGhlIGdyaWQgbGF5ZXIgbG9hZGVkIGFsbCB2aXNpYmxlIHRpbGVzLlxuXHRcdFx0dGhpcy5maXJlKCdsb2FkJyk7XG5cblx0XHRcdGlmIChCcm93c2VyLmllbHQ5IHx8ICF0aGlzLl9tYXAuX2ZhZGVBbmltYXRlZCkge1xuXHRcdFx0XHRVdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fcHJ1bmVUaWxlcywgdGhpcyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBXYWl0IGEgYml0IG1vcmUgdGhhbiAwLjIgc2VjcyAodGhlIGR1cmF0aW9uIG9mIHRoZSB0aWxlIGZhZGUtaW4pXG5cdFx0XHRcdC8vIHRvIHRyaWdnZXIgYSBwcnVuaW5nLlxuXHRcdFx0XHRzZXRUaW1lb3V0KFV0aWwuYmluZCh0aGlzLl9wcnVuZVRpbGVzLCB0aGlzKSwgMjUwKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2dldFRpbGVQb3M6IGZ1bmN0aW9uIChjb29yZHMpIHtcblx0XHRyZXR1cm4gY29vcmRzLnNjYWxlQnkodGhpcy5nZXRUaWxlU2l6ZSgpKS5zdWJ0cmFjdCh0aGlzLl9sZXZlbC5vcmlnaW4pO1xuXHR9LFxuXG5cdF93cmFwQ29vcmRzOiBmdW5jdGlvbiAoY29vcmRzKSB7XG5cdFx0dmFyIG5ld0Nvb3JkcyA9IG5ldyBQb2ludChcblx0XHRcdHRoaXMuX3dyYXBYID8gVXRpbC53cmFwTnVtKGNvb3Jkcy54LCB0aGlzLl93cmFwWCkgOiBjb29yZHMueCxcblx0XHRcdHRoaXMuX3dyYXBZID8gVXRpbC53cmFwTnVtKGNvb3Jkcy55LCB0aGlzLl93cmFwWSkgOiBjb29yZHMueSk7XG5cdFx0bmV3Q29vcmRzLnogPSBjb29yZHMuejtcblx0XHRyZXR1cm4gbmV3Q29vcmRzO1xuXHR9LFxuXG5cdF9weEJvdW5kc1RvVGlsZVJhbmdlOiBmdW5jdGlvbiAoYm91bmRzKSB7XG5cdFx0dmFyIHRpbGVTaXplID0gdGhpcy5nZXRUaWxlU2l6ZSgpO1xuXHRcdHJldHVybiBuZXcgQm91bmRzKFxuXHRcdFx0Ym91bmRzLm1pbi51bnNjYWxlQnkodGlsZVNpemUpLmZsb29yKCksXG5cdFx0XHRib3VuZHMubWF4LnVuc2NhbGVCeSh0aWxlU2l6ZSkuY2VpbCgpLnN1YnRyYWN0KFsxLCAxXSkpO1xuXHR9LFxuXG5cdF9ub1RpbGVzVG9Mb2FkOiBmdW5jdGlvbiAoKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3RpbGVzKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3RpbGVzW2tleV0ubG9hZGVkKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufSk7XG5cbi8vIEBmYWN0b3J5IEwuZ3JpZExheWVyKG9wdGlvbnM/OiBHcmlkTGF5ZXIgb3B0aW9ucylcbi8vIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgR3JpZExheWVyIHdpdGggdGhlIHN1cHBsaWVkIG9wdGlvbnMuXG5leHBvcnQgZnVuY3Rpb24gZ3JpZExheWVyKG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBHcmlkTGF5ZXIob3B0aW9ucyk7XG59XG4iLCAiaW1wb3J0IHtHcmlkTGF5ZXJ9IGZyb20gJy4vR3JpZExheWVyJztcclxuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcclxuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xyXG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcclxuXHJcblxyXG4vKlxyXG4gKiBAY2xhc3MgVGlsZUxheWVyXHJcbiAqIEBpbmhlcml0cyBHcmlkTGF5ZXJcclxuICogQGFrYSBMLlRpbGVMYXllclxyXG4gKiBVc2VkIHRvIGxvYWQgYW5kIGRpc3BsYXkgdGlsZSBsYXllcnMgb24gdGhlIG1hcC4gTm90ZSB0aGF0IG1vc3QgdGlsZSBzZXJ2ZXJzIHJlcXVpcmUgYXR0cmlidXRpb24sIHdoaWNoIHlvdSBjYW4gc2V0IHVuZGVyIGBMYXllcmAuIEV4dGVuZHMgYEdyaWRMYXllcmAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIEwudGlsZUxheWVyKCdodHRwczovL3RpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nP3tmb299Jywge2ZvbzogJ2JhcicsIGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnfSkuYWRkVG8obWFwKTtcbiAqIGBgYFxyXG4gKlxyXG4gKiBAc2VjdGlvbiBVUkwgdGVtcGxhdGVcclxuICogQGV4YW1wbGVcclxuICpcclxuICogQSBzdHJpbmcgb2YgdGhlIGZvbGxvd2luZyBmb3JtOlxyXG4gKlxyXG4gKiBgYGBcclxuICogJ2h0dHBzOi8ve3N9LnNvbWVkb21haW4uY29tL2JsYWJsYS97en0ve3h9L3t5fXtyfS5wbmcnXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBge3N9YCBtZWFucyBvbmUgb2YgdGhlIGF2YWlsYWJsZSBzdWJkb21haW5zICh1c2VkIHNlcXVlbnRpYWxseSB0byBoZWxwIHdpdGggYnJvd3NlciBwYXJhbGxlbCByZXF1ZXN0cyBwZXIgZG9tYWluIGxpbWl0YXRpb247IHN1YmRvbWFpbiB2YWx1ZXMgYXJlIHNwZWNpZmllZCBpbiBvcHRpb25zOyBgYWAsIGBiYCBvciBgY2AgYnkgZGVmYXVsdCwgY2FuIGJlIG9taXR0ZWQpLCBge3p9YCDigJQgem9vbSBsZXZlbCwgYHt4fWAgYW5kIGB7eX1gIOKAlCB0aWxlIGNvb3JkaW5hdGVzLiBge3J9YCBjYW4gYmUgdXNlZCB0byBhZGQgXCImY29tbWF0OzJ4XCIgdG8gdGhlIFVSTCB0byBsb2FkIHJldGluYSB0aWxlcy5cclxuICpcclxuICogWW91IGNhbiB1c2UgY3VzdG9tIGtleXMgaW4gdGhlIHRlbXBsYXRlLCB3aGljaCB3aWxsIGJlIFtldmFsdWF0ZWRdKCN1dGlsLXRlbXBsYXRlKSBmcm9tIFRpbGVMYXllciBvcHRpb25zLCBsaWtlIHRoaXM6XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiBMLnRpbGVMYXllcignaHR0cHM6Ly97c30uc29tZWRvbWFpbi5jb20ve2Zvb30ve3p9L3t4fS97eX0ucG5nJywge2ZvbzogJ2Jhcid9KTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbmV4cG9ydCB2YXIgVGlsZUxheWVyID0gR3JpZExheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBUaWxlTGF5ZXIgb3B0aW9uc1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdC8vIEBvcHRpb24gbWluWm9vbTogTnVtYmVyID0gMFxyXG5cdFx0Ly8gVGhlIG1pbmltdW0gem9vbSBsZXZlbCBkb3duIHRvIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZSBkaXNwbGF5ZWQgKGluY2x1c2l2ZSkuXHJcblx0XHRtaW5ab29tOiAwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbWF4Wm9vbTogTnVtYmVyID0gMThcclxuXHRcdC8vIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdXAgdG8gd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlIGRpc3BsYXllZCAoaW5jbHVzaXZlKS5cclxuXHRcdG1heFpvb206IDE4LFxyXG5cclxuXHRcdC8vIEBvcHRpb24gc3ViZG9tYWluczogU3RyaW5nfFN0cmluZ1tdID0gJ2FiYydcclxuXHRcdC8vIFN1YmRvbWFpbnMgb2YgdGhlIHRpbGUgc2VydmljZS4gQ2FuIGJlIHBhc3NlZCBpbiB0aGUgZm9ybSBvZiBvbmUgc3RyaW5nICh3aGVyZSBlYWNoIGxldHRlciBpcyBhIHN1YmRvbWFpbiBuYW1lKSBvciBhbiBhcnJheSBvZiBzdHJpbmdzLlxyXG5cdFx0c3ViZG9tYWluczogJ2FiYycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBlcnJvclRpbGVVcmw6IFN0cmluZyA9ICcnXHJcblx0XHQvLyBVUkwgdG8gdGhlIHRpbGUgaW1hZ2UgdG8gc2hvdyBpbiBwbGFjZSBvZiB0aGUgdGlsZSB0aGF0IGZhaWxlZCB0byBsb2FkLlxyXG5cdFx0ZXJyb3JUaWxlVXJsOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21PZmZzZXQ6IE51bWJlciA9IDBcclxuXHRcdC8vIFRoZSB6b29tIG51bWJlciB1c2VkIGluIHRpbGUgVVJMcyB3aWxsIGJlIG9mZnNldCB3aXRoIHRoaXMgdmFsdWUuXHJcblx0XHR6b29tT2Zmc2V0OiAwLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdG1zOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgaW52ZXJzZXMgWSBheGlzIG51bWJlcmluZyBmb3IgdGlsZXMgKHR1cm4gdGhpcyBvbiBmb3IgW1RNU10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVGlsZV9NYXBfU2VydmljZSkgc2VydmljZXMpLlxyXG5cdFx0dG1zOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHpvb21SZXZlcnNlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIHNldCB0byB0cnVlLCB0aGUgem9vbSBudW1iZXIgdXNlZCBpbiB0aWxlIFVSTHMgd2lsbCBiZSByZXZlcnNlZCAoYG1heFpvb20gLSB6b29tYCBpbnN0ZWFkIG9mIGB6b29tYClcclxuXHRcdHpvb21SZXZlcnNlOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIGRldGVjdFJldGluYTogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAgYW5kIHVzZXIgaXMgb24gYSByZXRpbmEgZGlzcGxheSwgaXQgd2lsbCByZXF1ZXN0IGZvdXIgdGlsZXMgb2YgaGFsZiB0aGUgc3BlY2lmaWVkIHNpemUgYW5kIGEgYmlnZ2VyIHpvb20gbGV2ZWwgaW4gcGxhY2Ugb2Ygb25lIHRvIHV0aWxpemUgdGhlIGhpZ2ggcmVzb2x1dGlvbi5cclxuXHRcdGRldGVjdFJldGluYTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiBjcm9zc09yaWdpbjogQm9vbGVhbnxTdHJpbmcgPSBmYWxzZVxyXG5cdFx0Ly8gV2hldGhlciB0aGUgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHRpbGVzLlxyXG5cdFx0Ly8gSWYgYSBTdHJpbmcgaXMgcHJvdmlkZWQsIGFsbCB0aWxlcyB3aWxsIGhhdmUgdGhlaXIgY3Jvc3NPcmlnaW4gYXR0cmlidXRlIHNldCB0byB0aGUgU3RyaW5nIHByb3ZpZGVkLiBUaGlzIGlzIG5lZWRlZCBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgdGlsZSBwaXhlbCBkYXRhLlxyXG5cdFx0Ly8gUmVmZXIgdG8gW0NPUlMgU2V0dGluZ3NdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19zZXR0aW5nc19hdHRyaWJ1dGVzKSBmb3IgdmFsaWQgU3RyaW5nIHZhbHVlcy5cclxuXHRcdGNyb3NzT3JpZ2luOiBmYWxzZSxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHJlZmVycmVyUG9saWN5OiBCb29sZWFufFN0cmluZyA9IGZhbHNlXHJcblx0XHQvLyBXaGV0aGVyIHRoZSByZWZlcnJlclBvbGljeSBhdHRyaWJ1dGUgd2lsbCBiZSBhZGRlZCB0byB0aGUgdGlsZXMuXHJcblx0XHQvLyBJZiBhIFN0cmluZyBpcyBwcm92aWRlZCwgYWxsIHRpbGVzIHdpbGwgaGF2ZSB0aGVpciByZWZlcnJlclBvbGljeSBhdHRyaWJ1dGUgc2V0IHRvIHRoZSBTdHJpbmcgcHJvdmlkZWQuXHJcblx0XHQvLyBUaGlzIG1heSBiZSBuZWVkZWQgaWYgeW91ciBtYXAncyByZW5kZXJpbmcgY29udGV4dCBoYXMgYSBzdHJpY3QgZGVmYXVsdCBidXQgeW91ciB0aWxlIHByb3ZpZGVyIGV4cGVjdHMgYSB2YWxpZCByZWZlcnJlclxyXG5cdFx0Ly8gKGUuZy4gdG8gdmFsaWRhdGUgYW4gQVBJIHRva2VuKS5cclxuXHRcdC8vIFJlZmVyIHRvIFtIVE1MSW1hZ2VFbGVtZW50LnJlZmVycmVyUG9saWN5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEltYWdlRWxlbWVudC9yZWZlcnJlclBvbGljeSkgZm9yIHZhbGlkIFN0cmluZyB2YWx1ZXMuXHJcblx0XHRyZWZlcnJlclBvbGljeTogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cclxuXHRcdG9wdGlvbnMgPSBVdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0Ly8gZGV0ZWN0aW5nIHJldGluYSBkaXNwbGF5cywgYWRqdXN0aW5nIHRpbGVTaXplIGFuZCB6b29tIGxldmVsc1xyXG5cdFx0aWYgKG9wdGlvbnMuZGV0ZWN0UmV0aW5hICYmIEJyb3dzZXIucmV0aW5hICYmIG9wdGlvbnMubWF4Wm9vbSA+IDApIHtcclxuXHJcblx0XHRcdG9wdGlvbnMudGlsZVNpemUgPSBNYXRoLmZsb29yKG9wdGlvbnMudGlsZVNpemUgLyAyKTtcclxuXHJcblx0XHRcdGlmICghb3B0aW9ucy56b29tUmV2ZXJzZSkge1xyXG5cdFx0XHRcdG9wdGlvbnMuem9vbU9mZnNldCsrO1xyXG5cdFx0XHRcdG9wdGlvbnMubWF4Wm9vbSA9IE1hdGgubWF4KG9wdGlvbnMubWluWm9vbSwgb3B0aW9ucy5tYXhab29tIC0gMSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0b3B0aW9ucy56b29tT2Zmc2V0LS07XHJcblx0XHRcdFx0b3B0aW9ucy5taW5ab29tID0gTWF0aC5taW4ob3B0aW9ucy5tYXhab29tLCBvcHRpb25zLm1pblpvb20gKyAxKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0b3B0aW9ucy5taW5ab29tID0gTWF0aC5tYXgoMCwgb3B0aW9ucy5taW5ab29tKTtcclxuXHRcdH0gZWxzZSBpZiAoIW9wdGlvbnMuem9vbVJldmVyc2UpIHtcclxuXHRcdFx0Ly8gbWFrZSBzdXJlIG1heFpvb20gaXMgZ3RlIG1pblpvb21cclxuXHRcdFx0b3B0aW9ucy5tYXhab29tID0gTWF0aC5tYXgob3B0aW9ucy5taW5ab29tLCBvcHRpb25zLm1heFpvb20pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gbWFrZSBzdXJlIG1pblpvb20gaXMgbHRlIG1heFpvb21cclxuXHRcdFx0b3B0aW9ucy5taW5ab29tID0gTWF0aC5taW4ob3B0aW9ucy5tYXhab29tLCBvcHRpb25zLm1pblpvb20pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zdWJkb21haW5zID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRvcHRpb25zLnN1YmRvbWFpbnMgPSBvcHRpb25zLnN1YmRvbWFpbnMuc3BsaXQoJycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMub24oJ3RpbGV1bmxvYWQnLCB0aGlzLl9vblRpbGVSZW1vdmUpO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2Qgc2V0VXJsKHVybDogU3RyaW5nLCBub1JlZHJhdz86IEJvb2xlYW4pOiB0aGlzXHJcblx0Ly8gVXBkYXRlcyB0aGUgbGF5ZXIncyBVUkwgdGVtcGxhdGUgYW5kIHJlZHJhd3MgaXQgKHVubGVzcyBgbm9SZWRyYXdgIGlzIHNldCB0byBgdHJ1ZWApLlxyXG5cdC8vIElmIHRoZSBVUkwgZG9lcyBub3QgY2hhbmdlLCB0aGUgbGF5ZXIgd2lsbCBub3QgYmUgcmVkcmF3biB1bmxlc3NcclxuXHQvLyB0aGUgbm9SZWRyYXcgcGFyYW1ldGVyIGlzIHNldCB0byBmYWxzZS5cclxuXHRzZXRVcmw6IGZ1bmN0aW9uICh1cmwsIG5vUmVkcmF3KSB7XHJcblx0XHRpZiAodGhpcy5fdXJsID09PSB1cmwgJiYgbm9SZWRyYXcgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRub1JlZHJhdyA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fdXJsID0gdXJsO1xyXG5cclxuXHRcdGlmICghbm9SZWRyYXcpIHtcclxuXHRcdFx0dGhpcy5yZWRyYXcoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBtZXRob2QgY3JlYXRlVGlsZShjb29yZHM6IE9iamVjdCwgZG9uZT86IEZ1bmN0aW9uKTogSFRNTEVsZW1lbnRcclxuXHQvLyBDYWxsZWQgb25seSBpbnRlcm5hbGx5LCBvdmVycmlkZXMgR3JpZExheWVyJ3MgW2BjcmVhdGVUaWxlKClgXSgjZ3JpZGxheWVyLWNyZWF0ZXRpbGUpXHJcblx0Ly8gdG8gcmV0dXJuIGFuIGA8aW1nPmAgSFRNTCBlbGVtZW50IHdpdGggdGhlIGFwcHJvcHJpYXRlIGltYWdlIFVSTCBnaXZlbiBgY29vcmRzYC4gVGhlIGBkb25lYFxyXG5cdC8vIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuIHRoZSB0aWxlIGhhcyBiZWVuIGxvYWRlZC5cclxuXHRjcmVhdGVUaWxlOiBmdW5jdGlvbiAoY29vcmRzLCBkb25lKSB7XHJcblx0XHR2YXIgdGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cclxuXHRcdERvbUV2ZW50Lm9uKHRpbGUsICdsb2FkJywgVXRpbC5iaW5kKHRoaXMuX3RpbGVPbkxvYWQsIHRoaXMsIGRvbmUsIHRpbGUpKTtcclxuXHRcdERvbUV2ZW50Lm9uKHRpbGUsICdlcnJvcicsIFV0aWwuYmluZCh0aGlzLl90aWxlT25FcnJvciwgdGhpcywgZG9uZSwgdGlsZSkpO1xyXG5cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gfHwgdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSAnJykge1xyXG5cdFx0XHR0aWxlLmNyb3NzT3JpZ2luID0gdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJycgOiB0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZm9yIHRoaXMgbmV3IG9wdGlvbiB3ZSBmb2xsb3cgdGhlIGRvY3VtZW50ZWQgYmVoYXZpb3JcclxuXHRcdC8vIG1vcmUgY2xvc2VseSBieSBvbmx5IHNldHRpbmcgdGhlIHByb3BlcnR5IHdoZW4gc3RyaW5nXHJcblx0XHRpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5yZWZlcnJlclBvbGljeSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0dGlsZS5yZWZlcnJlclBvbGljeSA9IHRoaXMub3B0aW9ucy5yZWZlcnJlclBvbGljeTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUaGUgYWx0IGF0dHJpYnV0ZSBpcyBzZXQgdG8gdGhlIGVtcHR5IHN0cmluZyxcclxuXHRcdC8vIGFsbG93aW5nIHNjcmVlbiByZWFkZXJzIHRvIGlnbm9yZSB0aGUgZGVjb3JhdGl2ZSBpbWFnZSB0aWxlcy5cclxuXHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9XQUkvdHV0b3JpYWxzL2ltYWdlcy9kZWNvcmF0aXZlL1xyXG5cdFx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWwtYXJpYS8jZWwtaW1nLWVtcHR5LWFsdFxyXG5cdFx0dGlsZS5hbHQgPSAnJztcclxuXHJcblx0XHR0aWxlLnNyYyA9IHRoaXMuZ2V0VGlsZVVybChjb29yZHMpO1xyXG5cclxuXHRcdHJldHVybiB0aWxlO1xyXG5cdH0sXHJcblxyXG5cdC8vIEBzZWN0aW9uIEV4dGVuc2lvbiBtZXRob2RzXHJcblx0Ly8gQHVuaW5oZXJpdGFibGVcclxuXHQvLyBMYXllcnMgZXh0ZW5kaW5nIGBUaWxlTGF5ZXJgIG1pZ2h0IHJlaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgbWV0aG9kLlxyXG5cdC8vIEBtZXRob2QgZ2V0VGlsZVVybChjb29yZHM6IE9iamVjdCk6IFN0cmluZ1xyXG5cdC8vIENhbGxlZCBvbmx5IGludGVybmFsbHksIHJldHVybnMgdGhlIFVSTCBmb3IgYSB0aWxlIGdpdmVuIGl0cyBjb29yZGluYXRlcy5cclxuXHQvLyBDbGFzc2VzIGV4dGVuZGluZyBgVGlsZUxheWVyYCBjYW4gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0byBwcm92aWRlIGN1c3RvbSB0aWxlIFVSTCBuYW1pbmcgc2NoZW1lcy5cclxuXHRnZXRUaWxlVXJsOiBmdW5jdGlvbiAoY29vcmRzKSB7XHJcblx0XHR2YXIgZGF0YSA9IHtcclxuXHRcdFx0cjogQnJvd3Nlci5yZXRpbmEgPyAnQDJ4JyA6ICcnLFxyXG5cdFx0XHRzOiB0aGlzLl9nZXRTdWJkb21haW4oY29vcmRzKSxcclxuXHRcdFx0eDogY29vcmRzLngsXHJcblx0XHRcdHk6IGNvb3Jkcy55LFxyXG5cdFx0XHR6OiB0aGlzLl9nZXRab29tRm9yVXJsKClcclxuXHRcdH07XHJcblx0XHRpZiAodGhpcy5fbWFwICYmICF0aGlzLl9tYXAub3B0aW9ucy5jcnMuaW5maW5pdGUpIHtcclxuXHRcdFx0dmFyIGludmVydGVkWSA9IHRoaXMuX2dsb2JhbFRpbGVSYW5nZS5tYXgueSAtIGNvb3Jkcy55O1xyXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLnRtcykge1xyXG5cdFx0XHRcdGRhdGFbJ3knXSA9IGludmVydGVkWTtcclxuXHRcdFx0fVxyXG5cdFx0XHRkYXRhWycteSddID0gaW52ZXJ0ZWRZO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBVdGlsLnRlbXBsYXRlKHRoaXMuX3VybCwgVXRpbC5leHRlbmQoZGF0YSwgdGhpcy5vcHRpb25zKSk7XHJcblx0fSxcclxuXHJcblx0X3RpbGVPbkxvYWQ6IGZ1bmN0aW9uIChkb25lLCB0aWxlKSB7XHJcblx0XHQvLyBGb3IgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMzMzMlxyXG5cdFx0aWYgKEJyb3dzZXIuaWVsdDkpIHtcclxuXHRcdFx0c2V0VGltZW91dChVdGlsLmJpbmQoZG9uZSwgdGhpcywgbnVsbCwgdGlsZSksIDApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZG9uZShudWxsLCB0aWxlKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfdGlsZU9uRXJyb3I6IGZ1bmN0aW9uIChkb25lLCB0aWxlLCBlKSB7XHJcblx0XHR2YXIgZXJyb3JVcmwgPSB0aGlzLm9wdGlvbnMuZXJyb3JUaWxlVXJsO1xyXG5cdFx0aWYgKGVycm9yVXJsICYmIHRpbGUuZ2V0QXR0cmlidXRlKCdzcmMnKSAhPT0gZXJyb3JVcmwpIHtcclxuXHRcdFx0dGlsZS5zcmMgPSBlcnJvclVybDtcclxuXHRcdH1cclxuXHRcdGRvbmUoZSwgdGlsZSk7XHJcblx0fSxcclxuXHJcblx0X29uVGlsZVJlbW92ZTogZnVuY3Rpb24gKGUpIHtcclxuXHRcdGUudGlsZS5vbmxvYWQgPSBudWxsO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRab29tRm9yVXJsOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgem9vbSA9IHRoaXMuX3RpbGVab29tLFxyXG5cdFx0bWF4Wm9vbSA9IHRoaXMub3B0aW9ucy5tYXhab29tLFxyXG5cdFx0em9vbVJldmVyc2UgPSB0aGlzLm9wdGlvbnMuem9vbVJldmVyc2UsXHJcblx0XHR6b29tT2Zmc2V0ID0gdGhpcy5vcHRpb25zLnpvb21PZmZzZXQ7XHJcblxyXG5cdFx0aWYgKHpvb21SZXZlcnNlKSB7XHJcblx0XHRcdHpvb20gPSBtYXhab29tIC0gem9vbTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gem9vbSArIHpvb21PZmZzZXQ7XHJcblx0fSxcclxuXHJcblx0X2dldFN1YmRvbWFpbjogZnVuY3Rpb24gKHRpbGVQb2ludCkge1xyXG5cdFx0dmFyIGluZGV4ID0gTWF0aC5hYnModGlsZVBvaW50LnggKyB0aWxlUG9pbnQueSkgJSB0aGlzLm9wdGlvbnMuc3ViZG9tYWlucy5sZW5ndGg7XHJcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLnN1YmRvbWFpbnNbaW5kZXhdO1xyXG5cdH0sXHJcblxyXG5cdC8vIHN0b3BzIGxvYWRpbmcgYWxsIHRpbGVzIGluIHRoZSBiYWNrZ3JvdW5kIGxheWVyXHJcblx0X2Fib3J0TG9hZGluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGksIHRpbGU7XHJcblx0XHRmb3IgKGkgaW4gdGhpcy5fdGlsZXMpIHtcclxuXHRcdFx0aWYgKHRoaXMuX3RpbGVzW2ldLmNvb3Jkcy56ICE9PSB0aGlzLl90aWxlWm9vbSkge1xyXG5cdFx0XHRcdHRpbGUgPSB0aGlzLl90aWxlc1tpXS5lbDtcclxuXHJcblx0XHRcdFx0dGlsZS5vbmxvYWQgPSBVdGlsLmZhbHNlRm47XHJcblx0XHRcdFx0dGlsZS5vbmVycm9yID0gVXRpbC5mYWxzZUZuO1xyXG5cclxuXHRcdFx0XHRpZiAoIXRpbGUuY29tcGxldGUpIHtcclxuXHRcdFx0XHRcdHRpbGUuc3JjID0gVXRpbC5lbXB0eUltYWdlVXJsO1xyXG5cdFx0XHRcdFx0dmFyIGNvb3JkcyA9IHRoaXMuX3RpbGVzW2ldLmNvb3JkcztcclxuXHRcdFx0XHRcdERvbVV0aWwucmVtb3ZlKHRpbGUpO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX3RpbGVzW2ldO1xyXG5cdFx0XHRcdFx0Ly8gQGV2ZW50IHRpbGVhYm9ydDogVGlsZUV2ZW50XHJcblx0XHRcdFx0XHQvLyBGaXJlZCB3aGVuIGEgdGlsZSB3YXMgbG9hZGluZyBidXQgaXMgbm93IG5vdCB3YW50ZWQuXHJcblx0XHRcdFx0XHR0aGlzLmZpcmUoJ3RpbGVhYm9ydCcsIHtcclxuXHRcdFx0XHRcdFx0dGlsZTogdGlsZSxcclxuXHRcdFx0XHRcdFx0Y29vcmRzOiBjb29yZHNcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9yZW1vdmVUaWxlOiBmdW5jdGlvbiAoa2V5KSB7XHJcblx0XHR2YXIgdGlsZSA9IHRoaXMuX3RpbGVzW2tleV07XHJcblx0XHRpZiAoIXRpbGUpIHsgcmV0dXJuOyB9XHJcblxyXG5cdFx0Ly8gQ2FuY2VscyBhbnkgcGVuZGluZyBodHRwIHJlcXVlc3RzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGlsZVxyXG5cdFx0dGlsZS5lbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIFV0aWwuZW1wdHlJbWFnZVVybCk7XHJcblxyXG5cdFx0cmV0dXJuIEdyaWRMYXllci5wcm90b3R5cGUuX3JlbW92ZVRpbGUuY2FsbCh0aGlzLCBrZXkpO1xyXG5cdH0sXHJcblxyXG5cdF90aWxlUmVhZHk6IGZ1bmN0aW9uIChjb29yZHMsIGVyciwgdGlsZSkge1xyXG5cdFx0aWYgKCF0aGlzLl9tYXAgfHwgKHRpbGUgJiYgdGlsZS5nZXRBdHRyaWJ1dGUoJ3NyYycpID09PSBVdGlsLmVtcHR5SW1hZ2VVcmwpKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gR3JpZExheWVyLnByb3RvdHlwZS5fdGlsZVJlYWR5LmNhbGwodGhpcywgY29vcmRzLCBlcnIsIHRpbGUpO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuLy8gQGZhY3RvcnkgTC50aWxlbGF5ZXIodXJsVGVtcGxhdGU6IFN0cmluZywgb3B0aW9ucz86IFRpbGVMYXllciBvcHRpb25zKVxyXG4vLyBJbnN0YW50aWF0ZXMgYSB0aWxlIGxheWVyIG9iamVjdCBnaXZlbiBhIGBVUkwgdGVtcGxhdGVgIGFuZCBvcHRpb25hbGx5IGFuIG9wdGlvbnMgb2JqZWN0LlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRpbGVMYXllcih1cmwsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IFRpbGVMYXllcih1cmwsIG9wdGlvbnMpO1xyXG59XHJcbiIsICJpbXBvcnQge1RpbGVMYXllcn0gZnJvbSAnLi9UaWxlTGF5ZXInO1xyXG5pbXBvcnQge2V4dGVuZCwgc2V0T3B0aW9ucywgZ2V0UGFyYW1TdHJpbmd9IGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XHJcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XHJcbmltcG9ydCB7RVBTRzQzMjZ9IGZyb20gJy4uLy4uL2dlby9jcnMvQ1JTLkVQU0c0MzI2JztcclxuaW1wb3J0IHt0b0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcclxuXHJcbi8qXHJcbiAqIEBjbGFzcyBUaWxlTGF5ZXIuV01TXHJcbiAqIEBpbmhlcml0cyBUaWxlTGF5ZXJcclxuICogQGFrYSBMLlRpbGVMYXllci5XTVNcclxuICogVXNlZCB0byBkaXNwbGF5IFtXTVNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlYl9NYXBfU2VydmljZSkgc2VydmljZXMgYXMgdGlsZSBsYXllcnMgb24gdGhlIG1hcC4gRXh0ZW5kcyBgVGlsZUxheWVyYC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogdmFyIG5leHJhZCA9IEwudGlsZUxheWVyLndtcyhcImh0dHA6Ly9tZXNvbmV0LmFncm9uLmlhc3RhdGUuZWR1L2NnaS1iaW4vd21zL25leHJhZC9uMHIuY2dpXCIsIHtcclxuICogXHRsYXllcnM6ICduZXhyYWQtbjByLTkwMDkxMycsXHJcbiAqIFx0Zm9ybWF0OiAnaW1hZ2UvcG5nJyxcclxuICogXHR0cmFuc3BhcmVudDogdHJ1ZSxcclxuICogXHRhdHRyaWJ1dGlvbjogXCJXZWF0aGVyIGRhdGEgwqkgMjAxMiBJRU0gTmV4cmFkXCJcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgVGlsZUxheWVyV01TID0gVGlsZUxheWVyLmV4dGVuZCh7XHJcblxyXG5cdC8vIEBzZWN0aW9uXHJcblx0Ly8gQGFrYSBUaWxlTGF5ZXIuV01TIG9wdGlvbnNcclxuXHQvLyBJZiBhbnkgY3VzdG9tIG9wdGlvbnMgbm90IGRvY3VtZW50ZWQgaGVyZSBhcmUgdXNlZCwgdGhleSB3aWxsIGJlIHNlbnQgdG8gdGhlXHJcblx0Ly8gV01TIHNlcnZlciBhcyBleHRyYSBwYXJhbWV0ZXJzIGluIGVhY2ggcmVxdWVzdCBVUkwuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcclxuXHQvLyBbbm9uLXN0YW5kYXJkIHZlbmRvciBXTVMgcGFyYW1ldGVyc10oaHR0cHM6Ly9kb2NzLmdlb3NlcnZlci5vcmcvc3RhYmxlL2VuL3VzZXIvc2VydmljZXMvd21zL3ZlbmRvci5odG1sKS5cclxuXHRkZWZhdWx0V21zUGFyYW1zOiB7XHJcblx0XHRzZXJ2aWNlOiAnV01TJyxcclxuXHRcdHJlcXVlc3Q6ICdHZXRNYXAnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gbGF5ZXJzOiBTdHJpbmcgPSAnJ1xyXG5cdFx0Ly8gKioocmVxdWlyZWQpKiogQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgV01TIGxheWVycyB0byBzaG93LlxyXG5cdFx0bGF5ZXJzOiAnJyxcclxuXHJcblx0XHQvLyBAb3B0aW9uIHN0eWxlczogU3RyaW5nID0gJydcclxuXHRcdC8vIENvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIFdNUyBzdHlsZXMuXHJcblx0XHRzdHlsZXM6ICcnLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gZm9ybWF0OiBTdHJpbmcgPSAnaW1hZ2UvanBlZydcclxuXHRcdC8vIFdNUyBpbWFnZSBmb3JtYXQgKHVzZSBgJ2ltYWdlL3BuZydgIGZvciBsYXllcnMgd2l0aCB0cmFuc3BhcmVuY3kpLlxyXG5cdFx0Zm9ybWF0OiAnaW1hZ2UvanBlZycsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB0cmFuc3BhcmVudDogQm9vbGVhbiA9IGZhbHNlXHJcblx0XHQvLyBJZiBgdHJ1ZWAsIHRoZSBXTVMgc2VydmljZSB3aWxsIHJldHVybiBpbWFnZXMgd2l0aCB0cmFuc3BhcmVuY3kuXHJcblx0XHR0cmFuc3BhcmVudDogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQG9wdGlvbiB2ZXJzaW9uOiBTdHJpbmcgPSAnMS4xLjEnXHJcblx0XHQvLyBWZXJzaW9uIG9mIHRoZSBXTVMgc2VydmljZSB0byB1c2VcclxuXHRcdHZlcnNpb246ICcxLjEuMSdcclxuXHR9LFxyXG5cclxuXHRvcHRpb25zOiB7XHJcblx0XHQvLyBAb3B0aW9uIGNyczogQ1JTID0gbnVsbFxyXG5cdFx0Ly8gQ29vcmRpbmF0ZSBSZWZlcmVuY2UgU3lzdGVtIHRvIHVzZSBmb3IgdGhlIFdNUyByZXF1ZXN0cywgZGVmYXVsdHMgdG9cclxuXHRcdC8vIG1hcCBDUlMuIERvbid0IGNoYW5nZSB0aGlzIGlmIHlvdSdyZSBub3Qgc3VyZSB3aGF0IGl0IG1lYW5zLlxyXG5cdFx0Y3JzOiBudWxsLFxyXG5cclxuXHRcdC8vIEBvcHRpb24gdXBwZXJjYXNlOiBCb29sZWFuID0gZmFsc2VcclxuXHRcdC8vIElmIGB0cnVlYCwgV01TIHJlcXVlc3QgcGFyYW1ldGVyIGtleXMgd2lsbCBiZSB1cHBlcmNhc2UuXHJcblx0XHR1cHBlcmNhc2U6IGZhbHNlXHJcblx0fSxcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdHRoaXMuX3VybCA9IHVybDtcclxuXHJcblx0XHR2YXIgd21zUGFyYW1zID0gZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRXbXNQYXJhbXMpO1xyXG5cclxuXHRcdC8vIGFsbCBrZXlzIHRoYXQgYXJlIG5vdCBUaWxlTGF5ZXIgb3B0aW9ucyBnbyB0byBXTVMgcGFyYW1zXHJcblx0XHRmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcclxuXHRcdFx0aWYgKCEoaSBpbiB0aGlzLm9wdGlvbnMpKSB7XHJcblx0XHRcdFx0d21zUGFyYW1zW2ldID0gb3B0aW9uc1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdG9wdGlvbnMgPSBzZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHZhciByZWFsUmV0aW5hID0gb3B0aW9ucy5kZXRlY3RSZXRpbmEgJiYgQnJvd3Nlci5yZXRpbmEgPyAyIDogMTtcclxuXHRcdHZhciB0aWxlU2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKTtcclxuXHRcdHdtc1BhcmFtcy53aWR0aCA9IHRpbGVTaXplLnggKiByZWFsUmV0aW5hO1xyXG5cdFx0d21zUGFyYW1zLmhlaWdodCA9IHRpbGVTaXplLnkgKiByZWFsUmV0aW5hO1xyXG5cclxuXHRcdHRoaXMud21zUGFyYW1zID0gd21zUGFyYW1zO1xyXG5cdH0sXHJcblxyXG5cdG9uQWRkOiBmdW5jdGlvbiAobWFwKSB7XHJcblxyXG5cdFx0dGhpcy5fY3JzID0gdGhpcy5vcHRpb25zLmNycyB8fCBtYXAub3B0aW9ucy5jcnM7XHJcblx0XHR0aGlzLl93bXNWZXJzaW9uID0gcGFyc2VGbG9hdCh0aGlzLndtc1BhcmFtcy52ZXJzaW9uKTtcclxuXHJcblx0XHR2YXIgcHJvamVjdGlvbktleSA9IHRoaXMuX3dtc1ZlcnNpb24gPj0gMS4zID8gJ2NycycgOiAnc3JzJztcclxuXHRcdHRoaXMud21zUGFyYW1zW3Byb2plY3Rpb25LZXldID0gdGhpcy5fY3JzLmNvZGU7XHJcblxyXG5cdFx0VGlsZUxheWVyLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsIG1hcCk7XHJcblx0fSxcclxuXHJcblx0Z2V0VGlsZVVybDogZnVuY3Rpb24gKGNvb3Jkcykge1xyXG5cclxuXHRcdHZhciB0aWxlQm91bmRzID0gdGhpcy5fdGlsZUNvb3Jkc1RvTndTZShjb29yZHMpLFxyXG5cdFx0ICAgIGNycyA9IHRoaXMuX2NycyxcclxuXHRcdCAgICBib3VuZHMgPSB0b0JvdW5kcyhjcnMucHJvamVjdCh0aWxlQm91bmRzWzBdKSwgY3JzLnByb2plY3QodGlsZUJvdW5kc1sxXSkpLFxyXG5cdFx0ICAgIG1pbiA9IGJvdW5kcy5taW4sXHJcblx0XHQgICAgbWF4ID0gYm91bmRzLm1heCxcclxuXHRcdCAgICBiYm94ID0gKHRoaXMuX3dtc1ZlcnNpb24gPj0gMS4zICYmIHRoaXMuX2NycyA9PT0gRVBTRzQzMjYgP1xyXG5cdFx0ICAgIFttaW4ueSwgbWluLngsIG1heC55LCBtYXgueF0gOlxyXG5cdFx0ICAgIFttaW4ueCwgbWluLnksIG1heC54LCBtYXgueV0pLmpvaW4oJywnKSxcclxuXHRcdCAgICB1cmwgPSBUaWxlTGF5ZXIucHJvdG90eXBlLmdldFRpbGVVcmwuY2FsbCh0aGlzLCBjb29yZHMpO1xyXG5cdFx0cmV0dXJuIHVybCArXHJcblx0XHRcdGdldFBhcmFtU3RyaW5nKHRoaXMud21zUGFyYW1zLCB1cmwsIHRoaXMub3B0aW9ucy51cHBlcmNhc2UpICtcclxuXHRcdFx0KHRoaXMub3B0aW9ucy51cHBlcmNhc2UgPyAnJkJCT1g9JyA6ICcmYmJveD0nKSArIGJib3g7XHJcblx0fSxcclxuXHJcblx0Ly8gQG1ldGhvZCBzZXRQYXJhbXMocGFyYW1zOiBPYmplY3QsIG5vUmVkcmF3PzogQm9vbGVhbik6IHRoaXNcclxuXHQvLyBNZXJnZXMgYW4gb2JqZWN0IHdpdGggdGhlIG5ldyBwYXJhbWV0ZXJzIGFuZCByZS1yZXF1ZXN0cyB0aWxlcyBvbiB0aGUgY3VycmVudCBzY3JlZW4gKHVubGVzcyBgbm9SZWRyYXdgIHdhcyBzZXQgdG8gdHJ1ZSkuXHJcblx0c2V0UGFyYW1zOiBmdW5jdGlvbiAocGFyYW1zLCBub1JlZHJhdykge1xyXG5cclxuXHRcdGV4dGVuZCh0aGlzLndtc1BhcmFtcywgcGFyYW1zKTtcclxuXHJcblx0XHRpZiAoIW5vUmVkcmF3KSB7XHJcblx0XHRcdHRoaXMucmVkcmF3KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG4vLyBAZmFjdG9yeSBMLnRpbGVMYXllci53bXMoYmFzZVVybDogU3RyaW5nLCBvcHRpb25zOiBUaWxlTGF5ZXIuV01TIG9wdGlvbnMpXHJcbi8vIEluc3RhbnRpYXRlcyBhIFdNUyB0aWxlIGxheWVyIG9iamVjdCBnaXZlbiBhIGJhc2UgVVJMIG9mIHRoZSBXTVMgc2VydmljZSBhbmQgYSBXTVMgcGFyYW1ldGVycy9vcHRpb25zIG9iamVjdC5cclxuZXhwb3J0IGZ1bmN0aW9uIHRpbGVMYXllcldNUyh1cmwsIG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gbmV3IFRpbGVMYXllcldNUyh1cmwsIG9wdGlvbnMpO1xyXG59XHJcbiIsICJleHBvcnQge0dyaWRMYXllciwgZ3JpZExheWVyfSBmcm9tICcuL0dyaWRMYXllcic7XG5pbXBvcnQge1RpbGVMYXllciwgdGlsZUxheWVyfSBmcm9tICcuL1RpbGVMYXllcic7XG5pbXBvcnQge1RpbGVMYXllcldNUywgdGlsZUxheWVyV01TfSBmcm9tICcuL1RpbGVMYXllci5XTVMnO1xuVGlsZUxheWVyLldNUyA9IFRpbGVMYXllcldNUztcbnRpbGVMYXllci53bXMgPSB0aWxlTGF5ZXJXTVM7XG5leHBvcnQge1RpbGVMYXllciwgdGlsZUxheWVyfTtcbiIsICJpbXBvcnQge0xheWVyfSBmcm9tICcuLi9MYXllcic7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uLy4uL2NvcmUvQnJvd3Nlcic7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcblxuXG5cbi8qXG4gKiBAY2xhc3MgUmVuZGVyZXJcbiAqIEBpbmhlcml0cyBMYXllclxuICogQGFrYSBMLlJlbmRlcmVyXG4gKlxuICogQmFzZSBjbGFzcyBmb3IgdmVjdG9yIHJlbmRlcmVyIGltcGxlbWVudGF0aW9ucyAoYFNWR2AsIGBDYW52YXNgKS4gSGFuZGxlcyB0aGVcbiAqIERPTSBjb250YWluZXIgb2YgdGhlIHJlbmRlcmVyLCBpdHMgYm91bmRzLCBhbmQgaXRzIHpvb20gYW5pbWF0aW9uLlxuICpcbiAqIEEgYFJlbmRlcmVyYCB3b3JrcyBhcyBhbiBpbXBsaWNpdCBsYXllciBncm91cCBmb3IgYWxsIGBQYXRoYHMgLSB0aGUgcmVuZGVyZXJcbiAqIGl0c2VsZiBjYW4gYmUgYWRkZWQgb3IgcmVtb3ZlZCB0byB0aGUgbWFwLiBBbGwgcGF0aHMgdXNlIGEgcmVuZGVyZXIsIHdoaWNoIGNhblxuICogYmUgaW1wbGljaXQgKHRoZSBtYXAgd2lsbCBkZWNpZGUgdGhlIHR5cGUgb2YgcmVuZGVyZXIgYW5kIHVzZSBpdCBhdXRvbWF0aWNhbGx5KVxuICogb3IgZXhwbGljaXQgKHVzaW5nIHRoZSBbYHJlbmRlcmVyYF0oI3BhdGgtcmVuZGVyZXIpIG9wdGlvbiBvZiB0aGUgcGF0aCkuXG4gKlxuICogRG8gbm90IHVzZSB0aGlzIGNsYXNzIGRpcmVjdGx5LCB1c2UgYFNWR2AgYW5kIGBDYW52YXNgIGluc3RlYWQuXG4gKlxuICogQGV2ZW50IHVwZGF0ZTogRXZlbnRcbiAqIEZpcmVkIHdoZW4gdGhlIHJlbmRlcmVyIHVwZGF0ZXMgaXRzIGJvdW5kcywgY2VudGVyIGFuZCB6b29tLCBmb3IgZXhhbXBsZSB3aGVuXG4gKiBpdHMgbWFwIGhhcyBtb3ZlZFxuICovXG5cbmV4cG9ydCB2YXIgUmVuZGVyZXIgPSBMYXllci5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgUmVuZGVyZXIgb3B0aW9uc1xuXHRvcHRpb25zOiB7XG5cdFx0Ly8gQG9wdGlvbiBwYWRkaW5nOiBOdW1iZXIgPSAwLjFcblx0XHQvLyBIb3cgbXVjaCB0byBleHRlbmQgdGhlIGNsaXAgYXJlYSBhcm91bmQgdGhlIG1hcCB2aWV3IChyZWxhdGl2ZSB0byBpdHMgc2l6ZSlcblx0XHQvLyBlLmcuIDAuMSB3b3VsZCBiZSAxMCUgb2YgbWFwIHZpZXcgaW4gZWFjaCBkaXJlY3Rpb25cblx0XHRwYWRkaW5nOiAwLjFcblx0fSxcblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdFV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblx0XHRVdGlsLnN0YW1wKHRoaXMpO1xuXHRcdHRoaXMuX2xheWVycyA9IHRoaXMuX2xheWVycyB8fCB7fTtcblx0fSxcblxuXHRvbkFkZDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5fY29udGFpbmVyKSB7XG5cdFx0XHR0aGlzLl9pbml0Q29udGFpbmVyKCk7IC8vIGRlZmluZWQgYnkgcmVuZGVyZXIgaW1wbGVtZW50YXRpb25zXG5cblx0XHRcdC8vIGFsd2F5cyBrZWVwIHRyYW5zZm9ybS1vcmlnaW4gYXMgMCAwXG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuZ2V0UGFuZSgpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG5cdFx0dGhpcy5fdXBkYXRlKCk7XG5cdFx0dGhpcy5vbigndXBkYXRlJywgdGhpcy5fdXBkYXRlUGF0aHMsIHRoaXMpO1xuXHR9LFxuXG5cdG9uUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5vZmYoJ3VwZGF0ZScsIHRoaXMuX3VwZGF0ZVBhdGhzLCB0aGlzKTtcblx0XHR0aGlzLl9kZXN0cm95Q29udGFpbmVyKCk7XG5cdH0sXG5cblx0Z2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHtcblx0XHRcdHZpZXdyZXNldDogdGhpcy5fcmVzZXQsXG5cdFx0XHR6b29tOiB0aGlzLl9vblpvb20sXG5cdFx0XHRtb3ZlZW5kOiB0aGlzLl91cGRhdGUsXG5cdFx0XHR6b29tZW5kOiB0aGlzLl9vblpvb21FbmRcblx0XHR9O1xuXHRcdGlmICh0aGlzLl96b29tQW5pbWF0ZWQpIHtcblx0XHRcdGV2ZW50cy56b29tYW5pbSA9IHRoaXMuX29uQW5pbVpvb207XG5cdFx0fVxuXHRcdHJldHVybiBldmVudHM7XG5cdH0sXG5cblx0X29uQW5pbVpvb206IGZ1bmN0aW9uIChldikge1xuXHRcdHRoaXMuX3VwZGF0ZVRyYW5zZm9ybShldi5jZW50ZXIsIGV2Lnpvb20pO1xuXHR9LFxuXG5cdF9vblpvb206IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl91cGRhdGVUcmFuc2Zvcm0odGhpcy5fbWFwLmdldENlbnRlcigpLCB0aGlzLl9tYXAuZ2V0Wm9vbSgpKTtcblx0fSxcblxuXHRfdXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tKSB7XG5cdFx0dmFyIHNjYWxlID0gdGhpcy5fbWFwLmdldFpvb21TY2FsZSh6b29tLCB0aGlzLl96b29tKSxcblx0XHQgICAgdmlld0hhbGYgPSB0aGlzLl9tYXAuZ2V0U2l6ZSgpLm11bHRpcGx5QnkoMC41ICsgdGhpcy5vcHRpb25zLnBhZGRpbmcpLFxuXHRcdCAgICBjdXJyZW50Q2VudGVyUG9pbnQgPSB0aGlzLl9tYXAucHJvamVjdCh0aGlzLl9jZW50ZXIsIHpvb20pLFxuXG5cdFx0ICAgIHRvcExlZnRPZmZzZXQgPSB2aWV3SGFsZi5tdWx0aXBseUJ5KC1zY2FsZSkuYWRkKGN1cnJlbnRDZW50ZXJQb2ludClcblx0XHRcdFx0ICAuc3VidHJhY3QodGhpcy5fbWFwLl9nZXROZXdQaXhlbE9yaWdpbihjZW50ZXIsIHpvb20pKTtcblxuXHRcdGlmIChCcm93c2VyLmFueTNkKSB7XG5cdFx0XHREb21VdGlsLnNldFRyYW5zZm9ybSh0aGlzLl9jb250YWluZXIsIHRvcExlZnRPZmZzZXQsIHNjYWxlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9jb250YWluZXIsIHRvcExlZnRPZmZzZXQpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl91cGRhdGUoKTtcblx0XHR0aGlzLl91cGRhdGVUcmFuc2Zvcm0odGhpcy5fY2VudGVyLCB0aGlzLl96b29tKTtcblxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0dGhpcy5fbGF5ZXJzW2lkXS5fcmVzZXQoKTtcblx0XHR9XG5cdH0sXG5cblx0X29uWm9vbUVuZDogZnVuY3Rpb24gKCkge1xuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2xheWVycykge1xuXHRcdFx0dGhpcy5fbGF5ZXJzW2lkXS5fcHJvamVjdCgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlUGF0aHM6IGZ1bmN0aW9uICgpIHtcblx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl9sYXllcnMpIHtcblx0XHRcdHRoaXMuX2xheWVyc1tpZF0uX3VwZGF0ZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gVXBkYXRlIHBpeGVsIGJvdW5kcyBvZiByZW5kZXJlciBjb250YWluZXIgKGZvciBwb3NpdGlvbmluZy9zaXppbmcvY2xpcHBpbmcgbGF0ZXIpXG5cdFx0Ly8gU3ViY2xhc3NlcyBhcmUgcmVzcG9uc2libGUgb2YgZmlyaW5nIHRoZSAndXBkYXRlJyBldmVudC5cblx0XHR2YXIgcCA9IHRoaXMub3B0aW9ucy5wYWRkaW5nLFxuXHRcdCAgICBzaXplID0gdGhpcy5fbWFwLmdldFNpemUoKSxcblx0XHQgICAgbWluID0gdGhpcy5fbWFwLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHNpemUubXVsdGlwbHlCeSgtcCkpLnJvdW5kKCk7XG5cblx0XHR0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKG1pbiwgbWluLmFkZChzaXplLm11bHRpcGx5QnkoMSArIHAgKiAyKSkucm91bmQoKSk7XG5cblx0XHR0aGlzLl9jZW50ZXIgPSB0aGlzLl9tYXAuZ2V0Q2VudGVyKCk7XG5cdFx0dGhpcy5fem9vbSA9IHRoaXMuX21hcC5nZXRab29tKCk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7UmVuZGVyZXJ9IGZyb20gJy4vUmVuZGVyZXInO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xuXG4vKlxuICogQGNsYXNzIENhbnZhc1xuICogQGluaGVyaXRzIFJlbmRlcmVyXG4gKiBAYWthIEwuQ2FudmFzXG4gKlxuICogQWxsb3dzIHZlY3RvciBsYXllcnMgdG8gYmUgZGlzcGxheWVkIHdpdGggW2A8Y2FudmFzPmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbiAqIEluaGVyaXRzIGBSZW5kZXJlcmAuXG4gKlxuICogRHVlIHRvIFt0ZWNobmljYWwgbGltaXRhdGlvbnNdKGh0dHBzOi8vY2FuaXVzZS5jb20vY2FudmFzKSwgQ2FudmFzIGlzIG5vdFxuICogYXZhaWxhYmxlIGluIGFsbCB3ZWIgYnJvd3NlcnMsIG5vdGFibHkgSUU4LCBhbmQgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcyBtaWdodFxuICogbm90IGRpc3BsYXkgcHJvcGVybHkgaW4gc29tZSBlZGdlIGNhc2VzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogVXNlIENhbnZhcyBieSBkZWZhdWx0IGZvciBhbGwgcGF0aHMgaW4gdGhlIG1hcDpcbiAqXG4gKiBgYGBqc1xuICogdmFyIG1hcCA9IEwubWFwKCdtYXAnLCB7XG4gKiBcdHJlbmRlcmVyOiBMLmNhbnZhcygpXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFVzZSBhIENhbnZhcyByZW5kZXJlciB3aXRoIGV4dHJhIHBhZGRpbmcgZm9yIHNwZWNpZmljIHZlY3RvciBnZW9tZXRyaWVzOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcpO1xuICogdmFyIG15UmVuZGVyZXIgPSBMLmNhbnZhcyh7IHBhZGRpbmc6IDAuNSB9KTtcbiAqIHZhciBsaW5lID0gTC5wb2x5bGluZSggY29vcmRpbmF0ZXMsIHsgcmVuZGVyZXI6IG15UmVuZGVyZXIgfSApO1xuICogdmFyIGNpcmNsZSA9IEwuY2lyY2xlKCBjZW50ZXIsIHsgcmVuZGVyZXI6IG15UmVuZGVyZXIgfSApO1xuICogYGBgXG4gKi9cblxuZXhwb3J0IHZhciBDYW52YXMgPSBSZW5kZXJlci5leHRlbmQoe1xuXG5cdC8vIEBzZWN0aW9uXG5cdC8vIEBha2EgQ2FudmFzIG9wdGlvbnNcblx0b3B0aW9uczoge1xuXHRcdC8vIEBvcHRpb24gdG9sZXJhbmNlOiBOdW1iZXIgPSAwXG5cdFx0Ly8gSG93IG11Y2ggdG8gZXh0ZW5kIHRoZSBjbGljayB0b2xlcmFuY2UgYXJvdW5kIGEgcGF0aC9vYmplY3Qgb24gdGhlIG1hcC5cblx0XHR0b2xlcmFuY2U6IDBcblx0fSxcblxuXHRnZXRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZXZlbnRzID0gUmVuZGVyZXIucHJvdG90eXBlLmdldEV2ZW50cy5jYWxsKHRoaXMpO1xuXHRcdGV2ZW50cy52aWV3cHJlcmVzZXQgPSB0aGlzLl9vblZpZXdQcmVSZXNldDtcblx0XHRyZXR1cm4gZXZlbnRzO1xuXHR9LFxuXG5cdF9vblZpZXdQcmVSZXNldDogZnVuY3Rpb24gKCkge1xuXHRcdC8vIFNldCBhIGZsYWcgc28gdGhhdCBhIHZpZXdwcmVyZXNldCttb3ZlZW5kK3ZpZXdyZXNldCBvbmx5IHVwZGF0ZXMmcmVkcmF3cyBvbmNlXG5cdFx0dGhpcy5fcG9zdHBvbmVVcGRhdGVQYXRocyA9IHRydWU7XG5cdH0sXG5cblx0b25BZGQ6IGZ1bmN0aW9uICgpIHtcblx0XHRSZW5kZXJlci5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzKTtcblxuXHRcdC8vIFJlZHJhdyB2ZWN0b3JzIHNpbmNlIGNhbnZhcyBpcyBjbGVhcmVkIHVwb24gcmVtb3ZhbCxcblx0XHQvLyBpbiBjYXNlIG9mIHJlbW92aW5nIHRoZSByZW5kZXJlciBpdHNlbGYgZnJvbSB0aGUgbWFwLlxuXHRcdHRoaXMuX2RyYXcoKTtcblx0fSxcblxuXHRfaW5pdENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuXHRcdERvbUV2ZW50Lm9uKGNvbnRhaW5lciwgJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0aGlzKTtcblx0XHREb21FdmVudC5vbihjb250YWluZXIsICdjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBjb250ZXh0bWVudScsIHRoaXMuX29uQ2xpY2ssIHRoaXMpO1xuXHRcdERvbUV2ZW50Lm9uKGNvbnRhaW5lciwgJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlTW91c2VPdXQsIHRoaXMpO1xuXHRcdGNvbnRhaW5lclsnX2xlYWZsZXRfZGlzYWJsZV9ldmVudHMnXSA9IHRydWU7XG5cblx0XHR0aGlzLl9jdHggPSBjb250YWluZXIuZ2V0Q29udGV4dCgnMmQnKTtcblx0fSxcblxuXHRfZGVzdHJveUNvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdFV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX3JlZHJhd1JlcXVlc3QpO1xuXHRcdGRlbGV0ZSB0aGlzLl9jdHg7XG5cdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcblx0XHREb21FdmVudC5vZmYodGhpcy5fY29udGFpbmVyKTtcblx0XHRkZWxldGUgdGhpcy5fY29udGFpbmVyO1xuXHR9LFxuXG5cdF91cGRhdGVQYXRoczogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9wb3N0cG9uZVVwZGF0ZVBhdGhzKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGxheWVyO1xuXHRcdHRoaXMuX3JlZHJhd0JvdW5kcyA9IG51bGw7XG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG5cdFx0XHRsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG5cdFx0XHRsYXllci5fdXBkYXRlKCk7XG5cdFx0fVxuXHRcdHRoaXMuX3JlZHJhdygpO1xuXHR9LFxuXG5cdF91cGRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fbWFwLl9hbmltYXRpbmdab29tICYmIHRoaXMuX2JvdW5kcykgeyByZXR1cm47IH1cblxuXHRcdFJlbmRlcmVyLnByb3RvdHlwZS5fdXBkYXRlLmNhbGwodGhpcyk7XG5cblx0XHR2YXIgYiA9IHRoaXMuX2JvdW5kcyxcblx0XHQgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyLFxuXHRcdCAgICBzaXplID0gYi5nZXRTaXplKCksXG5cdFx0ICAgIG0gPSBCcm93c2VyLnJldGluYSA/IDIgOiAxO1xuXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbihjb250YWluZXIsIGIubWluKTtcblxuXHRcdC8vIHNldCBjYW52YXMgc2l6ZSAoYWxzbyBjbGVhcmluZyBpdCk7IHVzZSBkb3VibGUgc2l6ZSBvbiByZXRpbmFcblx0XHRjb250YWluZXIud2lkdGggPSBtICogc2l6ZS54O1xuXHRcdGNvbnRhaW5lci5oZWlnaHQgPSBtICogc2l6ZS55O1xuXHRcdGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHNpemUueCArICdweCc7XG5cdFx0Y29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XG5cblx0XHRpZiAoQnJvd3Nlci5yZXRpbmEpIHtcblx0XHRcdHRoaXMuX2N0eC5zY2FsZSgyLCAyKTtcblx0XHR9XG5cblx0XHQvLyB0cmFuc2xhdGUgc28gd2UgdXNlIHRoZSBzYW1lIHBhdGggY29vcmRpbmF0ZXMgYWZ0ZXIgY2FudmFzIGVsZW1lbnQgbW92ZXNcblx0XHR0aGlzLl9jdHgudHJhbnNsYXRlKC1iLm1pbi54LCAtYi5taW4ueSk7XG5cblx0XHQvLyBUZWxsIHBhdGhzIHRvIHJlZHJhdyB0aGVtc2VsdmVzXG5cdFx0dGhpcy5maXJlKCd1cGRhdGUnKTtcblx0fSxcblxuXHRfcmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRSZW5kZXJlci5wcm90b3R5cGUuX3Jlc2V0LmNhbGwodGhpcyk7XG5cblx0XHRpZiAodGhpcy5fcG9zdHBvbmVVcGRhdGVQYXRocykge1xuXHRcdFx0dGhpcy5fcG9zdHBvbmVVcGRhdGVQYXRocyA9IGZhbHNlO1xuXHRcdFx0dGhpcy5fdXBkYXRlUGF0aHMoKTtcblx0XHR9XG5cdH0sXG5cblx0X2luaXRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR0aGlzLl91cGRhdGVEYXNoQXJyYXkobGF5ZXIpO1xuXHRcdHRoaXMuX2xheWVyc1tVdGlsLnN0YW1wKGxheWVyKV0gPSBsYXllcjtcblxuXHRcdHZhciBvcmRlciA9IGxheWVyLl9vcmRlciA9IHtcblx0XHRcdGxheWVyOiBsYXllcixcblx0XHRcdHByZXY6IHRoaXMuX2RyYXdMYXN0LFxuXHRcdFx0bmV4dDogbnVsbFxuXHRcdH07XG5cdFx0aWYgKHRoaXMuX2RyYXdMYXN0KSB7IHRoaXMuX2RyYXdMYXN0Lm5leHQgPSBvcmRlcjsgfVxuXHRcdHRoaXMuX2RyYXdMYXN0ID0gb3JkZXI7XG5cdFx0dGhpcy5fZHJhd0ZpcnN0ID0gdGhpcy5fZHJhd0ZpcnN0IHx8IHRoaXMuX2RyYXdMYXN0O1xuXHR9LFxuXG5cdF9hZGRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR0aGlzLl9yZXF1ZXN0UmVkcmF3KGxheWVyKTtcblx0fSxcblxuXHRfcmVtb3ZlUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIG9yZGVyID0gbGF5ZXIuX29yZGVyO1xuXHRcdHZhciBuZXh0ID0gb3JkZXIubmV4dDtcblx0XHR2YXIgcHJldiA9IG9yZGVyLnByZXY7XG5cblx0XHRpZiAobmV4dCkge1xuXHRcdFx0bmV4dC5wcmV2ID0gcHJldjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fZHJhd0xhc3QgPSBwcmV2O1xuXHRcdH1cblx0XHRpZiAocHJldikge1xuXHRcdFx0cHJldi5uZXh0ID0gbmV4dDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fZHJhd0ZpcnN0ID0gbmV4dDtcblx0XHR9XG5cblx0XHRkZWxldGUgbGF5ZXIuX29yZGVyO1xuXG5cdFx0ZGVsZXRlIHRoaXMuX2xheWVyc1tVdGlsLnN0YW1wKGxheWVyKV07XG5cblx0XHR0aGlzLl9yZXF1ZXN0UmVkcmF3KGxheWVyKTtcblx0fSxcblxuXHRfdXBkYXRlUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0Ly8gUmVkcmF3IHRoZSB1bmlvbiBvZiB0aGUgbGF5ZXIncyBvbGQgcGl4ZWxcblx0XHQvLyBib3VuZHMgYW5kIHRoZSBuZXcgcGl4ZWwgYm91bmRzLlxuXHRcdHRoaXMuX2V4dGVuZFJlZHJhd0JvdW5kcyhsYXllcik7XG5cdFx0bGF5ZXIuX3Byb2plY3QoKTtcblx0XHRsYXllci5fdXBkYXRlKCk7XG5cdFx0Ly8gVGhlIHJlZHJhdyB3aWxsIGV4dGVuZCB0aGUgcmVkcmF3IGJvdW5kc1xuXHRcdC8vIHdpdGggdGhlIG5ldyBwaXhlbCBib3VuZHMuXG5cdFx0dGhpcy5fcmVxdWVzdFJlZHJhdyhsYXllcik7XG5cdH0sXG5cblx0X3VwZGF0ZVN0eWxlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR0aGlzLl91cGRhdGVEYXNoQXJyYXkobGF5ZXIpO1xuXHRcdHRoaXMuX3JlcXVlc3RSZWRyYXcobGF5ZXIpO1xuXHR9LFxuXG5cdF91cGRhdGVEYXNoQXJyYXk6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdGlmICh0eXBlb2YgbGF5ZXIub3B0aW9ucy5kYXNoQXJyYXkgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHR2YXIgcGFydHMgPSBsYXllci5vcHRpb25zLmRhc2hBcnJheS5zcGxpdCgvWywgXSsvKSxcblx0XHRcdCAgICBkYXNoQXJyYXkgPSBbXSxcblx0XHRcdCAgICBkYXNoVmFsdWUsXG5cdFx0XHQgICAgaTtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRkYXNoVmFsdWUgPSBOdW1iZXIocGFydHNbaV0pO1xuXHRcdFx0XHQvLyBJZ25vcmUgZGFzaCBhcnJheSBjb250YWluaW5nIGludmFsaWQgbGVuZ3Roc1xuXHRcdFx0XHRpZiAoaXNOYU4oZGFzaFZhbHVlKSkgeyByZXR1cm47IH1cblx0XHRcdFx0ZGFzaEFycmF5LnB1c2goZGFzaFZhbHVlKTtcblx0XHRcdH1cblx0XHRcdGxheWVyLm9wdGlvbnMuX2Rhc2hBcnJheSA9IGRhc2hBcnJheTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bGF5ZXIub3B0aW9ucy5fZGFzaEFycmF5ID0gbGF5ZXIub3B0aW9ucy5kYXNoQXJyYXk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZXF1ZXN0UmVkcmF3OiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2V4dGVuZFJlZHJhd0JvdW5kcyhsYXllcik7XG5cdFx0dGhpcy5fcmVkcmF3UmVxdWVzdCA9IHRoaXMuX3JlZHJhd1JlcXVlc3QgfHwgVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3JlZHJhdywgdGhpcyk7XG5cdH0sXG5cblx0X2V4dGVuZFJlZHJhd0JvdW5kczogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0aWYgKGxheWVyLl9weEJvdW5kcykge1xuXHRcdFx0dmFyIHBhZGRpbmcgPSAobGF5ZXIub3B0aW9ucy53ZWlnaHQgfHwgMCkgKyAxO1xuXHRcdFx0dGhpcy5fcmVkcmF3Qm91bmRzID0gdGhpcy5fcmVkcmF3Qm91bmRzIHx8IG5ldyBCb3VuZHMoKTtcblx0XHRcdHRoaXMuX3JlZHJhd0JvdW5kcy5leHRlbmQobGF5ZXIuX3B4Qm91bmRzLm1pbi5zdWJ0cmFjdChbcGFkZGluZywgcGFkZGluZ10pKTtcblx0XHRcdHRoaXMuX3JlZHJhd0JvdW5kcy5leHRlbmQobGF5ZXIuX3B4Qm91bmRzLm1heC5hZGQoW3BhZGRpbmcsIHBhZGRpbmddKSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9yZWRyYXc6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9yZWRyYXdSZXF1ZXN0ID0gbnVsbDtcblxuXHRcdGlmICh0aGlzLl9yZWRyYXdCb3VuZHMpIHtcblx0XHRcdHRoaXMuX3JlZHJhd0JvdW5kcy5taW4uX2Zsb29yKCk7XG5cdFx0XHR0aGlzLl9yZWRyYXdCb3VuZHMubWF4Ll9jZWlsKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fY2xlYXIoKTsgLy8gY2xlYXIgbGF5ZXJzIGluIHJlZHJhdyBib3VuZHNcblx0XHR0aGlzLl9kcmF3KCk7IC8vIGRyYXcgbGF5ZXJzXG5cblx0XHR0aGlzLl9yZWRyYXdCb3VuZHMgPSBudWxsO1xuXHR9LFxuXG5cdF9jbGVhcjogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBib3VuZHMgPSB0aGlzLl9yZWRyYXdCb3VuZHM7XG5cdFx0aWYgKGJvdW5kcykge1xuXHRcdFx0dmFyIHNpemUgPSBib3VuZHMuZ2V0U2l6ZSgpO1xuXHRcdFx0dGhpcy5fY3R4LmNsZWFyUmVjdChib3VuZHMubWluLngsIGJvdW5kcy5taW4ueSwgc2l6ZS54LCBzaXplLnkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jdHguc2F2ZSgpO1xuXHRcdFx0dGhpcy5fY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcblx0XHRcdHRoaXMuX2N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fY29udGFpbmVyLndpZHRoLCB0aGlzLl9jb250YWluZXIuaGVpZ2h0KTtcblx0XHRcdHRoaXMuX2N0eC5yZXN0b3JlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9kcmF3OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGxheWVyLCBib3VuZHMgPSB0aGlzLl9yZWRyYXdCb3VuZHM7XG5cdFx0dGhpcy5fY3R4LnNhdmUoKTtcblx0XHRpZiAoYm91bmRzKSB7XG5cdFx0XHR2YXIgc2l6ZSA9IGJvdW5kcy5nZXRTaXplKCk7XG5cdFx0XHR0aGlzLl9jdHguYmVnaW5QYXRoKCk7XG5cdFx0XHR0aGlzLl9jdHgucmVjdChib3VuZHMubWluLngsIGJvdW5kcy5taW4ueSwgc2l6ZS54LCBzaXplLnkpO1xuXHRcdFx0dGhpcy5fY3R4LmNsaXAoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9kcmF3aW5nID0gdHJ1ZTtcblxuXHRcdGZvciAodmFyIG9yZGVyID0gdGhpcy5fZHJhd0ZpcnN0OyBvcmRlcjsgb3JkZXIgPSBvcmRlci5uZXh0KSB7XG5cdFx0XHRsYXllciA9IG9yZGVyLmxheWVyO1xuXHRcdFx0aWYgKCFib3VuZHMgfHwgKGxheWVyLl9weEJvdW5kcyAmJiBsYXllci5fcHhCb3VuZHMuaW50ZXJzZWN0cyhib3VuZHMpKSkge1xuXHRcdFx0XHRsYXllci5fdXBkYXRlUGF0aCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX2RyYXdpbmcgPSBmYWxzZTtcblxuXHRcdHRoaXMuX2N0eC5yZXN0b3JlKCk7ICAvLyBSZXN0b3JlIHN0YXRlIGJlZm9yZSBjbGlwcGluZy5cblx0fSxcblxuXHRfdXBkYXRlUG9seTogZnVuY3Rpb24gKGxheWVyLCBjbG9zZWQpIHtcblx0XHRpZiAoIXRoaXMuX2RyYXdpbmcpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgaSwgaiwgbGVuMiwgcCxcblx0XHQgICAgcGFydHMgPSBsYXllci5fcGFydHMsXG5cdFx0ICAgIGxlbiA9IHBhcnRzLmxlbmd0aCxcblx0XHQgICAgY3R4ID0gdGhpcy5fY3R4O1xuXG5cdFx0aWYgKCFsZW4pIHsgcmV0dXJuOyB9XG5cblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGZvciAoaiA9IDAsIGxlbjIgPSBwYXJ0c1tpXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcblx0XHRcdFx0cCA9IHBhcnRzW2ldW2pdO1xuXHRcdFx0XHRjdHhbaiA/ICdsaW5lVG8nIDogJ21vdmVUbyddKHAueCwgcC55KTtcblx0XHRcdH1cblx0XHRcdGlmIChjbG9zZWQpIHtcblx0XHRcdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX2ZpbGxTdHJva2UoY3R4LCBsYXllcik7XG5cblx0XHQvLyBUT0RPIG9wdGltaXphdGlvbjogMSBmaWxsL3N0cm9rZSBmb3IgYWxsIGZlYXR1cmVzIHdpdGggZXF1YWwgc3R5bGUgaW5zdGVhZCBvZiAxIGZvciBlYWNoIGZlYXR1cmVcblx0fSxcblxuXHRfdXBkYXRlQ2lyY2xlOiBmdW5jdGlvbiAobGF5ZXIpIHtcblxuXHRcdGlmICghdGhpcy5fZHJhd2luZyB8fCBsYXllci5fZW1wdHkoKSkgeyByZXR1cm47IH1cblxuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LFxuXHRcdCAgICBjdHggPSB0aGlzLl9jdHgsXG5cdFx0ICAgIHIgPSBNYXRoLm1heChNYXRoLnJvdW5kKGxheWVyLl9yYWRpdXMpLCAxKSxcblx0XHQgICAgcyA9IChNYXRoLm1heChNYXRoLnJvdW5kKGxheWVyLl9yYWRpdXNZKSwgMSkgfHwgcikgLyByO1xuXG5cdFx0aWYgKHMgIT09IDEpIHtcblx0XHRcdGN0eC5zYXZlKCk7XG5cdFx0XHRjdHguc2NhbGUoMSwgcyk7XG5cdFx0fVxuXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5hcmMocC54LCBwLnkgLyBzLCByLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xuXG5cdFx0aWYgKHMgIT09IDEpIHtcblx0XHRcdGN0eC5yZXN0b3JlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZmlsbFN0cm9rZShjdHgsIGxheWVyKTtcblx0fSxcblxuXHRfZmlsbFN0cm9rZTogZnVuY3Rpb24gKGN0eCwgbGF5ZXIpIHtcblx0XHR2YXIgb3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7XG5cblx0XHRpZiAob3B0aW9ucy5maWxsKSB7XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBvcHRpb25zLmZpbGxPcGFjaXR5O1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuZmlsbENvbG9yIHx8IG9wdGlvbnMuY29sb3I7XG5cdFx0XHRjdHguZmlsbChvcHRpb25zLmZpbGxSdWxlIHx8ICdldmVub2RkJyk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuc3Ryb2tlICYmIG9wdGlvbnMud2VpZ2h0ICE9PSAwKSB7XG5cdFx0XHRpZiAoY3R4LnNldExpbmVEYXNoKSB7XG5cdFx0XHRcdGN0eC5zZXRMaW5lRGFzaChsYXllci5vcHRpb25zICYmIGxheWVyLm9wdGlvbnMuX2Rhc2hBcnJheSB8fCBbXSk7XG5cdFx0XHR9XG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSBvcHRpb25zLm9wYWNpdHk7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gb3B0aW9ucy53ZWlnaHQ7XG5cdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLmNvbG9yO1xuXHRcdFx0Y3R4LmxpbmVDYXAgPSBvcHRpb25zLmxpbmVDYXA7XG5cdFx0XHRjdHgubGluZUpvaW4gPSBvcHRpb25zLmxpbmVKb2luO1xuXHRcdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBDYW52YXMgb2J2aW91c2x5IGRvZXNuJ3QgaGF2ZSBtb3VzZSBldmVudHMgZm9yIGluZGl2aWR1YWwgZHJhd24gb2JqZWN0cyxcblx0Ly8gc28gd2UgZW11bGF0ZSB0aGF0IGJ5IGNhbGN1bGF0aW5nIHdoYXQncyB1bmRlciB0aGUgbW91c2Ugb24gbW91c2Vtb3ZlL2NsaWNrIG1hbnVhbGx5XG5cblx0X29uQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZSksIGxheWVyLCBjbGlja2VkTGF5ZXI7XG5cblx0XHRmb3IgKHZhciBvcmRlciA9IHRoaXMuX2RyYXdGaXJzdDsgb3JkZXI7IG9yZGVyID0gb3JkZXIubmV4dCkge1xuXHRcdFx0bGF5ZXIgPSBvcmRlci5sYXllcjtcblx0XHRcdGlmIChsYXllci5vcHRpb25zLmludGVyYWN0aXZlICYmIGxheWVyLl9jb250YWluc1BvaW50KHBvaW50KSkge1xuXHRcdFx0XHRpZiAoIShlLnR5cGUgPT09ICdjbGljaycgfHwgZS50eXBlID09PSAncHJlY2xpY2snKSB8fCAhdGhpcy5fbWFwLl9kcmFnZ2FibGVNb3ZlZChsYXllcikpIHtcblx0XHRcdFx0XHRjbGlja2VkTGF5ZXIgPSBsYXllcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9maXJlRXZlbnQoY2xpY2tlZExheWVyID8gW2NsaWNrZWRMYXllcl0gOiBmYWxzZSwgZSk7XG5cdH0sXG5cblx0X29uTW91c2VNb3ZlOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghdGhpcy5fbWFwIHx8IHRoaXMuX21hcC5kcmFnZ2luZy5tb3ZpbmcoKSB8fCB0aGlzLl9tYXAuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgcG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludChlKTtcblx0XHR0aGlzLl9oYW5kbGVNb3VzZUhvdmVyKGUsIHBvaW50KTtcblx0fSxcblxuXG5cdF9oYW5kbGVNb3VzZU91dDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgbGF5ZXIgPSB0aGlzLl9ob3ZlcmVkTGF5ZXI7XG5cdFx0aWYgKGxheWVyKSB7XG5cdFx0XHQvLyBpZiB3ZSdyZSBsZWF2aW5nIHRoZSBsYXllciwgZmlyZSBtb3VzZW91dFxuXHRcdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7XG5cdFx0XHR0aGlzLl9maXJlRXZlbnQoW2xheWVyXSwgZSwgJ21vdXNlb3V0Jyk7XG5cdFx0XHR0aGlzLl9ob3ZlcmVkTGF5ZXIgPSBudWxsO1xuXHRcdFx0dGhpcy5fbW91c2VIb3ZlclRocm90dGxlZCA9IGZhbHNlO1xuXHRcdH1cblx0fSxcblxuXHRfaGFuZGxlTW91c2VIb3ZlcjogZnVuY3Rpb24gKGUsIHBvaW50KSB7XG5cdFx0aWYgKHRoaXMuX21vdXNlSG92ZXJUaHJvdHRsZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgbGF5ZXIsIGNhbmRpZGF0ZUhvdmVyZWRMYXllcjtcblxuXHRcdGZvciAodmFyIG9yZGVyID0gdGhpcy5fZHJhd0ZpcnN0OyBvcmRlcjsgb3JkZXIgPSBvcmRlci5uZXh0KSB7XG5cdFx0XHRsYXllciA9IG9yZGVyLmxheWVyO1xuXHRcdFx0aWYgKGxheWVyLm9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgbGF5ZXIuX2NvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG5cdFx0XHRcdGNhbmRpZGF0ZUhvdmVyZWRMYXllciA9IGxheWVyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChjYW5kaWRhdGVIb3ZlcmVkTGF5ZXIgIT09IHRoaXMuX2hvdmVyZWRMYXllcikge1xuXHRcdFx0dGhpcy5faGFuZGxlTW91c2VPdXQoZSk7XG5cblx0XHRcdGlmIChjYW5kaWRhdGVIb3ZlcmVkTGF5ZXIpIHtcblx0XHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWludGVyYWN0aXZlJyk7IC8vIGNoYW5nZSBjdXJzb3Jcblx0XHRcdFx0dGhpcy5fZmlyZUV2ZW50KFtjYW5kaWRhdGVIb3ZlcmVkTGF5ZXJdLCBlLCAnbW91c2VvdmVyJyk7XG5cdFx0XHRcdHRoaXMuX2hvdmVyZWRMYXllciA9IGNhbmRpZGF0ZUhvdmVyZWRMYXllcjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9maXJlRXZlbnQodGhpcy5faG92ZXJlZExheWVyID8gW3RoaXMuX2hvdmVyZWRMYXllcl0gOiBmYWxzZSwgZSk7XG5cblx0XHR0aGlzLl9tb3VzZUhvdmVyVGhyb3R0bGVkID0gdHJ1ZTtcblx0XHRzZXRUaW1lb3V0KFV0aWwuYmluZChmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl9tb3VzZUhvdmVyVGhyb3R0bGVkID0gZmFsc2U7XG5cdFx0fSwgdGhpcyksIDMyKTtcblx0fSxcblxuXHRfZmlyZUV2ZW50OiBmdW5jdGlvbiAobGF5ZXJzLCBlLCB0eXBlKSB7XG5cdFx0dGhpcy5fbWFwLl9maXJlRE9NRXZlbnQoZSwgdHlwZSB8fCBlLnR5cGUsIGxheWVycyk7XG5cdH0sXG5cblx0X2JyaW5nVG9Gcm9udDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIG9yZGVyID0gbGF5ZXIuX29yZGVyO1xuXG5cdFx0aWYgKCFvcmRlcikgeyByZXR1cm47IH1cblxuXHRcdHZhciBuZXh0ID0gb3JkZXIubmV4dDtcblx0XHR2YXIgcHJldiA9IG9yZGVyLnByZXY7XG5cblx0XHRpZiAobmV4dCkge1xuXHRcdFx0bmV4dC5wcmV2ID0gcHJldjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gQWxyZWFkeSBsYXN0XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChwcmV2KSB7XG5cdFx0XHRwcmV2Lm5leHQgPSBuZXh0O1xuXHRcdH0gZWxzZSBpZiAobmV4dCkge1xuXHRcdFx0Ly8gVXBkYXRlIGZpcnN0IGVudHJ5IHVubGVzcyB0aGlzIGlzIHRoZVxuXHRcdFx0Ly8gc2luZ2xlIGVudHJ5XG5cdFx0XHR0aGlzLl9kcmF3Rmlyc3QgPSBuZXh0O1xuXHRcdH1cblxuXHRcdG9yZGVyLnByZXYgPSB0aGlzLl9kcmF3TGFzdDtcblx0XHR0aGlzLl9kcmF3TGFzdC5uZXh0ID0gb3JkZXI7XG5cblx0XHRvcmRlci5uZXh0ID0gbnVsbDtcblx0XHR0aGlzLl9kcmF3TGFzdCA9IG9yZGVyO1xuXG5cdFx0dGhpcy5fcmVxdWVzdFJlZHJhdyhsYXllcik7XG5cdH0sXG5cblx0X2JyaW5nVG9CYWNrOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgb3JkZXIgPSBsYXllci5fb3JkZXI7XG5cblx0XHRpZiAoIW9yZGVyKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIG5leHQgPSBvcmRlci5uZXh0O1xuXHRcdHZhciBwcmV2ID0gb3JkZXIucHJldjtcblxuXHRcdGlmIChwcmV2KSB7XG5cdFx0XHRwcmV2Lm5leHQgPSBuZXh0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBBbHJlYWR5IGZpcnN0XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChuZXh0KSB7XG5cdFx0XHRuZXh0LnByZXYgPSBwcmV2O1xuXHRcdH0gZWxzZSBpZiAocHJldikge1xuXHRcdFx0Ly8gVXBkYXRlIGxhc3QgZW50cnkgdW5sZXNzIHRoaXMgaXMgdGhlXG5cdFx0XHQvLyBzaW5nbGUgZW50cnlcblx0XHRcdHRoaXMuX2RyYXdMYXN0ID0gcHJldjtcblx0XHR9XG5cblx0XHRvcmRlci5wcmV2ID0gbnVsbDtcblxuXHRcdG9yZGVyLm5leHQgPSB0aGlzLl9kcmF3Rmlyc3Q7XG5cdFx0dGhpcy5fZHJhd0ZpcnN0LnByZXYgPSBvcmRlcjtcblx0XHR0aGlzLl9kcmF3Rmlyc3QgPSBvcmRlcjtcblxuXHRcdHRoaXMuX3JlcXVlc3RSZWRyYXcobGF5ZXIpO1xuXHR9XG59KTtcblxuLy8gQGZhY3RvcnkgTC5jYW52YXMob3B0aW9ucz86IFJlbmRlcmVyIG9wdGlvbnMpXG4vLyBDcmVhdGVzIGEgQ2FudmFzIHJlbmRlcmVyIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5leHBvcnQgZnVuY3Rpb24gY2FudmFzKG9wdGlvbnMpIHtcblx0cmV0dXJuIEJyb3dzZXIuY2FudmFzID8gbmV3IENhbnZhcyhvcHRpb25zKSA6IG51bGw7XG59XG4iLCAiaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge1JlbmRlcmVyfSBmcm9tICcuL1JlbmRlcmVyJztcblxuLypcbiAqIFRoYW5rcyB0byBEbWl0cnkgQmFyYW5vdnNreSBhbmQgaGlzIFJhcGhhZWwgbGlicmFyeSBmb3IgaW5zcGlyYXRpb24hXG4gKi9cblxuXG5leHBvcnQgdmFyIHZtbENyZWF0ZSA9IChmdW5jdGlvbiAoKSB7XG5cdHRyeSB7XG5cdFx0ZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQoJ2x2bWwnLCAndXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwnKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCc8bHZtbDonICsgbmFtZSArICcgY2xhc3M9XCJsdm1sXCI+Jyk7XG5cdFx0fTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIERvIG5vdCByZXR1cm4gZm4gZnJvbSBjYXRjaCBibG9jayBzbyBgZWAgY2FuIGJlIGdhcmJhZ2UgY29sbGVjdGVkXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvcHVsbC83Mjc5XG5cdH1cblx0cmV0dXJuIGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzwnICsgbmFtZSArICcgeG1sbnM9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQuY29tOnZtbFwiIGNsYXNzPVwibHZtbFwiPicpO1xuXHR9O1xufSkoKTtcblxuXG4vKlxuICogQGNsYXNzIFNWR1xuICpcbiAqXG4gKiBWTUwgd2FzIGRlcHJlY2F0ZWQgaW4gMjAxMiwgd2hpY2ggbWVhbnMgVk1MIGZ1bmN0aW9uYWxpdHkgZXhpc3RzIG9ubHkgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gKiB3aXRoIG9sZCB2ZXJzaW9ucyBvZiBJbnRlcm5ldCBFeHBsb3Jlci5cbiAqL1xuXG4vLyBtaXhpbiB0byByZWRlZmluZSBzb21lIFNWRyBtZXRob2RzIHRvIGhhbmRsZSBWTUwgc3ludGF4IHdoaWNoIGlzIHNpbWlsYXIgYnV0IHdpdGggc29tZSBkaWZmZXJlbmNlc1xuZXhwb3J0IHZhciB2bWxNaXhpbiA9IHtcblxuXHRfaW5pdENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2NvbnRhaW5lciA9IERvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC12bWwtY29udGFpbmVyJyk7XG5cdH0sXG5cblx0X3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tYXAuX2FuaW1hdGluZ1pvb20pIHsgcmV0dXJuOyB9XG5cdFx0UmVuZGVyZXIucHJvdG90eXBlLl91cGRhdGUuY2FsbCh0aGlzKTtcblx0XHR0aGlzLmZpcmUoJ3VwZGF0ZScpO1xuXHR9LFxuXG5cdF9pbml0UGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IGxheWVyLl9jb250YWluZXIgPSB2bWxDcmVhdGUoJ3NoYXBlJyk7XG5cblx0XHREb21VdGlsLmFkZENsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtdm1sLXNoYXBlICcgKyAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSB8fCAnJykpO1xuXG5cdFx0Y29udGFpbmVyLmNvb3Jkc2l6ZSA9ICcxIDEnO1xuXG5cdFx0bGF5ZXIuX3BhdGggPSB2bWxDcmVhdGUoJ3BhdGgnKTtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQobGF5ZXIuX3BhdGgpO1xuXG5cdFx0dGhpcy5fdXBkYXRlU3R5bGUobGF5ZXIpO1xuXHRcdHRoaXMuX2xheWVyc1tVdGlsLnN0YW1wKGxheWVyKV0gPSBsYXllcjtcblx0fSxcblxuXHRfYWRkUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IGxheWVyLl9jb250YWluZXI7XG5cdFx0dGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cblx0XHRpZiAobGF5ZXIub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuXHRcdFx0bGF5ZXIuYWRkSW50ZXJhY3RpdmVUYXJnZXQoY29udGFpbmVyKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlbW92ZVBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBjb250YWluZXIgPSBsYXllci5fY29udGFpbmVyO1xuXHRcdERvbVV0aWwucmVtb3ZlKGNvbnRhaW5lcik7XG5cdFx0bGF5ZXIucmVtb3ZlSW50ZXJhY3RpdmVUYXJnZXQoY29udGFpbmVyKTtcblx0XHRkZWxldGUgdGhpcy5fbGF5ZXJzW1V0aWwuc3RhbXAobGF5ZXIpXTtcblx0fSxcblxuXHRfdXBkYXRlU3R5bGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBzdHJva2UgPSBsYXllci5fc3Ryb2tlLFxuXHRcdCAgICBmaWxsID0gbGF5ZXIuX2ZpbGwsXG5cdFx0ICAgIG9wdGlvbnMgPSBsYXllci5vcHRpb25zLFxuXHRcdCAgICBjb250YWluZXIgPSBsYXllci5fY29udGFpbmVyO1xuXG5cdFx0Y29udGFpbmVyLnN0cm9rZWQgPSAhIW9wdGlvbnMuc3Ryb2tlO1xuXHRcdGNvbnRhaW5lci5maWxsZWQgPSAhIW9wdGlvbnMuZmlsbDtcblxuXHRcdGlmIChvcHRpb25zLnN0cm9rZSkge1xuXHRcdFx0aWYgKCFzdHJva2UpIHtcblx0XHRcdFx0c3Ryb2tlID0gbGF5ZXIuX3N0cm9rZSA9IHZtbENyZWF0ZSgnc3Ryb2tlJyk7XG5cdFx0XHR9XG5cdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoc3Ryb2tlKTtcblx0XHRcdHN0cm9rZS53ZWlnaHQgPSBvcHRpb25zLndlaWdodCArICdweCc7XG5cdFx0XHRzdHJva2UuY29sb3IgPSBvcHRpb25zLmNvbG9yO1xuXHRcdFx0c3Ryb2tlLm9wYWNpdHkgPSBvcHRpb25zLm9wYWNpdHk7XG5cblx0XHRcdGlmIChvcHRpb25zLmRhc2hBcnJheSkge1xuXHRcdFx0XHRzdHJva2UuZGFzaFN0eWxlID0gVXRpbC5pc0FycmF5KG9wdGlvbnMuZGFzaEFycmF5KSA/XG5cdFx0XHRcdCAgICBvcHRpb25zLmRhc2hBcnJheS5qb2luKCcgJykgOlxuXHRcdFx0XHQgICAgb3B0aW9ucy5kYXNoQXJyYXkucmVwbGFjZSgvKCAqLCAqKS9nLCAnICcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3Ryb2tlLmRhc2hTdHlsZSA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0c3Ryb2tlLmVuZGNhcCA9IG9wdGlvbnMubGluZUNhcC5yZXBsYWNlKCdidXR0JywgJ2ZsYXQnKTtcblx0XHRcdHN0cm9rZS5qb2luc3R5bGUgPSBvcHRpb25zLmxpbmVKb2luO1xuXG5cdFx0fSBlbHNlIGlmIChzdHJva2UpIHtcblx0XHRcdGNvbnRhaW5lci5yZW1vdmVDaGlsZChzdHJva2UpO1xuXHRcdFx0bGF5ZXIuX3N0cm9rZSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuZmlsbCkge1xuXHRcdFx0aWYgKCFmaWxsKSB7XG5cdFx0XHRcdGZpbGwgPSBsYXllci5fZmlsbCA9IHZtbENyZWF0ZSgnZmlsbCcpO1xuXHRcdFx0fVxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGZpbGwpO1xuXHRcdFx0ZmlsbC5jb2xvciA9IG9wdGlvbnMuZmlsbENvbG9yIHx8IG9wdGlvbnMuY29sb3I7XG5cdFx0XHRmaWxsLm9wYWNpdHkgPSBvcHRpb25zLmZpbGxPcGFjaXR5O1xuXG5cdFx0fSBlbHNlIGlmIChmaWxsKSB7XG5cdFx0XHRjb250YWluZXIucmVtb3ZlQ2hpbGQoZmlsbCk7XG5cdFx0XHRsYXllci5fZmlsbCA9IG51bGw7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVDaXJjbGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LnJvdW5kKCksXG5cdFx0ICAgIHIgPSBNYXRoLnJvdW5kKGxheWVyLl9yYWRpdXMpLFxuXHRcdCAgICByMiA9IE1hdGgucm91bmQobGF5ZXIuX3JhZGl1c1kgfHwgcik7XG5cblx0XHR0aGlzLl9zZXRQYXRoKGxheWVyLCBsYXllci5fZW1wdHkoKSA/ICdNMCAwJyA6XG5cdFx0XHQnQUwgJyArIHAueCArICcsJyArIHAueSArICcgJyArIHIgKyAnLCcgKyByMiArICcgMCwnICsgKDY1NTM1ICogMzYwKSk7XG5cdH0sXG5cblx0X3NldFBhdGg6IGZ1bmN0aW9uIChsYXllciwgcGF0aCkge1xuXHRcdGxheWVyLl9wYXRoLnYgPSBwYXRoO1xuXHR9LFxuXG5cdF9icmluZ1RvRnJvbnQ6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdERvbVV0aWwudG9Gcm9udChsYXllci5fY29udGFpbmVyKTtcblx0fSxcblxuXHRfYnJpbmdUb0JhY2s6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdERvbVV0aWwudG9CYWNrKGxheWVyLl9jb250YWluZXIpO1xuXHR9XG59O1xuIiwgImltcG9ydCB7UmVuZGVyZXJ9IGZyb20gJy4vUmVuZGVyZXInO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQgKiBhcyBEb21FdmVudCBmcm9tICcuLi8uLi9kb20vRG9tRXZlbnQnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcbmltcG9ydCB7c3RhbXB9IGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQge3N2Z0NyZWF0ZSwgcG9pbnRzVG9QYXRofSBmcm9tICcuL1NWRy5VdGlsJztcbmV4cG9ydCB7cG9pbnRzVG9QYXRofTtcbmltcG9ydCB7dm1sTWl4aW4sIHZtbENyZWF0ZX0gZnJvbSAnLi9TVkcuVk1MJztcblxuZXhwb3J0IHZhciBjcmVhdGUgPSBCcm93c2VyLnZtbCA/IHZtbENyZWF0ZSA6IHN2Z0NyZWF0ZTtcblxuLypcbiAqIEBjbGFzcyBTVkdcbiAqIEBpbmhlcml0cyBSZW5kZXJlclxuICogQGFrYSBMLlNWR1xuICpcbiAqIEFsbG93cyB2ZWN0b3IgbGF5ZXJzIHRvIGJlIGRpc3BsYXllZCB3aXRoIFtTVkddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1NWRykuXG4gKiBJbmhlcml0cyBgUmVuZGVyZXJgLlxuICpcbiAqIER1ZSB0byBbdGVjaG5pY2FsIGxpbWl0YXRpb25zXShodHRwczovL2Nhbml1c2UuY29tL3N2ZyksIFNWRyBpcyBub3RcbiAqIGF2YWlsYWJsZSBpbiBhbGwgd2ViIGJyb3dzZXJzLCBub3RhYmx5IEFuZHJvaWQgMi54IGFuZCAzLnguXG4gKlxuICogQWx0aG91Z2ggU1ZHIGlzIG5vdCBhdmFpbGFibGUgb24gSUU3IGFuZCBJRTgsIHRoZXNlIGJyb3dzZXJzIHN1cHBvcnRcbiAqIFtWTUxdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZlY3Rvcl9NYXJrdXBfTGFuZ3VhZ2UpXG4gKiAoYSBub3cgZGVwcmVjYXRlZCB0ZWNobm9sb2d5KSwgYW5kIHRoZSBTVkcgcmVuZGVyZXIgd2lsbCBmYWxsIGJhY2sgdG8gVk1MIGluXG4gKiB0aGlzIGNhc2UuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBVc2UgU1ZHIGJ5IGRlZmF1bHQgZm9yIGFsbCBwYXRocyBpbiB0aGUgbWFwOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbWFwID0gTC5tYXAoJ21hcCcsIHtcbiAqIFx0cmVuZGVyZXI6IEwuc3ZnKClcbiAqIH0pO1xuICogYGBgXG4gKlxuICogVXNlIGEgU1ZHIHJlbmRlcmVyIHdpdGggZXh0cmEgcGFkZGluZyBmb3Igc3BlY2lmaWMgdmVjdG9yIGdlb21ldHJpZXM6XG4gKlxuICogYGBganNcbiAqIHZhciBtYXAgPSBMLm1hcCgnbWFwJyk7XG4gKiB2YXIgbXlSZW5kZXJlciA9IEwuc3ZnKHsgcGFkZGluZzogMC41IH0pO1xuICogdmFyIGxpbmUgPSBMLnBvbHlsaW5lKCBjb29yZGluYXRlcywgeyByZW5kZXJlcjogbXlSZW5kZXJlciB9ICk7XG4gKiB2YXIgY2lyY2xlID0gTC5jaXJjbGUoIGNlbnRlciwgeyByZW5kZXJlcjogbXlSZW5kZXJlciB9ICk7XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgdmFyIFNWRyA9IFJlbmRlcmVyLmV4dGVuZCh7XG5cblx0X2luaXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9jb250YWluZXIgPSBjcmVhdGUoJ3N2ZycpO1xuXG5cdFx0Ly8gbWFrZXMgaXQgcG9zc2libGUgdG8gY2xpY2sgdGhyb3VnaCBzdmcgcm9vdDsgd2UnbGwgcmVzZXQgaXQgYmFjayBpbiBpbmRpdmlkdWFsIHBhdGhzXG5cdFx0dGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xuXG5cdFx0dGhpcy5fcm9vdEdyb3VwID0gY3JlYXRlKCdnJyk7XG5cdFx0dGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3Jvb3RHcm91cCk7XG5cdH0sXG5cblx0X2Rlc3Ryb3lDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9jb250YWluZXIpO1xuXHRcdGRlbGV0ZSB0aGlzLl9jb250YWluZXI7XG5cdFx0ZGVsZXRlIHRoaXMuX3Jvb3RHcm91cDtcblx0XHRkZWxldGUgdGhpcy5fc3ZnU2l6ZTtcblx0fSxcblxuXHRfdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSAmJiB0aGlzLl9ib3VuZHMpIHsgcmV0dXJuOyB9XG5cblx0XHRSZW5kZXJlci5wcm90b3R5cGUuX3VwZGF0ZS5jYWxsKHRoaXMpO1xuXG5cdFx0dmFyIGIgPSB0aGlzLl9ib3VuZHMsXG5cdFx0ICAgIHNpemUgPSBiLmdldFNpemUoKSxcblx0XHQgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuXG5cdFx0Ly8gc2V0IHNpemUgb2Ygc3ZnLWNvbnRhaW5lciBpZiBjaGFuZ2VkXG5cdFx0aWYgKCF0aGlzLl9zdmdTaXplIHx8ICF0aGlzLl9zdmdTaXplLmVxdWFscyhzaXplKSkge1xuXHRcdFx0dGhpcy5fc3ZnU2l6ZSA9IHNpemU7XG5cdFx0XHRjb250YWluZXIuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHNpemUueCk7XG5cdFx0XHRjb250YWluZXIuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBzaXplLnkpO1xuXHRcdH1cblxuXHRcdC8vIG1vdmVtZW50OiB1cGRhdGUgY29udGFpbmVyIHZpZXdCb3ggc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGNoYW5nZSBjb29yZGluYXRlcyBvZiBpbmRpdmlkdWFsIGxheWVyc1xuXHRcdERvbVV0aWwuc2V0UG9zaXRpb24oY29udGFpbmVyLCBiLm1pbik7XG5cdFx0Y29udGFpbmVyLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIFtiLm1pbi54LCBiLm1pbi55LCBzaXplLngsIHNpemUueV0uam9pbignICcpKTtcblxuXHRcdHRoaXMuZmlyZSgndXBkYXRlJyk7XG5cdH0sXG5cblx0Ly8gbWV0aG9kcyBiZWxvdyBhcmUgY2FsbGVkIGJ5IHZlY3RvciBsYXllcnMgaW1wbGVtZW50YXRpb25zXG5cblx0X2luaXRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHR2YXIgcGF0aCA9IGxheWVyLl9wYXRoID0gY3JlYXRlKCdwYXRoJyk7XG5cblx0XHQvLyBAbmFtZXNwYWNlIFBhdGhcblx0XHQvLyBAb3B0aW9uIGNsYXNzTmFtZTogU3RyaW5nID0gbnVsbFxuXHRcdC8vIEN1c3RvbSBjbGFzcyBuYW1lIHNldCBvbiBhbiBlbGVtZW50LiBPbmx5IGZvciBTVkcgcmVuZGVyZXIuXG5cdFx0aWYgKGxheWVyLm9wdGlvbnMuY2xhc3NOYW1lKSB7XG5cdFx0XHREb21VdGlsLmFkZENsYXNzKHBhdGgsIGxheWVyLm9wdGlvbnMuY2xhc3NOYW1lKTtcblx0XHR9XG5cblx0XHRpZiAobGF5ZXIub3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyhwYXRoLCAnbGVhZmxldC1pbnRlcmFjdGl2ZScpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3VwZGF0ZVN0eWxlKGxheWVyKTtcblx0XHR0aGlzLl9sYXllcnNbc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuXHR9LFxuXG5cdF9hZGRQYXRoOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRpZiAoIXRoaXMuX3Jvb3RHcm91cCkgeyB0aGlzLl9pbml0Q29udGFpbmVyKCk7IH1cblx0XHR0aGlzLl9yb290R3JvdXAuYXBwZW5kQ2hpbGQobGF5ZXIuX3BhdGgpO1xuXHRcdGxheWVyLmFkZEludGVyYWN0aXZlVGFyZ2V0KGxheWVyLl9wYXRoKTtcblx0fSxcblxuXHRfcmVtb3ZlUGF0aDogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0RG9tVXRpbC5yZW1vdmUobGF5ZXIuX3BhdGgpO1xuXHRcdGxheWVyLnJlbW92ZUludGVyYWN0aXZlVGFyZ2V0KGxheWVyLl9wYXRoKTtcblx0XHRkZWxldGUgdGhpcy5fbGF5ZXJzW3N0YW1wKGxheWVyKV07XG5cdH0sXG5cblx0X3VwZGF0ZVBhdGg6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdGxheWVyLl9wcm9qZWN0KCk7XG5cdFx0bGF5ZXIuX3VwZGF0ZSgpO1xuXHR9LFxuXG5cdF91cGRhdGVTdHlsZTogZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0dmFyIHBhdGggPSBsYXllci5fcGF0aCxcblx0XHQgICAgb3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7XG5cblx0XHRpZiAoIXBhdGgpIHsgcmV0dXJuOyB9XG5cblx0XHRpZiAob3B0aW9ucy5zdHJva2UpIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCBvcHRpb25zLmNvbG9yKTtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utb3BhY2l0eScsIG9wdGlvbnMub3BhY2l0eSk7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgb3B0aW9ucy53ZWlnaHQpO1xuXHRcdFx0cGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1saW5lY2FwJywgb3B0aW9ucy5saW5lQ2FwKTtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCBvcHRpb25zLmxpbmVKb2luKTtcblxuXHRcdFx0aWYgKG9wdGlvbnMuZGFzaEFycmF5KSB7XG5cdFx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5Jywgb3B0aW9ucy5kYXNoQXJyYXkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGF0aC5yZW1vdmVBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9wdGlvbnMuZGFzaE9mZnNldCkge1xuXHRcdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCBvcHRpb25zLmRhc2hPZmZzZXQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGF0aC5yZW1vdmVBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNob2Zmc2V0Jyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnbm9uZScpO1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLmZpbGwpIHtcblx0XHRcdHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgb3B0aW9ucy5maWxsQ29sb3IgfHwgb3B0aW9ucy5jb2xvcik7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5Jywgb3B0aW9ucy5maWxsT3BhY2l0eSk7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbC1ydWxlJywgb3B0aW9ucy5maWxsUnVsZSB8fCAnZXZlbm9kZCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdub25lJyk7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVQb2x5OiBmdW5jdGlvbiAobGF5ZXIsIGNsb3NlZCkge1xuXHRcdHRoaXMuX3NldFBhdGgobGF5ZXIsIHBvaW50c1RvUGF0aChsYXllci5fcGFydHMsIGNsb3NlZCkpO1xuXHR9LFxuXG5cdF91cGRhdGVDaXJjbGU6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdHZhciBwID0gbGF5ZXIuX3BvaW50LFxuXHRcdCAgICByID0gTWF0aC5tYXgoTWF0aC5yb3VuZChsYXllci5fcmFkaXVzKSwgMSksXG5cdFx0ICAgIHIyID0gTWF0aC5tYXgoTWF0aC5yb3VuZChsYXllci5fcmFkaXVzWSksIDEpIHx8IHIsXG5cdFx0ICAgIGFyYyA9ICdhJyArIHIgKyAnLCcgKyByMiArICcgMCAxLDAgJztcblxuXHRcdC8vIGRyYXdpbmcgYSBjaXJjbGUgd2l0aCB0d28gaGFsZi1hcmNzXG5cdFx0dmFyIGQgPSBsYXllci5fZW1wdHkoKSA/ICdNMCAwJyA6XG5cdFx0XHQnTScgKyAocC54IC0gcikgKyAnLCcgKyBwLnkgK1xuXHRcdFx0YXJjICsgKHIgKiAyKSArICcsMCAnICtcblx0XHRcdGFyYyArICgtciAqIDIpICsgJywwICc7XG5cblx0XHR0aGlzLl9zZXRQYXRoKGxheWVyLCBkKTtcblx0fSxcblxuXHRfc2V0UGF0aDogZnVuY3Rpb24gKGxheWVyLCBwYXRoKSB7XG5cdFx0bGF5ZXIuX3BhdGguc2V0QXR0cmlidXRlKCdkJywgcGF0aCk7XG5cdH0sXG5cblx0Ly8gU1ZHIGRvZXMgbm90IGhhdmUgdGhlIGNvbmNlcHQgb2YgekluZGV4IHNvIHdlIHJlc29ydCB0byBjaGFuZ2luZyB0aGUgRE9NIG9yZGVyIG9mIGVsZW1lbnRzXG5cdF9icmluZ1RvRnJvbnQ6IGZ1bmN0aW9uIChsYXllcikge1xuXHRcdERvbVV0aWwudG9Gcm9udChsYXllci5fcGF0aCk7XG5cdH0sXG5cblx0X2JyaW5nVG9CYWNrOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHREb21VdGlsLnRvQmFjayhsYXllci5fcGF0aCk7XG5cdH1cbn0pO1xuXG5pZiAoQnJvd3Nlci52bWwpIHtcblx0U1ZHLmluY2x1ZGUodm1sTWl4aW4pO1xufVxuXG4vLyBAbmFtZXNwYWNlIFNWR1xuLy8gQGZhY3RvcnkgTC5zdmcob3B0aW9ucz86IFJlbmRlcmVyIG9wdGlvbnMpXG4vLyBDcmVhdGVzIGEgU1ZHIHJlbmRlcmVyIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5leHBvcnQgZnVuY3Rpb24gc3ZnKG9wdGlvbnMpIHtcblx0cmV0dXJuIEJyb3dzZXIuc3ZnIHx8IEJyb3dzZXIudm1sID8gbmV3IFNWRyhvcHRpb25zKSA6IG51bGw7XG59XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uLy4uL21hcC9NYXAnO1xuaW1wb3J0IHtjYW52YXN9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7c3ZnfSBmcm9tICcuL1NWRyc7XG5cbk1hcC5pbmNsdWRlKHtcblx0Ly8gQG5hbWVzcGFjZSBNYXA7IEBtZXRob2QgZ2V0UmVuZGVyZXIobGF5ZXI6IFBhdGgpOiBSZW5kZXJlclxuXHQvLyBSZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiBgUmVuZGVyZXJgIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSBnaXZlblxuXHQvLyBgUGF0aGAuIEl0IHdpbGwgZW5zdXJlIHRoYXQgdGhlIGByZW5kZXJlcmAgb3B0aW9ucyBvZiB0aGUgbWFwIGFuZCBwYXRoc1xuXHQvLyBhcmUgcmVzcGVjdGVkLCBhbmQgdGhhdCB0aGUgcmVuZGVyZXJzIGRvIGV4aXN0IG9uIHRoZSBtYXAuXG5cdGdldFJlbmRlcmVyOiBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHQvLyBAbmFtZXNwYWNlIFBhdGg7IEBvcHRpb24gcmVuZGVyZXI6IFJlbmRlcmVyXG5cdFx0Ly8gVXNlIHRoaXMgc3BlY2lmaWMgaW5zdGFuY2Ugb2YgYFJlbmRlcmVyYCBmb3IgdGhpcyBwYXRoLiBUYWtlc1xuXHRcdC8vIHByZWNlZGVuY2Ugb3ZlciB0aGUgbWFwJ3MgW2RlZmF1bHQgcmVuZGVyZXJdKCNtYXAtcmVuZGVyZXIpLlxuXHRcdHZhciByZW5kZXJlciA9IGxheWVyLm9wdGlvbnMucmVuZGVyZXIgfHwgdGhpcy5fZ2V0UGFuZVJlbmRlcmVyKGxheWVyLm9wdGlvbnMucGFuZSkgfHwgdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IHRoaXMuX3JlbmRlcmVyO1xuXG5cdFx0aWYgKCFyZW5kZXJlcikge1xuXHRcdFx0cmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlciA9IHRoaXMuX2NyZWF0ZVJlbmRlcmVyKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLmhhc0xheWVyKHJlbmRlcmVyKSkge1xuXHRcdFx0dGhpcy5hZGRMYXllcihyZW5kZXJlcik7XG5cdFx0fVxuXHRcdHJldHVybiByZW5kZXJlcjtcblx0fSxcblxuXHRfZ2V0UGFuZVJlbmRlcmVyOiBmdW5jdGlvbiAobmFtZSkge1xuXHRcdGlmIChuYW1lID09PSAnb3ZlcmxheVBhbmUnIHx8IG5hbWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciByZW5kZXJlciA9IHRoaXMuX3BhbmVSZW5kZXJlcnNbbmFtZV07XG5cdFx0aWYgKHJlbmRlcmVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJlbmRlcmVyID0gdGhpcy5fY3JlYXRlUmVuZGVyZXIoe3BhbmU6IG5hbWV9KTtcblx0XHRcdHRoaXMuX3BhbmVSZW5kZXJlcnNbbmFtZV0gPSByZW5kZXJlcjtcblx0XHR9XG5cdFx0cmV0dXJuIHJlbmRlcmVyO1xuXHR9LFxuXG5cdF9jcmVhdGVSZW5kZXJlcjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHQvLyBAbmFtZXNwYWNlIE1hcDsgQG9wdGlvbiBwcmVmZXJDYW52YXM6IEJvb2xlYW4gPSBmYWxzZVxuXHRcdC8vIFdoZXRoZXIgYFBhdGhgcyBzaG91bGQgYmUgcmVuZGVyZWQgb24gYSBgQ2FudmFzYCByZW5kZXJlci5cblx0XHQvLyBCeSBkZWZhdWx0LCBhbGwgYFBhdGhgcyBhcmUgcmVuZGVyZWQgaW4gYSBgU1ZHYCByZW5kZXJlci5cblx0XHRyZXR1cm4gKHRoaXMub3B0aW9ucy5wcmVmZXJDYW52YXMgJiYgY2FudmFzKG9wdGlvbnMpKSB8fCBzdmcob3B0aW9ucyk7XG5cdH1cbn0pO1xuIiwgImltcG9ydCB7UG9seWdvbn0gZnJvbSAnLi9Qb2x5Z29uJztcbmltcG9ydCB7dG9MYXRMbmdCb3VuZHN9IGZyb20gJy4uLy4uL2dlby9MYXRMbmdCb3VuZHMnO1xuXG4vKlxuICogTC5SZWN0YW5nbGUgZXh0ZW5kcyBQb2x5Z29uIGFuZCBjcmVhdGVzIGEgcmVjdGFuZ2xlIHdoZW4gcGFzc2VkIGEgTGF0TG5nQm91bmRzIG9iamVjdC5cbiAqL1xuXG4vKlxuICogQGNsYXNzIFJlY3RhbmdsZVxuICogQGFrYSBMLlJlY3RhbmdsZVxuICogQGluaGVyaXRzIFBvbHlnb25cbiAqXG4gKiBBIGNsYXNzIGZvciBkcmF3aW5nIHJlY3RhbmdsZSBvdmVybGF5cyBvbiBhIG1hcC4gRXh0ZW5kcyBgUG9seWdvbmAuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogLy8gZGVmaW5lIHJlY3RhbmdsZSBnZW9ncmFwaGljYWwgYm91bmRzXG4gKiB2YXIgYm91bmRzID0gW1s1NC41NTkzMjIsIC01Ljc2NzgyMl0sIFs1Ni4xMjEwNjA0LCAtMy4wMjEyNDBdXTtcbiAqXG4gKiAvLyBjcmVhdGUgYW4gb3JhbmdlIHJlY3RhbmdsZVxuICogTC5yZWN0YW5nbGUoYm91bmRzLCB7Y29sb3I6IFwiI2ZmNzgwMFwiLCB3ZWlnaHQ6IDF9KS5hZGRUbyhtYXApO1xuICpcbiAqIC8vIHpvb20gdGhlIG1hcCB0byB0aGUgcmVjdGFuZ2xlIGJvdW5kc1xuICogbWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuICogYGBgXG4gKlxuICovXG5cblxuZXhwb3J0IHZhciBSZWN0YW5nbGUgPSBQb2x5Z29uLmV4dGVuZCh7XG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRMbmdCb3VuZHMsIG9wdGlvbnMpIHtcblx0XHRQb2x5Z29uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgdGhpcy5fYm91bmRzVG9MYXRMbmdzKGxhdExuZ0JvdW5kcyksIG9wdGlvbnMpO1xuXHR9LFxuXG5cdC8vIEBtZXRob2Qgc2V0Qm91bmRzKGxhdExuZ0JvdW5kczogTGF0TG5nQm91bmRzKTogdGhpc1xuXHQvLyBSZWRyYXdzIHRoZSByZWN0YW5nbGUgd2l0aCB0aGUgcGFzc2VkIGJvdW5kcy5cblx0c2V0Qm91bmRzOiBmdW5jdGlvbiAobGF0TG5nQm91bmRzKSB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0TGF0TG5ncyh0aGlzLl9ib3VuZHNUb0xhdExuZ3MobGF0TG5nQm91bmRzKSk7XG5cdH0sXG5cblx0X2JvdW5kc1RvTGF0TG5nczogZnVuY3Rpb24gKGxhdExuZ0JvdW5kcykge1xuXHRcdGxhdExuZ0JvdW5kcyA9IHRvTGF0TG5nQm91bmRzKGxhdExuZ0JvdW5kcyk7XG5cdFx0cmV0dXJuIFtcblx0XHRcdGxhdExuZ0JvdW5kcy5nZXRTb3V0aFdlc3QoKSxcblx0XHRcdGxhdExuZ0JvdW5kcy5nZXROb3J0aFdlc3QoKSxcblx0XHRcdGxhdExuZ0JvdW5kcy5nZXROb3J0aEVhc3QoKSxcblx0XHRcdGxhdExuZ0JvdW5kcy5nZXRTb3V0aEVhc3QoKVxuXHRcdF07XG5cdH1cbn0pO1xuXG5cbi8vIEBmYWN0b3J5IEwucmVjdGFuZ2xlKGxhdExuZ0JvdW5kczogTGF0TG5nQm91bmRzLCBvcHRpb25zPzogUG9seWxpbmUgb3B0aW9ucylcbmV4cG9ydCBmdW5jdGlvbiByZWN0YW5nbGUobGF0TG5nQm91bmRzLCBvcHRpb25zKSB7XG5cdHJldHVybiBuZXcgUmVjdGFuZ2xlKGxhdExuZ0JvdW5kcywgb3B0aW9ucyk7XG59XG4iLCAiZXhwb3J0IHtSZW5kZXJlcn0gZnJvbSAnLi9SZW5kZXJlcic7XG5leHBvcnQge0NhbnZhcywgY2FudmFzfSBmcm9tICcuL0NhbnZhcyc7XG5pbXBvcnQge1NWRywgY3JlYXRlLCBwb2ludHNUb1BhdGgsIHN2Z30gZnJvbSAnLi9TVkcnO1xuU1ZHLmNyZWF0ZSA9IGNyZWF0ZTtcblNWRy5wb2ludHNUb1BhdGggPSBwb2ludHNUb1BhdGg7XG5leHBvcnQge1NWRywgc3ZnfTtcbmltcG9ydCAnLi9SZW5kZXJlci5nZXRSZW5kZXJlcic7XHQvLyBUaGlzIGlzIGEgYml0IG9mIGEgaGFjaywgYnV0IG5lZWRlZCBiZWNhdXNlIGNpcmN1bGFyIGRlcGVuZGVuY2llc1xuXG5leHBvcnQge1BhdGh9IGZyb20gJy4vUGF0aCc7XG5leHBvcnQge0NpcmNsZU1hcmtlciwgY2lyY2xlTWFya2VyfSBmcm9tICcuL0NpcmNsZU1hcmtlcic7XG5leHBvcnQge0NpcmNsZSwgY2lyY2xlfSBmcm9tICcuL0NpcmNsZSc7XG5leHBvcnQge1BvbHlsaW5lLCBwb2x5bGluZX0gZnJvbSAnLi9Qb2x5bGluZSc7XG5leHBvcnQge1BvbHlnb24sIHBvbHlnb259IGZyb20gJy4vUG9seWdvbic7XG5leHBvcnQge1JlY3RhbmdsZSwgcmVjdGFuZ2xlfSBmcm9tICcuL1JlY3RhbmdsZSc7XG4iLCAiZXhwb3J0IHtMYXllcn0gZnJvbSAnLi9MYXllcic7XG5leHBvcnQge0xheWVyR3JvdXAsIGxheWVyR3JvdXB9IGZyb20gJy4vTGF5ZXJHcm91cCc7XG5leHBvcnQge0ZlYXR1cmVHcm91cCwgZmVhdHVyZUdyb3VwfSBmcm9tICcuL0ZlYXR1cmVHcm91cCc7XG5pbXBvcnQge0dlb0pTT04sIGdlb0pTT04sIGdlb0pzb24sIGdlb21ldHJ5VG9MYXllciwgY29vcmRzVG9MYXRMbmcsIGNvb3Jkc1RvTGF0TG5ncywgbGF0TG5nVG9Db29yZHMsIGxhdExuZ3NUb0Nvb3JkcywgZ2V0RmVhdHVyZSwgYXNGZWF0dXJlfSBmcm9tICcuL0dlb0pTT04nO1xuR2VvSlNPTi5nZW9tZXRyeVRvTGF5ZXIgPSBnZW9tZXRyeVRvTGF5ZXI7XG5HZW9KU09OLmNvb3Jkc1RvTGF0TG5nID0gY29vcmRzVG9MYXRMbmc7XG5HZW9KU09OLmNvb3Jkc1RvTGF0TG5ncyA9IGNvb3Jkc1RvTGF0TG5ncztcbkdlb0pTT04ubGF0TG5nVG9Db29yZHMgPSBsYXRMbmdUb0Nvb3Jkcztcbkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzID0gbGF0TG5nc1RvQ29vcmRzO1xuR2VvSlNPTi5nZXRGZWF0dXJlID0gZ2V0RmVhdHVyZTtcbkdlb0pTT04uYXNGZWF0dXJlID0gYXNGZWF0dXJlO1xuZXhwb3J0IHtHZW9KU09OLCBnZW9KU09OLCBnZW9Kc29ufTtcblxuZXhwb3J0IHtJbWFnZU92ZXJsYXksIGltYWdlT3ZlcmxheX0gZnJvbSAnLi9JbWFnZU92ZXJsYXknO1xuZXhwb3J0IHtWaWRlb092ZXJsYXksIHZpZGVvT3ZlcmxheX0gZnJvbSAnLi9WaWRlb092ZXJsYXknO1xuZXhwb3J0IHtTVkdPdmVybGF5LCBzdmdPdmVybGF5fSBmcm9tICcuL1NWR092ZXJsYXknO1xuXG5leHBvcnQge0Rpdk92ZXJsYXl9IGZyb20gJy4vRGl2T3ZlcmxheSc7XG5leHBvcnQge1BvcHVwLCBwb3B1cH0gZnJvbSAnLi9Qb3B1cCc7XG5leHBvcnQge1Rvb2x0aXAsIHRvb2x0aXB9IGZyb20gJy4vVG9vbHRpcCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbWFya2VyL2luZGV4JztcbmV4cG9ydCAqIGZyb20gJy4vdGlsZS9pbmRleCc7XG5leHBvcnQgKiBmcm9tICcuL3ZlY3Rvci9pbmRleCc7XG4iLCAiaW1wb3J0IHtNYXB9IGZyb20gJy4uL01hcCc7XG5pbXBvcnQge0hhbmRsZXJ9IGZyb20gJy4uLy4uL2NvcmUvSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQgKiBhcyBEb21VdGlsIGZyb20gJy4uLy4uL2RvbS9Eb21VdGlsJztcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQge0xhdExuZ0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZ0JvdW5kcyc7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvQm91bmRzJztcblxuLypcbiAqIEwuSGFuZGxlci5Cb3hab29tIGlzIHVzZWQgdG8gYWRkIHNoaWZ0LWRyYWcgem9vbSBpbnRlcmFjdGlvbiB0byB0aGUgbWFwXG4gKiAoem9vbSB0byBhIHNlbGVjdGVkIGJvdW5kaW5nIGJveCksIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBvcHRpb24gYm94Wm9vbTogQm9vbGVhbiA9IHRydWVcblx0Ly8gV2hldGhlciB0aGUgbWFwIGNhbiBiZSB6b29tZWQgdG8gYSByZWN0YW5ndWxhciBhcmVhIHNwZWNpZmllZCBieVxuXHQvLyBkcmFnZ2luZyB0aGUgbW91c2Ugd2hpbGUgcHJlc3NpbmcgdGhlIHNoaWZ0IGtleS5cblx0Ym94Wm9vbTogdHJ1ZVxufSk7XG5cbmV4cG9ydCB2YXIgQm94Wm9vbSA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdHRoaXMuX21hcCA9IG1hcDtcblx0XHR0aGlzLl9jb250YWluZXIgPSBtYXAuX2NvbnRhaW5lcjtcblx0XHR0aGlzLl9wYW5lID0gbWFwLl9wYW5lcy5vdmVybGF5UGFuZTtcblx0XHR0aGlzLl9yZXNldFN0YXRlVGltZW91dCA9IDA7XG5cdFx0bWFwLm9uKCd1bmxvYWQnLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcblx0fSxcblxuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdERvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lciwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9jb250YWluZXIsICdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgdGhpcyk7XG5cdH0sXG5cblx0bW92ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbW92ZWQ7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcblx0XHREb21VdGlsLnJlbW92ZSh0aGlzLl9wYW5lKTtcblx0XHRkZWxldGUgdGhpcy5fcGFuZTtcblx0fSxcblxuXHRfcmVzZXRTdGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0ID0gMDtcblx0XHR0aGlzLl9tb3ZlZCA9IGZhbHNlO1xuXHR9LFxuXG5cdF9jbGVhckRlZmVycmVkUmVzZXRTdGF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9yZXNldFN0YXRlVGltZW91dCAhPT0gMCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0KTtcblx0XHRcdHRoaXMuX3Jlc2V0U3RhdGVUaW1lb3V0ID0gMDtcblx0XHR9XG5cdH0sXG5cblx0X29uTW91c2VEb3duOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghZS5zaGlmdEtleSB8fCAoKGUud2hpY2ggIT09IDEpICYmIChlLmJ1dHRvbiAhPT0gMSkpKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdFx0Ly8gQ2xlYXIgdGhlIGRlZmVycmVkIHJlc2V0U3RhdGUgaWYgaXQgaGFzbid0IGV4ZWN1dGVkIHlldCwgb3RoZXJ3aXNlIGl0XG5cdFx0Ly8gd2lsbCBpbnRlcnJ1cHQgdGhlIGludGVyYWN0aW9uIGFuZCBvcnBoYW4gYSBib3ggZWxlbWVudCBpbiB0aGUgY29udGFpbmVyLlxuXHRcdHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG5cdFx0dGhpcy5fcmVzZXRTdGF0ZSgpO1xuXG5cdFx0RG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbigpO1xuXHRcdERvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpO1xuXG5cdFx0dGhpcy5fc3RhcnRQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcblxuXHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCB7XG5cdFx0XHRjb250ZXh0bWVudTogRG9tRXZlbnQuc3RvcCxcblx0XHRcdG1vdXNlbW92ZTogdGhpcy5fb25Nb3VzZU1vdmUsXG5cdFx0XHRtb3VzZXVwOiB0aGlzLl9vbk1vdXNlVXAsXG5cdFx0XHRrZXlkb3duOiB0aGlzLl9vbktleURvd25cblx0XHR9LCB0aGlzKTtcblx0fSxcblxuXHRfb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKCF0aGlzLl9tb3ZlZCkge1xuXHRcdFx0dGhpcy5fbW92ZWQgPSB0cnVlO1xuXG5cdFx0XHR0aGlzLl9ib3ggPSBEb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtem9vbS1ib3gnLCB0aGlzLl9jb250YWluZXIpO1xuXHRcdFx0RG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsICdsZWFmbGV0LWNyb3NzaGFpcicpO1xuXG5cdFx0XHR0aGlzLl9tYXAuZmlyZSgnYm94em9vbXN0YXJ0Jyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcG9pbnQgPSB0aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQoZSk7XG5cblx0XHR2YXIgYm91bmRzID0gbmV3IEJvdW5kcyh0aGlzLl9wb2ludCwgdGhpcy5fc3RhcnRQb2ludCksXG5cdFx0ICAgIHNpemUgPSBib3VuZHMuZ2V0U2l6ZSgpO1xuXG5cdFx0RG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9ib3gsIGJvdW5kcy5taW4pO1xuXG5cdFx0dGhpcy5fYm94LnN0eWxlLndpZHRoICA9IHNpemUueCArICdweCc7XG5cdFx0dGhpcy5fYm94LnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7XG5cdH0sXG5cblx0X2ZpbmlzaDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9tb3ZlZCkge1xuXHRcdFx0RG9tVXRpbC5yZW1vdmUodGhpcy5fYm94KTtcblx0XHRcdERvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCAnbGVhZmxldC1jcm9zc2hhaXInKTtcblx0XHR9XG5cblx0XHREb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTtcblx0XHREb21VdGlsLmVuYWJsZUltYWdlRHJhZygpO1xuXG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCB7XG5cdFx0XHRjb250ZXh0bWVudTogRG9tRXZlbnQuc3RvcCxcblx0XHRcdG1vdXNlbW92ZTogdGhpcy5fb25Nb3VzZU1vdmUsXG5cdFx0XHRtb3VzZXVwOiB0aGlzLl9vbk1vdXNlVXAsXG5cdFx0XHRrZXlkb3duOiB0aGlzLl9vbktleURvd25cblx0XHR9LCB0aGlzKTtcblx0fSxcblxuXHRfb25Nb3VzZVVwOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICgoZS53aGljaCAhPT0gMSkgJiYgKGUuYnV0dG9uICE9PSAxKSkgeyByZXR1cm47IH1cblxuXHRcdHRoaXMuX2ZpbmlzaCgpO1xuXG5cdFx0aWYgKCF0aGlzLl9tb3ZlZCkgeyByZXR1cm47IH1cblx0XHQvLyBQb3N0cG9uZSB0byBuZXh0IEpTIHRpY2sgc28gaW50ZXJuYWwgY2xpY2sgZXZlbnQgaGFuZGxpbmdcblx0XHQvLyBzdGlsbCBzZWUgaXQgYXMgXCJtb3ZlZFwiLlxuXHRcdHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG5cdFx0dGhpcy5fcmVzZXRTdGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KFV0aWwuYmluZCh0aGlzLl9yZXNldFN0YXRlLCB0aGlzKSwgMCk7XG5cblx0XHR2YXIgYm91bmRzID0gbmV3IExhdExuZ0JvdW5kcyhcblx0XHQgICAgICAgIHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKHRoaXMuX3N0YXJ0UG9pbnQpLFxuXHRcdCAgICAgICAgdGhpcy5fbWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcodGhpcy5fcG9pbnQpKTtcblxuXHRcdHRoaXMuX21hcFxuXHRcdFx0LmZpdEJvdW5kcyhib3VuZHMpXG5cdFx0XHQuZmlyZSgnYm94em9vbWVuZCcsIHtib3hab29tQm91bmRzOiBib3VuZHN9KTtcblx0fSxcblxuXHRfb25LZXlEb3duOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG5cdFx0XHR0aGlzLl9maW5pc2goKTtcblx0XHRcdHRoaXMuX2NsZWFyRGVmZXJyZWRSZXNldFN0YXRlKCk7XG5cdFx0XHR0aGlzLl9yZXNldFN0YXRlKCk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBwcm9wZXJ0eSBib3hab29tOiBIYW5kbGVyXG4vLyBCb3ggKHNoaWZ0LWRyYWcgd2l0aCBtb3VzZSkgem9vbSBoYW5kbGVyLlxuTWFwLmFkZEluaXRIb29rKCdhZGRIYW5kbGVyJywgJ2JveFpvb20nLCBCb3hab29tKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcblxuLypcbiAqIEwuSGFuZGxlci5Eb3VibGVDbGlja1pvb20gaXMgdXNlZCB0byBoYW5kbGUgZG91YmxlLWNsaWNrIHpvb20gb24gdGhlIG1hcCwgZW5hYmxlZCBieSBkZWZhdWx0LlxuICovXG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXG5cbk1hcC5tZXJnZU9wdGlvbnMoe1xuXHQvLyBAb3B0aW9uIGRvdWJsZUNsaWNrWm9vbTogQm9vbGVhbnxTdHJpbmcgPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBjYW4gYmUgem9vbWVkIGluIGJ5IGRvdWJsZSBjbGlja2luZyBvbiBpdCBhbmRcblx0Ly8gem9vbWVkIG91dCBieSBkb3VibGUgY2xpY2tpbmcgd2hpbGUgaG9sZGluZyBzaGlmdC4gSWYgcGFzc2VkXG5cdC8vIGAnY2VudGVyJ2AsIGRvdWJsZS1jbGljayB6b29tIHdpbGwgem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZVxuXHQvLyAgdmlldyByZWdhcmRsZXNzIG9mIHdoZXJlIHRoZSBtb3VzZSB3YXMuXG5cdGRvdWJsZUNsaWNrWm9vbTogdHJ1ZVxufSk7XG5cbmV4cG9ydCB2YXIgRG91YmxlQ2xpY2tab29tID0gSGFuZGxlci5leHRlbmQoe1xuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX21hcC5vbignZGJsY2xpY2snLCB0aGlzLl9vbkRvdWJsZUNsaWNrLCB0aGlzKTtcblx0fSxcblxuXHRyZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX21hcC5vZmYoJ2RibGNsaWNrJywgdGhpcy5fb25Eb3VibGVDbGljaywgdGhpcyk7XG5cdH0sXG5cblx0X29uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgb2xkWm9vbSA9IG1hcC5nZXRab29tKCksXG5cdFx0ICAgIGRlbHRhID0gbWFwLm9wdGlvbnMuem9vbURlbHRhLFxuXHRcdCAgICB6b29tID0gZS5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5ID8gb2xkWm9vbSAtIGRlbHRhIDogb2xkWm9vbSArIGRlbHRhO1xuXG5cdFx0aWYgKG1hcC5vcHRpb25zLmRvdWJsZUNsaWNrWm9vbSA9PT0gJ2NlbnRlcicpIHtcblx0XHRcdG1hcC5zZXRab29tKHpvb20pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXAuc2V0Wm9vbUFyb3VuZChlLmNvbnRhaW5lclBvaW50LCB6b29tKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBAc2VjdGlvbiBIYW5kbGVyc1xuLy9cbi8vIE1hcCBwcm9wZXJ0aWVzIGluY2x1ZGUgaW50ZXJhY3Rpb24gaGFuZGxlcnMgdGhhdCBhbGxvdyB5b3UgdG8gY29udHJvbFxuLy8gaW50ZXJhY3Rpb24gYmVoYXZpb3IgaW4gcnVudGltZSwgZW5hYmxpbmcgb3IgZGlzYWJsaW5nIGNlcnRhaW4gZmVhdHVyZXMgc3VjaFxuLy8gYXMgZHJhZ2dpbmcgb3IgdG91Y2ggem9vbSAoc2VlIGBIYW5kbGVyYCBtZXRob2RzKS4gRm9yIGV4YW1wbGU6XG4vL1xuLy8gYGBganNcbi8vIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuLy8gYGBgXG4vL1xuLy8gQHByb3BlcnR5IGRvdWJsZUNsaWNrWm9vbTogSGFuZGxlclxuLy8gRG91YmxlIGNsaWNrIHpvb20gaGFuZGxlci5cbk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdkb3VibGVDbGlja1pvb20nLCBEb3VibGVDbGlja1pvb20pO1xuIiwgImltcG9ydCB7TWFwfSBmcm9tICcuLi9NYXAnO1xuaW1wb3J0IHtIYW5kbGVyfSBmcm9tICcuLi8uLi9jb3JlL0hhbmRsZXInO1xuaW1wb3J0IHtEcmFnZ2FibGV9IGZyb20gJy4uLy4uL2RvbS9EcmFnZ2FibGUnO1xuaW1wb3J0ICogYXMgVXRpbCBmcm9tICcuLi8uLi9jb3JlL1V0aWwnO1xuaW1wb3J0ICogYXMgRG9tVXRpbCBmcm9tICcuLi8uLi9kb20vRG9tVXRpbCc7XG5pbXBvcnQge3RvTGF0TG5nQm91bmRzIGFzIGxhdExuZ0JvdW5kc30gZnJvbSAnLi4vLi4vZ2VvL0xhdExuZ0JvdW5kcyc7XG5pbXBvcnQge3RvQm91bmRzfSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Cb3VuZHMnO1xuXG4vKlxuICogTC5IYW5kbGVyLk1hcERyYWcgaXMgdXNlZCB0byBtYWtlIHRoZSBtYXAgZHJhZ2dhYmxlICh3aXRoIHBhbm5pbmcgaW5lcnRpYSksIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gSW50ZXJhY3Rpb24gT3B0aW9uc1xuTWFwLm1lcmdlT3B0aW9ucyh7XG5cdC8vIEBvcHRpb24gZHJhZ2dpbmc6IEJvb2xlYW4gPSB0cnVlXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBpcyBkcmFnZ2FibGUgd2l0aCBtb3VzZS90b3VjaCBvciBub3QuXG5cdGRyYWdnaW5nOiB0cnVlLFxuXG5cdC8vIEBzZWN0aW9uIFBhbm5pbmcgSW5lcnRpYSBPcHRpb25zXG5cdC8vIEBvcHRpb24gaW5lcnRpYTogQm9vbGVhbiA9ICpcblx0Ly8gSWYgZW5hYmxlZCwgcGFubmluZyBvZiB0aGUgbWFwIHdpbGwgaGF2ZSBhbiBpbmVydGlhIGVmZmVjdCB3aGVyZVxuXHQvLyB0aGUgbWFwIGJ1aWxkcyBtb21lbnR1bSB3aGlsZSBkcmFnZ2luZyBhbmQgY29udGludWVzIG1vdmluZyBpblxuXHQvLyB0aGUgc2FtZSBkaXJlY3Rpb24gZm9yIHNvbWUgdGltZS4gRmVlbHMgZXNwZWNpYWxseSBuaWNlIG9uIHRvdWNoXG5cdC8vIGRldmljZXMuIEVuYWJsZWQgYnkgZGVmYXVsdC5cblx0aW5lcnRpYTogdHJ1ZSxcblxuXHQvLyBAb3B0aW9uIGluZXJ0aWFEZWNlbGVyYXRpb246IE51bWJlciA9IDMwMDBcblx0Ly8gVGhlIHJhdGUgd2l0aCB3aGljaCB0aGUgaW5lcnRpYWwgbW92ZW1lbnQgc2xvd3MgZG93biwgaW4gcGl4ZWxzL3NlY29uZMKyLlxuXHRpbmVydGlhRGVjZWxlcmF0aW9uOiAzNDAwLCAvLyBweC9zXjJcblxuXHQvLyBAb3B0aW9uIGluZXJ0aWFNYXhTcGVlZDogTnVtYmVyID0gSW5maW5pdHlcblx0Ly8gTWF4IHNwZWVkIG9mIHRoZSBpbmVydGlhbCBtb3ZlbWVudCwgaW4gcGl4ZWxzL3NlY29uZC5cblx0aW5lcnRpYU1heFNwZWVkOiBJbmZpbml0eSwgLy8gcHgvc1xuXG5cdC8vIEBvcHRpb24gZWFzZUxpbmVhcml0eTogTnVtYmVyID0gMC4yXG5cdGVhc2VMaW5lYXJpdHk6IDAuMixcblxuXHQvLyBUT0RPIHJlZmFjdG9yLCBtb3ZlIHRvIENSU1xuXHQvLyBAb3B0aW9uIHdvcmxkQ29weUp1bXA6IEJvb2xlYW4gPSBmYWxzZVxuXHQvLyBXaXRoIHRoaXMgb3B0aW9uIGVuYWJsZWQsIHRoZSBtYXAgdHJhY2tzIHdoZW4geW91IHBhbiB0byBhbm90aGVyIFwiY29weVwiXG5cdC8vIG9mIHRoZSB3b3JsZCBhbmQgc2VhbWxlc3NseSBqdW1wcyB0byB0aGUgb3JpZ2luYWwgb25lIHNvIHRoYXQgYWxsIG92ZXJsYXlzXG5cdC8vIGxpa2UgbWFya2VycyBhbmQgdmVjdG9yIGxheWVycyBhcmUgc3RpbGwgdmlzaWJsZS5cblx0d29ybGRDb3B5SnVtcDogZmFsc2UsXG5cblx0Ly8gQG9wdGlvbiBtYXhCb3VuZHNWaXNjb3NpdHk6IE51bWJlciA9IDAuMFxuXHQvLyBJZiBgbWF4Qm91bmRzYCBpcyBzZXQsIHRoaXMgb3B0aW9uIHdpbGwgY29udHJvbCBob3cgc29saWQgdGhlIGJvdW5kc1xuXHQvLyBhcmUgd2hlbiBkcmFnZ2luZyB0aGUgbWFwIGFyb3VuZC4gVGhlIGRlZmF1bHQgdmFsdWUgb2YgYDAuMGAgYWxsb3dzIHRoZVxuXHQvLyB1c2VyIHRvIGRyYWcgb3V0c2lkZSB0aGUgYm91bmRzIGF0IG5vcm1hbCBzcGVlZCwgaGlnaGVyIHZhbHVlcyB3aWxsXG5cdC8vIHNsb3cgZG93biBtYXAgZHJhZ2dpbmcgb3V0c2lkZSBib3VuZHMsIGFuZCBgMS4wYCBtYWtlcyB0aGUgYm91bmRzIGZ1bGx5XG5cdC8vIHNvbGlkLCBwcmV2ZW50aW5nIHRoZSB1c2VyIGZyb20gZHJhZ2dpbmcgb3V0c2lkZSB0aGUgYm91bmRzLlxuXHRtYXhCb3VuZHNWaXNjb3NpdHk6IDAuMFxufSk7XG5cbmV4cG9ydCB2YXIgRHJhZyA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX2RyYWdnYWJsZSkge1xuXHRcdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlID0gbmV3IERyYWdnYWJsZShtYXAuX21hcFBhbmUsIG1hcC5fY29udGFpbmVyKTtcblxuXHRcdFx0dGhpcy5fZHJhZ2dhYmxlLm9uKHtcblx0XHRcdFx0ZHJhZ3N0YXJ0OiB0aGlzLl9vbkRyYWdTdGFydCxcblx0XHRcdFx0ZHJhZzogdGhpcy5fb25EcmFnLFxuXHRcdFx0XHRkcmFnZW5kOiB0aGlzLl9vbkRyYWdFbmRcblx0XHRcdH0sIHRoaXMpO1xuXG5cdFx0XHR0aGlzLl9kcmFnZ2FibGUub24oJ3ByZWRyYWcnLCB0aGlzLl9vblByZURyYWdMaW1pdCwgdGhpcyk7XG5cdFx0XHRpZiAobWFwLm9wdGlvbnMud29ybGRDb3B5SnVtcCkge1xuXHRcdFx0XHR0aGlzLl9kcmFnZ2FibGUub24oJ3ByZWRyYWcnLCB0aGlzLl9vblByZURyYWdXcmFwLCB0aGlzKTtcblx0XHRcdFx0bWFwLm9uKCd6b29tZW5kJywgdGhpcy5fb25ab29tRW5kLCB0aGlzKTtcblxuXHRcdFx0XHRtYXAud2hlblJlYWR5KHRoaXMuX29uWm9vbUVuZCwgdGhpcyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LWdyYWIgbGVhZmxldC10b3VjaC1kcmFnJyk7XG5cdFx0dGhpcy5fZHJhZ2dhYmxlLmVuYWJsZSgpO1xuXHRcdHRoaXMuX3Bvc2l0aW9ucyA9IFtdO1xuXHRcdHRoaXMuX3RpbWVzID0gW107XG5cdH0sXG5cblx0cmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcC5fY29udGFpbmVyLCAnbGVhZmxldC1ncmFiJyk7XG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtdG91Y2gtZHJhZycpO1xuXHRcdHRoaXMuX2RyYWdnYWJsZS5kaXNhYmxlKCk7XG5cdH0sXG5cblx0bW92ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlICYmIHRoaXMuX2RyYWdnYWJsZS5fbW92ZWQ7XG5cdH0sXG5cblx0bW92aW5nOiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RyYWdnYWJsZSAmJiB0aGlzLl9kcmFnZ2FibGUuX21vdmluZztcblx0fSxcblxuXHRfb25EcmFnU3RhcnQ6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgbWFwID0gdGhpcy5fbWFwO1xuXG5cdFx0bWFwLl9zdG9wKCk7XG5cdFx0aWYgKHRoaXMuX21hcC5vcHRpb25zLm1heEJvdW5kcyAmJiB0aGlzLl9tYXAub3B0aW9ucy5tYXhCb3VuZHNWaXNjb3NpdHkpIHtcblx0XHRcdHZhciBib3VuZHMgPSBsYXRMbmdCb3VuZHModGhpcy5fbWFwLm9wdGlvbnMubWF4Qm91bmRzKTtcblxuXHRcdFx0dGhpcy5fb2Zmc2V0TGltaXQgPSB0b0JvdW5kcyhcblx0XHRcdFx0dGhpcy5fbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQoYm91bmRzLmdldE5vcnRoV2VzdCgpKS5tdWx0aXBseUJ5KC0xKSxcblx0XHRcdFx0dGhpcy5fbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQoYm91bmRzLmdldFNvdXRoRWFzdCgpKS5tdWx0aXBseUJ5KC0xKVxuXHRcdFx0XHRcdC5hZGQodGhpcy5fbWFwLmdldFNpemUoKSkpO1xuXG5cdFx0XHR0aGlzLl92aXNjb3NpdHkgPSBNYXRoLm1pbigxLjAsIE1hdGgubWF4KDAuMCwgdGhpcy5fbWFwLm9wdGlvbnMubWF4Qm91bmRzVmlzY29zaXR5KSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX29mZnNldExpbWl0ID0gbnVsbDtcblx0XHR9XG5cblx0XHRtYXBcblx0XHQgICAgLmZpcmUoJ21vdmVzdGFydCcpXG5cdFx0ICAgIC5maXJlKCdkcmFnc3RhcnQnKTtcblxuXHRcdGlmIChtYXAub3B0aW9ucy5pbmVydGlhKSB7XG5cdFx0XHR0aGlzLl9wb3NpdGlvbnMgPSBbXTtcblx0XHRcdHRoaXMuX3RpbWVzID0gW107XG5cdFx0fVxuXHR9LFxuXG5cdF9vbkRyYWc6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKHRoaXMuX21hcC5vcHRpb25zLmluZXJ0aWEpIHtcblx0XHRcdHZhciB0aW1lID0gdGhpcy5fbGFzdFRpbWUgPSArbmV3IERhdGUoKSxcblx0XHRcdCAgICBwb3MgPSB0aGlzLl9sYXN0UG9zID0gdGhpcy5fZHJhZ2dhYmxlLl9hYnNQb3MgfHwgdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3M7XG5cblx0XHRcdHRoaXMuX3Bvc2l0aW9ucy5wdXNoKHBvcyk7XG5cdFx0XHR0aGlzLl90aW1lcy5wdXNoKHRpbWUpO1xuXG5cdFx0XHR0aGlzLl9wcnVuZVBvc2l0aW9ucyh0aW1lKTtcblx0XHR9XG5cblx0XHR0aGlzLl9tYXBcblx0XHQgICAgLmZpcmUoJ21vdmUnLCBlKVxuXHRcdCAgICAuZmlyZSgnZHJhZycsIGUpO1xuXHR9LFxuXG5cdF9wcnVuZVBvc2l0aW9uczogZnVuY3Rpb24gKHRpbWUpIHtcblx0XHR3aGlsZSAodGhpcy5fcG9zaXRpb25zLmxlbmd0aCA+IDEgJiYgdGltZSAtIHRoaXMuX3RpbWVzWzBdID4gNTApIHtcblx0XHRcdHRoaXMuX3Bvc2l0aW9ucy5zaGlmdCgpO1xuXHRcdFx0dGhpcy5fdGltZXMuc2hpZnQoKTtcblx0XHR9XG5cdH0sXG5cblx0X29uWm9vbUVuZDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciBweENlbnRlciA9IHRoaXMuX21hcC5nZXRTaXplKCkuZGl2aWRlQnkoMiksXG5cdFx0ICAgIHB4V29ybGRDZW50ZXIgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KFswLCAwXSk7XG5cblx0XHR0aGlzLl9pbml0aWFsV29ybGRPZmZzZXQgPSBweFdvcmxkQ2VudGVyLnN1YnRyYWN0KHB4Q2VudGVyKS54O1xuXHRcdHRoaXMuX3dvcmxkV2lkdGggPSB0aGlzLl9tYXAuZ2V0UGl4ZWxXb3JsZEJvdW5kcygpLmdldFNpemUoKS54O1xuXHR9LFxuXG5cdF92aXNjb3VzTGltaXQ6IGZ1bmN0aW9uICh2YWx1ZSwgdGhyZXNob2xkKSB7XG5cdFx0cmV0dXJuIHZhbHVlIC0gKHZhbHVlIC0gdGhyZXNob2xkKSAqIHRoaXMuX3Zpc2Nvc2l0eTtcblx0fSxcblxuXHRfb25QcmVEcmFnTGltaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX3Zpc2Nvc2l0eSB8fCAhdGhpcy5fb2Zmc2V0TGltaXQpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgb2Zmc2V0ID0gdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3Muc3VidHJhY3QodGhpcy5fZHJhZ2dhYmxlLl9zdGFydFBvcyk7XG5cblx0XHR2YXIgbGltaXQgPSB0aGlzLl9vZmZzZXRMaW1pdDtcblx0XHRpZiAob2Zmc2V0LnggPCBsaW1pdC5taW4ueCkgeyBvZmZzZXQueCA9IHRoaXMuX3Zpc2NvdXNMaW1pdChvZmZzZXQueCwgbGltaXQubWluLngpOyB9XG5cdFx0aWYgKG9mZnNldC55IDwgbGltaXQubWluLnkpIHsgb2Zmc2V0LnkgPSB0aGlzLl92aXNjb3VzTGltaXQob2Zmc2V0LnksIGxpbWl0Lm1pbi55KTsgfVxuXHRcdGlmIChvZmZzZXQueCA+IGxpbWl0Lm1heC54KSB7IG9mZnNldC54ID0gdGhpcy5fdmlzY291c0xpbWl0KG9mZnNldC54LCBsaW1pdC5tYXgueCk7IH1cblx0XHRpZiAob2Zmc2V0LnkgPiBsaW1pdC5tYXgueSkgeyBvZmZzZXQueSA9IHRoaXMuX3Zpc2NvdXNMaW1pdChvZmZzZXQueSwgbGltaXQubWF4LnkpOyB9XG5cblx0XHR0aGlzLl9kcmFnZ2FibGUuX25ld1BvcyA9IHRoaXMuX2RyYWdnYWJsZS5fc3RhcnRQb3MuYWRkKG9mZnNldCk7XG5cdH0sXG5cblx0X29uUHJlRHJhZ1dyYXA6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBUT0RPIHJlZmFjdG9yIHRvIGJlIGFibGUgdG8gYWRqdXN0IG1hcCBwYW5lIHBvc2l0aW9uIGFmdGVyIHpvb21cblx0XHR2YXIgd29ybGRXaWR0aCA9IHRoaXMuX3dvcmxkV2lkdGgsXG5cdFx0ICAgIGhhbGZXaWR0aCA9IE1hdGgucm91bmQod29ybGRXaWR0aCAvIDIpLFxuXHRcdCAgICBkeCA9IHRoaXMuX2luaXRpYWxXb3JsZE9mZnNldCxcblx0XHQgICAgeCA9IHRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLngsXG5cdFx0ICAgIG5ld1gxID0gKHggLSBoYWxmV2lkdGggKyBkeCkgJSB3b3JsZFdpZHRoICsgaGFsZldpZHRoIC0gZHgsXG5cdFx0ICAgIG5ld1gyID0gKHggKyBoYWxmV2lkdGggKyBkeCkgJSB3b3JsZFdpZHRoIC0gaGFsZldpZHRoIC0gZHgsXG5cdFx0ICAgIG5ld1ggPSBNYXRoLmFicyhuZXdYMSArIGR4KSA8IE1hdGguYWJzKG5ld1gyICsgZHgpID8gbmV3WDEgOiBuZXdYMjtcblxuXHRcdHRoaXMuX2RyYWdnYWJsZS5fYWJzUG9zID0gdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MuY2xvbmUoKTtcblx0XHR0aGlzLl9kcmFnZ2FibGUuX25ld1Bvcy54ID0gbmV3WDtcblx0fSxcblxuXHRfb25EcmFnRW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIG9wdGlvbnMgPSBtYXAub3B0aW9ucyxcblxuXHRcdCAgICBub0luZXJ0aWEgPSAhb3B0aW9ucy5pbmVydGlhIHx8IGUubm9JbmVydGlhIHx8IHRoaXMuX3RpbWVzLmxlbmd0aCA8IDI7XG5cblx0XHRtYXAuZmlyZSgnZHJhZ2VuZCcsIGUpO1xuXG5cdFx0aWYgKG5vSW5lcnRpYSkge1xuXHRcdFx0bWFwLmZpcmUoJ21vdmVlbmQnKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9wcnVuZVBvc2l0aW9ucygrbmV3IERhdGUoKSk7XG5cblx0XHRcdHZhciBkaXJlY3Rpb24gPSB0aGlzLl9sYXN0UG9zLnN1YnRyYWN0KHRoaXMuX3Bvc2l0aW9uc1swXSksXG5cdFx0XHQgICAgZHVyYXRpb24gPSAodGhpcy5fbGFzdFRpbWUgLSB0aGlzLl90aW1lc1swXSkgLyAxMDAwLFxuXHRcdFx0ICAgIGVhc2UgPSBvcHRpb25zLmVhc2VMaW5lYXJpdHksXG5cblx0XHRcdCAgICBzcGVlZFZlY3RvciA9IGRpcmVjdGlvbi5tdWx0aXBseUJ5KGVhc2UgLyBkdXJhdGlvbiksXG5cdFx0XHQgICAgc3BlZWQgPSBzcGVlZFZlY3Rvci5kaXN0YW5jZVRvKFswLCAwXSksXG5cblx0XHRcdCAgICBsaW1pdGVkU3BlZWQgPSBNYXRoLm1pbihvcHRpb25zLmluZXJ0aWFNYXhTcGVlZCwgc3BlZWQpLFxuXHRcdFx0ICAgIGxpbWl0ZWRTcGVlZFZlY3RvciA9IHNwZWVkVmVjdG9yLm11bHRpcGx5QnkobGltaXRlZFNwZWVkIC8gc3BlZWQpLFxuXG5cdFx0XHQgICAgZGVjZWxlcmF0aW9uRHVyYXRpb24gPSBsaW1pdGVkU3BlZWQgLyAob3B0aW9ucy5pbmVydGlhRGVjZWxlcmF0aW9uICogZWFzZSksXG5cdFx0XHQgICAgb2Zmc2V0ID0gbGltaXRlZFNwZWVkVmVjdG9yLm11bHRpcGx5QnkoLWRlY2VsZXJhdGlvbkR1cmF0aW9uIC8gMikucm91bmQoKTtcblxuXHRcdFx0aWYgKCFvZmZzZXQueCAmJiAhb2Zmc2V0LnkpIHtcblx0XHRcdFx0bWFwLmZpcmUoJ21vdmVlbmQnKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b2Zmc2V0ID0gbWFwLl9saW1pdE9mZnNldChvZmZzZXQsIG1hcC5vcHRpb25zLm1heEJvdW5kcyk7XG5cblx0XHRcdFx0VXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRtYXAucGFuQnkob2Zmc2V0LCB7XG5cdFx0XHRcdFx0XHRkdXJhdGlvbjogZGVjZWxlcmF0aW9uRHVyYXRpb24sXG5cdFx0XHRcdFx0XHRlYXNlTGluZWFyaXR5OiBlYXNlLFxuXHRcdFx0XHRcdFx0bm9Nb3ZlU3RhcnQ6IHRydWUsXG5cdFx0XHRcdFx0XHRhbmltYXRlOiB0cnVlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgZHJhZ2dpbmc6IEhhbmRsZXJcbi8vIE1hcCBkcmFnZ2luZyBoYW5kbGVyIChieSBib3RoIG1vdXNlIGFuZCB0b3VjaCkuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnZHJhZ2dpbmcnLCBEcmFnKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCB7b24sIG9mZiwgc3RvcH0gZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcbmltcG9ydCB7dG9Qb2ludH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnkvUG9pbnQnO1xuXG5cbi8qXG4gKiBMLk1hcC5LZXlib2FyZCBpcyBoYW5kbGluZyBrZXlib2FyZCBpbnRlcmFjdGlvbiB3aXRoIHRoZSBtYXAsIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAqL1xuXG4vLyBAbmFtZXNwYWNlIE1hcFxuLy8gQHNlY3Rpb24gS2V5Ym9hcmQgTmF2aWdhdGlvbiBPcHRpb25zXG5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQG9wdGlvbiBrZXlib2FyZDogQm9vbGVhbiA9IHRydWVcblx0Ly8gTWFrZXMgdGhlIG1hcCBmb2N1c2FibGUgYW5kIGFsbG93cyB1c2VycyB0byBuYXZpZ2F0ZSB0aGUgbWFwIHdpdGgga2V5Ym9hcmRcblx0Ly8gYXJyb3dzIGFuZCBgK2AvYC1gIGtleXMuXG5cdGtleWJvYXJkOiB0cnVlLFxuXG5cdC8vIEBvcHRpb24ga2V5Ym9hcmRQYW5EZWx0YTogTnVtYmVyID0gODBcblx0Ly8gQW1vdW50IG9mIHBpeGVscyB0byBwYW4gd2hlbiBwcmVzc2luZyBhbiBhcnJvdyBrZXkuXG5cdGtleWJvYXJkUGFuRGVsdGE6IDgwXG59KTtcblxuZXhwb3J0IHZhciBLZXlib2FyZCA9IEhhbmRsZXIuZXh0ZW5kKHtcblxuXHRrZXlDb2Rlczoge1xuXHRcdGxlZnQ6ICAgIFszN10sXG5cdFx0cmlnaHQ6ICAgWzM5XSxcblx0XHRkb3duOiAgICBbNDBdLFxuXHRcdHVwOiAgICAgIFszOF0sXG5cdFx0em9vbUluOiAgWzE4NywgMTA3LCA2MSwgMTcxXSxcblx0XHR6b29tT3V0OiBbMTg5LCAxMDksIDU0LCAxNzNdXG5cdH0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKG1hcCkge1xuXHRcdHRoaXMuX21hcCA9IG1hcDtcblxuXHRcdHRoaXMuX3NldFBhbkRlbHRhKG1hcC5vcHRpb25zLmtleWJvYXJkUGFuRGVsdGEpO1xuXHRcdHRoaXMuX3NldFpvb21EZWx0YShtYXAub3B0aW9ucy56b29tRGVsdGEpO1xuXHR9LFxuXG5cdGFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuX21hcC5fY29udGFpbmVyO1xuXG5cdFx0Ly8gbWFrZSB0aGUgY29udGFpbmVyIGZvY3VzYWJsZSBieSB0YWJiaW5nXG5cdFx0aWYgKGNvbnRhaW5lci50YWJJbmRleCA8PSAwKSB7XG5cdFx0XHRjb250YWluZXIudGFiSW5kZXggPSAnMCc7XG5cdFx0fVxuXG5cdFx0b24oY29udGFpbmVyLCB7XG5cdFx0XHRmb2N1czogdGhpcy5fb25Gb2N1cyxcblx0XHRcdGJsdXI6IHRoaXMuX29uQmx1cixcblx0XHRcdG1vdXNlZG93bjogdGhpcy5fb25Nb3VzZURvd25cblx0XHR9LCB0aGlzKTtcblxuXHRcdHRoaXMuX21hcC5vbih7XG5cdFx0XHRmb2N1czogdGhpcy5fYWRkSG9va3MsXG5cdFx0XHRibHVyOiB0aGlzLl9yZW1vdmVIb29rc1xuXHRcdH0sIHRoaXMpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmVtb3ZlSG9va3MoKTtcblxuXHRcdG9mZih0aGlzLl9tYXAuX2NvbnRhaW5lciwge1xuXHRcdFx0Zm9jdXM6IHRoaXMuX29uRm9jdXMsXG5cdFx0XHRibHVyOiB0aGlzLl9vbkJsdXIsXG5cdFx0XHRtb3VzZWRvd246IHRoaXMuX29uTW91c2VEb3duXG5cdFx0fSwgdGhpcyk7XG5cblx0XHR0aGlzLl9tYXAub2ZmKHtcblx0XHRcdGZvY3VzOiB0aGlzLl9hZGRIb29rcyxcblx0XHRcdGJsdXI6IHRoaXMuX3JlbW92ZUhvb2tzXG5cdFx0fSwgdGhpcyk7XG5cdH0sXG5cblx0X29uTW91c2VEb3duOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX2ZvY3VzZWQpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXG5cdFx0ICAgIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuXHRcdCAgICB0b3AgPSBib2R5LnNjcm9sbFRvcCB8fCBkb2NFbC5zY3JvbGxUb3AsXG5cdFx0ICAgIGxlZnQgPSBib2R5LnNjcm9sbExlZnQgfHwgZG9jRWwuc2Nyb2xsTGVmdDtcblxuXHRcdHRoaXMuX21hcC5fY29udGFpbmVyLmZvY3VzKCk7XG5cblx0XHR3aW5kb3cuc2Nyb2xsVG8obGVmdCwgdG9wKTtcblx0fSxcblxuXHRfb25Gb2N1czogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2ZvY3VzZWQgPSB0cnVlO1xuXHRcdHRoaXMuX21hcC5maXJlKCdmb2N1cycpO1xuXHR9LFxuXG5cdF9vbkJsdXI6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9mb2N1c2VkID0gZmFsc2U7XG5cdFx0dGhpcy5fbWFwLmZpcmUoJ2JsdXInKTtcblx0fSxcblxuXHRfc2V0UGFuRGVsdGE6IGZ1bmN0aW9uIChwYW5EZWx0YSkge1xuXHRcdHZhciBrZXlzID0gdGhpcy5fcGFuS2V5cyA9IHt9LFxuXHRcdCAgICBjb2RlcyA9IHRoaXMua2V5Q29kZXMsXG5cdFx0ICAgIGksIGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLmxlZnQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGtleXNbY29kZXMubGVmdFtpXV0gPSBbLTEgKiBwYW5EZWx0YSwgMF07XG5cdFx0fVxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLnJpZ2h0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLnJpZ2h0W2ldXSA9IFtwYW5EZWx0YSwgMF07XG5cdFx0fVxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLmRvd24ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGtleXNbY29kZXMuZG93bltpXV0gPSBbMCwgcGFuRGVsdGFdO1xuXHRcdH1cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy51cC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0a2V5c1tjb2Rlcy51cFtpXV0gPSBbMCwgLTEgKiBwYW5EZWx0YV07XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRab29tRGVsdGE6IGZ1bmN0aW9uICh6b29tRGVsdGEpIHtcblx0XHR2YXIga2V5cyA9IHRoaXMuX3pvb21LZXlzID0ge30sXG5cdFx0ICAgIGNvZGVzID0gdGhpcy5rZXlDb2Rlcyxcblx0XHQgICAgaSwgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY29kZXMuem9vbUluLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRrZXlzW2NvZGVzLnpvb21JbltpXV0gPSB6b29tRGVsdGE7XG5cdFx0fVxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLnpvb21PdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGtleXNbY29kZXMuem9vbU91dFtpXV0gPSAtem9vbURlbHRhO1xuXHRcdH1cblx0fSxcblxuXHRfYWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHRvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMpO1xuXHR9LFxuXG5cdF9yZW1vdmVIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMpO1xuXHR9LFxuXG5cdF9vbktleURvd246IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHsgcmV0dXJuOyB9XG5cblx0XHR2YXIga2V5ID0gZS5rZXlDb2RlLFxuXHRcdCAgICBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIG9mZnNldDtcblxuXHRcdGlmIChrZXkgaW4gdGhpcy5fcGFuS2V5cykge1xuXHRcdFx0aWYgKCFtYXAuX3BhbkFuaW0gfHwgIW1hcC5fcGFuQW5pbS5faW5Qcm9ncmVzcykge1xuXHRcdFx0XHRvZmZzZXQgPSB0aGlzLl9wYW5LZXlzW2tleV07XG5cdFx0XHRcdGlmIChlLnNoaWZ0S2V5KSB7XG5cdFx0XHRcdFx0b2Zmc2V0ID0gdG9Qb2ludChvZmZzZXQpLm11bHRpcGx5QnkoMyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAobWFwLm9wdGlvbnMubWF4Qm91bmRzKSB7XG5cdFx0XHRcdFx0b2Zmc2V0ID0gbWFwLl9saW1pdE9mZnNldCh0b1BvaW50KG9mZnNldCksIG1hcC5vcHRpb25zLm1heEJvdW5kcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAobWFwLm9wdGlvbnMud29ybGRDb3B5SnVtcCkge1xuXHRcdFx0XHRcdHZhciBuZXdMYXRMbmcgPSBtYXAud3JhcExhdExuZyhtYXAudW5wcm9qZWN0KG1hcC5wcm9qZWN0KG1hcC5nZXRDZW50ZXIoKSkuYWRkKG9mZnNldCkpKTtcblx0XHRcdFx0XHRtYXAucGFuVG8obmV3TGF0TG5nKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtYXAucGFuQnkob2Zmc2V0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoa2V5IGluIHRoaXMuX3pvb21LZXlzKSB7XG5cdFx0XHRtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgKGUuc2hpZnRLZXkgPyAzIDogMSkgKiB0aGlzLl96b29tS2V5c1trZXldKTtcblxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAyNyAmJiBtYXAuX3BvcHVwICYmIG1hcC5fcG9wdXAub3B0aW9ucy5jbG9zZU9uRXNjYXBlS2V5KSB7XG5cdFx0XHRtYXAuY2xvc2VQb3B1cCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRzdG9wKGUpO1xuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkga2V5Ym9hcmQ6IEhhbmRsZXJcbi8vIEtleWJvYXJkIG5hdmlnYXRpb24gaGFuZGxlci5cbk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdrZXlib2FyZCcsIEtleWJvYXJkKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5cbi8qXG4gKiBMLkhhbmRsZXIuU2Nyb2xsV2hlZWxab29tIGlzIHVzZWQgYnkgTC5NYXAgdG8gZW5hYmxlIG1vdXNlIHNjcm9sbCB3aGVlbCB6b29tIG9uIHRoZSBtYXAuXG4gKi9cblxuLy8gQG5hbWVzcGFjZSBNYXBcbi8vIEBzZWN0aW9uIEludGVyYWN0aW9uIE9wdGlvbnNcbk1hcC5tZXJnZU9wdGlvbnMoe1xuXHQvLyBAc2VjdGlvbiBNb3VzZSB3aGVlbCBvcHRpb25zXG5cdC8vIEBvcHRpb24gc2Nyb2xsV2hlZWxab29tOiBCb29sZWFufFN0cmluZyA9IHRydWVcblx0Ly8gV2hldGhlciB0aGUgbWFwIGNhbiBiZSB6b29tZWQgYnkgdXNpbmcgdGhlIG1vdXNlIHdoZWVsLiBJZiBwYXNzZWQgYCdjZW50ZXInYCxcblx0Ly8gaXQgd2lsbCB6b29tIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgcmVnYXJkbGVzcyBvZiB3aGVyZSB0aGUgbW91c2Ugd2FzLlxuXHRzY3JvbGxXaGVlbFpvb206IHRydWUsXG5cblx0Ly8gQG9wdGlvbiB3aGVlbERlYm91bmNlVGltZTogTnVtYmVyID0gNDBcblx0Ly8gTGltaXRzIHRoZSByYXRlIGF0IHdoaWNoIGEgd2hlZWwgY2FuIGZpcmUgKGluIG1pbGxpc2Vjb25kcykuIEJ5IGRlZmF1bHRcblx0Ly8gdXNlciBjYW4ndCB6b29tIHZpYSB3aGVlbCBtb3JlIG9mdGVuIHRoYW4gb25jZSBwZXIgNDAgbXMuXG5cdHdoZWVsRGVib3VuY2VUaW1lOiA0MCxcblxuXHQvLyBAb3B0aW9uIHdoZWVsUHhQZXJab29tTGV2ZWw6IE51bWJlciA9IDYwXG5cdC8vIEhvdyBtYW55IHNjcm9sbCBwaXhlbHMgKGFzIHJlcG9ydGVkIGJ5IFtMLkRvbUV2ZW50LmdldFdoZWVsRGVsdGFdKCNkb21ldmVudC1nZXR3aGVlbGRlbHRhKSlcblx0Ly8gbWVhbiBhIGNoYW5nZSBvZiBvbmUgZnVsbCB6b29tIGxldmVsLiBTbWFsbGVyIHZhbHVlcyB3aWxsIG1ha2Ugd2hlZWwtem9vbWluZ1xuXHQvLyBmYXN0ZXIgKGFuZCB2aWNlIHZlcnNhKS5cblx0d2hlZWxQeFBlclpvb21MZXZlbDogNjBcbn0pO1xuXG5leHBvcnQgdmFyIFNjcm9sbFdoZWVsWm9vbSA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3doZWVsJywgdGhpcy5fb25XaGVlbFNjcm9sbCwgdGhpcyk7XG5cblx0XHR0aGlzLl9kZWx0YSA9IDA7XG5cdH0sXG5cblx0cmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsICd3aGVlbCcsIHRoaXMuX29uV2hlZWxTY3JvbGwsIHRoaXMpO1xuXHR9LFxuXG5cdF9vbldoZWVsU2Nyb2xsOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBkZWx0YSA9IERvbUV2ZW50LmdldFdoZWVsRGVsdGEoZSk7XG5cblx0XHR2YXIgZGVib3VuY2UgPSB0aGlzLl9tYXAub3B0aW9ucy53aGVlbERlYm91bmNlVGltZTtcblxuXHRcdHRoaXMuX2RlbHRhICs9IGRlbHRhO1xuXHRcdHRoaXMuX2xhc3RNb3VzZVBvcyA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcblxuXHRcdGlmICghdGhpcy5fc3RhcnRUaW1lKSB7XG5cdFx0XHR0aGlzLl9zdGFydFRpbWUgPSArbmV3IERhdGUoKTtcblx0XHR9XG5cblx0XHR2YXIgbGVmdCA9IE1hdGgubWF4KGRlYm91bmNlIC0gKCtuZXcgRGF0ZSgpIC0gdGhpcy5fc3RhcnRUaW1lKSwgMCk7XG5cblx0XHRjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuXHRcdHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChVdGlsLmJpbmQodGhpcy5fcGVyZm9ybVpvb20sIHRoaXMpLCBsZWZ0KTtcblxuXHRcdERvbUV2ZW50LnN0b3AoZSk7XG5cdH0sXG5cblx0X3BlcmZvcm1ab29tOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcCxcblx0XHQgICAgem9vbSA9IG1hcC5nZXRab29tKCksXG5cdFx0ICAgIHNuYXAgPSB0aGlzLl9tYXAub3B0aW9ucy56b29tU25hcCB8fCAwO1xuXG5cdFx0bWFwLl9zdG9wKCk7IC8vIHN0b3AgcGFubmluZyBhbmQgZmx5IGFuaW1hdGlvbnMgaWYgYW55XG5cblx0XHQvLyBtYXAgdGhlIGRlbHRhIHdpdGggYSBzaWdtb2lkIGZ1bmN0aW9uIHRvIC00Li40IHJhbmdlIGxlYW5pbmcgb24gLTEuLjFcblx0XHR2YXIgZDIgPSB0aGlzLl9kZWx0YSAvICh0aGlzLl9tYXAub3B0aW9ucy53aGVlbFB4UGVyWm9vbUxldmVsICogNCksXG5cdFx0ICAgIGQzID0gNCAqIE1hdGgubG9nKDIgLyAoMSArIE1hdGguZXhwKC1NYXRoLmFicyhkMikpKSkgLyBNYXRoLkxOMixcblx0XHQgICAgZDQgPSBzbmFwID8gTWF0aC5jZWlsKGQzIC8gc25hcCkgKiBzbmFwIDogZDMsXG5cdFx0ICAgIGRlbHRhID0gbWFwLl9saW1pdFpvb20oem9vbSArICh0aGlzLl9kZWx0YSA+IDAgPyBkNCA6IC1kNCkpIC0gem9vbTtcblxuXHRcdHRoaXMuX2RlbHRhID0gMDtcblx0XHR0aGlzLl9zdGFydFRpbWUgPSBudWxsO1xuXG5cdFx0aWYgKCFkZWx0YSkgeyByZXR1cm47IH1cblxuXHRcdGlmIChtYXAub3B0aW9ucy5zY3JvbGxXaGVlbFpvb20gPT09ICdjZW50ZXInKSB7XG5cdFx0XHRtYXAuc2V0Wm9vbSh6b29tICsgZGVsdGEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXAuc2V0Wm9vbUFyb3VuZCh0aGlzLl9sYXN0TW91c2VQb3MsIHpvb20gKyBkZWx0YSk7XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gQHNlY3Rpb24gSGFuZGxlcnNcbi8vIEBwcm9wZXJ0eSBzY3JvbGxXaGVlbFpvb206IEhhbmRsZXJcbi8vIFNjcm9sbCB3aGVlbCB6b29tIGhhbmRsZXIuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnc2Nyb2xsV2hlZWxab29tJywgU2Nyb2xsV2hlZWxab29tKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi4vTWFwJztcbmltcG9ydCB7SGFuZGxlcn0gZnJvbSAnLi4vLi4vY29yZS9IYW5kbGVyJztcbmltcG9ydCAqIGFzIERvbUV2ZW50IGZyb20gJy4uLy4uL2RvbS9Eb21FdmVudCc7XG5pbXBvcnQge1BvaW50fSBmcm9tICcuLi8uLi9nZW9tZXRyeS9Qb2ludCc7XG5pbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4uLy4uL2NvcmUvVXRpbCc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi8uLi9jb3JlL0Jyb3dzZXInO1xuXG4vKlxuICogTC5NYXAuVGFwSG9sZCBpcyB1c2VkIHRvIHNpbXVsYXRlIGBjb250ZXh0bWVudWAgZXZlbnQgb24gbG9uZyBob2xkLFxuICogd2hpY2ggb3RoZXJ3aXNlIGlzIG5vdCBmaXJlZCBieSBtb2JpbGUgU2FmYXJpLlxuICovXG5cbnZhciB0YXBIb2xkRGVsYXkgPSA2MDA7XG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXG5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQHNlY3Rpb24gVG91Y2ggaW50ZXJhY3Rpb24gb3B0aW9uc1xuXHQvLyBAb3B0aW9uIHRhcEhvbGQ6IEJvb2xlYW5cblx0Ly8gRW5hYmxlcyBzaW11bGF0aW9uIG9mIGBjb250ZXh0bWVudWAgZXZlbnQsIGRlZmF1bHQgaXMgYHRydWVgIGZvciBtb2JpbGUgU2FmYXJpLlxuXHR0YXBIb2xkOiBCcm93c2VyLnRvdWNoTmF0aXZlICYmIEJyb3dzZXIuc2FmYXJpICYmIEJyb3dzZXIubW9iaWxlLFxuXG5cdC8vIEBvcHRpb24gdGFwVG9sZXJhbmNlOiBOdW1iZXIgPSAxNVxuXHQvLyBUaGUgbWF4IG51bWJlciBvZiBwaXhlbHMgYSB1c2VyIGNhbiBzaGlmdCBoaXMgZmluZ2VyIGR1cmluZyB0b3VjaFxuXHQvLyBmb3IgaXQgdG8gYmUgY29uc2lkZXJlZCBhIHZhbGlkIHRhcC5cblx0dGFwVG9sZXJhbmNlOiAxNVxufSk7XG5cbmV4cG9ydCB2YXIgVGFwSG9sZCA9IEhhbmRsZXIuZXh0ZW5kKHtcblx0YWRkSG9va3M6IGZ1bmN0aW9uICgpIHtcblx0XHREb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vbkRvd24sIHRoaXMpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCAndG91Y2hzdGFydCcsIHRoaXMuX29uRG93biwgdGhpcyk7XG5cdH0sXG5cblx0X29uRG93bjogZnVuY3Rpb24gKGUpIHtcblx0XHRjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpO1xuXHRcdGlmIChlLnRvdWNoZXMubGVuZ3RoICE9PSAxKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIGZpcnN0ID0gZS50b3VjaGVzWzBdO1xuXHRcdHRoaXMuX3N0YXJ0UG9zID0gdGhpcy5fbmV3UG9zID0gbmV3IFBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpO1xuXG5cdFx0dGhpcy5faG9sZFRpbWVvdXQgPSBzZXRUaW1lb3V0KFV0aWwuYmluZChmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl9jYW5jZWwoKTtcblx0XHRcdGlmICghdGhpcy5faXNUYXBWYWxpZCgpKSB7IHJldHVybjsgfVxuXG5cdFx0XHQvLyBwcmV2ZW50IHNpbXVsYXRlZCBtb3VzZSBldmVudHMgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3RvdWNoLWV2ZW50cy8jbW91c2UtZXZlbnRzXG5cdFx0XHREb21FdmVudC5vbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgRG9tRXZlbnQucHJldmVudERlZmF1bHQpO1xuXHRcdFx0RG9tRXZlbnQub24oZG9jdW1lbnQsICd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuX2NhbmNlbENsaWNrUHJldmVudCk7XG5cdFx0XHR0aGlzLl9zaW11bGF0ZUV2ZW50KCdjb250ZXh0bWVudScsIGZpcnN0KTtcblx0XHR9LCB0aGlzKSwgdGFwSG9sZERlbGF5KTtcblxuXHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCAndG91Y2hlbmQgdG91Y2hjYW5jZWwgY29udGV4dG1lbnUnLCB0aGlzLl9jYW5jZWwsIHRoaXMpO1xuXHRcdERvbUV2ZW50Lm9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB0aGlzKTtcblx0fSxcblxuXHRfY2FuY2VsQ2xpY2tQcmV2ZW50OiBmdW5jdGlvbiBjYW5jZWxDbGlja1ByZXZlbnQoKSB7XG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCBEb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7XG5cdFx0RG9tRXZlbnQub2ZmKGRvY3VtZW50LCAndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCBjYW5jZWxDbGlja1ByZXZlbnQpO1xuXHR9LFxuXG5cdF9jYW5jZWw6IGZ1bmN0aW9uICgpIHtcblx0XHRjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpO1xuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ3RvdWNoZW5kIHRvdWNoY2FuY2VsIGNvbnRleHRtZW51JywgdGhpcy5fY2FuY2VsLCB0aGlzKTtcblx0XHREb21FdmVudC5vZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHRoaXMpO1xuXHR9LFxuXG5cdF9vbk1vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIGZpcnN0ID0gZS50b3VjaGVzWzBdO1xuXHRcdHRoaXMuX25ld1BvcyA9IG5ldyBQb2ludChmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZKTtcblx0fSxcblxuXHRfaXNUYXBWYWxpZDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcykgPD0gdGhpcy5fbWFwLm9wdGlvbnMudGFwVG9sZXJhbmNlO1xuXHR9LFxuXG5cdF9zaW11bGF0ZUV2ZW50OiBmdW5jdGlvbiAodHlwZSwgZSkge1xuXHRcdHZhciBzaW11bGF0ZWRFdmVudCA9IG5ldyBNb3VzZUV2ZW50KHR5cGUsIHtcblx0XHRcdGJ1YmJsZXM6IHRydWUsXG5cdFx0XHRjYW5jZWxhYmxlOiB0cnVlLFxuXHRcdFx0dmlldzogd2luZG93LFxuXHRcdFx0Ly8gZGV0YWlsOiAxLFxuXHRcdFx0c2NyZWVuWDogZS5zY3JlZW5YLFxuXHRcdFx0c2NyZWVuWTogZS5zY3JlZW5ZLFxuXHRcdFx0Y2xpZW50WDogZS5jbGllbnRYLFxuXHRcdFx0Y2xpZW50WTogZS5jbGllbnRZLFxuXHRcdFx0Ly8gYnV0dG9uOiAyLFxuXHRcdFx0Ly8gYnV0dG9uczogMlxuXHRcdH0pO1xuXG5cdFx0c2ltdWxhdGVkRXZlbnQuX3NpbXVsYXRlZCA9IHRydWU7XG5cblx0XHRlLnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgdGFwSG9sZDogSGFuZGxlclxuLy8gTG9uZyB0YXAgaGFuZGxlciB0byBzaW11bGF0ZSBgY29udGV4dG1lbnVgIGV2ZW50ICh1c2VmdWwgaW4gbW9iaWxlIFNhZmFyaSkuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAndGFwSG9sZCcsIFRhcEhvbGQpO1xuIiwgImltcG9ydCB7TWFwfSBmcm9tICcuLi9NYXAnO1xuaW1wb3J0IHtIYW5kbGVyfSBmcm9tICcuLi8uLi9jb3JlL0hhbmRsZXInO1xuaW1wb3J0ICogYXMgRG9tRXZlbnQgZnJvbSAnLi4vLi4vZG9tL0RvbUV2ZW50JztcbmltcG9ydCAqIGFzIFV0aWwgZnJvbSAnLi4vLi4vY29yZS9VdGlsJztcbmltcG9ydCAqIGFzIERvbVV0aWwgZnJvbSAnLi4vLi4vZG9tL0RvbVV0aWwnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vLi4vY29yZS9Ccm93c2VyJztcblxuLypcbiAqIEwuSGFuZGxlci5Ub3VjaFpvb20gaXMgdXNlZCBieSBMLk1hcCB0byBhZGQgcGluY2ggem9vbSBvbiBzdXBwb3J0ZWQgbW9iaWxlIGJyb3dzZXJzLlxuICovXG5cbi8vIEBuYW1lc3BhY2UgTWFwXG4vLyBAc2VjdGlvbiBJbnRlcmFjdGlvbiBPcHRpb25zXG5NYXAubWVyZ2VPcHRpb25zKHtcblx0Ly8gQHNlY3Rpb24gVG91Y2ggaW50ZXJhY3Rpb24gb3B0aW9uc1xuXHQvLyBAb3B0aW9uIHRvdWNoWm9vbTogQm9vbGVhbnxTdHJpbmcgPSAqXG5cdC8vIFdoZXRoZXIgdGhlIG1hcCBjYW4gYmUgem9vbWVkIGJ5IHRvdWNoLWRyYWdnaW5nIHdpdGggdHdvIGZpbmdlcnMuIElmXG5cdC8vIHBhc3NlZCBgJ2NlbnRlcidgLCBpdCB3aWxsIHpvb20gdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlldyByZWdhcmRsZXNzIG9mXG5cdC8vIHdoZXJlIHRoZSB0b3VjaCBldmVudHMgKGZpbmdlcnMpIHdlcmUuIEVuYWJsZWQgZm9yIHRvdWNoLWNhcGFibGUgd2ViXG5cdC8vIGJyb3dzZXJzLlxuXHR0b3VjaFpvb206IEJyb3dzZXIudG91Y2gsXG5cblx0Ly8gQG9wdGlvbiBib3VuY2VBdFpvb21MaW1pdHM6IEJvb2xlYW4gPSB0cnVlXG5cdC8vIFNldCBpdCB0byBmYWxzZSBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgbWFwIHRvIHpvb20gYmV5b25kIG1pbi9tYXggem9vbVxuXHQvLyBhbmQgdGhlbiBib3VuY2UgYmFjayB3aGVuIHBpbmNoLXpvb21pbmcuXG5cdGJvdW5jZUF0Wm9vbUxpbWl0czogdHJ1ZVxufSk7XG5cbmV4cG9ydCB2YXIgVG91Y2hab29tID0gSGFuZGxlci5leHRlbmQoe1xuXHRhZGRIb29rczogZnVuY3Rpb24gKCkge1xuXHRcdERvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwLl9jb250YWluZXIsICdsZWFmbGV0LXRvdWNoLXpvb20nKTtcblx0XHREb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRvdWNoU3RhcnQsIHRoaXMpO1xuXHR9LFxuXG5cdHJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7XG5cdFx0RG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ2xlYWZsZXQtdG91Y2gtem9vbScpO1xuXHRcdERvbUV2ZW50Lm9mZih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRvdWNoU3RhcnQsIHRoaXMpO1xuXHR9LFxuXG5cdF9vblRvdWNoU3RhcnQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblx0XHRpZiAoIWUudG91Y2hlcyB8fCBlLnRvdWNoZXMubGVuZ3RoICE9PSAyIHx8IG1hcC5fYW5pbWF0aW5nWm9vbSB8fCB0aGlzLl96b29taW5nKSB7IHJldHVybjsgfVxuXG5cdFx0dmFyIHAxID0gbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUudG91Y2hlc1swXSksXG5cdFx0ICAgIHAyID0gbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUudG91Y2hlc1sxXSk7XG5cblx0XHR0aGlzLl9jZW50ZXJQb2ludCA9IG1hcC5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpO1xuXHRcdHRoaXMuX3N0YXJ0TGF0TG5nID0gbWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcodGhpcy5fY2VudGVyUG9pbnQpO1xuXHRcdGlmIChtYXAub3B0aW9ucy50b3VjaFpvb20gIT09ICdjZW50ZXInKSB7XG5cdFx0XHR0aGlzLl9waW5jaFN0YXJ0TGF0TG5nID0gbWFwLmNvbnRhaW5lclBvaW50VG9MYXRMbmcocDEuYWRkKHAyKS5fZGl2aWRlQnkoMikpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N0YXJ0RGlzdCA9IHAxLmRpc3RhbmNlVG8ocDIpO1xuXHRcdHRoaXMuX3N0YXJ0Wm9vbSA9IG1hcC5nZXRab29tKCk7XG5cblx0XHR0aGlzLl9tb3ZlZCA9IGZhbHNlO1xuXHRcdHRoaXMuX3pvb21pbmcgPSB0cnVlO1xuXG5cdFx0bWFwLl9zdG9wKCk7XG5cblx0XHREb21FdmVudC5vbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlLCB0aGlzKTtcblx0XHREb21FdmVudC5vbihkb2N1bWVudCwgJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJywgdGhpcy5fb25Ub3VjaEVuZCwgdGhpcyk7XG5cblx0XHREb21FdmVudC5wcmV2ZW50RGVmYXVsdChlKTtcblx0fSxcblxuXHRfb25Ub3VjaE1vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKCFlLnRvdWNoZXMgfHwgZS50b3VjaGVzLmxlbmd0aCAhPT0gMiB8fCAhdGhpcy5fem9vbWluZykgeyByZXR1cm47IH1cblxuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXAsXG5cdFx0ICAgIHAxID0gbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUudG91Y2hlc1swXSksXG5cdFx0ICAgIHAyID0gbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUudG91Y2hlc1sxXSksXG5cdFx0ICAgIHNjYWxlID0gcDEuZGlzdGFuY2VUbyhwMikgLyB0aGlzLl9zdGFydERpc3Q7XG5cblx0XHR0aGlzLl96b29tID0gbWFwLmdldFNjYWxlWm9vbShzY2FsZSwgdGhpcy5fc3RhcnRab29tKTtcblxuXHRcdGlmICghbWFwLm9wdGlvbnMuYm91bmNlQXRab29tTGltaXRzICYmIChcblx0XHRcdCh0aGlzLl96b29tIDwgbWFwLmdldE1pblpvb20oKSAmJiBzY2FsZSA8IDEpIHx8XG5cdFx0XHQodGhpcy5fem9vbSA+IG1hcC5nZXRNYXhab29tKCkgJiYgc2NhbGUgPiAxKSkpIHtcblx0XHRcdHRoaXMuX3pvb20gPSBtYXAuX2xpbWl0Wm9vbSh0aGlzLl96b29tKTtcblx0XHR9XG5cblx0XHRpZiAobWFwLm9wdGlvbnMudG91Y2hab29tID09PSAnY2VudGVyJykge1xuXHRcdFx0dGhpcy5fY2VudGVyID0gdGhpcy5fc3RhcnRMYXRMbmc7XG5cdFx0XHRpZiAoc2NhbGUgPT09IDEpIHsgcmV0dXJuOyB9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdldCBkZWx0YSBmcm9tIHBpbmNoIHRvIGNlbnRlciwgc28gY2VudGVyTGF0TG5nIGlzIGRlbHRhIGFwcGxpZWQgdG8gaW5pdGlhbCBwaW5jaExhdExuZ1xuXHRcdFx0dmFyIGRlbHRhID0gcDEuX2FkZChwMikuX2RpdmlkZUJ5KDIpLl9zdWJ0cmFjdCh0aGlzLl9jZW50ZXJQb2ludCk7XG5cdFx0XHRpZiAoc2NhbGUgPT09IDEgJiYgZGVsdGEueCA9PT0gMCAmJiBkZWx0YS55ID09PSAwKSB7IHJldHVybjsgfVxuXHRcdFx0dGhpcy5fY2VudGVyID0gbWFwLnVucHJvamVjdChtYXAucHJvamVjdCh0aGlzLl9waW5jaFN0YXJ0TGF0TG5nLCB0aGlzLl96b29tKS5zdWJ0cmFjdChkZWx0YSksIHRoaXMuX3pvb20pO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5fbW92ZWQpIHtcblx0XHRcdG1hcC5fbW92ZVN0YXJ0KHRydWUsIGZhbHNlKTtcblx0XHRcdHRoaXMuX21vdmVkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRVdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCk7XG5cblx0XHR2YXIgbW92ZUZuID0gVXRpbC5iaW5kKG1hcC5fbW92ZSwgbWFwLCB0aGlzLl9jZW50ZXIsIHRoaXMuX3pvb20sIHtwaW5jaDogdHJ1ZSwgcm91bmQ6IGZhbHNlfSwgdW5kZWZpbmVkKTtcblx0XHR0aGlzLl9hbmltUmVxdWVzdCA9IFV0aWwucmVxdWVzdEFuaW1GcmFtZShtb3ZlRm4sIHRoaXMsIHRydWUpO1xuXG5cdFx0RG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG5cdH0sXG5cblx0X29uVG91Y2hFbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIXRoaXMuX21vdmVkIHx8ICF0aGlzLl96b29taW5nKSB7XG5cdFx0XHR0aGlzLl96b29taW5nID0gZmFsc2U7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fem9vbWluZyA9IGZhbHNlO1xuXHRcdFV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KTtcblxuXHRcdERvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlLCB0aGlzKTtcblx0XHREb21FdmVudC5vZmYoZG9jdW1lbnQsICd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuX29uVG91Y2hFbmQsIHRoaXMpO1xuXG5cdFx0Ly8gUGluY2ggdXBkYXRlcyBHcmlkTGF5ZXJzJyBsZXZlbHMgb25seSB3aGVuIHpvb21TbmFwIGlzIG9mZiwgc28gem9vbVNuYXAgYmVjb21lcyBub1VwZGF0ZS5cblx0XHRpZiAodGhpcy5fbWFwLm9wdGlvbnMuem9vbUFuaW1hdGlvbikge1xuXHRcdFx0dGhpcy5fbWFwLl9hbmltYXRlWm9vbSh0aGlzLl9jZW50ZXIsIHRoaXMuX21hcC5fbGltaXRab29tKHRoaXMuX3pvb20pLCB0cnVlLCB0aGlzLl9tYXAub3B0aW9ucy56b29tU25hcCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX21hcC5fcmVzZXRWaWV3KHRoaXMuX2NlbnRlciwgdGhpcy5fbWFwLl9saW1pdFpvb20odGhpcy5fem9vbSkpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIEBzZWN0aW9uIEhhbmRsZXJzXG4vLyBAcHJvcGVydHkgdG91Y2hab29tOiBIYW5kbGVyXG4vLyBUb3VjaCB6b29tIGhhbmRsZXIuXG5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAndG91Y2hab29tJywgVG91Y2hab29tKTtcbiIsICJpbXBvcnQge01hcH0gZnJvbSAnLi9NYXAnO1xuaW1wb3J0IHtCb3hab29tfSBmcm9tICcuL2hhbmRsZXIvTWFwLkJveFpvb20nO1xuTWFwLkJveFpvb20gPSBCb3hab29tO1xuaW1wb3J0IHtEb3VibGVDbGlja1pvb219IGZyb20gJy4vaGFuZGxlci9NYXAuRG91YmxlQ2xpY2tab29tJztcbk1hcC5Eb3VibGVDbGlja1pvb20gPSBEb3VibGVDbGlja1pvb207XG5pbXBvcnQge0RyYWd9IGZyb20gJy4vaGFuZGxlci9NYXAuRHJhZyc7XG5NYXAuRHJhZyA9IERyYWc7XG5pbXBvcnQge0tleWJvYXJkfSBmcm9tICcuL2hhbmRsZXIvTWFwLktleWJvYXJkJztcbk1hcC5LZXlib2FyZCA9IEtleWJvYXJkO1xuaW1wb3J0IHtTY3JvbGxXaGVlbFpvb219IGZyb20gJy4vaGFuZGxlci9NYXAuU2Nyb2xsV2hlZWxab29tJztcbk1hcC5TY3JvbGxXaGVlbFpvb20gPSBTY3JvbGxXaGVlbFpvb207XG5pbXBvcnQge1RhcEhvbGR9IGZyb20gJy4vaGFuZGxlci9NYXAuVGFwSG9sZCc7XG5NYXAuVGFwSG9sZCA9IFRhcEhvbGQ7XG5pbXBvcnQge1RvdWNoWm9vbX0gZnJvbSAnLi9oYW5kbGVyL01hcC5Ub3VjaFpvb20nO1xuTWFwLlRvdWNoWm9vbSA9IFRvdWNoWm9vbTtcblxuZXhwb3J0IHtNYXAsIGNyZWF0ZU1hcCBhcyBtYXB9IGZyb20gJy4vTWFwJztcbiIsICJpbXBvcnQgKiBhcyBMRiBmcm9tICdsZWFmbGV0JztcbmltcG9ydCAnbGVhZmxldC1mdWxsc2NyZWVuJztcbmltcG9ydCBcIkBnZW9tYW4taW8vbGVhZmxldC1nZW9tYW4tZnJlZVwiO1xuXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xpdmV3aXJlOmluaXQnLCAoKSA9PiB7XG4gICAgY29uc3QgbWFwUGlja2VyID0gKCR3aXJlLCBjb25maWcgKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXA6IG51bGwsXG4gICAgICAgICAgICB0aWxlOiBudWxsLFxuICAgICAgICAgICAgbWFya2VyOiBudWxsLFxuICAgICAgICAgICAgcmFuZ2VDaXJjbGU6IG51bGwsXG4gICAgICAgICAgICBkcmF3SXRlbXM6IG51bGwsXG4gICAgICAgICAgICByYW5nZVNlbGVjdEZpZWxkU3RhdGVQYXRoOiBudWxsLFxuICAgICAgICAgICAgZm9ybVJlc3RvcmF0aW9uSGlkZGVuSW5wdXQ6bnVsbCxcbiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZTogbnVsbCxcblxuICAgICAgICAgICAgZGVib3VuY2U6IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGltZW91dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZXhlY3V0ZWRGdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNyZWF0ZU1hcDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1hcCA9IExGLm1hcChlbCwgY29uZmlnLmNvbnRyb2xzKTtcblxuICAgICAgICAgICAgICAgIGlmKGNvbmZpZy5ib3VuZHMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc291dGhXZXN0ID0gTEYubGF0TG5nKGNvbmZpZy5ib3VuZHMuc3cubGF0LCBjb25maWcuYm91bmRzLnN3LmxuZyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBub3J0aEVhc3QgPSBMRi5sYXRMbmcoY29uZmlnLmJvdW5kcy5uZS5sYXQsIGNvbmZpZy5ib3VuZHMubmUubG5nKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvdW5kcyA9IExGLmxhdExuZ0JvdW5kcyhzb3V0aFdlc3QsIG5vcnRoRWFzdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldE1heEJvdW5kcyhib3VuZHMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5maXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ2RyYWcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubWFwLnBhbkluc2lkZUJvdW5kcyhib3VuZHMsIHsgYW5pbWF0ZTogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLm1hcC5pbnZhbGlkYXRlU2l6ZSh0cnVlKSwgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5zaG93TWFya2VyICYmICFjb25maWcuY2xpY2thYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtlci5zZXRMYXRMbmcodGhpcy5tYXAuZ2V0Q2VudGVyKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy5kcmFnZ2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKGNvbmZpZy5jbGlja2FibGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnNldENvb3JkaW5hdGVzKGUubGF0bG5nKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50aWxlID0gTEYudGlsZUxheWVyKGNvbmZpZy50aWxlc1VybCwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbjogY29uZmlnLmF0dHJpYnV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBtaW5ab29tOiBjb25maWcubWluWm9vbSxcbiAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogY29uZmlnLm1heFpvb20sXG4gICAgICAgICAgICAgICAgICAgIHRpbGVTaXplOiBjb25maWcudGlsZVNpemUsXG4gICAgICAgICAgICAgICAgICAgIHpvb21PZmZzZXQ6IGNvbmZpZy56b29tT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBkZXRlY3RSZXRpbmE6IGNvbmZpZy5kZXRlY3RSZXRpbmEsXG4gICAgICAgICAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5zaG93TWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFya2VyID0gTEYubWFya2VyKHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogdGhpcy5jcmVhdGVNYXJrZXJJY29uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1BhbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TWFya2VyUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWNvbmZpZy5jbGlja2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdtb3ZlJywgKCkgPT4gdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLm1hcC5nZXRDZW50ZXIoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoIWNvbmZpZy5jbGlja2FibGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5vbignbW92ZWVuZCcsICgpID0+IHRoaXMudXBkYXRlTG9jYXRpb24oKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ2xvY2F0aW9uZm91bmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubWFwLnNldFpvb20oY29uZmlnLmNvbnRyb2xzLnpvb20pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbGV0IGxvY2F0aW9uID0gdGhpcy5nZXRDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgIGlmICghbG9jYXRpb24ubGF0ICYmICFsb2NhdGlvbi5sbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAubG9jYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZpZXc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhab29tOiBjb25maWcuY29udHJvbHMubWF4Wm9vbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KG5ldyBMRi5MYXRMbmcobG9jYXRpb24ubGF0LCBsb2NhdGlvbi5sbmcpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnNob3dNeUxvY2F0aW9uQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTG9jYXRpb25CdXR0b24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmxpdmVMb2NhdGlvbi5zZW5kICYmIGNvbmZpZy5saXZlTG9jYXRpb24ucmVhbHRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9LCBjb25maWcubGl2ZUxvY2F0aW9uLm1pbGlzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ3pvb21lbmQnLGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0Rm9ybVJlc3RvcmF0aW9uU3RhdGUoZmFsc2UsIHRoYXQubWFwLmdldFpvb20oKSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZW9tYW4gc2V0dXBcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmdlb01hbi5zaG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5wbS5hZGRDb250cm9scyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc25hcHBhYmxlOiBjb25maWcuZ2VvTWFuLnNuYXBwYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFwRGlzdGFuY2U6IGNvbmZpZy5nZW9NYW4uc25hcERpc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBjb25maWcuZ2VvTWFuLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdDaXJjbGVNYXJrZXI6IGNvbmZpZy5nZW9NYW4uZHJhd0NpcmNsZU1hcmtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVNb2RlOiBjb25maWcuZ2VvTWFuLnJvdGF0ZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd1JlY3RhbmdsZTogY29uZmlnLmdlb01hbi5kcmF3UmVjdGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdUZXh0OiBjb25maWcuZ2VvTWFuLmRyYXdUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdNYXJrZXI6IGNvbmZpZy5nZW9NYW4uZHJhd01hcmtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3UG9seWdvbjogY29uZmlnLmdlb01hbi5kcmF3UG9seWdvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3UG9seWxpbmU6IGNvbmZpZy5nZW9NYW4uZHJhd1BvbHlsaW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdDaXJjbGU6IGNvbmZpZy5nZW9NYW4uZHJhd0NpcmNsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TW9kZTogY29uZmlnLmdlb01hbi5lZGl0TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnTW9kZTogY29uZmlnLmdlb01hbi5kcmFnTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXRQb2x5Z29uOiBjb25maWcuZ2VvTWFuLmN1dFBvbHlnb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdFBvbHlnb246IGNvbmZpZy5nZW9NYW4uZWRpdFBvbHlnb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlTGF5ZXI6IGNvbmZpZy5nZW9NYW4uZGVsZXRlTGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdJdGVtcyA9IG5ldyBMRi5GZWF0dXJlR3JvdXAoKS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdwbTpjcmVhdGUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmxheWVyICYmIGUubGF5ZXIucG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5sYXllci5wbS5lbmFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5zaGFwZSA9PT0gJ0NpcmNsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IGUubGF5ZXIuZ2V0TGF0TG5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBlLmxheWVyLmdldFJhZGl1cygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmxheWVyLmNpcmNsZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiByYWRpdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdJdGVtcy5hZGRMYXllcihlLmxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVHZW9Kc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLm9uKCdwbTplZGl0JywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5sYXllciAmJiBlLmxheWVyLmdldFJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmxheWVyLmNpcmNsZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGUubGF5ZXIuZ2V0TGF0TG5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGUubGF5ZXIuZ2V0UmFkaXVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVHZW9Kc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAub24oJ3BtOnJlbW92ZScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SXRlbXMucmVtb3ZlTGF5ZXIoZS5sYXllcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlR2VvSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgcmVtb3ZhbCBvZiBsYXllcjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIExvYWQgZXhpc3RpbmcgR2VvSlNPTiBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdHZW9Kc29uID0gdGhpcy5nZXRHZW9Kc29uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0dlb0pzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdJdGVtcyA9IExGLmdlb0pTT04oZXhpc3RpbmdHZW9Kc29uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50VG9MYXllcjogKGZlYXR1cmUsIGxhdGxuZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcyAmJiBmZWF0dXJlLnByb3BlcnRpZXMudHlwZSA9PT0gXCJDaXJjbGVcIikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2lyY2xlID0gTEYuY2lyY2xlKGxhdGxuZywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGZlYXR1cmUucHJvcGVydGllcy5yYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb25maWcuZ2VvTWFuLmNvbG9yIHx8IFwiIzMzODhmZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IGNvbmZpZy5nZW9NYW4uZmlsbGVkQ29sb3IgfHwgJyNjYWQ5ZWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC40XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUuY2lyY2xlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBsYXRsbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogZmVhdHVyZS5wcm9wZXJ0aWVzLnJhZGl1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2lyY2xlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTEYuY2lyY2xlTWFya2VyKGxhdGxuZywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMzM4OGZmJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMzM4OGZmJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC42XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2x5Z29uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb25maWcuZ2VvTWFuLmNvbG9yIHx8IFwiIzMzODhmZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IGNvbmZpZy5nZW9NYW4uZmlsbGVkQ29sb3IgfHwgJ2JsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiAoZmVhdHVyZSwgbGF5ZXIpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmZWF0dXJlLnByb3BlcnRpZXMudGl0bGUgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmJpbmRQb3B1cChmZWF0dXJlLnByb3BlcnRpZXMudGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYgKGZlYXR1cmUuZ2VvbWV0cnkudHlwZSA9PT0gJ1BvbHlnb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYmluZFBvcHVwKFwiUG9seWdvbiBBcmVhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2ludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5iaW5kUG9wdXAoXCJQb2ludCBMb2NhdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmdlb01hbi5lZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2x5Z29uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5wbS5lbmFibGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZlYXR1cmUuZ2VvbWV0cnkudHlwZSA9PT0gJ1BvaW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5wbS5lbmFibGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIub24oJ3BtOmVkaXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVHZW9Kc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvbmZpZy5nZW9NYW4uZWRpdGFibGUpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0l0ZW1zLmVhY2hMYXllcihsYXllciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5wbS5lbmFibGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93U2VsZkludGVyc2VjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKHRoaXMuZHJhd0l0ZW1zLmdldEJvdW5kcygpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVNYXJrZXJJY29uKCkge1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcubWFya2VySWNvblVybCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTEYuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiBjb25maWcubWFya2VySWNvblVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBjb25maWcubWFya2VySWNvblNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBjb25maWcubWFya2VySWNvbkFuY2hvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY29uZmlnLm1hcmtlckljb25DbGFzc05hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2VyQ29sb3IgPSBjb25maWcubWFya2VyQ29sb3IgfHwgXCIjM2I4MmY2XCI7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEh0bWwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJtYXAtaWNvblwiIGZpbGw9XCIke21hcmtlckNvbG9yfVwiIHdpZHRoPVwiMzZcIiBoZWlnaHQ9XCIzNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTEyIDBjLTQuMTk4IDAtOCAzLjQwMy04IDcuNjAyIDAgNC4xOTggMy40NjkgOS4yMSA4IDE2LjM5OCA0LjUzMS03LjE4OCA4LTEyLjIgOC0xNi4zOTggMC00LjE5OS0zLjgwMS03LjYwMi04LTcuNjAyem0wIDExYy0xLjY1NyAwLTMtMS4zNDMtMy0zczEuMzQzLTMgMy0zIDMgMS4zNDMgMyAzLTEuMzQzIDMtMyAzelwiLz48L3N2Zz5gO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIExGLmRpdkljb24oe1xuICAgICAgICAgICAgICAgICAgICBodG1sOiBjb25maWcubWFya2VySHRtbCB8fCBkZWZhdWx0SHRtbCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjb25maWcubWFya2VySWNvbkNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IGNvbmZpZy5tYXJrZXJJY29uU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogY29uZmlnLm1hcmtlckljb25BbmNob3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbml0Rm9ybVJlc3RvcmF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtUmVzdG9yYXRpb25IaWRkZW5JbnB1dCA9IHRoaXMuJHJlZnM/LmZvcm1SZXN0b3JhdGlvbklucHV0IHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29uZmlnLnN0YXRlUGF0aCsnX2ZtcmVzdCcpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZXNob3dcIiwgKGV2ZW50KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3RvcmVkU3RhdGUgPSB0aGlzLmdldEZvcm1SZXN0b3JhdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3RvcmVkU3RhdGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvb3JkcyA9IG5ldyBMRi5MYXRMbmcocmVzdG9yZWRTdGF0ZS5sYXQsIHJlc3RvcmVkU3RhdGUubG5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy56b29tID0gcmVzdG9yZWRTdGF0ZS56b29tO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmNvbnRyb2xzLnpvb209cmVzdG9yZWRTdGF0ZS56b29tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhjb29yZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRGb3JtUmVzdG9yYXRpb25TdGF0ZTogZnVuY3Rpb24oY29vcmRzID0gbnVsbCwgem9vbSA9IG51bGwpIHtcblxuICAgICAgICAgICAgICAgIGNvb3JkcyA9IGNvb3JkcyB8fCB0aGlzLmdldEZvcm1SZXN0b3JhdGlvblN0YXRlKCkgfHwgdGhpcy5nZXRDb29yZGluYXRlcygpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb3Jkcy56b29tID0gem9vbSA/PyB0aGlzLm1hcC5nZXRab29tKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybVJlc3RvcmF0aW9uSGlkZGVuSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtUmVzdG9yYXRpb25IaWRkZW5JbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEZvcm1SZXN0b3JhdGlvblN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5mb3JtUmVzdG9yYXRpb25IaWRkZW5JbnB1dCAmJiB0aGlzLmZvcm1SZXN0b3JhdGlvbkhpZGRlbklucHV0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmZvcm1SZXN0b3JhdGlvbkhpZGRlbklucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy9zZXRzIHRoZSBjb29yZGluYXRlcyBvbiB0aGUgc3RhdGUgZnJvbSB0aGUgbWFwIGNlbnRlci5cbiAgICAgICAgICAgIHVwZGF0ZUdlb0pzb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlb0pzb25EYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXM6IFtdXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3SXRlbXMuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyLmdldFJhZGl1cykgeyAgLy8gSXQncyBhIGNpcmNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpcmNsZURhdGEgPSBsYXllci5jaXJjbGVEYXRhIHx8IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBsYXllci5nZXRMYXRMbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBsYXllci5nZXRSYWRpdXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9Kc29uRGF0YS5mZWF0dXJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQ2lyY2xlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGNpcmNsZURhdGEucmFkaXVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBvaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW2NpcmNsZURhdGEuY2VudGVyLmxuZywgY2lyY2xlRGF0YS5jZW50ZXIubGF0XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF5ZXJHZW9Kc29uID0gbGF5ZXIudG9HZW9KU09OKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvSnNvbkRhdGEuZmVhdHVyZXMucHVzaChsYXllckdlb0pzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkd2lyZS5zZXQodGhpcy5jb25maWcuc3RhdGVQYXRoLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHRoaXMubWFya2VyID8gdGhpcy5tYXJrZXIuZ2V0TGF0TG5nKCkubGF0IDogdGhpcy5tYXAuZ2V0Q2VudGVyKCkubGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiB0aGlzLm1hcmtlciA/IHRoaXMubWFya2VyLmdldExhdExuZygpLmxuZyA6IHRoaXMubWFwLmdldENlbnRlcigpLmxuZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb2pzb246IGdlb0pzb25EYXRhXG4gICAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIEdlb0pTT046XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBnZXRHZW9Kc29uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9ICR3aXJlLmdldCh0aGlzLmNvbmZpZy5zdGF0ZVBhdGgpID8/e307XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmdlb2pzb247XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvL1NldHMgY29vcmRpbmF0ZXMgdG8gbWFya2VyIHBvc2l0aW9uLiAoY2FsbHMgc2V0Q29vcmRpbmF0ZXMpXG4gICAgICAgICAgICB1cGRhdGVMb2NhdGlvbjogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgb2xkQ29vcmRpbmF0ZXMgPSB0aGlzLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDb29yZGluYXRlcyA9IHRoaXMubWFwLmdldENlbnRlcigpO1xuICAgICAgICAgICAgICAgIGlmKGNvbmZpZy5jbGlja2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvb3JkaW5hdGVzID0gdGhpcy5tYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbWluQ2hhbmdlID0gY29uZmlnLm1pbkNoYW5nZSB8fCAwLjAwMDAxO1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhvbGRDb29yZGluYXRlcy5sbmcgLSBjdXJyZW50Q29vcmRpbmF0ZXMubG5nKSA+IG1pbkNoYW5nZSB8fFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhvbGRDb29yZGluYXRlcy5sYXQgLSBjdXJyZW50Q29vcmRpbmF0ZXMubGF0KSA+IG1pbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENvb3JkaW5hdGVzKGN1cnJlbnRDb29yZGluYXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TWFya2VyUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICByZW1vdmVNYXA6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtlci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRpbGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5vZmYoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcCA9IG51bGw7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvL2dldHMgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc3RhdGUgcGF0aC5cbiAgICAgICAgICAgIGdldENvb3JkaW5hdGVzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgbG9jYXRpb24gPSB0aGlzLmdldENvb3Jkc0Zyb21TdGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzVmFsaWRDb29yZGluYXRlcyA9IGxvY2F0aW9uLmhhc093blByb3BlcnR5KCdsYXQnKSAmJiBsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eSgnbG5nJykgJiZcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ubGF0ICE9PSBudWxsICYmIGxvY2F0aW9uLmxuZyAhPT0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghaGFzVmFsaWRDb29yZGluYXRlcykge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogY29uZmlnLmRlZmF1bHQubGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBjb25maWcuZGVmYXVsdC5sbmdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBnZXRDb29yZHNGcm9tU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxldCBzdGF0ZVZhbCA9ICR3aXJlLmdldCh0aGlzLmNvbmZpZy5zdGF0ZVBhdGgpO1xuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBzdGF0ZVZhbCA9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVWYWwgPSBKU09OLnBhcnNlKHN0YXRlVmFsKTtcbiAgICAgICAgICAgICAgICBpZihzdGF0ZVZhbCE9PW51bGwgJiYgc3RhdGVWYWwuaGFzT3duUHJvcGVydHkoJ2xhdCcpICYmIHN0YXRlVmFsLmhhc093blByb3BlcnR5KCdsbmcnKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlVmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiB7fVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy9zZXRzIENvb3JkaW5hdGVzIGFuZCB1cGRhdGVzIHRoZSBzdGF0ZSBvYmplY3RcbiAgICAgICAgICAgIC8vY2F1c2VzIGxpdmV3aXJlIHJlZnJlc2ggaWYgbGl2ZUxvY2F0aW9uLnNlbmQgdHJ1ZSBpbiBjb25maWdcbiAgICAgICAgICAgIHNldENvb3JkaW5hdGVzOiBmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGb3JtUmVzdG9yYXRpb25TdGF0ZShjb29yZHMpO1xuXG4gICAgICAgICAgICAgICAgaWYoY29uZmlnLnR5cGUgPT09ICdmaWVsZCcpe1xuICAgICAgICAgICAgICAgICAgICAkd2lyZS5zZXQoY29uZmlnLnN0YXRlUGF0aCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBjb29yZHMubGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBjb29yZHMubG5nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5saXZlTG9jYXRpb24uc2VuZCkge1xuICAgICAgICAgICAgICAgICAgICAkd2lyZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb29yZHM7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhdHRhY2g6IGZ1bmN0aW9uIChlbCwgcmVmcyA9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVmcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzID0gcmVmcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXAoZWwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5tYXApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTWFwKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVNYXAoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJvb3RNYXJnaW46ICcwcHgnLFxuICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDEuMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZmV0Y2hDdXJyZW50TG9jYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ2dlb2xvY2F0aW9uJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihhc3luYyBwb3NpdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSBuZXcgTEYuTGF0TG5nKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm1hcC5mbHlUbyhjdXJyZW50UG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjdXJyZW50IGxvY2F0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0dlb2xvY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGFkZExvY2F0aW9uQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uQnV0dG9uLmlubmVySFRNTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCI+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMTIgMEM4LjI1IDAgNSAzLjI1IDUgN2MwIDUuMjUgNyAxMyA3IDEzczctNy43NSA3LTEzYzAtMy43NS0zLjI1LTctNy03em0wIDEwYy0xLjY2IDAtMy0xLjM0LTMtM3MxLjM0LTMgMy0zIDMgMS4zNCAzIDMtMS4zNCAzLTMgM3ptMC01Yy0xLjExIDAtMiAuODktMiAycy44OSAyIDIgMiAyLS44OSAyLTItLjg5LTItMi0yelwiLz48L3N2Zz4nO1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICAgICAgICBsb2NhdGlvbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXAtbG9jYXRpb24tYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgbG9jYXRpb25CdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMuZmV0Y2hDdXJyZW50TG9jYXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5nZXRDb250YWluZXIoKS5hcHBlbmRDaGlsZChsb2NhdGlvbkJ1dHRvbik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZXRNYXJrZXJSYW5nZTogZnVuY3Rpb24oY29vcmRpbmF0ZXMpIHtcblxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5jb25maWcuY2xpY2thYmxlICYmICF0aGlzLm1hcmtlcikgfHwgIXRoaXMuY29uZmlnLnJhbmdlU2VsZWN0RmllbGRTdGF0ZVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gcGFyc2VJbnQoJHdpcmUuZ2V0KHRoaXMucmFuZ2VTZWxlY3RGaWVsZFN0YXRlUGF0aCkgIHx8IDApO1xuICAgICAgICAgICAgICAgIGlmICghY29vcmRpbmF0ZXMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlcyA9IHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2lyY2xlU3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyNmMDMnLFxuICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41LFxuICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yYW5nZUNpcmNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhbmdlQ2lyY2xlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlQ2lyY2xlID0gTEYuY2lyY2xlKGNvb3JkaW5hdGVzLCBjaXJjbGVTdHlsZSkuYWRkVG8odGhpcy5tYXApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kd2lyZSA9ICR3aXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VTZWxlY3RGaWVsZFN0YXRlUGF0aCA9IGNvbmZpZy5yYW5nZVNlbGVjdEZpZWxkU3RhdGVQYXRoO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEZvcm1SZXN0b3JhdGlvbigpO1xuICAgICAgICAgICAgICAgIGxldCB0aGF0PXRoaXNcbiAgICAgICAgICAgICAgICAkd2lyZS5vbigncmVmcmVzaE1hcCcsIHRoaXMucmVmcmVzaE1hcC5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICR3aXJlLndhdGNoKGNvbmZpZy5zdGF0ZVBhdGgsIG5ld1ZhbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBuZXdWYWwgPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWw9SlNPTi5wYXJzZShuZXdWYWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnVwZGF0ZU1hcmtlcihuZXdWYWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHdpcmUud2F0Y2goY29uZmlnLnJhbmdlU2VsZWN0RmllbGRTdGF0ZVBhdGgsIG5ld1ZhbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQudXBkYXRlTWFya2VyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvL3NldHMgTWFya2VyIHRvIENvb3JkaW5hdGUgcG9zaXRpb24uXG4gICAgICAgICAgICB1cGRhdGVNYXJrZXI6IGZ1bmN0aW9uKGNvb3Jkcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5zaG93TWFya2VyICYmIHRoaXMubWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFjb29yZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMgPSB0aGlzLmdldENvb3JkaW5hdGVzKClcbiAgICAgICAgICAgICAgICAgICAgaWYoY29vcmRzLmxhdClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJrZXIuc2V0TGF0TG5nKGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE1hcmtlclJhbmdlKGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICByZWZyZXNoTWFwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5mbHlUbyh0aGlzLmdldENvb3JkaW5hdGVzKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHdpbmRvdy5tYXBQaWNrZXIgPSBtYXBQaWNrZXI7XG5cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ21hcC1zY3JpcHQtbG9hZGVkJykpO1xufSk7XG4iLCAiTC5Db250cm9sLkZ1bGxzY3JlZW4gPSBMLkNvbnRyb2wuZXh0ZW5kKHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAnZmFsc2UnOiAnVmlldyBGdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICd0cnVlJzogJ0V4aXQgRnVsbHNjcmVlbidcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvbkFkZDogZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtY29udHJvbC1mdWxsc2NyZWVuIGxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbCcpO1xuXG4gICAgICAgIHRoaXMubGluayA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCAnbGVhZmxldC1jb250cm9sLWZ1bGxzY3JlZW4tYnV0dG9uIGxlYWZsZXQtYmFyLXBhcnQnLCBjb250YWluZXIpO1xuICAgICAgICB0aGlzLmxpbmsuaHJlZiA9ICcjJztcblxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX21hcC5vbignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuX3RvZ2dsZVRpdGxlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlVGl0bGUoKTtcblxuICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMubGluaywgJ2NsaWNrJywgdGhpcy5fY2xpY2ssIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfSxcblxuICAgIF9jbGljazogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7XG4gICAgICAgIEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIHRoaXMuX21hcC50b2dnbGVGdWxsc2NyZWVuKHRoaXMub3B0aW9ucyk7XG4gICAgfSxcblxuICAgIF90b2dnbGVUaXRsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubGluay50aXRsZSA9IHRoaXMub3B0aW9ucy50aXRsZVt0aGlzLl9tYXAuaXNGdWxsc2NyZWVuKCldO1xuICAgIH1cbn0pO1xuXG5MLk1hcC5pbmNsdWRlKHtcbiAgICBpc0Z1bGxzY3JlZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRnVsbHNjcmVlbiB8fCBmYWxzZTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlRnVsbHNjcmVlbjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIGlmICh0aGlzLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBzZXVkb0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlUHNldWRvRnVsbHNjcmVlbihjb250YWluZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVQc2V1ZG9GdWxsc2NyZWVuKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBzZXVkb0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVQc2V1ZG9GdWxsc2NyZWVuKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKEVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZVBzZXVkb0Z1bGxzY3JlZW4oY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSxcblxuICAgIF9lbmFibGVQc2V1ZG9GdWxsc2NyZWVuOiBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LXBzZXVkby1mdWxsc2NyZWVuJyk7XG4gICAgICAgIHRoaXMuX3NldEZ1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgIHRoaXMuZmlyZSgnZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgIH0sXG5cbiAgICBfZGlzYWJsZVBzZXVkb0Z1bGxzY3JlZW46IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGNvbnRhaW5lciwgJ2xlYWZsZXQtcHNldWRvLWZ1bGxzY3JlZW4nKTtcbiAgICAgICAgdGhpcy5fc2V0RnVsbHNjcmVlbihmYWxzZSk7XG4gICAgICAgIHRoaXMuZmlyZSgnZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgIH0sXG5cbiAgICBfc2V0RnVsbHNjcmVlbjogZnVuY3Rpb24oZnVsbHNjcmVlbikge1xuICAgICAgICB0aGlzLl9pc0Z1bGxzY3JlZW4gPSBmdWxsc2NyZWVuO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5nZXRDb250YWluZXIoKTtcbiAgICAgICAgaWYgKGZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWZ1bGxzY3JlZW4tb24nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWZ1bGxzY3JlZW4tb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludmFsaWRhdGVTaXplKCk7XG4gICAgfSxcblxuICAgIF9vbkZ1bGxzY3JlZW5DaGFuZ2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBmdWxsc2NyZWVuRWxlbWVudCA9XG4gICAgICAgICAgICBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHxcbiAgICAgICAgICAgIGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50O1xuXG4gICAgICAgIGlmIChmdWxsc2NyZWVuRWxlbWVudCA9PT0gdGhpcy5nZXRDb250YWluZXIoKSAmJiAhdGhpcy5faXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRGdWxsc2NyZWVuKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5maXJlKCdmdWxsc2NyZWVuY2hhbmdlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZnVsbHNjcmVlbkVsZW1lbnQgIT09IHRoaXMuZ2V0Q29udGFpbmVyKCkgJiYgdGhpcy5faXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRGdWxsc2NyZWVuKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZSgnZnVsbHNjcmVlbmNoYW5nZScpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkwuTWFwLm1lcmdlT3B0aW9ucyh7XG4gICAgZnVsbHNjcmVlbkNvbnRyb2w6IGZhbHNlXG59KTtcblxuTC5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbkNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy5mdWxsc2NyZWVuQ29udHJvbCA9IG5ldyBMLkNvbnRyb2wuRnVsbHNjcmVlbih0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbkNvbnRyb2wpO1xuICAgICAgICB0aGlzLmFkZENvbnRyb2wodGhpcy5mdWxsc2NyZWVuQ29udHJvbCk7XG4gICAgfVxuXG4gICAgdmFyIGZ1bGxzY3JlZW5jaGFuZ2U7XG5cbiAgICBpZiAoJ29uZnVsbHNjcmVlbmNoYW5nZScgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZnVsbHNjcmVlbmNoYW5nZSA9ICdmdWxsc2NyZWVuY2hhbmdlJztcbiAgICB9IGVsc2UgaWYgKCdvbm1vemZ1bGxzY3JlZW5jaGFuZ2UnIGluIGRvY3VtZW50KSB7XG4gICAgICAgIGZ1bGxzY3JlZW5jaGFuZ2UgPSAnbW96ZnVsbHNjcmVlbmNoYW5nZSc7XG4gICAgfSBlbHNlIGlmICgnb253ZWJraXRmdWxsc2NyZWVuY2hhbmdlJyBpbiBkb2N1bWVudCkge1xuICAgICAgICBmdWxsc2NyZWVuY2hhbmdlID0gJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnO1xuICAgIH0gZWxzZSBpZiAoJ29ubXNmdWxsc2NyZWVuY2hhbmdlJyBpbiBkb2N1bWVudCkge1xuICAgICAgICBmdWxsc2NyZWVuY2hhbmdlID0gJ01TRnVsbHNjcmVlbkNoYW5nZSc7XG4gICAgfVxuXG4gICAgaWYgKGZ1bGxzY3JlZW5jaGFuZ2UpIHtcbiAgICAgICAgdmFyIG9uRnVsbHNjcmVlbkNoYW5nZSA9IEwuYmluZCh0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMud2hlblJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEwuRG9tRXZlbnQub24oZG9jdW1lbnQsIGZ1bGxzY3JlZW5jaGFuZ2UsIG9uRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ3VubG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEwuRG9tRXZlbnQub2ZmKGRvY3VtZW50LCBmdWxsc2NyZWVuY2hhbmdlLCBvbkZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuTC5jb250cm9sLmZ1bGxzY3JlZW4gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgTC5Db250cm9sLkZ1bGxzY3JlZW4ob3B0aW9ucyk7XG59O1xuIiwgIi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVDbGVhcjtcbiIsICIvKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcTtcbiIsICJ2YXIgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzb2NJbmRleE9mO1xuIiwgInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZURlbGV0ZTtcbiIsICJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlR2V0O1xuIiwgInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlSGFzO1xuIiwgInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZVNldDtcbiIsICJ2YXIgbGlzdENhY2hlQ2xlYXIgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVDbGVhcicpLFxuICAgIGxpc3RDYWNoZURlbGV0ZSA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZURlbGV0ZScpLFxuICAgIGxpc3RDYWNoZUdldCA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUdldCcpLFxuICAgIGxpc3RDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUhhcycpLFxuICAgIGxpc3RDYWNoZVNldCA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZVNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gTGlzdENhY2hlO1xuIiwgInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0NsZWFyO1xuIiwgIi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0RlbGV0ZTtcbiIsICIvKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RhY2tHZXQ7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0hhcztcbiIsICIvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZyZWVHbG9iYWw7XG4iLCAidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iLCAidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwgInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBnZXRSYXdUYWcgPSByZXF1aXJlKCcuL19nZXRSYXdUYWcnKSxcbiAgICBvYmplY3RUb1N0cmluZyA9IHJlcXVpcmUoJy4vX29iamVjdFRvU3RyaW5nJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRUYWc7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iLCAidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvbjtcbiIsICJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb3JlSnNEYXRhO1xuIiwgInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiIsICJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzTWFza2VkID0gcmVxdWlyZSgnLi9faXNNYXNrZWQnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICB0b1NvdXJjZSA9IHJlcXVpcmUoJy4vX3RvU291cmNlJyk7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmF0aXZlO1xuIiwgIi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZhbHVlO1xuIiwgInZhciBiYXNlSXNOYXRpdmUgPSByZXF1aXJlKCcuL19iYXNlSXNOYXRpdmUnKSxcbiAgICBnZXRWYWx1ZSA9IHJlcXVpcmUoJy4vX2dldFZhbHVlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlO1xuIiwgInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKSxcbiAgICByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXA7XG4iLCAidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdGl2ZUNyZWF0ZTtcbiIsICJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hDbGVhcjtcbiIsICIvKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hEZWxldGU7XG4iLCAidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaEdldDtcbiIsICJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoSGFzO1xuIiwgInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaFNldDtcbiIsICJ2YXIgaGFzaENsZWFyID0gcmVxdWlyZSgnLi9faGFzaENsZWFyJyksXG4gICAgaGFzaERlbGV0ZSA9IHJlcXVpcmUoJy4vX2hhc2hEZWxldGUnKSxcbiAgICBoYXNoR2V0ID0gcmVxdWlyZSgnLi9faGFzaEdldCcpLFxuICAgIGhhc2hIYXMgPSByZXF1aXJlKCcuL19oYXNoSGFzJyksXG4gICAgaGFzaFNldCA9IHJlcXVpcmUoJy4vX2hhc2hTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gSGFzaDtcbiIsICJ2YXIgSGFzaCA9IHJlcXVpcmUoJy4vX0hhc2gnKSxcbiAgICBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlQ2xlYXI7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzS2V5YWJsZTtcbiIsICJ2YXIgaXNLZXlhYmxlID0gcmVxdWlyZSgnLi9faXNLZXlhYmxlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRNYXBEYXRhO1xuIiwgInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZURlbGV0ZTtcbiIsICJ2YXIgZ2V0TWFwRGF0YSA9IHJlcXVpcmUoJy4vX2dldE1hcERhdGEnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlR2V0O1xuIiwgInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlSGFzO1xuIiwgInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVTZXQ7XG4iLCAidmFyIG1hcENhY2hlQ2xlYXIgPSByZXF1aXJlKCcuL19tYXBDYWNoZUNsZWFyJyksXG4gICAgbWFwQ2FjaGVEZWxldGUgPSByZXF1aXJlKCcuL19tYXBDYWNoZURlbGV0ZScpLFxuICAgIG1hcENhY2hlR2V0ID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVHZXQnKSxcbiAgICBtYXBDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX21hcENhY2hlSGFzJyksXG4gICAgbWFwQ2FjaGVTZXQgPSByZXF1aXJlKCcuL19tYXBDYWNoZVNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXBDYWNoZTtcbiIsICJ2YXIgTGlzdENhY2hlID0gcmVxdWlyZSgnLi9fTGlzdENhY2hlJyksXG4gICAgTWFwID0gcmVxdWlyZSgnLi9fTWFwJyksXG4gICAgTWFwQ2FjaGUgPSByZXF1aXJlKCcuL19NYXBDYWNoZScpO1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja1NldDtcbiIsICJ2YXIgTGlzdENhY2hlID0gcmVxdWlyZSgnLi9fTGlzdENhY2hlJyksXG4gICAgc3RhY2tDbGVhciA9IHJlcXVpcmUoJy4vX3N0YWNrQ2xlYXInKSxcbiAgICBzdGFja0RlbGV0ZSA9IHJlcXVpcmUoJy4vX3N0YWNrRGVsZXRlJyksXG4gICAgc3RhY2tHZXQgPSByZXF1aXJlKCcuL19zdGFja0dldCcpLFxuICAgIHN0YWNrSGFzID0gcmVxdWlyZSgnLi9fc3RhY2tIYXMnKSxcbiAgICBzdGFja1NldCA9IHJlcXVpcmUoJy4vX3N0YWNrU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxubW9kdWxlLmV4cG9ydHMgPSBTdGFjaztcbiIsICJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZVByb3BlcnR5O1xuIiwgInZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAqIHZhbHVlIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUFzc2lnblZhbHVlO1xuIiwgInZhciBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKSxcbiAgICBlcSA9IHJlcXVpcmUoJy4vZXEnKTtcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ25NZXJnZVZhbHVlO1xuIiwgIi8qKlxuICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUJhc2VGb3I7XG4iLCAidmFyIGNyZWF0ZUJhc2VGb3IgPSByZXF1aXJlKCcuL19jcmVhdGVCYXNlRm9yJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG52YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlRm9yO1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgaWYgKGlzRGVlcCkge1xuICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICBidWZmZXIuY29weShyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lQnVmZmVyO1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVpbnQ4QXJyYXk7XG4iLCAidmFyIFVpbnQ4QXJyYXkgPSByZXF1aXJlKCcuL19VaW50OEFycmF5Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9uZUFycmF5QnVmZmVyO1xuIiwgInZhciBjbG9uZUFycmF5QnVmZmVyID0gcmVxdWlyZSgnLi9fY2xvbmVBcnJheUJ1ZmZlcicpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lVHlwZWRBcnJheTtcbiIsICIvKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5QXJyYXk7XG4iLCAidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG52YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgfVxuICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VDcmVhdGU7XG4iLCAiLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcbiIsICJ2YXIgb3ZlckFyZyA9IHJlcXVpcmUoJy4vX292ZXJBcmcnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Byb3RvdHlwZTtcbiIsICJ2YXIgYmFzZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX2Jhc2VDcmVhdGUnKSxcbiAgICBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAqL1xuZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgOiB7fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbml0Q2xvbmVPYmplY3Q7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzQXJndW1lbnRzO1xuIiwgInZhciBiYXNlSXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL19iYXNlSXNBcmd1bWVudHMnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FyZ3VtZW50cztcbiIsICIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuIiwgIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0xlbmd0aDtcbiIsICJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5TGlrZTtcbiIsICJ2YXIgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuIiwgIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHViRmFsc2U7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290JyksXG4gICAgc3R1YkZhbHNlID0gcmVxdWlyZSgnLi9zdHViRmFsc2UnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQnVmZmVyO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNUeXBlZEFycmF5O1xuIiwgIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iLCAidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICBpZiAodHlwZXMpIHtcbiAgICAgIHJldHVybiB0eXBlcztcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbm9kZVV0aWw7XG4iLCAidmFyIGJhc2VJc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL19iYXNlSXNUeXBlZEFycmF5JyksXG4gICAgYmFzZVVuYXJ5ID0gcmVxdWlyZSgnLi9fYmFzZVVuYXJ5JyksXG4gICAgbm9kZVV0aWwgPSByZXF1aXJlKCcuL19ub2RlVXRpbCcpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc1R5cGVkQXJyYXk7XG4iLCAiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2FmZUdldDtcbiIsICJ2YXIgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduVmFsdWU7XG4iLCAidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBiYXNlQXNzaWduVmFsdWUgPSByZXF1aXJlKCcuL19iYXNlQXNzaWduVmFsdWUnKTtcblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05ldykge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29weU9iamVjdDtcbiIsICIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUaW1lcztcbiIsICIvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJbmRleDtcbiIsICJ2YXIgYmFzZVRpbWVzID0gcmVxdWlyZSgnLi9fYmFzZVRpbWVzJyksXG4gICAgaXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL2lzQXJndW1lbnRzJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzQnVmZmVyID0gcmVxdWlyZSgnLi9pc0J1ZmZlcicpLFxuICAgIGlzSW5kZXggPSByZXF1aXJlKCcuL19pc0luZGV4JyksXG4gICAgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9pc1R5cGVkQXJyYXknKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TGlrZUtleXM7XG4iLCAiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmF0aXZlS2V5c0luO1xuIiwgInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyksXG4gICAgbmF0aXZlS2V5c0luID0gcmVxdWlyZSgnLi9fbmF0aXZlS2V5c0luJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgfVxuICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUtleXNJbjtcbiIsICJ2YXIgYXJyYXlMaWtlS2V5cyA9IHJlcXVpcmUoJy4vX2FycmF5TGlrZUtleXMnKSxcbiAgICBiYXNlS2V5c0luID0gcmVxdWlyZSgnLi9fYmFzZUtleXNJbicpLFxuICAgIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzSW4obmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqL1xuZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBrZXlzSW47XG4iLCAidmFyIGNvcHlPYmplY3QgPSByZXF1aXJlKCcuL19jb3B5T2JqZWN0JyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gKi9cbmZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvUGxhaW5PYmplY3Q7XG4iLCAidmFyIGFzc2lnbk1lcmdlVmFsdWUgPSByZXF1aXJlKCcuL19hc3NpZ25NZXJnZVZhbHVlJyksXG4gICAgY2xvbmVCdWZmZXIgPSByZXF1aXJlKCcuL19jbG9uZUJ1ZmZlcicpLFxuICAgIGNsb25lVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vX2Nsb25lVHlwZWRBcnJheScpLFxuICAgIGNvcHlBcnJheSA9IHJlcXVpcmUoJy4vX2NvcHlBcnJheScpLFxuICAgIGluaXRDbG9uZU9iamVjdCA9IHJlcXVpcmUoJy4vX2luaXRDbG9uZU9iamVjdCcpLFxuICAgIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0FycmF5TGlrZU9iamVjdCA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2VPYmplY3QnKSxcbiAgICBpc0J1ZmZlciA9IHJlcXVpcmUoJy4vaXNCdWZmZXInKSxcbiAgICBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJy4vaXNQbGFpbk9iamVjdCcpLFxuICAgIGlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vaXNUeXBlZEFycmF5JyksXG4gICAgc2FmZUdldCA9IHJlcXVpcmUoJy4vX3NhZmVHZXQnKSxcbiAgICB0b1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnLi90b1BsYWluT2JqZWN0Jyk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICBpZiAoc3RhY2tlZCkge1xuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc0NvbW1vbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgfVxuICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZU1lcmdlRGVlcDtcbiIsICJ2YXIgU3RhY2sgPSByZXF1aXJlKCcuL19TdGFjaycpLFxuICAgIGFzc2lnbk1lcmdlVmFsdWUgPSByZXF1aXJlKCcuL19hc3NpZ25NZXJnZVZhbHVlJyksXG4gICAgYmFzZUZvciA9IHJlcXVpcmUoJy4vX2Jhc2VGb3InKSxcbiAgICBiYXNlTWVyZ2VEZWVwID0gcmVxdWlyZSgnLi9fYmFzZU1lcmdlRGVlcCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGtleXNJbiA9IHJlcXVpcmUoJy4va2V5c0luJyksXG4gICAgc2FmZUdldCA9IHJlcXVpcmUoJy4vX3NhZmVHZXQnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9LCBrZXlzSW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VNZXJnZTtcbiIsICIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlkZW50aXR5O1xuIiwgIi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcHBseTtcbiIsICJ2YXIgYXBwbHkgPSByZXF1aXJlKCcuL19hcHBseScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJSZXN0O1xuIiwgIi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnN0YW50O1xuIiwgInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsICIvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG52YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvcnRPdXQ7XG4iLCAidmFyIGJhc2VTZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VTZXRUb1N0cmluZycpLFxuICAgIHNob3J0T3V0ID0gcmVxdWlyZSgnLi9fc2hvcnRPdXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb1N0cmluZztcbiIsICJ2YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5JyksXG4gICAgb3ZlclJlc3QgPSByZXF1aXJlKCcuL19vdmVyUmVzdCcpLFxuICAgIHNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fc2V0VG9TdHJpbmcnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVJlc3Q7XG4iLCAidmFyIGVxID0gcmVxdWlyZSgnLi9lcScpLFxuICAgIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpLFxuICAgIGlzSW5kZXggPSByZXF1aXJlKCcuL19pc0luZGV4JyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0l0ZXJhdGVlQ2FsbDtcbiIsICJ2YXIgYmFzZVJlc3QgPSByZXF1aXJlKCcuL19iYXNlUmVzdCcpLFxuICAgIGlzSXRlcmF0ZWVDYWxsID0gcmVxdWlyZSgnLi9faXNJdGVyYXRlZUNhbGwnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICBsZW5ndGggPSAxO1xuICAgIH1cbiAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBc3NpZ25lcjtcbiIsICJ2YXIgYmFzZU1lcmdlID0gcmVxdWlyZSgnLi9fYmFzZU1lcmdlJyksXG4gICAgY3JlYXRlQXNzaWduZXIgPSByZXF1aXJlKCcuL19jcmVhdGVBc3NpZ25lcicpO1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC41LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHtcbiAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAqIH07XG4gKlxuICogdmFyIG90aGVyID0ge1xuICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICogfTtcbiAqXG4gKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICovXG52YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZTtcbiIsICJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNTeW1ib2w7XG4iLCAidmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzS2V5O1xuIiwgInZhciBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBFeHBvc2UgYE1hcENhY2hlYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplO1xuIiwgInZhciBtZW1vaXplID0gcmVxdWlyZSgnLi9tZW1vaXplJyk7XG5cbi8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbnZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH0pO1xuXG4gIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplQ2FwcGVkO1xuIiwgInZhciBtZW1vaXplQ2FwcGVkID0gcmVxdWlyZSgnLi9fbWVtb2l6ZUNhcHBlZCcpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaW5nVG9QYXRoO1xuIiwgIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlNYXA7XG4iLCAidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGFycmF5TWFwID0gcmVxdWlyZSgnLi9fYXJyYXlNYXAnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDA7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRvU3RyaW5nO1xuIiwgInZhciBiYXNlVG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlVG9TdHJpbmcnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU3RyaW5nO1xuIiwgInZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNLZXkgPSByZXF1aXJlKCcuL19pc0tleScpLFxuICAgIHN0cmluZ1RvUGF0aCA9IHJlcXVpcmUoJy4vX3N0cmluZ1RvUGF0aCcpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKipcbiAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhc3RQYXRoO1xuIiwgInZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICovXG5mdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9LZXk7XG4iLCAidmFyIGNhc3RQYXRoID0gcmVxdWlyZSgnLi9fY2FzdFBhdGgnKSxcbiAgICB0b0tleSA9IHJlcXVpcmUoJy4vX3RvS2V5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgfVxuICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldDtcbiIsICJ2YXIgYmFzZUdldCA9IHJlcXVpcmUoJy4vX2Jhc2VHZXQnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gKiAvLyA9PiAnZGVmYXVsdCdcbiAqL1xuZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldDtcbiIsICIhZnVuY3Rpb24odCxpKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1pKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShpKToodD10fHxzZWxmKS5SQnVzaD1pKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQscixlLGEsaCl7IWZ1bmN0aW9uIHQobixyLGUsYSxoKXtmb3IoO2E+ZTspe2lmKGEtZT42MDApe3ZhciBvPWEtZSsxLHM9ci1lKzEsbD1NYXRoLmxvZyhvKSxmPS41Kk1hdGguZXhwKDIqbC8zKSx1PS41Kk1hdGguc3FydChsKmYqKG8tZikvbykqKHMtby8yPDA/LTE6MSksbT1NYXRoLm1heChlLE1hdGguZmxvb3Ioci1zKmYvbyt1KSksYz1NYXRoLm1pbihhLE1hdGguZmxvb3Iocisoby1zKSpmL28rdSkpO3QobixyLG0sYyxoKX12YXIgcD1uW3JdLGQ9ZSx4PWE7Zm9yKGkobixlLHIpLGgoblthXSxwKT4wJiZpKG4sZSxhKTtkPHg7KXtmb3IoaShuLGQseCksZCsrLHgtLTtoKG5bZF0scCk8MDspZCsrO2Zvcig7aChuW3hdLHApPjA7KXgtLX0wPT09aChuW2VdLHApP2kobixlLHgpOmkobiwrK3gsYSkseDw9ciYmKGU9eCsxKSxyPD14JiYoYT14LTEpfX0odCxyLGV8fDAsYXx8dC5sZW5ndGgtMSxofHxuKX1mdW5jdGlvbiBpKHQsaSxuKXt2YXIgcj10W2ldO3RbaV09dFtuXSx0W25dPXJ9ZnVuY3Rpb24gbih0LGkpe3JldHVybiB0PGk/LTE6dD5pPzE6MH12YXIgcj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD05KSx0aGlzLl9tYXhFbnRyaWVzPU1hdGgubWF4KDQsdCksdGhpcy5fbWluRW50cmllcz1NYXRoLm1heCgyLE1hdGguY2VpbCguNCp0aGlzLl9tYXhFbnRyaWVzKSksdGhpcy5jbGVhcigpfTtmdW5jdGlvbiBlKHQsaSxuKXtpZighbilyZXR1cm4gaS5pbmRleE9mKHQpO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKWlmKG4odCxpW3JdKSlyZXR1cm4gcjtyZXR1cm4tMX1mdW5jdGlvbiBhKHQsaSl7aCh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsaSx0KX1mdW5jdGlvbiBoKHQsaSxuLHIsZSl7ZXx8KGU9cChudWxsKSksZS5taW5YPTEvMCxlLm1pblk9MS8wLGUubWF4WD0tMS8wLGUubWF4WT0tMS8wO2Zvcih2YXIgYT1pO2E8bjthKyspe3ZhciBoPXQuY2hpbGRyZW5bYV07byhlLHQubGVhZj9yKGgpOmgpfXJldHVybiBlfWZ1bmN0aW9uIG8odCxpKXtyZXR1cm4gdC5taW5YPU1hdGgubWluKHQubWluWCxpLm1pblgpLHQubWluWT1NYXRoLm1pbih0Lm1pblksaS5taW5ZKSx0Lm1heFg9TWF0aC5tYXgodC5tYXhYLGkubWF4WCksdC5tYXhZPU1hdGgubWF4KHQubWF4WSxpLm1heFkpLHR9ZnVuY3Rpb24gcyh0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfWZ1bmN0aW9uIGwodCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX1mdW5jdGlvbiBmKHQpe3JldHVybih0Lm1heFgtdC5taW5YKSoodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5tYXhYLXQubWluWCsodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gbSh0LGkpe3JldHVybiB0Lm1pblg8PWkubWluWCYmdC5taW5ZPD1pLm1pblkmJmkubWF4WDw9dC5tYXhYJiZpLm1heFk8PXQubWF4WX1mdW5jdGlvbiBjKHQsaSl7cmV0dXJuIGkubWluWDw9dC5tYXhYJiZpLm1pblk8PXQubWF4WSYmaS5tYXhYPj10Lm1pblgmJmkubWF4WT49dC5taW5ZfWZ1bmN0aW9uIHAodCl7cmV0dXJue2NoaWxkcmVuOnQsaGVpZ2h0OjEsbGVhZjohMCxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfX1mdW5jdGlvbiBkKGksbixyLGUsYSl7Zm9yKHZhciBoPVtuLHJdO2gubGVuZ3RoOylpZighKChyPWgucG9wKCkpLShuPWgucG9wKCkpPD1lKSl7dmFyIG89bitNYXRoLmNlaWwoKHItbikvZS8yKSplO3QoaSxvLG4scixhKSxoLnB1c2gobixvLG8scil9fXJldHVybiByLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxsKHRoaXMuZGF0YSxbXSl9LHIucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGEsbj1bXTtpZighYyh0LGkpKXJldHVybiBuO2Zvcih2YXIgcj10aGlzLnRvQkJveCxlPVtdO2k7KXtmb3IodmFyIGE9MDthPGkuY2hpbGRyZW4ubGVuZ3RoO2ErKyl7dmFyIGg9aS5jaGlsZHJlblthXSxvPWkubGVhZj9yKGgpOmg7Yyh0LG8pJiYoaS5sZWFmP24ucHVzaChoKTptKHQsbyk/dGhpcy5fYWxsKGgsbik6ZS5wdXNoKGgpKX1pPWUucG9wKCl9cmV0dXJuIG59LHIucHJvdG90eXBlLmNvbGxpZGVzPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YTtpZighYyh0LGkpKXJldHVybiExO2Zvcih2YXIgbj1bXTtpOyl7Zm9yKHZhciByPTA7cjxpLmNoaWxkcmVuLmxlbmd0aDtyKyspe3ZhciBlPWkuY2hpbGRyZW5bcl0sYT1pLmxlYWY/dGhpcy50b0JCb3goZSk6ZTtpZihjKHQsYSkpe2lmKGkubGVhZnx8bSh0LGEpKXJldHVybiEwO24ucHVzaChlKX19aT1uLnBvcCgpfXJldHVybiExfSxyLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy5pbnNlcnQodFtpXSk7cmV0dXJuIHRoaXN9dmFyIG49dGhpcy5fYnVpbGQodC5zbGljZSgpLDAsdC5sZW5ndGgtMSwwKTtpZih0aGlzLmRhdGEuY2hpbGRyZW4ubGVuZ3RoKWlmKHRoaXMuZGF0YS5oZWlnaHQ9PT1uLmhlaWdodCl0aGlzLl9zcGxpdFJvb3QodGhpcy5kYXRhLG4pO2Vsc2V7aWYodGhpcy5kYXRhLmhlaWdodDxuLmhlaWdodCl7dmFyIHI9dGhpcy5kYXRhO3RoaXMuZGF0YT1uLG49cn10aGlzLl9pbnNlcnQobix0aGlzLmRhdGEuaGVpZ2h0LW4uaGVpZ2h0LTEsITApfWVsc2UgdGhpcy5kYXRhPW47cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5faW5zZXJ0KHQsdGhpcy5kYXRhLmhlaWdodC0xKSx0aGlzfSxyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGE9cChbXSksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuIHRoaXM7Zm9yKHZhciBuLHIsYSxoPXRoaXMuZGF0YSxvPXRoaXMudG9CQm94KHQpLHM9W10sbD1bXTtofHxzLmxlbmd0aDspe2lmKGh8fChoPXMucG9wKCkscj1zW3MubGVuZ3RoLTFdLG49bC5wb3AoKSxhPSEwKSxoLmxlYWYpe3ZhciBmPWUodCxoLmNoaWxkcmVuLGkpO2lmKC0xIT09ZilyZXR1cm4gaC5jaGlsZHJlbi5zcGxpY2UoZiwxKSxzLnB1c2goaCksdGhpcy5fY29uZGVuc2UocyksdGhpc31hfHxoLmxlYWZ8fCFtKGgsbyk/cj8obisrLGg9ci5jaGlsZHJlbltuXSxhPSExKTpoPW51bGw6KHMucHVzaChoKSxsLnB1c2gobiksbj0wLHI9aCxoPWguY2hpbGRyZW5bMF0pfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS50b0JCb3g9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHIucHJvdG90eXBlLmNvbXBhcmVNaW5YPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9LHIucHJvdG90eXBlLmNvbXBhcmVNaW5ZPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9LHIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LHIucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGE9dCx0aGlzfSxyLnByb3RvdHlwZS5fYWxsPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBuPVtdO3Q7KXQubGVhZj9pLnB1c2guYXBwbHkoaSx0LmNoaWxkcmVuKTpuLnB1c2guYXBwbHkobix0LmNoaWxkcmVuKSx0PW4ucG9wKCk7cmV0dXJuIGl9LHIucHJvdG90eXBlLl9idWlsZD1mdW5jdGlvbih0LGksbixyKXt2YXIgZSxoPW4taSsxLG89dGhpcy5fbWF4RW50cmllcztpZihoPD1vKXJldHVybiBhKGU9cCh0LnNsaWNlKGksbisxKSksdGhpcy50b0JCb3gpLGU7cnx8KHI9TWF0aC5jZWlsKE1hdGgubG9nKGgpL01hdGgubG9nKG8pKSxvPU1hdGguY2VpbChoL01hdGgucG93KG8sci0xKSkpLChlPXAoW10pKS5sZWFmPSExLGUuaGVpZ2h0PXI7dmFyIHM9TWF0aC5jZWlsKGgvbyksbD1zKk1hdGguY2VpbChNYXRoLnNxcnQobykpO2QodCxpLG4sbCx0aGlzLmNvbXBhcmVNaW5YKTtmb3IodmFyIGY9aTtmPD1uO2YrPWwpe3ZhciB1PU1hdGgubWluKGYrbC0xLG4pO2QodCxmLHUscyx0aGlzLmNvbXBhcmVNaW5ZKTtmb3IodmFyIG09ZjttPD11O20rPXMpe3ZhciBjPU1hdGgubWluKG0rcy0xLHUpO2UuY2hpbGRyZW4ucHVzaCh0aGlzLl9idWlsZCh0LG0sYyxyLTEpKX19cmV0dXJuIGEoZSx0aGlzLnRvQkJveCksZX0sci5wcm90b3R5cGUuX2Nob29zZVN1YnRyZWU9ZnVuY3Rpb24odCxpLG4scil7Zm9yKDtyLnB1c2goaSksIWkubGVhZiYmci5sZW5ndGgtMSE9PW47KXtmb3IodmFyIGU9MS8wLGE9MS8wLGg9dm9pZCAwLG89MDtvPGkuY2hpbGRyZW4ubGVuZ3RoO28rKyl7dmFyIHM9aS5jaGlsZHJlbltvXSxsPWYocyksdT0obT10LGM9cywoTWF0aC5tYXgoYy5tYXhYLG0ubWF4WCktTWF0aC5taW4oYy5taW5YLG0ubWluWCkpKihNYXRoLm1heChjLm1heFksbS5tYXhZKS1NYXRoLm1pbihjLm1pblksbS5taW5ZKSktbCk7dTxhPyhhPXUsZT1sPGU/bDplLGg9cyk6dT09PWEmJmw8ZSYmKGU9bCxoPXMpfWk9aHx8aS5jaGlsZHJlblswXX12YXIgbSxjO3JldHVybiBpfSxyLnByb3RvdHlwZS5faW5zZXJ0PWZ1bmN0aW9uKHQsaSxuKXt2YXIgcj1uP3Q6dGhpcy50b0JCb3godCksZT1bXSxhPXRoaXMuX2Nob29zZVN1YnRyZWUocix0aGlzLmRhdGEsaSxlKTtmb3IoYS5jaGlsZHJlbi5wdXNoKHQpLG8oYSxyKTtpPj0wJiZlW2ldLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdChlLGkpLGktLTt0aGlzLl9hZGp1c3RQYXJlbnRCQm94ZXMocixlLGkpfSxyLnByb3RvdHlwZS5fc3BsaXQ9ZnVuY3Rpb24odCxpKXt2YXIgbj10W2ldLHI9bi5jaGlsZHJlbi5sZW5ndGgsZT10aGlzLl9taW5FbnRyaWVzO3RoaXMuX2Nob29zZVNwbGl0QXhpcyhuLGUscik7dmFyIGg9dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLGUsciksbz1wKG4uY2hpbGRyZW4uc3BsaWNlKGgsbi5jaGlsZHJlbi5sZW5ndGgtaCkpO28uaGVpZ2h0PW4uaGVpZ2h0LG8ubGVhZj1uLmxlYWYsYShuLHRoaXMudG9CQm94KSxhKG8sdGhpcy50b0JCb3gpLGk/dFtpLTFdLmNoaWxkcmVuLnB1c2gobyk6dGhpcy5fc3BsaXRSb290KG4sbyl9LHIucHJvdG90eXBlLl9zcGxpdFJvb3Q9ZnVuY3Rpb24odCxpKXt0aGlzLmRhdGE9cChbdCxpXSksdGhpcy5kYXRhLmhlaWdodD10LmhlaWdodCsxLHRoaXMuZGF0YS5sZWFmPSExLGEodGhpcy5kYXRhLHRoaXMudG9CQm94KX0sci5wcm90b3R5cGUuX2Nob29zZVNwbGl0SW5kZXg9ZnVuY3Rpb24odCxpLG4pe2Zvcih2YXIgcixlLGEsbyxzLGwsdSxtPTEvMCxjPTEvMCxwPWk7cDw9bi1pO3ArKyl7dmFyIGQ9aCh0LDAscCx0aGlzLnRvQkJveCkseD1oKHQscCxuLHRoaXMudG9CQm94KSx2PShlPWQsYT14LG89dm9pZCAwLHM9dm9pZCAwLGw9dm9pZCAwLHU9dm9pZCAwLG89TWF0aC5tYXgoZS5taW5YLGEubWluWCkscz1NYXRoLm1heChlLm1pblksYS5taW5ZKSxsPU1hdGgubWluKGUubWF4WCxhLm1heFgpLHU9TWF0aC5taW4oZS5tYXhZLGEubWF4WSksTWF0aC5tYXgoMCxsLW8pKk1hdGgubWF4KDAsdS1zKSksTT1mKGQpK2YoeCk7djxtPyhtPXYscj1wLGM9TTxjP006Yyk6dj09PW0mJk08YyYmKGM9TSxyPXApfXJldHVybiByfHxuLWl9LHIucHJvdG90eXBlLl9jaG9vc2VTcGxpdEF4aXM9ZnVuY3Rpb24odCxpLG4pe3ZhciByPXQubGVhZj90aGlzLmNvbXBhcmVNaW5YOnMsZT10LmxlYWY/dGhpcy5jb21wYXJlTWluWTpsO3RoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4scik8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixlKSYmdC5jaGlsZHJlbi5zb3J0KHIpfSxyLnByb3RvdHlwZS5fYWxsRGlzdE1hcmdpbj1mdW5jdGlvbih0LGksbixyKXt0LmNoaWxkcmVuLnNvcnQocik7Zm9yKHZhciBlPXRoaXMudG9CQm94LGE9aCh0LDAsaSxlKSxzPWgodCxuLWksbixlKSxsPXUoYSkrdShzKSxmPWk7ZjxuLWk7ZisrKXt2YXIgbT10LmNoaWxkcmVuW2ZdO28oYSx0LmxlYWY/ZShtKTptKSxsKz11KGEpfWZvcih2YXIgYz1uLWktMTtjPj1pO2MtLSl7dmFyIHA9dC5jaGlsZHJlbltjXTtvKHMsdC5sZWFmP2UocCk6cCksbCs9dShzKX1yZXR1cm4gbH0sci5wcm90b3R5cGUuX2FkanVzdFBhcmVudEJCb3hlcz1mdW5jdGlvbih0LGksbil7Zm9yKHZhciByPW47cj49MDtyLS0pbyhpW3JdLHQpfSxyLnByb3RvdHlwZS5fY29uZGVuc2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQubGVuZ3RoLTEsbj12b2lkIDA7aT49MDtpLS0pMD09PXRbaV0uY2hpbGRyZW4ubGVuZ3RoP2k+MD8obj10W2ktMV0uY2hpbGRyZW4pLnNwbGljZShuLmluZGV4T2YodFtpXSksMSk6dGhpcy5jbGVhcigpOmEodFtpXSx0aGlzLnRvQkJveCl9LHJ9KTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQG1vZHVsZSBoZWxwZXJzXG4gKi9cbi8qKlxuICogRWFydGggUmFkaXVzIHVzZWQgd2l0aCB0aGUgSGFydmVzaW5lIGZvcm11bGEgYW5kIGFwcHJveGltYXRlcyB1c2luZyBhIHNwaGVyaWNhbCAobm9uLWVsbGlwc29pZCkgRWFydGguXG4gKlxuICogQG1lbWJlcm9mIGhlbHBlcnNcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydHMuZWFydGhSYWRpdXMgPSA2MzcxMDA4Ljg7XG4vKipcbiAqIFVuaXQgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyB1c2luZyBhIHNwaGVyaWNhbCAobm9uLWVsbGlwc29pZCkgZWFydGggcmFkaXVzLlxuICpcbiAqIEBtZW1iZXJvZiBoZWxwZXJzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLmZhY3RvcnMgPSB7XG4gICAgY2VudGltZXRlcnM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAxMDAsXG4gICAgY2VudGltZXRyZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAxMDAsXG4gICAgZGVncmVlczogZXhwb3J0cy5lYXJ0aFJhZGl1cyAvIDExMTMyNSxcbiAgICBmZWV0OiBleHBvcnRzLmVhcnRoUmFkaXVzICogMy4yODA4NCxcbiAgICBpbmNoZXM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAzOS4zNyxcbiAgICBraWxvbWV0ZXJzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTAwMCxcbiAgICBraWxvbWV0cmVzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTAwMCxcbiAgICBtZXRlcnM6IGV4cG9ydHMuZWFydGhSYWRpdXMsXG4gICAgbWV0cmVzOiBleHBvcnRzLmVhcnRoUmFkaXVzLFxuICAgIG1pbGVzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTYwOS4zNDQsXG4gICAgbWlsbGltZXRlcnM6IGV4cG9ydHMuZWFydGhSYWRpdXMgKiAxMDAwLFxuICAgIG1pbGxpbWV0cmVzOiBleHBvcnRzLmVhcnRoUmFkaXVzICogMTAwMCxcbiAgICBuYXV0aWNhbG1pbGVzOiBleHBvcnRzLmVhcnRoUmFkaXVzIC8gMTg1MixcbiAgICByYWRpYW5zOiAxLFxuICAgIHlhcmRzOiBleHBvcnRzLmVhcnRoUmFkaXVzICogMS4wOTM2LFxufTtcbi8qKlxuICogVW5pdHMgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyBiYXNlZCBvbiAxIG1ldGVyLlxuICpcbiAqIEBtZW1iZXJvZiBoZWxwZXJzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnRzLnVuaXRzRmFjdG9ycyA9IHtcbiAgICBjZW50aW1ldGVyczogMTAwLFxuICAgIGNlbnRpbWV0cmVzOiAxMDAsXG4gICAgZGVncmVlczogMSAvIDExMTMyNSxcbiAgICBmZWV0OiAzLjI4MDg0LFxuICAgIGluY2hlczogMzkuMzcsXG4gICAga2lsb21ldGVyczogMSAvIDEwMDAsXG4gICAga2lsb21ldHJlczogMSAvIDEwMDAsXG4gICAgbWV0ZXJzOiAxLFxuICAgIG1ldHJlczogMSxcbiAgICBtaWxlczogMSAvIDE2MDkuMzQ0LFxuICAgIG1pbGxpbWV0ZXJzOiAxMDAwLFxuICAgIG1pbGxpbWV0cmVzOiAxMDAwLFxuICAgIG5hdXRpY2FsbWlsZXM6IDEgLyAxODUyLFxuICAgIHJhZGlhbnM6IDEgLyBleHBvcnRzLmVhcnRoUmFkaXVzLFxuICAgIHlhcmRzOiAxLjA5MzYxMzMsXG59O1xuLyoqXG4gKiBBcmVhIG9mIG1lYXN1cmVtZW50IGZhY3RvcnMgYmFzZWQgb24gMSBzcXVhcmUgbWV0ZXIuXG4gKlxuICogQG1lbWJlcm9mIGhlbHBlcnNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuYXJlYUZhY3RvcnMgPSB7XG4gICAgYWNyZXM6IDAuMDAwMjQ3MTA1LFxuICAgIGNlbnRpbWV0ZXJzOiAxMDAwMCxcbiAgICBjZW50aW1ldHJlczogMTAwMDAsXG4gICAgZmVldDogMTAuNzYzOTEwNDE3LFxuICAgIGhlY3RhcmVzOiAwLjAwMDEsXG4gICAgaW5jaGVzOiAxNTUwLjAwMzEwMDAwNixcbiAgICBraWxvbWV0ZXJzOiAwLjAwMDAwMSxcbiAgICBraWxvbWV0cmVzOiAwLjAwMDAwMSxcbiAgICBtZXRlcnM6IDEsXG4gICAgbWV0cmVzOiAxLFxuICAgIG1pbGVzOiAzLjg2ZS03LFxuICAgIG1pbGxpbWV0ZXJzOiAxMDAwMDAwLFxuICAgIG1pbGxpbWV0cmVzOiAxMDAwMDAwLFxuICAgIHlhcmRzOiAxLjE5NTk5MDA0Nixcbn07XG4vKipcbiAqIFdyYXBzIGEgR2VvSlNPTiB7QGxpbmsgR2VvbWV0cnl9IGluIGEgR2VvSlNPTiB7QGxpbmsgRmVhdHVyZX0uXG4gKlxuICogQG5hbWUgZmVhdHVyZVxuICogQHBhcmFtIHtHZW9tZXRyeX0gZ2VvbWV0cnkgaW5wdXQgZ2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZX0gYSBHZW9KU09OIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgZ2VvbWV0cnkgPSB7XG4gKiAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgIFwiY29vcmRpbmF0ZXNcIjogWzExMCwgNTBdXG4gKiB9O1xuICpcbiAqIHZhciBmZWF0dXJlID0gdHVyZi5mZWF0dXJlKGdlb21ldHJ5KTtcbiAqXG4gKiAvLz1mZWF0dXJlXG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGZlYXQgPSB7IHR5cGU6IFwiRmVhdHVyZVwiIH07XG4gICAgaWYgKG9wdGlvbnMuaWQgPT09IDAgfHwgb3B0aW9ucy5pZCkge1xuICAgICAgICBmZWF0LmlkID0gb3B0aW9ucy5pZDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYmJveCkge1xuICAgICAgICBmZWF0LmJib3ggPSBvcHRpb25zLmJib3g7XG4gICAgfVxuICAgIGZlYXQucHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gICAgZmVhdC5nZW9tZXRyeSA9IGdlb207XG4gICAgcmV0dXJuIGZlYXQ7XG59XG5leHBvcnRzLmZlYXR1cmUgPSBmZWF0dXJlO1xuLyoqXG4gKiBDcmVhdGVzIGEgR2VvSlNPTiB7QGxpbmsgR2VvbWV0cnl9IGZyb20gYSBHZW9tZXRyeSBzdHJpbmcgdHlwZSAmIGNvb3JkaW5hdGVzLlxuICogRm9yIEdlb21ldHJ5Q29sbGVjdGlvbiB0eXBlIHVzZSBgaGVscGVycy5nZW9tZXRyeUNvbGxlY3Rpb25gXG4gKlxuICogQG5hbWUgZ2VvbWV0cnlcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEdlb21ldHJ5IFR5cGVcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHJldHVybnMge0dlb21ldHJ5fSBhIEdlb0pTT04gR2VvbWV0cnlcbiAqIEBleGFtcGxlXG4gKiB2YXIgdHlwZSA9IFwiUG9pbnRcIjtcbiAqIHZhciBjb29yZGluYXRlcyA9IFsxMTAsIDUwXTtcbiAqIHZhciBnZW9tZXRyeSA9IHR1cmYuZ2VvbWV0cnkodHlwZSwgY29vcmRpbmF0ZXMpO1xuICogLy8gPT4gZ2VvbWV0cnlcbiAqL1xuZnVuY3Rpb24gZ2VvbWV0cnkodHlwZSwgY29vcmRpbmF0ZXMsIF9vcHRpb25zKSB7XG4gICAgaWYgKF9vcHRpb25zID09PSB2b2lkIDApIHsgX29wdGlvbnMgPSB7fTsgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBwb2ludChjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gbGluZVN0cmluZyhjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICByZXR1cm4gcG9seWdvbihjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gbXVsdGlQb2ludChjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBtdWx0aUxpbmVTdHJpbmcoY29vcmRpbmF0ZXMpLmdlb21ldHJ5O1xuICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgICAgICByZXR1cm4gbXVsdGlQb2x5Z29uKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0eXBlICsgXCIgaXMgaW52YWxpZFwiKTtcbiAgICB9XG59XG5leHBvcnRzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9pbnR9IHtAbGluayBGZWF0dXJlfSBmcm9tIGEgUG9zaXRpb24uXG4gKlxuICogQG5hbWUgcG9pbnRcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgbG9uZ2l0dWRlLCBsYXRpdHVkZSBwb3NpdGlvbiAoZWFjaCBpbiBkZWNpbWFsIGRlZ3JlZXMpXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSBhIFBvaW50IGZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdKTtcbiAqXG4gKiAvLz1wb2ludFxuICovXG5mdW5jdGlvbiBwb2ludChjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgaWYgKCFjb29yZGluYXRlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIEFycmF5XCIpO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGJlIGF0IGxlYXN0IDIgbnVtYmVycyBsb25nXCIpO1xuICAgIH1cbiAgICBpZiAoIWlzTnVtYmVyKGNvb3JkaW5hdGVzWzBdKSB8fCAhaXNOdW1iZXIoY29vcmRpbmF0ZXNbMV0pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIG11c3QgY29udGFpbiBudW1iZXJzXCIpO1xuICAgIH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJQb2ludFwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMucG9pbnQgPSBwb2ludDtcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQb2ludH0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvaW50IGNvb3JkaW5hdGVzLlxuICpcbiAqIEBuYW1lIHBvaW50c1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGVhY2ggRmVhdHVyZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9pbnQ+fSBQb2ludCBGZWF0dXJlXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50cyA9IHR1cmYucG9pbnRzKFtcbiAqICAgWy03NSwgMzldLFxuICogICBbLTgwLCA0NV0sXG4gKiAgIFstNzgsIDUwXVxuICogXSk7XG4gKlxuICogLy89cG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHBvaW50cyhjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKGNvb3JkaW5hdGVzLm1hcChmdW5jdGlvbiAoY29vcmRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludChjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMucG9pbnRzID0gcG9pbnRzO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFBvbHlnb259IHtAbGluayBGZWF0dXJlfSBmcm9tIGFuIEFycmF5IG9mIExpbmVhclJpbmdzLlxuICpcbiAqIEBuYW1lIHBvbHlnb25cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvbHlnb24+fSBQb2x5Z29uIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNSwgNTJdLCBbLTQsIDU2XSwgWy0yLCA1MV0sIFstNywgNTRdLCBbLTUsIDUyXV1dLCB7IG5hbWU6ICdwb2x5MScgfSk7XG4gKlxuICogLy89cG9seWdvblxuICovXG5mdW5jdGlvbiBwb2x5Z29uKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBmb3IgKHZhciBfaSA9IDAsIGNvb3JkaW5hdGVzXzEgPSBjb29yZGluYXRlczsgX2kgPCBjb29yZGluYXRlc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcmluZyA9IGNvb3JkaW5hdGVzXzFbX2ldO1xuICAgICAgICBpZiAocmluZy5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFYWNoIExpbmVhclJpbmcgb2YgYSBQb2x5Z29uIG11c3QgaGF2ZSA0IG9yIG1vcmUgUG9zaXRpb25zLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmdbcmluZy5sZW5ndGggLSAxXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZmlyc3QgcG9pbnQgb2YgUG9seWdvbiBjb250YWlucyB0d28gbnVtYmVyc1xuICAgICAgICAgICAgaWYgKHJpbmdbcmluZy5sZW5ndGggLSAxXVtqXSAhPT0gcmluZ1swXVtqXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpcnN0IGFuZCBsYXN0IFBvc2l0aW9uIGFyZSBub3QgZXF1aXZhbGVudC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiUG9seWdvblwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMucG9seWdvbiA9IHBvbHlnb247XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9seWdvbn0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvbHlnb24gY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgcG9seWdvbnNcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9seWdvbiBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9seWdvbj59IFBvbHlnb24gRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbnMgPSB0dXJmLnBvbHlnb25zKFtcbiAqICAgW1tbLTUsIDUyXSwgWy00LCA1Nl0sIFstMiwgNTFdLCBbLTcsIDU0XSwgWy01LCA1Ml1dXSxcbiAqICAgW1tbLTE1LCA0Ml0sIFstMTQsIDQ2XSwgWy0xMiwgNDFdLCBbLTE3LCA0NF0sIFstMTUsIDQyXV1dLFxuICogXSk7XG4gKlxuICogLy89cG9seWdvbnNcbiAqL1xuZnVuY3Rpb24gcG9seWdvbnMoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihjb29yZGluYXRlcy5tYXAoZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICByZXR1cm4gcG9seWdvbihjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMucG9seWdvbnMgPSBwb2x5Z29ucztcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBMaW5lU3RyaW5nfSB7QGxpbmsgRmVhdHVyZX0gZnJvbSBhbiBBcnJheSBvZiBQb3NpdGlvbnMuXG4gKlxuICogQG5hbWUgbGluZVN0cmluZ1xuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9zaXRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TGluZVN0cmluZz59IExpbmVTdHJpbmcgRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lc3RyaW5nMSA9IHR1cmYubGluZVN0cmluZyhbWy0yNCwgNjNdLCBbLTIzLCA2MF0sIFstMjUsIDY1XSwgWy0yMCwgNjldXSwge25hbWU6ICdsaW5lIDEnfSk7XG4gKiB2YXIgbGluZXN0cmluZzIgPSB0dXJmLmxpbmVTdHJpbmcoW1stMTQsIDQzXSwgWy0xMywgNDBdLCBbLTE1LCA0NV0sIFstMTAsIDQ5XV0sIHtuYW1lOiAnbGluZSAyJ30pO1xuICpcbiAqIC8vPWxpbmVzdHJpbmcxXG4gKiAvLz1saW5lc3RyaW5nMlxuICovXG5mdW5jdGlvbiBsaW5lU3RyaW5nKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIGFycmF5IG9mIHR3byBvciBtb3JlIHBvc2l0aW9uc1wiKTtcbiAgICB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTGluZVN0cmluZ1wiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubGluZVN0cmluZyA9IGxpbmVTdHJpbmc7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgTGluZVN0cmluZ30ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIExpbmVTdHJpbmcgY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgbGluZVN0cmluZ3NcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxMaW5lU3RyaW5nPn0gTGluZVN0cmluZyBGZWF0dXJlQ29sbGVjdGlvblxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lc3RyaW5ncyA9IHR1cmYubGluZVN0cmluZ3MoW1xuICogICBbWy0yNCwgNjNdLCBbLTIzLCA2MF0sIFstMjUsIDY1XSwgWy0yMCwgNjldXSxcbiAqICAgW1stMTQsIDQzXSwgWy0xMywgNDBdLCBbLTE1LCA0NV0sIFstMTAsIDQ5XV1cbiAqIF0pO1xuICpcbiAqIC8vPWxpbmVzdHJpbmdzXG4gKi9cbmZ1bmN0aW9uIGxpbmVTdHJpbmdzKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGxpbmVTdHJpbmcoY29vcmRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9KSwgb3B0aW9ucyk7XG59XG5leHBvcnRzLmxpbmVTdHJpbmdzID0gbGluZVN0cmluZ3M7XG4vKipcbiAqIFRha2VzIG9uZSBvciBtb3JlIHtAbGluayBGZWF0dXJlfEZlYXR1cmVzfSBhbmQgY3JlYXRlcyBhIHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0uXG4gKlxuICogQG5hbWUgZmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RmVhdHVyZVtdfSBmZWF0dXJlcyBpbnB1dCBmZWF0dXJlc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb259IEZlYXR1cmVDb2xsZWN0aW9uIG9mIEZlYXR1cmVzXG4gKiBAZXhhbXBsZVxuICogdmFyIGxvY2F0aW9uQSA9IHR1cmYucG9pbnQoWy03NS4zNDMsIDM5Ljk4NF0sIHtuYW1lOiAnTG9jYXRpb24gQSd9KTtcbiAqIHZhciBsb2NhdGlvbkIgPSB0dXJmLnBvaW50KFstNzUuODMzLCAzOS4yODRdLCB7bmFtZTogJ0xvY2F0aW9uIEInfSk7XG4gKiB2YXIgbG9jYXRpb25DID0gdHVyZi5wb2ludChbLTc1LjUzNCwgMzkuMTIzXSwge25hbWU6ICdMb2NhdGlvbiBDJ30pO1xuICpcbiAqIHZhciBjb2xsZWN0aW9uID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIGxvY2F0aW9uQSxcbiAqICAgbG9jYXRpb25CLFxuICogICBsb2NhdGlvbkNcbiAqIF0pO1xuICpcbiAqIC8vPWNvbGxlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBmYyA9IHsgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiIH07XG4gICAgaWYgKG9wdGlvbnMuaWQpIHtcbiAgICAgICAgZmMuaWQgPSBvcHRpb25zLmlkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iYm94KSB7XG4gICAgICAgIGZjLmJib3ggPSBvcHRpb25zLmJib3g7XG4gICAgfVxuICAgIGZjLmZlYXR1cmVzID0gZmVhdHVyZXM7XG4gICAgcmV0dXJuIGZjO1xufVxuZXhwb3J0cy5mZWF0dXJlQ29sbGVjdGlvbiA9IGZlYXR1cmVDb2xsZWN0aW9uO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8TXVsdGlMaW5lU3RyaW5nPn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBtdWx0aUxpbmVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lU3RyaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpTGluZVN0cmluZz59IGEgTXVsdGlMaW5lU3RyaW5nIGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtbWzAsMF0sWzEwLDEwXV1dKTtcbiAqXG4gKiAvLz1tdWx0aUxpbmVcbiAqL1xuZnVuY3Rpb24gbXVsdGlMaW5lU3RyaW5nKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJNdWx0aUxpbmVTdHJpbmdcIixcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG5leHBvcnRzLm11bHRpTGluZVN0cmluZyA9IG11bHRpTGluZVN0cmluZztcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpUG9pbnQ+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIG11bHRpUG9pbnRcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvc2l0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpUG9pbnQ+fSBhIE11bHRpUG9pbnQgZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQdCA9IHR1cmYubXVsdGlQb2ludChbWzAsMF0sWzEwLDEwXV0pO1xuICpcbiAqIC8vPW11bHRpUHRcbiAqL1xuZnVuY3Rpb24gbXVsdGlQb2ludChjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTXVsdGlQb2ludFwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubXVsdGlQb2ludCA9IG11bHRpUG9pbnQ7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZTxNdWx0aVBvbHlnb24+fSBiYXNlZCBvbiBhXG4gKiBjb29yZGluYXRlIGFycmF5LiBQcm9wZXJ0aWVzIGNhbiBiZSBhZGRlZCBvcHRpb25hbGx5LlxuICpcbiAqIEBuYW1lIG11bHRpUG9seWdvblxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxBcnJheTxudW1iZXI+Pj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBQb2x5Z29uc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpUG9seWdvbj59IGEgbXVsdGlwb2x5Z29uIGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpUG9seSA9IHR1cmYubXVsdGlQb2x5Z29uKFtbW1swLDBdLFswLDEwXSxbMTAsMTBdLFsxMCwwXSxbMCwwXV1dXSk7XG4gKlxuICogLy89bXVsdGlQb2x5XG4gKlxuICovXG5mdW5jdGlvbiBtdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIk11bHRpUG9seWdvblwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubXVsdGlQb2x5Z29uID0gbXVsdGlQb2x5Z29uO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8R2VvbWV0cnlDb2xsZWN0aW9uPn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBnZW9tZXRyeUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXk8R2VvbWV0cnk+fSBnZW9tZXRyaWVzIGFuIGFycmF5IG9mIEdlb0pTT04gR2VvbWV0cmllc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPEdlb21ldHJ5Q29sbGVjdGlvbj59IGEgR2VvSlNPTiBHZW9tZXRyeUNvbGxlY3Rpb24gRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwdCA9IHR1cmYuZ2VvbWV0cnkoXCJQb2ludFwiLCBbMTAwLCAwXSk7XG4gKiB2YXIgbGluZSA9IHR1cmYuZ2VvbWV0cnkoXCJMaW5lU3RyaW5nXCIsIFtbMTAxLCAwXSwgWzEwMiwgMV1dKTtcbiAqIHZhciBjb2xsZWN0aW9uID0gdHVyZi5nZW9tZXRyeUNvbGxlY3Rpb24oW3B0LCBsaW5lXSk7XG4gKlxuICogLy8gPT4gY29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBnZW9tZXRyeUNvbGxlY3Rpb24oZ2VvbWV0cmllcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIsXG4gICAgICAgIGdlb21ldHJpZXM6IGdlb21ldHJpZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbmV4cG9ydHMuZ2VvbWV0cnlDb2xsZWN0aW9uID0gZ2VvbWV0cnlDb2xsZWN0aW9uO1xuLyoqXG4gKiBSb3VuZCBudW1iZXIgdG8gcHJlY2lzaW9uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFByZWNpc2lvblxuICogQHJldHVybnMge251bWJlcn0gcm91bmRlZCBudW1iZXJcbiAqIEBleGFtcGxlXG4gKiB0dXJmLnJvdW5kKDEyMC40MzIxKVxuICogLy89MTIwXG4gKlxuICogdHVyZi5yb3VuZCgxMjAuNDMyMSwgMilcbiAqIC8vPTEyMC40M1xuICovXG5mdW5jdGlvbiByb3VuZChudW0sIHByZWNpc2lvbikge1xuICAgIGlmIChwcmVjaXNpb24gPT09IHZvaWQgMCkgeyBwcmVjaXNpb24gPSAwOyB9XG4gICAgaWYgKHByZWNpc2lvbiAmJiAhKHByZWNpc2lvbiA+PSAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcmVjaXNpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICB9XG4gICAgdmFyIG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uIHx8IDApO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcbn1cbmV4cG9ydHMucm91bmQgPSByb3VuZDtcbi8qKlxuICogQ29udmVydCBhIGRpc3RhbmNlIG1lYXN1cmVtZW50IChhc3N1bWluZyBhIHNwaGVyaWNhbCBFYXJ0aCkgZnJvbSByYWRpYW5zIHRvIGEgbW9yZSBmcmllbmRseSB1bml0LlxuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywga2lsb21ldGVycywgY2VudGltZXRlcnMsIGZlZXRcbiAqXG4gKiBAbmFtZSByYWRpYW5zVG9MZW5ndGhcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zIGluIHJhZGlhbnMgYWNyb3NzIHRoZSBzcGhlcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdHM9XCJraWxvbWV0ZXJzXCJdIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0cmVzLFxuICogbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gcmFkaWFuc1RvTGVuZ3RoKHJhZGlhbnMsIHVuaXRzKSB7XG4gICAgaWYgKHVuaXRzID09PSB2b2lkIDApIHsgdW5pdHMgPSBcImtpbG9tZXRlcnNcIjsgfVxuICAgIHZhciBmYWN0b3IgPSBleHBvcnRzLmZhY3RvcnNbdW5pdHNdO1xuICAgIGlmICghZmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih1bml0cyArIFwiIHVuaXRzIGlzIGludmFsaWRcIik7XG4gICAgfVxuICAgIHJldHVybiByYWRpYW5zICogZmFjdG9yO1xufVxuZXhwb3J0cy5yYWRpYW5zVG9MZW5ndGggPSByYWRpYW5zVG9MZW5ndGg7XG4vKipcbiAqIENvbnZlcnQgYSBkaXN0YW5jZSBtZWFzdXJlbWVudCAoYXNzdW1pbmcgYSBzcGhlcmljYWwgRWFydGgpIGZyb20gYSByZWFsLXdvcmxkIHVuaXQgaW50byByYWRpYW5zXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBraWxvbWV0ZXJzLCBjZW50aW1ldGVycywgZmVldFxuICpcbiAqIEBuYW1lIGxlbmd0aFRvUmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIGluIHJlYWwgdW5pdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pdHM9XCJraWxvbWV0ZXJzXCJdIGNhbiBiZSBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0cmVzLFxuICogbWV0ZXJzLCBraWxvbWV0cmVzLCBraWxvbWV0ZXJzLlxuICogQHJldHVybnMge251bWJlcn0gcmFkaWFuc1xuICovXG5mdW5jdGlvbiBsZW5ndGhUb1JhZGlhbnMoZGlzdGFuY2UsIHVuaXRzKSB7XG4gICAgaWYgKHVuaXRzID09PSB2b2lkIDApIHsgdW5pdHMgPSBcImtpbG9tZXRlcnNcIjsgfVxuICAgIHZhciBmYWN0b3IgPSBleHBvcnRzLmZhY3RvcnNbdW5pdHNdO1xuICAgIGlmICghZmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih1bml0cyArIFwiIHVuaXRzIGlzIGludmFsaWRcIik7XG4gICAgfVxuICAgIHJldHVybiBkaXN0YW5jZSAvIGZhY3Rvcjtcbn1cbmV4cG9ydHMubGVuZ3RoVG9SYWRpYW5zID0gbGVuZ3RoVG9SYWRpYW5zO1xuLyoqXG4gKiBDb252ZXJ0IGEgZGlzdGFuY2UgbWVhc3VyZW1lbnQgKGFzc3VtaW5nIGEgc3BoZXJpY2FsIEVhcnRoKSBmcm9tIGEgcmVhbC13b3JsZCB1bml0IGludG8gZGVncmVlc1xuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywgY2VudGltZXRlcnMsIGtpbG9tZXRyZXMsIGZlZXRcbiAqXG4gKiBAbmFtZSBsZW5ndGhUb0RlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBpbiByZWFsIHVuaXRzXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPVwia2lsb21ldGVyc1wiXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldHJlcyxcbiAqIG1ldGVycywga2lsb21ldHJlcywga2lsb21ldGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRlZ3JlZXNcbiAqL1xuZnVuY3Rpb24gbGVuZ3RoVG9EZWdyZWVzKGRpc3RhbmNlLCB1bml0cykge1xuICAgIHJldHVybiByYWRpYW5zVG9EZWdyZWVzKGxlbmd0aFRvUmFkaWFucyhkaXN0YW5jZSwgdW5pdHMpKTtcbn1cbmV4cG9ydHMubGVuZ3RoVG9EZWdyZWVzID0gbGVuZ3RoVG9EZWdyZWVzO1xuLyoqXG4gKiBDb252ZXJ0cyBhbnkgYmVhcmluZyBhbmdsZSBmcm9tIHRoZSBub3J0aCBsaW5lIGRpcmVjdGlvbiAocG9zaXRpdmUgY2xvY2t3aXNlKVxuICogYW5kIHJldHVybnMgYW4gYW5nbGUgYmV0d2VlbiAwLTM2MCBkZWdyZWVzIChwb3NpdGl2ZSBjbG9ja3dpc2UpLCAwIGJlaW5nIHRoZSBub3J0aCBsaW5lXG4gKlxuICogQG5hbWUgYmVhcmluZ1RvQXppbXV0aFxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgYW5nbGUsIGJldHdlZW4gLTE4MCBhbmQgKzE4MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKi9cbmZ1bmN0aW9uIGJlYXJpbmdUb0F6aW11dGgoYmVhcmluZykge1xuICAgIHZhciBhbmdsZSA9IGJlYXJpbmcgJSAzNjA7XG4gICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgICBhbmdsZSArPSAzNjA7XG4gICAgfVxuICAgIHJldHVybiBhbmdsZTtcbn1cbmV4cG9ydHMuYmVhcmluZ1RvQXppbXV0aCA9IGJlYXJpbmdUb0F6aW11dGg7XG4vKipcbiAqIENvbnZlcnRzIGFuIGFuZ2xlIGluIHJhZGlhbnMgdG8gZGVncmVlc1xuICpcbiAqIEBuYW1lIHJhZGlhbnNUb0RlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zIGFuZ2xlIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRlZ3JlZXMgYmV0d2VlbiAwIGFuZCAzNjAgZGVncmVlc1xuICovXG5mdW5jdGlvbiByYWRpYW5zVG9EZWdyZWVzKHJhZGlhbnMpIHtcbiAgICB2YXIgZGVncmVlcyA9IHJhZGlhbnMgJSAoMiAqIE1hdGguUEkpO1xuICAgIHJldHVybiAoZGVncmVlcyAqIDE4MCkgLyBNYXRoLlBJO1xufVxuZXhwb3J0cy5yYWRpYW5zVG9EZWdyZWVzID0gcmFkaWFuc1RvRGVncmVlcztcbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gZGVncmVlcyB0byByYWRpYW5zXG4gKlxuICogQG5hbWUgZGVncmVlc1RvUmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgYW5nbGUgYmV0d2VlbiAwIGFuZCAzNjAgZGVncmVlc1xuICogQHJldHVybnMge251bWJlcn0gYW5nbGUgaW4gcmFkaWFuc1xuICovXG5mdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZ3JlZXMpIHtcbiAgICB2YXIgcmFkaWFucyA9IGRlZ3JlZXMgJSAzNjA7XG4gICAgcmV0dXJuIChyYWRpYW5zICogTWF0aC5QSSkgLyAxODA7XG59XG5leHBvcnRzLmRlZ3JlZXNUb1JhZGlhbnMgPSBkZWdyZWVzVG9SYWRpYW5zO1xuLyoqXG4gKiBDb252ZXJ0cyBhIGxlbmd0aCB0byB0aGUgcmVxdWVzdGVkIHVuaXQuXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBraWxvbWV0ZXJzLCBjZW50aW1ldGVycywgZmVldFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge1VuaXRzfSBbb3JpZ2luYWxVbml0PVwia2lsb21ldGVyc1wiXSBvZiB0aGUgbGVuZ3RoXG4gKiBAcGFyYW0ge1VuaXRzfSBbZmluYWxVbml0PVwia2lsb21ldGVyc1wiXSByZXR1cm5lZCB1bml0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgY29udmVydGVkIGxlbmd0aFxuICovXG5mdW5jdGlvbiBjb252ZXJ0TGVuZ3RoKGxlbmd0aCwgb3JpZ2luYWxVbml0LCBmaW5hbFVuaXQpIHtcbiAgICBpZiAob3JpZ2luYWxVbml0ID09PSB2b2lkIDApIHsgb3JpZ2luYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoZmluYWxVbml0ID09PSB2b2lkIDApIHsgZmluYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoIShsZW5ndGggPj0gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibGVuZ3RoIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuICAgIHJldHVybiByYWRpYW5zVG9MZW5ndGgobGVuZ3RoVG9SYWRpYW5zKGxlbmd0aCwgb3JpZ2luYWxVbml0KSwgZmluYWxVbml0KTtcbn1cbmV4cG9ydHMuY29udmVydExlbmd0aCA9IGNvbnZlcnRMZW5ndGg7XG4vKipcbiAqIENvbnZlcnRzIGEgYXJlYSB0byB0aGUgcmVxdWVzdGVkIHVuaXQuXG4gKiBWYWxpZCB1bml0czoga2lsb21ldGVycywga2lsb21ldHJlcywgbWV0ZXJzLCBtZXRyZXMsIGNlbnRpbWV0cmVzLCBtaWxsaW1ldGVycywgYWNyZXMsIG1pbGVzLCB5YXJkcywgZmVldCwgaW5jaGVzLCBoZWN0YXJlc1xuICogQHBhcmFtIHtudW1iZXJ9IGFyZWEgdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge1VuaXRzfSBbb3JpZ2luYWxVbml0PVwibWV0ZXJzXCJdIG9mIHRoZSBkaXN0YW5jZVxuICogQHBhcmFtIHtVbml0c30gW2ZpbmFsVW5pdD1cImtpbG9tZXRlcnNcIl0gcmV0dXJuZWQgdW5pdFxuICogQHJldHVybnMge251bWJlcn0gdGhlIGNvbnZlcnRlZCBhcmVhXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRBcmVhKGFyZWEsIG9yaWdpbmFsVW5pdCwgZmluYWxVbml0KSB7XG4gICAgaWYgKG9yaWdpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IG9yaWdpbmFsVW5pdCA9IFwibWV0ZXJzXCI7IH1cbiAgICBpZiAoZmluYWxVbml0ID09PSB2b2lkIDApIHsgZmluYWxVbml0ID0gXCJraWxvbWV0ZXJzXCI7IH1cbiAgICBpZiAoIShhcmVhID49IDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImFyZWEgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0RmFjdG9yID0gZXhwb3J0cy5hcmVhRmFjdG9yc1tvcmlnaW5hbFVuaXRdO1xuICAgIGlmICghc3RhcnRGYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBvcmlnaW5hbCB1bml0c1wiKTtcbiAgICB9XG4gICAgdmFyIGZpbmFsRmFjdG9yID0gZXhwb3J0cy5hcmVhRmFjdG9yc1tmaW5hbFVuaXRdO1xuICAgIGlmICghZmluYWxGYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaW5hbCB1bml0c1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIChhcmVhIC8gc3RhcnRGYWN0b3IpICogZmluYWxGYWN0b3I7XG59XG5leHBvcnRzLmNvbnZlcnRBcmVhID0gY29udmVydEFyZWE7XG4vKipcbiAqIGlzTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSBudW0gTnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNOdW1iZXIoMTIzKVxuICogLy89dHJ1ZVxuICogdHVyZi5pc051bWJlcignZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKG51bSkge1xuICAgIHJldHVybiAhaXNOYU4obnVtKSAmJiBudW0gIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkobnVtKTtcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcbi8qKlxuICogaXNPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IGlucHV0IHZhcmlhYmxlIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNPYmplY3Qoe2VsZXZhdGlvbjogMTB9KVxuICogLy89dHJ1ZVxuICogdHVyZi5pc09iamVjdCgnZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgcmV0dXJuICEhaW5wdXQgJiYgaW5wdXQuY29uc3RydWN0b3IgPT09IE9iamVjdDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbi8qKlxuICogVmFsaWRhdGUgQkJveFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGJib3ggQkJveCB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAdGhyb3dzIEVycm9yIGlmIEJCb3ggaXMgbm90IHZhbGlkXG4gKiBAZXhhbXBsZVxuICogdmFsaWRhdGVCQm94KFstMTgwLCAtNDAsIDExMCwgNTBdKVxuICogLy89T0tcbiAqIHZhbGlkYXRlQkJveChbLTE4MCwgLTQwXSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3goJ0ZvbycpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KDUpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KG51bGwpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVCQm94KHVuZGVmaW5lZClcbiAqIC8vPUVycm9yXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQkJveChiYm94KSB7XG4gICAgaWYgKCFiYm94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImJib3ggaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShiYm94KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3QgYmUgYW4gQXJyYXlcIik7XG4gICAgfVxuICAgIGlmIChiYm94Lmxlbmd0aCAhPT0gNCAmJiBiYm94Lmxlbmd0aCAhPT0gNikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3QgYmUgYW4gQXJyYXkgb2YgNCBvciA2IG51bWJlcnNcIik7XG4gICAgfVxuICAgIGJib3guZm9yRWFjaChmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIGlmICghaXNOdW1iZXIobnVtKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmJveCBtdXN0IG9ubHkgY29udGFpbiBudW1iZXJzXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLnZhbGlkYXRlQkJveCA9IHZhbGlkYXRlQkJveDtcbi8qKlxuICogVmFsaWRhdGUgSWRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBpZCBJZCB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAdGhyb3dzIEVycm9yIGlmIElkIGlzIG5vdCB2YWxpZFxuICogQGV4YW1wbGVcbiAqIHZhbGlkYXRlSWQoWy0xODAsIC00MCwgMTEwLCA1MF0pXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVJZChbLTE4MCwgLTQwXSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUlkKCdGb28nKVxuICogLy89T0tcbiAqIHZhbGlkYXRlSWQoNSlcbiAqIC8vPU9LXG4gKiB2YWxpZGF0ZUlkKG51bGwpXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVJZCh1bmRlZmluZWQpXG4gKiAvLz1FcnJvclxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUlkKGlkKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpZCBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKFtcInN0cmluZ1wiLCBcIm51bWJlclwiXS5pbmRleE9mKHR5cGVvZiBpZCkgPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlkIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmdcIik7XG4gICAgfVxufVxuZXhwb3J0cy52YWxpZGF0ZUlkID0gdmFsaWRhdGVJZDtcbiIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnQHR1cmYvaGVscGVycycpO1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciBjb29yZEVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgY29vcmRFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudENvb3JkIFRoZSBjdXJyZW50IGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvb3JkSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBjb29yZGluYXRlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgY29vcmRFYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtleGNsdWRlV3JhcENvb3JkPWZhbHNlXSB3aGV0aGVyIG9yIG5vdCB0byBpbmNsdWRlIHRoZSBmaW5hbCBjb29yZGluYXRlIG9mIExpbmVhclJpbmdzIHRoYXQgd3JhcHMgdGhlIHJpbmcgaW4gaXRzIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7XCJmb29cIjogXCJiYXJcIn0pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7XCJoZWxsb1wiOiBcIndvcmxkXCJ9KVxuICogXSk7XG4gKlxuICogdHVyZi5jb29yZEVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudENvb3JkXG4gKiAgIC8vPWNvb3JkSW5kZXhcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjb29yZEVhY2goZ2VvanNvbiwgY2FsbGJhY2ssIGV4Y2x1ZGVXcmFwQ29vcmQpIHtcbiAgLy8gSGFuZGxlcyBudWxsIEdlb21ldHJ5IC0tIFNraXBzIHRoaXMgR2VvSlNPTlxuICBpZiAoZ2VvanNvbiA9PT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgaixcbiAgICBrLFxuICAgIGwsXG4gICAgZ2VvbWV0cnksXG4gICAgc3RvcEcsXG4gICAgY29vcmRzLFxuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLFxuICAgIHdyYXBTaHJpbmsgPSAwLFxuICAgIGNvb3JkSW5kZXggPSAwLFxuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uLFxuICAgIHR5cGUgPSBnZW9qc29uLnR5cGUsXG4gICAgaXNGZWF0dXJlQ29sbGVjdGlvbiA9IHR5cGUgPT09IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICBpc0ZlYXR1cmUgPSB0eXBlID09PSBcIkZlYXR1cmVcIixcbiAgICBzdG9wID0gaXNGZWF0dXJlQ29sbGVjdGlvbiA/IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoIDogMTtcblxuICAvLyBUaGlzIGxvZ2ljIG1heSBsb29rIGEgbGl0dGxlIHdlaXJkLiBUaGUgcmVhc29uIHdoeSBpdCBpcyB0aGF0IHdheVxuICAvLyBpcyBiZWNhdXNlIGl0J3MgdHJ5aW5nIHRvIGJlIGZhc3QuIEdlb0pTT04gc3VwcG9ydHMgbXVsdGlwbGUga2luZHNcbiAgLy8gb2Ygb2JqZWN0cyBhdCBpdHMgcm9vdDogRmVhdHVyZUNvbGxlY3Rpb24sIEZlYXR1cmVzLCBHZW9tZXRyaWVzLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGhhcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgaGFuZGxpbmcgYWxsIG9mIHRoZW0sIGFuZCB0aGF0XG4gIC8vIG1lYW5zIHRoYXQgc29tZSBvZiB0aGUgYGZvcmAgbG9vcHMgeW91IHNlZSBiZWxvdyBhY3R1YWxseSBqdXN0IGRvbid0IGFwcGx5XG4gIC8vIHRvIGNlcnRhaW4gaW5wdXRzLiBGb3IgaW5zdGFuY2UsIGlmIHlvdSBnaXZlIHRoaXMganVzdCBhXG4gIC8vIFBvaW50IGdlb21ldHJ5LCB0aGVuIGJvdGggbG9vcHMgYXJlIHNob3J0LWNpcmN1aXRlZCBhbmQgYWxsIHdlIGRvXG4gIC8vIGlzIGdyYWR1YWxseSByZW5hbWUgdGhlIGlucHV0IHVudGlsIGl0J3MgY2FsbGVkICdnZW9tZXRyeScuXG4gIC8vXG4gIC8vIFRoaXMgYWxzbyBhaW1zIHRvIGFsbG9jYXRlIGFzIGZldyByZXNvdXJjZXMgYXMgcG9zc2libGU6IGp1c3QgYVxuICAvLyBmZXcgbnVtYmVycyBhbmQgYm9vbGVhbnMsIHJhdGhlciB0aGFuIGFueSB0ZW1wb3JhcnkgYXJyYXlzIGFzIHdvdWxkXG4gIC8vIGJlIHJlcXVpcmVkIHdpdGggdGhlIG5vcm1hbGl6YXRpb24gYXBwcm9hY2guXG4gIGZvciAodmFyIGZlYXR1cmVJbmRleCA9IDA7IGZlYXR1cmVJbmRleCA8IHN0b3A7IGZlYXR1cmVJbmRleCsrKSB7XG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24gPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5nZW9tZXRyeVxuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5nZW9tZXRyeVxuICAgICAgOiBnZW9qc29uO1xuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24udHlwZSA9PT0gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgICBzdG9wRyA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXMubGVuZ3RoXG4gICAgICA6IDE7XG5cbiAgICBmb3IgKHZhciBnZW9tSW5kZXggPSAwOyBnZW9tSW5kZXggPCBzdG9wRzsgZ2VvbUluZGV4KyspIHtcbiAgICAgIHZhciBtdWx0aUZlYXR1cmVJbmRleCA9IDA7XG4gICAgICB2YXIgZ2VvbWV0cnlJbmRleCA9IDA7XG4gICAgICBnZW9tZXRyeSA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24uZ2VvbWV0cmllc1tnZW9tSW5kZXhdXG4gICAgICAgIDogZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb247XG5cbiAgICAgIC8vIEhhbmRsZXMgbnVsbCBHZW9tZXRyeSAtLSBTa2lwcyB0aGlzIGdlb21ldHJ5XG4gICAgICBpZiAoZ2VvbWV0cnkgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgY29vcmRzID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICB2YXIgZ2VvbVR5cGUgPSBnZW9tZXRyeS50eXBlO1xuXG4gICAgICB3cmFwU2hyaW5rID1cbiAgICAgICAgZXhjbHVkZVdyYXBDb29yZCAmJlxuICAgICAgICAoZ2VvbVR5cGUgPT09IFwiUG9seWdvblwiIHx8IGdlb21UeXBlID09PSBcIk11bHRpUG9seWdvblwiKVxuICAgICAgICAgID8gMVxuICAgICAgICAgIDogMDtcblxuICAgICAgc3dpdGNoIChnZW9tVHlwZSkge1xuICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBjb29yZHMsXG4gICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgY29vcmRzW2pdLFxuICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIk11bHRpUG9pbnRcIikgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIkxpbmVTdHJpbmdcIikgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBjb29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoIC0gd3JhcFNocmluazsgaysrKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgIGNvb3Jkc1tqXVtrXSxcbiAgICAgICAgICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiTXVsdGlMaW5lU3RyaW5nXCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiUG9seWdvblwiKSBnZW9tZXRyeUluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJQb2x5Z29uXCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeUluZGV4ID0gMDtcbiAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb29yZHNbal0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgZm9yIChsID0gMDsgbCA8IGNvb3Jkc1tqXVtrXS5sZW5ndGggLSB3cmFwU2hyaW5rOyBsKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzW2pdW2tdW2xdLFxuICAgICAgICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY29vcmRFYWNoKGdlb21ldHJ5Lmdlb21ldHJpZXNbal0sIGNhbGxiYWNrLCBleGNsdWRlV3JhcENvb3JkKSA9PT1cbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gR2VvbWV0cnkgVHlwZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgY29vcmRSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBjb29yZFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjdXJyZW50Q29vcmQgVGhlIGN1cnJlbnQgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29vcmRJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgY29vcmRpbmF0ZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBTdGFydHMgYXQgaW5kZXggMCwgaWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkLCBhbmQgYXQgaW5kZXggMSBvdGhlcndpc2UuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGNvb3JkaW5hdGVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKVxuICpcbiAqIEBuYW1lIGNvb3JkUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEdlb21ldHJ5fEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50Q29vcmQsIGNvb3JkSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHBhcmFtIHtib29sZWFufSBbZXhjbHVkZVdyYXBDb29yZD1mYWxzZV0gd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSB0aGUgZmluYWwgY29vcmRpbmF0ZSBvZiBMaW5lYXJSaW5ncyB0aGF0IHdyYXBzIHRoZSByaW5nIGluIGl0cyBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtcImZvb1wiOiBcImJhclwifSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtcImhlbGxvXCI6IFwid29ybGRcIn0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmNvb3JkUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudENvb3JkXG4gKiAgIC8vPWNvb3JkSW5kZXhcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRDb29yZDtcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjb29yZFJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlLCBleGNsdWRlV3JhcENvb3JkKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBjb29yZEVhY2goXG4gICAgZ2VvanNvbixcbiAgICBmdW5jdGlvbiAoXG4gICAgICBjdXJyZW50Q29vcmQsXG4gICAgICBjb29yZEluZGV4LFxuICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICBnZW9tZXRyeUluZGV4XG4gICAgKSB7XG4gICAgICBpZiAoY29vcmRJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRDb29yZDtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudENvb3JkLFxuICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgKTtcbiAgICB9LFxuICAgIGV4Y2x1ZGVXcmFwQ29vcmRcbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHByb3BFYWNoXG4gKlxuICogQGNhbGxiYWNrIHByb3BFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBjdXJyZW50UHJvcGVydGllcyBUaGUgY3VycmVudCBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIHByb3BlcnRpZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIHByb3BFYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5wcm9wRWFjaChmZWF0dXJlcywgZnVuY3Rpb24gKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gcHJvcEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgdmFyIGk7XG4gIHN3aXRjaCAoZ2VvanNvbi50eXBlKSB7XG4gICAgY2FzZSBcIkZlYXR1cmVDb2xsZWN0aW9uXCI6XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY2FsbGJhY2soZ2VvanNvbi5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzLCBpKSA9PT0gZmFsc2UpIGJyZWFrO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkZlYXR1cmVcIjpcbiAgICAgIGNhbGxiYWNrKGdlb2pzb24ucHJvcGVydGllcywgMCk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBwcm9wUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgcHJvcFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHsqfSBjdXJyZW50UHJvcGVydGllcyBUaGUgY3VycmVudCBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIHByb3BlcnRpZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0IGludG8gYSBzaW5nbGUgdmFsdWUsXG4gKiBzaW1pbGFyIHRvIGhvdyBBcnJheS5yZWR1Y2Ugd29ya3MuIEhvd2V2ZXIsIGluIHRoaXMgY2FzZSB3ZSBsYXppbHkgcnVuXG4gKiB0aGUgcmVkdWN0aW9uLCBzbyBhbiBhcnJheSBvZiBhbGwgcHJvcGVydGllcyBpcyB1bm5lY2Vzc2FyeS5cbiAqXG4gKiBAbmFtZSBwcm9wUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLnByb3BSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudFByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50UHJvcGVydGllc1xuICogfSk7XG4gKi9cbmZ1bmN0aW9uIHByb3BSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgcHJvcEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRQcm9wZXJ0aWVzLCBmZWF0dXJlSW5kZXgpIHtcbiAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRQcm9wZXJ0aWVzO1xuICAgIGVsc2VcbiAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhwcmV2aW91c1ZhbHVlLCBjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KTtcbiAgfSk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmZWF0dXJlRWFjaFxuICpcbiAqIEBjYWxsYmFjayBmZWF0dXJlRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8YW55Pn0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG9cbiAqIEFycmF5LmZvckVhY2guXG4gKlxuICogQG5hbWUgZmVhdHVyZUVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmVhdHVyZUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRGZWF0dXJlXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmVFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gIGlmIChnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZVwiKSB7XG4gICAgY2FsbGJhY2soZ2VvanNvbiwgMCk7XG4gIH0gZWxzZSBpZiAoZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYWxsYmFjayhnZW9qc29uLmZlYXR1cmVzW2ldLCBpKSA9PT0gZmFsc2UpIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmZWF0dXJlUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgZmVhdHVyZVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlfSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge1wiZm9vXCI6IFwiYmFyXCJ9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge1wiaGVsbG9cIjogXCJ3b3JsZFwifSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmVhdHVyZVJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRGZWF0dXJlXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmVhdHVyZVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBmZWF0dXJlRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICBwcmV2aW91c1ZhbHVlID0gY3VycmVudEZlYXR1cmU7XG4gICAgZWxzZSBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCk7XG4gIH0pO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGNvb3JkaW5hdGVzIGZyb20gYW55IEdlb0pTT04gb2JqZWN0LlxuICpcbiAqIEBuYW1lIGNvb3JkQWxsXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGUgcG9zaXRpb24gYXJyYXlcbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHZhciBjb29yZHMgPSB0dXJmLmNvb3JkQWxsKGZlYXR1cmVzKTtcbiAqIC8vPSBbWzI2LCAzN10sIFszNiwgNTNdXVxuICovXG5mdW5jdGlvbiBjb29yZEFsbChnZW9qc29uKSB7XG4gIHZhciBjb29yZHMgPSBbXTtcbiAgY29vcmRFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjb29yZCkge1xuICAgIGNvb3Jkcy5wdXNoKGNvb3JkKTtcbiAgfSk7XG4gIHJldHVybiBjb29yZHM7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGdlb21FYWNoXG4gKlxuICogQGNhbGxiYWNrIGdlb21FYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7R2VvbWV0cnl9IGN1cnJlbnRHZW9tZXRyeSBUaGUgY3VycmVudCBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBmZWF0dXJlUHJvcGVydGllcyBUaGUgY3VycmVudCBGZWF0dXJlIFByb3BlcnRpZXMgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmZWF0dXJlQkJveCBUaGUgY3VycmVudCBGZWF0dXJlIEJCb3ggYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBmZWF0dXJlSWQgVGhlIGN1cnJlbnQgRmVhdHVyZSBJZCBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZWFjaCBnZW9tZXRyeSBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaCgpXG4gKlxuICogQG5hbWUgZ2VvbUVhY2hcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBhbnkgR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZ2VvbUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpIHtcbiAqICAgLy89Y3VycmVudEdlb21ldHJ5XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1mZWF0dXJlUHJvcGVydGllc1xuICogICAvLz1mZWF0dXJlQkJveFxuICogICAvLz1mZWF0dXJlSWRcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBnZW9tRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICB2YXIgaSxcbiAgICBqLFxuICAgIGcsXG4gICAgZ2VvbWV0cnksXG4gICAgc3RvcEcsXG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24sXG4gICAgaXNHZW9tZXRyeUNvbGxlY3Rpb24sXG4gICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgZmVhdHVyZUJCb3gsXG4gICAgZmVhdHVyZUlkLFxuICAgIGZlYXR1cmVJbmRleCA9IDAsXG4gICAgaXNGZWF0dXJlQ29sbGVjdGlvbiA9IGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgIGlzRmVhdHVyZSA9IGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlXCIsXG4gICAgc3RvcCA9IGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCA6IDE7XG5cbiAgLy8gVGhpcyBsb2dpYyBtYXkgbG9vayBhIGxpdHRsZSB3ZWlyZC4gVGhlIHJlYXNvbiB3aHkgaXQgaXMgdGhhdCB3YXlcbiAgLy8gaXMgYmVjYXVzZSBpdCdzIHRyeWluZyB0byBiZSBmYXN0LiBHZW9KU09OIHN1cHBvcnRzIG11bHRpcGxlIGtpbmRzXG4gIC8vIG9mIG9iamVjdHMgYXQgaXRzIHJvb3Q6IEZlYXR1cmVDb2xsZWN0aW9uLCBGZWF0dXJlcywgR2VvbWV0cmllcy5cbiAgLy8gVGhpcyBmdW5jdGlvbiBoYXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIGhhbmRsaW5nIGFsbCBvZiB0aGVtLCBhbmQgdGhhdFxuICAvLyBtZWFucyB0aGF0IHNvbWUgb2YgdGhlIGBmb3JgIGxvb3BzIHlvdSBzZWUgYmVsb3cgYWN0dWFsbHkganVzdCBkb24ndCBhcHBseVxuICAvLyB0byBjZXJ0YWluIGlucHV0cy4gRm9yIGluc3RhbmNlLCBpZiB5b3UgZ2l2ZSB0aGlzIGp1c3QgYVxuICAvLyBQb2ludCBnZW9tZXRyeSwgdGhlbiBib3RoIGxvb3BzIGFyZSBzaG9ydC1jaXJjdWl0ZWQgYW5kIGFsbCB3ZSBkb1xuICAvLyBpcyBncmFkdWFsbHkgcmVuYW1lIHRoZSBpbnB1dCB1bnRpbCBpdCdzIGNhbGxlZCAnZ2VvbWV0cnknLlxuICAvL1xuICAvLyBUaGlzIGFsc28gYWltcyB0byBhbGxvY2F0ZSBhcyBmZXcgcmVzb3VyY2VzIGFzIHBvc3NpYmxlOiBqdXN0IGFcbiAgLy8gZmV3IG51bWJlcnMgYW5kIGJvb2xlYW5zLCByYXRoZXIgdGhhbiBhbnkgdGVtcG9yYXJ5IGFycmF5cyBhcyB3b3VsZFxuICAvLyBiZSByZXF1aXJlZCB3aXRoIHRoZSBub3JtYWxpemF0aW9uIGFwcHJvYWNoLlxuICBmb3IgKGkgPSAwOyBpIDwgc3RvcDsgaSsrKSB7XG4gICAgZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24gPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uZ2VvbWV0cnlcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uZ2VvbWV0cnlcbiAgICAgIDogZ2VvanNvbjtcbiAgICBmZWF0dXJlUHJvcGVydGllcyA9IGlzRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvanNvbi5mZWF0dXJlc1tpXS5wcm9wZXJ0aWVzXG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLnByb3BlcnRpZXNcbiAgICAgIDoge307XG4gICAgZmVhdHVyZUJCb3ggPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uYmJveFxuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5iYm94XG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBmZWF0dXJlSWQgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0uaWRcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uaWRcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uID0gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb25cbiAgICAgID8gZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb24udHlwZSA9PT0gXCJHZW9tZXRyeUNvbGxlY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgICBzdG9wRyA9IGlzR2VvbWV0cnlDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXMubGVuZ3RoXG4gICAgICA6IDE7XG5cbiAgICBmb3IgKGcgPSAwOyBnIDwgc3RvcEc7IGcrKykge1xuICAgICAgZ2VvbWV0cnkgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXNbZ11cbiAgICAgICAgOiBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbjtcblxuICAgICAgLy8gSGFuZGxlIG51bGwgR2VvbWV0cnlcbiAgICAgIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgICBmZWF0dXJlQkJveCxcbiAgICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjoge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkdlb21ldHJ5Q29sbGVjdGlvblwiOiB7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnkuZ2VvbWV0cmllc1tqXSxcbiAgICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgICAgICAgZmVhdHVyZUlkXG4gICAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIEdlb21ldHJ5IFR5cGVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE9ubHkgaW5jcmVhc2UgYGZlYXR1cmVJbmRleGAgcGVyIGVhY2ggZmVhdHVyZVxuICAgIGZlYXR1cmVJbmRleCsrO1xuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGdlb21SZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBnZW9tUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBjdXJyZW50R2VvbWV0cnkgVGhlIGN1cnJlbnQgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZVByb3BlcnRpZXMgVGhlIGN1cnJlbnQgRmVhdHVyZSBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmVhdHVyZUJCb3ggVGhlIGN1cnJlbnQgRmVhdHVyZSBCQm94IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gZmVhdHVyZUlkIFRoZSBjdXJyZW50IEZlYXR1cmUgSWQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGdlb21ldHJ5IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBnZW9tUmVkdWNlXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZ2VvbVJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRHZW9tZXRyeSwgZmVhdHVyZUluZGV4LCBmZWF0dXJlUHJvcGVydGllcywgZmVhdHVyZUJCb3gsIGZlYXR1cmVJZCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRHZW9tZXRyeVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89ZmVhdHVyZVByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUJCb3hcbiAqICAgLy89ZmVhdHVyZUlkXG4gKiAgIHJldHVybiBjdXJyZW50R2VvbWV0cnlcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBnZW9tUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGdlb21FYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKFxuICAgICAgY3VycmVudEdlb21ldHJ5LFxuICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICBmZWF0dXJlQkJveCxcbiAgICAgIGZlYXR1cmVJZFxuICAgICkge1xuICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRHZW9tZXRyeTtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudEdlb21ldHJ5LFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBmZWF0dXJlUHJvcGVydGllcyxcbiAgICAgICAgICBmZWF0dXJlQkJveCxcbiAgICAgICAgICBmZWF0dXJlSWRcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBmbGF0dGVuRWFjaFxuICpcbiAqIEBjYWxsYmFjayBmbGF0dGVuRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IGZsYXR0ZW5lZCBmZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBmbGF0dGVuZWQgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvXG4gKiBBcnJheS5mb3JFYWNoLlxuICpcbiAqIEBuYW1lIGZsYXR0ZW5FYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleClcbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYubXVsdGlQb2ludChbWzQwLCAzMF0sIFszNiwgNTNdXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuZmxhdHRlbkVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmbGF0dGVuRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICBnZW9tRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZ2VvbWV0cnksIGZlYXR1cmVJbmRleCwgcHJvcGVydGllcywgYmJveCwgaWQpIHtcbiAgICAvLyBDYWxsYmFjayBmb3Igc2luZ2xlIGdlb21ldHJ5XG4gICAgdmFyIHR5cGUgPSBnZW9tZXRyeSA9PT0gbnVsbCA/IG51bGwgOiBnZW9tZXRyeS50eXBlO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBudWxsOlxuICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgaGVscGVycy5mZWF0dXJlKGdlb21ldHJ5LCBwcm9wZXJ0aWVzLCB7IGJib3g6IGJib3gsIGlkOiBpZCB9KSxcbiAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGdlb21UeXBlO1xuXG4gICAgLy8gQ2FsbGJhY2sgZm9yIG11bHRpLWdlb21ldHJ5XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICBnZW9tVHlwZSA9IFwiUG9pbnRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICAgIGdlb21UeXBlID0gXCJMaW5lU3RyaW5nXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgICBnZW9tVHlwZSA9IFwiUG9seWdvblwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBmb3IgKFxuICAgICAgdmFyIG11bHRpRmVhdHVyZUluZGV4ID0gMDtcbiAgICAgIG11bHRpRmVhdHVyZUluZGV4IDwgZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgbXVsdGlGZWF0dXJlSW5kZXgrK1xuICAgICkge1xuICAgICAgdmFyIGNvb3JkaW5hdGUgPSBnZW9tZXRyeS5jb29yZGluYXRlc1ttdWx0aUZlYXR1cmVJbmRleF07XG4gICAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogZ2VvbVR5cGUsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlLFxuICAgICAgfTtcbiAgICAgIGlmIChcbiAgICAgICAgY2FsbGJhY2soaGVscGVycy5mZWF0dXJlKGdlb20sIHByb3BlcnRpZXMpLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSA9PT1cbiAgICAgICAgZmFsc2VcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZsYXR0ZW5SZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBmbGF0dGVuUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZsYXR0ZW5lZCBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZmxhdHRlblJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5tdWx0aVBvaW50KFtbNDAsIDMwXSwgWzM2LCA1M11dLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5mbGF0dGVuUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRGZWF0dXJlXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmxhdHRlblJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBmbGF0dGVuRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgICAgaWYgKFxuICAgICAgICBmZWF0dXJlSW5kZXggPT09IDAgJiZcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPT09IDAgJiZcbiAgICAgICAgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgIClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50RmVhdHVyZSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXhcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBzZWdtZW50RWFjaFxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50RWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgMi12ZXJ0ZXggbGluZSBzZWdtZW50IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT05cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNTAsIDVdLCBbLTQwLCAtMTBdLCBbLTUwLCAtMTBdLCBbLTQwLCA1XSwgWy01MCwgNV1dXSk7XG4gKlxuICogLy8gSXRlcmF0ZSBvdmVyIEdlb0pTT04gYnkgMi12ZXJ0ZXggc2VnbWVudHNcbiAqIHR1cmYuc2VnbWVudEVhY2gocG9seWdvbiwgZnVuY3Rpb24gKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFNlZ21lbnRcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgLy89c2VnbWVudEluZGV4XG4gKiB9KTtcbiAqXG4gKiAvLyBDYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBzZWdtZW50c1xuICogdmFyIHRvdGFsID0gMDtcbiAqIHR1cmYuc2VnbWVudEVhY2gocG9seWdvbiwgZnVuY3Rpb24gKCkge1xuICogICAgIHRvdGFsKys7XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gc2VnbWVudEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgZmxhdHRlbkVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAgICB2YXIgc2VnbWVudEluZGV4ID0gMDtcblxuICAgIC8vIEV4Y2x1ZGUgbnVsbCBHZW9tZXRyaWVzXG4gICAgaWYgKCFmZWF0dXJlLmdlb21ldHJ5KSByZXR1cm47XG4gICAgLy8gKE11bHRpKVBvaW50IGdlb21ldHJpZXMgZG8gbm90IGNvbnRhaW4gc2VnbWVudHMgdGhlcmVmb3JlIHRoZXkgYXJlIGlnbm9yZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uLlxuICAgIHZhciB0eXBlID0gZmVhdHVyZS5nZW9tZXRyeS50eXBlO1xuICAgIGlmICh0eXBlID09PSBcIlBvaW50XCIgfHwgdHlwZSA9PT0gXCJNdWx0aVBvaW50XCIpIHJldHVybjtcblxuICAgIC8vIEdlbmVyYXRlIDItdmVydGV4IGxpbmUgc2VnbWVudHNcbiAgICB2YXIgcHJldmlvdXNDb29yZHM7XG4gICAgdmFyIHByZXZpb3VzRmVhdHVyZUluZGV4ID0gMDtcbiAgICB2YXIgcHJldmlvdXNNdWx0aUluZGV4ID0gMDtcbiAgICB2YXIgcHJldkdlb21JbmRleCA9IDA7XG4gICAgaWYgKFxuICAgICAgY29vcmRFYWNoKFxuICAgICAgICBmZWF0dXJlLFxuICAgICAgICBmdW5jdGlvbiAoXG4gICAgICAgICAgY3VycmVudENvb3JkLFxuICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZUluZGV4Q29vcmQsXG4gICAgICAgICAgbXVsdGlQYXJ0SW5kZXhDb29yZCxcbiAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNpbXVsYXRpbmcgYSBtZXRhLmNvb3JkUmVkdWNlKCkgc2luY2UgYHJlZHVjZWAgb3BlcmF0aW9ucyBjYW5ub3QgYmUgc3RvcHBlZCBieSByZXR1cm5pbmcgYGZhbHNlYFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByZXZpb3VzQ29vcmRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGZlYXR1cmVJbmRleCA+IHByZXZpb3VzRmVhdHVyZUluZGV4IHx8XG4gICAgICAgICAgICBtdWx0aVBhcnRJbmRleENvb3JkID4gcHJldmlvdXNNdWx0aUluZGV4IHx8XG4gICAgICAgICAgICBnZW9tZXRyeUluZGV4ID4gcHJldkdlb21JbmRleFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcHJldmlvdXNDb29yZHMgPSBjdXJyZW50Q29vcmQ7XG4gICAgICAgICAgICBwcmV2aW91c0ZlYXR1cmVJbmRleCA9IGZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgIHByZXZpb3VzTXVsdGlJbmRleCA9IG11bHRpUGFydEluZGV4Q29vcmQ7XG4gICAgICAgICAgICBwcmV2R2VvbUluZGV4ID0gZ2VvbWV0cnlJbmRleDtcbiAgICAgICAgICAgIHNlZ21lbnRJbmRleCA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjdXJyZW50U2VnbWVudCA9IGhlbHBlcnMubGluZVN0cmluZyhcbiAgICAgICAgICAgIFtwcmV2aW91c0Nvb3JkcywgY3VycmVudENvb3JkXSxcbiAgICAgICAgICAgIGZlYXR1cmUucHJvcGVydGllc1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgIGN1cnJlbnRTZWdtZW50LFxuICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4LFxuICAgICAgICAgICAgICBzZWdtZW50SW5kZXhcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHNlZ21lbnRJbmRleCsrO1xuICAgICAgICAgIHByZXZpb3VzQ29vcmRzID0gY3VycmVudENvb3JkO1xuICAgICAgICB9XG4gICAgICApID09PSBmYWxzZVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHNlZ21lbnRSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50UmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIDItdmVydGV4IGxpbmUgc2VnbWVudCBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT05cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRTZWdtZW50LCBjdXJyZW50SW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHlnb24gPSB0dXJmLnBvbHlnb24oW1tbLTUwLCA1XSwgWy00MCwgLTEwXSwgWy01MCwgLTEwXSwgWy00MCwgNV0sIFstNTAsIDVdXV0pO1xuICpcbiAqIC8vIEl0ZXJhdGUgb3ZlciBHZW9KU09OIGJ5IDItdmVydGV4IHNlZ21lbnRzXG4gKiB0dXJmLnNlZ21lbnRSZWR1Y2UocG9seWdvbiwgZnVuY3Rpb24gKHByZXZpb3VzU2VnbWVudCwgY3VycmVudFNlZ21lbnQsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgsIHNlZ21lbnRJbmRleCkge1xuICogICAvLz0gcHJldmlvdXNTZWdtZW50XG4gKiAgIC8vPSBjdXJyZW50U2VnbWVudFxuICogICAvLz0gZmVhdHVyZUluZGV4XG4gKiAgIC8vPSBtdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz0gZ2VvbWV0cnlJbmRleFxuICogICAvLz0gc2VnbWVudEluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50U2VnbWVudFxuICogfSk7XG4gKlxuICogLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2VnbWVudHNcbiAqIHZhciBpbml0aWFsVmFsdWUgPSAwXG4gKiB2YXIgdG90YWwgPSB0dXJmLnNlZ21lbnRSZWR1Y2UocG9seWdvbiwgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUpIHtcbiAqICAgICBwcmV2aW91c1ZhbHVlKys7XG4gKiAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG4gKiB9LCBpbml0aWFsVmFsdWUpO1xuICovXG5mdW5jdGlvbiBzZWdtZW50UmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIHZhciBzdGFydGVkID0gZmFsc2U7XG4gIHNlZ21lbnRFYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKFxuICAgICAgY3VycmVudFNlZ21lbnQsXG4gICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgIGdlb21ldHJ5SW5kZXgsXG4gICAgICBzZWdtZW50SW5kZXhcbiAgICApIHtcbiAgICAgIGlmIChzdGFydGVkID09PSBmYWxzZSAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRTZWdtZW50O1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50U2VnbWVudCxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZ2VvbWV0cnlJbmRleCxcbiAgICAgICAgICBzZWdtZW50SW5kZXhcbiAgICAgICAgKTtcbiAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGxpbmVFYWNoXG4gKlxuICogQGNhbGxiYWNrIGxpbmVFYWNoQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudExpbmUgVGhlIGN1cnJlbnQgTGluZVN0cmluZ3xMaW5lYXJSaW5nIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWRcbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBsaW5lIG9yIHJpbmcgY29vcmRpbmF0ZXMgaW4gTGluZVN0cmluZywgUG9seWdvbiwgTXVsdGlMaW5lU3RyaW5nLCBNdWx0aVBvbHlnb24gRmVhdHVyZXMgb3IgR2VvbWV0cmllcyxcbiAqIHNpbWlsYXIgdG8gQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBsaW5lRWFjaFxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbnxNdWx0aUxpbmVTdHJpbmd8TXVsdGlQb2x5Z29uPn0gZ2VvanNvbiBvYmplY3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KVxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aUxpbmUgPSB0dXJmLm11bHRpTGluZVN0cmluZyhbXG4gKiAgIFtbMjYsIDM3XSwgWzM1LCA0NV1dLFxuICogICBbWzM2LCA1M10sIFszOCwgNTBdLCBbNDEsIDU1XV1cbiAqIF0pO1xuICpcbiAqIHR1cmYubGluZUVhY2gobXVsdGlMaW5lLCBmdW5jdGlvbiAoY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudExpbmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBsaW5lRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICAvLyB2YWxpZGF0aW9uXG4gIGlmICghZ2VvanNvbikgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyByZXF1aXJlZFwiKTtcblxuICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgIGlmIChmZWF0dXJlLmdlb21ldHJ5ID09PSBudWxsKSByZXR1cm47XG4gICAgdmFyIHR5cGUgPSBmZWF0dXJlLmdlb21ldHJ5LnR5cGU7XG4gICAgdmFyIGNvb3JkcyA9IGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICBpZiAoY2FsbGJhY2soZmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgMCwgMCkgPT09IGZhbHNlKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBnZW9tZXRyeUluZGV4ID0gMDtcbiAgICAgICAgICBnZW9tZXRyeUluZGV4IDwgY29vcmRzLmxlbmd0aDtcbiAgICAgICAgICBnZW9tZXRyeUluZGV4KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgIGhlbHBlcnMubGluZVN0cmluZyhjb29yZHNbZ2VvbWV0cnlJbmRleF0sIGZlYXR1cmUucHJvcGVydGllcyksXG4gICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGxpbmVSZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBsaW5lUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRMaW5lIFRoZSBjdXJyZW50IExpbmVTdHJpbmd8TGluZWFyUmluZyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZFxuICovXG5cbi8qKlxuICogUmVkdWNlIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5yZWR1Y2UoKS5cbiAqXG4gKiBAbmFtZSBsaW5lUmVkdWNlXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8TGluZVN0cmluZ3xQb2x5Z29ufE11bHRpTGluZVN0cmluZ3xNdWx0aVBvbHlnb24+fSBnZW9qc29uIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aVBvbHkgPSB0dXJmLm11bHRpUG9seWdvbihbXG4gKiAgIHR1cmYucG9seWdvbihbW1sxMiw0OF0sWzIsNDFdLFsyNCwzOF0sWzEyLDQ4XV0sIFtbOSw0NF0sWzEzLDQxXSxbMTMsNDVdLFs5LDQ0XV1dKSxcbiAqICAgdHVyZi5wb2x5Z29uKFtbWzUsIDVdLCBbMCwgMF0sIFsyLCAyXSwgWzQsIDRdLCBbNSwgNV1dXSlcbiAqIF0pO1xuICpcbiAqIHR1cmYubGluZVJlZHVjZShtdWx0aVBvbHksIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRMaW5lXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz1nZW9tZXRyeUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50TGluZVxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGxpbmVSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgbGluZUVhY2goXG4gICAgZ2VvanNvbixcbiAgICBmdW5jdGlvbiAoY3VycmVudExpbmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIGdlb21ldHJ5SW5kZXgpIHtcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50TGluZTtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudExpbmUsXG4gICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXhcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIEZpbmRzIGEgcGFydGljdWxhciAyLXZlcnRleCBMaW5lU3RyaW5nIFNlZ21lbnQgZnJvbSBhIEdlb0pTT04gdXNpbmcgYEB0dXJmL21ldGFgIGluZGV4ZXMuXG4gKlxuICogTmVnYXRpdmUgaW5kZXhlcyBhcmUgcGVybWl0dGVkLlxuICogUG9pbnQgJiBNdWx0aVBvaW50IHdpbGwgYWx3YXlzIHJldHVybiBudWxsLlxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBBbnkgR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mZWF0dXJlSW5kZXg9MF0gRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4PTBdIE11bHRpLUZlYXR1cmUgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5nZW9tZXRyeUluZGV4PTBdIEdlb21ldHJ5IEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2VnbWVudEluZGV4PTBdIFNlZ21lbnQgSW5kZXhcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcm9wZXJ0aWVzPXt9XSBUcmFuc2xhdGUgUHJvcGVydGllcyB0byBvdXRwdXQgTGluZVN0cmluZ1xuICogQHBhcmFtIHtCQm94fSBbb3B0aW9ucy5iYm94PXt9XSBUcmFuc2xhdGUgQkJveCB0byBvdXRwdXQgTGluZVN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbb3B0aW9ucy5pZD17fV0gVHJhbnNsYXRlIElkIHRvIG91dHB1dCBMaW5lU3RyaW5nXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gMi12ZXJ0ZXggR2VvSlNPTiBGZWF0dXJlIExpbmVTdHJpbmdcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1xuICogICAgIFtbMTAsIDEwXSwgWzUwLCAzMF0sIFszMCwgNDBdXSxcbiAqICAgICBbWy0xMCwgLTEwXSwgWy01MCwgLTMwXSwgWy0zMCwgLTQwXV1cbiAqIF0pO1xuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgKGRlZmF1bHRzIGFyZSAwKVxuICogdHVyZi5maW5kU2VnbWVudChtdWx0aUxpbmUpO1xuICogLy8gPT4gRmVhdHVyZTxMaW5lU3RyaW5nPFtbMTAsIDEwXSwgWzUwLCAzMF1dPj5cbiAqXG4gKiAvLyBGaXJzdCBTZWdtZW50IG9mIDJuZCBNdWx0aSBGZWF0dXJlXG4gKiB0dXJmLmZpbmRTZWdtZW50KG11bHRpTGluZSwge211bHRpRmVhdHVyZUluZGV4OiAxfSk7XG4gKiAvLyA9PiBGZWF0dXJlPExpbmVTdHJpbmc8W1stMTAsIC0xMF0sIFstNTAsIC0zMF1dPj5cbiAqXG4gKiAvLyBMYXN0IFNlZ21lbnQgb2YgTGFzdCBNdWx0aSBGZWF0dXJlXG4gKiB0dXJmLmZpbmRTZWdtZW50KG11bHRpTGluZSwge211bHRpRmVhdHVyZUluZGV4OiAtMSwgc2VnbWVudEluZGV4OiAtMX0pO1xuICogLy8gPT4gRmVhdHVyZTxMaW5lU3RyaW5nPFtbLTUwLCAtMzBdLCBbLTMwLCAtNDBdXT4+XG4gKi9cbmZ1bmN0aW9uIGZpbmRTZWdtZW50KGdlb2pzb24sIG9wdGlvbnMpIHtcbiAgLy8gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCFoZWxwZXJzLmlzT2JqZWN0KG9wdGlvbnMpKSB0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIGlzIGludmFsaWRcIik7XG4gIHZhciBmZWF0dXJlSW5kZXggPSBvcHRpb25zLmZlYXR1cmVJbmRleCB8fCAwO1xuICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSBvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBnZW9tZXRyeUluZGV4ID0gb3B0aW9ucy5nZW9tZXRyeUluZGV4IHx8IDA7XG4gIHZhciBzZWdtZW50SW5kZXggPSBvcHRpb25zLnNlZ21lbnRJbmRleCB8fCAwO1xuXG4gIC8vIEZpbmQgRmVhdHVyZUluZGV4XG4gIHZhciBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICB2YXIgZ2VvbWV0cnk7XG5cbiAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBmZWF0dXJlSW5kZXggPSBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCArIGZlYXR1cmVJbmRleDtcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbiAgfVxuXG4gIC8vIEZpbmQgU2VnbWVudEluZGV4XG4gIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcztcbiAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMCkgc2VnbWVudEluZGV4ID0gY29vcmRzLmxlbmd0aCArIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gaGVscGVycy5saW5lU3RyaW5nKFxuICAgICAgICBbY29vcmRzW3NlZ21lbnRJbmRleF0sIGNvb3Jkc1tzZWdtZW50SW5kZXggKyAxXV0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgIGlmIChnZW9tZXRyeUluZGV4IDwgMCkgZ2VvbWV0cnlJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBnZW9tZXRyeUluZGV4O1xuICAgICAgaWYgKHNlZ21lbnRJbmRleCA8IDApXG4gICAgICAgIHNlZ21lbnRJbmRleCA9IGNvb3Jkc1tnZW9tZXRyeUluZGV4XS5sZW5ndGggKyBzZWdtZW50SW5kZXggLSAxO1xuICAgICAgcmV0dXJuIGhlbHBlcnMubGluZVN0cmluZyhcbiAgICAgICAgW1xuICAgICAgICAgIGNvb3Jkc1tnZW9tZXRyeUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1tnZW9tZXRyeUluZGV4XVtzZWdtZW50SW5kZXggKyAxXSxcbiAgICAgICAgXSxcbiAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIGlmIChzZWdtZW50SW5kZXggPCAwKVxuICAgICAgICBzZWdtZW50SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gaGVscGVycy5saW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bc2VnbWVudEluZGV4ICsgMV0sXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApXG4gICAgICAgIGdlb21ldHJ5SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMClcbiAgICAgICAgc2VnbWVudEluZGV4ID1cbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCAtIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gaGVscGVycy5saW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtnZW9tZXRyeUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF1bc2VnbWVudEluZGV4ICsgMV0sXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xufVxuXG4vKipcbiAqIEZpbmRzIGEgcGFydGljdWxhciBQb2ludCBmcm9tIGEgR2VvSlNPTiB1c2luZyBgQHR1cmYvbWV0YWAgaW5kZXhlcy5cbiAqXG4gKiBOZWdhdGl2ZSBpbmRleGVzIGFyZSBwZXJtaXR0ZWQuXG4gKlxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIEFueSBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZlYXR1cmVJbmRleD0wXSBGZWF0dXJlIEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXg9MF0gTXVsdGktRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmdlb21ldHJ5SW5kZXg9MF0gR2VvbWV0cnkgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb29yZEluZGV4PTBdIENvb3JkIEluZGV4XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvcGVydGllcz17fV0gVHJhbnNsYXRlIFByb3BlcnRpZXMgdG8gb3V0cHV0IFBvaW50XG4gKiBAcGFyYW0ge0JCb3h9IFtvcHRpb25zLmJib3g9e31dIFRyYW5zbGF0ZSBCQm94IHRvIG91dHB1dCBQb2ludFxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbb3B0aW9ucy5pZD17fV0gVHJhbnNsYXRlIElkIHRvIG91dHB1dCBQb2ludFxuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSAyLXZlcnRleCBHZW9KU09OIEZlYXR1cmUgUG9pbnRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1xuICogICAgIFtbMTAsIDEwXSwgWzUwLCAzMF0sIFszMCwgNDBdXSxcbiAqICAgICBbWy0xMCwgLTEwXSwgWy01MCwgLTMwXSwgWy0zMCwgLTQwXV1cbiAqIF0pO1xuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgKGRlZmF1bHRzIGFyZSAwKVxuICogdHVyZi5maW5kUG9pbnQobXVsdGlMaW5lKTtcbiAqIC8vID0+IEZlYXR1cmU8UG9pbnQ8WzEwLCAxMF0+PlxuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgb2YgdGhlIDJuZCBNdWx0aS1GZWF0dXJlXG4gKiB0dXJmLmZpbmRQb2ludChtdWx0aUxpbmUsIHttdWx0aUZlYXR1cmVJbmRleDogMX0pO1xuICogLy8gPT4gRmVhdHVyZTxQb2ludDxbLTEwLCAtMTBdPj5cbiAqXG4gKiAvLyBMYXN0IFNlZ21lbnQgb2YgbGFzdCBNdWx0aS1GZWF0dXJlXG4gKiB0dXJmLmZpbmRQb2ludChtdWx0aUxpbmUsIHttdWx0aUZlYXR1cmVJbmRleDogLTEsIGNvb3JkSW5kZXg6IC0xfSk7XG4gKiAvLyA9PiBGZWF0dXJlPFBvaW50PFstMzAsIC00MF0+PlxuICovXG5mdW5jdGlvbiBmaW5kUG9pbnQoZ2VvanNvbiwgb3B0aW9ucykge1xuICAvLyBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIWhlbHBlcnMuaXNPYmplY3Qob3B0aW9ucykpIHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMgaXMgaW52YWxpZFwiKTtcbiAgdmFyIGZlYXR1cmVJbmRleCA9IG9wdGlvbnMuZmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBtdWx0aUZlYXR1cmVJbmRleCA9IG9wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXggfHwgMDtcbiAgdmFyIGdlb21ldHJ5SW5kZXggPSBvcHRpb25zLmdlb21ldHJ5SW5kZXggfHwgMDtcbiAgdmFyIGNvb3JkSW5kZXggPSBvcHRpb25zLmNvb3JkSW5kZXggfHwgMDtcblxuICAvLyBGaW5kIEZlYXR1cmVJbmRleFxuICB2YXIgcHJvcGVydGllcyA9IG9wdGlvbnMucHJvcGVydGllcztcbiAgdmFyIGdlb21ldHJ5O1xuXG4gIHN3aXRjaCAoZ2VvanNvbi50eXBlKSB7XG4gICAgY2FzZSBcIkZlYXR1cmVDb2xsZWN0aW9uXCI6XG4gICAgICBpZiAoZmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgZmVhdHVyZUluZGV4ID0gZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGggKyBmZWF0dXJlSW5kZXg7XG4gICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0ucHJvcGVydGllcztcbiAgICAgIGdlb21ldHJ5ID0gZ2VvanNvbi5mZWF0dXJlc1tmZWF0dXJlSW5kZXhdLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkZlYXR1cmVcIjpcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24ucHJvcGVydGllcztcbiAgICAgIGdlb21ldHJ5ID0gZ2VvanNvbi5nZW9tZXRyeTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQb2ludFwiOlxuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgIGdlb21ldHJ5ID0gZ2VvanNvbjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnZW9qc29uIGlzIGludmFsaWRcIik7XG4gIH1cblxuICAvLyBGaW5kIENvb3JkIEluZGV4XG4gIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcztcbiAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICByZXR1cm4gaGVscGVycy5wb2ludChjb29yZHMsIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIHJldHVybiBoZWxwZXJzLnBvaW50KGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApIGNvb3JkSW5kZXggPSBjb29yZHMubGVuZ3RoICsgY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBoZWxwZXJzLnBvaW50KGNvb3Jkc1tjb29yZEluZGV4XSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgIGlmIChnZW9tZXRyeUluZGV4IDwgMCkgZ2VvbWV0cnlJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBnZW9tZXRyeUluZGV4O1xuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKVxuICAgICAgICBjb29yZEluZGV4ID0gY29vcmRzW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCArIGNvb3JkSW5kZXg7XG4gICAgICByZXR1cm4gaGVscGVycy5wb2ludChjb29yZHNbZ2VvbWV0cnlJbmRleF1bY29vcmRJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKVxuICAgICAgICBjb29yZEluZGV4ID0gY29vcmRzW211bHRpRmVhdHVyZUluZGV4XS5sZW5ndGggKyBjb29yZEluZGV4O1xuICAgICAgcmV0dXJuIGhlbHBlcnMucG9pbnQoY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtjb29yZEluZGV4XSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApXG4gICAgICAgIGdlb21ldHJ5SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApXG4gICAgICAgIGNvb3JkSW5kZXggPVxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF0ubGVuZ3RoIC0gY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBoZWxwZXJzLnBvaW50KFxuICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdW2Nvb3JkSW5kZXhdLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbn1cblxuZXhwb3J0cy5jb29yZEFsbCA9IGNvb3JkQWxsO1xuZXhwb3J0cy5jb29yZEVhY2ggPSBjb29yZEVhY2g7XG5leHBvcnRzLmNvb3JkUmVkdWNlID0gY29vcmRSZWR1Y2U7XG5leHBvcnRzLmZlYXR1cmVFYWNoID0gZmVhdHVyZUVhY2g7XG5leHBvcnRzLmZlYXR1cmVSZWR1Y2UgPSBmZWF0dXJlUmVkdWNlO1xuZXhwb3J0cy5maW5kUG9pbnQgPSBmaW5kUG9pbnQ7XG5leHBvcnRzLmZpbmRTZWdtZW50ID0gZmluZFNlZ21lbnQ7XG5leHBvcnRzLmZsYXR0ZW5FYWNoID0gZmxhdHRlbkVhY2g7XG5leHBvcnRzLmZsYXR0ZW5SZWR1Y2UgPSBmbGF0dGVuUmVkdWNlO1xuZXhwb3J0cy5nZW9tRWFjaCA9IGdlb21FYWNoO1xuZXhwb3J0cy5nZW9tUmVkdWNlID0gZ2VvbVJlZHVjZTtcbmV4cG9ydHMubGluZUVhY2ggPSBsaW5lRWFjaDtcbmV4cG9ydHMubGluZVJlZHVjZSA9IGxpbmVSZWR1Y2U7XG5leHBvcnRzLnByb3BFYWNoID0gcHJvcEVhY2g7XG5leHBvcnRzLnByb3BSZWR1Y2UgPSBwcm9wUmVkdWNlO1xuZXhwb3J0cy5zZWdtZW50RWFjaCA9IHNlZ21lbnRFYWNoO1xuZXhwb3J0cy5zZWdtZW50UmVkdWNlID0gc2VnbWVudFJlZHVjZTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBtZXRhXzEgPSByZXF1aXJlKFwiQHR1cmYvbWV0YVwiKTtcbi8qKlxuICogVGFrZXMgYSBzZXQgb2YgZmVhdHVyZXMsIGNhbGN1bGF0ZXMgdGhlIGJib3ggb2YgYWxsIGlucHV0IGZlYXR1cmVzLCBhbmQgcmV0dXJucyBhIGJvdW5kaW5nIGJveC5cbiAqXG4gKiBAbmFtZSBiYm94XG4gKiBAcGFyYW0ge0dlb0pTT059IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcmV0dXJucyB7QkJveH0gYmJveCBleHRlbnQgaW4gW21pblgsIG1pblksIG1heFgsIG1heFldIG9yZGVyXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmUgPSB0dXJmLmxpbmVTdHJpbmcoW1stNzQsIDQwXSwgWy03OCwgNDJdLCBbLTgyLCAzNV1dKTtcbiAqIHZhciBiYm94ID0gdHVyZi5iYm94KGxpbmUpO1xuICogdmFyIGJib3hQb2x5Z29uID0gdHVyZi5iYm94UG9seWdvbihiYm94KTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbbGluZSwgYmJveFBvbHlnb25dXG4gKi9cbmZ1bmN0aW9uIGJib3goZ2VvanNvbikge1xuICAgIHZhciByZXN1bHQgPSBbSW5maW5pdHksIEluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eV07XG4gICAgbWV0YV8xLmNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgaWYgKHJlc3VsdFswXSA+IGNvb3JkWzBdKSB7XG4gICAgICAgICAgICByZXN1bHRbMF0gPSBjb29yZFswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0WzFdID4gY29vcmRbMV0pIHtcbiAgICAgICAgICAgIHJlc3VsdFsxXSA9IGNvb3JkWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRbMl0gPCBjb29yZFswXSkge1xuICAgICAgICAgICAgcmVzdWx0WzJdID0gY29vcmRbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFszXSA8IGNvb3JkWzFdKSB7XG4gICAgICAgICAgICByZXN1bHRbM10gPSBjb29yZFsxXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5iYm94W1wiZGVmYXVsdFwiXSA9IGJib3g7XG5leHBvcnRzLmRlZmF1bHQgPSBiYm94O1xuIiwgInZhciByYnVzaCA9IHJlcXVpcmUoJ3JidXNoJyk7XG52YXIgaGVscGVycyA9IHJlcXVpcmUoJ0B0dXJmL2hlbHBlcnMnKTtcbnZhciBtZXRhID0gcmVxdWlyZSgnQHR1cmYvbWV0YScpO1xudmFyIHR1cmZCQm94ID0gcmVxdWlyZSgnQHR1cmYvYmJveCcpLmRlZmF1bHQ7XG52YXIgZmVhdHVyZUVhY2ggPSBtZXRhLmZlYXR1cmVFYWNoO1xudmFyIGNvb3JkRWFjaCA9IG1ldGEuY29vcmRFYWNoO1xudmFyIHBvbHlnb24gPSBoZWxwZXJzLnBvbHlnb247XG52YXIgZmVhdHVyZUNvbGxlY3Rpb24gPSBoZWxwZXJzLmZlYXR1cmVDb2xsZWN0aW9uO1xuXG4vKipcbiAqIEdlb0pTT04gaW1wbGVtZW50YXRpb24gb2YgW1JCdXNoXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNyYnVzaCkgc3BhdGlhbCBpbmRleC5cbiAqXG4gKiBAbmFtZSByYnVzaFxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhFbnRyaWVzPTldIGRlZmluZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgaW4gYSB0cmVlIG5vZGUuIDkgKHVzZWQgYnkgZGVmYXVsdCkgaXMgYVxuICogcmVhc29uYWJsZSBjaG9pY2UgZm9yIG1vc3QgYXBwbGljYXRpb25zLiBIaWdoZXIgdmFsdWUgbWVhbnMgZmFzdGVyIGluc2VydGlvbiBhbmQgc2xvd2VyIHNlYXJjaCwgYW5kIHZpY2UgdmVyc2EuXG4gKiBAcmV0dXJucyB7UkJ1c2h9IEdlb0pTT04gUkJ1c2hcbiAqIEBleGFtcGxlXG4gKiB2YXIgZ2VvanNvblJidXNoID0gcmVxdWlyZSgnZ2VvanNvbi1yYnVzaCcpLmRlZmF1bHQ7XG4gKiB2YXIgdHJlZSA9IGdlb2pzb25SYnVzaCgpO1xuICovXG5mdW5jdGlvbiBnZW9qc29uUmJ1c2gobWF4RW50cmllcykge1xuICAgIHZhciB0cmVlID0gbmV3IHJidXNoKG1heEVudHJpZXMpO1xuICAgIC8qKlxuICAgICAqIFtpbnNlcnRdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI2RhdGEtZm9ybWF0KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtGZWF0dXJlfSBmZWF0dXJlIGluc2VydCBzaW5nbGUgR2VvSlNPTiBGZWF0dXJlXG4gICAgICogQHJldHVybnMge1JCdXNofSBHZW9KU09OIFJCdXNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9seSA9IHR1cmYucG9seWdvbihbW1stNzgsIDQxXSwgWy02NywgNDFdLCBbLTY3LCA0OF0sIFstNzgsIDQ4XSwgWy03OCwgNDFdXV0pO1xuICAgICAqIHRyZWUuaW5zZXJ0KHBvbHkpXG4gICAgICovXG4gICAgdHJlZS5pbnNlcnQgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBpZiAoZmVhdHVyZS50eXBlICE9PSAnRmVhdHVyZScpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmZWF0dXJlJyk7XG4gICAgICAgIGZlYXR1cmUuYmJveCA9IGZlYXR1cmUuYmJveCA/IGZlYXR1cmUuYmJveCA6IHR1cmZCQm94KGZlYXR1cmUpO1xuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLmluc2VydC5jYWxsKHRoaXMsIGZlYXR1cmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBbbG9hZF0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjYnVsay1pbnNlcnRpbmctZGF0YSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258QXJyYXk8RmVhdHVyZT59IGZlYXR1cmVzIGxvYWQgZW50aXJlIEdlb0pTT04gRmVhdHVyZUNvbGxlY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7UkJ1c2h9IEdlb0pTT04gUkJ1c2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb2x5cyA9IHR1cmYucG9seWdvbnMoW1xuICAgICAqICAgICBbW1stNzgsIDQxXSwgWy02NywgNDFdLCBbLTY3LCA0OF0sIFstNzgsIDQ4XSwgWy03OCwgNDFdXV0sXG4gICAgICogICAgIFtbWy05MywgMzJdLCBbLTgzLCAzMl0sIFstODMsIDM5XSwgWy05MywgMzldLCBbLTkzLCAzMl1dXVxuICAgICAqIF0pO1xuICAgICAqIHRyZWUubG9hZChwb2x5cyk7XG4gICAgICovXG4gICAgdHJlZS5sb2FkID0gZnVuY3Rpb24gKGZlYXR1cmVzKSB7XG4gICAgICAgIHZhciBsb2FkID0gW107XG4gICAgICAgIC8vIExvYWQgYW4gQXJyYXkgb2YgRmVhdHVyZXNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmVhdHVyZXMpKSB7XG4gICAgICAgICAgICBmZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUudHlwZSAhPT0gJ0ZlYXR1cmUnKSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmVhdHVyZXMnKTtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLmJib3ggPSBmZWF0dXJlLmJib3ggPyBmZWF0dXJlLmJib3ggOiB0dXJmQkJveChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICBsb2FkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIExvYWQgYSBGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgICAgICAgZmVhdHVyZUVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUudHlwZSAhPT0gJ0ZlYXR1cmUnKSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmVhdHVyZXMnKTtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLmJib3ggPSBmZWF0dXJlLmJib3ggPyBmZWF0dXJlLmJib3ggOiB0dXJmQkJveChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICBsb2FkLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLmxvYWQuY2FsbCh0aGlzLCBsb2FkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogW3JlbW92ZV0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjcmVtb3ZpbmctZGF0YSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmVhdHVyZX0gZmVhdHVyZSByZW1vdmUgc2luZ2xlIEdlb0pTT04gRmVhdHVyZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFscyBQYXNzIGEgY3VzdG9tIGVxdWFscyBmdW5jdGlvbiB0byBjb21wYXJlIGJ5IHZhbHVlIGZvciByZW1vdmFsLlxuICAgICAqIEByZXR1cm5zIHtSQnVzaH0gR2VvSlNPTiBSQnVzaFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHBvbHkgPSB0dXJmLnBvbHlnb24oW1tbLTc4LCA0MV0sIFstNjcsIDQxXSwgWy02NywgNDhdLCBbLTc4LCA0OF0sIFstNzgsIDQxXV1dKTtcbiAgICAgKlxuICAgICAqIHRyZWUucmVtb3ZlKHBvbHkpO1xuICAgICAqL1xuICAgIHRyZWUucmVtb3ZlID0gZnVuY3Rpb24gKGZlYXR1cmUsIGVxdWFscykge1xuICAgICAgICBpZiAoZmVhdHVyZS50eXBlICE9PSAnRmVhdHVyZScpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmZWF0dXJlJyk7XG4gICAgICAgIGZlYXR1cmUuYmJveCA9IGZlYXR1cmUuYmJveCA/IGZlYXR1cmUuYmJveCA6IHR1cmZCQm94KGZlYXR1cmUpO1xuICAgICAgICByZXR1cm4gcmJ1c2gucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMsIGZlYXR1cmUsIGVxdWFscyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFtjbGVhcl0oaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvcmJ1c2gjcmVtb3ZpbmctZGF0YSlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtSQnVzaH0gR2VvSlNPTiBSYnVzaFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdHJlZS5jbGVhcigpXG4gICAgICovXG4gICAgdHJlZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJidXNoLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBbc2VhcmNoXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNzZWFyY2gpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0JCb3h8RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZX0gZ2VvanNvbiBzZWFyY2ggd2l0aCBHZW9KU09OXG4gICAgICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9ufSBhbGwgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3RzIHdpdGggdGhlIGdpdmVuIEdlb0pTT04uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9seSA9IHR1cmYucG9seWdvbihbW1stNzgsIDQxXSwgWy02NywgNDFdLCBbLTY3LCA0OF0sIFstNzgsIDQ4XSwgWy03OCwgNDFdXV0pO1xuICAgICAqXG4gICAgICogdHJlZS5zZWFyY2gocG9seSk7XG4gICAgICovXG4gICAgdHJlZS5zZWFyY2ggPSBmdW5jdGlvbiAoZ2VvanNvbikge1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSByYnVzaC5wcm90b3R5cGUuc2VhcmNoLmNhbGwodGhpcywgdGhpcy50b0JCb3goZ2VvanNvbikpO1xuICAgICAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBbY29sbGlkZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI2NvbGxpc2lvbnMpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0JCb3h8RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZX0gZ2VvanNvbiBjb2xsaWRlcyB3aXRoIEdlb0pTT05cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBhcmUgYW55IGl0ZW1zIGludGVyc2VjdGluZyB0aGUgZ2l2ZW4gR2VvSlNPTiwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHBvbHkgPSB0dXJmLnBvbHlnb24oW1tbLTc4LCA0MV0sIFstNjcsIDQxXSwgWy02NywgNDhdLCBbLTc4LCA0OF0sIFstNzgsIDQxXV1dKTtcbiAgICAgKlxuICAgICAqIHRyZWUuY29sbGlkZXMocG9seSk7XG4gICAgICovXG4gICAgdHJlZS5jb2xsaWRlcyA9IGZ1bmN0aW9uIChnZW9qc29uKSB7XG4gICAgICAgIHJldHVybiByYnVzaC5wcm90b3R5cGUuY29sbGlkZXMuY2FsbCh0aGlzLCB0aGlzLnRvQkJveChnZW9qc29uKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFthbGxdKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI3NlYXJjaClcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbn0gYWxsIHRoZSBmZWF0dXJlcyBpbiBSQnVzaFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdHJlZS5hbGwoKVxuICAgICAqL1xuICAgIHRyZWUuYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmVhdHVyZXMgPSByYnVzaC5wcm90b3R5cGUuYWxsLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihmZWF0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFt0b0pTT05dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3JidXNoI2V4cG9ydC1hbmQtaW1wb3J0KVxuICAgICAqXG4gICAgICogQHJldHVybnMge2FueX0gZXhwb3J0IGRhdGEgYXMgSlNPTiBvYmplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBleHBvcnRlZCA9IHRyZWUudG9KU09OKClcbiAgICAgKi9cbiAgICB0cmVlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJidXNoLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogW2Zyb21KU09OXShodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9yYnVzaCNleHBvcnQtYW5kLWltcG9ydClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBqc29uIGltcG9ydCBwcmV2aW91c2x5IGV4cG9ydGVkIGRhdGFcbiAgICAgKiBAcmV0dXJucyB7UkJ1c2h9IEdlb0pTT04gUkJ1c2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBleHBvcnRlZCA9IHtcbiAgICAgKiAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAqICAgICB7XG4gICAgICogICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAqICAgICAgIFwiZ2VvbWV0cnlcIjoge1xuICAgICAqICAgICAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAgICAgKiAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogWzExMCwgNTBdXG4gICAgICogICAgICAgfSxcbiAgICAgKiAgICAgICBcInByb3BlcnRpZXNcIjoge30sXG4gICAgICogICAgICAgXCJiYm94XCI6IFsxMTAsIDUwLCAxMTAsIDUwXVxuICAgICAqICAgICB9XG4gICAgICogICBdLFxuICAgICAqICAgXCJoZWlnaHRcIjogMSxcbiAgICAgKiAgIFwibGVhZlwiOiB0cnVlLFxuICAgICAqICAgXCJtaW5YXCI6IDExMCxcbiAgICAgKiAgIFwibWluWVwiOiA1MCxcbiAgICAgKiAgIFwibWF4WFwiOiAxMTAsXG4gICAgICogICBcIm1heFlcIjogNTBcbiAgICAgKiB9XG4gICAgICogdHJlZS5mcm9tSlNPTihleHBvcnRlZClcbiAgICAgKi9cbiAgICB0cmVlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgcmV0dXJuIHJidXNoLnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsIGpzb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBHZW9KU09OIHRvIHttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZfSBzY2hlbWFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCQm94fEZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV9IGdlb2pzb24gZmVhdHVyZShzKSB0byByZXRyaWV2ZSBCQm94IGZyb21cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBjb252ZXJ0ZWQgdG8ge21pblgsIG1pblksIG1heFgsIG1heFl9XG4gICAgICovXG4gICAgdHJlZS50b0JCb3ggPSBmdW5jdGlvbiAoZ2VvanNvbikge1xuICAgICAgICB2YXIgYmJveDtcbiAgICAgICAgaWYgKGdlb2pzb24uYmJveCkgYmJveCA9IGdlb2pzb24uYmJveDtcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShnZW9qc29uKSAmJiBnZW9qc29uLmxlbmd0aCA9PT0gNCkgYmJveCA9IGdlb2pzb247XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZ2VvanNvbikgJiYgZ2VvanNvbi5sZW5ndGggPT09IDYpIGJib3ggPSBbZ2VvanNvblswXSwgZ2VvanNvblsxXSwgZ2VvanNvblszXSwgZ2VvanNvbls0XV07XG4gICAgICAgIGVsc2UgaWYgKGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnKSBiYm94ID0gdHVyZkJCb3goZ2VvanNvbik7XG4gICAgICAgIGVsc2UgaWYgKGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykgYmJveCA9IHR1cmZCQm94KGdlb2pzb24pO1xuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBnZW9qc29uJylcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluWDogYmJveFswXSxcbiAgICAgICAgICAgIG1pblk6IGJib3hbMV0sXG4gICAgICAgICAgICBtYXhYOiBiYm94WzJdLFxuICAgICAgICAgICAgbWF4WTogYmJveFszXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIHRyZWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2VvanNvblJidXNoO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGdlb2pzb25SYnVzaDtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vLyBBcnJheS5maW5kSW5kZXggUG9seWZpbGxcbkFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggPVxuICBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IHx8XG4gIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWQnXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIGxpc3QgPSBPYmplY3QodGhpcyk7XG4gICAgLy8gTWFrZXMgc3VyZXMgaXMgYWx3YXlzIGhhcyBhbiBwb3NpdGl2ZSBpbnRlZ2VyIGFzIGxlbmd0aC5cbiAgICB2YXIgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgbGlzdFtpXSwgaSwgbGlzdCkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuLy8gQXJyYXkuZmluZCBQb2x5ZmlsbCBmb3IgSUU8MTIuXG4vLyBSZXF1ZXN0ZWQgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2dlb21hbi1pby9sZWFmbGV0LWdlb21hbi9pc3N1ZXMvMTczXG5BcnJheS5wcm90b3R5cGUuZmluZCA9XG4gIEFycmF5LnByb3RvdHlwZS5maW5kIHx8XG4gIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUuZmluZCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHZhciBsaXN0ID0gT2JqZWN0KHRoaXMpO1xuICAgIC8vIE1ha2VzIHN1cmVzIGlzIGFsd2F5cyBoYXMgYW4gcG9zaXRpdmUgaW50ZWdlciBhcyBsZW5ndGguXG4gICAgdmFyIGxlbmd0aCA9IGxpc3QubGVuZ3RoID4+PiAwO1xuICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzWzFdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBlbGVtZW50ID0gbGlzdFtpXTtcbiAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGVsZW1lbnQsIGksIGxpc3QpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuLy8gUG9seWZpbGwgZm9yIE9iamVjdC5hc3NpZ24oKVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZGUvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbiNQb2x5ZmlsbFxuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9ICdmdW5jdGlvbicpIHtcbiAgT2JqZWN0LmFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xufVxuXG4vLyBQb2x5ZmlsbCBmb3IgRWxlbWVudC5yZW1vdmUoKVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZGUvZG9jcy9XZWIvQVBJL0NoaWxkTm9kZS9yZW1vdmUjUG9seWZpbGxcbihmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ3JlbW92ZScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtLCAncmVtb3ZlJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG59KShbRWxlbWVudC5wcm90b3R5cGUsIENoYXJhY3RlckRhdGEucHJvdG90eXBlLCBEb2N1bWVudFR5cGUucHJvdG90eXBlXSk7XG5cbi8vIFBvbHlmaWxsIGZvciBBcnJheS5pbmNsdWRlcygpXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kZS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmNsdWRlcyNQb2x5ZmlsbFxuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2luY2x1ZGVzJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAoc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cbiAgICAgIHZhciBvID0gT2JqZWN0KHRoaXMpO1xuXG4gICAgICAvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuICAgICAgdmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1xuXG4gICAgICAvLyAzLiBJZiBsZW4gaXMgMCwgcmV0dXJuIGZhbHNlLlxuICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIExldCBuIGJlID8gVG9JbnRlZ2VyKGZyb21JbmRleCkuXG4gICAgICAvLyAgICAoSWYgZnJvbUluZGV4IGlzIHVuZGVmaW5lZCwgdGhpcyBzdGVwIHByb2R1Y2VzIHRoZSB2YWx1ZSAwLilcbiAgICAgIHZhciBuID0gZnJvbUluZGV4IHwgMDtcblxuICAgICAgLy8gNS4gSWYgbiBcdTIyNjUgMCwgdGhlblxuICAgICAgLy8gIGEuIExldCBrIGJlIG4uXG4gICAgICAvLyA2LiBFbHNlIG4gPCAwLFxuICAgICAgLy8gIGEuIExldCBrIGJlIGxlbiArIG4uXG4gICAgICAvLyAgYi4gSWYgayA8IDAsIGxldCBrIGJlIDAuXG4gICAgICB2YXIgayA9IE1hdGgubWF4KG4gPj0gMCA/IG4gOiBsZW4gLSBNYXRoLmFicyhuKSwgMCk7XG5cbiAgICAgIGZ1bmN0aW9uIHNhbWVWYWx1ZVplcm8oeCwgeSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHggPT09IHkgfHxcbiAgICAgICAgICAodHlwZW9mIHggPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICB0eXBlb2YgeSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIGlzTmFOKHgpICYmXG4gICAgICAgICAgICBpc05hTih5KSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gNy4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXG4gICAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICAvLyBhLiBMZXQgZWxlbWVudEsgYmUgdGhlIHJlc3VsdCBvZiA/IEdldChPLCAhIFRvU3RyaW5nKGspKS5cbiAgICAgICAgLy8gYi4gSWYgU2FtZVZhbHVlWmVybyhzZWFyY2hFbGVtZW50LCBlbGVtZW50SykgaXMgdHJ1ZSwgcmV0dXJuIHRydWUuXG4gICAgICAgIGlmIChzYW1lVmFsdWVaZXJvKG9ba10sIHNlYXJjaEVsZW1lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYy4gSW5jcmVhc2UgayBieSAxLlxuICAgICAgICBrKys7XG4gICAgICB9XG5cbiAgICAgIC8vIDguIFJldHVybiBmYWxzZVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH0pO1xufVxuIiwgIntcbiAgXCJuYW1lXCI6IFwiQGdlb21hbi1pby9sZWFmbGV0LWdlb21hbi1mcmVlXCIsXG4gIFwidmVyc2lvblwiOiBcIjIuMTcuMFwiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiQSBMZWFmbGV0IFBsdWdpbiBGb3IgRWRpdGluZyBHZW9tZXRyeSBMYXllcnMgaW4gTGVhZmxldCAxLjBcIixcbiAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgXCJsZWFmbGV0XCIsXG4gICAgXCJnZW9tYW5cIixcbiAgICBcInBvbHlnb24gbWFuYWdlbWVudFwiLFxuICAgIFwiZ2VvbWV0cnkgZWRpdGluZ1wiLFxuICAgIFwibWFwIGRhdGFcIixcbiAgICBcIm1hcCBvdmVybGF5XCIsXG4gICAgXCJwb2x5Z29uXCIsXG4gICAgXCJnZW9qc29uXCIsXG4gICAgXCJsZWFmbGV0LWRyYXdcIixcbiAgICBcImRhdGEtZmllbGQtZ2VvanNvblwiLFxuICAgIFwidWktbGVhZmxldC1kcmF3XCJcbiAgXSxcbiAgXCJmaWxlc1wiOiBbXG4gICAgXCJkaXN0XCJcbiAgXSxcbiAgXCJtYWluXCI6IFwiZGlzdC9sZWFmbGV0LWdlb21hbi5qc1wiLFxuICBcInR5cGVzXCI6IFwiZGlzdC9sZWFmbGV0LWdlb21hbi5kLnRzXCIsXG4gIFwiZGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcIkB0dXJmL2Jvb2xlYW4tY29udGFpbnNcIjogXCJeNi41LjBcIixcbiAgICBcIkB0dXJmL2tpbmtzXCI6IFwiXjYuNS4wXCIsXG4gICAgXCJAdHVyZi9saW5lLWludGVyc2VjdFwiOiBcIl42LjUuMFwiLFxuICAgIFwiQHR1cmYvbGluZS1zcGxpdFwiOiBcIl42LjUuMFwiLFxuICAgIFwibG9kYXNoXCI6IFwiNC4xNy4yMVwiLFxuICAgIFwicG9seWNsaXAtdHNcIjogXCJeMC4xNi41XCJcbiAgfSxcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiQHR5cGVzL2xlYWZsZXRcIjogXCJeMS43LjlcIixcbiAgICBcImNyb3NzLWVudlwiOiBcIl43LjAuM1wiLFxuICAgIFwiY3lwcmVzc1wiOiBcIjYuOS4xXCIsXG4gICAgXCJjeXByZXNzLXdhaXQtdW50aWxcIjogXCIxLjcuMVwiLFxuICAgIFwiZXNidWlsZFwiOiBcIl4wLjIwLjBcIixcbiAgICBcImVzbGludFwiOiBcIjguNTYuMFwiLFxuICAgIFwiZXNsaW50LWNvbmZpZy1haXJibmItYmFzZVwiOiBcIjE1LjAuMFwiLFxuICAgIFwiZXNsaW50LWNvbmZpZy1wcmV0dGllclwiOiBcIjkuMS4wXCIsXG4gICAgXCJlc2xpbnQtcGx1Z2luLWN5cHJlc3NcIjogXCIyLjE1LjFcIixcbiAgICBcImVzbGludC1wbHVnaW4taW1wb3J0XCI6IFwiMi4yOS4xXCIsXG4gICAgXCJodXNreVwiOiBcIl45LjAuN1wiLFxuICAgIFwibGVhZmxldFwiOiBcIjEuOS4zXCIsXG4gICAgXCJsaW50LXN0YWdlZFwiOiBcIl4xNS4yLjFcIixcbiAgICBcInByZXR0aWVyXCI6IFwiMy4yLjRcIixcbiAgICBcInByb3N0aGV0aWMtaGFuZFwiOiBcIjEuMy4xXCIsXG4gICAgXCJ0cy1ub2RlXCI6IFwiXjEwLjkuMlwiXG4gIH0sXG4gIFwicGVlckRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJsZWFmbGV0XCI6IFwiXjEuMi4wXCJcbiAgfSxcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcInN0YXJ0XCI6IFwicG5wbSBydW4gZGV2XCIsXG4gICAgXCJkZXZcIjogXCJjcm9zcy1lbnYgREVWPXRydWUgdHMtbm9kZSBidW5kbGUubWpzXCIsXG4gICAgXCJidWlsZFwiOiBcInRzLW5vZGUgYnVuZGxlLm1qc1wiLFxuICAgIFwidGVzdFwiOiBcImN5cHJlc3MgcnVuXCIsXG4gICAgXCJjeXByZXNzXCI6IFwiY3lwcmVzcyBvcGVuXCIsXG4gICAgXCJwcmVwYXJlXCI6IFwicG5wbSBydW4gYnVpbGQgJiYgaHVza3lcIixcbiAgICBcImVzbGludC1jaGVja1wiOiBcImVzbGludCAtLXByaW50LWNvbmZpZyAuIHwgZXNsaW50LWNvbmZpZy1wcmV0dGllci1jaGVja1wiLFxuICAgIFwiZXNsaW50XCI6IFwiZXNsaW50IFxcXCJ7c3JjLGN5cHJlc3MsZGVtb30vKiovKi5qc1xcXCIgLS1maXggXCIsXG4gICAgXCJwcmV0dGllclwiOiBcInByZXR0aWVyIC0td3JpdGUgXFxcIntzcmMsY3lwcmVzcyxkZW1vfS8qKi8qLntqcyxjc3N9XFxcIiAtLWxvZy1sZXZlbD13YXJuXCIsXG4gICAgXCJsaW50XCI6IFwicG5wbSBydW4gZXNsaW50ICYmIHBucG0gcnVuIHByZXR0aWVyXCJcbiAgfSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdDovL2dpdGh1Yi5jb20vZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuLmdpdFwiXG4gIH0sXG4gIFwiYXV0aG9yXCI6IHtcbiAgICBcIm5hbWVcIjogXCJHZW9tYW4uaW9cIixcbiAgICBcImVtYWlsXCI6IFwic2FsZXNAZ2VvbWFuLmlvXCIsXG4gICAgXCJ1cmxcIjogXCJodHRwOi8vZ2VvbWFuLmlvXCJcbiAgfSxcbiAgXCJsaWNlbnNlXCI6IFwiTUlUXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuL2lzc3Vlc1wiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dlb21hbi5pb1wiLFxuICBcInByZXR0aWVyXCI6IHtcbiAgICBcInRyYWlsaW5nQ29tbWFcIjogXCJlczVcIixcbiAgICBcInRhYldpZHRoXCI6IDIsXG4gICAgXCJzZW1pXCI6IHRydWUsXG4gICAgXCJzaW5nbGVRdW90ZVwiOiB0cnVlXG4gIH0sXG4gIFwibGludC1zdGFnZWRcIjoge1xuICAgIFwiKi5qc1wiOiBcImVzbGludCBcXFwie3NyYyxjeXByZXNzLGRlbW99LyoqLyouanNcXFwiIC0tZml4XCIsXG4gICAgXCIqLntqcyxjc3MsbWR9XCI6IFwicHJldHRpZXIgLS13cml0ZSBcXFwie3NyYyxjeXByZXNzLGRlbW99LyoqLyoue2pzLGNzc31cXFwiXCJcbiAgfVxufVxuIiwgImltcG9ydCBtZXJnZSBmcm9tICdsb2Rhc2gvbWVyZ2UnO1xuaW1wb3J0IHRyYW5zbGF0aW9ucyBmcm9tICcuLi9hc3NldHMvdHJhbnNsYXRpb25zJztcbmltcG9ydCBHbG9iYWxFZGl0TW9kZSBmcm9tICcuL01peGlucy9Nb2Rlcy9Nb2RlLkVkaXQnO1xuaW1wb3J0IEdsb2JhbERyYWdNb2RlIGZyb20gJy4vTWl4aW5zL01vZGVzL01vZGUuRHJhZyc7XG5pbXBvcnQgR2xvYmFsUmVtb3ZhbE1vZGUgZnJvbSAnLi9NaXhpbnMvTW9kZXMvTW9kZS5SZW1vdmFsJztcbmltcG9ydCBHbG9iYWxSb3RhdGVNb2RlIGZyb20gJy4vTWl4aW5zL01vZGVzL01vZGUuUm90YXRlJztcbmltcG9ydCBFdmVudE1peGluIGZyb20gJy4vTWl4aW5zL0V2ZW50cyc7XG5pbXBvcnQgY3JlYXRlS2V5Ym9hcmRNaXhpbnMgZnJvbSAnLi9NaXhpbnMvS2V5Ym9hcmQnO1xuaW1wb3J0IHsgZ2V0UmVuZGVyZXIgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5jb25zdCBNYXAgPSBMLkNsYXNzLmV4dGVuZCh7XG4gIGluY2x1ZGVzOiBbXG4gICAgR2xvYmFsRWRpdE1vZGUsXG4gICAgR2xvYmFsRHJhZ01vZGUsXG4gICAgR2xvYmFsUmVtb3ZhbE1vZGUsXG4gICAgR2xvYmFsUm90YXRlTW9kZSxcbiAgICBFdmVudE1peGluLFxuICBdLFxuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMubWFwID0gbWFwO1xuICAgIHRoaXMuRHJhdyA9IG5ldyBMLlBNLkRyYXcobWFwKTtcbiAgICB0aGlzLlRvb2xiYXIgPSBuZXcgTC5QTS5Ub29sYmFyKG1hcCk7XG4gICAgdGhpcy5LZXlib2FyZCA9IGNyZWF0ZUtleWJvYXJkTWl4aW5zKCk7XG5cbiAgICB0aGlzLmdsb2JhbE9wdGlvbnMgPSB7XG4gICAgICBzbmFwcGFibGU6IHRydWUsXG4gICAgICBsYXllckdyb3VwOiB1bmRlZmluZWQsXG4gICAgICBzbmFwcGluZ09yZGVyOiBbXG4gICAgICAgICdNYXJrZXInLFxuICAgICAgICAnQ2lyY2xlTWFya2VyJyxcbiAgICAgICAgJ0NpcmNsZScsXG4gICAgICAgICdMaW5lJyxcbiAgICAgICAgJ1BvbHlnb24nLFxuICAgICAgICAnUmVjdGFuZ2xlJyxcbiAgICAgIF0sXG4gICAgICBwYW5lczoge1xuICAgICAgICB2ZXJ0ZXhQYW5lOiAnbWFya2VyUGFuZScsXG4gICAgICAgIGxheWVyUGFuZTogJ292ZXJsYXlQYW5lJyxcbiAgICAgICAgbWFya2VyUGFuZTogJ21hcmtlclBhbmUnLFxuICAgICAgfSxcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICB9O1xuXG4gICAgdGhpcy5LZXlib2FyZC5faW5pdEtleUxpc3RlbmVyKG1hcCk7XG4gIH0sXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZWZhdWx0LXBhcmFtLWxhc3RcbiAgc2V0TGFuZyhsYW5nID0gJ2VuJywgdCwgZmFsbGJhY2sgPSAnZW4nKSB7XG4gICAgY29uc3Qgb2xkTGFuZyA9IEwuUE0uYWN0aXZlTGFuZztcbiAgICBpZiAodCkge1xuICAgICAgdHJhbnNsYXRpb25zW2xhbmddID0gbWVyZ2UodHJhbnNsYXRpb25zW2ZhbGxiYWNrXSwgdCk7XG4gICAgfVxuXG4gICAgTC5QTS5hY3RpdmVMYW5nID0gbGFuZztcbiAgICB0aGlzLm1hcC5wbS5Ub29sYmFyLnJlaW5pdCgpO1xuICAgIHRoaXMuX2ZpcmVMYW5nQ2hhbmdlKG9sZExhbmcsIGxhbmcsIGZhbGxiYWNrLCB0cmFuc2xhdGlvbnNbbGFuZ10pO1xuICB9LFxuICBhZGRDb250cm9scyhvcHRpb25zKSB7XG4gICAgdGhpcy5Ub29sYmFyLmFkZENvbnRyb2xzKG9wdGlvbnMpO1xuICB9LFxuICByZW1vdmVDb250cm9scygpIHtcbiAgICB0aGlzLlRvb2xiYXIucmVtb3ZlQ29udHJvbHMoKTtcbiAgfSxcbiAgdG9nZ2xlQ29udHJvbHMoKSB7XG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUNvbnRyb2xzKCk7XG4gIH0sXG4gIGNvbnRyb2xzVmlzaWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5Ub29sYmFyLmlzVmlzaWJsZTtcbiAgfSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtcGFyYW0tbGFzdFxuICBlbmFibGVEcmF3KHNoYXBlID0gJ1BvbHlnb24nLCBvcHRpb25zKSB7XG4gICAgLy8gYmFja3dhcmRzIGNvbXBhdGlibGUsIHJlbW92ZSBhZnRlciAzLjBcbiAgICBpZiAoc2hhcGUgPT09ICdQb2x5Jykge1xuICAgICAgc2hhcGUgPSAnUG9seWdvbic7XG4gICAgfVxuXG4gICAgdGhpcy5EcmF3LmVuYWJsZShzaGFwZSwgb3B0aW9ucyk7XG4gIH0sXG4gIGRpc2FibGVEcmF3KHNoYXBlID0gJ1BvbHlnb24nKSB7XG4gICAgLy8gYmFja3dhcmRzIGNvbXBhdGlibGUsIHJlbW92ZSBhZnRlciAzLjBcbiAgICBpZiAoc2hhcGUgPT09ICdQb2x5Jykge1xuICAgICAgc2hhcGUgPSAnUG9seWdvbic7XG4gICAgfVxuXG4gICAgdGhpcy5EcmF3LmRpc2FibGUoc2hhcGUpO1xuICB9LFxuICAvLyBvcHRpb25zTW9kaWZpZXIgZm9yIHNwZWNpYWwgb3B0aW9ucyBsaWtlIGlnbm9yZVNoYXBlcyBvciBtZXJnZVxuICBzZXRQYXRoT3B0aW9ucyhvcHRpb25zLCBvcHRpb25zTW9kaWZpZXIgPSB7fSkge1xuICAgIGNvbnN0IGlnbm9yZSA9IG9wdGlvbnNNb2RpZmllci5pZ25vcmVTaGFwZXMgfHwgW107XG4gICAgY29uc3QgbWVyZ2VPcHRpb25zID0gb3B0aW9uc01vZGlmaWVyLm1lcmdlIHx8IGZhbHNlO1xuXG4gICAgdGhpcy5tYXAucG0uRHJhdy5zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIGlmIChpZ25vcmUuaW5kZXhPZihzaGFwZSkgPT09IC0xKSB7XG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbc2hhcGVdLnNldFBhdGhPcHRpb25zKG9wdGlvbnMsIG1lcmdlT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgZ2V0R2xvYmFsT3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWxPcHRpb25zO1xuICB9LFxuICBzZXRHbG9iYWxPcHRpb25zKG8pIHtcbiAgICAvLyBtZXJnZSBwYXNzZWQgYW5kIGV4aXN0aW5nIG9wdGlvbnNcbiAgICBjb25zdCBvcHRpb25zID0gbWVyZ2UodGhpcy5nbG9iYWxPcHRpb25zLCBvKTtcblxuICAgIC8vIFRPRE86IHJlbW92ZSB3aXRoIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgIGlmIChvcHRpb25zLmVkaXRhYmxlKSB7XG4gICAgICBvcHRpb25zLnJlc2l6ZWFibGVDaXJjbGVNYXJrZXIgPSBvcHRpb25zLmVkaXRhYmxlO1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZWRpdGFibGU7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgc3dpdGNoZWQgdGhlIGVkaXRhYmxlIG1vZGUgZm9yIENpcmNsZU1hcmtlciB3aGlsZSBkcmF3aW5nXG4gICAgbGV0IHJlZW5hYmxlQ2lyY2xlTWFya2VyID0gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgdGhpcy5tYXAucG0uRHJhdy5DaXJjbGVNYXJrZXIuZW5hYmxlZCgpICYmXG4gICAgICAhIXRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLm9wdGlvbnMucmVzaXplYWJsZUNpcmNsZU1hcmtlciAhPT1cbiAgICAgICAgISFvcHRpb25zLnJlc2l6ZWFibGVDaXJjbGVNYXJrZXJcbiAgICApIHtcbiAgICAgIHRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLmRpc2FibGUoKTtcbiAgICAgIHJlZW5hYmxlQ2lyY2xlTWFya2VyID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gY2hlY2sgaWYgc3dpdGNoZWQgdGhlIGVkaXRhYmxlIG1vZGUgZm9yIENpcmNsZSB3aGlsZSBkcmF3aW5nXG4gICAgbGV0IHJlZW5hYmxlQ2lyY2xlID0gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgdGhpcy5tYXAucG0uRHJhdy5DaXJjbGUuZW5hYmxlZCgpICYmXG4gICAgICAhIXRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlLm9wdGlvbnMucmVzaXphYmxlQ2lyY2xlICE9PVxuICAgICAgICAhIW9wdGlvbnMucmVzaXphYmxlQ2lyY2xlXG4gICAgKSB7XG4gICAgICB0aGlzLm1hcC5wbS5EcmF3LkNpcmNsZS5kaXNhYmxlKCk7XG4gICAgICByZWVuYWJsZUNpcmNsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gZW5hYmxlIG9wdGlvbnMgZm9yIERyYXdpbmcgU2hhcGVzXG4gICAgdGhpcy5tYXAucG0uRHJhdy5zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIHRoaXMubWFwLnBtLkRyYXdbc2hhcGVdLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICBpZiAocmVlbmFibGVDaXJjbGVNYXJrZXIpIHtcbiAgICAgIHRoaXMubWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIGlmIChyZWVuYWJsZUNpcmNsZSkge1xuICAgICAgdGhpcy5tYXAucG0uRHJhdy5DaXJjbGUuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gZW5hYmxlIG9wdGlvbnMgZm9yIEVkaXRpbmdcbiAgICBjb25zdCBsYXllcnMgPSBMLlBNLlV0aWxzLmZpbmRMYXllcnModGhpcy5tYXApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgbGF5ZXIucG0uc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9KTtcblxuICAgIHRoaXMubWFwLmZpcmUoJ3BtOmdsb2JhbG9wdGlvbnNjaGFuZ2VkJyk7XG5cbiAgICAvLyBzdG9yZSBvcHRpb25zXG4gICAgdGhpcy5nbG9iYWxPcHRpb25zID0gb3B0aW9ucztcblxuICAgIC8vIGFwcGx5IHRoZSBvcHRpb25zIChhY3R1YWxseSB0cmlnZ2VyIHRoZSBmdW5jdGlvbmFsaXR5KVxuICAgIHRoaXMuYXBwbHlHbG9iYWxPcHRpb25zKCk7XG4gIH0sXG4gIGFwcGx5R2xvYmFsT3B0aW9ucygpIHtcbiAgICBjb25zdCBsYXllcnMgPSBMLlBNLlV0aWxzLmZpbmRMYXllcnModGhpcy5tYXApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyLnBtLmVuYWJsZWQoKSkge1xuICAgICAgICBsYXllci5wbS5hcHBseU9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgZ2xvYmFsRHJhd01vZGVFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuRHJhdy5nZXRBY3RpdmVTaGFwZSgpO1xuICB9LFxuICBnbG9iYWxDdXRNb2RlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLkRyYXcuQ3V0LmVuYWJsZWQoKTtcbiAgfSxcbiAgZW5hYmxlR2xvYmFsQ3V0TW9kZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuRHJhdy5DdXQuZW5hYmxlKG9wdGlvbnMpO1xuICB9LFxuICB0b2dnbGVHbG9iYWxDdXRNb2RlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5EcmF3LkN1dC50b2dnbGUob3B0aW9ucyk7XG4gIH0sXG4gIGRpc2FibGVHbG9iYWxDdXRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLkRyYXcuQ3V0LmRpc2FibGUoKTtcbiAgfSxcbiAgZ2V0R2VvbWFuTGF5ZXJzKGFzR3JvdXAgPSBmYWxzZSkge1xuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCk7XG4gICAgaWYgKCFhc0dyb3VwKSB7XG4gICAgICByZXR1cm4gbGF5ZXJzO1xuICAgIH1cbiAgICBjb25zdCBncm91cCA9IEwuZmVhdHVyZUdyb3VwKCk7XG4gICAgZ3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGdyb3VwLmFkZExheWVyKGxheWVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH0sXG4gIGdldEdlb21hbkRyYXdMYXllcnMoYXNHcm91cCA9IGZhbHNlKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKS5maWx0ZXIoXG4gICAgICAobCkgPT4gbC5fZHJhd25CeUdlb21hbiA9PT0gdHJ1ZVxuICAgICk7XG4gICAgaWYgKCFhc0dyb3VwKSB7XG4gICAgICByZXR1cm4gbGF5ZXJzO1xuICAgIH1cbiAgICBjb25zdCBncm91cCA9IEwuZmVhdHVyZUdyb3VwKCk7XG4gICAgZ3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGdyb3VwLmFkZExheWVyKGxheWVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH0sXG4gIC8vIHJldHVybnMgdGhlIG1hcCBpbnN0YW5jZSBieSBkZWZhdWx0IG9yIGEgbGF5ZXJncm91cCBpcyBzZXQgdGhyb3VnaCBnbG9iYWwgb3B0aW9uc1xuICBfZ2V0Q29udGFpbmluZ0xheWVyKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbE9wdGlvbnMubGF5ZXJHcm91cCAmJlxuICAgICAgdGhpcy5nbG9iYWxPcHRpb25zLmxheWVyR3JvdXAgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXBcbiAgICAgID8gdGhpcy5nbG9iYWxPcHRpb25zLmxheWVyR3JvdXBcbiAgICAgIDogdGhpcy5tYXA7XG4gIH0sXG4gIF9pc0NSU1NpbXBsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAub3B0aW9ucy5jcnMgPT09IEwuQ1JTLlNpbXBsZTtcbiAgfSxcbiAgLy8gaW4gQ2FudmFzIG1vZGUgd2UgbmVlZCB0byBjb252ZXJ0IHRvdWNoLSBhbmQgcG9pbnRlcmV2ZW50cyAoSUUpIHRvIG1vdXNlZXZlbnRzLCBiZWNhdXNlIExlYWZsZXQgZG9uJ3Qgc3VwcG9ydCB0aGVtLlxuICBfdG91Y2hFdmVudENvdW50ZXI6IDAsXG4gIF9hZGRUb3VjaEV2ZW50cyhlbG0pIHtcbiAgICBpZiAodGhpcy5fdG91Y2hFdmVudENvdW50ZXIgPT09IDApIHtcbiAgICAgIEwuRG9tRXZlbnQub24oZWxtLCAndG91Y2htb3ZlJywgdGhpcy5fY2FudmFzVG91Y2hNb3ZlLCB0aGlzKTtcbiAgICAgIEwuRG9tRXZlbnQub24oXG4gICAgICAgIGVsbSxcbiAgICAgICAgJ3RvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLFxuICAgICAgICB0aGlzLl9jYW52YXNUb3VjaENsaWNrLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl90b3VjaEV2ZW50Q291bnRlciArPSAxO1xuICB9LFxuICBfcmVtb3ZlVG91Y2hFdmVudHMoZWxtKSB7XG4gICAgaWYgKHRoaXMuX3RvdWNoRXZlbnRDb3VudGVyID09PSAxKSB7XG4gICAgICBMLkRvbUV2ZW50Lm9mZihlbG0sICd0b3VjaG1vdmUnLCB0aGlzLl9jYW52YXNUb3VjaE1vdmUsIHRoaXMpO1xuICAgICAgTC5Eb21FdmVudC5vZmYoXG4gICAgICAgIGVsbSxcbiAgICAgICAgJ3RvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLFxuICAgICAgICB0aGlzLl9jYW52YXNUb3VjaENsaWNrLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl90b3VjaEV2ZW50Q291bnRlciA9XG4gICAgICB0aGlzLl90b3VjaEV2ZW50Q291bnRlciA8PSAxID8gMCA6IHRoaXMuX3RvdWNoRXZlbnRDb3VudGVyIC0gMTtcbiAgfSxcbiAgX2NhbnZhc1RvdWNoTW92ZShlKSB7XG4gICAgZ2V0UmVuZGVyZXIodGhpcy5tYXApLl9vbk1vdXNlTW92ZSh0aGlzLl9jcmVhdGVNb3VzZUV2ZW50KCdtb3VzZW1vdmUnLCBlKSk7XG4gIH0sXG4gIF9jYW52YXNUb3VjaENsaWNrKGUpIHtcbiAgICBsZXQgdHlwZSA9ICcnO1xuICAgIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBlLnR5cGUgPT09ICdwb2ludGVyZG93bicpIHtcbiAgICAgIHR5cGUgPSAnbW91c2Vkb3duJztcbiAgICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICdwb2ludGVydXAnKSB7XG4gICAgICB0eXBlID0gJ21vdXNldXAnO1xuICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSAndG91Y2hjYW5jZWwnIHx8IGUudHlwZSA9PT0gJ3BvaW50ZXJjYW5jZWwnKSB7XG4gICAgICB0eXBlID0gJ21vdXNldXAnO1xuICAgIH1cbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZ2V0UmVuZGVyZXIodGhpcy5tYXApLl9vbkNsaWNrKHRoaXMuX2NyZWF0ZU1vdXNlRXZlbnQodHlwZSwgZSkpO1xuICB9LFxuICBfY3JlYXRlTW91c2VFdmVudCh0eXBlLCBlKSB7XG4gICAgbGV0IG1vdXNlRXZlbnQ7XG4gICAgY29uc3QgdG91Y2hFdnQgPSBlLnRvdWNoZXNbMF0gfHwgZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB0cnkge1xuICAgICAgbW91c2VFdmVudCA9IG5ldyBNb3VzZUV2ZW50KHR5cGUsIHtcbiAgICAgICAgYnViYmxlczogZS5idWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBlLmNhbmNlbGFibGUsXG4gICAgICAgIHZpZXc6IGUudmlldyxcbiAgICAgICAgZGV0YWlsOiB0b3VjaEV2dC5kZXRhaWwsXG4gICAgICAgIHNjcmVlblg6IHRvdWNoRXZ0LnNjcmVlblgsXG4gICAgICAgIHNjcmVlblk6IHRvdWNoRXZ0LnNjcmVlblksXG4gICAgICAgIGNsaWVudFg6IHRvdWNoRXZ0LmNsaWVudFgsXG4gICAgICAgIGNsaWVudFk6IHRvdWNoRXZ0LmNsaWVudFksXG4gICAgICAgIGN0cmxLZXk6IGUuY3RybEtleSxcbiAgICAgICAgYWx0S2V5OiBlLmFsdEtleSxcbiAgICAgICAgc2hpZnRLZXk6IGUuc2hpZnRLZXksXG4gICAgICAgIG1ldGFLZXk6IGUubWV0YUtleSxcbiAgICAgICAgYnV0dG9uOiBlLmJ1dHRvbixcbiAgICAgICAgcmVsYXRlZFRhcmdldDogZS5yZWxhdGVkVGFyZ2V0LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIG1vdXNlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgIG1vdXNlRXZlbnQuaW5pdE1vdXNlRXZlbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGUuYnViYmxlcyxcbiAgICAgICAgZS5jYW5jZWxhYmxlLFxuICAgICAgICBlLnZpZXcsXG4gICAgICAgIHRvdWNoRXZ0LmRldGFpbCxcbiAgICAgICAgdG91Y2hFdnQuc2NyZWVuWCxcbiAgICAgICAgdG91Y2hFdnQuc2NyZWVuWSxcbiAgICAgICAgdG91Y2hFdnQuY2xpZW50WCxcbiAgICAgICAgdG91Y2hFdnQuY2xpZW50WSxcbiAgICAgICAgZS5jdHJsS2V5LFxuICAgICAgICBlLmFsdEtleSxcbiAgICAgICAgZS5zaGlmdEtleSxcbiAgICAgICAgZS5tZXRhS2V5LFxuICAgICAgICBlLmJ1dHRvbixcbiAgICAgICAgZS5yZWxhdGVkVGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbW91c2VFdmVudDtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBNYXA7XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiQ2xpY2sgdG8gcGxhY2UgbWFya2VyXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkNsaWNrIHRvIHBsYWNlIGZpcnN0IHZlcnRleFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiQ2xpY2sgdG8gY29udGludWUgZHJhd2luZ1wiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkNsaWNrIGFueSBleGlzdGluZyBtYXJrZXIgdG8gZmluaXNoXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQ2xpY2sgZmlyc3QgbWFya2VyIHRvIGZpbmlzaFwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIkNsaWNrIHRvIGZpbmlzaFwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJDbGljayB0byBwbGFjZSBjaXJjbGUgY2VudGVyXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJDbGljayB0byBmaW5pc2ggY2lyY2xlXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkNsaWNrIHRvIHBsYWNlIGNpcmNsZSBtYXJrZXJcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIkNsaWNrIHRvIHBsYWNlIHRleHRcIixcbiAgICBcInNlbGVjdEZpcnN0TGF5ZXJGb3JcIjogXCJTZWxlY3QgZmlyc3QgbGF5ZXIgZm9yIHthY3Rpb259XCIsXG4gICAgXCJzZWxlY3RTZWNvbmRMYXllckZvclwiOiBcIlNlbGVjdCBzZWNvbmQgbGF5ZXIgZm9yIHthY3Rpb259XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIkZpbmlzaFwiLFxuICAgIFwiY2FuY2VsXCI6IFwiQ2FuY2VsXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiUmVtb3ZlIExhc3QgVmVydGV4XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkRyYXcgTWFya2VyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRyYXcgUG9seWdvbnNcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRHJhdyBQb2x5bGluZVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRyYXcgQ2lyY2xlXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIkRyYXcgUmVjdGFuZ2xlXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWRpdCBMYXllcnNcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJEcmFnIExheWVyc1wiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiQ3V0IExheWVyc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiUmVtb3ZlIExheWVyc1wiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIkRyYXcgQ2lyY2xlIE1hcmtlclwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJTbmFwIGRyYWdnZWQgbWFya2VyIHRvIG90aGVyIGxheWVycyBhbmQgdmVydGljZXNcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJQaW4gc2hhcmVkIHZlcnRpY2VzIHRvZ2V0aGVyXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb3RhdGUgTGF5ZXJzXCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIkRyYXcgVGV4dFwiLFxuICAgIFwic2NhbGVCdXR0b25cIjogXCJTY2FsZSBMYXllcnNcIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiQXV0byB0cmFjZSBMaW5lXCIsXG4gICAgXCJzbmFwR3VpZGVzQnV0dG9uXCI6IFwiU2hvdyBTbmFwR3VpZGVzXCIsXG4gICAgXCJ1bmlvbkJ1dHRvblwiOiBcIlVuaW9uIGxheWVyc1wiLFxuICAgIFwiZGlmZmVyZW5jZUJ1dHRvblwiOiBcIlN1YnRyYWN0IGxheWVyc1wiXG4gIH0sXG4gIFwibWVhc3VyZW1lbnRzXCI6IHtcbiAgICBcInRvdGFsTGVuZ3RoXCI6IFwiTGVuZ3RoXCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiU2VnbWVudCBsZW5ndGhcIixcbiAgICBcImFyZWFcIjogXCJBcmVhXCIsXG4gICAgXCJyYWRpdXNcIjogXCJSYWRpdXNcIixcbiAgICBcInBlcmltZXRlclwiOiBcIlBlcmltZXRlclwiLFxuICAgIFwiaGVpZ2h0XCI6IFwiSGVpZ2h0XCIsXG4gICAgXCJ3aWR0aFwiOiBcIldpZHRoXCIsXG4gICAgXCJjb29yZGluYXRlc1wiOiBcIlBvc2l0aW9uXCIsXG4gICAgXCJjb29yZGluYXRlc01hcmtlclwiOiBcIlBvc2l0aW9uIE1hcmtlclwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJQbGF0emllcmUgZGVuIE1hcmtlciBtaXQgS2xpY2tcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiUGxhdHppZXJlIGRlbiBlcnN0ZW4gTWFya2VyIG1pdCBLbGlja1wiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2xpY2tlLCB1bSB3ZWl0ZXIgenUgemVpY2huZW5cIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJCZWVuZGUgbWl0IEtsaWNrIGF1ZiBleGlzdGllcmVuZGVuIE1hcmtlclwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIkJlZW5kZSBtaXQgS2xpY2sgYXVmIGVyc3RlbiBNYXJrZXJcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJCZWVuZGUgbWl0IEtsaWNrXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlBsYXR6aWVyZSBkYXMgS3JlaXN6ZW50cnVtIG1pdCBLbGlja1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiQmVlbmRlIGRlbiBLcmVpcyBtaXQgS2xpY2tcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiUGxhdHppZXJlIGRlbiBLcmVpc21hcmtlciBtaXQgS2xpY2tcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIlBsYXR6aWVyZSBkZW4gVGV4dCBtaXQgS2xpY2tcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiQmVlbmRlblwiLFxuICAgIFwiY2FuY2VsXCI6IFwiQWJicmVjaGVuXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiTGV0enRlbiBWZXJ0ZXggbFx1MDBGNnNjaGVuXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIk1hcmtlciB6ZWljaG5lblwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJQb2x5Z29uIHplaWNobmVuXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlBvbHlsaW5lIHplaWNobmVuXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiS3JlaXMgemVpY2huZW5cIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiUmVjaHRlY2sgemVpY2huZW5cIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJMYXllciBlZGl0aWVyZW5cIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJMYXllciBiZXdlZ2VuXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJMYXllciBzY2huZWlkZW5cIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIkxheWVyIGxcdTAwRjZzY2hlblwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIktyZWlzbWFya2VyIHplaWNobmVuXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkJld2VndGVyIExheWVyIGFuIGFuZGVyZSBMYXllciBvZGVyIFZlcnRleGUgZWluaGFja2VuXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiVmVydGV4ZSBhbiBkZXIgZ2xlaWNoZW4gUG9zaXRpb24gdmVya25cdTAwRkNwZmVuXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJMYXllciBkcmVoZW5cIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiVGV4dCB6ZWljaG5lblwiLFxuICAgIFwic2NhbGVCdXR0b25cIjogXCJMYXllciBza2FsaWVyZW5cIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiTGluaWUgYXV0b21hdGlzY2ggbmFjaHplaWNoZW5cIlxuICB9LFxuICBcIm1lYXN1cmVtZW50c1wiOiB7XG4gICAgXCJ0b3RhbExlbmd0aFwiOiBcIkxcdTAwRTRuZ2VcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJTZWdtZW50IExcdTAwRTRuZ2VcIixcbiAgICBcImFyZWFcIjogXCJGbFx1MDBFNGNoZVwiLFxuICAgIFwicmFkaXVzXCI6IFwiUmFkaXVzXCIsXG4gICAgXCJwZXJpbWV0ZXJcIjogXCJVbWZhbmdcIixcbiAgICBcImhlaWdodFwiOiBcIkhcdTAwRjZoZVwiLFxuICAgIFwid2lkdGhcIjogXCJCcmVpdGVcIixcbiAgICBcImNvb3JkaW5hdGVzXCI6IFwiUG9zaXRpb25cIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiUG9zaXRpb24gTWFya2VyXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkNsaWNjYSBwZXIgcG9zaXppb25hcmUgdW4gTWFya2VyXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkNsaWNjYSBwZXIgcG9zaXppb25hcmUgaWwgcHJpbW8gdmVydGljZVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiQ2xpY2NhIHBlciBjb250aW51YXJlIGEgZGlzZWduYXJlXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiQ2xpY2NhIHF1YWxzaWFzaSBtYXJrZXIgZXNpc3RlbnRlIHBlciB0ZXJtaW5hcmVcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJDbGljY2EgaWwgcHJpbW8gbWFya2VyIHBlciB0ZXJtaW5hcmVcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJDbGljY2EgcGVyIHRlcm1pbmFyZVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJDbGljY2EgcGVyIHBvc2l6aW9uYXJlIGlsIHB1bnRvIGNlbnRyYWxlIGRlbCBjZXJjaGlvXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJDbGljY2EgcGVyIHRlcm1pbmFyZSBpbCBjZXJjaGlvXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkNsaWNjYSBwZXIgcG9zaXppb25hcmUgdW4gTWFya2VyIGRlbCBjaGVyY2hpb1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJUZXJtaW5hXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBbm51bGxhXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiUmltdW92aSBsJ3VsdGltbyB2ZXJ0aWNlXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkRpc2VnbmEgTWFya2VyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRpc2VnbmEgUG9saWdvbmlcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGlzZWduYSBQb2xpbGluZWFcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEaXNlZ25hIENlcmNoaW9cIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGlzZWduYSBSZXR0YW5nb2xvXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiTW9kaWZpY2EgTGl2ZWxsaVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlNwb3N0YSBMaXZlbGxpXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJSaXRhZ2xpYSBMaXZlbGxpXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJFbGltaW5hIExpdmVsbGlcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJEaXNlZ25hIE1hcmtlciBkZWwgQ2VyY2hpb1wiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJTbmFwIGhhIHRyYXNjaW5hdG8gaWwgcGVubmFyZWxsbyBzdSBhbHRyaSBzdHJhdGkgZSB2ZXJ0aWNpXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiUGluIGNvbmRpdmlzbyB2ZXJ0aWNpIGluc2llbWVcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJ1b3RhIGxpdmVsbG9cIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiS2xpayB1bnR1ayBtZW5lbXBhdGthbiBtYXJrZXJcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpayB1bnR1ayBtZW5lbXBhdGthbiB2ZXJ0ZXggcGVydGFtYVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2xpayB1bnR1ayBtZW5lcnVza2FuIGRpZ2l0YXNpXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiS2xpayBwYWRhIHNlbWJhcmFuZyBtYXJrZXIgeWFuZyBhZGEgdW50dWsgbWVuZ2FraGlyaVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWsgbWFya2VyIHBlcnRhbWEgdW50dWsgbWVuZ2FraGlyaVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWsgdW50dWsgbWVuZ2FraGlyaVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJLbGlrIHVudHVrIG1lbmVtcGF0a2FuIHRpdGlrIHB1c2F0IGxpbmdrYXJhblwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiS2xpayB1bnR1ayBtZW5nYWtoaXJpIGxpbmdrYXJhblwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLbGlrIHVudHVrIG1lbmVtcGF0a2FuIHBlbmFuZGEgbGluZ2thcmFublwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJTZWxlc2FpXCIsXG4gICAgXCJjYW5jZWxcIjogXCJCYXRhbFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIkhpbGFuZ2thbiBWZXJ0ZXggVGVyYWtoaXJcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiRGlnaXRhc2kgTWFya2VyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRpZ2l0YXNpIFBvbHlnb25cIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGlnaXRhc2kgUG9seWxpbmVcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEaWdpdGFzaSBMaW5na2FyYW5cIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGlnaXRhc2kgU2VnaSBFbXBhdFwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVkaXQgTGF5ZXJcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJHZXNlciBMYXllclwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiUG90b25nIExheWVyXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJIaWxhbmdrYW4gTGF5ZXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJEaWdpdGFzaSBQZW5hbmRhIExpbmdrYXJhblwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJKZXByZXRrYW4gcGVuYW5kYSB5YW5nIGRpdGFyaWsga2UgbGFwaXNhbiBkYW4gc2ltcHVsIGxhaW5cIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJTZW1hdGthbiBzaW1wdWwgYmVyc2FtYSBiZXJzYW1hXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJQdXRhciBsYXBpc2FuXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkFkYXVnXHUwMTAzIHVuIHB1bmN0XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIkFwYXNcdTAxMDMgYWljaSBwZW50cnUgYSBhZFx1MDEwM3VnYSBwcmltdWwgVmVydGV4XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJBcGFzXHUwMTAzIGFpY2kgcGVudHJ1IGEgY29udGludWEgZGVzZW51bFwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkFwYXNcdTAxMDMgcGUgb3JpY2Ugb2JpZWN0IHBlbnRydSBhIGZpbmlzYSBkZXNlbnVsXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQXBhc1x1MDEwMyBwZSBwcmltdWwgb2JpZWN0IHBlbnRydSBhIGZpbmlzYVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIkFwYXNcdTAxMDMgcGVudHJ1IGEgZmluaXNhXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkFwYXNcdTAxMDMgcGVudHJ1IGEgZGVzZW5hIHVuIGNlcmNcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIkFwYXNcdTAxMDMgcGVudHJ1IGEgZmluaXNhIHVuIGNlcmNcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiQWRhdWdcdTAxMDMgdW4gcHVuY3RcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiVGVybWluXHUwMTAzXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBbnVsZWF6XHUwMTAzXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHUwMjE4dGVyZ2UgdWx0aW11bCBWZXJ0ZXhcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiQWRhdWdcdTAxMDMgbyBidWxpblx1MDEwM1wiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJEZXNlbmVhelx1MDEwMyB1biBwb2xpZ29uXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIkRlc2VuZWF6XHUwMTAzIG8gbGluaWVcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEZXNlbmVhelx1MDEwMyB1biBjZXJjXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIkRlc2VuZWF6XHUwMTAzIHVuIGRyZXB0dW5naGlcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJFZGl0ZWF6XHUwMTAzIHN0cmF0dXJpbGVcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJNdXRcdTAxMDMgc3RyYXR1cmlsZVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiVGFpZSBzdHJhdHVyaWxlXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTAyMTh0ZXJnZSBzdHJhdHVyaWxlXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGVzZW5lYXpcdTAxMDMgbWFyY2F0b3J1bCBjZXJjdWx1aVwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJGaXhhXHUwMjFCaSBtYXJjYXRvcnVsIGdsaXNhdCBwZSBhbHRlIHN0cmF0dXJpIFx1MDIxOWkgdlx1MDBFMnJmdXJpXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiRml4YVx1MDIxQmkgdlx1MDBFMnJmdXJpbGUgcGFydGFqYXRlIFx1MDBFRW1wcmV1blx1MDEwM1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUm90aVx1MDIxQmkgc3RyYXR1bFwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzRFx1MDQzMFx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0M0ZcdTA0MzVcdTA0NDBcdTA0MzJcdTA0NEJcdTA0MzkgXHUwNDNFXHUwNDMxXHUwNDRBXHUwNDM1XHUwNDNBXHUwNDQyXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0M0ZcdTA0NDBcdTA0M0VcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDQwXHUwNDM4XHUwNDQxXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDM4XHUwNDM1XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDM2XHUwNDNDXHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQzQlx1MDQ0RVx1MDQzMVx1MDQzRVx1MDQzOSBcdTA0NDFcdTA0NDNcdTA0NDlcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzJcdTA0NDNcdTA0NEVcdTA0NDlcdTA0MzhcdTA0MzkgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwIFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEZcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTA0MTJcdTA0NEJcdTA0MzFcdTA0MzVcdTA0NDBcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDMyXHUwNDQzXHUwNDRFIFx1MDQ0Mlx1MDQzRVx1MDQ0N1x1MDQzQVx1MDQ0MywgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzN1x1MDQzMFx1MDQzQVx1MDQzRVx1MDQzRFx1MDQ0N1x1MDQzOFx1MDQ0Mlx1MDQ0Q1wiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIlx1MDQxRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSwgXHUwNDQ3XHUwNDQyXHUwNDNFXHUwNDMxXHUwNDRCIFx1MDQzN1x1MDQzMFx1MDQzQVx1MDQzRVx1MDQzRFx1MDQ0N1x1MDQzOFx1MDQ0Mlx1MDQ0Q1wiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0MzRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDQ2XHUwNDM1XHUwNDNEXHUwNDQyXHUwNDQwIFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzMFwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDM2XHUwNDNDXHUwNDM4XHUwNDQyXHUwNDM1LCBcdTA0NDdcdTA0NDJcdTA0M0VcdTA0MzFcdTA0NEIgXHUwNDM3XHUwNDMwXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzOFx1MDQ0M1x1MDQ0MVwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDMyXHUwNDNFXHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTA0MTdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0NDJcdTA0NENcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDQxRVx1MDQ0Mlx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQ0Q1wiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlx1MDQxRVx1MDQ0Mlx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0M0ZcdTA0M0VcdTA0NDFcdTA0M0JcdTA0MzVcdTA0MzRcdTA0M0RcdTA0MzVcdTA0MzUgXHUwNDM0XHUwNDM1XHUwNDM5XHUwNDQxXHUwNDQyXHUwNDMyXHUwNDM4XHUwNDM1XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MDQxNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHUwNDIwXHUwNDM4XHUwNDQxXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQzRlx1MDQzRVx1MDQzQlx1MDQzOFx1MDQzM1x1MDQzRVx1MDQzRFwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJcdTA0MjBcdTA0MzhcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNBXHUwNDQwXHUwNDM4XHUwNDMyXHUwNDQzXHUwNDRFXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHUwNDIwXHUwNDM4XHUwNDQxXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJcdTA0MjBcdTA0MzhcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNGXHUwNDQwXHUwNDRGXHUwNDNDXHUwNDNFXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDNBXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUwNDIwXHUwNDM1XHUwNDM0XHUwNDMwXHUwNDNBXHUwNDQyXHUwNDM4XHUwNDQwXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQ0MVx1MDQzQlx1MDQzRVx1MDQzOVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1MDQxRlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0NDFcdTA0M0JcdTA0M0VcdTA0MzlcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIlx1MDQxMlx1MDQ0Qlx1MDQ0MFx1MDQzNVx1MDQzN1x1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0NDFcdTA0M0JcdTA0M0VcdTA0MzlcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MDQyM1x1MDQzNFx1MDQzMFx1MDQzQlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0NDFcdTA0M0JcdTA0M0VcdTA0MzlcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTA0MTRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDNBXHUwNDQwXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDMyXHUwNDNFXHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTA0MUZcdTA0NDBcdTA0MzhcdTA0MzJcdTA0NEZcdTA0MzdcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDQyXHUwNDMwXHUwNDQxXHUwNDNBXHUwNDM4XHUwNDMyXHUwNDMwXHUwNDM1XHUwNDNDXHUwNDRCXHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MCBcdTA0M0EgXHUwNDM0XHUwNDQwXHUwNDQzXHUwNDMzXHUwNDM4XHUwNDNDIFx1MDQ0MVx1MDQzQlx1MDQzRVx1MDQ0Rlx1MDQzQyBcdTA0MzggXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDNEXHUwNDMwXHUwNDNDXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHUwNDIxXHUwNDMyXHUwNDRGXHUwNDM3XHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQzRVx1MDQzMVx1MDQ0OVx1MDQzOFx1MDQzNSBcdTA0NDJcdTA0M0VcdTA0NDdcdTA0M0FcdTA0MzggXHUwNDMyXHUwNDNDXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDM1XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTA0MUZcdTA0M0VcdTA0MzJcdTA0M0VcdTA0NDBcdTA0M0VcdTA0NDIgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDRGXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIlByZXNpb25hIHBhcmEgY29sb2NhciB1biBtYXJjYWRvclwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJQcmVzaW9uYSBwYXJhIGNvbG9jYXIgZWwgcHJpbWVyIHZcdTAwRTlydGljZVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiUHJlc2lvbmEgcGFyYSBjb250aW51YXIgZGlidWphbmRvXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiUHJlc2lvbmEgY3VhbHF1aWVyIG1hcmNhZG9yIGV4aXN0ZW50ZSBwYXJhIGZpbmFsaXphclwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlByZXNpb25hIGVsIHByaW1lciBtYXJjYWRvciBwYXJhIGZpbmFsaXphclwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIlByZXNpb25hIHBhcmEgZmluYWxpemFyXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlByZXNpb25hIHBhcmEgY29sb2NhciBlbCBjZW50cm8gZGVsIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiUHJlc2lvbmEgcGFyYSBmaW5hbGl6YXIgZWwgY1x1MDBFRHJjdWxvXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlByZXNpb25hIHBhcmEgY29sb2NhciB1biBtYXJjYWRvciBkZSBjXHUwMEVEcmN1bG9cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiRmluYWxpemFyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJDYW5jZWxhclwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIkVsaW1pbmFyIFx1MDBGQWx0aW1vIHZcdTAwRTlydGljZVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJEaWJ1amFyIE1hcmNhZG9yXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRpYnVqYXIgUG9sXHUwMEVEZ29ub1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJEaWJ1amFyIExcdTAwRURuZWFcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEaWJ1amFyIENcdTAwRURyY3Vsb1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJEaWJ1amFyIFJlY3RcdTAwRTFuZ3Vsb1wiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVkaXRhciBDYXBhc1wiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkFycmFzdHJhciBDYXBhc1wiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiQ29ydGFyIENhcGFzXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJFbGltaW5hciBDYXBhc1wiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIkRpYnVqYXIgTWFyY2Fkb3IgZGUgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkVsIG1hcmNhZG9yIGRlIFNuYXAgYXJyYXN0cmFkbyBhIG90cmFzIGNhcGFzIHkgdlx1MDBFOXJ0aWNlc1wiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIkZpamFyIGp1bnRvcyBsb3Mgdlx1MDBFOXJ0aWNlcyBjb21wYXJ0aWRvc1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUm90YXIgY2FwYVwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJLbGlrIG9tIGVlbiBtYXJrZXIgdGUgcGxhYXRzZW5cIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpayBvbSBoZXQgZWVyc3RlIHB1bnQgdGUgcGxhYXRzZW5cIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIktsaWsgb20gdGUgYmxpanZlbiB0ZWtlbmVuXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiS2xpayBvcCBlZW4gYmVzdGFhbmQgcHVudCBvbSB0ZSBiZVx1MDBFQmluZGlnZW5cIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJLbGlrIG9wIGhldCBlZXJzdCBwdW50IG9tIHRlIGJlXHUwMEVCaW5kaWdlblwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWsgb20gdGUgYmVcdTAwRUJpbmRpZ2VuXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIktsaWsgb20gaGV0IG1pZGRlbHB1bnQgdGUgcGxhYXRzZW5cIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIktsaWsgb20gZGUgY2lya2VsIHRlIGJlXHUwMEVCaW5kaWdlblwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLbGlrIG9tIGVlbiBtYXJrZXIgdGUgcGxhYXRzZW5cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiQmV3YWFyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBbm51bGVlclwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlZlcndpamRlciBsYWF0c3RlIHB1bnRcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiUGxhYXRzIE1hcmtlclwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJUZWtlbiBlZW4gdmxha1wiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJUZWtlbiBlZW4gbGlqblwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlRla2VuIGVlbiBjaXJrZWxcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiVGVrZW4gZWVuIHZpZXJrYW50XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiQmV3ZXJrXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiVmVycGxhYXRzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJLbmlwXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJWZXJ3aWpkZXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJQbGFhdHMgTWFya2VyXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlNuYXAgZ2VzbGVlcHRlIG1hcmtlciBuYWFyIGFuZGVyZSBsYWdlbiBlbiBob2VrcHVudGVuXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiU3BlbGQgZ2VkZWVsZGUgaG9la3B1bnRlbiBzYW1lblwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiTGFhZyByb3RlcmVuXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkNsaXF1ZXogcG91ciBwbGFjZXIgdW4gbWFycXVldXJcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiQ2xpcXVleiBwb3VyIHBsYWNlciBsZSBwcmVtaWVyIHNvbW1ldFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiQ2xpcXVleiBwb3VyIGNvbnRpbnVlciBcdTAwRTAgZGVzc2luZXJcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJDbGlxdWV6IHN1ciBuJ2ltcG9ydGUgcXVlbCBtYXJxdWV1ciBwb3VyIHRlcm1pbmVyXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQ2xpcXVleiBzdXIgbGUgcHJlbWllciBtYXJxdWV1ciBwb3VyIHRlcm1pbmVyXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiQ2xpcXVleiBwb3VyIHRlcm1pbmVyXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkNsaXF1ZXogcG91ciBwbGFjZXIgbGUgY2VudHJlIGR1IGNlcmNsZVwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiQ2xpcXVleiBwb3VyIGZpbmlyIGxlIGNlcmNsZVwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJDbGlxdWV6IHBvdXIgcGxhY2VyIGxlIG1hcnF1ZXVyIGNpcmN1bGFpcmVcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiVGVybWluZXJcIixcbiAgICBcImNhbmNlbFwiOiBcIkFubnVsZXJcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJSZXRpcmVyIGxlIGRlcm5pZXIgc29tbWV0XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlBsYWNlciBkZXMgbWFycXVldXJzXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRlc3NpbmVyIGRlcyBwb2x5Z29uZXNcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGVzc2luZXIgZGVzIHBvbHlsaWduZXNcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJEZXNzaW5lciB1biBjZXJjbGVcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGVzc2luZXIgdW4gcmVjdGFuZ2xlXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiXHUwMEM5ZGl0ZXIgZGVzIGNhbHF1ZXNcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJEXHUwMEU5cGxhY2VyIGRlcyBjYWxxdWVzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJDb3VwZXIgZGVzIGNhbHF1ZXNcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlN1cHByaW1lciBkZXMgY2FscXVlc1wiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIkRlc3NpbmVyIHVuIG1hcnF1ZXVyIGNpcmN1bGFpcmVcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiR2xpc3NlciBsZSBtYXJxdWV1ciB2ZXJzIGQnYXV0cmVzIGNvdWNoZXMgZXQgc29tbWV0c1wiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDBDOXBpbmdsZXIgZW5zZW1ibGUgbGVzIHNvbW1ldHMgcGFydGFnXHUwMEU5c1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiVG91cm5lciBkZXMgY2FscXVlc1wiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTUzNTVcdTUxRkJcdTY1M0VcdTdGNkVcdTY4MDdcdThCQjBcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHU1MzU1XHU1MUZCXHU2NTNFXHU3RjZFXHU5OTk2XHU0RTJBXHU5ODc2XHU3MEI5XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTUzNTVcdTUxRkJcdTdFRTdcdTdFRURcdTdFRDhcdTUyMzZcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJcdTUzNTVcdTUxRkJcdTRFRkJcdTRGNTVcdTVCNThcdTU3MjhcdTc2ODRcdTY4MDdcdThCQjBcdTRFRTVcdTVCOENcdTYyMTBcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTUzNTVcdTUxRkJcdTdCMkNcdTRFMDBcdTRFMkFcdTY4MDdcdThCQjBcdTRFRTVcdTVCOENcdTYyMTBcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTUzNTVcdTUxRkJcdTVCOENcdTYyMTBcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHU1MzU1XHU1MUZCXHU2NTNFXHU3RjZFXHU1NzA2XHU1RkMzXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTUzNTVcdTUxRkJcdTVCOENcdTYyMTBcdTU3MDZcdTVGNjJcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiXHU3MEI5XHU1MUZCXHU2NTNFXHU3RjZFXHU1NzA2XHU1RjYyXHU2ODA3XHU4QkIwXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1NUI4Q1x1NjIxMFwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHU1M0Q2XHU2RDg4XCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHU3OUZCXHU5NjY0XHU2NzAwXHU1NDBFXHU3Njg0XHU5ODc2XHU3MEI5XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1N0VEOFx1NTIzNlx1NjgwN1x1OEJCMFwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdTdFRDhcdTUyMzZcdTU5MUFcdThGQjlcdTVGNjJcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHU3RUQ4XHU1MjM2XHU3RUJGXHU2QkI1XCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHU3RUQ4XHU1MjM2XHU1NzA2XHU1RjYyXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlx1N0VEOFx1NTIzNlx1OTU3Rlx1NjVCOVx1NUY2MlwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1N0YxNlx1OEY5MVx1NTZGRVx1NUM0MlwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1NjJENlx1NjJGRFx1NTZGRVx1NUM0MlwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHU1MjZBXHU1MjA3XHU1NkZFXHU1QzQyXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTUyMjBcdTk2NjRcdTU2RkVcdTVDNDJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTc1M0JcdTU3MDZcdTU3MDhcdTY4MDdcdThCQjBcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHU1QzA2XHU2MkQ2XHU1MkE4XHU3Njg0XHU2ODA3XHU4QkIwXHU2MzU1XHU2MzQ5XHU1MjMwXHU1MTc2XHU0RUQ2XHU1NkZFXHU1QzQyXHU1NDhDXHU5ODc2XHU3MEI5XCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHU1QzA2XHU1MTcxXHU0RUFCXHU5ODc2XHU3MEI5XHU1NkZBXHU1QjlBXHU1NzI4XHU0RTAwXHU4RDc3XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTY1Q0JcdThGNkNcdTU2RkVcdTVDNDJcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHU1NUFFXHU2NENBXHU2NTNFXHU3RjZFXHU2QTE5XHU4QTE4XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1NTVBRVx1NjRDQVx1NjUzRVx1N0Y2RVx1N0IyQ1x1NEUwMFx1NTAwQlx1OTgwMlx1OUVERVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHU1NUFFXHU2NENBXHU3RTdDXHU3RThDXHU3RTZBXHU4OEZEXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHU1NUFFXHU2NENBXHU0RUZCXHU0RjU1XHU1QjU4XHU1NzI4XHU3Njg0XHU2QTE5XHU4QTE4XHU0RUU1XHU1QjhDXHU2MjEwXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHU1NUFFXHU2NENBXHU3QjJDXHU0RTAwXHU1MDBCXHU2QTE5XHU4QTE4XHU0RUU1XHU1QjhDXHU2MjEwXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHU1NUFFXHU2NENBXHU1QjhDXHU2MjEwXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlx1NTVBRVx1NjRDQVx1NjUzRVx1N0Y2RVx1NTcxM1x1NUZDM1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHU1NUFFXHU2NENBXHU1QjhDXHU2MjEwXHU1NzEzXHU1RjYyXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1OUVERVx1NjRDQVx1NjUzRVx1N0Y2RVx1NTcxM1x1NUY2Mlx1NkExOVx1OEExOFwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTVCOENcdTYyMTBcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1NTNENlx1NkQ4OFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlx1NzlGQlx1OTY2NFx1NjcwMFx1NUY4Q1x1NEUwMFx1NTAwQlx1OTgwMlx1OUVERVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTY1M0VcdTdGNkVcdTZBMTlcdThBMThcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHU3RTZBXHU4OEZEXHU1OTFBXHU5MDhBXHU1RjYyXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlx1N0U2QVx1ODhGRFx1N0REQVx1NkJCNVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1N0U2QVx1ODhGRFx1NTcxM1x1NUY2MlwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJcdTdFNkFcdTg4RkRcdTY1QjlcdTVGNjJcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJcdTdERThcdThGMkZcdTU3MTZcdTVGNjJcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTc5RkJcdTUyRDVcdTU3MTZcdTVGNjJcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIlx1ODhDMVx1NTIwN1x1NTcxNlx1NUY2MlwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiXHU1MjJBXHU5NjY0XHU1NzE2XHU1RjYyXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHU3NTZCXHU1NzEzXHU1NzA4XHU2QTE5XHU4QTE4XCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlx1NUMwN1x1NjJENlx1NTJENVx1NzY4NFx1NkExOVx1OEExOFx1NUMwRFx1OUY0QVx1NTIzMFx1NTE3Nlx1NEVENlx1NTcxNlx1NUM2NFx1NTQ4Q1x1OTgwMlx1OUVERVwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1NUMwN1x1NTE3MVx1NEVBQlx1OTgwMlx1OUVERVx1NTZGQVx1NUI5QVx1NTcyOFx1NEUwMFx1OEQ3N1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHU2NUNCXHU4RjQ5XHU1NzE2XHU1RjYyXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkNsaXF1ZSBwYXJhIHBvc2ljaW9uYXIgbyBtYXJjYWRvclwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJDbGlxdWUgcGFyYSBwb3NpY2lvbmFyIG8gcHJpbWVpcm8gdlx1MDBFOXJ0aWNlXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJDbGlxdWUgcGFyYSBjb250aW51YXIgZGVzZW5oYW5kb1wiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkNsaXF1ZSBlbSBxdWFscXVlciBtYXJjYWRvciBleGlzdGVudGUgcGFyYSBmaW5hbGl6YXJcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJDbGlxdWUgbm8gcHJpbWVpcm8gbWFyY2Fkb3IgcGFyYSBmaW5hbGl6YXJcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJDbGlxdWUgcGFyYSBmaW5hbGl6YXJcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiQ2xpcXVlIHBhcmEgcG9zaWNpb25hciBvIGNlbnRybyBkbyBjXHUwMEVEcmN1bG9cIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIkNsaXF1ZSBwYXJhIGZpbmFsaXphciBvIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJDbGlxdWUgcGFyYSBwb3NpY2lvbmFyIG8gbWFyY2Fkb3IgY2lyY3VsYXJcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIkNsaXF1ZSBwYXJhIGluc2VyaXIgdGV4dG9cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiRmluYWxpemFyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJDYW5jZWxhclwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlJlbW92ZXIgXHUwMEZBbHRpbW8gdlx1MDBFOXJ0aWNlXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkRlc2VuaGFyIE1hcmNhZG9yXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIkRlc2VuaGFyIFBvbFx1MDBFRGdvbm9zXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIkRlc2VuaGFyIExpbmhhIFBvbGlnb25hbFwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIkRlc2VuaGFyIENcdTAwRURyY3Vsb1wiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJEZXNlbmhhciBSZXRcdTAwRTJuZ3Vsb1wiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVkaXRhciBDYW1hZGFzXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiQXJyYXN0YXIgQ2FtYWRhc1wiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiUmVjb3J0YXIgQ2FtYWRhc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiUmVtb3ZlciBDYW1hZGFzXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGVzZW5oYXIgTWFyY2Fkb3IgZGUgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkFqdXN0YXIgbWFyY2Fkb3IgYXJyYXN0YWRvIGEgb3V0cmFzIGNhbWFkYXMgZSB2XHUwMEU5cnRpY2VzXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiVW5pciB2XHUwMEU5cnRpY2VzIGNvbXBhcnRpbGhhZG9zXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb3RhY2lvbmFyIENhbWFkYXNcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiRGVzZW5oYXIgVGV4dG9cIixcbiAgICBcInNjYWxlQnV0dG9uXCI6IFwiUmVkaW1lbnNpb25hciBDYW1hZGFzXCIsXG4gICAgXCJhdXRvVHJhY2luZ0J1dHRvblwiOiBcIlRyYVx1MDBFN2FkbyBBdXRvbVx1MDBFMXRpY28gZGUgTGluaGFcIlxuICB9LFxuICBcIm1lYXN1cmVtZW50c1wiOiB7XG4gICAgXCJ0b3RhbExlbmd0aFwiOiBcIkNvbXByaW1lbnRvXCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiQ29tcHJpbWVudG8gZG8gU2VnbWVudG9cIixcbiAgICBcImFyZWFcIjogXCJcdTAwQzFyZWFcIixcbiAgICBcInJhZGl1c1wiOiBcIlJhaW9cIixcbiAgICBcInBlcmltZXRlclwiOiBcIlBlclx1MDBFRG1ldHJvXCIsXG4gICAgXCJoZWlnaHRcIjogXCJBbHR1cmFcIixcbiAgICBcIndpZHRoXCI6IFwiTGFyZ3VyYVwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJQb3NpXHUwMEU3XHUwMEUzb1wiLFxuICAgIFwiY29vcmRpbmF0ZXNNYXJrZXJcIjogXCJNYXJjYWRvciBkZSBQb3NpXHUwMEU3XHUwMEUzb1wiXG4gIH1cbn0iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiQ2xpcXVlIHBhcmEgY29sb2NhciBtYXJjYWRvclwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJDbGlxdWUgcGFyYSBjb2xvY2FyIHByaW1laXJvIHZcdTAwRTlydGljZVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiQ2xpcXVlIHBhcmEgY29udGludWFyIGEgZGVzZW5oYXJcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJDbGlxdWUgbnVtIG1hcmNhZG9yIGV4aXN0ZW50ZSBwYXJhIHRlcm1pbmFyXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiQ2xpcXVlIG5vIHByaW1laXJvIG1hcmNhZG9yIHBhcmEgdGVybWluYXJcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJDbGlxdWUgcGFyYSB0ZXJtaW5hclwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJDbGlxdWUgcGFyYSBjb2xvY2FyIG8gY2VudHJvIGRvIGNcdTAwRURyY3Vsb1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiQ2xpcXVlIHBhcmEgdGVybWluYXIgbyBjXHUwMEVEcmN1bG9cIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiQ2xpcXVlIHBhcmEgY29sb2NhciBtYXJjYWRvciBkZSBjXHUwMEVEcmN1bG9cIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIkNsaXF1ZSBwYXJhIGNvbG9jYXIgdGV4dG9cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiVGVybWluYXJcIixcbiAgICBcImNhbmNlbFwiOiBcIkNhbmNlbGFyXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiUmVtb3ZlciBcdTAwREFsdGltbyBWXHUwMEU5cnRpY2VcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiRGVzZW5oYXIgTWFyY2Fkb3JcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiRGVzZW5oYXIgUG9sXHUwMEVEZ29ub3NcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiRGVzZW5oYXIgUG9saWxpbmhhXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiRGVzZW5oYXIgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIkRlc2VuaGFyIFJldFx1MDBFMm5ndWxvXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWRpdGFyIENhbWFkYXNcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJBcnJhc3RhciBDYW1hZGFzXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJDb3J0YXIgQ2FtYWRhc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiUmVtb3ZlciBDYW1hZGFzXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGVzZW5oYXIgTWFyY2Fkb3IgZGUgQ1x1MDBFRHJjdWxvXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkFqdXN0YXIgbWFyY2Fkb3IgYXJyYXN0YWRvIGEgb3V0cmFzIGNhbWFkYXMgZSB2XHUwMEU5cnRpY2VzXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiVW5pciB2XHUwMEU5cnRpY2VzIHBhcnRpbGhhZG9zXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJSb2RhciBDYW1hZGFzXCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIkRlc2VuaGFyIFRleHRvXCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIkVzY2FsYXIgQ2FtYWRhc1wiLFxuICAgIFwiYXV0b1RyYWNpbmdCdXR0b25cIjogXCJUcmFcdTAwRTdhZG8gQXV0b21cdTAwRTF0aWNvIGRlIExpbmhhXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJDb21wcmltZW50b1wiLFxuICAgIFwic2VnbWVudExlbmd0aFwiOiBcIkNvbXByaW1lbnRvIGRvIFNlZ21lbnRvXCIsXG4gICAgXCJhcmVhXCI6IFwiXHUwMEMxcmVhXCIsXG4gICAgXCJyYWRpdXNcIjogXCJSYWlvXCIsXG4gICAgXCJwZXJpbWV0ZXJcIjogXCJQZXJcdTAwRURtZXRyb1wiLFxuICAgIFwiaGVpZ2h0XCI6IFwiQWx0dXJhXCIsXG4gICAgXCJ3aWR0aFwiOiBcIkxhcmd1cmFcIixcbiAgICBcImNvb3JkaW5hdGVzXCI6IFwiUG9zaVx1MDBFN1x1MDBFM29cIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiTWFyY2Fkb3IgZGUgUG9zaVx1MDBFN1x1MDBFM29cIlxuICB9XG59IiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIktsaWtuaWosIGFieSB1bWllXHUwMTVCY2lcdTAxMDcgem5hY3puaWtcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpa25paiwgYWJ5IHVtaWVcdTAxNUJjaVx1MDEwNyBwaWVyd3N6eSB3aWVyemNob1x1MDE0MmVrXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlrbmlqLCBhYnkga29udHludW93YVx1MDEwNyByeXNvd2FuaWVcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlrbmlqIGRvd29sbnkgaXN0bmllalx1MDEwNWN5IHpuYWN6bmlrLCBhYnkgemFrb1x1MDE0NGN6eVx1MDEwN1wiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWtuaWogcGllcndzenkgem5hY3puaWssIGFieSB6YWtvXHUwMTQ0Y3p5XHUwMTA3XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2xpa25paiwgYWJ5IHpha29cdTAxNDRjenlcdTAxMDdcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2xpa25paiwgYWJ5IHVtaWVcdTAxNUJjaVx1MDEwNyBcdTAxNUJyb2RlayBva3JcdTAxMTlndVwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiS2xpa25paiwgYWJ5IHpha29cdTAxNDRjenlcdTAxMDcgb2tyXHUwMTA1Z1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLbGlrbmlqLCBhYnkgdW1pZVx1MDE1QmNpXHUwMTA3IHpuYWN6bmlrIG9rclx1MDExOWd1XCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJLbGlrbmlqLCBhYnkgdW1pZVx1MDE1QmNpXHUwMTA3IHRla3N0XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlpha29cdTAxNDRjelwiLFxuICAgIFwiY2FuY2VsXCI6IFwiQW51bHVqXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiVXN1XHUwMTQ0IG9zdGF0bmkgd2llcnpjaG9cdTAxNDJla1wiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJSeXN1aiB6bmFjem5pa1wiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJSeXN1aiB3aWVsb2tcdTAxMDV0XCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlJ5c3VqIGxpbmlcdTAxMTlcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJSeXN1aiBva3JcdTAxMDVnXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlJ5c3VqIHByb3N0b2tcdTAxMDV0XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiRWR5dHVqIHdhcnN0d3lcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJQcnplY2lcdTAxMDVnbmlqIHdhcnN0d3lcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIld5dG5paiB3YXJzdHd5XCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJVc3VcdTAxNDQgd2Fyc3R3eVwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlJ5c3VqIHpuYWN6bmlrIG9rclx1MDEwNWdcdTAxNDJ5XCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlByenljaVx1MDEwNWduaWogcHJ6ZW5vc3pvbnkgem5hY3puaWsgZG8gaW5ueWNoIHdhcnN0dyBpIHdpZXJ6Y2hvXHUwMTQya1x1MDBGM3dcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJQcnp5cG5paiB3c3BcdTAwRjNsbmUgd2llcnpjaG9cdTAxNDJraSByYXplbVwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiT2JyXHUwMEYzXHUwMTA3IHdhcnN0d3lcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiUnlzdWogdGVrc3RcIixcbiAgICBcInNjYWxlQnV0dG9uXCI6IFwiU2thbHVqIHdhcnN0d3lcIixcbiAgICBcImF1dG9UcmFjaW5nQnV0dG9uXCI6IFwiQXV0b21hdHljem5lIFx1MDE1QmxlZHplbmllIGxpbmlpXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJEXHUwMTQydWdvXHUwMTVCXHUwMTA3XCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiRFx1MDE0MnVnb1x1MDE1Qlx1MDEwNyBvZGNpbmthXCIsXG4gICAgXCJhcmVhXCI6IFwiT2JzemFyXCIsXG4gICAgXCJyYWRpdXNcIjogXCJQcm9taWVcdTAxNDRcIixcbiAgICBcInBlcmltZXRlclwiOiBcIk9id1x1MDBGM2RcIixcbiAgICBcImhlaWdodFwiOiBcIld5c29rb1x1MDE1Qlx1MDEwN1wiLFxuICAgIFwid2lkdGhcIjogXCJTemVyb2tvXHUwMTVCXHUwMTA3XCIsXG4gICAgXCJjb29yZGluYXRlc1wiOiBcIlBvenljamFcIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiWm5hY3puaWsgcG96eWNqaVwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IHBsYWNlcmEgbWFya1x1MDBGNnJcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpY2thIGZcdTAwRjZyIGF0dCBwbGFjZXJhIGZcdTAwRjZyc3RhIGhcdTAwRjZybmV0XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IGZvcnRzXHUwMEU0dHRhIHJpdGFcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlja2EgcFx1MDBFNSBlbiBleGlzdGVyYW5kZSBwdW5rdCBmXHUwMEY2ciBhdHQgc2x1dGZcdTAwRjZyYVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIktsaWNrYSBwXHUwMEU1IGRlbiBmXHUwMEY2cnN0YSBwdW5rdGVuIGZcdTAwRjZyIGF0dCBzbHV0Zlx1MDBGNnJhXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2xpY2thIGZcdTAwRjZyIGF0dCBzbHV0Zlx1MDBGNnJhXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIktsaWNrYSBmXHUwMEY2ciBhdHQgcGxhY2VyYSBjaXJrZWxucyBjZW50cnVtXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IHNsdXRmXHUwMEY2cmEgY2lya2VsblwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLbGlja2EgZlx1MDBGNnIgYXR0IHBsYWNlcmEgY2lya2VsbWFya1x1MDBGNnJcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiU2x1dGZcdTAwRjZyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJBdmJyeXRcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJUYSBib3J0IHNpc3RhIGhcdTAwRjZybmV0XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlJpdGEgTWFya1x1MDBGNnJcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiUml0YSBQb2x5Z29uZXJcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiUml0YSBMaW5qZVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlJpdGEgQ2lya2VsXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlJpdGEgUmVrdGFuZ2VsXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiUmVkaWdlcmEgTGFnZXJcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJEcmEgTGFnZXJcIixcbiAgICBcImN1dEJ1dHRvblwiOiBcIktsaXBwIGkgTGFnZXJcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlRhIGJvcnQgTGFnZXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJSaXRhIENpcmtlbG1hcmtcdTAwRjZyXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlNuXHUwMEU0cHAgZHJhIG1hcmtcdTAwRjZyZW4gdGlsbCBhbmRyYSBsYWdlciBvY2ggaFx1MDBGNnJuXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiRlx1MDBFNHN0IGRlbGFkZSBoXHUwMEY2cm4gdGlsbHNhbW1hbnNcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJvdGVyYSBsYWdyZXRcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNDNFx1MDNCRlx1MDNDMFx1MDNCRlx1MDNCOFx1MDNCNVx1MDNDNFx1MDNBRVx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNSBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjdcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNDNFx1MDNCRlx1MDNDMFx1MDNCRlx1MDNCOFx1MDNCNVx1MDNDNFx1MDNBRVx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNSBcdTAzQzRcdTAzQkYgXHUwM0MwXHUwM0MxXHUwM0NFXHUwM0M0XHUwM0JGIFx1MDNDM1x1MDNCN1x1MDNCQ1x1MDNCNVx1MDNBRlx1MDNCRlwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNDM1x1MDNDNVx1MDNCRFx1MDNCNVx1MDNDN1x1MDNBRlx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNSBcdTAzQkRcdTAzQjEgXHUwM0MzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0I5XHUwM0FDXHUwM0I2XHUwM0I1XHUwM0M0XHUwM0I1XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQzNcdTAzQjUgXHUwM0JGXHUwM0MwXHUwM0JGXHUwM0I5XHUwM0JGXHUwM0JEXHUwM0I0XHUwM0FFXHUwM0MwXHUwM0JGXHUwM0M0XHUwM0I1IFx1MDNDNVx1MDNDMFx1MDNBQ1x1MDNDMVx1MDNDN1x1MDNCRlx1MDNCRCBcdTAzQzNcdTAzQjdcdTAzQkNcdTAzQjVcdTAzQUZcdTAzQkYgXHUwM0IzXHUwM0I5XHUwM0IxIFx1MDNCRFx1MDNCMSBcdTAzQkZcdTAzQkJcdTAzQkZcdTAzQkFcdTAzQkJcdTAzQjdcdTAzQzFcdTAzQzlcdTAzQjhcdTAzQjVcdTAzQUZcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNDM1x1MDNDNFx1MDNCRiBcdTAzQzBcdTAzQzFcdTAzQ0VcdTAzQzRcdTAzQkYgXHUwM0MzXHUwM0I3XHUwM0JDXHUwM0I1XHUwM0FGXHUwM0JGIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0I1XHUwM0JCXHUwM0I1XHUwM0I5XHUwM0NFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUwMzlBXHUwM0FDXHUwM0JEXHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQSBcdTAzQjNcdTAzQjlcdTAzQjEgXHUwM0JEXHUwM0IxIFx1MDNDNFx1MDNCNVx1MDNCQlx1MDNCNVx1MDNCOVx1MDNDRVx1MDNDM1x1MDNCNVx1MDNDNFx1MDNCNVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0JGXHUwM0MwXHUwM0JGXHUwM0I4XHUwM0I1XHUwM0M0XHUwM0FFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1IFx1MDNCQVx1MDNBRFx1MDNCRFx1MDNDNFx1MDNDMVx1MDNCRiBcdTAzOUFcdTAzQ0RcdTAzQkFcdTAzQkJcdTAzQkZcdTAzQzVcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIlx1MDM5QVx1MDNBQ1x1MDNCRFx1MDNDNFx1MDNCNSBcdTAzQkFcdTAzQkJcdTAzQjlcdTAzQkEgXHUwM0IzXHUwM0I5XHUwM0IxIFx1MDNCRFx1MDNCMSBcdTAzQkZcdTAzQkJcdTAzQkZcdTAzQkFcdTAzQkJcdTAzQjdcdTAzQzFcdTAzQ0VcdTAzQzNcdTAzQjVcdTAzQzRcdTAzQjUgXHUwM0M0XHUwM0JGXHUwM0JEIFx1MDM5QVx1MDNDRFx1MDNCQVx1MDNCQlx1MDNCRlwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdTAzOUFcdTAzQUNcdTAzQkRcdTAzQzRcdTAzQjUgXHUwM0JBXHUwM0JCXHUwM0I5XHUwM0JBIFx1MDNCM1x1MDNCOVx1MDNCMSBcdTAzQkRcdTAzQjEgXHUwM0M0XHUwM0JGXHUwM0MwXHUwM0JGXHUwM0I4XHUwM0I1XHUwM0M0XHUwM0FFXHUwM0MzXHUwM0I1XHUwM0M0XHUwM0I1IFx1MDM5QVx1MDNDNVx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQVx1MDNDQyBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjdcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHUwM0E0XHUwM0FEXHUwM0JCXHUwM0JGXHUwM0MyXCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdTAzOTFcdTAzQkFcdTAzQ0RcdTAzQzFcdTAzQzlcdTAzQzNcdTAzQjdcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTAzOUFcdTAzQjFcdTAzQzRcdTAzQUNcdTAzQzFcdTAzQjNcdTAzQjdcdTAzQzNcdTAzQjcgXHUwM0M0XHUwM0I1XHUwM0JCXHUwM0I1XHUwM0M1XHUwM0M0XHUwM0IxXHUwM0FGXHUwM0JGXHUwM0M1IFx1MDNDM1x1MDNCN1x1MDNCQ1x1MDNCNVx1MDNBRlx1MDNCRlx1MDNDNVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTAzQTNcdTAzQzdcdTAzQjVcdTAzQjRcdTAzQUZcdTAzQjFcdTAzQzNcdTAzQjcgXHUwMzk0XHUwM0I1XHUwM0FGXHUwM0JBXHUwM0M0XHUwM0I3XCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MDNBM1x1MDNDN1x1MDNCNVx1MDNCNFx1MDNBRlx1MDNCMVx1MDNDM1x1MDNCNyBcdTAzQTBcdTAzQkZcdTAzQkJcdTAzQzVcdTAzQjNcdTAzQ0VcdTAzQkRcdTAzQkZcdTAzQzVcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwM0EzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0FGXHUwM0IxXHUwM0MzXHUwM0I3IFx1MDM5M1x1MDNDMVx1MDNCMVx1MDNCQ1x1MDNCQ1x1MDNBRVx1MDNDMlwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1MDNBM1x1MDNDN1x1MDNCNVx1MDNCNFx1MDNBRlx1MDNCMVx1MDNDM1x1MDNCNyBcdTAzOUFcdTAzQ0RcdTAzQkFcdTAzQkJcdTAzQkZcdTAzQzVcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHUwM0EzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0FGXHUwM0IxXHUwM0MzXHUwM0I3IFx1MDM5Rlx1MDNDMVx1MDNCOFx1MDNCRlx1MDNCM1x1MDNDOVx1MDNCRFx1MDNBRlx1MDNCRlx1MDNDNVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MDM5NVx1MDNDMFx1MDNCNVx1MDNCRVx1MDNCNVx1MDNDMVx1MDNCM1x1MDNCMVx1MDNDM1x1MDNBRlx1MDNCMSBcdTAzOTVcdTAzQzBcdTAzQjlcdTAzQzBcdTAzQURcdTAzQjRcdTAzQzlcdTAzQkRcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTAzOUNcdTAzQjVcdTAzQzRcdTAzQjFcdTAzQzZcdTAzQkZcdTAzQzFcdTAzQUMgXHUwMzk1XHUwM0MwXHUwM0I5XHUwM0MwXHUwM0FEXHUwM0I0XHUwM0M5XHUwM0JEXCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTAzOTFcdTAzQzBcdTAzQkZcdTAzQkFcdTAzQkZcdTAzQzBcdTAzQUUgXHUwMzk1XHUwM0MwXHUwM0I5XHUwM0MwXHUwM0FEXHUwM0I0XHUwM0M5XHUwM0JEXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTAzOUFcdTAzQjFcdTAzQzRcdTAzQUNcdTAzQzFcdTAzQjNcdTAzQjdcdTAzQzNcdTAzQjcgXHUwMzk1XHUwM0MwXHUwM0I5XHUwM0MwXHUwM0FEXHUwM0I0XHUwM0M5XHUwM0JEXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHUwM0EzXHUwM0M3XHUwM0I1XHUwM0I0XHUwM0FGXHUwM0IxXHUwM0MzXHUwM0I3IFx1MDM5QVx1MDNDNVx1MDNCQVx1MDNCQlx1MDNCOVx1MDNCQVx1MDNCRlx1MDNDRCBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjdcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHUwM0EwXHUwM0MxXHUwM0JGXHUwM0MzXHUwM0JBXHUwM0NDXHUwM0JCXHUwM0JCXHUwM0I3XHUwM0MzXHUwM0I3IFx1MDNDNFx1MDNCRlx1MDNDNSBcdTAzOTRcdTAzQjVcdTAzQUZcdTAzQkFcdTAzQzRcdTAzQjcgXHUwM0JDXHUwM0I1XHUwM0M0XHUwM0IxXHUwM0M2XHUwM0JGXHUwM0MxXHUwM0FDXHUwM0MyIFx1MDNDM1x1MDNCNSBcdTAzQUNcdTAzQkJcdTAzQkJcdTAzQjEgXHUwMzk1XHUwM0MwXHUwM0FGXHUwM0MwXHUwM0I1XHUwM0I0XHUwM0IxIFx1MDNCQVx1MDNCMVx1MDNCOSBcdTAzOUFcdTAzQkZcdTAzQzFcdTAzQzVcdTAzQzZcdTAzQURcdTAzQzJcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJcdTAzQTBcdTAzQjVcdTAzQzFcdTAzQjlcdTAzQkFcdTAzQkZcdTAzQzBcdTAzQUUgXHUwM0JBXHUwM0JGXHUwM0I5XHUwM0JEXHUwM0NFXHUwM0JEIFx1MDNCQVx1MDNCRlx1MDNDMVx1MDNDNVx1MDNDNlx1MDNDRVx1MDNCRCBcdTAzQkNcdTAzQjFcdTAzQjZcdTAzQUZcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1MDNBMFx1MDNCNVx1MDNDMVx1MDNCOVx1MDNDM1x1MDNDNFx1MDNDMVx1MDNBRFx1MDNDOFx1MDNDNFx1MDNCNSBcdTAzQzRcdTAzQkYgXHUwM0MzXHUwM0M0XHUwM0MxXHUwM0NFXHUwM0JDXHUwM0IxXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIkthdHRpbnRzb24gYSBqZWxcdTAwRjZsXHUwMTUxIGVsaGVseWV6XHUwMEU5c1x1MDBFOWhlelwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLYXR0aW50c29uIGF6IGVsc1x1MDE1MSBwb250IGVsaGVseWV6XHUwMEU5c1x1MDBFOWhlelwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2F0dGludHNvbiBhIGtcdTAwRjZ2ZXRrZXpcdTAxNTEgcG9udCBlbGhlbHllelx1MDBFOXNcdTAwRTloZXpcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJBIGJlZmVqZXpcdTAwRTlzaGV6IGthdHRpbnRzb24gZWd5IG1lZ2xcdTAwRTl2XHUwMTUxIHBvbnRyYVwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIkEgYmVmZWplelx1MDBFOXNoZXoga2F0dGludHNvbiBheiBlbHNcdTAxNTEgcG9udHJhXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiS2F0dGludHNvbiBhIGJlZmVqZXpcdTAwRTlzaGV6XCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIkthdHRpbnRzb24gYSBrXHUwMEY2ciBrXHUwMEY2elx1MDBFOXBwb250alx1MDBFMW5hayBlbGhlbHllelx1MDBFOXNcdTAwRTloZXpcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIkthdHRpbnRzb24gYSBrXHUwMEY2ciBiZWZlamV6XHUwMEU5c1x1MDBFOWhlelwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJLYXR0aW50c29uIGEga1x1MDBGNnJqZWxcdTAwRjZsXHUwMTUxIGVsaGVseWV6XHUwMEU5c1x1MDBFOWhlelwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJCZWZlamV6XHUwMEU5c1wiLFxuICAgIFwiY2FuY2VsXCI6IFwiTVx1MDBFOWdzZVwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlV0b2xzXHUwMEYzIHBvbnQgZWx0XHUwMEUxdm9sXHUwMEVEdFx1MDBFMXNhXCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIkplbFx1MDBGNmxcdTAxNTEgcmFqem9sXHUwMEUxc2FcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiUG9saWdvbiByYWp6b2xcdTAwRTFzYVwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJWb25hbCByYWp6b2xcdTAwRTFzYVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIktcdTAwRjZyIHJhanpvbFx1MDBFMXNhXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIk5cdTAwRTlneXpldCByYWp6b2xcdTAwRTFzYVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIkVsZW1layBzemVya2VzenRcdTAwRTlzZVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkVsZW1layBtb3pnYXRcdTAwRTFzYVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiRWxlbWVrIHZcdTAwRTFnXHUwMEUxc2FcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIkVsZW1layB0XHUwMEY2cmxcdTAwRTlzZVwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIktcdTAwRjZyIGplbFx1MDBGNmxcdTAxNTEgcmFqem9sXHUwMEUxc2FcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiS2FwY3NvbGphIGEgamVsXHUwMEY2bHRcdTAxNTF0IG1cdTAwRTFzaWsgZWxlbWhleiB2YWd5IHBvbnRob3pcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJLXHUwMEY2elx1MDBGNnMgcG9udG9rIFx1MDBGNnNzemVrXHUwMEY2dFx1MDBFOXNlXCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJGXHUwMEYzbGlhIGVsZm9yZ2F0XHUwMEUxc2FcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiVHJ5ayBmb3IgYXQgcGxhY2VyZSBlbiBtYXJrXHUwMEY4clwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJUcnlrIGZvciBhdCBwbGFjZXJlIGRldCBmXHUwMEY4cnN0ZSBwdW5rdFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiVHJ5ayBmb3IgYXQgZm9ydHNcdTAwRTZ0dGUgbGluamVuXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiVHJ5ayBwXHUwMEU1IGV0IGVrc2lzdGVyZW5kZSBwdW5rdCBmb3IgYXQgYWZzbHV0dGVcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJUcnlrIHBcdTAwRTUgZGV0IGZcdTAwRjhyc3RlIHB1bmt0IGZvciBhdCBhZnNsdXR0ZVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIlRyeWsgZm9yIGF0IGFmc2x1dHRlXCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlRyeWsgZm9yIGF0IHBsYWNlcmUgY2lya2xlbnMgY2VudGVyXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJUcnlrIGZvciBhdCBhZnNsdXR0ZSBjaXJrbGVuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlRyeWsgZm9yIGF0IHBsYWNlcmUgZW4gY2lya2VsbWFya1x1MDBGOHJcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiQWZzbHV0XCIsXG4gICAgXCJjYW5jZWxcIjogXCJBZmJyeWRcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJGamVybiBzaWRzdGUgcHVua3RcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiUGxhY2VyIG1hcmtcdTAwRjhyXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlRlZ24gcG9seWdvblwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJUZWduIGxpbmplXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiVGVnbiBjaXJrZWxcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiVGVnbiBmaXJrYW50XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiUmVkaWdlclwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlRyXHUwMEU2a1wiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiS2xpcFwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiRmplcm5cIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJUZWduIGNpcmtlbG1hcmtcdTAwRjhyXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIkZhc3RnXHUwMEY4ciB0cnVra2V0IG1hcmtcdTAwRjhyIHRpbCBhbmRyZSBlbGVtZW50ZXJcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJTYW1tZW5sXHUwMEU2ZyBkZWx0ZSBlbGVtZW50ZXJcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlJvdGVyIGxhZ2V0XCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIktsaWtrIGZvciBcdTAwRTUgcGxhc3NlcmUgcHVua3RcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiS2xpa2sgZm9yIFx1MDBFNSBwbGFzc2VyZSBmXHUwMEY4cnN0ZSBwdW5rdFwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiS2xpa2sgZm9yIFx1MDBFNSB0ZWduZSB2aWRlcmVcIixcbiAgICBcImZpbmlzaExpbmVcIjogXCJLbGlrayBwXHUwMEU1IGV0IGVrc2lzdGVyZW5kZSBwdW5rdCBmb3IgXHUwMEU1IGZ1bGxmXHUwMEY4cmVcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJLbGlrayBmXHUwMEY4cnN0ZSBwdW5rdCBmb3IgXHUwMEU1IGZ1bGxmXHUwMEY4cmVcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJLbGlrayBmb3IgXHUwMEU1IGZ1bGxmXHUwMEY4cmVcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2xpa2sgZm9yIFx1MDBFNSBzZXR0ZSBzaXJrZWwgbWlkdHB1bmt0XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJLbGlrayBmb3IgXHUwMEU1IGZ1bGxmXHUwMEY4cmUgc2lya2VsXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWtrIGZvciBcdTAwRTUgcGxhc3NlcmUgc2lya2VsXCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJLbGlrayBmb3IgXHUwMEU1IHBsYXNzZXJlIHRla3N0XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIkZ1bGxmXHUwMEY4clwiLFxuICAgIFwiY2FuY2VsXCI6IFwiS2Fuc2VsbGVyXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiRmplcm4gZm9ycmlnZSBwdW5rdFwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJUZWduIHB1bmt0XCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlRlZ24gZmxhdGVcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiVGVnbiBsaW5qZVwiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlRlZ24gc2lya2VsXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlRlZ24gcmVrdGFuZ2VsXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiUmVkaWdlciBvYmpla3RlclwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkRyYSBvYmpla3RlclwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiS3V0dCBvYmpla3RlclwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiRmplcm4gb2JqZWt0ZXJcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJUZWduIHNpcmtlbC1wdW5rdFwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJGZXN0IGRyYXR0IHB1bmt0IHRpbCBhbmRyZSBvYmpla3RlciBvZyBwdW5rdFwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlBpbiBkZWx0ZSBwdW5rdGVyIHNhbW1lblwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiUm90XHUwMEU5ciBvYmpla3RlclwiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJUZWduIHRla3N0XCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIlNrYWxcdTAwRTlyIG9iamVrdGVyXCIsXG4gICAgXCJhdXRvVHJhY2luZ0J1dHRvblwiOiBcIkF1dG9tYXRpc2sgc3BvcmluZyBhdiBsaW5qZVwiXG4gIH0sXG4gIFwibWVhc3VyZW1lbnRzXCI6IHtcbiAgICBcInRvdGFsTGVuZ3RoXCI6IFwiTGVuZ2RlXCIsXG4gICAgXCJzZWdtZW50TGVuZ3RoXCI6IFwiU2VnbWVudGxlbmdkZVwiLFxuICAgIFwiYXJlYVwiOiBcIk9tclx1MDBFNWRlXCIsXG4gICAgXCJyYWRpdXNcIjogXCJSYWRpdXNcIixcbiAgICBcInBlcmltZXRlclwiOiBcIk9tcmlzc1wiLFxuICAgIFwiaGVpZ2h0XCI6IFwiSFx1MDBGOHlkZVwiLFxuICAgIFwid2lkdGhcIjogXCJCcmVkZGVcIixcbiAgICBcImNvb3JkaW5hdGVzXCI6IFwiUG9zaXNqb25cIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiUG9zaXNqb25zbWFya1x1MDBGOHJcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2MkNcdTA2MjdcdTA2NDZcdTA2NDVcdTA2MjdcdTA2Q0NcdTA2Q0MgXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDYyN1x1MDY0OFx1MDY0NFx1MDZDQ1x1MDY0NiBcdTA2MzFcdTA2MjNcdTA2MzNcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjI3XHUwNjJGXHUwNjI3XHUwNjQ1XHUwNjQ3IFx1MDYzMVx1MDYzM1x1MDY0NVwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MzFcdTA2NDhcdTA2Q0MgXHUwNjQ3XHUwNjMxIFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NiBcdTA2NDVcdTA2NDhcdTA2MkNcdTA2NDhcdTA2MkYgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDY3RVx1MDYyN1x1MDZDQ1x1MDYyN1x1MDY0NlwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2MzFcdTA2NDhcdTA2Q0MgXHUwNjI3XHUwNjQ4XHUwNjQ0XHUwNkNDXHUwNjQ2IFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NiBcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjdFXHUwNjI3XHUwNkNDXHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2N0VcdTA2MjdcdTA2Q0NcdTA2MjdcdTA2NDZcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjQ1XHUwNjMxXHUwNkE5XHUwNjMyIFx1MDYyRlx1MDYyN1x1MDZDQ1x1MDYzMVx1MDY0N1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2N0VcdTA2MjdcdTA2Q0NcdTA2MjdcdTA2NDYgXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDYyRlx1MDYyN1x1MDZDQ1x1MDYzMVx1MDY0N1wiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDYzMVx1MDYzM1x1MDY0NSBcdTA2NDZcdTA2MzRcdTA2MjdcdTA2NDYgXHUwNjJGXHUwNjI3XHUwNkNDXHUwNjMxXHUwNjQ3XCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2QTkgXHUwNjI4XHUwNjMxXHUwNjI3XHUwNkNDIFx1MDY0Nlx1MDY0OFx1MDYzNFx1MDYyQVx1MDY0NiBcdTA2NDVcdTA2MkFcdTA2NDZcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHUwNjdFXHUwNjI3XHUwNkNDXHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdTA2NDRcdTA2NDFcdTA2NDhcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTA2MkRcdTA2MzBcdTA2NDEgXHUwNjIyXHUwNjJFXHUwNjMxXHUwNkNDXHUwNjQ2IFx1MDYzMVx1MDYyM1x1MDYzM1wiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTA2MkZcdTA2MzFcdTA2MkMgXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2XCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MDYzMVx1MDYzM1x1MDY0NSBcdTA2ODZcdTA2NDZcdTA2MkZcdTA2MzZcdTA2NDRcdTA2MzlcdTA2Q0NcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDYyRVx1MDYzN1wiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1MDYzMVx1MDYzM1x1MDY0NSBcdTA2MkZcdTA2MjdcdTA2Q0NcdTA2MzFcdTA2NDdcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDY4Nlx1MDY0N1x1MDYyN1x1MDYzMVx1MDYzNlx1MDY0NFx1MDYzOVx1MDZDQ1wiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MDY0OFx1MDZDQ1x1MDYzMVx1MDYyN1x1MDZDQ1x1MDYzNCBcdTA2NDRcdTA2MjdcdTA2Q0NcdTA2NDdcdTIwMENcdTA2NDdcdTA2MjdcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTA2MkNcdTA2MjdcdTA2MjhcdTA2MkNcdTA2MjdcdTA2Q0NcdTA2Q0MgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XHUyMDBDXHUwNjQ3XHUwNjI3XCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTA2MjhcdTA2MzFcdTA2MzQgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XHUyMDBDXHUwNjQ3XHUwNjI3XCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTA2MkRcdTA2MzBcdTA2NDEgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XHUyMDBDXHUwNjQ3XHUwNjI3XCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHUwNjMxXHUwNjMzXHUwNjQ1IFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NiBcdTA2MkZcdTA2MjdcdTA2Q0NcdTA2MzFcdTA2NDdcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHUwNjQ2XHUwNjM0XHUwNjI3XHUwNjQ2XHUwNkFGXHUwNjMxIFx1MDYzMVx1MDYyNyBcdTA2MjhcdTA2NDcgXHUwNjQ0XHUwNjI3XHUwNkNDXHUwNjQ3XHUyMDBDXHUwNjQ3XHUwNjI3IFx1MDY0OCBcdTA2MzFcdTA2MjZcdTA2NDhcdTA2MzMgXHUwNjJGXHUwNkNDXHUwNkFGXHUwNjMxIFx1MDYyOFx1MDZBOVx1MDYzNFx1MDZDQ1x1MDYyRlwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDYzMVx1MDYyNlx1MDY0OFx1MDYzMyBcdTA2NDVcdTA2MzRcdTA2MkFcdTA2MzFcdTA2QTkgXHUwNjMxXHUwNjI3IFx1MDYyOFx1MDYyNyBcdTA2NDdcdTA2NDUgXHUwNjdFXHUwNkNDXHUwNjQ2IFx1MDZBOVx1MDY0Nlx1MDZDQ1x1MDYyRlwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHUwNjg2XHUwNjMxXHUwNjJFXHUwNjM0IFx1MDY0NFx1MDYyN1x1MDZDQ1x1MDY0N1wiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJcdTA2MzFcdTA2MzNcdTA2NDUgXHUwNjQ1XHUwNjJBXHUwNjQ2XCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIlx1MDY0NVx1MDY0Mlx1MDZDQ1x1MDYyN1x1MDYzM1x1MjAwQ1x1MDZBRlx1MDYzMFx1MDYyN1x1MDYzMVx1MDZDQ1wiLFxuICAgIFwiYXV0b1RyYWNpbmdCdXR0b25cIjogXCJcdTA2MzFcdTA2MkZcdTA2Q0NcdTA2MjdcdTA2MjggXHUwNjJFXHUwNjQ4XHUwNjJGXHUwNkE5XHUwNjI3XHUwNjMxXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJcdTA2MzdcdTA2NDhcdTA2NDRcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJcdTA2MzdcdTA2NDhcdTA2NDQgXHUwNjI4XHUwNjJFXHUwNjM0XCIsXG4gICAgXCJhcmVhXCI6IFwiXHUwNjQ2XHUwNjI3XHUwNjJEXHUwNkNDXHUwNjQ3XCIsXG4gICAgXCJyYWRpdXNcIjogXCJcdTA2MzRcdTA2MzlcdTA2MjdcdTA2MzlcIixcbiAgICBcInBlcmltZXRlclwiOiBcIlx1MDY0NVx1MDYyRFx1MDZDQ1x1MDYzN1wiLFxuICAgIFwiaGVpZ2h0XCI6IFwiXHUwNjI3XHUwNjMxXHUwNjJBXHUwNjQxXHUwNjI3XHUwNjM5XCIsXG4gICAgXCJ3aWR0aFwiOiBcIlx1MDYzOVx1MDYzMVx1MDYzNlwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJcdTA2NDVcdTA2NDhcdTA2NDJcdTA2MzlcdTA2Q0NcdTA2MkFcIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiXHUwNjQ1XHUwNjQ4XHUwNjQyXHUwNjM5XHUwNkNDXHUwNjJBIFx1MDY0Nlx1MDYzNFx1MDYyN1x1MDY0NlwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQzRFx1MDQ1Nlx1MDQ0Mlx1MDQ0QywgXHUwNDQ5XHUwNDNFXHUwNDMxIFx1MDQzRFx1MDQzMFx1MDQzRFx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzOCBcdTA0M0ZcdTA0MzVcdTA0NDBcdTA0NDhcdTA0NDMgXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDNEXHUwNDQzXCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0M0ZcdTA0NDBcdTA0M0VcdTA0MzRcdTA0M0VcdTA0MzJcdTA0MzZcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDIFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQ0Qy1cdTA0NEZcdTA0M0FcdTA0MzhcdTA0MzkgXHUwNDU2XHUwNDQxXHUwNDNEXHUwNDQzXHUwNDRFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MCBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHUwNDEyXHUwNDM4XHUwNDMxXHUwNDM1XHUwNDQwXHUwNDU2XHUwNDQyXHUwNDRDIFx1MDQzRlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDAsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0NDJcdTA0MzhcIixcbiAgICBcImZpbmlzaFJlY3RcIjogXCJcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDhcdTA0MzhcdTA0NDJcdTA0MzhcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDLCBcdTA0NDlcdTA0M0VcdTA0MzEgXHUwNDM0XHUwNDNFXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQ0Nlx1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQ0MCBcdTA0M0FcdTA0M0VcdTA0M0JcdTA0MzBcIixcbiAgICBcImZpbmlzaENpcmNsZVwiOiBcIlx1MDQxRFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQzRFx1MDQ1Nlx1MDQ0Mlx1MDQ0QywgXHUwNDQ5XHUwNDNFXHUwNDMxIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQ0Mlx1MDQzOCBcdTA0M0FcdTA0M0VcdTA0M0JcdTA0M0VcIixcbiAgICBcInBsYWNlQ2lyY2xlTWFya2VyXCI6IFwiXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDLCBcdTA0NDlcdTA0M0VcdTA0MzEgXHUwNDNEXHUwNDMwXHUwNDNEXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzRVx1MDQzMlx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiXHUwNDE3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM4XHUwNDQyXHUwNDM4XCIsXG4gICAgXCJjYW5jZWxcIjogXCJcdTA0MTJcdTA0NTZcdTA0MzRcdTA0M0NcdTA0NTZcdTA0M0RcdTA0MzhcdTA0NDJcdTA0MzhcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTA0MTJcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDNGXHUwNDNFXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDRFIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQzRFx1MDQ0M1wiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTA0MUNcdTA0MzBcdTA0M0JcdTA0NEVcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MDQxQ1x1MDQzMFx1MDQzQlx1MDQ0RVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NTZcdTA0MzNcdTA0M0VcdTA0M0RcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQ0MFx1MDQzOFx1MDQzMlx1MDQ0M1wiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1MDQxQ1x1MDQzMFx1MDQzQlx1MDQ0RVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0M0FcdTA0M0VcdTA0M0JcdTA0M0VcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzRlx1MDQ0MFx1MDQ0Rlx1MDQzQ1x1MDQzRVx1MDQzQVx1MDQ0M1x1MDQ0Mlx1MDQzRFx1MDQzOFx1MDQzQVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MDQyMFx1MDQzNVx1MDQzNFx1MDQzMFx1MDQzM1x1MDQ0M1x1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0NDBcdTA0MzhcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTA0MUZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0M0RcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzggXHUwNDQ4XHUwNDMwXHUwNDQwXHUwNDM4XCIsXG4gICAgXCJjdXRCdXR0b25cIjogXCJcdTA0MTJcdTA0MzhcdTA0NDBcdTA0NTZcdTA0MzdcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDQ4XHUwNDMwXHUwNDQwXHUwNDM4XCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTA0MTJcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDQ4XHUwNDMwXHUwNDQwXHUwNDM4XCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDNCXHUwNDRFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQ0MFx1MDQ0M1x1MDQzM1x1MDQzRVx1MDQzMlx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHUwNDFGXHUwNDQwXHUwNDM4XHUwNDMyXHUyMDE5XHUwNDRGXHUwNDM3XHUwNDMwXHUwNDQyXHUwNDM4IFx1MDQzRlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQ0Mlx1MDQ0Rlx1MDQzM1x1MDQzRFx1MDQ0M1x1MDQ0Mlx1MDQzOFx1MDQzOSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDAgXHUwNDM0XHUwNDNFIFx1MDQ1Nlx1MDQzRFx1MDQ0OFx1MDQzOFx1MDQ0NSBcdTA0NDhcdTA0MzBcdTA0NDBcdTA0NTZcdTA0MzIgXHUwNDQyXHUwNDMwIFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQzRFwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDQxN1x1MDQzMidcdTA0NEZcdTA0MzdcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDQxXHUwNDNGXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0OFx1MDQzOFx1MDQzRFx1MDQzOCBcdTA0NDBcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0NcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1MDQxRlx1MDQzRVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0M1x1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0NDBcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHUwMTMwXHUwMTVGYXJldFx1MDBFN2kgeWVybGVcdTAxNUZ0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJcdTAxMzBsayB0ZXBlIG5va3Rhc1x1MDEzMW5cdTAxMzEgeWVybGVcdTAxNUZ0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUwMEM3aXppbWUgZGV2YW0gZXRtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIkJpdGlybWVrIGlcdTAwRTdpbiBtZXZjdXQgaGVyaGFuZ2kgYmlyIGlcdTAxNUZhcmV0XHUwMEU3aXlpIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiZmluaXNoUG9seVwiOiBcIkJpdGlybWVrIGlcdTAwRTdpbiBpbGsgaVx1MDE1RmFyZXRcdTAwRTdpeWkgdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiQml0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJEYWlyZSBtZXJrZXppbmUgeWVybGVcdTAxNUZ0aXJtZWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxblwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiRGFpcmV5aSBiaXRpcm1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIkRhaXJlIGlcdTAxNUZhcmV0XHUwMEU3aXNpIHllcmxlXHUwMTVGdGlybWVrIGlcdTAwRTdpbiB0XHUwMTMxa2xheVx1MDEzMW5cIlxuICB9LFxuICBcImFjdGlvbnNcIjoge1xuICAgIFwiZmluaXNoXCI6IFwiQml0aXJcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDEzMHB0YWxcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJTb24ga1x1MDBGNlx1MDE1RmV5aSBrYWxkXHUwMTMxclwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTAwQzdpemltIFx1MDEzMFx1MDE1RmFyZXRcdTAwRTdpc2lcIixcbiAgICBcImRyYXdQb2x5QnV0dG9uXCI6IFwiXHUwMEM3b2tnZW5sZXIgXHUwMEU3aXpcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwMEM3b2tsdSBcdTAwRTdpemdpIFx1MDBFN2l6XCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHUwMEM3ZW1iZXIgXHUwMEU3aXpcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiRGlrZFx1MDBGNnJ0Z2VuIFx1MDBFN2l6XCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiS2F0bWFubGFyXHUwMTMxIGRcdTAwRkN6ZW5sZVwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIkthdG1hbmxhclx1MDEzMSBzXHUwMEZDclx1MDBGQ2tsZVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiS2F0bWFubGFyXHUwMTMxIGtlc1wiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiS2F0bWFubGFyXHUwMTMxIGthbGRcdTAxMzFyXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiRGFpcmUgaVx1MDE1RmFyZXRcdTAwRTdpc2kgXHUwMEU3aXpcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiU1x1MDBGQ3JcdTAwRkNrbGVuZW4gaVx1MDE1RmFyZXRcdTAwRTdpeWkgZGlcdTAxMUZlciBrYXRtYW5sYXJhIHZlIGtcdTAwRjZcdTAxNUZlbGVyZSB5YXBcdTAxMzFcdTAxNUZ0XHUwMTMxclwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlBheWxhXHUwMTVGXHUwMTMxbGFuIGtcdTAwRjZcdTAxNUZlbGVyaSBiaXJiaXJpbmUgc2FiaXRsZVwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiS2F0bWFuXHUwMTMxIGRcdTAwRjZuZFx1MDBGQ3JcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiS2xpa251dFx1MDBFRG0gdnl0dm9cdTAxNTlcdTAwRUR0ZSB6bmFcdTAxMERrdVwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlrbnV0XHUwMEVEbSB2eXR2b1x1MDE1OVx1MDBFRHRlIHBydm5cdTAwRUQgb2JqZWt0XCIsXG4gICAgXCJjb250aW51ZUxpbmVcIjogXCJLbGlrbnV0XHUwMEVEbSBwb2tyYVx1MDEwRHVqdGUgdiBrcmVzbGVuXHUwMEVEXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiS2xpa251dFx1MDBFRCBuYSBsaWJvdm9sbm91IGV4aXN0dWpcdTAwRURjXHUwMEVEIHpuYVx1MDEwRGt1IHBybyBkb2tvblx1MDEwRGVuXHUwMEVEXCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiVnliZXJ0ZSBwcnZuXHUwMEVEIGJvZCBwcm8gZG9rb25cdTAxMERlblx1MDBFRFwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWtuXHUwMTFCdGUgcHJvIGRva29uXHUwMTBEZW5cdTAwRURcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiS2xpa251dFx1MDBFRG0gcFx1MDE1OWlkZWp0ZSBzdFx1MDE1OWVkIGtydWh1XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdTA0MURcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0MzdcdTA0MzBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0NEMgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDM4XHUwNDQzXHUwNDQxXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWtudXRcdTAwRURtIG5hc3RhdnRlIHBvbG9tXHUwMTFCclwiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJEb2tvblx1MDEwRGl0XCIsXG4gICAgXCJjYW5jZWxcIjogXCJacnVcdTAxNjFpdFwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlpydVx1MDE2MWl0IHBvc2xlZG5cdTAwRUQgYWtjaVwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJQXHUwMTU5aWRhdCB6bmFcdTAxMERrdVwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJOYWtyZXNsaXQgcG9seWdvblwiLFxuICAgIFwiZHJhd0xpbmVCdXR0b25cIjogXCJOYWtyZXNsaXQga1x1MDE1OWl2a3VcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJOYWtyZXNsaXQga3J1aFwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJOYWtyZXNsaXQgb2JkXHUwMEU5bG5cdTAwRURrXCIsXG4gICAgXCJlZGl0QnV0dG9uXCI6IFwiVXByYXZpdCB2cnN0dnVcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJQXHUwMTU5ZW5lc3RlIHZyc3R2dVwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiVnlqbW91dCB2cnN0dnVcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlNtYXphdCB2cnN0dnVcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJQXHUwMTU5aWRhdCBrcnVob3ZvdSB6bmFcdTAxMERrdVwiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJOYXZcdTAwRTF6YXQgdGFcdTAxN0Vub3Ugem5hXHUwMTBEa3UgayBkYWxcdTAxNjFcdTAwRURtIHZyc3R2XHUwMEUxbSBhIHZyY2hvbFx1MDE2Rm1cIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJTcG9qaXQgc3BvbGVcdTAxMERuXHUwMEU5IGJvZHkgZG9ocm9tYWR5XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJPdG9cdTAxMER0ZSB2cnN0dnVcIlxuICB9XG59XG4iLCAie1xuICBcInRvb2x0aXBzXCI6IHtcbiAgICBcInBsYWNlTWFya2VyXCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHU5MTREXHU3RjZFXCIsXG4gICAgXCJmaXJzdFZlcnRleFwiOiBcIlx1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1MzA1N1x1MzA2Nlx1NjcwMFx1NTIxRFx1MzA2RVx1OTgwMlx1NzBCOVx1MzA5Mlx1OTE0RFx1N0Y2RVwiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU2M0NGXHU3NTNCXHUzMDkyXHU3RDlBXHUzMDUxXHUzMDhCXCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHU0RUZCXHU2MTBGXHUzMDZFXHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU3RDQyXHU0RTg2XCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHU2NzAwXHU1MjFEXHUzMDZFXHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU3RDQyXHU0RTg2XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU3RDQyXHU0RTg2XCIsXG4gICAgXCJzdGFydENpcmNsZVwiOiBcIlx1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1MzA1N1x1MzA2Nlx1NTE4Nlx1MzA2RVx1NEUyRFx1NUZDM1x1MzA5Mlx1OTE0RFx1N0Y2RVwiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHU1MTg2XHUzMDZFXHU2M0NGXHU3NTNCXHUzMDkyXHU3RDQyXHU0RTg2XCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1MzBBRlx1MzBFQVx1MzBDM1x1MzBBRlx1MzA1N1x1MzA2Nlx1NTE4Nlx1MzBERVx1MzBGQ1x1MzBBQlx1MzBGQ1x1MzA5Mlx1OTE0RFx1N0Y2RVwiLFxuICAgIFwicGxhY2VUZXh0XCI6IFwiXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDY2XHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMDkyXHU5MTREXHU3RjZFXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1N0Q0Mlx1NEU4NlwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHUzMEFEXHUzMEUzXHUzMEYzXHUzMEJCXHUzMEVCXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHU2NzAwXHU1RjhDXHUzMDZFXHU5ODAyXHU3MEI5XHUzMDkyXHU1MjRBXHU5NjY0XCJcbiAgfSxcbiAgXCJidXR0b25UaXRsZXNcIjoge1xuICAgIFwiZHJhd01hcmtlckJ1dHRvblwiOiBcIlx1MzBERVx1MzBGQ1x1MzBBQlx1MzBGQ1x1MzA5Mlx1NjNDRlx1NzUzQlwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdTMwRERcdTMwRUFcdTMwQjRcdTMwRjNcdTMwOTJcdTYzQ0ZcdTc1M0JcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHU2Mjk4XHUzMDhDXHU3RERBXHUzMDkyXHU2M0NGXHU3NTNCXCIsXG4gICAgXCJkcmF3Q2lyY2xlQnV0dG9uXCI6IFwiXHU1MTg2XHUzMDkyXHU2M0NGXHU3NTNCXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlx1NzdFOVx1NUY2Mlx1MzA5Mlx1NjNDRlx1NzUzQlwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MzBFQ1x1MzBBNFx1MzBFNFx1MzBGQ1x1MzA5Mlx1N0RFOFx1OTZDNlwiLFxuICAgIFwiZHJhZ0J1dHRvblwiOiBcIlx1MzBFQ1x1MzBBNFx1MzBFNFx1MzBGQ1x1MzA5Mlx1MzBDOVx1MzBFOVx1MzBDM1x1MzBCMFwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHUzMEVDXHUzMEE0XHUzMEU0XHUzMEZDXHUzMDkyXHU1MjA3XHUzMDhBXHU1M0Q2XHUzMDhBXCIsXG4gICAgXCJkZWxldGVCdXR0b25cIjogXCJcdTMwRUNcdTMwQTRcdTMwRTRcdTMwRkNcdTMwOTJcdTUyNEFcdTk2NjRcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTUxODZcdTMwREVcdTMwRkNcdTMwQUJcdTMwRkNcdTMwOTJcdTYzQ0ZcdTc1M0JcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiXHUzMEM5XHUzMEU5XHUzMEMzXHUzMEIwXHUzMDU3XHUzMDVGXHUzMERFXHUzMEZDXHUzMEFCXHUzMEZDXHUzMDkyXHU0RUQ2XHUzMDZFXHUzMEVDXHUzMEE0XHUzMEU0XHUzMEZDXHUzMDg0XHU5ODAyXHU3MEI5XHUzMDZCXHUzMEI5XHUzMENBXHUzMEMzXHUzMEQ3XHUzMDU5XHUzMDhCXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiXHU1MTcxXHU2NzA5XHUzMDU5XHUzMDhCXHU5ODAyXHU3MEI5XHUzMDkyXHU1NDBDXHU2NjQyXHUzMDZCXHU1MkQ1XHUzMDRCXHUzMDU5XCIsXG4gICAgXCJyb3RhdGVCdXR0b25cIjogXCJcdTMwRUNcdTMwQTRcdTMwRTRcdTMwRkNcdTMwOTJcdTU2REVcdThFRTJcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMDkyXHU2M0NGXHU3NTNCXCJcbiAgfVxufVxuIiwgIntcbiAgXCJ0b29sdGlwc1wiOiB7XG4gICAgXCJwbGFjZU1hcmtlclwiOiBcIktsaWtrYWEgYXNldHRhYWtzZXNpIG1lcmtpblwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJLbGlra2FhIGFzZXR0YWFrc2VuaSBlbnNpbW1cdTAwRTRpc2VuIG9zdXVkZW5cIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIktsaWtrYWEgamF0a2Fha3Nlc2kgcGlpcnRcdTAwRTRtaXN0XHUwMEU0XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiS2xpa2thYSBvbGVtYXNzYSBvbGV2YWEgbWVya2tpXHUwMEU0IGxvcGV0dGFha3Nlc2lcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJLbGlra2FhIGVuc2ltbVx1MDBFNGlzdFx1MDBFNCBtZXJra2lcdTAwRTQgbG9wZXR0YWFrc2VzaVwiLFxuICAgIFwiZmluaXNoUmVjdFwiOiBcIktsaWtrYWEgbG9wZXR0YWFrc2VzaVwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJLbGlra2FhIGFzZXR0YWFrc2VzaSB5bXB5clx1MDBFNG4ga2Vza2lwaXN0ZWVuXCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJLbGlra2FhIGxvcGV0dGFha3Nlc2kgeW1weXJcdTAwRTRuXCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIktsaWtrYWEgYXNldHRhYWtzZXNpIHltcHlyXHUwMEU0bWVya2luXCIsXG4gICAgXCJwbGFjZVRleHRcIjogXCJLbGlra2FhIGFzZXR0YWFrc2VzaSB0ZWtzdGluXCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlZhbG1pc1wiLFxuICAgIFwiY2FuY2VsXCI6IFwiUGVydXV0YVwiLFxuICAgIFwicmVtb3ZlTGFzdFZlcnRleFwiOiBcIlBvaXN0YSB2aWltZWluZW4gb3N1dXNcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiUGlpcnJcdTAwRTQgbWVya2tlalx1MDBFNFwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJQaWlyclx1MDBFNCBtb25pa3VsbWlvaXRhXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlBpaXJyXHUwMEU0IHZpaXZvamFcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJQaWlyclx1MDBFNCB5bXB5clx1MDBFNFwiLFxuICAgIFwiZHJhd1JlY3RCdXR0b25cIjogXCJQaWlyclx1MDBFNCBuZWxpc2t1bG1pb2l0YVwiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIk11b2trYWFcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJTaWlyclx1MDBFNFwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiTGVpa2thYVwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiUG9pc3RhXCIsXG4gICAgXCJkcmF3Q2lyY2xlTWFya2VyQnV0dG9uXCI6IFwiUGlpcnJcdTAwRTQgeW1weXJcdTAwRTRtZXJra2lcIixcbiAgICBcInNuYXBwaW5nQnV0dG9uXCI6IFwiS2lpbm5pdFx1MDBFNCBzaWlycmV0dFx1MDBFNHZcdTAwRTQgbWVya2tpIHRvaXNpaW4gbXVvdG9paGluXCIsXG4gICAgXCJwaW5uaW5nQnV0dG9uXCI6IFwiS2lpbm5pdFx1MDBFNCBqYWV0dXQgbXVvZG90IHlodGVlblwiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiS1x1MDBFNFx1MDBFNG5uXHUwMEU0XCIsXG4gICAgXCJkcmF3VGV4dEJ1dHRvblwiOiBcIlBpaXJyXHUwMEU0IHRla3N0aVx1MDBFNFwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdUI5QzhcdUNFRTQgXHVDNzA0XHVDRTU4XHVCOTdDIFx1RDA3NFx1QjlBRFx1RDU1OFx1QzEzOFx1QzY5NFwiLFxuICAgIFwiZmlyc3RWZXJ0ZXhcIjogXCJcdUNDQUJcdUJDODhcdUM5RjggXHVBRjJEXHVDOUMwXHVDODEwIFx1QzcwNFx1Q0U1OFx1Qzc0NCBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIixcbiAgICBcImNvbnRpbnVlTGluZVwiOiBcIlx1QUNDNFx1QzE4RCBcdUFERjhcdUI5QUNcdUI4MjRcdUJBNzQgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaW5pc2hMaW5lXCI6IFwiXHVCMDVEXHVCMEI0XHVCODI0XHVCQTc0IFx1QUUzMFx1Qzg3NCBcdUI5QzhcdUNFRTRcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaW5pc2hQb2x5XCI6IFwiXHVCMDVEXHVCMEI0XHVCODI0XHVCQTc0IFx1Q0M5OFx1Qzc0QyBcdUI5QzhcdUNFRTRcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHVCMDVEXHVCMEI0XHVCODI0XHVCQTc0IFx1RDA3NFx1QjlBRFx1RDU1OFx1QzEzOFx1QzY5NFwiLFxuICAgIFwic3RhcnRDaXJjbGVcIjogXCJcdUM2RDBcdUM3NTggXHVDOTExXHVDMkVDXHVDNzc0IFx1QjQyMCBcdUM3MDRcdUNFNThcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCIsXG4gICAgXCJmaW5pc2hDaXJjbGVcIjogXCJcdUM2RDBcdUM3NDQgXHVCMDVEXHVCMEI0XHVCODI0XHVCQTc0IFx1RDA3NFx1QjlBRFx1RDU1OFx1QzEzOFx1QzY5NFwiLFxuICAgIFwicGxhY2VDaXJjbGVNYXJrZXJcIjogXCJcdUM2RDAgXHVCOUM4XHVDRUU0IFx1QzcwNFx1Q0U1OFx1Qjk3QyBcdUQwNzRcdUI5QURcdUQ1NThcdUMxMzhcdUM2OTRcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIlx1RDE0RFx1QzJBNFx1RDJCOCBcdUM3MDRcdUNFNThcdUI5N0MgXHVEMDc0XHVCOUFEXHVENTU4XHVDMTM4XHVDNjk0XCJcbiAgfSxcbiAgXCJhY3Rpb25zXCI6IHtcbiAgICBcImZpbmlzaFwiOiBcIlx1QjA1RFx1QjBCNFx1QUUzMFwiLFxuICAgIFwiY2FuY2VsXCI6IFwiXHVDREU4XHVDMThDXCIsXG4gICAgXCJyZW1vdmVMYXN0VmVydGV4XCI6IFwiXHVCOUM4XHVDOUMwXHVCOUM5IFx1QUYyRFx1QzlDMFx1QzgxMCBcdUM4MUNcdUFDNzBcIlxuICB9LFxuICBcImJ1dHRvblRpdGxlc1wiOiB7XG4gICAgXCJkcmF3TWFya2VyQnV0dG9uXCI6IFwiXHVCOUM4XHVDRUU0IFx1QURGOFx1QjlBQ1x1QUUzMFwiLFxuICAgIFwiZHJhd1BvbHlCdXR0b25cIjogXCJcdUIyRTRcdUFDMDFcdUQ2MTUgXHVBREY4XHVCOUFDXHVBRTMwXCIsXG4gICAgXCJkcmF3TGluZUJ1dHRvblwiOiBcIlx1QjJFNFx1QUMwMVx1QzEyMCBcdUFERjhcdUI5QUNcdUFFMzBcIixcbiAgICBcImRyYXdDaXJjbGVCdXR0b25cIjogXCJcdUM2RDAgXHVBREY4XHVCOUFDXHVBRTMwXCIsXG4gICAgXCJkcmF3UmVjdEJ1dHRvblwiOiBcIlx1QzlDMVx1QzBBQ1x1QUMwMVx1RDYxNSBcdUFERjhcdUI5QUNcdUFFMzBcIixcbiAgICBcImVkaXRCdXR0b25cIjogXCJcdUI4MDhcdUM3NzRcdUM1QjQgXHVEM0I4XHVDOUQxXHVENTU4XHVBRTMwXCIsXG4gICAgXCJkcmFnQnV0dG9uXCI6IFwiXHVCODA4XHVDNzc0XHVDNUI0IFx1QjA0Q1x1QUUzMFwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHVCODA4XHVDNzc0XHVDNUI0IFx1Qzc5MFx1Qjk3NFx1QUUzMFwiLFxuICAgIFwiZGVsZXRlQnV0dG9uXCI6IFwiXHVCODA4XHVDNzc0XHVDNUI0IFx1QzgxQ1x1QUM3MFx1RDU1OFx1QUUzMFwiLFxuICAgIFwiZHJhd0NpcmNsZU1hcmtlckJ1dHRvblwiOiBcIlx1QzZEMCBcdUI5QzhcdUNFRTQgXHVBREY4XHVCOUFDXHVBRTMwXCIsXG4gICAgXCJzbmFwcGluZ0J1dHRvblwiOiBcIlx1QzdBMVx1QzU0NFx1QjA0OCBcdUI5QzhcdUNFRTRcdUI5N0MgXHVCMkU0XHVCOTc4IFx1QjgwOFx1Qzc3NFx1QzVCNCBcdUJDMEYgXHVBRjJEXHVDOUMwXHVDODEwXHVDNUQwIFx1QjRFNFx1QjdFQ1x1QkQ5OVx1QUM4QyBcdUQ1NThcdUFFMzBcIixcbiAgICBcInBpbm5pbmdCdXR0b25cIjogXCJcdUFDRjVcdUM3MjAgXHVBRjJEXHVDOUMwXHVDODEwXHVDNzQ0IFx1RDU2OFx1QUVEOCBcdUNDMERcdUFFMzBcIixcbiAgICBcInJvdGF0ZUJ1dHRvblwiOiBcIlx1QjgwOFx1Qzc3NFx1QzVCNCBcdUQ2OENcdUM4MDRcdUQ1NThcdUFFMzBcIixcbiAgICBcImRyYXdUZXh0QnV0dG9uXCI6IFwiXHVEMTREXHVDMkE0XHVEMkI4IFx1QURGOFx1QjlBQ1x1QUUzMFwiXG4gIH1cbn1cbiIsICJ7XG4gIFwidG9vbHRpcHNcIjoge1xuICAgIFwicGxhY2VNYXJrZXJcIjogXCJcdTA0MUNcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDM2XHUwNDMwXHUwNDM5XHUwNDMzXHUwNDMwXHUwNDQ4XHUwNDQyXHUwNDRCXHUwNDQwXHUwNDQzXHUwNDQzIFx1MDRBRlx1MDQ0N1x1MDRBRlx1MDQzRCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcImZpcnN0VmVydGV4XCI6IFwiXHUwNDExXHUwNDM4XHUwNDQwXHUwNDM4XHUwNDNEXHUwNDQ3XHUwNDM4IFx1MDQ0N1x1MDQzRVx1MDQzQVx1MDQ0M1x1MDQzRFx1MDQ0MyBcdTA0MzZcdTA0MzBcdTA0MzlcdTA0MzNcdTA0MzBcdTA0NDhcdTA0NDJcdTA0NEJcdTA0NDBcdTA0NDNcdTA0NDNcdTA0M0RcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwiY29udGludWVMaW5lXCI6IFwiXHUwNDIxXHUwNEFGXHUwNDQwXHUwNEU5XHUwNDQyIFx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQ0M1x1MDQ0M1x1MDQzRFx1MDQ0MyBcdTA0NDNcdTA0M0JcdTA0MzBcdTA0M0RcdTA0NDJcdTA0NDNcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwiZmluaXNoTGluZVwiOiBcIlx1MDQxMFx1MDQ0Rlx1MDQzQVx1MDQ0Mlx1MDQzRVx1MDQzRSBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDQzXHUwNDQ3XHUwNDQzXHUwNDQwXHUwNDM0XHUwNDMwXHUwNDMzXHUwNDRCIFx1MDQzQ1x1MDQzMFx1MDQ0MFx1MDQzQVx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcImZpbmlzaFBvbHlcIjogXCJcdTA0MTFcdTA0QUZcdTA0NDJcdTA0QUZcdTA0NDBcdTA0QUZcdTA0QUYgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzOFx1MDQ0MFx1MDQzOFx1MDQzRFx1MDQ0N1x1MDQzOCBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDMxXHUwNDMwXHUwNDQxXHUwNDRCXHUwNEEzXHUwNDRCXHUwNDM3XCIsXG4gICAgXCJmaW5pc2hSZWN0XCI6IFwiXHUwNDExXHUwNEFGXHUwNDQyXHUwNEFGXHUwNDQwXHUwNEFGXHUwNEFGIFx1MDRBRlx1MDQ0N1x1MDRBRlx1MDQzRCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcInN0YXJ0Q2lyY2xlXCI6IFwiXHUwNDEwXHUwNDM5XHUwNDNCXHUwNDMwXHUwNDNEXHUwNDMwXHUwNDNEXHUwNDRCXHUwNDNEIFx1MDQzMVx1MDQzRVx1MDQ0MFx1MDQzMVx1MDQzRVx1MDQ0MFx1MDQ0M1x1MDQzRCBcdTA0MzZcdTA0MzBcdTA0MzlcdTA0MzNcdTA0MzBcdTA0NDhcdTA0NDJcdTA0NEJcdTA0NDBcdTA0NDNcdTA0NDNcdTA0M0RcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiLFxuICAgIFwiZmluaXNoQ2lyY2xlXCI6IFwiXHUwNDEwXHUwNDM5XHUwNDNCXHUwNDMwXHUwNDNEXHUwNDMwXHUwNDNEXHUwNDRCIFx1MDQzMVx1MDRBRlx1MDQ0Mlx1MDRBRlx1MDQ0MFx1MDRBRlx1MDRBRiBcdTA0QUZcdTA0NDdcdTA0QUZcdTA0M0QgXHUwNDMxXHUwNDMwXHUwNDQxXHUwNDRCXHUwNEEzXHUwNDRCXHUwNDM3XCIsXG4gICAgXCJwbGFjZUNpcmNsZU1hcmtlclwiOiBcIlx1MDQyMlx1MDQzNVx1MDQzM1x1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzQSBcdTA0M0NcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDM2XHUwNDMwXHUwNDM5XHUwNDMzXHUwNDMwXHUwNDQ4XHUwNDQyXHUwNDRCXHUwNDQwXHUwNDQzXHUwNDQzIFx1MDRBRlx1MDQ0N1x1MDRBRlx1MDQzRCBcdTA0MzFcdTA0MzBcdTA0NDFcdTA0NEJcdTA0QTNcdTA0NEJcdTA0MzdcIixcbiAgICBcInBsYWNlVGV4dFwiOiBcIlx1MDQyMlx1MDQzNVx1MDQzQVx1MDQ0MVx1MDQ0Mlx1MDQ0Mlx1MDQzOCBcdTA0MzZcdTA0MzBcdTA0MzlcdTA0MzNcdTA0MzBcdTA0NDhcdTA0NDJcdTA0NEJcdTA0NDBcdTA0NDNcdTA0NDMgXHUwNEFGXHUwNDQ3XHUwNEFGXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0MVx1MDQ0Qlx1MDRBM1x1MDQ0Qlx1MDQzN1wiXG4gIH0sXG4gIFwiYWN0aW9uc1wiOiB7XG4gICAgXCJmaW5pc2hcIjogXCJcdTA0MTBcdTA0NEZcdTA0MzNcdTA0NEJcIixcbiAgICBcImNhbmNlbFwiOiBcIlx1MDQxNlx1MDQzRVx1MDQzQSBcdTA0M0FcdTA0NEJcdTA0M0JcdTA0NDNcdTA0NDNcIixcbiAgICBcInJlbW92ZUxhc3RWZXJ0ZXhcIjogXCJcdTA0MTBcdTA0M0FcdTA0NEJcdTA0NDBcdTA0M0FcdTA0NEIgXHUwNDQ3XHUwNDNFXHUwNDNBXHUwNDQzXHUwNDNEXHUwNDQzIFx1MDRFOVx1MDQ0N1x1MDRBRlx1MDQ0MFx1MDRBRlx1MDRBRlwiXG4gIH0sXG4gIFwiYnV0dG9uVGl0bGVzXCI6IHtcbiAgICBcImRyYXdNYXJrZXJCdXR0b25cIjogXCJcdTA0MUNcdTA0MzBcdTA0NDBcdTA0M0FcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCIsXG4gICAgXCJkcmF3UG9seUJ1dHRvblwiOiBcIlx1MDQxRlx1MDQzRVx1MDQzQlx1MDQzOFx1MDQzM1x1MDQzRVx1MDQzRCBcdTA0NDdcdTA0MzhcdTA0MzdcdTA0NDNcdTA0NDNcIixcbiAgICBcImRyYXdMaW5lQnV0dG9uXCI6IFwiXHUwNDFGXHUwNDNFXHUwNDNCXHUwNDM4XHUwNDNCXHUwNDM4XHUwNDNEXHUwNDM4XHUwNDRGIFx1MDQ0N1x1MDQzOFx1MDQzN1x1MDQ0M1x1MDQ0M1wiLFxuICAgIFwiZHJhd0NpcmNsZUJ1dHRvblwiOiBcIlx1MDQxNFx1MDQzMFx1MDQzOVx1MDQ0Qlx1MDQzRFx1MDQzNFx1MDQ0QiBcdTA0NDdcdTA0MzhcdTA0MzdcdTA0NDNcdTA0NDNcIixcbiAgICBcImRyYXdSZWN0QnV0dG9uXCI6IFwiXHUwNDFGXHUwNDQwXHUwNDRGXHUwNDNDXHUwNDNFXHUwNDQzXHUwNDMzXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDNBIFx1MDQ0N1x1MDQzOFx1MDQzN1x1MDQ0M1x1MDQ0M1wiLFxuICAgIFwiZWRpdEJ1dHRvblwiOiBcIlx1MDQyMVx1MDQzQlx1MDQzRVx1MDQzRVx1MDQzRlx1MDQ0Mlx1MDQ0MyBcdTA0NDJcdTA0QUZcdTA0MzdcdTA0RTlcdTA0NDJcdTA0QUZcdTA0QUZcIixcbiAgICBcImRyYWdCdXR0b25cIjogXCJcdTA0MjFcdTA0M0JcdTA0M0VcdTA0M0VcdTA0M0ZcdTA0NDJcdTA0NDMgXHUwNDNBXHUwNDMwXHUwNDQwXHUwNDMwXHUwNDNGIFx1MDQ0MVx1MDRBRlx1MDQzOVx1MDQzQlx1MDRFOVx1MDRBRlwiLFxuICAgIFwiY3V0QnV0dG9uXCI6IFwiXHUwNDIxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDQzXHUwNDNEIFx1MDQzMVx1MDQzMFx1MDQ0OFx1MDQ0Qlx1MDQzRCBcdTA0M0FcdTA0MzVcdTA0NDFcdTA0QUZcdTA0QUZcIixcbiAgICBcImRlbGV0ZUJ1dHRvblwiOiBcIlx1MDQyMVx1MDQzQlx1MDQzRVx1MDQzRVx1MDQzRlx1MDQ0Mlx1MDQ0M1x1MDQzRCBcdTA0RTlcdTA0NDdcdTA0QUZcdTA0NDBcdTA0QUZcdTA0QUZcIixcbiAgICBcImRyYXdDaXJjbGVNYXJrZXJCdXR0b25cIjogXCJcdTA0MTRcdTA0MzBcdTA0MzlcdTA0NEJcdTA0M0RcdTA0MzRcdTA0NEIgXHUwNDNDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXHUwNDM0XHUwNDM4IFx1MDQ0N1x1MDQzOFx1MDQzN1x1MDQ0M1x1MDQ0M1wiLFxuICAgIFwic25hcHBpbmdCdXR0b25cIjogXCJcdTA0MTFcdTA0MzBcdTA0NDhcdTA0M0FcdTA0MzAgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM0XHUwNDQzXHUwNDNEIFx1MDQzNlx1MDQzMFx1MDQzRFx1MDQzMCBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDJcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzhcdTA0M0QgXHUwNDMwXHUwNDQwXHUwNDMwXHUwNDQxXHUwNDRCXHUwNDNEXHUwNDMwIFx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQzOFx1MDQzQlx1MDQzNFx1MDRFOVx1MDRFOVwiLFxuICAgIFwicGlubmluZ0J1dHRvblwiOiBcIlx1MDQxMVx1MDRFOVx1MDQzQlx1MDRBRlx1MDQ0OFx1MDQzQVx1MDRFOVx1MDQzRCBcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDJcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzggXHUwNDMxXHUwNDM4XHUwNDQwXHUwNDMzXHUwNDM1IFx1MDQ0Mlx1MDQ0M1x1MDQ0Mlx1MDQ0M1x1MDQ0OFx1MDQ0Mlx1MDQ0M1x1MDQ0MFx1MDQ0M1x1MDQ0M1wiLFxuICAgIFwicm90YXRlQnV0dG9uXCI6IFwiXHUwNDIxXHUwNDNCXHUwNDNFXHUwNDNFXHUwNDNGXHUwNDQyXHUwNDQzXHUwNDNEIFx1MDRFOVx1MDQzN1x1MDQzM1x1MDRFOVx1MDQ0MFx1MDQ0Mlx1MDRBRlx1MDRBRlwiLFxuICAgIFwiZHJhd1RleHRCdXR0b25cIjogXCJcdTA0MjJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDIgXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCIsXG4gICAgXCJzY2FsZUJ1dHRvblwiOiBcIlx1MDQyMVx1MDQzQlx1MDQzRVx1MDQzRVx1MDQzRlx1MDQ0Mlx1MDQ0M1x1MDQzRCBcdTA0RTlcdTA0M0JcdTA0NDdcdTA0RTlcdTA0M0NcdTA0QUZcdTA0M0QgXHUwNEU5XHUwNDM3XHUwNDMzXHUwNEU5XHUwNDQwXHUwNDQyXHUwNEFGXHUwNEFGXCIsXG4gICAgXCJhdXRvVHJhY2luZ0J1dHRvblwiOiBcIlx1MDQxMFx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQ0Mlx1MDQ0Qlx1MDQzQSBcdTA0NDJcdTA0MzhcdTA0MzdcdTA0M0NcdTA0MzVcdTA0MzNcdTA0MzggXHUwNDQ3XHUwNDM4XHUwNDM3XHUwNDQzXHUwNDQzXCJcbiAgfSxcbiAgXCJtZWFzdXJlbWVudHNcIjoge1xuICAgIFwidG90YWxMZW5ndGhcIjogXCJcdTA0MjNcdTA0MzdcdTA0NDNcdTA0M0RcdTA0MzRcdTA0NDNcdTA0M0FcIixcbiAgICBcInNlZ21lbnRMZW5ndGhcIjogXCJcdTA0MjFcdTA0MzVcdTA0MzNcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDIgXHUwNDQzXHUwNDM3XHUwNDQzXHUwNDNEXHUwNDM0XHUwNDQzXHUwNDMzXHUwNDQzXCIsXG4gICAgXCJhcmVhXCI6IFwiXHUwNDEwXHUwNDM5XHUwNDNDXHUwNDMwXHUwNDNBXCIsXG4gICAgXCJyYWRpdXNcIjogXCJcdTA0MjBcdTA0MzBcdTA0MzRcdTA0MzhcdTA0NDNcdTA0NDFcIixcbiAgICBcInBlcmltZXRlclwiOiBcIlx1MDQxRlx1MDQzNVx1MDQ0MFx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0MFwiLFxuICAgIFwiaGVpZ2h0XCI6IFwiXHUwNDE0XHUwNDM4XHUwNDMwXHUwNDNDXHUwNDM1XHUwNDQyXHUwNDQwXCIsXG4gICAgXCJ3aWR0aFwiOiBcIlx1MDQxQVx1MDQzNVx1MDQzRFx1MDQ0N1x1MDQzOFx1MDQzQlx1MDQzOFx1MDQzQVwiLFxuICAgIFwiY29vcmRpbmF0ZXNcIjogXCJcdTA0MUFcdTA0M0VcdTA0M0VcdTA0NDBcdTA0MzRcdTA0MzhcdTA0M0RcdTA0MzBcdTA0NDJcdTA0NDJcdTA0MzBcdTA0NDBcIixcbiAgICBcImNvb3JkaW5hdGVzTWFya2VyXCI6IFwiXHUwNDFDXHUwNDMwXHUwNDQwXHUwNDNBXHUwNDM1XHUwNDQwXHUwNDM0XHUwNDM4XHUwNDNEIFx1MDQzQVx1MDQzRVx1MDQzRVx1MDQ0MFx1MDQzNFx1MDQzOFx1MDQzRFx1MDQzMFx1MDQ0Mlx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQ0QlwiXG4gIH1cbn1cbiIsICJpbXBvcnQgZW4gZnJvbSAnLi9lbi5qc29uJztcbmltcG9ydCBkZSBmcm9tICcuL2RlLmpzb24nO1xuaW1wb3J0IGl0IGZyb20gJy4vaXQuanNvbic7XG5pbXBvcnQgaWQgZnJvbSAnLi9pZC5qc29uJztcbmltcG9ydCBybyBmcm9tICcuL3JvLmpzb24nO1xuaW1wb3J0IHJ1IGZyb20gJy4vcnUuanNvbic7XG5pbXBvcnQgZXMgZnJvbSAnLi9lcy5qc29uJztcbmltcG9ydCBubCBmcm9tICcuL25sLmpzb24nO1xuaW1wb3J0IGZyIGZyb20gJy4vZnIuanNvbic7XG5pbXBvcnQgemggZnJvbSAnLi96aC5qc29uJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbmltcG9ydCB6aF90dyBmcm9tICcuL3poX3R3Lmpzb24nO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuaW1wb3J0IHB0X2JyIGZyb20gJy4vcHRfYnIuanNvbic7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5pbXBvcnQgcHRfcHQgZnJvbSAnLi9wdF9wdC5qc29uJztcbmltcG9ydCBwbCBmcm9tICcuL3BsLmpzb24nO1xuaW1wb3J0IHN2IGZyb20gJy4vc3YuanNvbic7XG5pbXBvcnQgZWwgZnJvbSAnLi9lbC5qc29uJztcbmltcG9ydCBodSBmcm9tICcuL2h1Lmpzb24nO1xuaW1wb3J0IGRhIGZyb20gJy4vZGEuanNvbic7XG5pbXBvcnQgbm8gZnJvbSAnLi9uby5qc29uJztcbmltcG9ydCBmYSBmcm9tICcuL2ZhLmpzb24nO1xuaW1wb3J0IHVhIGZyb20gJy4vdWEuanNvbic7XG5pbXBvcnQgdHIgZnJvbSAnLi90ci5qc29uJztcbmltcG9ydCBjeiBmcm9tICcuL2N6Lmpzb24nO1xuaW1wb3J0IGphIGZyb20gJy4vamEuanNvbic7XG5pbXBvcnQgZmkgZnJvbSAnLi9maS5qc29uJztcbmltcG9ydCBrbyBmcm9tICcuL2tvLmpzb24nO1xuaW1wb3J0IGt5IGZyb20gJy4va3kuanNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZW4sXG4gIGRlLFxuICBpdCxcbiAgaWQsXG4gIHJvLFxuICBydSxcbiAgZXMsXG4gIG5sLFxuICBmcixcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBwdF9icixcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBwdF9wdCxcbiAgemgsXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgemhfdHcsXG4gIHBsLFxuICBzdixcbiAgZWwsXG4gIGh1LFxuICBkYSxcbiAgbm8sXG4gIGZhLFxuICB1YSxcbiAgdHIsXG4gIGN6LFxuICBqYSxcbiAgZmksXG4gIGtvLFxuICBreSxcbn07XG4iLCAiLy8gdGhpcyBtaXhpbiBhZGRzIGEgZ2xvYmFsIGVkaXQgbW9kZSB0byB0aGUgbWFwXG5jb25zdCBHbG9iYWxFZGl0TW9kZSA9IHtcbiAgX2dsb2JhbEVkaXRNb2RlRW5hYmxlZDogZmFsc2UsXG4gIGVuYWJsZUdsb2JhbEVkaXRNb2RlKG8pIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgLi4ubyxcbiAgICB9O1xuICAgIC8vIHNldCBzdGF0dXNcbiAgICB0aGlzLl9nbG9iYWxFZGl0TW9kZUVuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gU2V0IHRvb2xiYXIgYnV0dG9uIHRvIGN1cnJlY3Qgc3RhdHVzXG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbignZWRpdE1vZGUnLCB0aGlzLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpKTtcblxuICAgIC8vIGZpbmQgYWxsIGxheWVycyBoYW5kbGVkIGJ5IGxlYWZsZXQtZ2VvbWFuXG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKTtcblxuICAgIC8vIGVuYWJsZSBhbGwgbGF5ZXJzXG4gICAgbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBpZiAodGhpcy5faXNSZWxldmFudEZvckVkaXQobGF5ZXIpKSB7XG4gICAgICAgIGxheWVyLnBtLmVuYWJsZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghdGhpcy50aHJvdHRsZWRSZUluaXRFZGl0KSB7XG4gICAgICB0aGlzLnRocm90dGxlZFJlSW5pdEVkaXQgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMuaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsRWRpdE1vZGUsXG4gICAgICAgIDEwMCxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBzYXZlIHRoZSBhZGRlZCBsYXllcnMgaW50byB0aGUgX2FkZGVkTGF5ZXJzRWRpdCBhcnJheSwgdG8gcmVhZCBpdCBsYXRlciBvdXRcbiAgICB0aGlzLl9hZGRlZExheWVyc0VkaXQgPSB7fTtcbiAgICB0aGlzLm1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLl9sYXllckFkZGVkRWRpdCwgdGhpcyk7XG4gICAgLy8gaGFuZGxlIGxheWVycyB0aGF0IGFyZSBhZGRlZCB3aGlsZSBpbiBlZGl0IG1vZGVcbiAgICB0aGlzLm1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZFJlSW5pdEVkaXQsIHRoaXMpO1xuXG4gICAgLy8gZmlyZSBldmVudFxuICAgIHRoaXMuX2ZpcmVHbG9iYWxFZGl0TW9kZVRvZ2dsZWQodHJ1ZSk7XG4gIH0sXG4gIGRpc2FibGVHbG9iYWxFZGl0TW9kZSgpIHtcbiAgICAvLyBzZXQgc3RhdHVzXG4gICAgdGhpcy5fZ2xvYmFsRWRpdE1vZGVFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyBmaW5kIGFsbCBsYXllcnMgaGFuZGxlcyBieSBsZWFmbGV0LWdlb21hblxuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCk7XG5cbiAgICAvLyBkaXNhYmxlIGFsbCBsYXllcnNcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGxheWVyLnBtLmRpc2FibGUoKTtcbiAgICB9KTtcblxuICAgIC8vIGNsZWFudXAgbGF5ZXIgb2ZmIGV2ZW50XG4gICAgdGhpcy5tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRFZGl0LCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRFZGl0LCB0aGlzKTtcblxuICAgIC8vIFNldCB0b29sYmFyIGJ1dHRvbiB0byBjdXJyZWN0IHN0YXR1c1xuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ2VkaXRNb2RlJywgdGhpcy5nbG9iYWxFZGl0TW9kZUVuYWJsZWQoKSk7XG5cbiAgICAvLyBmaXJlIGV2ZW50XG4gICAgdGhpcy5fZmlyZUdsb2JhbEVkaXRNb2RlVG9nZ2xlZChmYWxzZSk7XG4gIH0sXG4gIC8vIFRPRE86IFJlbW92ZSBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gIGdsb2JhbEVkaXRFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpO1xuICB9LFxuICBnbG9iYWxFZGl0TW9kZUVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dsb2JhbEVkaXRNb2RlRW5hYmxlZDtcbiAgfSxcbiAgLy8gVE9ETzogdGhpcyBzaG91bGQgbWF5YmUgcmVtb3ZlZCwgaXQgd2lsbCBvdmVyd3JpdGUgZXhwbGljaXQgb3B0aW9ucyBvbiB0aGUgbGF5ZXJzXG4gIHRvZ2dsZUdsb2JhbEVkaXRNb2RlKG9wdGlvbnMgPSB0aGlzLmdsb2JhbE9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5nbG9iYWxFZGl0TW9kZUVuYWJsZWQoKSkge1xuICAgICAgLy8gZGlzYWJsZVxuICAgICAgdGhpcy5kaXNhYmxlR2xvYmFsRWRpdE1vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZW5hYmxlXG4gICAgICB0aGlzLmVuYWJsZUdsb2JhbEVkaXRNb2RlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsRWRpdE1vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gdGhpcy5fYWRkZWRMYXllcnNFZGl0O1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzRWRpdCA9IHt9O1xuICAgIGlmICh0aGlzLmdsb2JhbEVkaXRNb2RlRW5hYmxlZCgpKSB7XG4gICAgICBmb3IgKGNvbnN0IGlkIGluIGxheWVycykge1xuICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tpZF07XG4gICAgICAgIC8vIHdoZW4gZ2xvYmFsIGVkaXQgbW9kZSBpcyBlbmFibGVkIGFuZCBhIGxheWVyIGlzIGFkZGVkIHRvIHRoZSBtYXAsXG4gICAgICAgIC8vIGVuYWJsZSBlZGl0IGZvciB0aGF0IGxheWVyIGlmIGl0J3MgcmVsZXZhbnRcblxuICAgICAgICBpZiAodGhpcy5faXNSZWxldmFudEZvckVkaXQobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKHsgLi4udGhpcy5nbG9iYWxPcHRpb25zIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfbGF5ZXJBZGRlZEVkaXQoeyBsYXllciB9KSB7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNFZGl0W0wuc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuICB9LFxuICBfaXNSZWxldmFudEZvckVkaXQobGF5ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgbGF5ZXIucG0gJiZcbiAgICAgICEobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApICYmXG4gICAgICAoKCFMLlBNLm9wdEluICYmICFsYXllci5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgIChMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSkgJiYgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2VcbiAgICAgICFsYXllci5fcG1UZW1wTGF5ZXIgJiZcbiAgICAgIGxheWVyLnBtLm9wdGlvbnMuYWxsb3dFZGl0aW5nXG4gICAgKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdsb2JhbEVkaXRNb2RlO1xuIiwgImNvbnN0IEdsb2JhbERyYWdNb2RlID0ge1xuICBfZ2xvYmFsRHJhZ01vZGVFbmFibGVkOiBmYWxzZSxcbiAgZW5hYmxlR2xvYmFsRHJhZ01vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKTtcblxuICAgIHRoaXMuX2dsb2JhbERyYWdNb2RlRW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNEcmFnID0ge307XG5cbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yRHJhZyhsYXllcikpIHtcbiAgICAgICAgbGF5ZXIucG0uZW5hYmxlTGF5ZXJEcmFnKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMudGhyb3R0bGVkUmVJbml0RHJhZykge1xuICAgICAgdGhpcy50aHJvdHRsZWRSZUluaXREcmFnID0gTC5VdGlsLnRocm90dGxlKFxuICAgICAgICB0aGlzLnJlaW5pdEdsb2JhbERyYWdNb2RlLFxuICAgICAgICAxMDAsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gYWRkIG1hcCBoYW5kbGVyXG4gICAgdGhpcy5tYXAub24oJ2xheWVyYWRkJywgdGhpcy5fbGF5ZXJBZGRlZERyYWcsIHRoaXMpO1xuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkUmVJbml0RHJhZywgdGhpcyk7XG5cbiAgICAvLyB0b29nbGUgdGhlIGJ1dHRvbiBpbiB0aGUgdG9vbGJhciBpZiB0aGlzIGlzIGNhbGxlZCBwcm9ncmFtYXRpY2FsbHlcbiAgICB0aGlzLlRvb2xiYXIudG9nZ2xlQnV0dG9uKCdkcmFnTW9kZScsIHRoaXMuZ2xvYmFsRHJhZ01vZGVFbmFibGVkKCkpO1xuXG4gICAgdGhpcy5fZmlyZUdsb2JhbERyYWdNb2RlVG9nZ2xlZCh0cnVlKTtcbiAgfSxcbiAgZGlzYWJsZUdsb2JhbERyYWdNb2RlKCkge1xuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCk7XG5cbiAgICB0aGlzLl9nbG9iYWxEcmFnTW9kZUVuYWJsZWQgPSBmYWxzZTtcblxuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgbGF5ZXIucG0uZGlzYWJsZUxheWVyRHJhZygpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIG1hcCBoYW5kbGVyXG4gICAgdGhpcy5tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWREcmFnLCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXREcmFnLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ2RyYWdNb2RlJywgdGhpcy5nbG9iYWxEcmFnTW9kZUVuYWJsZWQoKSk7XG5cbiAgICB0aGlzLl9maXJlR2xvYmFsRHJhZ01vZGVUb2dnbGVkKGZhbHNlKTtcbiAgfSxcbiAgZ2xvYmFsRHJhZ01vZGVFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2dsb2JhbERyYWdNb2RlRW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlR2xvYmFsRHJhZ01vZGUoKSB7XG4gICAgaWYgKHRoaXMuZ2xvYmFsRHJhZ01vZGVFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUdsb2JhbERyYWdNb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlR2xvYmFsRHJhZ01vZGUoKTtcbiAgICB9XG4gIH0sXG4gIHJlaW5pdEdsb2JhbERyYWdNb2RlKCkge1xuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuX2FkZGVkTGF5ZXJzRHJhZztcbiAgICB0aGlzLl9hZGRlZExheWVyc0RyYWcgPSB7fTtcbiAgICBpZiAodGhpcy5nbG9iYWxEcmFnTW9kZUVuYWJsZWQoKSkge1xuICAgICAgZm9yIChjb25zdCBpZCBpbiBsYXllcnMpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBsYXllcnNbaWRdO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yRHJhZyhsYXllcikpIHtcbiAgICAgICAgICBsYXllci5wbS5lbmFibGVMYXllckRyYWcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgX2xheWVyQWRkZWREcmFnKHsgbGF5ZXIgfSkge1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzRHJhZ1tMLnN0YW1wKGxheWVyKV0gPSBsYXllcjtcbiAgfSxcbiAgX2lzUmVsZXZhbnRGb3JEcmFnKGxheWVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGxheWVyLnBtICYmXG4gICAgICAhKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSAmJlxuICAgICAgKCghTC5QTS5vcHRJbiAmJiAhbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSkgfHwgLy8gaWYgb3B0SW4gaXMgbm90IHNldCAvIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBzZXQgLyB0cnVlIChkZWZhdWx0KVxuICAgICAgICAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkpICYmIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlXG4gICAgICAhbGF5ZXIuX3BtVGVtcExheWVyICYmXG4gICAgICBsYXllci5wbS5vcHRpb25zLmRyYWdnYWJsZVxuICAgICk7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHbG9iYWxEcmFnTW9kZTtcbiIsICJjb25zdCBHbG9iYWxSZW1vdmFsTW9kZSA9IHtcbiAgX2dsb2JhbFJlbW92YWxNb2RlRW5hYmxlZDogZmFsc2UsXG4gIGVuYWJsZUdsb2JhbFJlbW92YWxNb2RlKCkge1xuICAgIHRoaXMuX2dsb2JhbFJlbW92YWxNb2RlRW5hYmxlZCA9IHRydWU7XG4gICAgLy8gaGFuZGxlIGV4aXN0aW5nIGxheWVyc1xuICAgIHRoaXMubWFwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yUmVtb3ZhbChsYXllcikpIHtcbiAgICAgICAgaWYgKGxheWVyLnBtLmVuYWJsZWQoKSkge1xuICAgICAgICAgIGxheWVyLnBtLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgICBsYXllci5vbignY2xpY2snLCB0aGlzLnJlbW92ZUxheWVyLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghdGhpcy50aHJvdHRsZWRSZUluaXRSZW1vdmFsKSB7XG4gICAgICB0aGlzLnRocm90dGxlZFJlSW5pdFJlbW92YWwgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMuaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsUmVtb3ZhbE1vZGUsXG4gICAgICAgIDEwMCxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG4gICAgLy8gc2F2ZSB0aGUgYWRkZWQgbGF5ZXJzIGludG8gdGhlIF9hZGRlZExheWVyc1JlbW92YWwgYXJyYXksIHRvIHJlYWQgaXQgbGF0ZXIgb3V0XG4gICAgdGhpcy5fYWRkZWRMYXllcnNSZW1vdmFsID0ge307XG4gICAgLy8gaGFuZGxlIGxheWVycyB0aGF0IGFyZSBhZGRlZCB3aGlsZSBpbiByZW1vdmFsIG1vZGVcbiAgICB0aGlzLm1hcC5vbignbGF5ZXJhZGQnLCB0aGlzLl9sYXllckFkZGVkUmVtb3ZhbCwgdGhpcyk7XG4gICAgdGhpcy5tYXAub24oJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRSZW1vdmFsLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ3JlbW92YWxNb2RlJywgdGhpcy5nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQoKSk7XG5cbiAgICB0aGlzLl9maXJlR2xvYmFsUmVtb3ZhbE1vZGVUb2dnbGVkKHRydWUpO1xuICB9LFxuICBkaXNhYmxlR2xvYmFsUmVtb3ZhbE1vZGUoKSB7XG4gICAgdGhpcy5fZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgbGF5ZXIub2ZmKCdjbGljaycsIHRoaXMucmVtb3ZlTGF5ZXIsIHRoaXMpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIG1hcCBoYW5kbGVyXG4gICAgdGhpcy5tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRSZW1vdmFsLCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRSZW1vdmFsLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ3JlbW92YWxNb2RlJywgdGhpcy5nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQoKSk7XG5cbiAgICB0aGlzLl9maXJlR2xvYmFsUmVtb3ZhbE1vZGVUb2dnbGVkKGZhbHNlKTtcbiAgfSxcbiAgLy8gVE9ETzogUmVtb3ZlIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgZ2xvYmFsUmVtb3ZhbEVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkKCk7XG4gIH0sXG4gIGdsb2JhbFJlbW92YWxNb2RlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9nbG9iYWxSZW1vdmFsTW9kZUVuYWJsZWQ7XG4gIH0sXG4gIHRvZ2dsZUdsb2JhbFJlbW92YWxNb2RlKCkge1xuICAgIC8vIHRvZ2dsZSBnbG9iYWwgZWRpdCBtb2RlXG4gICAgaWYgKHRoaXMuZ2xvYmFsUmVtb3ZhbE1vZGVFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUdsb2JhbFJlbW92YWxNb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlR2xvYmFsUmVtb3ZhbE1vZGUoKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZUxheWVyKGUpIHtcbiAgICBjb25zdCBsYXllciA9IGUudGFyZ2V0O1xuICAgIC8vIG9ubHkgcmVtb3ZlIGxheWVyLCBpZiBpdCdzIGhhbmRsZWQgYnkgbGVhZmxldC1nZW9tYW4sXG4gICAgLy8gbm90IGEgdGVtcExheWVyIGFuZCBub3QgY3VycmVudGx5IGJlaW5nIGRyYWdnZWRcbiAgICBjb25zdCByZW1vdmVhYmxlID1cbiAgICAgIHRoaXMuX2lzUmVsZXZhbnRGb3JSZW1vdmFsKGxheWVyKSAmJiAhbGF5ZXIucG0uZHJhZ2dpbmcoKTtcblxuICAgIGlmIChyZW1vdmVhYmxlKSB7XG4gICAgICBsYXllci5yZW1vdmVGcm9tKHRoaXMubWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG4gICAgICBsYXllci5yZW1vdmUoKTtcbiAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICB0aGlzLl9maXJlUmVtb3ZlTGF5ZXJHcm91cChsYXllcik7XG4gICAgICAgIHRoaXMuX2ZpcmVSZW1vdmVMYXllckdyb3VwKHRoaXMubWFwLCBsYXllcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXllci5wbS5fZmlyZVJlbW92ZShsYXllcik7XG4gICAgICAgIGxheWVyLnBtLl9maXJlUmVtb3ZlKHRoaXMubWFwLCBsYXllcik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfaXNSZWxldmFudEZvclJlbW92YWwobGF5ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgbGF5ZXIucG0gJiZcbiAgICAgICEobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApICYmXG4gICAgICAoKCFMLlBNLm9wdEluICYmICFsYXllci5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgIChMLlBNLm9wdEluICYmIGxheWVyLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSkgJiYgLy8gaWYgb3B0SW4gaXMgdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgZmFsc2VcbiAgICAgICFsYXllci5fcG1UZW1wTGF5ZXIgJiZcbiAgICAgIGxheWVyLnBtLm9wdGlvbnMuYWxsb3dSZW1vdmFsXG4gICAgKTtcbiAgfSxcbiAgaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsUmVtb3ZhbE1vZGUoKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gdGhpcy5fYWRkZWRMYXllcnNSZW1vdmFsO1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzUmVtb3ZhbCA9IHt9O1xuICAgIGlmICh0aGlzLmdsb2JhbFJlbW92YWxNb2RlRW5hYmxlZCgpKSB7XG4gICAgICBmb3IgKGNvbnN0IGlkIGluIGxheWVycykge1xuICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tpZF07XG4gICAgICAgIGlmICh0aGlzLl9pc1JlbGV2YW50Rm9yUmVtb3ZhbChsYXllcikpIHtcbiAgICAgICAgICBpZiAobGF5ZXIucG0uZW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBsYXllci5wbS5kaXNhYmxlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxheWVyLm9uKCdjbGljaycsIHRoaXMucmVtb3ZlTGF5ZXIsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfbGF5ZXJBZGRlZFJlbW92YWwoeyBsYXllciB9KSB7XG4gICAgdGhpcy5fYWRkZWRMYXllcnNSZW1vdmFsW0wuc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgR2xvYmFsUmVtb3ZhbE1vZGU7XG4iLCAiY29uc3QgR2xvYmFsUm90YXRlTW9kZSA9IHtcbiAgX2dsb2JhbFJvdGF0ZU1vZGVFbmFibGVkOiBmYWxzZSxcbiAgZW5hYmxlR2xvYmFsUm90YXRlTW9kZSgpIHtcbiAgICB0aGlzLl9nbG9iYWxSb3RhdGVNb2RlRW5hYmxlZCA9IHRydWU7XG4gICAgY29uc3QgbGF5ZXJzID0gTC5QTS5VdGlscy5maW5kTGF5ZXJzKHRoaXMubWFwKS5maWx0ZXIoXG4gICAgICAobCkgPT4gbCBpbnN0YW5jZW9mIEwuUG9seWxpbmVcbiAgICApO1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lzUmVsZXZhbnRGb3JSb3RhdGUobGF5ZXIpKSB7XG4gICAgICAgIGxheWVyLnBtLmVuYWJsZVJvdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLnRocm90dGxlZFJlSW5pdFJvdGF0ZSkge1xuICAgICAgdGhpcy50aHJvdHRsZWRSZUluaXRSb3RhdGUgPSBMLlV0aWwudGhyb3R0bGUoXG4gICAgICAgIHRoaXMuaGFuZGxlTGF5ZXJBZGRpdGlvbkluR2xvYmFsUm90YXRlTW9kZSxcbiAgICAgICAgMTAwLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuX2FkZGVkTGF5ZXJzUm90YXRlID0ge307XG4gICAgLy8gaGFuZGxlIGxheWVycyB0aGF0IGFyZSBhZGRlZCB3aGlsZSBpbiByb3RhdGUgbW9kZVxuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMuX2xheWVyQWRkZWRSb3RhdGUsIHRoaXMpO1xuICAgIHRoaXMubWFwLm9uKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkUmVJbml0Um90YXRlLCB0aGlzKTtcblxuICAgIC8vIHRvb2dsZSB0aGUgYnV0dG9uIGluIHRoZSB0b29sYmFyIGlmIHRoaXMgaXMgY2FsbGVkIHByb2dyYW1hdGljYWxseVxuICAgIHRoaXMuVG9vbGJhci50b2dnbGVCdXR0b24oJ3JvdGF0ZU1vZGUnLCB0aGlzLmdsb2JhbFJvdGF0ZU1vZGVFbmFibGVkKCkpO1xuICAgIHRoaXMuX2ZpcmVHbG9iYWxSb3RhdGVNb2RlVG9nZ2xlZCgpO1xuICB9LFxuICBkaXNhYmxlR2xvYmFsUm90YXRlTW9kZSgpIHtcbiAgICB0aGlzLl9nbG9iYWxSb3RhdGVNb2RlRW5hYmxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGxheWVycyA9IEwuUE0uVXRpbHMuZmluZExheWVycyh0aGlzLm1hcCkuZmlsdGVyKFxuICAgICAgKGwpID0+IGwgaW5zdGFuY2VvZiBMLlBvbHlsaW5lXG4gICAgKTtcbiAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGxheWVyLnBtLmRpc2FibGVSb3RhdGUoKTtcbiAgICB9KTtcblxuICAgIC8vIHJlbW92ZSBtYXAgaGFuZGxlclxuICAgIHRoaXMubWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLl9sYXllckFkZGVkUm90YXRlLCB0aGlzKTtcbiAgICB0aGlzLm1hcC5vZmYoJ2xheWVyYWRkJywgdGhpcy50aHJvdHRsZWRSZUluaXRSb3RhdGUsIHRoaXMpO1xuXG4gICAgLy8gdG9vZ2xlIHRoZSBidXR0b24gaW4gdGhlIHRvb2xiYXIgaWYgdGhpcyBpcyBjYWxsZWQgcHJvZ3JhbWF0aWNhbGx5XG4gICAgdGhpcy5Ub29sYmFyLnRvZ2dsZUJ1dHRvbigncm90YXRlTW9kZScsIHRoaXMuZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSk7XG4gICAgdGhpcy5fZmlyZUdsb2JhbFJvdGF0ZU1vZGVUb2dnbGVkKCk7XG4gIH0sXG4gIGdsb2JhbFJvdGF0ZU1vZGVFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2dsb2JhbFJvdGF0ZU1vZGVFbmFibGVkO1xuICB9LFxuICB0b2dnbGVHbG9iYWxSb3RhdGVNb2RlKCkge1xuICAgIGlmICh0aGlzLmdsb2JhbFJvdGF0ZU1vZGVFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUdsb2JhbFJvdGF0ZU1vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGVHbG9iYWxSb3RhdGVNb2RlKCk7XG4gICAgfVxuICB9LFxuICBfaXNSZWxldmFudEZvclJvdGF0ZShsYXllcikge1xuICAgIHJldHVybiAoXG4gICAgICBsYXllci5wbSAmJlxuICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlsaW5lICYmXG4gICAgICAhKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSAmJlxuICAgICAgKCghTC5QTS5vcHRJbiAmJiAhbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSkgfHwgLy8gaWYgb3B0SW4gaXMgbm90IHNldCAvIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBzZXQgLyB0cnVlIChkZWZhdWx0KVxuICAgICAgICAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkpICYmIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlXG4gICAgICAhbGF5ZXIuX3BtVGVtcExheWVyICYmXG4gICAgICBsYXllci5wbS5vcHRpb25zLmFsbG93Um90YXRpb25cbiAgICApO1xuICB9LFxuICBoYW5kbGVMYXllckFkZGl0aW9uSW5HbG9iYWxSb3RhdGVNb2RlKCkge1xuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuX2FkZGVkTGF5ZXJzUm90YXRlO1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzUm90YXRlID0ge307XG4gICAgaWYgKHRoaXMuZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSkge1xuICAgICAgZm9yIChjb25zdCBpZCBpbiBsYXllcnMpIHtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBsYXllcnNbaWRdO1xuICAgICAgICBpZiAodGhpcy5faXNSZWxldmFudEZvclJlbW92YWwobGF5ZXIpKSB7XG4gICAgICAgICAgbGF5ZXIucG0uZW5hYmxlUm90YXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIF9sYXllckFkZGVkUm90YXRlKHsgbGF5ZXIgfSkge1xuICAgIHRoaXMuX2FkZGVkTGF5ZXJzUm90YXRlW0wuc3RhbXAobGF5ZXIpXSA9IGxheWVyO1xuICB9LFxufTtcbmV4cG9ydCBkZWZhdWx0IEdsb2JhbFJvdGF0ZU1vZGU7XG4iLCAiaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC9tZXJnZSc7XG5cbmNvbnN0IEV2ZW50TWl4aW4gPSB7XG4gIC8vIERyYXcgRXZlbnRzXG4gIC8vIEZpcmVkIHdoZW4gZW5hYmxlRHJhdygpIGlzIGNhbGxlZCAtPiBkcmF3IHN0YXJ0XG4gIF9maXJlRHJhd1N0YXJ0KHNvdXJjZSA9ICdEcmF3JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICAncG06ZHJhd3N0YXJ0JyxcbiAgICAgIHtcbiAgICAgICAgc2hhcGU6IHRoaXMuX3NoYXBlLFxuICAgICAgICB3b3JraW5nTGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGRpc2FibGVEcmF3KCkgaXMgY2FsbGVkIC0+IGRyYXcgc3RvcFxuICBfZmlyZURyYXdFbmQoc291cmNlID0gJ0RyYXcnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpkcmF3ZW5kJyxcbiAgICAgIHtcbiAgICAgICAgc2hhcGU6IHRoaXMuX3NoYXBlLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGNyZWF0ZWQgd2hpbGUgZHJhd2luZ1xuICBfZmlyZUNyZWF0ZShsYXllciwgc291cmNlID0gJ0RyYXcnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpjcmVhdGUnLFxuICAgICAge1xuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICAgIG1hcmtlcjogbGF5ZXIsIC8vIFRPRE86IERlcHJlY2F0ZWRcbiAgICAgICAgbGF5ZXIsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gQ2lyY2xlIC8gQ2lyY2xlTWFya2VyIGNlbnRlciBpcyBwbGFjZWRcbiAgLy8gaWYgc291cmNlID09IFwiRHJhd1wiIHRoZW4gYHdvcmtpbmdMYXllcmAgaXMgcGFzc2VkIGVsc2UgYGxheWVyYFxuICBfZmlyZUNlbnRlclBsYWNlZChzb3VyY2UgPSAnRHJhdycsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIGNvbnN0IHdvcmtpbmdMYXllciA9IHNvdXJjZSA9PT0gJ0RyYXcnID8gdGhpcy5fbGF5ZXIgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbGF5ZXIgPSBzb3VyY2UgIT09ICdEcmF3JyA/IHRoaXMuX2xheWVyIDogdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpjZW50ZXJwbGFjZWQnLFxuICAgICAge1xuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICAgIHdvcmtpbmdMYXllcixcbiAgICAgICAgbGF5ZXIsXG4gICAgICAgIGxhdGxuZzogdGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gbGF5ZXIgaXMgY3V0dGVkXG4gIC8vIFRPRE86IGlzIEN1dCBcIkRyYXdcIiBvciBcIkVkaXRcIj8gVGhlIGV2ZW50IGBwbTplZGl0YCBpbiB0aGUgc2FtZSBzY29wZSBpcyBjYWxsZWQgYXMgc291cmNlIFwiRWRpdFwiXG4gIF9maXJlQ3V0KFxuICAgIGZpcmVMYXllcixcbiAgICBsYXllcixcbiAgICBvcmlnaW5hbExheWVyLFxuICAgIHNvdXJjZSA9ICdEcmF3JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06Y3V0JyxcbiAgICAgIHtcbiAgICAgICAgc2hhcGU6IHRoaXMuX3NoYXBlLFxuICAgICAgICBsYXllcixcbiAgICAgICAgb3JpZ2luYWxMYXllcixcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcblxuICAvLyBFZGl0IEV2ZW50c1xuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGVkaXRlZCAvIGNoYW5nZWRcbiAgX2ZpcmVFZGl0KGZpcmVMYXllciA9IHRoaXMuX2xheWVyLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOmVkaXQnLFxuICAgICAgeyBsYXllcjogdGhpcy5fbGF5ZXIsIHNoYXBlOiB0aGlzLmdldFNoYXBlKCkgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGVuYWJsZWQgZm9yIGVkaXRpbmdcbiAgX2ZpcmVFbmFibGUoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmVuYWJsZScsXG4gICAgICB7IGxheWVyOiB0aGlzLl9sYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gbGF5ZXIgaXMgZGlzYWJsZWQgZm9yIGVkaXRpbmdcbiAgX2ZpcmVEaXNhYmxlKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpkaXNhYmxlJyxcbiAgICAgIHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBsYXllciBpcyBkaXNhYmxlZCBhbmQgd2FzIGVkaXRlZCAvIGNoYW5nZWRcbiAgX2ZpcmVVcGRhdGUoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOnVwZGF0ZScsXG4gICAgICB7IGxheWVyOiB0aGlzLl9sYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXgtbWFya2VyIGlzIHN0YXJ0ZWQgZHJhZ2dpbmdcbiAgLy8gaW5kZXhQYXRoIGlzIG9ubHkgcGFzc2VkIGZyb20gTGluZSAvIFBvbHlnb25cbiAgX2ZpcmVNYXJrZXJEcmFnU3RhcnQoXG4gICAgZSxcbiAgICBpbmRleFBhdGggPSB1bmRlZmluZWQsXG4gICAgc291cmNlID0gJ0VkaXQnLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOm1hcmtlcmRyYWdzdGFydCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyRXZlbnQ6IGUsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICAgIGluZGV4UGF0aCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hpbGUgZHJhZ2dpbmcgYSB2ZXJ0ZXgtbWFya2VyXG4gIC8vIGluZGV4UGF0aCBpcyBvbmx5IHBhc3NlZCBmcm9tIExpbmUgLyBQb2x5Z29uXG4gIF9maXJlTWFya2VyRHJhZyhcbiAgICBlLFxuICAgIGluZGV4UGF0aCA9IHVuZGVmaW5lZCxcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06bWFya2VyZHJhZycsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyRXZlbnQ6IGUsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICAgIGluZGV4UGF0aCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleC1tYXJrZXIgaXMgc3RvcHBlZCBkcmFnZ2luZ1xuICAvLyBpbmRleFBhdGggYW5kIGludGVyc2VjdGlvblJlc2V0IGlzIG9ubHkgcGFzc2VkIGZyb20gTGluZSAvIFBvbHlnb25cbiAgX2ZpcmVNYXJrZXJEcmFnRW5kKFxuICAgIGUsXG4gICAgaW5kZXhQYXRoID0gdW5kZWZpbmVkLFxuICAgIGludGVyc2VjdGlvblJlc2V0ID0gdW5kZWZpbmVkLFxuICAgIHNvdXJjZSA9ICdFZGl0JyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTptYXJrZXJkcmFnZW5kJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBtYXJrZXJFdmVudDogZSxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgICBpbnRlcnNlY3Rpb25SZXNldCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIGxheWVyIGlzIHN0YXJ0ZWQgZHJhZ2dpbmdcbiAgX2ZpcmVEcmFnU3RhcnQoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmRyYWdzdGFydCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hpbGUgZHJhZ2dpbmcgYSBsYXllclxuICBfZmlyZURyYWcoZSwgc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOmRyYWcnLFxuICAgICAgeyAuLi5lLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIGxheWVyIGlzIHN0b3BwZWQgZHJhZ2dpbmdcbiAgX2ZpcmVEcmFnRW5kKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpkcmFnZW5kJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxheWVyIGlzIGVuYWJsZWQgZm9yIGVkaXRpbmdcbiAgX2ZpcmVEcmFnRW5hYmxlKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpkcmFnZW5hYmxlJyxcbiAgICAgIHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBzaGFwZTogdGhpcy5nZXRTaGFwZSgpIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBsYXllciBpcyBkaXNhYmxlZCBmb3IgZWRpdGluZ1xuICBfZmlyZURyYWdEaXNhYmxlKHNvdXJjZSA9ICdFZGl0JywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9sYXllcixcbiAgICAgICdwbTpkcmFnZGlzYWJsZScsXG4gICAgICB7IGxheWVyOiB0aGlzLl9sYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSBsYXllciBpcyByZW1vdmVkXG4gIF9maXJlUmVtb3ZlKFxuICAgIGZpcmVMYXllcixcbiAgICByZWZMYXllciA9IGZpcmVMYXllcixcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOnJlbW92ZScsXG4gICAgICB7IGxheWVyOiByZWZMYXllciwgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXgtbWFya2VyIGlzIGNyZWF0ZWRcbiAgX2ZpcmVWZXJ0ZXhBZGRlZChcbiAgICBtYXJrZXIsXG4gICAgaW5kZXhQYXRoLFxuICAgIGxhdGxuZyxcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dmVydGV4YWRkZWQnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHdvcmtpbmdMYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIG1hcmtlcixcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgICBsYXRsbmcsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXgtbWFya2VyIGlzIHJlbW92ZWRcbiAgX2ZpcmVWZXJ0ZXhSZW1vdmVkKG1hcmtlciwgaW5kZXhQYXRoLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dmVydGV4cmVtb3ZlZCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyLFxuICAgICAgICBpbmRleFBhdGgsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICAgIC8vIFRPRE86IG1heWJlIGFkZCBsYXRsbmcgYXMgd2VsbD9cbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIHZlcnRleC1tYXJrZXIgaXMgY2xpY2tlZFxuICBfZmlyZVZlcnRleENsaWNrKGUsIGluZGV4UGF0aCwgc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOnZlcnRleGNsaWNrJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBtYXJrZXJFdmVudDogZSxcbiAgICAgICAgaW5kZXhQYXRoLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgTGluZSAvIFBvbHlnb24gaGFzIHNlbGYgaW50ZXJzZWN0aW9uXG4gIF9maXJlSW50ZXJzZWN0KFxuICAgIGludGVyc2VjdGlvbixcbiAgICBmaXJlTGF5ZXIgPSB0aGlzLl9sYXllcixcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOmludGVyc2VjdCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgaW50ZXJzZWN0aW9uLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGEgTGluZSAvIFBvbHlnb24gaXMgcmVzZXQgYmVjYXVzZSBvZiBzZWxmIGludGVyc2VjdGlvblxuICBfZmlyZUxheWVyUmVzZXQoZSwgaW5kZXhQYXRoLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06bGF5ZXJyZXNldCcsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgbWFya2VyRXZlbnQ6IGUsXG4gICAgICAgIGluZGV4UGF0aCxcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcblxuICAvLyBGaXJlZCBjb29yZGluYXRlcyBvZiB0aGUgbGF5ZXIgY2hhbmdlZFxuICBfZmlyZUNoYW5nZShsYXRsbmdzLCBzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06Y2hhbmdlJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBsYXRsbmdzLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuXG4gIC8vIEZpcmVkIHdoZW4gdGV4dCBvZiBhIHRleHQgbGF5ZXIgY2hhbmdlZFxuICBfZmlyZVRleHRDaGFuZ2UodGV4dCwgc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOnRleHRjaGFuZ2UnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHRleHQsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG5cbiAgLy8gRmlyZWQgd2hlbiB0ZXh0IGxheWVyIGZvY3VzZWRcbiAgX2ZpcmVUZXh0Rm9jdXMoc291cmNlID0gJ0VkaXQnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgJ3BtOnRleHRmb2N1cycsXG4gICAgICB7XG4gICAgICAgIGxheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc2hhcGU6IHRoaXMuZ2V0U2hhcGUoKSxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiB0ZXh0IGxheWVyIGJsdXJyZWRcbiAgX2ZpcmVUZXh0Qmx1cihzb3VyY2UgPSAnRWRpdCcsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5fbGF5ZXIsXG4gICAgICAncG06dGV4dGJsdXInLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG5cbiAgLy8gU25hcHBpbmcgRXZlbnRzXG4gIC8vIEZpcmVkIGR1cmluZyBhIG1hcmtlciBtb3ZlL2RyYWcgYW5kIG90aGVyIGxheWVycyBhcmUgZXhpc3RpbmdcbiAgX2ZpcmVTbmFwRHJhZyhmaXJlTGF5ZXIsIGV2ZW50SW5mbywgc291cmNlID0gJ1NuYXBwaW5nJywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoZmlyZUxheWVyLCAncG06c25hcGRyYWcnLCBldmVudEluZm8sIHNvdXJjZSwgY3VzdG9tUGF5bG9hZCk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXggaXMgc25hcHBlZFxuICBfZmlyZVNuYXAoZmlyZUxheWVyLCBldmVudEluZm8sIHNvdXJjZSA9ICdTbmFwcGluZycsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHRoaXMuX19maXJlKGZpcmVMYXllciwgJ3BtOnNuYXAnLCBldmVudEluZm8sIHNvdXJjZSwgY3VzdG9tUGF5bG9hZCk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYSB2ZXJ0ZXggaXMgdW5zbmFwcGVkXG4gIF9maXJlVW5zbmFwKGZpcmVMYXllciwgZXZlbnRJbmZvLCBzb3VyY2UgPSAnU25hcHBpbmcnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShmaXJlTGF5ZXIsICdwbTp1bnNuYXAnLCBldmVudEluZm8sIHNvdXJjZSwgY3VzdG9tUGF5bG9hZCk7XG4gIH0sXG5cbiAgLy8gUm90YXRpb24gRXZlbnRzXG4gIC8vIEZpcmVkIHdoZW4gcm90YXRpb24gaXMgZW5hYmxlZFxuICBfZmlyZVJvdGF0aW9uRW5hYmxlKFxuICAgIGZpcmVMYXllcixcbiAgICBoZWxwTGF5ZXIsXG4gICAgc291cmNlID0gJ1JvdGF0aW9uJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cm90YXRlZW5hYmxlJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBoZWxwTGF5ZXI6IHRoaXMuX3JvdGF0ZVBvbHksXG4gICAgICAgIHNoYXBlOiB0aGlzLmdldFNoYXBlKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gcm90YXRpb24gaXMgZGlzYWJsZWRcbiAgX2ZpcmVSb3RhdGlvbkRpc2FibGUoZmlyZUxheWVyLCBzb3VyY2UgPSAnUm90YXRpb24nLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIGZpcmVMYXllcixcbiAgICAgICdwbTpyb3RhdGVkaXNhYmxlJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgICBzaGFwZTogdGhpcy5nZXRTaGFwZSgpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIHJvdGF0aW9uIHN0YXJ0c1xuICBfZmlyZVJvdGF0aW9uU3RhcnQoXG4gICAgZmlyZUxheWVyLFxuICAgIG9yaWdpbkxhdExuZ3MsXG4gICAgc291cmNlID0gJ1JvdGF0aW9uJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cm90YXRlc3RhcnQnLFxuICAgICAge1xuICAgICAgICBsYXllcjogdGhpcy5fcm90YXRpb25MYXllcixcbiAgICAgICAgaGVscExheWVyOiB0aGlzLl9sYXllcixcbiAgICAgICAgc3RhcnRBbmdsZTogdGhpcy5fc3RhcnRBbmdsZSxcbiAgICAgICAgb3JpZ2luTGF0TG5ncyxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hpbGUgcm90YXRpb25cbiAgX2ZpcmVSb3RhdGlvbihcbiAgICBmaXJlTGF5ZXIsXG4gICAgYW5nbGVEaWZmLFxuICAgIG9sZExhdExuZ3MsXG4gICAgcm90YXRpb25MYXllciA9IHRoaXMuX3JvdGF0aW9uTGF5ZXIsXG4gICAgc291cmNlID0gJ1JvdGF0aW9uJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cm90YXRlJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHJvdGF0aW9uTGF5ZXIsXG4gICAgICAgIGhlbHBMYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHN0YXJ0QW5nbGU6IHRoaXMuX3N0YXJ0QW5nbGUsXG4gICAgICAgIGFuZ2xlOiByb3RhdGlvbkxheWVyLnBtLmdldEFuZ2xlKCksXG4gICAgICAgIGFuZ2xlRGlmZixcbiAgICAgICAgb2xkTGF0TG5ncyxcbiAgICAgICAgbmV3TGF0TG5nczogcm90YXRpb25MYXllci5nZXRMYXRMbmdzKCksXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gcm90YXRpb24gZW5kc1xuICBfZmlyZVJvdGF0aW9uRW5kKFxuICAgIGZpcmVMYXllcixcbiAgICBzdGFydEFuZ2xlLFxuICAgIG9yaWdpbkxhdExuZ3MsXG4gICAgc291cmNlID0gJ1JvdGF0aW9uJyxcbiAgICBjdXN0b21QYXlsb2FkID0ge31cbiAgKSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICBmaXJlTGF5ZXIsXG4gICAgICAncG06cm90YXRlZW5kJyxcbiAgICAgIHtcbiAgICAgICAgbGF5ZXI6IHRoaXMuX3JvdGF0aW9uTGF5ZXIsXG4gICAgICAgIGhlbHBMYXllcjogdGhpcy5fbGF5ZXIsXG4gICAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICAgIGFuZ2xlOiB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLmdldEFuZ2xlKCksXG4gICAgICAgIG9yaWdpbkxhdExuZ3MsXG4gICAgICAgIG5ld0xhdExuZ3M6IHRoaXMuX3JvdGF0aW9uTGF5ZXIuZ2V0TGF0TG5ncygpLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuXG4gIC8vIEdsb2JhbCBFdmVudHNcbiAgLy8gRmlyZWQgd2hlbiBhIFRvb2xiYXIgYWN0aW9uIGlzIGNsaWNrZWRcbiAgX2ZpcmVBY3Rpb25DbGljayhcbiAgICBhY3Rpb24sXG4gICAgYnRuTmFtZSxcbiAgICBidXR0b24sXG4gICAgc291cmNlID0gJ1Rvb2xiYXInLFxuICAgIGN1c3RvbVBheWxvYWQgPSB7fVxuICApIHtcbiAgICAvLyB0aGlzLl9tYXAgaXMgdXNlZCBiZWNhdXNlIHRoaXMgaXMgZmlyZWQgZnJvbSBMLkNvbnRyb2xzIChQTUJ1dHRvbilcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTphY3Rpb25jbGljaycsXG4gICAgICB7XG4gICAgICAgIHRleHQ6IGFjdGlvbi50ZXh0LFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGJ0bk5hbWUsXG4gICAgICAgIGJ1dHRvbixcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBhIFRvb2xiYXIgYnV0dG9uIGlzIGNsaWNrZWRcbiAgX2ZpcmVCdXR0b25DbGljayhidG5OYW1lLCBidXR0b24sIHNvdXJjZSA9ICdUb29sYmFyJywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgLy8gdGhpcy5fbWFwIGlzIHVzZWQgYmVjYXVzZSB0aGlzIGlzIGZpcmVkIGZyb20gTC5Db250cm9scyAoUE1CdXR0b24pXG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICAncG06YnV0dG9uY2xpY2snLFxuICAgICAgeyBidG5OYW1lLCBidXR0b24gfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIGxhbmd1YWdlIGlzIGNoYW5nZWRcbiAgX2ZpcmVMYW5nQ2hhbmdlKFxuICAgIG9sZExhbmcsXG4gICAgYWN0aXZlTGFuZyxcbiAgICBmYWxsYmFjayxcbiAgICB0cmFuc2xhdGlvbnMsXG4gICAgc291cmNlID0gJ0dsb2JhbCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICAncG06bGFuZ2NoYW5nZScsXG4gICAgICB7XG4gICAgICAgIG9sZExhbmcsXG4gICAgICAgIGFjdGl2ZUxhbmcsXG4gICAgICAgIGZhbGxiYWNrLFxuICAgICAgICB0cmFuc2xhdGlvbnMsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gRHJhZyBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsRHJhZ01vZGVUb2dnbGVkKGVuYWJsZWQsIHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMubWFwLFxuICAgICAgJ3BtOmdsb2JhbGRyYWdtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQsXG4gICAgICAgIG1hcDogdGhpcy5tYXAsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gRWRpdCBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsRWRpdE1vZGVUb2dnbGVkKGVuYWJsZWQsIHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMubWFwLFxuICAgICAgJ3BtOmdsb2JhbGVkaXRtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQsXG4gICAgICAgIG1hcDogdGhpcy5tYXAsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gUmVtb3ZhbCBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsUmVtb3ZhbE1vZGVUb2dnbGVkKFxuICAgIGVuYWJsZWQsXG4gICAgc291cmNlID0gJ0dsb2JhbCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICAncG06Z2xvYmFscmVtb3ZhbG1vZGV0b2dnbGVkJyxcbiAgICAgIHtcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBDdXQgTW9kZSBpcyB0b2dnbGVkLlxuICBfZmlyZUdsb2JhbEN1dE1vZGVUb2dnbGVkKHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpnbG9iYWxjdXRtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQ6ICEhdGhpcy5fZW5hYmxlZCxcbiAgICAgICAgbWFwOiB0aGlzLl9tYXAsXG4gICAgICB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gRHJhdyBNb2RlIGlzIHRvZ2dsZWQuXG4gIF9maXJlR2xvYmFsRHJhd01vZGVUb2dnbGVkKHNvdXJjZSA9ICdHbG9iYWwnLCBjdXN0b21QYXlsb2FkID0ge30pIHtcbiAgICB0aGlzLl9fZmlyZShcbiAgICAgIHRoaXMuX21hcCxcbiAgICAgICdwbTpnbG9iYWxkcmF3bW9kZXRvZ2dsZWQnLFxuICAgICAge1xuICAgICAgICBlbmFibGVkOiB0aGlzLl9lbmFibGVkLFxuICAgICAgICBzaGFwZTogdGhpcy5fc2hhcGUsXG4gICAgICAgIG1hcDogdGhpcy5fbWFwLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuICAvLyBGaXJlZCB3aGVuIFJvdGF0aW9uIE1vZGUgaXMgdG9nZ2xlZC5cbiAgX2ZpcmVHbG9iYWxSb3RhdGVNb2RlVG9nZ2xlZChzb3VyY2UgPSAnR2xvYmFsJywgY3VzdG9tUGF5bG9hZCA9IHt9KSB7XG4gICAgdGhpcy5fX2ZpcmUoXG4gICAgICB0aGlzLm1hcCxcbiAgICAgICdwbTpnbG9iYWxyb3RhdGVtb2RldG9nZ2xlZCcsXG4gICAgICB7XG4gICAgICAgIGVuYWJsZWQ6IHRoaXMuZ2xvYmFsUm90YXRlTW9kZUVuYWJsZWQoKSxcbiAgICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBjdXN0b21QYXlsb2FkXG4gICAgKTtcbiAgfSxcbiAgLy8gRmlyZWQgd2hlbiBMYXllckdyb3VwIGlzIHJlbW92ZWRcbiAgX2ZpcmVSZW1vdmVMYXllckdyb3VwKFxuICAgIGZpcmVMYXllcixcbiAgICByZWZMYXllciA9IGZpcmVMYXllcixcbiAgICBzb3VyY2UgPSAnRWRpdCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgZmlyZUxheWVyLFxuICAgICAgJ3BtOnJlbW92ZScsXG4gICAgICB7IGxheWVyOiByZWZMYXllciwgc2hhcGU6IHVuZGVmaW5lZCB9LFxuICAgICAgc291cmNlLFxuICAgICAgY3VzdG9tUGF5bG9hZFxuICAgICk7XG4gIH0sXG4gIC8vIEZpcmVkIHdoZW4gYGtleWRvd25gIG9yIGBrZXl1cGAgb24gdGhlIGRvY3VtZW50IGlzIGZpcmVkLlxuICBfZmlyZUtleWV2ZW50RXZlbnQoXG4gICAgZXZlbnQsXG4gICAgZXZlbnRUeXBlLFxuICAgIGZvY3VzT24sXG4gICAgc291cmNlID0gJ0dsb2JhbCcsXG4gICAgY3VzdG9tUGF5bG9hZCA9IHt9XG4gICkge1xuICAgIHRoaXMuX19maXJlKFxuICAgICAgdGhpcy5tYXAsXG4gICAgICAncG06a2V5ZXZlbnQnLFxuICAgICAge1xuICAgICAgICBldmVudCxcbiAgICAgICAgZXZlbnRUeXBlLFxuICAgICAgICBmb2N1c09uLFxuICAgICAgfSxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGN1c3RvbVBheWxvYWRcbiAgICApO1xuICB9LFxuXG4gIC8vIHByaXZhdGUgKHZlcnkgcHJpdmF0ZSkgZmlyZSBmdW5jdGlvblxuICBfX2ZpcmUoZmlyZUxheWVyLCB0eXBlLCBwYXlsb2FkLCBzb3VyY2UsIGN1c3RvbVBheWxvYWQgPSB7fSkge1xuICAgIHBheWxvYWQgPSBtZXJnZShwYXlsb2FkLCBjdXN0b21QYXlsb2FkLCB7IHNvdXJjZSB9KTtcbiAgICBMLlBNLlV0aWxzLl9maXJlRXZlbnQoZmlyZUxheWVyLCB0eXBlLCBwYXlsb2FkKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50TWl4aW47XG4iLCAiLy8gdXNlIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBtaXhpbiBvYmplY3QgZm9yIGtlZXBpbmcgaXNvbGF0aW9uXG4vLyB0byBtYWtlIGl0IHdvcmsgZm9yIG11bHRpcGxlIG1hcCBpbnN0YW5jZXNcbmNvbnN0IGNyZWF0ZUtleWJvYXJkTWl4aW5zID0gKCkgPT4gKHtcbiAgX2xhc3RFdmVudHM6IHsga2V5ZG93bjogdW5kZWZpbmVkLCBrZXl1cDogdW5kZWZpbmVkLCBjdXJyZW50OiB1bmRlZmluZWQgfSxcbiAgX2luaXRLZXlMaXN0ZW5lcihtYXApIHtcbiAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICBMLkRvbUV2ZW50Lm9uKGRvY3VtZW50LCAna2V5ZG93biBrZXl1cCcsIHRoaXMuX29uS2V5TGlzdGVuZXIsIHRoaXMpO1xuICAgIEwuRG9tRXZlbnQub24od2luZG93LCAnYmx1cicsIHRoaXMuX29uQmx1ciwgdGhpcyk7XG4gICAgLy8gY2xlYW4gdXAgZ2xvYmFsIGxpc3RlbmVycyB3aGVuIGN1cnJlbnQgbWFwIGluc3RhbmNlIGlzIGRlc3Ryb3llZFxuICAgIG1hcC5vbmNlKCd1bmxvYWQnLCB0aGlzLl91bmJpbmRLZXlMaXN0ZW5lckV2ZW50cywgdGhpcyk7XG4gIH0sXG4gIF91bmJpbmRLZXlMaXN0ZW5lckV2ZW50cygpIHtcbiAgICBMLkRvbUV2ZW50Lm9mZihkb2N1bWVudCwgJ2tleWRvd24ga2V5dXAnLCB0aGlzLl9vbktleUxpc3RlbmVyLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZih3aW5kb3csICdibHVyJywgdGhpcy5fb25CbHVyLCB0aGlzKTtcbiAgfSxcbiAgX29uS2V5TGlzdGVuZXIoZSkge1xuICAgIGxldCBmb2N1c09uID0gJ2RvY3VtZW50JztcblxuICAgIC8vIC5jb250YWlucyBvbmx5IHN1cHBvcnRlZCBzaW5jZSBJRTksIGlmIHlvdSB3YW50IHRvIHVzZSBHZW9tYW4gd2l0aCBJRTggb3IgbG93ZXIgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgcG9seWZpbGwgZm9yIC5jb250YWluc1xuICAgIC8vIHdpdGggZm9jdXNPbiB0aGUgdXNlciBjYW4gYWRkIGEgY2hlY2sgaWYgdGhlIGtleSB3YXMgcHJlc3NlZCB3aGlsZSB0aGUgdXNlciBpbnRlcmFjdHMgd2l0aCB0aGUgbWFwXG4gICAgaWYgKHRoaXMubWFwLmdldENvbnRhaW5lcigpLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgZm9jdXNPbiA9ICdtYXAnO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSB7IGV2ZW50OiBlLCBldmVudFR5cGU6IGUudHlwZSwgZm9jdXNPbiB9O1xuICAgIHRoaXMuX2xhc3RFdmVudHNbZS50eXBlXSA9IGRhdGE7XG4gICAgdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50ID0gZGF0YTtcblxuICAgIHRoaXMubWFwLnBtLl9maXJlS2V5ZXZlbnRFdmVudChlLCBlLnR5cGUsIGZvY3VzT24pO1xuICB9LFxuICBfb25CbHVyKGUpIHtcbiAgICBlLmFsdEtleSA9IGZhbHNlO1xuICAgIGNvbnN0IGRhdGEgPSB7IGV2ZW50OiBlLCBldmVudFR5cGU6IGUudHlwZSwgZm9jdXNPbjogJ2RvY3VtZW50JyB9O1xuICAgIHRoaXMuX2xhc3RFdmVudHNbZS50eXBlXSA9IGRhdGE7XG4gICAgdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50ID0gZGF0YTtcbiAgfSxcbiAgZ2V0TGFzdEtleUV2ZW50KHR5cGUgPSAnY3VycmVudCcpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50c1t0eXBlXTtcbiAgfSxcbiAgaXNTaGlmdEtleVByZXNzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RFdmVudHMuY3VycmVudD8uZXZlbnQuc2hpZnRLZXk7XG4gIH0sXG4gIGlzQWx0S2V5UHJlc3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50Py5ldmVudC5hbHRLZXk7XG4gIH0sXG4gIGlzQ3RybEtleVByZXNzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RFdmVudHMuY3VycmVudD8uZXZlbnQuY3RybEtleTtcbiAgfSxcbiAgaXNNZXRhS2V5UHJlc3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50cy5jdXJyZW50Py5ldmVudC5tZXRhS2V5O1xuICB9LFxuICBnZXRQcmVzc2VkS2V5KCkge1xuICAgIHJldHVybiB0aGlzLl9sYXN0RXZlbnRzLmN1cnJlbnQ/LmV2ZW50LmtleTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVLZXlib2FyZE1peGlucztcbiIsICJpbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IHRyYW5zbGF0aW9ucyBmcm9tICcuLi8uLi9hc3NldHMvdHJhbnNsYXRpb25zJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKHBhdGgpIHtcbiAgY29uc3QgbGFuZyA9IEwuUE0uYWN0aXZlTGFuZztcbiAgLy8gaWYgdHJhbnNsYXRpb24gaXMgbm90IGZvdW5kLCBmYWxsYmFjayB0byBlbmdsaXNoXG4gIHJldHVybiBnZXQodHJhbnNsYXRpb25zW2xhbmddLCBwYXRoKSB8fCBnZXQodHJhbnNsYXRpb25zLmVuLCBwYXRoKSB8fCBwYXRoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzVmFsdWVzKGxpc3QpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgaXRlbSA9IGxpc3RbaV07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgaWYgKGhhc1ZhbHVlcyhpdGVtKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGl0ZW0gIT09IG51bGwgJiYgaXRlbSAhPT0gdW5kZWZpbmVkICYmIGl0ZW0gIT09ICcnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFbXB0eUNvb3JkUmluZ3MoYXJyKSB7XG4gIHJldHVybiBhcnIucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbS5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IG5ld0l0ZW0gPSBBcnJheS5pc0FycmF5KGl0ZW0pID8gcmVtb3ZlRW1wdHlDb29yZFJpbmdzKGl0ZW0pIDogaXRlbTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5ld0l0ZW0pKSB7XG4gICAgICAgIGlmIChuZXdJdGVtLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld0l0ZW0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQucHVzaChuZXdJdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgW10pO1xufVxuXG4vLyBDb2RlIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI0MTUzOTk4LzgyODM5MzhcbmZ1bmN0aW9uIGRlc3RpbmF0aW9uVmluY2VudHkobG9ubGF0LCBicm5nLCBkaXN0KSB7XG4gIC8vIHJld3JpdHRlbiB0byB3b3JrIHdpdGggbGVhZmxldFxuICBjb25zdCBWaW5jZW50eUNvbnN0YW50cyA9IHtcbiAgICBhOiBMLkNSUy5FYXJ0aC5SLFxuICAgIGI6IDYzNTY3NTIuMzE0MixcbiAgICBmOiAxIC8gMjk4LjI1NzIyMzU2MyxcbiAgfTtcblxuICBjb25zdCB7IGEsIGIsIGYgfSA9IFZpbmNlbnR5Q29uc3RhbnRzO1xuICBjb25zdCBsb24xID0gbG9ubGF0LmxuZztcbiAgY29uc3QgbGF0MSA9IGxvbmxhdC5sYXQ7XG4gIGNvbnN0IHMgPSBkaXN0O1xuICBjb25zdCBwaSA9IE1hdGguUEk7XG4gIGNvbnN0IGFscGhhMSA9IChicm5nICogcGkpIC8gMTgwOyAvLyBjb252ZXJ0cyBicm5nIGRlZ3JlZXMgdG8gcmFkaXVzXG4gIGNvbnN0IHNpbkFscGhhMSA9IE1hdGguc2luKGFscGhhMSk7XG4gIGNvbnN0IGNvc0FscGhhMSA9IE1hdGguY29zKGFscGhhMSk7XG4gIGNvbnN0IHRhblUxID1cbiAgICAoMSAtIGYpICogTWF0aC50YW4oKGxhdDEgKiBwaSkgLyAxODAgLyogY29udmVydHMgbGF0MSBkZWdyZWVzIHRvIHJhZGl1cyAqLyk7XG4gIGNvbnN0IGNvc1UxID0gMSAvIE1hdGguc3FydCgxICsgdGFuVTEgKiB0YW5VMSk7XG4gIGNvbnN0IHNpblUxID0gdGFuVTEgKiBjb3NVMTtcbiAgY29uc3Qgc2lnbWExID0gTWF0aC5hdGFuMih0YW5VMSwgY29zQWxwaGExKTtcbiAgY29uc3Qgc2luQWxwaGEgPSBjb3NVMSAqIHNpbkFscGhhMTtcbiAgY29uc3QgY29zU3FBbHBoYSA9IDEgLSBzaW5BbHBoYSAqIHNpbkFscGhhO1xuICBjb25zdCB1U3EgPSAoY29zU3FBbHBoYSAqIChhICogYSAtIGIgKiBiKSkgLyAoYiAqIGIpO1xuICBjb25zdCBBID0gMSArICh1U3EgLyAxNjM4NCkgKiAoNDA5NiArIHVTcSAqICgtNzY4ICsgdVNxICogKDMyMCAtIDE3NSAqIHVTcSkpKTtcbiAgY29uc3QgQiA9ICh1U3EgLyAxMDI0KSAqICgyNTYgKyB1U3EgKiAoLTEyOCArIHVTcSAqICg3NCAtIDQ3ICogdVNxKSkpO1xuICBsZXQgc2lnbWEgPSBzIC8gKGIgKiBBKTtcbiAgbGV0IHNpZ21hUCA9IDIgKiBNYXRoLlBJO1xuXG4gIGxldCBjb3MyU2lnbWFNO1xuICBsZXQgc2luU2lnbWE7XG4gIGxldCBjb3NTaWdtYTtcbiAgd2hpbGUgKE1hdGguYWJzKHNpZ21hIC0gc2lnbWFQKSA+IDFlLTEyKSB7XG4gICAgY29zMlNpZ21hTSA9IE1hdGguY29zKDIgKiBzaWdtYTEgKyBzaWdtYSk7XG4gICAgc2luU2lnbWEgPSBNYXRoLnNpbihzaWdtYSk7XG4gICAgY29zU2lnbWEgPSBNYXRoLmNvcyhzaWdtYSk7XG4gICAgY29uc3QgZGVsdGFTaWdtYSA9XG4gICAgICBCICpcbiAgICAgIHNpblNpZ21hICpcbiAgICAgIChjb3MyU2lnbWFNICtcbiAgICAgICAgKEIgLyA0KSAqXG4gICAgICAgICAgKGNvc1NpZ21hICogKC0xICsgMiAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSAtXG4gICAgICAgICAgICAoQiAvIDYpICpcbiAgICAgICAgICAgICAgY29zMlNpZ21hTSAqXG4gICAgICAgICAgICAgICgtMyArIDQgKiBzaW5TaWdtYSAqIHNpblNpZ21hKSAqXG4gICAgICAgICAgICAgICgtMyArIDQgKiBjb3MyU2lnbWFNICogY29zMlNpZ21hTSkpKTtcbiAgICBzaWdtYVAgPSBzaWdtYTtcbiAgICBzaWdtYSA9IHMgLyAoYiAqIEEpICsgZGVsdGFTaWdtYTtcbiAgfVxuICBjb25zdCB0bXAgPSBzaW5VMSAqIHNpblNpZ21hIC0gY29zVTEgKiBjb3NTaWdtYSAqIGNvc0FscGhhMTtcbiAgY29uc3QgbGF0MiA9IE1hdGguYXRhbjIoXG4gICAgc2luVTEgKiBjb3NTaWdtYSArIGNvc1UxICogc2luU2lnbWEgKiBjb3NBbHBoYTEsXG4gICAgKDEgLSBmKSAqIE1hdGguc3FydChzaW5BbHBoYSAqIHNpbkFscGhhICsgdG1wICogdG1wKVxuICApO1xuICBjb25zdCBsYW1iZGEgPSBNYXRoLmF0YW4yKFxuICAgIHNpblNpZ21hICogc2luQWxwaGExLFxuICAgIGNvc1UxICogY29zU2lnbWEgLSBzaW5VMSAqIHNpblNpZ21hICogY29zQWxwaGExXG4gICk7XG4gIGNvbnN0IEMgPSAoZiAvIDE2KSAqIGNvc1NxQWxwaGEgKiAoNCArIGYgKiAoNCAtIDMgKiBjb3NTcUFscGhhKSk7XG4gIGNvbnN0IGxhbSA9XG4gICAgbGFtYmRhIC1cbiAgICAoMSAtIEMpICpcbiAgICAgIGYgKlxuICAgICAgc2luQWxwaGEgKlxuICAgICAgKHNpZ21hICtcbiAgICAgICAgQyAqXG4gICAgICAgICAgc2luU2lnbWEgKlxuICAgICAgICAgIChjb3MyU2lnbWFNICsgQyAqIGNvc1NpZ21hICogKC0xICsgMiAqIGNvczJTaWdtYU0gKiBjb3MyU2lnbWFNKSkpO1xuICAvLyBjb25zdCByZXZBeiA9IE1hdGguYXRhbjIoc2luQWxwaGEsIC10bXApOyAgLy8gZmluYWwgYmVhcmluZ1xuICBjb25zdCBsYW1GdW5jID0gbG9uMSArIChsYW0gKiAxODApIC8gcGk7IC8vIGNvbnZlcnRzIGxhbSByYWRpdXMgdG8gZGVncmVlc1xuICBjb25zdCBsYXQyYSA9IChsYXQyICogMTgwKSAvIHBpOyAvLyBjb252ZXJ0cyBsYXQyYSByYWRpdXMgdG8gZGVncmVlc1xuXG4gIHJldHVybiBMLmxhdExuZyhsYW1GdW5jLCBsYXQyYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHZW9kZXNpY1BvbHlnb24oXG4gIG9yaWdpbixcbiAgcmFkaXVzLFxuICBzaWRlcyxcbiAgcm90YXRpb24sXG4gIHdpdGhCZWFyaW5nID0gdHJ1ZVxuKSB7XG4gIGxldCB0cnVlQW5nbGU7XG4gIGxldCBuZXdMb25sYXQ7XG4gIGxldCBnZW9tUG9pbnQ7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2lkZXM7IGkgKz0gMSkge1xuICAgIGlmICh3aXRoQmVhcmluZykge1xuICAgICAgdHJ1ZUFuZ2xlID0gKGkgKiAzNjApIC8gc2lkZXMgKyByb3RhdGlvbjtcbiAgICAgIG5ld0xvbmxhdCA9IGRlc3RpbmF0aW9uVmluY2VudHkob3JpZ2luLCB0cnVlQW5nbGUsIHJhZGl1cyk7XG4gICAgICBnZW9tUG9pbnQgPSBMLmxhdExuZyhuZXdMb25sYXQubG5nLCBuZXdMb25sYXQubGF0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcExhdCA9IG9yaWdpbi5sYXQgKyBNYXRoLmNvcygoMiAqIGkgKiBNYXRoLlBJKSAvIHNpZGVzKSAqIHJhZGl1cztcbiAgICAgIGNvbnN0IHBMbmcgPSBvcmlnaW4ubG5nICsgTWF0aC5zaW4oKDIgKiBpICogTWF0aC5QSSkgLyBzaWRlcykgKiByYWRpdXM7XG4gICAgICBnZW9tUG9pbnQgPSBMLmxhdExuZyhwTGF0LCBwTG5nKTtcbiAgICB9XG4gICAgcG9pbnRzLnB1c2goZ2VvbVBvaW50KTtcbiAgfVxuXG4gIHJldHVybiBwb2ludHM7XG59XG5cbi8qIENvcGllZCBmcm9tIEwuR2VvbWV0cnlVdGlsICovXG5mdW5jdGlvbiBkZXN0aW5hdGlvbihsYXRsbmcsIGhlYWRpbmcsIGRpc3RhbmNlKSB7XG4gIGhlYWRpbmcgPSAoaGVhZGluZyArIDM2MCkgJSAzNjA7XG4gIGNvbnN0IHJhZCA9IE1hdGguUEkgLyAxODA7XG4gIGNvbnN0IHJhZEludiA9IDE4MCAvIE1hdGguUEk7XG4gIGNvbnN0IHsgUiB9ID0gTC5DUlMuRWFydGg7IC8vIGFwcHJveGltYXRpb24gb2YgRWFydGgncyByYWRpdXNcbiAgY29uc3QgbG9uMSA9IGxhdGxuZy5sbmcgKiByYWQ7XG4gIGNvbnN0IGxhdDEgPSBsYXRsbmcubGF0ICogcmFkO1xuICBjb25zdCByaGVhZGluZyA9IGhlYWRpbmcgKiByYWQ7XG4gIGNvbnN0IHNpbkxhdDEgPSBNYXRoLnNpbihsYXQxKTtcbiAgY29uc3QgY29zTGF0MSA9IE1hdGguY29zKGxhdDEpO1xuICBjb25zdCBjb3NEaXN0UiA9IE1hdGguY29zKGRpc3RhbmNlIC8gUik7XG4gIGNvbnN0IHNpbkRpc3RSID0gTWF0aC5zaW4oZGlzdGFuY2UgLyBSKTtcbiAgY29uc3QgbGF0MiA9IE1hdGguYXNpbihcbiAgICBzaW5MYXQxICogY29zRGlzdFIgKyBjb3NMYXQxICogc2luRGlzdFIgKiBNYXRoLmNvcyhyaGVhZGluZylcbiAgKTtcbiAgbGV0IGxvbjIgPVxuICAgIGxvbjEgK1xuICAgIE1hdGguYXRhbjIoXG4gICAgICBNYXRoLnNpbihyaGVhZGluZykgKiBzaW5EaXN0UiAqIGNvc0xhdDEsXG4gICAgICBjb3NEaXN0UiAtIHNpbkxhdDEgKiBNYXRoLnNpbihsYXQyKVxuICAgICk7XG4gIGxvbjIgKj0gcmFkSW52O1xuXG4gIGNvbnN0IG9wdEEgPSBsb24yIC0gMzYwO1xuICBjb25zdCBvcHRCID0gbG9uMiA8IC0xODAgPyBsb24yICsgMzYwIDogbG9uMjtcblxuICBsb24yID0gbG9uMiA+IDE4MCA/IG9wdEEgOiBvcHRCO1xuICByZXR1cm4gTC5sYXRMbmcoW2xhdDIgKiByYWRJbnYsIGxvbjJdKTtcbn1cbi8qIENvcGllZCBmcm9tIEwuR2VvbWV0cnlVdGlsICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY0FuZ2xlKG1hcCwgbGF0bG5nQSwgbGF0bG5nQikge1xuICBjb25zdCBwb2ludEEgPSBtYXAubGF0TG5nVG9Db250YWluZXJQb2ludChsYXRsbmdBKTtcbiAgY29uc3QgcG9pbnRCID0gbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQobGF0bG5nQik7XG4gIGxldCBhbmdsZURlZyA9XG4gICAgKE1hdGguYXRhbjIocG9pbnRCLnkgLSBwb2ludEEueSwgcG9pbnRCLnggLSBwb2ludEEueCkgKiAxODApIC8gTWF0aC5QSSArIDkwO1xuICBhbmdsZURlZyArPSBhbmdsZURlZyA8IDAgPyAzNjAgOiAwO1xuICByZXR1cm4gYW5nbGVEZWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXN0aW5hdGlvbk9uTGluZShtYXAsIGxhdGxuZ0EsIGxhdGxuZ0IsIGRpc3RhbmNlKSB7XG4gIGNvbnN0IGFuZ2xlRGVnID0gY2FsY0FuZ2xlKG1hcCwgbGF0bG5nQSwgbGF0bG5nQik7XG4gIHJldHVybiBkZXN0aW5hdGlvbihsYXRsbmdBLCBhbmdsZURlZywgZGlzdGFuY2UpO1xufVxuXG4vLyB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgd2l0aCB0aGUgLnNvcnQocHJpb3JpdGlzZVNvcnQoa2V5LCBzb3J0aW5nT3JkZXIpKSBmdW5jdGlvbiBvZiBhcnJheXNcbmV4cG9ydCBmdW5jdGlvbiBwcmlvcml0aXNlU29ydChrZXksIF9zb3J0aW5nT3JkZXIsIG9yZGVyID0gJ2FzYycpIHtcbiAgLyogdGhlIHNvcnRpbmcgb3JkZXIgaGFzIGFsbCBwb3NzaWJsZSBrZXlzIChsb3dlcmNhc2UpIHdpdGggdGhlIGluZGV4IGFuZCB0aGVuIGl0IGlzIHNvcnRlZCBieSB0aGUga2V5IG9uIHRoZSBvYmplY3QgKi9cblxuICBpZiAoIV9zb3J0aW5nT3JkZXIgfHwgT2JqZWN0LmtleXMoX3NvcnRpbmdPcmRlcikubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiBhIC0gYjsgLy8gZGVmYXVsdCBzb3J0IG1ldGhvZFxuICB9XG5cbiAgLy8gY2hhbmdlIHRoZSBrZXlzIHRvIGxvd2VyY2FzZVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoX3NvcnRpbmdPcmRlcik7XG4gIGxldCBvYmpLZXk7XG4gIGxldCBuID0ga2V5cy5sZW5ndGggLSAxO1xuICBjb25zdCBzb3J0aW5nT3JkZXIgPSB7fTtcbiAgd2hpbGUgKG4gPj0gMCkge1xuICAgIG9iaktleSA9IGtleXNbbl07XG4gICAgc29ydGluZ09yZGVyW29iaktleS50b0xvd2VyQ2FzZSgpXSA9IF9zb3J0aW5nT3JkZXJbb2JqS2V5XTtcbiAgICBuIC09IDE7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTaGFwZShsYXllcikge1xuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyKSB7XG4gICAgICByZXR1cm4gJ01hcmtlcic7XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlKSB7XG4gICAgICByZXR1cm4gJ0NpcmNsZSc7XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyKSB7XG4gICAgICByZXR1cm4gJ0NpcmNsZU1hcmtlcic7XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuUmVjdGFuZ2xlKSB7XG4gICAgICByZXR1cm4gJ1JlY3RhbmdsZSc7XG4gICAgfVxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuUG9seWdvbikge1xuICAgICAgcmV0dXJuICdQb2x5Z29uJztcbiAgICB9XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5bGluZSkge1xuICAgICAgcmV0dXJuICdMaW5lJztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGxldCBrZXlBO1xuICAgIGxldCBrZXlCO1xuICAgIGlmIChrZXkgPT09ICdpbnN0YW5jZW9mU2hhcGUnKSB7XG4gICAgICBrZXlBID0gZ2V0U2hhcGUoYS5sYXllcikudG9Mb3dlckNhc2UoKTtcbiAgICAgIGtleUIgPSBnZXRTaGFwZShiLmxheWVyKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFrZXlBIHx8ICFrZXlCKSByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucyAqL1xuICAgICAgaWYgKCFhLmhhc093blByb3BlcnR5KGtleSkgfHwgIWIuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuIDA7XG4gICAgICBrZXlBID0gYVtrZXldLnRvTG93ZXJDYXNlKCk7XG4gICAgICBrZXlCID0gYltrZXldLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZmlyc3QgPVxuICAgICAga2V5QSBpbiBzb3J0aW5nT3JkZXIgPyBzb3J0aW5nT3JkZXJba2V5QV0gOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcblxuICAgIGNvbnN0IHNlY29uZCA9XG4gICAgICBrZXlCIGluIHNvcnRpbmdPcmRlciA/IHNvcnRpbmdPcmRlcltrZXlCXSA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgaWYgKGZpcnN0IDwgc2Vjb25kKSByZXN1bHQgPSAtMTtcbiAgICBlbHNlIGlmIChmaXJzdCA+IHNlY29uZCkgcmVzdWx0ID0gMTtcbiAgICByZXR1cm4gb3JkZXIgPT09ICdkZXNjJyA/IHJlc3VsdCAqIC0xIDogcmVzdWx0O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29weUxhdExuZ3MobGF5ZXIsIGxhdGxuZ3MgPSBsYXllci5nZXRMYXRMbmdzKCkpIHtcbiAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7XG4gICAgcmV0dXJuIEwucG9seWdvbihsYXRsbmdzKS5nZXRMYXRMbmdzKCk7XG4gIH1cbiAgcmV0dXJuIEwucG9seWxpbmUobGF0bG5ncykuZ2V0TGF0TG5ncygpO1xufVxuXG4vLyBSZXBsYWNlcyB0aGUgbGF0IHZhbHVlIHdpdGggdGhlIE1BWF9MQVRJVFVERSBvZiBDUlMgaWYgaXQgaXMgbG93ZXIgLyBoaWdoZXJcbmV4cG9ydCBmdW5jdGlvbiBmaXhMYXRPZmZzZXQobGF0bG5nLCBtYXApIHtcbiAgaWYgKG1hcC5vcHRpb25zLmNycz8ucHJvamVjdGlvbj8uTUFYX0xBVElUVURFKSB7XG4gICAgY29uc3QgbWF4ID0gbWFwLm9wdGlvbnMuY3JzPy5wcm9qZWN0aW9uPy5NQVhfTEFUSVRVREU7XG4gICAgbGF0bG5nLmxhdCA9IE1hdGgubWF4KE1hdGgubWluKG1heCwgbGF0bG5nLmxhdCksIC1tYXgpO1xuICB9XG4gIHJldHVybiBsYXRsbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZW5kZXJlcihsYXllcikge1xuICByZXR1cm4gKFxuICAgIGxheWVyLm9wdGlvbnMucmVuZGVyZXIgfHxcbiAgICAobGF5ZXIuX21hcCAmJlxuICAgICAgKGxheWVyLl9tYXAuX2dldFBhbmVSZW5kZXJlcihsYXllci5vcHRpb25zLnBhbmUpIHx8XG4gICAgICAgIGxheWVyLl9tYXAub3B0aW9ucy5yZW5kZXJlciB8fFxuICAgICAgICBsYXllci5fbWFwLl9yZW5kZXJlcikpIHx8XG4gICAgbGF5ZXIuX3JlbmRlcmVyXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgZ2V0VHJhbnNsYXRpb24gfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBFdmVudE1peGluIGZyb20gJy4uL01peGlucy9FdmVudHMnO1xuXG5jb25zdCBQTUJ1dHRvbiA9IEwuQ29udHJvbC5leHRlbmQoe1xuICBpbmNsdWRlczogW0V2ZW50TWl4aW5dLFxuICBvcHRpb25zOiB7XG4gICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICBkaXNhYmxlQnlPdGhlckJ1dHRvbnM6IHRydWUsXG4gIH0sXG4gIC8vIFRPRE86IGNsZWFuIHVwIHZhcmlhYmxlIG5hbWVzIGxpa2UgX2J1dHRvbiBzaG91bGQgYmUgX29wdGlvbnMgYW5kIHRoYXQgZG9tTm9kZVZhcmlhYmxlIHN0dWZmXG4gIGluaXRpYWxpemUob3B0aW9ucykge1xuICAgIC8vIHJlcGxhY2VkIHNldE9wdGlvbnMgd2l0aCB0aGlzIGJlY2F1c2UgY2xhc3NOYW1lcyByZXR1cm5lZCB1bmRlZmluZWQgXHVEODNFXHVERDE0XG4gICAgdGhpcy5fYnV0dG9uID0gTC5VdGlsLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgfSxcbiAgb25BZGQobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIGlmICghdGhpcy5fbWFwLnBtLlRvb2xiYXIub3B0aW9ucy5vbmVCbG9jaykge1xuICAgICAgaWYgKHRoaXMuX2J1dHRvbi50b29sID09PSAnZWRpdCcpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fbWFwLnBtLlRvb2xiYXIuZWRpdENvbnRhaW5lcjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYnV0dG9uLnRvb2wgPT09ICdvcHRpb25zJykge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9tYXAucG0uVG9vbGJhci5vcHRpb25zQ29udGFpbmVyO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9idXR0b24udG9vbCA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fbWFwLnBtLlRvb2xiYXIuY3VzdG9tQ29udGFpbmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fbWFwLnBtLlRvb2xiYXIuZHJhd0NvbnRhaW5lcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gdGhpcy5fbWFwLnBtLlRvb2xiYXIuX2NyZWF0ZUNvbnRhaW5lcihcbiAgICAgICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9yZW5kZXJCdXR0b24oKTtcblxuICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gIH0sXG4gIF9yZW5kZXJCdXR0b24oKSB7XG4gICAgY29uc3Qgb2xkRG9tTm9kZSA9IHRoaXMuYnV0dG9uc0RvbU5vZGU7XG4gICAgdGhpcy5idXR0b25zRG9tTm9kZSA9IHRoaXMuX21ha2VCdXR0b24odGhpcy5fYnV0dG9uKTtcbiAgICBpZiAob2xkRG9tTm9kZSkge1xuICAgICAgb2xkRG9tTm9kZS5yZXBsYWNlV2l0aCh0aGlzLmJ1dHRvbnNEb21Ob2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYnV0dG9uc0RvbU5vZGUpO1xuICAgIH1cbiAgfSxcbiAgb25SZW1vdmUoKSB7XG4gICAgdGhpcy5idXR0b25zRG9tTm9kZS5yZW1vdmUoKTtcblxuICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gIH0sXG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1dHRvbi50ZXh0O1xuICB9LFxuICBnZXRJY29uVXJsKCkge1xuICAgIHJldHVybiB0aGlzLl9idXR0b24uaWNvblVybDtcbiAgfSxcbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9idXR0b24gPSB7fTtcbiAgICB0aGlzLl91cGRhdGUoKTtcbiAgfSxcbiAgdG9nZ2xlKGUpIHtcbiAgICBpZiAodHlwZW9mIGUgPT09ICdib29sZWFuJykge1xuICAgICAgdGhpcy5fYnV0dG9uLnRvZ2dsZVN0YXR1cyA9IGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbi50b2dnbGVTdGF0dXMgPSAhdGhpcy5fYnV0dG9uLnRvZ2dsZVN0YXR1cztcbiAgICB9XG4gICAgdGhpcy5fYXBwbHlTdHlsZUNsYXNzZXMoKTtcblxuICAgIHJldHVybiB0aGlzLl9idXR0b24udG9nZ2xlU3RhdHVzO1xuICB9LFxuICB0b2dnbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9idXR0b24udG9nZ2xlU3RhdHVzO1xuICB9LFxuICBvbkNyZWF0ZSgpIHtcbiAgICB0aGlzLnRvZ2dsZShmYWxzZSk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy50b2dnbGUoZmFsc2UpOyAvLyBpcyBuZWVkZWQgdG8gcHJldmVudCBhY3RpdmUgYnV0dG9uIGRpc2FibGVkXG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLl91cGRhdGVEaXNhYmxlZCgpO1xuICB9LFxuICBlbmFibGUoKSB7XG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fdXBkYXRlRGlzYWJsZWQoKTtcbiAgfSxcbiAgX3RyaWdnZXJDbGljayhlKSB7XG4gICAgaWYgKGUpIHtcbiAgICAgIC8vIGlzIG5lZWRlZCB0byBwcmV2ZW50IHNjcm9sbGluZyB3aGVuIGNsaWNraW5nIG9uIGEtZWxlbWVudCB3aXRoIGhyZWY9XCJhXCJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2J1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUT0RPIGlzIHRoaXMgYSBiaWcgY2hhbmdlIHdoZW4gd2UgY2hhbmdlIGZyb20gZSB0byBhIG9iamVjdCB3aXRoIHRoZSBldmVudCBhbmQgdGhlIGJ1dHRvbj8gTm93IGl0J3MgdGhlIHNlY29uZCBhcmd1bWVudFxuICAgIHRoaXMuX2J1dHRvbi5vbkNsaWNrKGUsIHsgYnV0dG9uOiB0aGlzLCBldmVudDogZSB9KTtcbiAgICB0aGlzLl9jbGlja2VkKGUpO1xuICAgIHRoaXMuX2J1dHRvbi5hZnRlckNsaWNrKGUsIHsgYnV0dG9uOiB0aGlzLCBldmVudDogZSB9KTtcbiAgfSxcbiAgX21ha2VCdXR0b24oYnV0dG9uKSB7XG4gICAgY29uc3QgcG9zID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uLmluZGV4T2YoJ3JpZ2h0JykgPiAtMSA/ICdwb3MtcmlnaHQnIDogJyc7XG5cbiAgICAvLyBidXR0b24gY29udGFpbmVyXG4gICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdkaXYnLFxuICAgICAgYGJ1dHRvbi1jb250YWluZXIgICR7cG9zfWAsXG4gICAgICB0aGlzLl9jb250YWluZXJcbiAgICApO1xuXG4gICAgaWYgKGJ1dHRvbi50aXRsZSkge1xuICAgICAgYnV0dG9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBidXR0b24udGl0bGUpO1xuICAgIH1cblxuICAgIC8vIHRoZSBidXR0b24gaXRzZWxmXG4gICAgY29uc3QgbmV3QnV0dG9uID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdhJyxcbiAgICAgICdsZWFmbGV0LWJ1dHRvbnMtY29udHJvbC1idXR0b24nLFxuICAgICAgYnV0dG9uQ29udGFpbmVyXG4gICAgKTtcbiAgICBuZXdCdXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICBuZXdCdXR0b24uaHJlZiA9ICcjJztcblxuICAgIC8vIHRoZSBidXR0b25zIGFjdGlvbnNcbiAgICBjb25zdCBhY3Rpb25Db250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2RpdicsXG4gICAgICBgbGVhZmxldC1wbS1hY3Rpb25zLWNvbnRhaW5lciAke3Bvc31gLFxuICAgICAgYnV0dG9uQ29udGFpbmVyXG4gICAgKTtcblxuICAgIGNvbnN0IGFjdGl2ZUFjdGlvbnMgPSBidXR0b24uYWN0aW9ucztcblxuICAgIGNvbnN0IGFjdGlvbnMgPSB7XG4gICAgICBjYW5jZWw6IHtcbiAgICAgICAgdGV4dDogZ2V0VHJhbnNsYXRpb24oJ2FjdGlvbnMuY2FuY2VsJyksXG4gICAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5jYW5jZWwnKSxcbiAgICAgICAgb25DbGljaygpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyQ2xpY2soKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBmaW5pc2hNb2RlOiB7XG4gICAgICAgIHRleHQ6IGdldFRyYW5zbGF0aW9uKCdhY3Rpb25zLmZpbmlzaCcpLFxuICAgICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2FjdGlvbnMuZmluaXNoJyksXG4gICAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlckNsaWNrKCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmVtb3ZlTGFzdFZlcnRleDoge1xuICAgICAgICB0ZXh0OiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5yZW1vdmVMYXN0VmVydGV4JyksXG4gICAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYWN0aW9ucy5yZW1vdmVMYXN0VmVydGV4JyksXG4gICAgICAgIG9uQ2xpY2soKSB7XG4gICAgICAgICAgdGhpcy5fbWFwLnBtLkRyYXdbYnV0dG9uLmpzQ2xhc3NdLl9yZW1vdmVMYXN0VmVydGV4KCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZmluaXNoOiB7XG4gICAgICAgIHRleHQ6IGdldFRyYW5zbGF0aW9uKCdhY3Rpb25zLmZpbmlzaCcpLFxuICAgICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2FjdGlvbnMuZmluaXNoJyksXG4gICAgICAgIG9uQ2xpY2soZSkge1xuICAgICAgICAgIHRoaXMuX21hcC5wbS5EcmF3W2J1dHRvbi5qc0NsYXNzXS5fZmluaXNoU2hhcGUoZSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBhY3RpdmVBY3Rpb25zLmZvckVhY2goKF9hY3Rpb24pID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgX2FjdGlvbiA9PT0gJ3N0cmluZycgPyBfYWN0aW9uIDogX2FjdGlvbi5uYW1lO1xuICAgICAgbGV0IGFjdGlvbjtcbiAgICAgIGlmIChhY3Rpb25zW25hbWVdKSB7XG4gICAgICAgIGFjdGlvbiA9IGFjdGlvbnNbbmFtZV07XG4gICAgICB9IGVsc2UgaWYgKF9hY3Rpb24udGV4dCkge1xuICAgICAgICBhY3Rpb24gPSBfYWN0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYWN0aW9uTm9kZSA9IEwuRG9tVXRpbC5jcmVhdGUoXG4gICAgICAgICdhJyxcbiAgICAgICAgYGxlYWZsZXQtcG0tYWN0aW9uICR7cG9zfSBhY3Rpb24tJHtuYW1lfWAsXG4gICAgICAgIGFjdGlvbkNvbnRhaW5lclxuICAgICAgKTtcbiAgICAgIGFjdGlvbk5vZGUuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgYWN0aW9uTm9kZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgIGFjdGlvbk5vZGUuaHJlZiA9ICcjJztcblxuICAgICAgaWYgKGFjdGlvbi50aXRsZSkge1xuICAgICAgICBhY3Rpb25Ob2RlLnRpdGxlID0gYWN0aW9uLnRpdGxlO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb25Ob2RlLmlubmVySFRNTCA9IGFjdGlvbi50ZXh0O1xuXG4gICAgICBMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGFjdGlvbk5vZGUpO1xuICAgICAgTC5Eb21FdmVudC5vbihhY3Rpb25Ob2RlLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3ApO1xuXG4gICAgICBpZiAoIWJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBpZiAoYWN0aW9uLm9uQ2xpY2spIHtcbiAgICAgICAgICBjb25zdCBhY3Rpb25DbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAvLyBpcyBuZWVkZWQgdG8gcHJldmVudCBzY3JvbGxpbmcgd2hlbiBjbGlja2luZyBvbiBhLWVsZW1lbnQgd2l0aCBocmVmPVwiYVwiXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsZXQgYnRuTmFtZSA9ICcnO1xuICAgICAgICAgICAgY29uc3QgeyBidXR0b25zIH0gPSB0aGlzLl9tYXAucG0uVG9vbGJhcjtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYnRuIGluIGJ1dHRvbnMpIHtcbiAgICAgICAgICAgICAgaWYgKGJ1dHRvbnNbYnRuXS5fYnV0dG9uID09PSBidXR0b24pIHtcbiAgICAgICAgICAgICAgICBidG5OYW1lID0gYnRuO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maXJlQWN0aW9uQ2xpY2soYWN0aW9uLCBidG5OYW1lLCBidXR0b24pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGFjdGlvbk5vZGUsICdjbGljaycsIGFjdGlvbkNsaWNrLCB0aGlzKTtcbiAgICAgICAgICBMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGFjdGlvbk5vZGUsICdjbGljaycsIGFjdGlvbi5vbkNsaWNrLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGJ1dHRvbi50b2dnbGVTdGF0dXMpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhidXR0b25Db250YWluZXIsICdhY3RpdmUnKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdjb250cm9sLWljb24nLCBuZXdCdXR0b24pO1xuXG4gICAgaWYgKGJ1dHRvbi5pY29uVXJsKSB7XG4gICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGJ1dHRvbi5pY29uVXJsKTtcbiAgICB9XG4gICAgaWYgKGJ1dHRvbi5jbGFzc05hbWUpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhpbWFnZSwgYnV0dG9uLmNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihuZXdCdXR0b24pO1xuICAgIEwuRG9tRXZlbnQub24obmV3QnV0dG9uLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3ApO1xuXG4gICAgaWYgKCFidXR0b24uZGlzYWJsZWQpIHtcbiAgICAgIC8vIGJlZm9yZSB0aGUgYWN0dWFsIGNsaWNrLCB0cmlnZ2VyIGEgY2xpY2sgb24gY3VycmVudGx5IHRvZ2dsZWQgYnV0dG9ucyB0b1xuICAgICAgLy8gdW50b2dnbGUgdGhlbSBhbmQgdGhlaXIgZnVuY3Rpb25hbGl0eVxuICAgICAgTC5Eb21FdmVudC5hZGRMaXN0ZW5lcihuZXdCdXR0b24sICdjbGljaycsIHRoaXMuX29uQnRuQ2xpY2ssIHRoaXMpO1xuICAgICAgTC5Eb21FdmVudC5hZGRMaXN0ZW5lcihuZXdCdXR0b24sICdjbGljaycsIHRoaXMuX3RyaWdnZXJDbGljaywgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKG5ld0J1dHRvbiwgJ3BtLWRpc2FibGVkJyk7XG4gICAgICBuZXdCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnV0dG9uQ29udGFpbmVyO1xuICB9LFxuXG4gIF9hcHBseVN0eWxlQ2xhc3NlcygpIHtcbiAgICBpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fYnV0dG9uLnRvZ2dsZVN0YXR1cyB8fCB0aGlzLl9idXR0b24uY3NzVG9nZ2xlID09PSBmYWxzZSkge1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuYnV0dG9uc0RvbU5vZGUsICdhY3RpdmUnKTtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsICdhY3RpdmVDaGlsZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5idXR0b25zRG9tTm9kZSwgJ2FjdGl2ZScpO1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2FjdGl2ZUNoaWxkJyk7XG4gICAgfVxuICB9LFxuXG4gIF9vbkJ0bkNsaWNrKCkge1xuICAgIGlmICh0aGlzLl9idXR0b24uZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2J1dHRvbi5kaXNhYmxlT3RoZXJCdXR0b25zKSB7XG4gICAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50cmlnZ2VyQ2xpY2tPblRvZ2dsZWRCdXR0b25zKHRoaXMpO1xuICAgIH1cbiAgICBsZXQgYnRuTmFtZSA9ICcnO1xuICAgIGNvbnN0IHsgYnV0dG9ucyB9ID0gdGhpcy5fbWFwLnBtLlRvb2xiYXI7XG4gICAgZm9yIChjb25zdCBidG4gaW4gYnV0dG9ucykge1xuICAgICAgaWYgKGJ1dHRvbnNbYnRuXS5fYnV0dG9uID09PSB0aGlzLl9idXR0b24pIHtcbiAgICAgICAgYnRuTmFtZSA9IGJ0bjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2ZpcmVCdXR0b25DbGljayhidG5OYW1lLCB0aGlzLl9idXR0b24pO1xuICB9LFxuXG4gIF9jbGlja2VkKCkge1xuICAgIGlmICh0aGlzLl9idXR0b24uZG9Ub2dnbGUpIHtcbiAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgfVxuICB9LFxuXG4gIF91cGRhdGVEaXNhYmxlZCgpIHtcbiAgICBpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzTmFtZSA9ICdwbS1kaXNhYmxlZCc7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5idXR0b25zRG9tTm9kZS5jaGlsZHJlblswXTtcblxuICAgIGlmICh0aGlzLl9idXR0b24uZGlzYWJsZWQpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhidXR0b24sIGNsYXNzTmFtZSk7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKGJ1dHRvbiwgY2xhc3NOYW1lKTtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcbiAgICB9XG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUE1CdXR0b247XG4iLCAiaW1wb3J0IFBNQnV0dG9uIGZyb20gJy4vTC5Db250cm9scyc7XG5cbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkwuQ29udHJvbC5QTUJ1dHRvbiA9IFBNQnV0dG9uO1xuXG5jb25zdCBUb29sYmFyID0gTC5DbGFzcy5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAgZHJhd01hcmtlcjogdHJ1ZSxcbiAgICBkcmF3UmVjdGFuZ2xlOiB0cnVlLFxuICAgIGRyYXdQb2x5bGluZTogdHJ1ZSxcbiAgICBkcmF3UG9seWdvbjogdHJ1ZSxcbiAgICBkcmF3Q2lyY2xlOiB0cnVlLFxuICAgIGRyYXdDaXJjbGVNYXJrZXI6IHRydWUsXG4gICAgZHJhd1RleHQ6IHRydWUsXG4gICAgZWRpdE1vZGU6IHRydWUsXG4gICAgZHJhZ01vZGU6IHRydWUsXG4gICAgY3V0UG9seWdvbjogdHJ1ZSxcbiAgICByZW1vdmFsTW9kZTogdHJ1ZSxcbiAgICByb3RhdGVNb2RlOiB0cnVlLFxuICAgIHNuYXBwaW5nT3B0aW9uOiB0cnVlLFxuICAgIGRyYXdDb250cm9sczogdHJ1ZSxcbiAgICBlZGl0Q29udHJvbHM6IHRydWUsXG4gICAgb3B0aW9uc0NvbnRyb2xzOiB0cnVlLFxuICAgIGN1c3RvbUNvbnRyb2xzOiB0cnVlLFxuICAgIG9uZUJsb2NrOiBmYWxzZSxcbiAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxuICAgIHBvc2l0aW9uczoge1xuICAgICAgZHJhdzogJycsXG4gICAgICBlZGl0OiAnJyxcbiAgICAgIG9wdGlvbnM6ICcnLFxuICAgICAgY3VzdG9tOiAnJyxcbiAgICB9LFxuICB9LFxuICBjdXN0b21CdXR0b25zOiBbXSxcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICAvLyBGb3Igc29tZSByZWFzb24gdGhlcmUgaXMgYW4gcmVmZXJlbmNlIGJldHdlZW4gbXVsdGlwbGUgbWFwcyBpbnN0YW5jZXNcbiAgICB0aGlzLmN1c3RvbUJ1dHRvbnMgPSBbXTtcbiAgICB0aGlzLm9wdGlvbnMucG9zaXRpb25zID0ge1xuICAgICAgZHJhdzogJycsXG4gICAgICBlZGl0OiAnJyxcbiAgICAgIG9wdGlvbnM6ICcnLFxuICAgICAgY3VzdG9tOiAnJyxcbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KG1hcCk7XG4gIH0sXG4gIHJlaW5pdCgpIHtcbiAgICBjb25zdCBhZGRDb250cm9scyA9IHRoaXMuaXNWaXNpYmxlO1xuXG4gICAgdGhpcy5yZW1vdmVDb250cm9scygpO1xuICAgIHRoaXMuX2RlZmluZUJ1dHRvbnMoKTtcblxuICAgIGlmIChhZGRDb250cm9scykge1xuICAgICAgdGhpcy5hZGRDb250cm9scygpO1xuICAgIH1cbiAgfSxcbiAgaW5pdChtYXApIHtcbiAgICB0aGlzLm1hcCA9IG1hcDtcblxuICAgIHRoaXMuYnV0dG9ucyA9IHt9O1xuICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5kcmF3Q29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdkaXYnLFxuICAgICAgJ2xlYWZsZXQtcG0tdG9vbGJhciBsZWFmbGV0LXBtLWRyYXcgbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sJ1xuICAgICk7XG4gICAgdGhpcy5lZGl0Q29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdkaXYnLFxuICAgICAgJ2xlYWZsZXQtcG0tdG9vbGJhciBsZWFmbGV0LXBtLWVkaXQgbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sJ1xuICAgICk7XG4gICAgdGhpcy5vcHRpb25zQ29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZShcbiAgICAgICdkaXYnLFxuICAgICAgJ2xlYWZsZXQtcG0tdG9vbGJhciBsZWFmbGV0LXBtLW9wdGlvbnMgbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sJ1xuICAgICk7XG4gICAgdGhpcy5jdXN0b21Db250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKFxuICAgICAgJ2RpdicsXG4gICAgICAnbGVhZmxldC1wbS10b29sYmFyIGxlYWZsZXQtcG0tY3VzdG9tIGxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbCdcbiAgICApO1xuXG4gICAgdGhpcy5fZGVmaW5lQnV0dG9ucygpO1xuICB9LFxuICBfY3JlYXRlQ29udGFpbmVyKG5hbWUpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBgJHtuYW1lfUNvbnRhaW5lcmA7XG4gICAgaWYgKCF0aGlzW2NvbnRhaW5lcl0pIHtcbiAgICAgIHRoaXNbY29udGFpbmVyXSA9IEwuRG9tVXRpbC5jcmVhdGUoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBgbGVhZmxldC1wbS10b29sYmFyIGxlYWZsZXQtcG0tJHtuYW1lfSBsZWFmbGV0LWJhciBsZWFmbGV0LWNvbnRyb2xgXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1tjb250YWluZXJdO1xuICB9LFxuICBnZXRCdXR0b25zKCkge1xuICAgIHJldHVybiB0aGlzLmJ1dHRvbnM7XG4gIH0sXG5cbiAgYWRkQ29udHJvbHMob3B0aW9ucyA9IHRoaXMub3B0aW9ucykge1xuICAgIC8vIGFkZHMgYWxsIGJ1dHRvbnMgdG8gdGhlIG1hcCBzcGVjaWZpZWQgaW5zaWRlIG9wdGlvbnNcblxuICAgIC8vIG1ha2UgYnV0dG9uIHJlbmFtaW5nIGJhY2t3YXJkcyBjb21wYXRpYmxlXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmVkaXRQb2x5Z29uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5lZGl0TW9kZSA9IG9wdGlvbnMuZWRpdFBvbHlnb247XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZWxldGVMYXllciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnMucmVtb3ZhbE1vZGUgPSBvcHRpb25zLmRlbGV0ZUxheWVyO1xuICAgIH1cblxuICAgIC8vIGZpcnN0IHNldCB0aGUgb3B0aW9uc1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5hcHBseUljb25TdHlsZSgpO1xuXG4gICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgIC8vIG5vdyBzaG93IHRoZSBzcGVjaWZpZWQgYnV0dG9uc1xuICAgIHRoaXMuX3Nob3dIaWRlQnV0dG9ucygpO1xuICB9LFxuICBhcHBseUljb25TdHlsZSgpIHtcbiAgICBjb25zdCBidXR0b25zID0gdGhpcy5nZXRCdXR0b25zKCk7XG5cbiAgICBjb25zdCBpY29uQ2xhc3NlcyA9IHtcbiAgICAgIGdlb21hbkljb25zOiB7XG4gICAgICAgIGRyYXdNYXJrZXI6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLW1hcmtlcicsXG4gICAgICAgIGRyYXdQb2x5bGluZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcG9seWxpbmUnLFxuICAgICAgICBkcmF3UmVjdGFuZ2xlOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1yZWN0YW5nbGUnLFxuICAgICAgICBkcmF3UG9seWdvbjogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcG9seWdvbicsXG4gICAgICAgIGRyYXdDaXJjbGU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWNpcmNsZScsXG4gICAgICAgIGRyYXdDaXJjbGVNYXJrZXI6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWNpcmNsZS1tYXJrZXInLFxuICAgICAgICBlZGl0TW9kZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tZWRpdCcsXG4gICAgICAgIGRyYWdNb2RlOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1kcmFnJyxcbiAgICAgICAgY3V0UG9seWdvbjogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tY3V0JyxcbiAgICAgICAgcmVtb3ZhbE1vZGU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWRlbGV0ZScsXG4gICAgICAgIGRyYXdUZXh0OiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi10ZXh0JyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBidXR0b25zKSB7XG4gICAgICBjb25zdCBidXR0b24gPSBidXR0b25zW25hbWVdO1xuXG4gICAgICBMLlV0aWwuc2V0T3B0aW9ucyhidXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBpY29uQ2xhc3Nlcy5nZW9tYW5JY29uc1tuYW1lXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlQ29udHJvbHMoKSB7XG4gICAgLy8gZ3JhYiBhbGwgYnV0dG9ucyB0byBsb29wIHRocm91Z2hcbiAgICBjb25zdCBidXR0b25zID0gdGhpcy5nZXRCdXR0b25zKCk7XG5cbiAgICAvLyByZW1vdmUgYWxsIGJ1dHRvbnNcbiAgICBmb3IgKGNvbnN0IGJ0biBpbiBidXR0b25zKSB7XG4gICAgICBidXR0b25zW2J0bl0ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgfSxcbiAgdG9nZ2xlQ29udHJvbHMob3B0aW9ucyA9IHRoaXMub3B0aW9ucykge1xuICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgdGhpcy5yZW1vdmVDb250cm9scygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZENvbnRyb2xzKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX2FkZEJ1dHRvbihuYW1lLCBidXR0b24pIHtcbiAgICB0aGlzLmJ1dHRvbnNbbmFtZV0gPSBidXR0b247XG4gICAgdGhpcy5vcHRpb25zW25hbWVdID0gISF0aGlzLm9wdGlvbnNbbmFtZV0gfHwgZmFsc2U7XG5cbiAgICByZXR1cm4gdGhpcy5idXR0b25zW25hbWVdO1xuICB9LFxuICB0cmlnZ2VyQ2xpY2tPblRvZ2dsZWRCdXR0b25zKGV4Y2VwdFRoaXNCdXR0b24pIHtcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgd2hlbiAtIGUuZy4gZHJhd2luZyBtb2RlIGlzIGVuYWJsZWQgYW5kIGEgcG9zc2libGVcbiAgICAvLyBvdGhlciBhY3RpdmUgbW9kZSAobGlrZSByZW1vdmFsIHRvb2wpIGlzIGFscmVhZHkgYWN0aXZlLlxuICAgIC8vIHdlIGNhbid0IGhhdmUgdHdvIGFjdGl2ZSBtb2RlcyBiZWNhdXNlIG9mIHBvc3NpYmxlIGV2ZW50IGNvbmZsaWN0c1xuICAgIC8vIHNvLCB3ZSB0cmlnZ2VyIGEgY2xpY2sgb24gYWxsIGN1cnJlbnRseSBhY3RpdmUgKHRvZ2dsZWQpIGJ1dHRvbnNcblxuICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmJ1dHRvbnMpIHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuYnV0dG9uc1tuYW1lXTtcbiAgICAgIGlmIChcbiAgICAgICAgYnV0dG9uLl9idXR0b24uZGlzYWJsZUJ5T3RoZXJCdXR0b25zICYmXG4gICAgICAgIGJ1dHRvbiAhPT0gZXhjZXB0VGhpc0J1dHRvbiAmJlxuICAgICAgICBidXR0b24udG9nZ2xlZCgpXG4gICAgICApIHtcbiAgICAgICAgYnV0dG9uLl90cmlnZ2VyQ2xpY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHRvZ2dsZUJ1dHRvbihuYW1lLCBzdGF0dXMsIGRpc2FibGVPdGhlcnMgPSB0cnVlKSB7XG4gICAgLy8gZG9lcyBub3QgZmlyZSB0aGUgZXZlbnRzL2Z1bmN0aW9uYWxpdHkgb2YgdGhlIGJ1dHRvblxuICAgIC8vIHRoaXMganVzdCBjaGFuZ2VzIHRoZSBzdGF0ZSBhbmQgaXMgdXNlZCBpZiBhIGZ1bmN0aW9uYWxpdHkgKGxpa2UgRHJhdylcbiAgICAvLyBpcyBlbmFibGVkIG1hbnVhbGx5IHZpYSBzY3JpcHRcblxuICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggYnV0dG9uIHJlbmFtZVxuICAgIGlmIChuYW1lID09PSAnZWRpdFBvbHlnb24nKSB7XG4gICAgICBuYW1lID0gJ2VkaXRNb2RlJztcbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdkZWxldGVMYXllcicpIHtcbiAgICAgIG5hbWUgPSAncmVtb3ZhbE1vZGUnO1xuICAgIH1cblxuICAgIC8vIGFzIHNvbWUgbW9kZSBnb3QgZW5hYmxlZCwgd2Ugc3RpbGwgaGF2ZSB0byB0cmlnZ2VyIHRoZSBjbGljayBvbiB0aGUgb3RoZXIgYnV0dG9uc1xuICAgIC8vIHRvIGRpc2FibGUgdGhlaXIgbW9kZVxuICAgIGlmIChkaXNhYmxlT3RoZXJzKSB7XG4gICAgICB0aGlzLnRyaWdnZXJDbGlja09uVG9nZ2xlZEJ1dHRvbnModGhpcy5idXR0b25zW25hbWVdKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYnV0dG9uc1tuYW1lXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBub3cgdG9nZ2xlIHRoZSBzdGF0ZSBvZiB0aGUgYnV0dG9uXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uc1tuYW1lXS50b2dnbGUoc3RhdHVzKTtcbiAgfSxcbiAgX2RlZmluZUJ1dHRvbnMoKSB7XG4gICAgLy8gc29tZSBidXR0b25zIGFyZSBzdGlsbCBpbiB0aGVpciByZXNwZWN0aXZlIGNsYXNzZXMsIGxpa2UgTC5QTS5EcmF3LlBvbHlnb25cbiAgICBjb25zdCBkcmF3TWFya2VyQnV0dG9uID0ge1xuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1tYXJrZXInLFxuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd01hcmtlckJ1dHRvbicpLFxuICAgICAganNDbGFzczogJ01hcmtlcicsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdQb2x5QnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd1BvbHlCdXR0b24nKSxcbiAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcG9seWdvbicsXG4gICAgICBqc0NsYXNzOiAnUG9seWdvbicsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnZmluaXNoJywgJ3JlbW92ZUxhc3RWZXJ0ZXgnLCAnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdMaW5lQnV0dG9uID0ge1xuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1wb2x5bGluZScsXG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmF3TGluZUJ1dHRvbicpLFxuICAgICAganNDbGFzczogJ0xpbmUnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoZSwgY3R4KSA9PiB7XG4gICAgICAgIC8vIHRvZ2dsZSBkcmF3aW5nIG1vZGVcbiAgICAgICAgdGhpcy5tYXAucG0uRHJhd1tjdHguYnV0dG9uLl9idXR0b24uanNDbGFzc10udG9nZ2xlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICBhY3Rpb25zOiBbJ2ZpbmlzaCcsICdyZW1vdmVMYXN0VmVydGV4JywgJ2NhbmNlbCddLFxuICAgIH07XG5cbiAgICBjb25zdCBkcmF3Q2lyY2xlQnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd0NpcmNsZUJ1dHRvbicpLFxuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1jaXJjbGUnLFxuICAgICAganNDbGFzczogJ0NpcmNsZScsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdDaXJjbGVNYXJrZXJCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmF3Q2lyY2xlTWFya2VyQnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWNpcmNsZS1tYXJrZXInLFxuICAgICAganNDbGFzczogJ0NpcmNsZU1hcmtlcicsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdSZWN0QnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZHJhd1JlY3RCdXR0b24nKSxcbiAgICAgIGNsYXNzTmFtZTogJ2NvbnRyb2wtaWNvbiBsZWFmbGV0LXBtLWljb24tcmVjdGFuZ2xlJyxcbiAgICAgIGpzQ2xhc3M6ICdSZWN0YW5nbGUnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoZSwgY3R4KSA9PiB7XG4gICAgICAgIC8vIHRvZ2dsZSBkcmF3aW5nIG1vZGVcbiAgICAgICAgdGhpcy5tYXAucG0uRHJhd1tjdHguYnV0dG9uLl9idXR0b24uanNDbGFzc10udG9nZ2xlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICBhY3Rpb25zOiBbJ2NhbmNlbCddLFxuICAgIH07XG5cbiAgICBjb25zdCBlZGl0QnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuZWRpdEJ1dHRvbicpLFxuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1lZGl0JyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKCkgPT4ge1xuICAgICAgICB0aGlzLm1hcC5wbS50b2dnbGVHbG9iYWxFZGl0TW9kZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgdG9vbDogJ2VkaXQnLFxuICAgICAgYWN0aW9uczogWydmaW5pc2hNb2RlJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYWdCdXR0b24gPSB7XG4gICAgICB0aXRsZTogZ2V0VHJhbnNsYXRpb24oJ2J1dHRvblRpdGxlcy5kcmFnQnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWRyYWcnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubWFwLnBtLnRvZ2dsZUdsb2JhbERyYWdNb2RlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICB0b29sOiAnZWRpdCcsXG4gICAgICBhY3Rpb25zOiBbJ2ZpbmlzaE1vZGUnXSxcbiAgICB9O1xuXG4gICAgY29uc3QgY3V0QnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMuY3V0QnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLWN1dCcsXG4gICAgICBqc0NsYXNzOiAnQ3V0JyxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHt9LFxuICAgICAgYWZ0ZXJDbGljazogKGUsIGN0eCkgPT4ge1xuICAgICAgICAvLyBlbmFibGUgcG9seWdvbiBkcmF3aW5nIG1vZGUgd2l0aG91dCBzbmFwXG4gICAgICAgIHRoaXMubWFwLnBtLkRyYXdbY3R4LmJ1dHRvbi5fYnV0dG9uLmpzQ2xhc3NdLnRvZ2dsZSh7XG4gICAgICAgICAgc25hcHBhYmxlOiB0cnVlLFxuICAgICAgICAgIGN1cnNvck1hcmtlcjogdHJ1ZSxcbiAgICAgICAgICBhbGxvd1NlbGZJbnRlcnNlY3Rpb246IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIHRvb2w6ICdlZGl0JyxcbiAgICAgIGFjdGlvbnM6IFsnZmluaXNoJywgJ3JlbW92ZUxhc3RWZXJ0ZXgnLCAnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHtcbiAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYnV0dG9uVGl0bGVzLmRlbGV0ZUJ1dHRvbicpLFxuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi1kZWxldGUnLFxuICAgICAgb25DbGljazogKCkgPT4ge30sXG4gICAgICBhZnRlckNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubWFwLnBtLnRvZ2dsZUdsb2JhbFJlbW92YWxNb2RlKCk7XG4gICAgICB9LFxuICAgICAgZG9Ub2dnbGU6IHRydWUsXG4gICAgICB0b2dnbGVTdGF0dXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU90aGVyQnV0dG9uczogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdGlvbnMucG9zaXRpb24sXG4gICAgICB0b29sOiAnZWRpdCcsXG4gICAgICBhY3Rpb25zOiBbJ2ZpbmlzaE1vZGUnXSxcbiAgICB9O1xuXG4gICAgY29uc3Qgcm90YXRlQnV0dG9uID0ge1xuICAgICAgdGl0bGU6IGdldFRyYW5zbGF0aW9uKCdidXR0b25UaXRsZXMucm90YXRlQnV0dG9uJyksXG4gICAgICBjbGFzc05hbWU6ICdjb250cm9sLWljb24gbGVhZmxldC1wbS1pY29uLXJvdGF0ZScsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5tYXAucG0udG9nZ2xlR2xvYmFsUm90YXRlTW9kZSgpO1xuICAgICAgfSxcbiAgICAgIGRvVG9nZ2xlOiB0cnVlLFxuICAgICAgdG9nZ2xlU3RhdHVzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdGhlckJ1dHRvbnM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgdG9vbDogJ2VkaXQnLFxuICAgICAgYWN0aW9uczogWydmaW5pc2hNb2RlJ10sXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdUZXh0QnV0dG9uID0ge1xuICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1pY29uIGxlYWZsZXQtcG0taWNvbi10ZXh0JyxcbiAgICAgIHRpdGxlOiBnZXRUcmFuc2xhdGlvbignYnV0dG9uVGl0bGVzLmRyYXdUZXh0QnV0dG9uJyksXG4gICAgICBqc0NsYXNzOiAnVGV4dCcsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7fSxcbiAgICAgIGFmdGVyQ2xpY2s6IChlLCBjdHgpID0+IHtcbiAgICAgICAgLy8gdG9nZ2xlIGRyYXdpbmcgbW9kZVxuICAgICAgICB0aGlzLm1hcC5wbS5EcmF3W2N0eC5idXR0b24uX2J1dHRvbi5qc0NsYXNzXS50b2dnbGUoKTtcbiAgICAgIH0sXG4gICAgICBkb1RvZ2dsZTogdHJ1ZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiB0cnVlLFxuICAgICAgcG9zaXRpb246IHRoaXMub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIGFjdGlvbnM6IFsnY2FuY2VsJ10sXG4gICAgfTtcblxuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd01hcmtlcicsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd01hcmtlckJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd1BvbHlsaW5lJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihkcmF3TGluZUJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd1JlY3RhbmdsZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd1JlY3RCdXR0b24pKTtcbiAgICB0aGlzLl9hZGRCdXR0b24oJ2RyYXdQb2x5Z29uJywgbmV3IEwuQ29udHJvbC5QTUJ1dHRvbihkcmF3UG9seUJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd0NpcmNsZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd0NpcmNsZUJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbihcbiAgICAgICdkcmF3Q2lyY2xlTWFya2VyJyxcbiAgICAgIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZHJhd0NpcmNsZU1hcmtlckJ1dHRvbilcbiAgICApO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhd1RleHQnLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGRyYXdUZXh0QnV0dG9uKSk7XG4gICAgdGhpcy5fYWRkQnV0dG9uKCdlZGl0TW9kZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24oZWRpdEJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbignZHJhZ01vZGUnLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGRyYWdCdXR0b24pKTtcbiAgICB0aGlzLl9hZGRCdXR0b24oJ2N1dFBvbHlnb24nLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGN1dEJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbigncmVtb3ZhbE1vZGUnLCBuZXcgTC5Db250cm9sLlBNQnV0dG9uKGRlbGV0ZUJ1dHRvbikpO1xuICAgIHRoaXMuX2FkZEJ1dHRvbigncm90YXRlTW9kZScsIG5ldyBMLkNvbnRyb2wuUE1CdXR0b24ocm90YXRlQnV0dG9uKSk7XG4gIH0sXG5cbiAgX3Nob3dIaWRlQnV0dG9ucygpIHtcbiAgICAvLyBpZiBUb29sYmFyIGlzIG5vdCB2aXNpYmxlLCB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSBidXR0b24gcG9zaXRpb25zXG4gICAgaWYgKCF0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBhbGwgYnV0dG9ucywgdGhhdCdzIGJlY2F1c2UgdGhlIFRvb2xiYXIgY2FuIGJlIGFkZGVkIGFnYWluIHdpdGhcbiAgICAvLyBkaWZmZXJlbnQgb3B0aW9ucyBzbyBpdCdzIGJhc2ljYWxseSBhIHJlc2V0IGFuZCBhZGQgYWdhaW5cbiAgICB0aGlzLnJlbW92ZUNvbnRyb2xzKCk7XG4gICAgLy8gd2UgbmVlZCB0byBzZXQgaXNWaXNpYmxlID0gdHJ1ZSBhZ2FpbiwgYmVjYXVzZSByZW1vdmVDb250cm9scygpIHNldCBpdCB0byBmYWxzZVxuICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcblxuICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLmdldEJ1dHRvbnMoKTtcbiAgICBsZXQgaWdub3JlQnRucyA9IFtdO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kcmF3Q29udHJvbHMgPT09IGZhbHNlKSB7XG4gICAgICBpZ25vcmVCdG5zID0gaWdub3JlQnRucy5jb25jYXQoXG4gICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcigoYnRuKSA9PiAhYnV0dG9uc1tidG5dLl9idXR0b24udG9vbClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZWRpdENvbnRyb2xzID09PSBmYWxzZSkge1xuICAgICAgaWdub3JlQnRucyA9IGlnbm9yZUJ0bnMuY29uY2F0KFxuICAgICAgICBPYmplY3Qua2V5cyhidXR0b25zKS5maWx0ZXIoXG4gICAgICAgICAgKGJ0bikgPT4gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbCA9PT0gJ2VkaXQnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMub3B0aW9uc0NvbnRyb2xzID09PSBmYWxzZSkge1xuICAgICAgaWdub3JlQnRucyA9IGlnbm9yZUJ0bnMuY29uY2F0KFxuICAgICAgICBPYmplY3Qua2V5cyhidXR0b25zKS5maWx0ZXIoXG4gICAgICAgICAgKGJ0bikgPT4gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbCA9PT0gJ29wdGlvbnMnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3VzdG9tQ29udHJvbHMgPT09IGZhbHNlKSB7XG4gICAgICBpZ25vcmVCdG5zID0gaWdub3JlQnRucy5jb25jYXQoXG4gICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcihcbiAgICAgICAgICAoYnRuKSA9PiBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sID09PSAnY3VzdG9tJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgYnRuIGluIGJ1dHRvbnMpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnNbYnRuXSAmJiBpZ25vcmVCdG5zLmluZGV4T2YoYnRuKSA9PT0gLTEpIHtcbiAgICAgICAgLy8gaWYgb3B0aW9ucyBzYXkgdGhlIGJ1dHRvbiBzaG91bGQgYmUgdmlzaWJsZSwgYWRkIGl0IHRvIHRoZSBtYXBcbiAgICAgICAgbGV0IGJsb2NrID0gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbDtcbiAgICAgICAgaWYgKCFibG9jaykge1xuICAgICAgICAgIC8vIHVuZGVmaW5lZCBpcyB0aGUgZHJhdyBibG9ja1xuICAgICAgICAgIGJsb2NrID0gJ2RyYXcnO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbnNbYnRuXS5zZXRQb3NpdGlvbih0aGlzLl9nZXRCdG5Qb3NpdGlvbihibG9jaykpO1xuICAgICAgICBidXR0b25zW2J0bl0uYWRkVG8odGhpcy5tYXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgX2dldEJ0blBvc2l0aW9uKGJsb2NrKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbnMgJiYgdGhpcy5vcHRpb25zLnBvc2l0aW9uc1tibG9ja11cbiAgICAgID8gdGhpcy5vcHRpb25zLnBvc2l0aW9uc1tibG9ja11cbiAgICAgIDogdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xuICB9LFxuICBzZXRCbG9ja1Bvc2l0aW9uKGJsb2NrLCBwb3NpdGlvbikge1xuICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbnNbYmxvY2tdID0gcG9zaXRpb247XG4gICAgdGhpcy5fc2hvd0hpZGVCdXR0b25zKCk7XG4gICAgdGhpcy5jaGFuZ2VDb250cm9sT3JkZXIoKTtcbiAgfSxcbiAgZ2V0QmxvY2tQb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbnM7XG4gIH0sXG4gIGNvcHlEcmF3Q29udHJvbChjb3B5SW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0J1dHRvbiBoYXMgbm8gbmFtZScpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBpZiBvbmx5IHRoZSBuYW1lIGlzIHBhc3NlZCBhbmQgbm8gb3B0aW9ucyBvYmplY3RcbiAgICAgIG9wdGlvbnMgPSB7IG5hbWU6IG9wdGlvbnMgfTtcbiAgICB9XG5cbiAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuX2J0bk5hbWVNYXBwaW5nKGNvcHlJbnN0YW5jZSk7XG5cbiAgICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQnV0dG9uIGhhcyBubyBuYW1lJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYnV0dG9uc1tvcHRpb25zLm5hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCdXR0b24gd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9XG4gICAgY29uc3QgZHJhd0luc3RhbmNlID0gdGhpcy5tYXAucG0uRHJhdy5jcmVhdGVOZXdEcmF3SW5zdGFuY2UoXG4gICAgICBvcHRpb25zLm5hbWUsXG4gICAgICBpbnN0YW5jZVxuICAgICk7XG5cbiAgICBjb25zdCBidG4gPSB0aGlzLmJ1dHRvbnNbaW5zdGFuY2VdLl9idXR0b247XG4gICAgb3B0aW9ucyA9IHsgLi4uYnRuLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgY29udHJvbCA9IHRoaXMuY3JlYXRlQ3VzdG9tQ29udHJvbChvcHRpb25zKTtcbiAgICByZXR1cm4geyBkcmF3SW5zdGFuY2UsIGNvbnRyb2wgfTtcbiAgfSxcbiAgY3JlYXRlQ3VzdG9tQ29udHJvbChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0J1dHRvbiBoYXMgbm8gbmFtZScpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmJ1dHRvbnNbb3B0aW9ucy5uYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQnV0dG9uIHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5vbkNsaWNrKSB7XG4gICAgICBvcHRpb25zLm9uQ2xpY2sgPSAoKSA9PiB7fTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmFmdGVyQ2xpY2spIHtcbiAgICAgIG9wdGlvbnMuYWZ0ZXJDbGljayA9ICgpID0+IHt9O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy50b2dnbGUgIT09IGZhbHNlKSB7XG4gICAgICBvcHRpb25zLnRvZ2dsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYmxvY2spIHtcbiAgICAgIG9wdGlvbnMuYmxvY2sgPSBvcHRpb25zLmJsb2NrLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5ibG9jayB8fCBvcHRpb25zLmJsb2NrID09PSAnZHJhdycpIHtcbiAgICAgIG9wdGlvbnMuYmxvY2sgPSAnJztcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuY2xhc3NOYW1lKSB7XG4gICAgICBvcHRpb25zLmNsYXNzTmFtZSA9ICdjb250cm9sLWljb24nO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jbGFzc05hbWUuaW5kZXhPZignY29udHJvbC1pY29uJykgPT09IC0xKSB7XG4gICAgICBvcHRpb25zLmNsYXNzTmFtZSA9IGBjb250cm9sLWljb24gJHtvcHRpb25zLmNsYXNzTmFtZX1gO1xuICAgIH1cblxuICAgIGNvbnN0IF9vcHRpb25zID0ge1xuICAgICAgdG9vbDogb3B0aW9ucy5ibG9jayxcbiAgICAgIGNsYXNzTmFtZTogb3B0aW9ucy5jbGFzc05hbWUsXG4gICAgICB0aXRsZTogb3B0aW9ucy50aXRsZSB8fCAnJyxcbiAgICAgIGpzQ2xhc3M6IG9wdGlvbnMubmFtZSxcbiAgICAgIG9uQ2xpY2s6IG9wdGlvbnMub25DbGljayxcbiAgICAgIGFmdGVyQ2xpY2s6IG9wdGlvbnMuYWZ0ZXJDbGljayxcbiAgICAgIGRvVG9nZ2xlOiBvcHRpb25zLnRvZ2dsZSxcbiAgICAgIHRvZ2dsZVN0YXR1czogZmFsc2UsXG4gICAgICBkaXNhYmxlT3RoZXJCdXR0b25zOiBvcHRpb25zLmRpc2FibGVPdGhlckJ1dHRvbnMgPz8gdHJ1ZSxcbiAgICAgIGRpc2FibGVCeU90aGVyQnV0dG9uczogb3B0aW9ucy5kaXNhYmxlQnlPdGhlckJ1dHRvbnMgPz8gdHJ1ZSxcbiAgICAgIGNzc1RvZ2dsZTogb3B0aW9ucy50b2dnbGUsXG4gICAgICBwb3NpdGlvbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uLFxuICAgICAgYWN0aW9uczogb3B0aW9ucy5hY3Rpb25zIHx8IFtdLFxuICAgICAgZGlzYWJsZWQ6ICEhb3B0aW9ucy5kaXNhYmxlZCxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMub3B0aW9uc1tvcHRpb25zLm5hbWVdICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5vcHRpb25zW29wdGlvbnMubmFtZV0gPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRyb2wgPSB0aGlzLl9hZGRCdXR0b24oXG4gICAgICBvcHRpb25zLm5hbWUsXG4gICAgICBuZXcgTC5Db250cm9sLlBNQnV0dG9uKF9vcHRpb25zKVxuICAgICk7XG4gICAgdGhpcy5jaGFuZ2VDb250cm9sT3JkZXIoKTtcbiAgICByZXR1cm4gY29udHJvbDtcbiAgfSxcbiAgY29udHJvbEV4aXN0cyhuYW1lKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5nZXRCdXR0b24obmFtZSkpO1xuICB9LFxuICBnZXRCdXR0b24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLmdldEJ1dHRvbnMoKVtuYW1lXTtcbiAgfSxcbiAgZ2V0QnV0dG9uc0luQmxvY2sobmFtZSkge1xuICAgIGNvbnN0IGJ1dHRvbnNJbkJsb2NrID0ge307XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIGZvciAoY29uc3QgYnV0dG9uTmFtZSBpbiB0aGlzLmdldEJ1dHRvbnMoKSkge1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLmdldEJ1dHRvbnMoKVtidXR0b25OYW1lXTtcbiAgICAgICAgLy8gZHJhdyBjb250cm9scyBkb2Vzbid0IGhhdmUgYSBibG9ja1xuICAgICAgICBpZiAoXG4gICAgICAgICAgYnV0dG9uLl9idXR0b24udG9vbCA9PT0gbmFtZSB8fFxuICAgICAgICAgIChuYW1lID09PSAnZHJhdycgJiYgIWJ1dHRvbi5fYnV0dG9uLnRvb2wpXG4gICAgICAgICkge1xuICAgICAgICAgIGJ1dHRvbnNJbkJsb2NrW2J1dHRvbk5hbWVdID0gYnV0dG9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBidXR0b25zSW5CbG9jaztcbiAgfSxcbiAgY2hhbmdlQ29udHJvbE9yZGVyKG9yZGVyID0gW10pIHtcbiAgICBjb25zdCBzaGFwZU1hcHBpbmcgPSB0aGlzLl9zaGFwZU1hcHBpbmcoKTtcblxuICAgIGNvbnN0IF9vcmRlciA9IFtdO1xuICAgIG9yZGVyLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICBpZiAoc2hhcGVNYXBwaW5nW3NoYXBlXSkge1xuICAgICAgICBfb3JkZXIucHVzaChzaGFwZU1hcHBpbmdbc2hhcGVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9vcmRlci5wdXNoKHNoYXBlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLmdldEJ1dHRvbnMoKTtcblxuICAgIC8vIFRoaXMgc3RlcHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgYSBuZXcgT2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b25zIGluIHRoZSBjb3JyZWN0IHNvcnRlZCBvcmRlci5cbiAgICBjb25zdCBuZXdidG5vcmRlciA9IHt9O1xuICAgIF9vcmRlci5mb3JFYWNoKChjb250cm9sKSA9PiB7XG4gICAgICBpZiAoYnV0dG9uc1tjb250cm9sXSkge1xuICAgICAgICBuZXdidG5vcmRlcltjb250cm9sXSA9IGJ1dHRvbnNbY29udHJvbF07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBkcmF3QnRucyA9IE9iamVjdC5rZXlzKGJ1dHRvbnMpLmZpbHRlcihcbiAgICAgIChidG4pID0+ICFidXR0b25zW2J0bl0uX2J1dHRvbi50b29sXG4gICAgKTtcbiAgICBkcmF3QnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGVkaXRCdG5zID0gT2JqZWN0LmtleXMoYnV0dG9ucykuZmlsdGVyKFxuICAgICAgKGJ0bikgPT4gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbCA9PT0gJ2VkaXQnXG4gICAgKTtcbiAgICBlZGl0QnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG9wdGlvbnNCdG5zID0gT2JqZWN0LmtleXMoYnV0dG9ucykuZmlsdGVyKFxuICAgICAgKGJ0bikgPT4gYnV0dG9uc1tidG5dLl9idXR0b24udG9vbCA9PT0gJ29wdGlvbnMnXG4gICAgKTtcbiAgICBvcHRpb25zQnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGN1c3RvbUJ0bnMgPSBPYmplY3Qua2V5cyhidXR0b25zKS5maWx0ZXIoXG4gICAgICAoYnRuKSA9PiBidXR0b25zW2J0bl0uX2J1dHRvbi50b29sID09PSAnY3VzdG9tJ1xuICAgICk7XG4gICAgY3VzdG9tQnRucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGlmIChfb3JkZXIuaW5kZXhPZihidG4pID09PSAtMSkge1xuICAgICAgICBuZXdidG5vcmRlcltidG5dID0gYnV0dG9uc1tidG5dO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFRvIGFkZCBhbGwgb3RoZXIgYnV0dG9ucyB0aGV5IGFyZSBub3QgaW4gYSBjb250YWluZXIgZnJvbSBhYm92ZSAobWF5YmUgYWRkZWQgbWFudWFsbHkgYnkgYSBkZXZlbG9wZXIpXG4gICAgT2JqZWN0LmtleXMoYnV0dG9ucykuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBpZiAoX29yZGVyLmluZGV4T2YoYnRuKSA9PT0gLTEpIHtcbiAgICAgICAgbmV3YnRub3JkZXJbYnRuXSA9IGJ1dHRvbnNbYnRuXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMubWFwLnBtLlRvb2xiYXIuYnV0dG9ucyA9IG5ld2J0bm9yZGVyO1xuICAgIHRoaXMuX3Nob3dIaWRlQnV0dG9ucygpO1xuICB9LFxuICBnZXRDb250cm9sT3JkZXIoKSB7XG4gICAgY29uc3QgYnV0dG9ucyA9IHRoaXMuZ2V0QnV0dG9ucygpO1xuICAgIGNvbnN0IG9yZGVyID0gW107XG4gICAgZm9yIChjb25zdCBidG4gaW4gYnV0dG9ucykge1xuICAgICAgb3JkZXIucHVzaChidG4pO1xuICAgIH1cbiAgICByZXR1cm4gb3JkZXI7XG4gIH0sXG4gIGNoYW5nZUFjdGlvbnNPZkNvbnRyb2wobmFtZSwgYWN0aW9ucykge1xuICAgIGNvbnN0IGJ0bk5hbWUgPSB0aGlzLl9idG5OYW1lTWFwcGluZyhuYW1lKTtcblxuICAgIGlmICghYnRuTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbmFtZSBwYXNzZWQnKTtcbiAgICB9XG4gICAgaWYgKCFhY3Rpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBhY3Rpb25zIHBhc3NlZCcpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5idXR0b25zW2J0bk5hbWVdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCdXR0b24gd2l0aCB0aGlzIG5hbWUgbm90IGV4aXN0cycpO1xuICAgIH1cbiAgICB0aGlzLmJ1dHRvbnNbYnRuTmFtZV0uX2J1dHRvbi5hY3Rpb25zID0gYWN0aW9ucztcbiAgICB0aGlzLmNoYW5nZUNvbnRyb2xPcmRlcigpO1xuICB9LFxuICBzZXRCdXR0b25EaXNhYmxlZChuYW1lLCBzdGF0ZSkge1xuICAgIGNvbnN0IGJ0bk5hbWUgPSB0aGlzLl9idG5OYW1lTWFwcGluZyhuYW1lKTtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIHRoaXMuYnV0dG9uc1tidG5OYW1lXS5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnV0dG9uc1tidG5OYW1lXS5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9zaGFwZU1hcHBpbmcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIE1hcmtlcjogJ2RyYXdNYXJrZXInLFxuICAgICAgQ2lyY2xlOiAnZHJhd0NpcmNsZScsXG4gICAgICBQb2x5Z29uOiAnZHJhd1BvbHlnb24nLFxuICAgICAgUmVjdGFuZ2xlOiAnZHJhd1JlY3RhbmdsZScsXG4gICAgICBQb2x5bGluZTogJ2RyYXdQb2x5bGluZScsXG4gICAgICBMaW5lOiAnZHJhd1BvbHlsaW5lJyxcbiAgICAgIENpcmNsZU1hcmtlcjogJ2RyYXdDaXJjbGVNYXJrZXInLFxuICAgICAgRWRpdDogJ2VkaXRNb2RlJyxcbiAgICAgIERyYWc6ICdkcmFnTW9kZScsXG4gICAgICBDdXQ6ICdjdXRQb2x5Z29uJyxcbiAgICAgIFJlbW92YWw6ICdyZW1vdmFsTW9kZScsXG4gICAgICBSb3RhdGU6ICdyb3RhdGVNb2RlJyxcbiAgICAgIFRleHQ6ICdkcmF3VGV4dCcsXG4gICAgfTtcbiAgfSxcbiAgX2J0bk5hbWVNYXBwaW5nKG5hbWUpIHtcbiAgICBjb25zdCBzaGFwZU1hcHBpbmcgPSB0aGlzLl9zaGFwZU1hcHBpbmcoKTtcbiAgICByZXR1cm4gc2hhcGVNYXBwaW5nW25hbWVdID8gc2hhcGVNYXBwaW5nW25hbWVdIDogbmFtZTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBUb29sYmFyO1xuIiwgImltcG9ydCBtZXJnZSBmcm9tICdsb2Rhc2gvbWVyZ2UnO1xuaW1wb3J0IFNuYXBNaXhpbiBmcm9tICcuLi9NaXhpbnMvU25hcHBpbmcnO1xuaW1wb3J0IEV2ZW50TWl4aW4gZnJvbSAnLi4vTWl4aW5zL0V2ZW50cyc7XG5cbmNvbnN0IERyYXcgPSBMLkNsYXNzLmV4dGVuZCh7XG4gIGluY2x1ZGVzOiBbU25hcE1peGluLCBFdmVudE1peGluXSxcbiAgb3B0aW9uczoge1xuICAgIHNuYXBwYWJsZTogdHJ1ZSwgLy8gVE9ETzogbmV4dCBtYWpvciBSZWxlYXNlLCByZW5hbWUgaXQgdG8gYWxsb3dTbmFwcGluZ1xuICAgIHNuYXBEaXN0YW5jZTogMjAsXG4gICAgc25hcE1pZGRsZTogZmFsc2UsXG4gICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiB0cnVlLFxuICAgIHRvb2x0aXBzOiB0cnVlLFxuICAgIHRlbXBsaW5lU3R5bGU6IHt9LFxuICAgIGhpbnRsaW5lU3R5bGU6IHtcbiAgICAgIGNvbG9yOiAnIzMzODhmZicsXG4gICAgICBkYXNoQXJyYXk6ICc1LDUnLFxuICAgIH0sXG4gICAgcGF0aE9wdGlvbnM6IG51bGwsXG4gICAgY3Vyc29yTWFya2VyOiB0cnVlLFxuICAgIGZpbmlzaE9uOiBudWxsLFxuICAgIG1hcmtlclN0eWxlOiB7XG4gICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICBpY29uOiBMLmljb24oKSxcbiAgICB9LFxuICAgIGhpZGVNaWRkbGVNYXJrZXJzOiBmYWxzZSxcbiAgICBtaW5SYWRpdXNDaXJjbGU6IG51bGwsXG4gICAgbWF4UmFkaXVzQ2lyY2xlOiBudWxsLFxuICAgIG1pblJhZGl1c0NpcmNsZU1hcmtlcjogbnVsbCxcbiAgICBtYXhSYWRpdXNDaXJjbGVNYXJrZXI6IG51bGwsXG4gICAgcmVzaXplYWJsZUNpcmNsZU1hcmtlcjogZmFsc2UsXG4gICAgcmVzaXphYmxlQ2lyY2xlOiB0cnVlLFxuICAgIG1hcmtlckVkaXRhYmxlOiB0cnVlLFxuICAgIGNvbnRpbnVlRHJhd2luZzogZmFsc2UsXG4gICAgc25hcFNlZ21lbnQ6IHRydWUsXG4gICAgcmVxdWlyZVNuYXBUb0ZpbmlzaDogZmFsc2UsXG4gICAgcmVjdGFuZ2xlQW5nbGU6IDAsXG4gIH0sXG4gIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuc2V0U3R5bGUodGhpcy5vcHRpb25zKTtcbiAgfSxcbiAgc2V0U3R5bGUoKSB7fSxcbiAgZ2V0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xuICB9LFxuICBpbml0aWFsaXplKG1hcCkge1xuICAgIC8vIE92ZXJ3cml0aW5nIHRoZSBkZWZhdWx0IHRvb2x0aXBBbmNob3Igb2YgdGhlIGRlZmF1bHQgTWFya2VyIEljb24sIGJlY2F1c2UgdGhlIHRvb2x0aXAgZnVuY3Rpb25hbGl0eSB3YXMgdXBkYXRlZCBidXQgbm90IHRoZSBhbmNob3IgaW4gdGhlIEljb25cbiAgICAvLyBJc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy83MzAyIC0gTGVhZmxldCB2MS43LjFcbiAgICBjb25zdCBkZWZhdWx0SWNvbiA9IG5ldyBMLkljb24uRGVmYXVsdCgpO1xuICAgIGRlZmF1bHRJY29uLm9wdGlvbnMudG9vbHRpcEFuY2hvciA9IFswLCAwXTtcbiAgICB0aGlzLm9wdGlvbnMubWFya2VyU3R5bGUuaWNvbiA9IGRlZmF1bHRJY29uO1xuXG4gICAgLy8gc2F2ZSB0aGUgbWFwXG4gICAgdGhpcy5fbWFwID0gbWFwO1xuXG4gICAgLy8gZGVmaW5lIGFsbCBwb3NzaWJsZSBzaGFwZXMgdGhhdCBjYW4gYmUgZHJhd25cbiAgICB0aGlzLnNoYXBlcyA9IFtcbiAgICAgICdNYXJrZXInLFxuICAgICAgJ0NpcmNsZU1hcmtlcicsXG4gICAgICAnTGluZScsXG4gICAgICAnUG9seWdvbicsXG4gICAgICAnUmVjdGFuZ2xlJyxcbiAgICAgICdDaXJjbGUnLFxuICAgICAgJ0N1dCcsXG4gICAgICAnVGV4dCcsXG4gICAgXTtcblxuICAgIC8vIGluaXRpYXRlIGRyYXdpbmcgY2xhc3MgZm9yIG91ciBzaGFwZXNcbiAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgdGhpc1tzaGFwZV0gPSBuZXcgTC5QTS5EcmF3W3NoYXBlXSh0aGlzLl9tYXApO1xuICAgIH0pO1xuXG4gICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgd2l0aCB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gICAgdGhpcy5NYXJrZXIuc2V0T3B0aW9ucyh7IGNvbnRpbnVlRHJhd2luZzogdHJ1ZSB9KTtcbiAgICB0aGlzLkNpcmNsZU1hcmtlci5zZXRPcHRpb25zKHsgY29udGludWVEcmF3aW5nOiB0cnVlIH0pO1xuICB9LFxuICBzZXRQYXRoT3B0aW9ucyhvcHRpb25zLCBtZXJnZU9wdGlvbnMgPSBmYWxzZSkge1xuICAgIGlmICghbWVyZ2VPcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMgPSBtZXJnZSh0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgZ2V0U2hhcGVzKCkge1xuICAgIC8vIGlmIHNvbWVib2R5IHdhbnRzIHRvIGtub3cgd2hhdCBzaGFwZXMgYXJlIGF2YWlsYWJsZVxuICAgIHJldHVybiB0aGlzLnNoYXBlcztcbiAgfSxcbiAgZ2V0U2hhcGUoKSB7XG4gICAgLy8gcmV0dXJuIHRoZSBzaGFwZSBvZiB0aGUgY3VycmVudCBkcmF3aW5nIGxheWVyXG4gICAgcmV0dXJuIHRoaXMuX3NoYXBlO1xuICB9LFxuICBlbmFibGUoc2hhcGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXNoYXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBFcnJvcjogUGxlYXNlIHBhc3MgYSBzaGFwZSBhcyBhIHBhcmFtZXRlci4gUG9zc2libGUgc2hhcGVzIGFyZTogJHt0aGlzLmdldFNoYXBlcygpLmpvaW4oXG4gICAgICAgICAgJywnXG4gICAgICAgICl9YFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmcgZm9yIGFsbCBzaGFwZXNcbiAgICB0aGlzLmRpc2FibGUoKTtcblxuICAgIC8vIGVuYWJsZSBkcmF3IGZvciBhIHNoYXBlXG4gICAgdGhpc1tzaGFwZV0uZW5hYmxlKG9wdGlvbnMpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIHRoZXJlIGNhbiBvbmx5IGJlIG9uZSBkcmF3aW5nIG1vZGUgYWN0aXZlIGF0IGEgdGltZSBvbiBhIG1hcFxuICAgIC8vIHNvIGl0IGRvZXNuJ3QgbWF0dGVyIHdoaWNoIG9uZSBzaG91bGQgYmUgZGlzYWJsZWQuXG4gICAgLy8ganVzdCBkaXNhYmxlIGFsbCBvZiB0aGVtXG4gICAgdGhpcy5zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHtcbiAgICAgIHRoaXNbc2hhcGVdLmRpc2FibGUoKTtcbiAgICB9KTtcbiAgfSxcbiAgYWRkQ29udHJvbHMoKSB7XG4gICAgLy8gYWRkIGNvbnRyb2wgYnV0dG9ucyBmb3Igb3VyIHNoYXBlc1xuICAgIHRoaXMuc2hhcGVzLmZvckVhY2goKHNoYXBlKSA9PiB7XG4gICAgICB0aGlzW3NoYXBlXS5hZGRCdXR0b24oKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0QWN0aXZlU2hhcGUoKSB7XG4gICAgLy8gcmV0dXJucyB0aGUgYWN0aXZlIHNoYXBlXG4gICAgbGV0IGVuYWJsZWRTaGFwZTtcbiAgICB0aGlzLnNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgaWYgKHRoaXNbc2hhcGVdLl9lbmFibGVkKSB7XG4gICAgICAgIGVuYWJsZWRTaGFwZSA9IHNoYXBlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlbmFibGVkU2hhcGU7XG4gIH0sXG4gIF9zZXRHbG9iYWxEcmF3TW9kZSgpIHtcbiAgICAvLyBleHRlbmRlZCB0byBhbGwgUE0uRHJhdyBzaGFwZXNcbiAgICBpZiAodGhpcy5fc2hhcGUgPT09ICdDdXQnKSB7XG4gICAgICB0aGlzLl9maXJlR2xvYmFsQ3V0TW9kZVRvZ2dsZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZmlyZUdsb2JhbERyYXdNb2RlVG9nZ2xlZCgpO1xuICAgIH1cblxuICAgIGNvbnN0IGxheWVycyA9IFtdO1xuICAgIHRoaXMuX21hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5bGluZSB8fFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUgfHxcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlciB8fFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuSW1hZ2VPdmVybGF5XG4gICAgICApIHtcbiAgICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQncyBsZWFmbGV0LWdlb21hbiBzcGVjaWZpYyB0ZW1wb3Jhcnkgc3R1ZmZcbiAgICAgICAgaWYgKCFsYXllci5fcG1UZW1wTGF5ZXIpIHtcbiAgICAgICAgICBsYXllcnMucHVzaChsYXllcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9lbmFibGVkKSB7XG4gICAgICBsYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgTC5QTS5VdGlscy5kaXNhYmxlUG9wdXAobGF5ZXIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICBMLlBNLlV0aWxzLmVuYWJsZVBvcHVwKGxheWVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBjcmVhdGVOZXdEcmF3SW5zdGFuY2UobmFtZSwganNDbGFzcykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5fZ2V0U2hhcGVGcm9tQnRuTmFtZShqc0NsYXNzKTtcbiAgICBpZiAodGhpc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRHJhdyBUeXBlIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfVxuICAgIGlmICghTC5QTS5EcmF3W2luc3RhbmNlXSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlcmUgaXMgbm8gY2xhc3MgTC5QTS5EcmF3LiR7aW5zdGFuY2V9YCk7XG4gICAgfVxuXG4gICAgdGhpc1tuYW1lXSA9IG5ldyBMLlBNLkRyYXdbaW5zdGFuY2VdKHRoaXMuX21hcCk7XG4gICAgdGhpc1tuYW1lXS50b29sYmFyQnV0dG9uTmFtZSA9IG5hbWU7XG4gICAgdGhpc1tuYW1lXS5fc2hhcGUgPSBuYW1lO1xuICAgIHRoaXMuc2hhcGVzLnB1c2gobmFtZSk7XG5cbiAgICAvLyBuZWVkZWQgd2hlbiBleHRlbmRlZCAvIGNvcGllZCBmcm9tIGEgY3VzdG9tIGluc3RhbmNlXG4gICAgaWYgKHRoaXNbanNDbGFzc10pIHtcbiAgICAgIHRoaXNbbmFtZV0uc2V0T3B0aW9ucyh0aGlzW2pzQ2xhc3NdLm9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBSZS1pbml0IHRoZSBvcHRpb25zLCBzbyBpdCBpcyBub3QgcmVmZXJlbmNlZCB3aXRoIHRoZSBkZWZhdWx0IERyYXcgY2xhc3NcbiAgICB0aGlzW25hbWVdLnNldE9wdGlvbnModGhpc1tuYW1lXS5vcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzW25hbWVdO1xuICB9LFxuICBfZ2V0U2hhcGVGcm9tQnRuTmFtZShuYW1lKSB7XG4gICAgY29uc3Qgc2hhcGVNYXBwaW5nID0ge1xuICAgICAgZHJhd01hcmtlcjogJ01hcmtlcicsXG4gICAgICBkcmF3Q2lyY2xlOiAnQ2lyY2xlJyxcbiAgICAgIGRyYXdQb2x5Z29uOiAnUG9seWdvbicsXG4gICAgICBkcmF3UG9seWxpbmU6ICdMaW5lJyxcbiAgICAgIGRyYXdSZWN0YW5nbGU6ICdSZWN0YW5nbGUnLFxuICAgICAgZHJhd0NpcmNsZU1hcmtlcjogJ0NpcmNsZU1hcmtlcicsXG4gICAgICBlZGl0TW9kZTogJ0VkaXQnLFxuICAgICAgZHJhZ01vZGU6ICdEcmFnJyxcbiAgICAgIGN1dFBvbHlnb246ICdDdXQnLFxuICAgICAgcmVtb3ZhbE1vZGU6ICdSZW1vdmFsJyxcbiAgICAgIHJvdGF0ZU1vZGU6ICdSb3RhdGUnLFxuICAgICAgZHJhd1RleHQ6ICdUZXh0JyxcbiAgICB9O1xuXG4gICAgaWYgKHNoYXBlTWFwcGluZ1tuYW1lXSkge1xuICAgICAgcmV0dXJuIHNoYXBlTWFwcGluZ1tuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNbbmFtZV0gPyB0aGlzW25hbWVdLl9zaGFwZSA6IG5hbWU7XG4gIH0sXG4gIF9maW5pc2hMYXllcihsYXllcikge1xuICAgIGlmIChsYXllci5wbSkge1xuICAgICAgLy8gYWRkIHRoZSBwbSBvcHRpb25zIGZyb20gZHJhd2luZyB0byB0aGUgbmV3IGxheWVyIChlZGl0KVxuICAgICAgbGF5ZXIucG0uc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpO1xuICAgICAgLy8gc2V0IHRoZSBzaGFwZSAoY2FuIGJlIGEgY3VzdG9tIHNoYXBlKVxuICAgICAgbGF5ZXIucG0uX3NoYXBlID0gdGhpcy5fc2hhcGU7XG4gICAgICAvLyBhcHBseSB0aGUgbWFwIHRvIHRoZSBuZXcgY3JlYXRlZCBsYXllciBpbiB0aGUgcG0gb2JqZWN0XG4gICAgICBsYXllci5wbS5fbWFwID0gdGhpcy5fbWFwO1xuICAgIH1cbiAgICB0aGlzLl9hZGREcmF3bkxheWVyUHJvcChsYXllcik7XG4gIH0sXG4gIF9hZGREcmF3bkxheWVyUHJvcChsYXllcikge1xuICAgIGxheWVyLl9kcmF3bkJ5R2VvbWFuID0gdHJ1ZTtcbiAgfSxcbiAgX3NldFBhbmUobGF5ZXIsIHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gJ2xheWVyUGFuZScpIHtcbiAgICAgIGxheWVyLm9wdGlvbnMucGFuZSA9XG4gICAgICAgICh0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcyAmJlxuICAgICAgICAgIHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzLmxheWVyUGFuZSkgfHxcbiAgICAgICAgJ292ZXJsYXlQYW5lJztcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2ZXJ0ZXhQYW5lJykge1xuICAgICAgbGF5ZXIub3B0aW9ucy5wYW5lID1cbiAgICAgICAgKHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzICYmXG4gICAgICAgICAgdGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMudmVydGV4UGFuZSkgfHxcbiAgICAgICAgJ21hcmtlclBhbmUnO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21hcmtlclBhbmUnKSB7XG4gICAgICBsYXllci5vcHRpb25zLnBhbmUgPVxuICAgICAgICAodGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMgJiZcbiAgICAgICAgICB0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcy5tYXJrZXJQYW5lKSB8fFxuICAgICAgICAnbWFya2VyUGFuZSc7XG4gICAgfVxuICB9LFxuICBfaXNGaXJzdExheWVyKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcCB8fCB0aGlzLl9sYXllci5fbWFwO1xuICAgIHJldHVybiBtYXAucG0uZ2V0R2VvbWFuTGF5ZXJzKCkubGVuZ3RoID09PSAwO1xuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IERyYXc7XG4iLCAiaW1wb3J0IHsgaGFzVmFsdWVzLCBwcmlvcml0aXNlU29ydCB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5jb25zdCBTbmFwTWl4aW4gPSB7XG4gIF9pbml0U25hcHBhYmxlTWFya2VycygpIHtcbiAgICB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlID0gdGhpcy5vcHRpb25zLnNuYXBEaXN0YW5jZSB8fCAzMDtcbiAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPVxuICAgICAgdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50O1xuXG4gICAgdGhpcy5fYXNzaWduRXZlbnRzKHRoaXMuX21hcmtlcnMpO1xuXG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9uKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICB9LFxuICBfZGlzYWJsZVNuYXBwaW5nKCkge1xuICAgIHRoaXMuX2xheWVyLm9mZigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgfSxcbiAgX2Fzc2lnbkV2ZW50cyhtYXJrZXJBcnIpIHtcbiAgICAvLyBsb29wIHRocm91Z2ggbWFya2VyIGFycmF5IGFuZCBhc3NpZ24gZXZlbnRzIHRvIHRoZSBtYXJrZXJzXG4gICAgbWFya2VyQXJyLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgLy8gaWYgdGhlIG1hcmtlciBpcyBhbm90aGVyIGFycmF5IChNdWx0aXBvbHlnb24gc3R1ZmYpLCByZWN1cnNpdmVseSBkbyB0aGlzIGFnYWluXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXJrZXIpKSB7XG4gICAgICAgIHRoaXMuX2Fzc2lnbkV2ZW50cyhtYXJrZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCBoYW5kbGVTbmFwcGluZyBldmVudCBvbiBkcmFnXG4gICAgICBtYXJrZXIub2ZmKCdkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuXG4gICAgICAvLyBjbGVhbnVwIGV2ZW50IG9uIGRyYWdlbmRcbiAgICAgIG1hcmtlci5vZmYoJ2RyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcbiAgICB9KTtcbiAgfSxcbiAgX2NsZWFudXBTbmFwcGluZyhlKSB7XG4gICAgaWYgKGUpIHtcbiAgICAgIC8vIHJlc2V0IHNuYXAgZmxhZyBvZiB0aGUgZHJhZ2dlZCBoZWxwZXItbWFya2VyXG4gICAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcbiAgICAgIG1hcmtlci5fc25hcHBlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBkZWxldGUgaXQsIHdlIG5lZWQgdG8gcmVmcmVzaCB0aGlzIHdpdGggZWFjaCBzdGFydCBvZiBhIGRyYWcgYmVjYXVzZVxuICAgIC8vIG1lYW53aGlsZSwgbmV3IGxheWVycyBjb3VsZCd2ZSBiZWVuIGFkZGVkIHRvIHRoZSBtYXBcbiAgICBkZWxldGUgdGhpcy5fc25hcExpc3Q7XG5cbiAgICBpZiAodGhpcy50aHJvdHRsZWRMaXN0KSB7XG4gICAgICB0aGlzLl9tYXAub2ZmKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkTGlzdCwgdGhpcyk7XG4gICAgICB0aGlzLnRocm90dGxlZExpc3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIG1hcCBldmVudFxuICAgIHRoaXMuX21hcC5vZmYoJ2xheWVycmVtb3ZlJywgdGhpcy5faGFuZGxlU25hcExheWVyUmVtb3ZhbCwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5kZWJ1Z0luZGljYXRvckxpbmVzKSB7XG4gICAgICB0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICBsaW5lLnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBfaGFuZGxlVGhyb3R0bGVTbmFwcGluZygpIHtcbiAgICAvLyB3ZSBjaGVjayBpZiB0aGUgdGhyb3R0bGVkTGlzdCBpcyBleGlzdGluZywgZWxzZSB0aGUgZnVuY3Rpb24gaXMgZGVsZXRlZCBidXQgdGhlIGBsYXllcmFkZGAgZXZlbnQgY2FsbHMgaXQuXG4gICAgLy8gdGhpcyBtYWRlIHByb2JsZW1zIHdoZW4gbGF5ZXIgd2FzIHJlbW92ZWQgYW5kIGFkZGVkIHRvIHRoZSBtYXAgaW4gdGhlIGBwbTpjcmVhdGVgIGV2ZW50XG4gICAgaWYgKHRoaXMudGhyb3R0bGVkTGlzdCkge1xuICAgICAgdGhpcy5fY3JlYXRlU25hcExpc3QoKTtcbiAgICB9XG4gIH0sXG4gIF9oYW5kbGVTbmFwcGluZyhlKSB7XG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG4gICAgbWFya2VyLl9zbmFwcGVkID0gZmFsc2U7XG5cbiAgICBpZiAoIXRoaXMudGhyb3R0bGVkTGlzdCkge1xuICAgICAgdGhpcy50aHJvdHRsZWRMaXN0ID0gTC5VdGlsLnRocm90dGxlKFxuICAgICAgICB0aGlzLl9oYW5kbGVUaHJvdHRsZVNuYXBwaW5nLFxuICAgICAgICAxMDAsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gaWYgc25hcHBpbmcgaXMgZGlzYWJsZWQgdmlhIGhvbGRpbmcgQUxUIGR1cmluZyBkcmFnLCBzdG9wIHJpZ2h0IGhlcmVcbiAgICAvLyB3ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGUgYWx0S2V5IG9uIHRoZSBtb3ZlIGV2ZW50LCBiZWNhdXNlIGtleWRvd24gZXZlbnQgaXMgdG8gc2xvdyAuLi5cbiAgICBpZiAoZT8ub3JpZ2luYWxFdmVudD8uYWx0S2V5IHx8IHRoaXMuX21hcD8ucG0/LktleWJvYXJkLmlzQWx0S2V5UHJlc3NlZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGEgbGlzdCBvZiBsYXllcnMgdGhhdCB0aGUgbWFya2VyIGNvdWxkIHNuYXAgdG9cbiAgICAvLyB0aGlzIGlzbid0IGluc2lkZSBhIG1vdmVzdGFydC9kcmFnc3RhcnQgY2FsbGJhY2sgYmVjYXVzZSBtaWRkbGVtYXJrZXJzIGFyZSBpbml0aWFsaXplZFxuICAgIC8vIGFmdGVyIGRyYWdzdGFydC9tb3Zlc3RhcnQgc28gaXQgd291bGRuJ3QgZmlyZSBmb3IgdGhlbVxuICAgIGlmICh0aGlzLl9zbmFwTGlzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9jcmVhdGVTbmFwTGlzdCgpO1xuXG4gICAgICAvLyByZS1jcmVhdGUgdGhlIHNuYXBsaXN0IGFnYWluIHdoZW4gYSBsYXllciBpcyBhZGRlZCBkdXJpbmcgZHJhd1xuICAgICAgdGhpcy5fbWFwLm9mZignbGF5ZXJhZGQnLCB0aGlzLnRocm90dGxlZExpc3QsIHRoaXMpO1xuICAgICAgdGhpcy5fbWFwLm9uKCdsYXllcmFkZCcsIHRoaXMudGhyb3R0bGVkTGlzdCwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIGxheWVycyB0byBzbmFwIHRvLCBzdG9wIGhlcmVcbiAgICBpZiAodGhpcy5fc25hcExpc3QubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIGNsb3Nlc3QgbGF5ZXIsIGl0J3MgY2xvc2VzdCBsYXRsbmcsIHNlZ21lbnQgYW5kIHRoZSBkaXN0YW5jZVxuICAgIGNvbnN0IGNsb3Nlc3RMYXllciA9IHRoaXMuX2NhbGNDbG9zZXN0TGF5ZXIoXG4gICAgICBtYXJrZXIuZ2V0TGF0TG5nKCksXG4gICAgICB0aGlzLl9zbmFwTGlzdFxuICAgICk7XG5cbiAgICAvLyBpZiBubyBsYXllcnMgZm91bmQuIENhbiBoYXBwZW4gd2hlbiBjaXJjbGUgaXMgdGhlIG9ubHkgdmlzaWJsZSBsYXllciBvbiB0aGUgbWFwIGFuZCB0aGUgaGlkZGVuIHNuYXBwaW5nLWJvcmRlciBjaXJjbGUgbGF5ZXIgaXMgYWxzbyBvbiB0aGUgbWFwXG4gICAgaWYgKE9iamVjdC5rZXlzKGNsb3Nlc3RMYXllcikubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgaXNNYXJrZXIgPVxuICAgICAgY2xvc2VzdExheWVyLmxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgfHxcbiAgICAgIGNsb3Nlc3RMYXllci5sYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyIHx8XG4gICAgICAhdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50O1xuXG4gICAgLy8gZmluZCB0aGUgZmluYWwgbGF0bG5nIHRoYXQgd2Ugd2FudCB0byBzbmFwIHRvXG4gICAgbGV0IHNuYXBMYXRMbmc7XG4gICAgaWYgKCFpc01hcmtlcikge1xuICAgICAgc25hcExhdExuZyA9IHRoaXMuX2NoZWNrUHJpb3JpdGl5U25hcHBpbmcoY2xvc2VzdExheWVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hcExhdExuZyA9IGNsb3Nlc3RMYXllci5sYXRsbmc7XG4gICAgfVxuXG4gICAgLy8gbWluaW1hbCBkaXN0YW5jZSBiZWZvcmUgbWFya2VyIHNuYXBzIChpbiBwaXhlbHMpXG4gICAgY29uc3QgbWluRGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlO1xuXG4gICAgLy8gZXZlbnQgaW5mbyBmb3IgcG06c25hcCBhbmQgcG06dW5zbmFwXG4gICAgY29uc3QgZXZlbnRJbmZvID0ge1xuICAgICAgbWFya2VyLFxuICAgICAgc2hhcGU6IHRoaXMuX3NoYXBlLFxuICAgICAgc25hcExhdExuZyxcbiAgICAgIHNlZ21lbnQ6IGNsb3Nlc3RMYXllci5zZWdtZW50LFxuICAgICAgbGF5ZXI6IHRoaXMuX2xheWVyLFxuICAgICAgd29ya2luZ0xheWVyOiB0aGlzLl9sYXllcixcbiAgICAgIGxheWVySW50ZXJhY3RlZFdpdGg6IGNsb3Nlc3RMYXllci5sYXllciwgLy8gZm9yIGxhY2sgb2YgYSBiZXR0ZXIgcHJvcGVydHkgbmFtZVxuICAgICAgZGlzdGFuY2U6IGNsb3Nlc3RMYXllci5kaXN0YW5jZSxcbiAgICB9O1xuXG4gICAgdGhpcy5fZmlyZVNuYXBEcmFnKGV2ZW50SW5mby5tYXJrZXIsIGV2ZW50SW5mbyk7XG4gICAgdGhpcy5fZmlyZVNuYXBEcmFnKHRoaXMuX2xheWVyLCBldmVudEluZm8pO1xuXG4gICAgaWYgKGNsb3Nlc3RMYXllci5kaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XG4gICAgICAvLyBzbmFwIHRoZSBtYXJrZXJcbiAgICAgIG1hcmtlci5fb3JnTGF0TG5nID0gbWFya2VyLmdldExhdExuZygpO1xuICAgICAgLy8gVE9ETzogaWYgdGhlIG9yaWdpbiBtYXJrZXIgaGFzIGEgYWx0aXR1ZGUgaXMgYXBwbGllZCB0byB0aGUgc25hcHBlZCBsYXllciB0b28sIGRvIHdlIHdhbnQgdGhpcz9cbiAgICAgIG1hcmtlci5zZXRMYXRMbmcoc25hcExhdExuZyk7XG5cbiAgICAgIG1hcmtlci5fc25hcHBlZCA9IHRydWU7XG4gICAgICBtYXJrZXIuX3NuYXBJbmZvID0gZXZlbnRJbmZvO1xuXG4gICAgICBjb25zdCB0cmlnZ2VyU25hcCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5fc25hcExhdExuZyA9IHNuYXBMYXRMbmc7XG4gICAgICAgIHRoaXMuX2ZpcmVTbmFwKG1hcmtlciwgZXZlbnRJbmZvKTtcbiAgICAgICAgdGhpcy5fZmlyZVNuYXAodGhpcy5fbGF5ZXIsIGV2ZW50SW5mbyk7XG4gICAgICB9O1xuXG4gICAgICAvLyBjaGVjayBpZiB0aGUgc25hcHBpbmcgcG9zaXRpb24gZGlmZmVycyBmcm9tIHRoZSBsYXN0IHNuYXBcbiAgICAgIC8vIFRoYW5rcyBNYXggJiBjYXIyZ28gVGVhbVxuICAgICAgY29uc3QgYSA9IHRoaXMuX3NuYXBMYXRMbmcgfHwge307XG4gICAgICBjb25zdCBiID0gc25hcExhdExuZyB8fCB7fTtcblxuICAgICAgaWYgKGEubGF0ICE9PSBiLmxhdCB8fCBhLmxuZyAhPT0gYi5sbmcpIHtcbiAgICAgICAgdHJpZ2dlclNuYXAoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX3NuYXBMYXRMbmcpIHtcbiAgICAgIC8vIG5vIG1vcmUgc25hcHBpbmdcblxuICAgICAgLy8gaWYgaXQgd2FzIHByZXZpb3VzbHkgc25hcHBlZC4uLlxuICAgICAgLy8gLi4udW5zbmFwXG4gICAgICB0aGlzLl91bnNuYXAoZXZlbnRJbmZvKTtcblxuICAgICAgbWFya2VyLl9zbmFwcGVkID0gZmFsc2U7XG4gICAgICBtYXJrZXIuX3NuYXBJbmZvID0gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBhbmQgZmlyZSB1bnNuYXAgZXZlbnRcbiAgICAgIHRoaXMuX2ZpcmVVbnNuYXAoZXZlbnRJbmZvLm1hcmtlciwgZXZlbnRJbmZvKTtcbiAgICAgIHRoaXMuX2ZpcmVVbnNuYXAodGhpcy5fbGF5ZXIsIGV2ZW50SW5mbyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIF9jcmVhdGVTbmFwTGlzdCgpIHtcbiAgICBsZXQgbGF5ZXJzID0gW107XG4gICAgY29uc3QgZGVidWdJbmRpY2F0b3JMaW5lcyA9IFtdO1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcblxuICAgIG1hcC5vZmYoJ2xheWVycmVtb3ZlJywgdGhpcy5faGFuZGxlU25hcExheWVyUmVtb3ZhbCwgdGhpcyk7XG4gICAgbWFwLm9uKCdsYXllcnJlbW92ZScsIHRoaXMuX2hhbmRsZVNuYXBMYXllclJlbW92YWwsIHRoaXMpO1xuXG4gICAgLy8gZmluZCBhbGwgbGF5ZXJzIHRoYXQgYXJlIG9yIGluaGVyaXQgZnJvbSBQb2x5bGluZXMuLi4gYW5kIG1hcmtlcnMgdGhhdCBhcmUgbm90XG4gICAgLy8gdGVtcG9yYXJ5IG1hcmtlcnMgb2YgcG9seWdvbi1lZGl0c1xuICAgIG1hcC5lYWNoTGF5ZXIoKGxheWVyKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIChsYXllciBpbnN0YW5jZW9mIEwuUG9seWxpbmUgfHxcbiAgICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyIHx8XG4gICAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlciB8fFxuICAgICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5JbWFnZU92ZXJsYXkpICYmXG4gICAgICAgIGxheWVyLm9wdGlvbnMuc25hcElnbm9yZSAhPT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmIHNuYXBJZ25vcmUgPT09IGZhbHNlIHRoZSBsYXllciB3aWxsIGJlIGFsd2F5cyBzbmFwcGFibGVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGxheWVyLm9wdGlvbnMuc25hcElnbm9yZSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgKCghTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlID09PSB0cnVlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IGFuZCBwbUlnbm9yZSBpcyB0cnVlLCB0aGUgbGF5ZXIgd2lsbCBiZSBpZ25vcmVkXG4gICAgICAgICAgICAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlICE9PSBmYWxzZSkpIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBmYWxzZSwgdGhlIGxheWVyIHdpbGwgYmUgaWdub3JlZFxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGRzIGEgaGlkZGVuIHBvbHlnb24gd2hpY2ggbWF0Y2hlcyB0aGUgYm9yZGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlIHx8IGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpICYmXG4gICAgICAgICAgbGF5ZXIucG0gJiZcbiAgICAgICAgICBsYXllci5wbS5faGlkZGVuUG9seUNpcmNsZVxuICAgICAgICApIHtcbiAgICAgICAgICBsYXllcnMucHVzaChsYXllci5wbS5faGlkZGVuUG9seUNpcmNsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkltYWdlT3ZlcmxheSkge1xuICAgICAgICAgIGxheWVyID0gTC5yZWN0YW5nbGUobGF5ZXIuZ2V0Qm91bmRzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcblxuICAgICAgICAvLyB0aGlzIGlzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgY29uc3QgZGVidWdMaW5lID0gTC5wb2x5bGluZShbXSwgeyBjb2xvcjogJ3JlZCcsIHBtSWdub3JlOiB0cnVlIH0pO1xuICAgICAgICBkZWJ1Z0xpbmUuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgICAgZGVidWdJbmRpY2F0b3JMaW5lcy5wdXNoKGRlYnVnTGluZSk7XG4gICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlIHx8IGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpIHtcbiAgICAgICAgICBkZWJ1Z0luZGljYXRvckxpbmVzLnB1c2goZGVidWdMaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVuY29tbWVudCBcdUQ4M0RcdURDNDcgdGhpcyBsaW5lIHRvIHNob3cgaGVscGVyIGxpbmVzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgLy8gZGVidWdMaW5lLmFkZFRvKG1hcCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyAuLi5leGNlcHQgbXlzZWxmXG4gICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+IHRoaXMuX2xheWVyICE9PSBsYXllcik7XG5cbiAgICAvLyBhbHNvIHJlbW92ZSBldmVyeXRoaW5nIHRoYXQgaGFzIG5vIGNvb3JkaW5hdGVzIHlldFxuICAgIGxheWVycyA9IGxheWVycy5maWx0ZXIoXG4gICAgICAobGF5ZXIpID0+IGxheWVyLl9sYXRsbmcgfHwgKGxheWVyLl9sYXRsbmdzICYmIGhhc1ZhbHVlcyhsYXllci5fbGF0bG5ncykpXG4gICAgKTtcblxuICAgIC8vIGZpbmFsbHkgcmVtb3ZlIGV2ZXJ5dGhpbmcgdGhhdCdzIGxlYWZsZXQtZ2VvbWFuIHNwZWNpZmljIHRlbXBvcmFyeSBzdHVmZlxuICAgIGxheWVycyA9IGxheWVycy5maWx0ZXIoKGxheWVyKSA9PiAhbGF5ZXIuX3BtVGVtcExheWVyKTtcblxuICAgIC8vIHNhdmUgc25hcGxpc3QgZnJvbSBsYXllcnMgYW5kIHRoZSBvdGhlciBzbmFwIGxheWVycyBhZGRlZCBmcm9tIG90aGVyIGNsYXNzZXMvc2NyaXB0c1xuICAgIGlmICh0aGlzLl9vdGhlclNuYXBMYXllcnMpIHtcbiAgICAgIHRoaXMuX290aGVyU25hcExheWVycy5mb3JFYWNoKCgpID0+IHtcbiAgICAgICAgLy8gdGhpcyBpcyBmb3IgZGVidWdnaW5nXG4gICAgICAgIGNvbnN0IGRlYnVnTGluZSA9IEwucG9seWxpbmUoW10sIHsgY29sb3I6ICdyZWQnLCBwbUlnbm9yZTogdHJ1ZSB9KTtcbiAgICAgICAgZGVidWdMaW5lLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICAgIGRlYnVnSW5kaWNhdG9yTGluZXMucHVzaChkZWJ1Z0xpbmUpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9zbmFwTGlzdCA9IGxheWVycy5jb25jYXQodGhpcy5fb3RoZXJTbmFwTGF5ZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc25hcExpc3QgPSBsYXllcnM7XG4gICAgfVxuXG4gICAgdGhpcy5kZWJ1Z0luZGljYXRvckxpbmVzID0gZGVidWdJbmRpY2F0b3JMaW5lcztcbiAgfSxcbiAgX2hhbmRsZVNuYXBMYXllclJlbW92YWwoeyBsYXllciB9KSB7XG4gICAgaWYgKCFsYXllci5fbGVhZmxldF9pZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaW5kIHRoZSBsYXllcnMgaW5kZXggaW4gc25hcGxpc3RcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NuYXBMaXN0LmZpbmRJbmRleChcbiAgICAgIChlKSA9PiBlLl9sZWFmbGV0X2lkID09PSBsYXllci5fbGVhZmxldF9pZFxuICAgICk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIC8vIHJlbW92ZSBpdCBmcm9tIHRoZSBzbmFwbGlzdFxuICAgICAgdGhpcy5fc25hcExpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH0sXG4gIF9jYWxjQ2xvc2VzdExheWVyKGxhdGxuZywgbGF5ZXJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGNDbG9zZXN0TGF5ZXJzKGxhdGxuZywgbGF5ZXJzLCAxKVswXTtcbiAgfSxcbiAgX2NhbGNDbG9zZXN0TGF5ZXJzKGxhdGxuZywgbGF5ZXJzLCBhbW91bnQgPSAxKSB7XG4gICAgLy8gdGhlIGNsb3Nlc3QgcG9seWdvbiB0byBvdXIgZHJhZ2dlZCBtYXJrZXIgbGF0bG5nXG4gICAgbGV0IGNsb3Nlc3RMYXllcnMgPSBbXTtcbiAgICBsZXQgY2xvc2VzdExheWVyID0ge307XG5cbiAgICAvLyBsb29wIHRocm91Z2ggdGhlIGxheWVyc1xuICAgIGxheWVycy5mb3JFYWNoKChsYXllciwgaW5kZXgpID0+IHtcbiAgICAgIC8vIEZvciBDaXJjbGVzIGFuZCBDaXJjbGVNYXJrZXJzIHRvIHByZXZlbnQgdGhhdCB0aGV5IHNuYXAgdG8gdGhlIG93biBib3JkZXJzLlxuICAgICAgaWYgKGxheWVyLl9wYXJlbnRDb3B5ICYmIGxheWVyLl9wYXJlbnRDb3B5ID09PSB0aGlzLl9sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBmaW5kIHRoZSBjbG9zZXN0IGxhdGxuZywgc2VnbWVudCBhbmQgdGhlIGRpc3RhbmNlIG9mIHRoaXMgbGF5ZXIgdG8gdGhlIGRyYWdnZWQgbWFya2VyIGxhdGxuZ1xuICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuX2NhbGNMYXllckRpc3RhbmNlcyhsYXRsbmcsIGxheWVyKTtcbiAgICAgIHJlc3VsdHMuZGlzdGFuY2UgPSBNYXRoLmZsb29yKHJlc3VsdHMuZGlzdGFuY2UpO1xuXG4gICAgICBpZiAodGhpcy5kZWJ1Z0luZGljYXRvckxpbmVzKSB7XG4gICAgICAgIGlmICghdGhpcy5kZWJ1Z0luZGljYXRvckxpbmVzW2luZGV4XSkge1xuICAgICAgICAgIGNvbnN0IGRlYnVnTGluZSA9IEwucG9seWxpbmUoW10sIHsgY29sb3I6ICdyZWQnLCBwbUlnbm9yZTogdHJ1ZSB9KTtcbiAgICAgICAgICBkZWJ1Z0xpbmUuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXNbaW5kZXhdID0gZGVidWdMaW5lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvdyBpbmRpY2F0b3IgbGluZXMsIGl0J3MgZm9yIGRlYnVnZ2luZ1xuICAgICAgICB0aGlzLmRlYnVnSW5kaWNhdG9yTGluZXNbaW5kZXhdLnNldExhdExuZ3MoW2xhdGxuZywgcmVzdWx0cy5sYXRsbmddKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2F2ZSB0aGUgaW5mbyBpZiBpdCBkb2Vzbid0IGV4aXN0IG9yIGlmIHRoZSBkaXN0YW5jZSBpcyBzbWFsbGVyIHRoYW4gdGhlIHByZXZpb3VzIG9uZVxuICAgICAgaWYgKFxuICAgICAgICBhbW91bnQgPT09IDEgJiZcbiAgICAgICAgKGNsb3Nlc3RMYXllci5kaXN0YW5jZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgcmVzdWx0cy5kaXN0YW5jZSAtIDUgPD0gY2xvc2VzdExheWVyLmRpc3RhbmNlKVxuICAgICAgKSB7XG4gICAgICAgIC8vIGlmIHRoZSBsYXllciBpcyBsZXNzIHRoZW4gNSBwaXhlbHMgYXdheSwgd2UgdHJlYXQgaXQgYXMgc2FtZSBkaXN0YW5jZSBhbmQgc29ydCBpdCBiYXNlZCBvbiBwcmlvcml0eVxuICAgICAgICBpZiAocmVzdWx0cy5kaXN0YW5jZSArIDUgPCBjbG9zZXN0TGF5ZXIuZGlzdGFuY2UpIHtcbiAgICAgICAgICBjbG9zZXN0TGF5ZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY2xvc2VzdExheWVyID0gcmVzdWx0cztcbiAgICAgICAgY2xvc2VzdExheWVyLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIGNsb3Nlc3RMYXllcnMucHVzaChjbG9zZXN0TGF5ZXIpO1xuICAgICAgfSBlbHNlIGlmIChhbW91bnQgIT09IDEpIHtcbiAgICAgICAgY2xvc2VzdExheWVyID0ge307XG4gICAgICAgIGNsb3Nlc3RMYXllciA9IHJlc3VsdHM7XG4gICAgICAgIGNsb3Nlc3RMYXllci5sYXllciA9IGxheWVyO1xuICAgICAgICBjbG9zZXN0TGF5ZXJzLnB1c2goY2xvc2VzdExheWVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYW1vdW50ICE9PSAxKSB7XG4gICAgICAvLyBzb3J0IHRoZSBsYXllcnMgYnkgZGlzdGFuY2VcbiAgICAgIGNsb3Nlc3RMYXllcnMgPSBjbG9zZXN0TGF5ZXJzLnNvcnQoKGEsIGIpID0+IGEuZGlzdGFuY2UgLSBiLmRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICBpZiAoYW1vdW50ID09PSAtMSkge1xuICAgICAgYW1vdW50ID0gY2xvc2VzdExheWVycy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIHRoZSBjbG9zZXN0IGxheWVyIGFuZCBpdCdzIGRhdGFcbiAgICAvLyBpZiB0aGVyZSBpcyBubyBjbG9zZXN0IGxheWVyLCByZXR1cm4gYW4gZW1wdHkgb2JqZWN0XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZ2V0Q2xvc2VzdExheWVyQnlQcmlvcml0eShjbG9zZXN0TGF5ZXJzLCBhbW91bnQpO1xuICAgIGlmIChMLlV0aWwuaXNBcnJheShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gW3Jlc3VsdF07XG4gIH0sXG4gIF9jYWxjTGF5ZXJEaXN0YW5jZXMobGF0bG5nLCBsYXllcikge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcblxuICAgIC8vIGlzIHRoaXMgYSBtYXJrZXI/XG4gICAgY29uc3QgaXNNYXJrZXIgPVxuICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlciB8fCBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyO1xuXG4gICAgLy8gaXMgaXQgYSBwb2x5Z29uP1xuICAgIGNvbnN0IGlzUG9seWdvbiA9IGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5Z29uO1xuXG4gICAgLy8gdGhlIHBvaW50IFAgd2hpY2ggd2Ugd2FudCB0byBzbmFwIChwcm9icGFibHkgdGhlIG1hcmtlciB0aGF0IGlzIGRyYWdnZWQpXG4gICAgY29uc3QgUCA9IGxhdGxuZztcblxuICAgIC8vIHRoZSBjb29yZHMgb2YgdGhlIGxheWVyXG5cbiAgICBpZiAoaXNNYXJrZXIpIHtcbiAgICAgIC8vIHJldHVybiB0aGUgaW5mbyBmb3IgdGhlIG1hcmtlciwgbm8gbW9yZSBjYWxjdWxhdGlvbnMgbmVlZGVkXG4gICAgICBjb25zdCBsYXRsbmdzID0gbGF5ZXIuZ2V0TGF0TG5nKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXRsbmc6IHsgLi4ubGF0bG5ncyB9LFxuICAgICAgICBkaXN0YW5jZTogdGhpcy5fZ2V0RGlzdGFuY2UobWFwLCBsYXRsbmdzLCBQKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2NhbGNMYXRMbmdEaXN0YW5jZXMoUCwgbGF5ZXIuZ2V0TGF0TG5ncygpLCBtYXAsIGlzUG9seWdvbik7XG4gIH0sXG4gIF9jYWxjTGF0TG5nRGlzdGFuY2VzKGxhdGxuZywgbGF0bG5ncywgbWFwLCBjbG9zZWRTaGFwZSA9IGZhbHNlKSB7XG4gICAgLy8gdGhlIGNsb3Nlc3QgY29vcmQgb2YgdGhlIGxheWVyXG4gICAgbGV0IGNsb3Nlc3RDb29yZDtcblxuICAgIC8vIHRoZSBzaG9ydGVzdCBkaXN0YW5jZSBmcm9tIGxhdGxuZyB0byBjbG9zZXN0Q29vcmRcbiAgICBsZXQgc2hvcnRlc3REaXN0YW5jZTtcblxuICAgIC8vIHRoZSBjbG9zZXN0IHNlZ21lbnQgKGxpbmUgYmV0d2VlbiB0d28gcG9pbnRzKSBvZiB0aGUgbGF5ZXJcbiAgICBsZXQgY2xvc2VzdFNlZ21lbnQ7XG5cbiAgICBjb25zdCBsb29wVGhyb3VnaENvb3JkcyA9IChjb29yZHMpID0+IHtcbiAgICAgIGNvb3Jkcy5mb3JFYWNoKChjb29yZCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29vcmQpKSB7XG4gICAgICAgICAgbG9vcFRocm91Z2hDb29yZHMoY29vcmQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQpIHtcbiAgICAgICAgICAvLyB0YWtlIHRoaXMgY29vcmQgKEEpLi4uXG4gICAgICAgICAgY29uc3QgQSA9IGNvb3JkO1xuICAgICAgICAgIGxldCBuZXh0SW5kZXg7XG5cbiAgICAgICAgICAvLyBhbmQgdGhlIG5leHQgY29vcmQgKEIpIGFzIHBvaW50c1xuICAgICAgICAgIGlmIChjbG9zZWRTaGFwZSkge1xuICAgICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXggKyAxID09PSBjb29yZHMubGVuZ3RoID8gMCA6IGluZGV4ICsgMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXggKyAxID09PSBjb29yZHMubGVuZ3RoID8gdW5kZWZpbmVkIDogaW5kZXggKyAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IEIgPSBjb29yZHNbbmV4dEluZGV4XTtcbiAgICAgICAgICBpZiAoQikge1xuICAgICAgICAgICAgLy8gY2FsYyB0aGUgZGlzdGFuY2UgYmV0d2VlbiBsYXRsbmcgYW5kIEFCLXNlZ21lbnRcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5fZ2V0RGlzdGFuY2VUb1NlZ21lbnQobWFwLCBsYXRsbmcsIEEsIEIpO1xuXG4gICAgICAgICAgICAvLyBpcyB0aGUgZGlzdGFuY2Ugc2hvcnRlciB0aGFuIHRoZSBwcmV2aW91cyBvbmU/IFNhdmUgaXQgYW5kIHRoZSBzZWdtZW50XG4gICAgICAgICAgICBpZiAoc2hvcnRlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkIHx8IGRpc3RhbmNlIDwgc2hvcnRlc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgICBzaG9ydGVzdERpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgIGNsb3Nlc3RTZWdtZW50ID0gW0EsIEJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IHNuYXAgb24gdGhlIGNvb3Jkc1xuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlUG9pbnQgPSB0aGlzLl9nZXREaXN0YW5jZShtYXAsIGxhdGxuZywgY29vcmQpO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2hvcnRlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBkaXN0YW5jZVBvaW50IDwgc2hvcnRlc3REaXN0YW5jZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2hvcnRlc3REaXN0YW5jZSA9IGRpc3RhbmNlUG9pbnQ7XG4gICAgICAgICAgICBjbG9zZXN0Q29vcmQgPSBjb29yZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBsb29wVGhyb3VnaENvb3JkcyhsYXRsbmdzKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQpIHtcbiAgICAgIC8vIG5vdywgdGFrZSB0aGUgY2xvc2VzdCBzZWdtZW50IChjbG9zZXN0U2VnbWVudCkgYW5kIGNhbGMgdGhlIGNsb3Nlc3QgcG9pbnQgdG8gbGF0bG5nIG9uIGl0LlxuICAgICAgY29uc3QgQyA9IHRoaXMuX2dldENsb3Nlc3RQb2ludE9uU2VnbWVudChcbiAgICAgICAgbWFwLFxuICAgICAgICBsYXRsbmcsXG4gICAgICAgIGNsb3Nlc3RTZWdtZW50WzBdLFxuICAgICAgICBjbG9zZXN0U2VnbWVudFsxXVxuICAgICAgKTtcblxuICAgICAgLy8gcmV0dXJuIHRoZSBsYXRsbmcgb2YgdGhhdCBzdWNrZXJcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhdGxuZzogeyAuLi5DIH0sXG4gICAgICAgIHNlZ21lbnQ6IGNsb3Nlc3RTZWdtZW50LFxuICAgICAgICBkaXN0YW5jZTogc2hvcnRlc3REaXN0YW5jZSxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIE9ubHkgc25hcCBvbiB0aGUgY29vcmRzXG4gICAgLy8gcmV0dXJuIHRoZSBjbG9zZXN0IGNvb3JkXG4gICAgcmV0dXJuIHtcbiAgICAgIGxhdGxuZzogY2xvc2VzdENvb3JkLFxuICAgICAgZGlzdGFuY2U6IHNob3J0ZXN0RGlzdGFuY2UsXG4gICAgfTtcbiAgfSxcbiAgX2dldENsb3Nlc3RMYXllckJ5UHJpb3JpdHkobGF5ZXJzLCBhbW91bnQgPSAxKSB7XG4gICAgLy8gc29ydCB0aGUgbGF5ZXJzIGJ5IGNyZWF0aW9uLCBzbyBpdCBpcyBzbmFwcGluZyB0byB0aGUgb2xkZXN0IGxheWVyIGZyb20gdGhlIHNhbWUgc2hhcGVcbiAgICBsYXllcnMgPSBsYXllcnMuc29ydCgoYSwgYikgPT4gYS5fbGVhZmxldF9pZCAtIGIuX2xlYWZsZXRfaWQpO1xuXG4gICAgY29uc3Qgc2hhcGVzID0gW1xuICAgICAgJ01hcmtlcicsXG4gICAgICAnQ2lyY2xlTWFya2VyJyxcbiAgICAgICdDaXJjbGUnLFxuICAgICAgJ0xpbmUnLFxuICAgICAgJ1BvbHlnb24nLFxuICAgICAgJ1JlY3RhbmdsZScsXG4gICAgXTtcbiAgICBjb25zdCBvcmRlciA9IHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnNuYXBwaW5nT3JkZXIgfHwgW107XG5cbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICBjb25zdCBwcmlvT3JkZXIgPSB7fTtcbiAgICAvLyBtZXJnZSB1c2VyLXByZWZlcnJlZCBwcmlvcml0eSB3aXRoIGRlZmF1bHQgcHJpb3JpdHlcbiAgICBvcmRlci5jb25jYXQoc2hhcGVzKS5mb3JFYWNoKChzaGFwZSkgPT4ge1xuICAgICAgaWYgKCFwcmlvT3JkZXJbc2hhcGVdKSB7XG4gICAgICAgIGxhc3RJbmRleCArPSAxO1xuICAgICAgICBwcmlvT3JkZXJbc2hhcGVdID0gbGFzdEluZGV4O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gc29ydCBsYXllcnMgYnkgcHJpb3JpdHlcbiAgICBsYXllcnMuc29ydChwcmlvcml0aXNlU29ydCgnaW5zdGFuY2VvZlNoYXBlJywgcHJpb09yZGVyKSk7XG4gICAgaWYgKGFtb3VudCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGxheWVyc1swXSB8fCB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGxheWVycy5zbGljZSgwLCBhbW91bnQpO1xuICB9LFxuICAvLyB3ZSBnb3QgdGhlIHBvaW50IHdlIHdhbnQgdG8gc25hcCB0byAoQyksIGJ1dCB3ZSBuZWVkIHRvIGNoZWNrIGlmIGEgY29vcmQgb2YgdGhlIHBvbHlnb25cbiAgLy8gcmVjZWl2ZXMgcHJpb3JpdHkgb3ZlciBDIGFzIHRoZSBzbmFwcGluZyBwb2ludC4gTGV0J3MgY2hlY2sgdGhpcyBoZXJlXG4gIF9jaGVja1ByaW9yaXRpeVNuYXBwaW5nKGNsb3Nlc3RMYXllcikge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcblxuICAgIC8vIEEgYW5kIEIgYXJlIHRoZSBwb2ludHMgb2YgdGhlIGNsb3Nlc3Qgc2VnbWVudCB0byBQICh0aGUgbWFya2VyIHBvc2l0aW9uIHdlIHdhbnQgdG8gc25hcClcbiAgICBjb25zdCBBID0gY2xvc2VzdExheWVyLnNlZ21lbnRbMF07XG4gICAgY29uc3QgQiA9IGNsb3Nlc3RMYXllci5zZWdtZW50WzFdO1xuXG4gICAgLy8gQyBpcyB0aGUgcG9pbnQgd2Ugd291bGQgc25hcCB0byBvbiB0aGUgc2VnbWVudC5cbiAgICAvLyBUaGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgY2xvc2VzdCBzZWdtZW50IG9mIHRoZSBjbG9zZXN0IHBvbHlnb24gdG8gUC4gVGhhdCdzIHJpZ2h0LlxuICAgIGNvbnN0IEMgPSBjbG9zZXN0TGF5ZXIubGF0bG5nO1xuXG4gICAgLy8gZGlzdGFuY2VzIGZyb20gQSB0byBDIGFuZCBCIHRvIEMgdG8gY2hlY2sgd2hpY2ggb25lIGlzIGNsb3NlciB0byBDXG4gICAgY29uc3QgZGlzdGFuY2VBQyA9IHRoaXMuX2dldERpc3RhbmNlKG1hcCwgQSwgQyk7XG4gICAgY29uc3QgZGlzdGFuY2VCQyA9IHRoaXMuX2dldERpc3RhbmNlKG1hcCwgQiwgQyk7XG5cbiAgICAvLyBjbG9zZXN0IGxhdGxuZyBvZiBBIGFuZCBCIHRvIENcbiAgICBsZXQgY2xvc2VzdFZlcnRleExhdExuZyA9IGRpc3RhbmNlQUMgPCBkaXN0YW5jZUJDID8gQSA6IEI7XG5cbiAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNsb3Nlc3RWZXJ0ZXhMYXRMbmcgYW5kIENcbiAgICBsZXQgc2hvcnRlc3REaXN0YW5jZSA9IGRpc3RhbmNlQUMgPCBkaXN0YW5jZUJDID8gZGlzdGFuY2VBQyA6IGRpc3RhbmNlQkM7XG5cbiAgICAvLyBzbmFwIHRvIG1pZGRsZSAoTSkgb2Ygc2VnbWVudCBpZiBvcHRpb24gaXMgZW5hYmxlZFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcE1pZGRsZSkge1xuICAgICAgY29uc3QgTSA9IEwuUE0uVXRpbHMuY2FsY01pZGRsZUxhdExuZyhtYXAsIEEsIEIpO1xuICAgICAgY29uc3QgZGlzdGFuY2VNQyA9IHRoaXMuX2dldERpc3RhbmNlKG1hcCwgTSwgQyk7XG5cbiAgICAgIGlmIChkaXN0YW5jZU1DIDwgZGlzdGFuY2VBQyAmJiBkaXN0YW5jZU1DIDwgZGlzdGFuY2VCQykge1xuICAgICAgICAvLyBNIGlzIHRoZSBuZWFyZXN0IHZlcnRleFxuICAgICAgICBjbG9zZXN0VmVydGV4TGF0TG5nID0gTTtcbiAgICAgICAgc2hvcnRlc3REaXN0YW5jZSA9IGRpc3RhbmNlTUM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhlIGRpc3RhbmNlIHRoYXQgbmVlZHMgdG8gYmUgdW5kZXJjdXQgdG8gdHJpZ2dlciBwcmlvcml0eVxuICAgIGNvbnN0IHByaW9yaXR5RGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlO1xuXG4gICAgLy8gdGhlIGxhdGxuZyB3ZSB1bHRlbWF0ZWx5IHdhbnQgdG8gc25hcCB0b1xuICAgIGxldCBzbmFwTGF0bG5nO1xuXG4gICAgLy8gaWYgQyBpcyBjbG9zZXIgdG8gdGhlIGNsb3Nlc3RWZXJ0ZXhMYXRMbmcgKEEsIEIgb3IgTSkgdGhhbiB0aGUgc25hcERpc3RhbmNlLFxuICAgIC8vIHRoZSBjbG9zZXN0VmVydGV4TGF0TG5nIGhhcyBwcmlvcml0eSBvdmVyIEMgYXMgdGhlIHNuYXBwaW5nIHBvaW50LlxuICAgIGlmIChzaG9ydGVzdERpc3RhbmNlIDwgcHJpb3JpdHlEaXN0YW5jZSkge1xuICAgICAgc25hcExhdGxuZyA9IGNsb3Nlc3RWZXJ0ZXhMYXRMbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYXBMYXRsbmcgPSBDO1xuICAgIH1cblxuICAgIC8vIHJldHVybiB0aGUgY29weSBvZiBzbmFwcGluZyBwb2ludFxuICAgIHJldHVybiB7IC4uLnNuYXBMYXRsbmcgfTtcbiAgfSxcbiAgX3Vuc25hcCgpIHtcbiAgICAvLyBkZWxldGUgdGhlIGxhc3Qgc25hcFxuICAgIGRlbGV0ZSB0aGlzLl9zbmFwTGF0TG5nO1xuICB9LFxuICBfZ2V0Q2xvc2VzdFBvaW50T25TZWdtZW50KG1hcCwgbGF0bG5nLCBsYXRsbmdBLCBsYXRsbmdCKSB7XG4gICAgbGV0IG1heHpvb20gPSBtYXAuZ2V0TWF4Wm9vbSgpO1xuICAgIGlmIChtYXh6b29tID09PSBJbmZpbml0eSkge1xuICAgICAgbWF4em9vbSA9IG1hcC5nZXRab29tKCk7XG4gICAgfVxuICAgIGNvbnN0IFAgPSBtYXAucHJvamVjdChsYXRsbmcsIG1heHpvb20pO1xuICAgIGNvbnN0IEEgPSBtYXAucHJvamVjdChsYXRsbmdBLCBtYXh6b29tKTtcbiAgICBjb25zdCBCID0gbWFwLnByb2plY3QobGF0bG5nQiwgbWF4em9vbSk7XG4gICAgY29uc3QgY2xvc2VzdCA9IEwuTGluZVV0aWwuY2xvc2VzdFBvaW50T25TZWdtZW50KFAsIEEsIEIpO1xuICAgIHJldHVybiBtYXAudW5wcm9qZWN0KGNsb3Nlc3QsIG1heHpvb20pO1xuICB9LFxuICBfZ2V0RGlzdGFuY2VUb1NlZ21lbnQobWFwLCBsYXRsbmcsIGxhdGxuZ0EsIGxhdGxuZ0IpIHtcbiAgICBjb25zdCBQID0gbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChsYXRsbmcpO1xuICAgIGNvbnN0IEEgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0EpO1xuICAgIGNvbnN0IEIgPSBtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0IpO1xuICAgIHJldHVybiBMLkxpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UoUCwgQSwgQik7XG4gIH0sXG4gIF9nZXREaXN0YW5jZShtYXAsIGxhdGxuZ0EsIGxhdGxuZ0IpIHtcbiAgICByZXR1cm4gbWFwXG4gICAgICAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0EpXG4gICAgICAuZGlzdGFuY2VUbyhtYXAubGF0TG5nVG9MYXllclBvaW50KGxhdGxuZ0IpKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNuYXBNaXhpbjtcbiIsICJpbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3Lk1hcmtlciA9IERyYXcuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgdGhpcy5fc2hhcGUgPSAnTWFya2VyJztcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25OYW1lID0gJ2RyYXdNYXJrZXInO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIC8vIFRPRE86IFRoaW5rIGFib3V0IGlmIHRoZXNlIG9wdGlvbnMgY291bGQgYmUgcGFzc2VkIGdsb2JhbGx5IGZvciBhbGxcbiAgICAvLyBpbnN0YW5jZXMgb2YgTC5QTS5EcmF3LiBTbyBhIGRldiBjb3VsZCBzZXQgZHJhd2luZyBzdHlsZSBvbmUgdGltZSBhcyBzb21lIGtpbmQgb2YgY29uZmlnXG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBjaGFuZ2UgZW5hYmxlZCBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gY2hhbmdlIG1hcCBjdXJzb3JcbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LmFkZCgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyBjcmVhdGUgYSBtYXJrZXIgb24gY2xpY2sgb24gdGhlIG1hcFxuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9jcmVhdGVNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBoaW50bWFya2VyIG9uIHRoZSBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9oaW50TWFya2VyID0gTC5tYXJrZXIoXG4gICAgICB0aGlzLl9tYXAuZ2V0Q2VudGVyKCksXG4gICAgICB0aGlzLm9wdGlvbnMubWFya2VyU3R5bGVcbiAgICApO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludE1hcmtlciwgJ21hcmtlclBhbmUnKTtcbiAgICB0aGlzLl9oaW50TWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5faGludE1hcmtlci5hZGRUbyh0aGlzLl9tYXApO1xuXG4gICAgLy8gYWRkIHRvb2x0aXAgdG8gaGludG1hcmtlclxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXJcbiAgICAgICAgLmJpbmRUb29sdGlwKGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5wbGFjZU1hcmtlcicpLCB7XG4gICAgICAgICAgcGVybWFuZW50OiB0cnVlLFxuICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAxMCksXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYm90dG9tJyxcblxuICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgfSlcbiAgICAgICAgLm9wZW5Ub29sdGlwKCk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBpcyBqdXN0IHRvIGtlZXAgdGhlIHNuYXBwYWJsZSBtaXhpbiBoYXBweVxuICAgIHRoaXMuX2xheWVyID0gdGhpcy5faGludE1hcmtlcjtcblxuICAgIC8vIHN5bmMgaGludCBtYXJrZXIgd2l0aCBtb3VzZSBjdXJzb3JcbiAgICB0aGlzLl9tYXAub24oJ21vdXNlbW92ZScsIHRoaXMuX3N5bmNIaW50TWFya2VyLCB0aGlzKTtcblxuICAgIC8vIGVuYWJsZSBlZGl0IG1vZGUgZm9yIGV4aXN0aW5nIG1hcmtlcnNcbiAgICBpZiAodGhpcy5vcHRpb25zLm1hcmtlckVkaXRhYmxlKSB7XG4gICAgICB0aGlzLl9tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1JlbGV2YW50TWFya2VyKGxheWVyKSkge1xuICAgICAgICAgIGxheWVyLnBtLmVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIGRyYXdzdGFydCBldmVudFxuICAgIHRoaXMuX2ZpcmVEcmF3U3RhcnQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIGNhbmNlbCwgaWYgZHJhd2luZyBtb2RlIGlzbid0IGV2ZW4gZW5hYmxlZFxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBlbmFibGVkIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVzZXQgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5yZW1vdmUoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gdW5kYmluZCBjbGljayBldmVudCwgZG9uJ3QgY3JlYXRlIGEgbWFya2VyIG9uIGNsaWNrIGFueW1vcmVcbiAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyByZW1vdmUgaGludCBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyLnJlbW92ZSgpO1xuXG4gICAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIHRvIHN5bmMgaGludCBtYXJrZXJcbiAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyBkaXNhYmxlIGRyYWdnaW5nIGFuZCByZW1vdmluZyBmb3IgYWxsIG1hcmtlcnNcbiAgICB0aGlzLl9tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNSZWxldmFudE1hcmtlcihsYXllcikpIHtcbiAgICAgICAgbGF5ZXIucG0uZGlzYWJsZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgaXNSZWxldmFudE1hcmtlcihsYXllcikge1xuICAgIHJldHVybiAoXG4gICAgICBsYXllciBpbnN0YW5jZW9mIEwuTWFya2VyICYmXG4gICAgICBsYXllci5wbSAmJlxuICAgICAgIWxheWVyLl9wbVRlbXBMYXllciAmJlxuICAgICAgIWxheWVyLnBtLl9pbml0VGV4dE1hcmtlclxuICAgICk7XG4gIH0sXG4gIF9zeW5jSGludE1hcmtlcihlKSB7XG4gICAgLy8gbW92ZSB0aGUgY3Vyc29yIG1hcmtlclxuICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcblxuICAgIC8vIGlmIHNuYXBwaW5nIGlzIGVuYWJsZWQsIGRvIGl0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgIGNvbnN0IGZha2VEcmFnRXZlbnQgPSBlO1xuICAgICAgZmFrZURyYWdFdmVudC50YXJnZXQgPSB0aGlzLl9oaW50TWFya2VyO1xuICAgICAgdGhpcy5faGFuZGxlU25hcHBpbmcoZmFrZURyYWdFdmVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpLCAnRHJhdycpO1xuICB9LFxuICBfY3JlYXRlTWFya2VyKGUpIHtcbiAgICBpZiAoIWUubGF0bG5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgc25hcCBmaW5pc2ggaXMgcmVxdWlyZWQgYnV0IHRoZSBsYXN0IG1hcmtlciB3YXNuJ3Qgc25hcHBlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnJlcXVpcmVTbmFwVG9GaW5pc2ggJiZcbiAgICAgICF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkICYmXG4gICAgICAhdGhpcy5faXNGaXJzdExheWVyKClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlIGZvciBuZXcgdmVydGV4IGJ5IGhpbnRNYXJrZXIgKGN1cnNvciBtYXJrZXIpXG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBtYXJrZXJcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTC5NYXJrZXIobGF0bG5nLCB0aGlzLm9wdGlvbnMubWFya2VyU3R5bGUpO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAnbWFya2VyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKG1hcmtlcik7XG5cbiAgICBpZiAoIW1hcmtlci5wbSkge1xuICAgICAgLy8gaWYgcG0gaXMgbm90IGNyZWF0ZSB3ZSBkb24ndCBhcHBseSBkcmFnZ2luZyB0byB0aGUgbWFya2VyIChkcmFnZ2FibGUgaXMgYXBwbGllZCB0byB0aGUgbWFya2VyLCB3aGVuIGl0IGlzIGFkZGVkIHRvIHRoZSBtYXAgKVxuICAgICAgbWFya2VyLm9wdGlvbnMuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGFkZCBtYXJrZXIgdG8gdGhlIG1hcFxuICAgIG1hcmtlci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcblxuICAgIGlmIChtYXJrZXIucG0gJiYgdGhpcy5vcHRpb25zLm1hcmtlckVkaXRhYmxlKSB7XG4gICAgICAvLyBlbmFibGUgZWRpdGluZyBmb3IgdGhlIG1hcmtlclxuICAgICAgbWFya2VyLnBtLmVuYWJsZSgpO1xuICAgIH0gZWxzZSBpZiAobWFya2VyLmRyYWdnaW5nKSB7XG4gICAgICBtYXJrZXIuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbWFya2VyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShtYXJrZXIpO1xuXG4gICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgc2V0U3R5bGUoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5tYXJrZXJTdHlsZT8uaWNvbikge1xuICAgICAgdGhpcy5faGludE1hcmtlcj8uc2V0SWNvbih0aGlzLm9wdGlvbnMubWFya2VyU3R5bGUuaWNvbik7XG4gICAgfVxuICB9LFxufSk7XG4iLCAiLyoqXG4gKiBAbW9kdWxlIGhlbHBlcnNcbiAqL1xuLyoqXG4gKiBFYXJ0aCBSYWRpdXMgdXNlZCB3aXRoIHRoZSBIYXJ2ZXNpbmUgZm9ybXVsYSBhbmQgYXBwcm94aW1hdGVzIHVzaW5nIGEgc3BoZXJpY2FsIChub24tZWxsaXBzb2lkKSBFYXJ0aC5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IHZhciBlYXJ0aFJhZGl1cyA9IDYzNzEwMDguODtcbi8qKlxuICogVW5pdCBvZiBtZWFzdXJlbWVudCBmYWN0b3JzIHVzaW5nIGEgc3BoZXJpY2FsIChub24tZWxsaXBzb2lkKSBlYXJ0aCByYWRpdXMuXG4gKlxuICogQG1lbWJlcm9mIGhlbHBlcnNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgZmFjdG9ycyA9IHtcbiAgICBjZW50aW1ldGVyczogZWFydGhSYWRpdXMgKiAxMDAsXG4gICAgY2VudGltZXRyZXM6IGVhcnRoUmFkaXVzICogMTAwLFxuICAgIGRlZ3JlZXM6IGVhcnRoUmFkaXVzIC8gMTExMzI1LFxuICAgIGZlZXQ6IGVhcnRoUmFkaXVzICogMy4yODA4NCxcbiAgICBpbmNoZXM6IGVhcnRoUmFkaXVzICogMzkuMzcsXG4gICAga2lsb21ldGVyczogZWFydGhSYWRpdXMgLyAxMDAwLFxuICAgIGtpbG9tZXRyZXM6IGVhcnRoUmFkaXVzIC8gMTAwMCxcbiAgICBtZXRlcnM6IGVhcnRoUmFkaXVzLFxuICAgIG1ldHJlczogZWFydGhSYWRpdXMsXG4gICAgbWlsZXM6IGVhcnRoUmFkaXVzIC8gMTYwOS4zNDQsXG4gICAgbWlsbGltZXRlcnM6IGVhcnRoUmFkaXVzICogMTAwMCxcbiAgICBtaWxsaW1ldHJlczogZWFydGhSYWRpdXMgKiAxMDAwLFxuICAgIG5hdXRpY2FsbWlsZXM6IGVhcnRoUmFkaXVzIC8gMTg1MixcbiAgICByYWRpYW5zOiAxLFxuICAgIHlhcmRzOiBlYXJ0aFJhZGl1cyAqIDEuMDkzNixcbn07XG4vKipcbiAqIFVuaXRzIG9mIG1lYXN1cmVtZW50IGZhY3RvcnMgYmFzZWQgb24gMSBtZXRlci5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IHZhciB1bml0c0ZhY3RvcnMgPSB7XG4gICAgY2VudGltZXRlcnM6IDEwMCxcbiAgICBjZW50aW1ldHJlczogMTAwLFxuICAgIGRlZ3JlZXM6IDEgLyAxMTEzMjUsXG4gICAgZmVldDogMy4yODA4NCxcbiAgICBpbmNoZXM6IDM5LjM3LFxuICAgIGtpbG9tZXRlcnM6IDEgLyAxMDAwLFxuICAgIGtpbG9tZXRyZXM6IDEgLyAxMDAwLFxuICAgIG1ldGVyczogMSxcbiAgICBtZXRyZXM6IDEsXG4gICAgbWlsZXM6IDEgLyAxNjA5LjM0NCxcbiAgICBtaWxsaW1ldGVyczogMTAwMCxcbiAgICBtaWxsaW1ldHJlczogMTAwMCxcbiAgICBuYXV0aWNhbG1pbGVzOiAxIC8gMTg1MixcbiAgICByYWRpYW5zOiAxIC8gZWFydGhSYWRpdXMsXG4gICAgeWFyZHM6IDEuMDkzNjEzMyxcbn07XG4vKipcbiAqIEFyZWEgb2YgbWVhc3VyZW1lbnQgZmFjdG9ycyBiYXNlZCBvbiAxIHNxdWFyZSBtZXRlci5cbiAqXG4gKiBAbWVtYmVyb2YgaGVscGVyc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IHZhciBhcmVhRmFjdG9ycyA9IHtcbiAgICBhY3JlczogMC4wMDAyNDcxMDUsXG4gICAgY2VudGltZXRlcnM6IDEwMDAwLFxuICAgIGNlbnRpbWV0cmVzOiAxMDAwMCxcbiAgICBmZWV0OiAxMC43NjM5MTA0MTcsXG4gICAgaGVjdGFyZXM6IDAuMDAwMSxcbiAgICBpbmNoZXM6IDE1NTAuMDAzMTAwMDA2LFxuICAgIGtpbG9tZXRlcnM6IDAuMDAwMDAxLFxuICAgIGtpbG9tZXRyZXM6IDAuMDAwMDAxLFxuICAgIG1ldGVyczogMSxcbiAgICBtZXRyZXM6IDEsXG4gICAgbWlsZXM6IDMuODZlLTcsXG4gICAgbWlsbGltZXRlcnM6IDEwMDAwMDAsXG4gICAgbWlsbGltZXRyZXM6IDEwMDAwMDAsXG4gICAgeWFyZHM6IDEuMTk1OTkwMDQ2LFxufTtcbi8qKlxuICogV3JhcHMgYSBHZW9KU09OIHtAbGluayBHZW9tZXRyeX0gaW4gYSBHZW9KU09OIHtAbGluayBGZWF0dXJlfS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBnZW9tZXRyeSBpbnB1dCBnZW9tZXRyeVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlfSBhIEdlb0pTT04gRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBnZW9tZXRyeSA9IHtcbiAqICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAqICAgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA1MF1cbiAqIH07XG4gKlxuICogdmFyIGZlYXR1cmUgPSB0dXJmLmZlYXR1cmUoZ2VvbWV0cnkpO1xuICpcbiAqIC8vPWZlYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGZlYXQgPSB7IHR5cGU6IFwiRmVhdHVyZVwiIH07XG4gICAgaWYgKG9wdGlvbnMuaWQgPT09IDAgfHwgb3B0aW9ucy5pZCkge1xuICAgICAgICBmZWF0LmlkID0gb3B0aW9ucy5pZDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYmJveCkge1xuICAgICAgICBmZWF0LmJib3ggPSBvcHRpb25zLmJib3g7XG4gICAgfVxuICAgIGZlYXQucHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gICAgZmVhdC5nZW9tZXRyeSA9IGdlb207XG4gICAgcmV0dXJuIGZlYXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBHZW9KU09OIHtAbGluayBHZW9tZXRyeX0gZnJvbSBhIEdlb21ldHJ5IHN0cmluZyB0eXBlICYgY29vcmRpbmF0ZXMuXG4gKiBGb3IgR2VvbWV0cnlDb2xsZWN0aW9uIHR5cGUgdXNlIGBoZWxwZXJzLmdlb21ldHJ5Q29sbGVjdGlvbmBcbiAqXG4gKiBAbmFtZSBnZW9tZXRyeVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgR2VvbWV0cnkgVHlwZVxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBjb29yZGluYXRlcyBDb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcmV0dXJucyB7R2VvbWV0cnl9IGEgR2VvSlNPTiBHZW9tZXRyeVxuICogQGV4YW1wbGVcbiAqIHZhciB0eXBlID0gXCJQb2ludFwiO1xuICogdmFyIGNvb3JkaW5hdGVzID0gWzExMCwgNTBdO1xuICogdmFyIGdlb21ldHJ5ID0gdHVyZi5nZW9tZXRyeSh0eXBlLCBjb29yZGluYXRlcyk7XG4gKiAvLyA9PiBnZW9tZXRyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VvbWV0cnkodHlwZSwgY29vcmRpbmF0ZXMsIF9vcHRpb25zKSB7XG4gICAgaWYgKF9vcHRpb25zID09PSB2b2lkIDApIHsgX29wdGlvbnMgPSB7fTsgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBwb2ludChjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gbGluZVN0cmluZyhjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICByZXR1cm4gcG9seWdvbihjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gbXVsdGlQb2ludChjb29yZGluYXRlcykuZ2VvbWV0cnk7XG4gICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBtdWx0aUxpbmVTdHJpbmcoY29vcmRpbmF0ZXMpLmdlb21ldHJ5O1xuICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgICAgICByZXR1cm4gbXVsdGlQb2x5Z29uKGNvb3JkaW5hdGVzKS5nZW9tZXRyeTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0eXBlICsgXCIgaXMgaW52YWxpZFwiKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9pbnR9IHtAbGluayBGZWF0dXJlfSBmcm9tIGEgUG9zaXRpb24uXG4gKlxuICogQG5hbWUgcG9pbnRcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgbG9uZ2l0dWRlLCBsYXRpdHVkZSBwb3NpdGlvbiAoZWFjaCBpbiBkZWNpbWFsIGRlZ3JlZXMpXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8UG9pbnQ+fSBhIFBvaW50IGZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdKTtcbiAqXG4gKiAvLz1wb2ludFxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnQoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmICghY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShjb29yZGluYXRlcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBBcnJheVwiKTtcbiAgICB9XG4gICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgbXVzdCBiZSBhdCBsZWFzdCAyIG51bWJlcnMgbG9uZ1wiKTtcbiAgICB9XG4gICAgaWYgKCFpc051bWJlcihjb29yZGluYXRlc1swXSkgfHwgIWlzTnVtYmVyKGNvb3JkaW5hdGVzWzFdKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb29yZGluYXRlcyBtdXN0IGNvbnRhaW4gbnVtYmVyc1wiKTtcbiAgICB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiUG9pbnRcIixcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9pbnR9IHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0gZnJvbSBhbiBBcnJheSBvZiBQb2ludCBjb29yZGluYXRlcy5cbiAqXG4gKiBAbmFtZSBwb2ludHNcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvaW50c1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBUcmFuc2xhdGUgdGhlc2UgcHJvcGVydGllcyB0byBlYWNoIEZlYXR1cmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF1cbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPFBvaW50Pn0gUG9pbnQgRmVhdHVyZVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludHMgPSB0dXJmLnBvaW50cyhbXG4gKiAgIFstNzUsIDM5XSxcbiAqICAgWy04MCwgNDVdLFxuICogICBbLTc4LCA1MF1cbiAqIF0pO1xuICpcbiAqIC8vPXBvaW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50KGNvb3JkcywgcHJvcGVydGllcyk7XG4gICAgfSksIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFBvbHlnb259IHtAbGluayBGZWF0dXJlfSBmcm9tIGFuIEFycmF5IG9mIExpbmVhclJpbmdzLlxuICpcbiAqIEBuYW1lIHBvbHlnb25cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lYXJSaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvbHlnb24+fSBQb2x5Z29uIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNSwgNTJdLCBbLTQsIDU2XSwgWy0yLCA1MV0sIFstNywgNTRdLCBbLTUsIDUyXV1dLCB7IG5hbWU6ICdwb2x5MScgfSk7XG4gKlxuICogLy89cG9seWdvblxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9seWdvbihjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgZm9yICh2YXIgX2kgPSAwLCBjb29yZGluYXRlc18xID0gY29vcmRpbmF0ZXM7IF9pIDwgY29vcmRpbmF0ZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHJpbmcgPSBjb29yZGluYXRlc18xW19pXTtcbiAgICAgICAgaWYgKHJpbmcubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWFjaCBMaW5lYXJSaW5nIG9mIGEgUG9seWdvbiBtdXN0IGhhdmUgNCBvciBtb3JlIFBvc2l0aW9ucy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByaW5nW3JpbmcubGVuZ3RoIC0gMV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZpcnN0IHBvaW50IG9mIFBvbHlnb24gY29udGFpbnMgdHdvIG51bWJlcnNcbiAgICAgICAgICAgIGlmIChyaW5nW3JpbmcubGVuZ3RoIC0gMV1bal0gIT09IHJpbmdbMF1bal0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBhbmQgbGFzdCBQb3NpdGlvbiBhcmUgbm90IGVxdWl2YWxlbnQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIlBvbHlnb25cIixcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLFxuICAgIH07XG4gICAgcmV0dXJuIGZlYXR1cmUoZ2VvbSwgcHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUG9seWdvbn0ge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufSBmcm9tIGFuIEFycmF5IG9mIFBvbHlnb24gY29vcmRpbmF0ZXMuXG4gKlxuICogQG5hbWUgcG9seWdvbnNcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9seWdvbiBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9seWdvbj59IFBvbHlnb24gRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbnMgPSB0dXJmLnBvbHlnb25zKFtcbiAqICAgW1tbLTUsIDUyXSwgWy00LCA1Nl0sIFstMiwgNTFdLCBbLTcsIDU0XSwgWy01LCA1Ml1dXSxcbiAqICAgW1tbLTE1LCA0Ml0sIFstMTQsIDQ2XSwgWy0xMiwgNDFdLCBbLTE3LCA0NF0sIFstMTUsIDQyXV1dLFxuICogXSk7XG4gKlxuICogLy89cG9seWdvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvbHlnb25zKGNvb3JkaW5hdGVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHBvbHlnb24oY29vcmRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9KSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgTGluZVN0cmluZ30ge0BsaW5rIEZlYXR1cmV9IGZyb20gYW4gQXJyYXkgb2YgUG9zaXRpb25zLlxuICpcbiAqIEBuYW1lIGxpbmVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvc2l0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBMaW5lU3RyaW5nIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZXN0cmluZzEgPSB0dXJmLmxpbmVTdHJpbmcoW1stMjQsIDYzXSwgWy0yMywgNjBdLCBbLTI1LCA2NV0sIFstMjAsIDY5XV0sIHtuYW1lOiAnbGluZSAxJ30pO1xuICogdmFyIGxpbmVzdHJpbmcyID0gdHVyZi5saW5lU3RyaW5nKFtbLTE0LCA0M10sIFstMTMsIDQwXSwgWy0xNSwgNDVdLCBbLTEwLCA0OV1dLCB7bmFtZTogJ2xpbmUgMid9KTtcbiAqXG4gKiAvLz1saW5lc3RyaW5nMVxuICogLy89bGluZXN0cmluZzJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVTdHJpbmcoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkaW5hdGVzIG11c3QgYmUgYW4gYXJyYXkgb2YgdHdvIG9yIG1vcmUgcG9zaXRpb25zXCIpO1xuICAgIH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJMaW5lU3RyaW5nXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIExpbmVTdHJpbmd9IHtAbGluayBGZWF0dXJlQ29sbGVjdGlvbn0gZnJvbSBhbiBBcnJheSBvZiBMaW5lU3RyaW5nIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBuYW1lIGxpbmVTdHJpbmdzXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgTGluZWFyUmluZ3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVDb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248TGluZVN0cmluZz59IExpbmVTdHJpbmcgRmVhdHVyZUNvbGxlY3Rpb25cbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZXN0cmluZ3MgPSB0dXJmLmxpbmVTdHJpbmdzKFtcbiAqICAgW1stMjQsIDYzXSwgWy0yMywgNjBdLCBbLTI1LCA2NV0sIFstMjAsIDY5XV0sXG4gKiAgIFtbLTE0LCA0M10sIFstMTMsIDQwXSwgWy0xNSwgNDVdLCBbLTEwLCA0OV1dXG4gKiBdKTtcbiAqXG4gKiAvLz1saW5lc3RyaW5nc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZ3MoY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihjb29yZGluYXRlcy5tYXAoZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICByZXR1cm4gbGluZVN0cmluZyhjb29yZHMsIHByb3BlcnRpZXMpO1xuICAgIH0pLCBvcHRpb25zKTtcbn1cbi8qKlxuICogVGFrZXMgb25lIG9yIG1vcmUge0BsaW5rIEZlYXR1cmV8RmVhdHVyZXN9IGFuZCBjcmVhdGVzIGEge0BsaW5rIEZlYXR1cmVDb2xsZWN0aW9ufS5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlQ29sbGVjdGlvblxuICogQHBhcmFtIHtGZWF0dXJlW119IGZlYXR1cmVzIGlucHV0IGZlYXR1cmVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbn0gRmVhdHVyZUNvbGxlY3Rpb24gb2YgRmVhdHVyZXNcbiAqIEBleGFtcGxlXG4gKiB2YXIgbG9jYXRpb25BID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSwge25hbWU6ICdMb2NhdGlvbiBBJ30pO1xuICogdmFyIGxvY2F0aW9uQiA9IHR1cmYucG9pbnQoWy03NS44MzMsIDM5LjI4NF0sIHtuYW1lOiAnTG9jYXRpb24gQid9KTtcbiAqIHZhciBsb2NhdGlvbkMgPSB0dXJmLnBvaW50KFstNzUuNTM0LCAzOS4xMjNdLCB7bmFtZTogJ0xvY2F0aW9uIEMnfSk7XG4gKlxuICogdmFyIGNvbGxlY3Rpb24gPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgbG9jYXRpb25BLFxuICogICBsb2NhdGlvbkIsXG4gKiAgIGxvY2F0aW9uQ1xuICogXSk7XG4gKlxuICogLy89Y29sbGVjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBmYyA9IHsgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiIH07XG4gICAgaWYgKG9wdGlvbnMuaWQpIHtcbiAgICAgICAgZmMuaWQgPSBvcHRpb25zLmlkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5iYm94KSB7XG4gICAgICAgIGZjLmJib3ggPSBvcHRpb25zLmJib3g7XG4gICAgfVxuICAgIGZjLmZlYXR1cmVzID0gZmVhdHVyZXM7XG4gICAgcmV0dXJuIGZjO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8TXVsdGlMaW5lU3RyaW5nPn0gYmFzZWQgb24gYVxuICogY29vcmRpbmF0ZSBhcnJheS4gUHJvcGVydGllcyBjYW4gYmUgYWRkZWQgb3B0aW9uYWxseS5cbiAqXG4gKiBAbmFtZSBtdWx0aUxpbmVTdHJpbmdcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8bnVtYmVyPj4+fSBjb29yZGluYXRlcyBhbiBhcnJheSBvZiBMaW5lU3RyaW5nc1xuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBhbiBPYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFkZCBhcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIFBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW29wdGlvbnMuYmJveF0gQm91bmRpbmcgQm94IEFycmF5IFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3B0aW9ucy5pZF0gSWRlbnRpZmllciBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlPE11bHRpTGluZVN0cmluZz59IGEgTXVsdGlMaW5lU3RyaW5nIGZlYXR1cmVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBjb29yZGluYXRlcyBhcmUgcGFzc2VkXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtbWzAsMF0sWzEwLDEwXV1dKTtcbiAqXG4gKiAvLz1tdWx0aUxpbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpTGluZVN0cmluZyhjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTXVsdGlMaW5lU3RyaW5nXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIEZlYXR1cmU8TXVsdGlQb2ludD59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlQb2ludFxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgYW4gYXJyYXkgb2YgUG9zaXRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2ludD59IGEgTXVsdGlQb2ludCBmZWF0dXJlXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gY29vcmRpbmF0ZXMgYXJlIHBhc3NlZFxuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aVB0ID0gdHVyZi5tdWx0aVBvaW50KFtbMCwwXSxbMTAsMTBdXSk7XG4gKlxuICogLy89bXVsdGlQdFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlQb2ludChjb29yZGluYXRlcywgcHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGdlb20gPSB7XG4gICAgICAgIHR5cGU6IFwiTXVsdGlQb2ludFwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPE11bHRpUG9seWdvbj59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgbXVsdGlQb2x5Z29uXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PEFycmF5PG51bWJlcj4+Pj59IGNvb3JkaW5hdGVzIGFuIGFycmF5IG9mIFBvbHlnb25zXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIGFuIE9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYWRkIGFzIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3B0aW9ucy5iYm94XSBCb3VuZGluZyBCb3ggQXJyYXkgW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtvcHRpb25zLmlkXSBJZGVudGlmaWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgRmVhdHVyZVxuICogQHJldHVybnMge0ZlYXR1cmU8TXVsdGlQb2x5Z29uPn0gYSBtdWx0aXBvbHlnb24gZmVhdHVyZVxuICogQHRocm93cyB7RXJyb3J9IGlmIG5vIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWRcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlQb2x5ID0gdHVyZi5tdWx0aVBvbHlnb24oW1tbWzAsMF0sWzAsMTBdLFsxMCwxMF0sWzEwLDBdLFswLDBdXV1dKTtcbiAqXG4gKiAvLz1tdWx0aVBvbHlcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aVBvbHlnb24oY29vcmRpbmF0ZXMsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBcIk11bHRpUG9seWdvblwiLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsXG4gICAgfTtcbiAgICByZXR1cm4gZmVhdHVyZShnZW9tLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBGZWF0dXJlPEdlb21ldHJ5Q29sbGVjdGlvbj59IGJhc2VkIG9uIGFcbiAqIGNvb3JkaW5hdGUgYXJyYXkuIFByb3BlcnRpZXMgY2FuIGJlIGFkZGVkIG9wdGlvbmFsbHkuXG4gKlxuICogQG5hbWUgZ2VvbWV0cnlDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0FycmF5PEdlb21ldHJ5Pn0gZ2VvbWV0cmllcyBhbiBhcnJheSBvZiBHZW9KU09OIEdlb21ldHJpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gYW4gT2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycyB0byBhZGQgYXMgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvcHRpb25zLmJib3hdIEJvdW5kaW5nIEJveCBBcnJheSBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBhc3NvY2lhdGVkIHdpdGggdGhlIEZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW29wdGlvbnMuaWRdIElkZW50aWZpZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBGZWF0dXJlXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxHZW9tZXRyeUNvbGxlY3Rpb24+fSBhIEdlb0pTT04gR2VvbWV0cnlDb2xsZWN0aW9uIEZlYXR1cmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcHQgPSB0dXJmLmdlb21ldHJ5KFwiUG9pbnRcIiwgWzEwMCwgMF0pO1xuICogdmFyIGxpbmUgPSB0dXJmLmdlb21ldHJ5KFwiTGluZVN0cmluZ1wiLCBbWzEwMSwgMF0sIFsxMDIsIDFdXSk7XG4gKiB2YXIgY29sbGVjdGlvbiA9IHR1cmYuZ2VvbWV0cnlDb2xsZWN0aW9uKFtwdCwgbGluZV0pO1xuICpcbiAqIC8vID0+IGNvbGxlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlb21ldHJ5Q29sbGVjdGlvbihnZW9tZXRyaWVzLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZ2VvbSA9IHtcbiAgICAgICAgdHlwZTogXCJHZW9tZXRyeUNvbGxlY3Rpb25cIixcbiAgICAgICAgZ2VvbWV0cmllczogZ2VvbWV0cmllcyxcbiAgICB9O1xuICAgIHJldHVybiBmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBSb3VuZCBudW1iZXIgdG8gcHJlY2lzaW9uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFByZWNpc2lvblxuICogQHJldHVybnMge251bWJlcn0gcm91bmRlZCBudW1iZXJcbiAqIEBleGFtcGxlXG4gKiB0dXJmLnJvdW5kKDEyMC40MzIxKVxuICogLy89MTIwXG4gKlxuICogdHVyZi5yb3VuZCgxMjAuNDMyMSwgMilcbiAqIC8vPTEyMC40M1xuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQobnVtLCBwcmVjaXNpb24pIHtcbiAgICBpZiAocHJlY2lzaW9uID09PSB2b2lkIDApIHsgcHJlY2lzaW9uID0gMDsgfVxuICAgIGlmIChwcmVjaXNpb24gJiYgIShwcmVjaXNpb24gPj0gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJlY2lzaW9uIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuICAgIHZhciBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiB8fCAwKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiBtdWx0aXBsaWVyKSAvIG11bHRpcGxpZXI7XG59XG4vKipcbiAqIENvbnZlcnQgYSBkaXN0YW5jZSBtZWFzdXJlbWVudCAoYXNzdW1pbmcgYSBzcGhlcmljYWwgRWFydGgpIGZyb20gcmFkaWFucyB0byBhIG1vcmUgZnJpZW5kbHkgdW5pdC5cbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGtpbG9tZXRlcnMsIGNlbnRpbWV0ZXJzLCBmZWV0XG4gKlxuICogQG5hbWUgcmFkaWFuc1RvTGVuZ3RoXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaWFucyBpbiByYWRpYW5zIGFjcm9zcyB0aGUgc3BoZXJlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPVwia2lsb21ldGVyc1wiXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldHJlcyxcbiAqIG1ldGVycywga2lsb21ldHJlcywga2lsb21ldGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRpc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYWRpYW5zVG9MZW5ndGgocmFkaWFucywgdW5pdHMpIHtcbiAgICBpZiAodW5pdHMgPT09IHZvaWQgMCkgeyB1bml0cyA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgdmFyIGZhY3RvciA9IGZhY3RvcnNbdW5pdHNdO1xuICAgIGlmICghZmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih1bml0cyArIFwiIHVuaXRzIGlzIGludmFsaWRcIik7XG4gICAgfVxuICAgIHJldHVybiByYWRpYW5zICogZmFjdG9yO1xufVxuLyoqXG4gKiBDb252ZXJ0IGEgZGlzdGFuY2UgbWVhc3VyZW1lbnQgKGFzc3VtaW5nIGEgc3BoZXJpY2FsIEVhcnRoKSBmcm9tIGEgcmVhbC13b3JsZCB1bml0IGludG8gcmFkaWFuc1xuICogVmFsaWQgdW5pdHM6IG1pbGVzLCBuYXV0aWNhbG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRlcnMsIG1ldHJlcywga2lsb21ldGVycywgY2VudGltZXRlcnMsIGZlZXRcbiAqXG4gKiBAbmFtZSBsZW5ndGhUb1JhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBpbiByZWFsIHVuaXRzXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VuaXRzPVwia2lsb21ldGVyc1wiXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldHJlcyxcbiAqIG1ldGVycywga2lsb21ldHJlcywga2lsb21ldGVycy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IHJhZGlhbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aFRvUmFkaWFucyhkaXN0YW5jZSwgdW5pdHMpIHtcbiAgICBpZiAodW5pdHMgPT09IHZvaWQgMCkgeyB1bml0cyA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgdmFyIGZhY3RvciA9IGZhY3RvcnNbdW5pdHNdO1xuICAgIGlmICghZmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih1bml0cyArIFwiIHVuaXRzIGlzIGludmFsaWRcIik7XG4gICAgfVxuICAgIHJldHVybiBkaXN0YW5jZSAvIGZhY3Rvcjtcbn1cbi8qKlxuICogQ29udmVydCBhIGRpc3RhbmNlIG1lYXN1cmVtZW50IChhc3N1bWluZyBhIHNwaGVyaWNhbCBFYXJ0aCkgZnJvbSBhIHJlYWwtd29ybGQgdW5pdCBpbnRvIGRlZ3JlZXNcbiAqIFZhbGlkIHVuaXRzOiBtaWxlcywgbmF1dGljYWxtaWxlcywgaW5jaGVzLCB5YXJkcywgbWV0ZXJzLCBtZXRyZXMsIGNlbnRpbWV0ZXJzLCBraWxvbWV0cmVzLCBmZWV0XG4gKlxuICogQG5hbWUgbGVuZ3RoVG9EZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgaW4gcmVhbCB1bml0c1xuICogQHBhcmFtIHtzdHJpbmd9IFt1bml0cz1cImtpbG9tZXRlcnNcIl0gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBpbmNoZXMsIHlhcmRzLCBtZXRyZXMsXG4gKiBtZXRlcnMsIGtpbG9tZXRyZXMsIGtpbG9tZXRlcnMuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBkZWdyZWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhUb0RlZ3JlZXMoZGlzdGFuY2UsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHJhZGlhbnNUb0RlZ3JlZXMobGVuZ3RoVG9SYWRpYW5zKGRpc3RhbmNlLCB1bml0cykpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbnkgYmVhcmluZyBhbmdsZSBmcm9tIHRoZSBub3J0aCBsaW5lIGRpcmVjdGlvbiAocG9zaXRpdmUgY2xvY2t3aXNlKVxuICogYW5kIHJldHVybnMgYW4gYW5nbGUgYmV0d2VlbiAwLTM2MCBkZWdyZWVzIChwb3NpdGl2ZSBjbG9ja3dpc2UpLCAwIGJlaW5nIHRoZSBub3J0aCBsaW5lXG4gKlxuICogQG5hbWUgYmVhcmluZ1RvQXppbXV0aFxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgYW5nbGUsIGJldHdlZW4gLTE4MCBhbmQgKzE4MCBkZWdyZWVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbmdsZSBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWFyaW5nVG9BemltdXRoKGJlYXJpbmcpIHtcbiAgICB2YXIgYW5nbGUgPSBiZWFyaW5nICUgMzYwO1xuICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgICAgYW5nbGUgKz0gMzYwO1xuICAgIH1cbiAgICByZXR1cm4gYW5nbGU7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIGFuZ2xlIGluIHJhZGlhbnMgdG8gZGVncmVlc1xuICpcbiAqIEBuYW1lIHJhZGlhbnNUb0RlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYW5zIGFuZ2xlIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRlZ3JlZXMgYmV0d2VlbiAwIGFuZCAzNjAgZGVncmVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaWFuc1RvRGVncmVlcyhyYWRpYW5zKSB7XG4gICAgdmFyIGRlZ3JlZXMgPSByYWRpYW5zICUgKDIgKiBNYXRoLlBJKTtcbiAgICByZXR1cm4gKGRlZ3JlZXMgKiAxODApIC8gTWF0aC5QSTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gYW5nbGUgaW4gZGVncmVlcyB0byByYWRpYW5zXG4gKlxuICogQG5hbWUgZGVncmVlc1RvUmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgYW5nbGUgYmV0d2VlbiAwIGFuZCAzNjAgZGVncmVlc1xuICogQHJldHVybnMge251bWJlcn0gYW5nbGUgaW4gcmFkaWFuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVncmVlc1RvUmFkaWFucyhkZWdyZWVzKSB7XG4gICAgdmFyIHJhZGlhbnMgPSBkZWdyZWVzICUgMzYwO1xuICAgIHJldHVybiAocmFkaWFucyAqIE1hdGguUEkpIC8gMTgwO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGxlbmd0aCB0byB0aGUgcmVxdWVzdGVkIHVuaXQuXG4gKiBWYWxpZCB1bml0czogbWlsZXMsIG5hdXRpY2FsbWlsZXMsIGluY2hlcywgeWFyZHMsIG1ldGVycywgbWV0cmVzLCBraWxvbWV0ZXJzLCBjZW50aW1ldGVycywgZmVldFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge1VuaXRzfSBbb3JpZ2luYWxVbml0PVwia2lsb21ldGVyc1wiXSBvZiB0aGUgbGVuZ3RoXG4gKiBAcGFyYW0ge1VuaXRzfSBbZmluYWxVbml0PVwia2lsb21ldGVyc1wiXSByZXR1cm5lZCB1bml0XG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgY29udmVydGVkIGxlbmd0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydExlbmd0aChsZW5ndGgsIG9yaWdpbmFsVW5pdCwgZmluYWxVbml0KSB7XG4gICAgaWYgKG9yaWdpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IG9yaWdpbmFsVW5pdCA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgaWYgKGZpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IGZpbmFsVW5pdCA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgaWYgKCEobGVuZ3RoID49IDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImxlbmd0aCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmFkaWFuc1RvTGVuZ3RoKGxlbmd0aFRvUmFkaWFucyhsZW5ndGgsIG9yaWdpbmFsVW5pdCksIGZpbmFsVW5pdCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgYXJlYSB0byB0aGUgcmVxdWVzdGVkIHVuaXQuXG4gKiBWYWxpZCB1bml0czoga2lsb21ldGVycywga2lsb21ldHJlcywgbWV0ZXJzLCBtZXRyZXMsIGNlbnRpbWV0cmVzLCBtaWxsaW1ldGVycywgYWNyZXMsIG1pbGVzLCB5YXJkcywgZmVldCwgaW5jaGVzLCBoZWN0YXJlc1xuICogQHBhcmFtIHtudW1iZXJ9IGFyZWEgdG8gYmUgY29udmVydGVkXG4gKiBAcGFyYW0ge1VuaXRzfSBbb3JpZ2luYWxVbml0PVwibWV0ZXJzXCJdIG9mIHRoZSBkaXN0YW5jZVxuICogQHBhcmFtIHtVbml0c30gW2ZpbmFsVW5pdD1cImtpbG9tZXRlcnNcIl0gcmV0dXJuZWQgdW5pdFxuICogQHJldHVybnMge251bWJlcn0gdGhlIGNvbnZlcnRlZCBhcmVhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0QXJlYShhcmVhLCBvcmlnaW5hbFVuaXQsIGZpbmFsVW5pdCkge1xuICAgIGlmIChvcmlnaW5hbFVuaXQgPT09IHZvaWQgMCkgeyBvcmlnaW5hbFVuaXQgPSBcIm1ldGVyc1wiOyB9XG4gICAgaWYgKGZpbmFsVW5pdCA9PT0gdm9pZCAwKSB7IGZpbmFsVW5pdCA9IFwia2lsb21ldGVyc1wiOyB9XG4gICAgaWYgKCEoYXJlYSA+PSAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcmVhIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgfVxuICAgIHZhciBzdGFydEZhY3RvciA9IGFyZWFGYWN0b3JzW29yaWdpbmFsVW5pdF07XG4gICAgaWYgKCFzdGFydEZhY3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG9yaWdpbmFsIHVuaXRzXCIpO1xuICAgIH1cbiAgICB2YXIgZmluYWxGYWN0b3IgPSBhcmVhRmFjdG9yc1tmaW5hbFVuaXRdO1xuICAgIGlmICghZmluYWxGYWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaW5hbCB1bml0c1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIChhcmVhIC8gc3RhcnRGYWN0b3IpICogZmluYWxGYWN0b3I7XG59XG4vKipcbiAqIGlzTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSBudW0gTnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHR1cmYuaXNOdW1iZXIoMTIzKVxuICogLy89dHJ1ZVxuICogdHVyZi5pc051bWJlcignZm9vJylcbiAqIC8vPWZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcihudW0pIHtcbiAgICByZXR1cm4gIWlzTmFOKG51bSkgJiYgbnVtICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG51bSk7XG59XG4vKipcbiAqIGlzT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSBpbnB1dCB2YXJpYWJsZSB0byB2YWxpZGF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2VcbiAqIEBleGFtcGxlXG4gKiB0dXJmLmlzT2JqZWN0KHtlbGV2YXRpb246IDEwfSlcbiAqIC8vPXRydWVcbiAqIHR1cmYuaXNPYmplY3QoJ2ZvbycpXG4gKiAvLz1mYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICByZXR1cm4gISFpbnB1dCAmJiBpbnB1dC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuLyoqXG4gKiBWYWxpZGF0ZSBCQm94XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYmJveCBCQm94IHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEB0aHJvd3MgRXJyb3IgaWYgQkJveCBpcyBub3QgdmFsaWRcbiAqIEBleGFtcGxlXG4gKiB2YWxpZGF0ZUJCb3goWy0xODAsIC00MCwgMTEwLCA1MF0pXG4gKiAvLz1PS1xuICogdmFsaWRhdGVCQm94KFstMTgwLCAtNDBdKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlQkJveCgnRm9vJylcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3goNSlcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3gobnVsbClcbiAqIC8vPUVycm9yXG4gKiB2YWxpZGF0ZUJCb3godW5kZWZpbmVkKVxuICogLy89RXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQkJveChiYm94KSB7XG4gICAgaWYgKCFiYm94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImJib3ggaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShiYm94KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3QgYmUgYW4gQXJyYXlcIik7XG4gICAgfVxuICAgIGlmIChiYm94Lmxlbmd0aCAhPT0gNCAmJiBiYm94Lmxlbmd0aCAhPT0gNikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYm94IG11c3QgYmUgYW4gQXJyYXkgb2YgNCBvciA2IG51bWJlcnNcIik7XG4gICAgfVxuICAgIGJib3guZm9yRWFjaChmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIGlmICghaXNOdW1iZXIobnVtKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmJveCBtdXN0IG9ubHkgY29udGFpbiBudW1iZXJzXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFZhbGlkYXRlIElkXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgSWQgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHRocm93cyBFcnJvciBpZiBJZCBpcyBub3QgdmFsaWRcbiAqIEBleGFtcGxlXG4gKiB2YWxpZGF0ZUlkKFstMTgwLCAtNDAsIDExMCwgNTBdKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlSWQoWy0xODAsIC00MF0pXG4gKiAvLz1FcnJvclxuICogdmFsaWRhdGVJZCgnRm9vJylcbiAqIC8vPU9LXG4gKiB2YWxpZGF0ZUlkKDUpXG4gKiAvLz1PS1xuICogdmFsaWRhdGVJZChudWxsKVxuICogLy89RXJyb3JcbiAqIHZhbGlkYXRlSWQodW5kZWZpbmVkKVxuICogLy89RXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSWQoaWQpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImlkIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoW1wic3RyaW5nXCIsIFwibnVtYmVyXCJdLmluZGV4T2YodHlwZW9mIGlkKSA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWQgbXVzdCBiZSBhIG51bWJlciBvciBhIHN0cmluZ1wiKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgcG9pbnQgfSBmcm9tIFwiQHR1cmYvaGVscGVyc1wiO1xuLyoqXG4gKiBUYWtlcyBhIHtAbGluayBMaW5lU3RyaW5nfGxpbmVzdHJpbmd9LCB7QGxpbmsgTXVsdGlMaW5lU3RyaW5nfG11bHRpLWxpbmVzdHJpbmd9LFxuICoge0BsaW5rIE11bHRpUG9seWdvbnxtdWx0aS1wb2x5Z29ufSBvciB7QGxpbmsgUG9seWdvbnxwb2x5Z29ufSBhbmRcbiAqIHJldHVybnMge0BsaW5rIFBvaW50fHBvaW50c30gYXQgYWxsIHNlbGYtaW50ZXJzZWN0aW9ucy5cbiAqXG4gKiBAbmFtZSBraW5rc1xuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmd8TXVsdGlMaW5lU3RyaW5nfE11bHRpUG9seWdvbnxQb2x5Z29uPn0gZmVhdHVyZUluIGlucHV0IGZlYXR1cmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2ludD59IHNlbGYtaW50ZXJzZWN0aW9uc1xuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5ID0gdHVyZi5wb2x5Z29uKFtbXG4gKiAgIFstMTIuMDM0ODM1LCA4LjkwMTE4M10sXG4gKiAgIFstMTIuMDYwNDEzLCA4Ljg5OTgyNl0sXG4gKiAgIFstMTIuMDM2MzgsIDguODczMTk5XSxcbiAqICAgWy0xMi4wNTkzODMsIDguODcxNDE4XSxcbiAqICAgWy0xMi4wMzQ4MzUsIDguOTAxMTgzXVxuICogXV0pO1xuICpcbiAqIHZhciBraW5rcyA9IHR1cmYua2lua3MocG9seSk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3BvbHksIGtpbmtzXVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBraW5rcyhmZWF0dXJlSW4pIHtcbiAgICB2YXIgY29vcmRpbmF0ZXM7XG4gICAgdmFyIGZlYXR1cmU7XG4gICAgdmFyIHJlc3VsdHMgPSB7XG4gICAgICAgIHR5cGU6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICAgICAgZmVhdHVyZXM6IFtdLFxuICAgIH07XG4gICAgaWYgKGZlYXR1cmVJbi50eXBlID09PSBcIkZlYXR1cmVcIikge1xuICAgICAgICBmZWF0dXJlID0gZmVhdHVyZUluLmdlb21ldHJ5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmVhdHVyZSA9IGZlYXR1cmVJbjtcbiAgICB9XG4gICAgaWYgKGZlYXR1cmUudHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIpIHtcbiAgICAgICAgY29vcmRpbmF0ZXMgPSBbZmVhdHVyZS5jb29yZGluYXRlc107XG4gICAgfVxuICAgIGVsc2UgaWYgKGZlYXR1cmUudHlwZSA9PT0gXCJNdWx0aUxpbmVTdHJpbmdcIikge1xuICAgICAgICBjb29yZGluYXRlcyA9IGZlYXR1cmUuY29vcmRpbmF0ZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZlYXR1cmUudHlwZSA9PT0gXCJNdWx0aVBvbHlnb25cIikge1xuICAgICAgICBjb29yZGluYXRlcyA9IFtdLmNvbmNhdC5hcHBseShbXSwgZmVhdHVyZS5jb29yZGluYXRlcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZlYXR1cmUudHlwZSA9PT0gXCJQb2x5Z29uXCIpIHtcbiAgICAgICAgY29vcmRpbmF0ZXMgPSBmZWF0dXJlLmNvb3JkaW5hdGVzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgbXVzdCBiZSBhIExpbmVTdHJpbmcsIE11bHRpTGluZVN0cmluZywgXCIgK1xuICAgICAgICAgICAgXCJQb2x5Z29uLCBvciBNdWx0aVBvbHlnb24gRmVhdHVyZSBvciBHZW9tZXRyeVwiKTtcbiAgICB9XG4gICAgY29vcmRpbmF0ZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZTEpIHtcbiAgICAgICAgY29vcmRpbmF0ZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZTIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZTEubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgaXRlcmF0aW9uIGF0IGksIGludGVyc2VjdGlvbnMgZm9yIGsgPCBpIGhhdmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgIC8vIGJlZW4gY2hlY2tlZCBpbiBwcmV2aW91cyBvdXRlciBsb29wIGl0ZXJhdGlvbnNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gaTsgayA8IGxpbmUyLmxlbmd0aCAtIDE7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZTEgPT09IGxpbmUyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWdtZW50cyBhcmUgYWRqYWNlbnQgYW5kIGFsd2F5cyBzaGFyZSBhIHZlcnRleCwgbm90IGEga2lua1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGkgLSBrKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgYW5kIGxhc3Qgc2VnbWVudCBpbiBhIGNsb3NlZCBsaW5lU3RyaW5nIG9yIHJpbmcgYWx3YXlzIHNoYXJlIGEgdmVydGV4LCBub3QgYSBraW5rXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWdtZW50cyBhcmUgZmlyc3QgYW5kIGxhc3Qgc2VnbWVudCBvZiBsaW5lU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgayA9PT0gbGluZTEubGVuZ3RoIC0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpbmVTdHJpbmcgaXMgY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTFbaV1bMF0gPT09IGxpbmUxW2xpbmUxLmxlbmd0aCAtIDFdWzBdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZTFbaV1bMV0gPT09IGxpbmUxW2xpbmUxLmxlbmd0aCAtIDFdWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyc2VjdGlvbiA9IGxpbmVJbnRlcnNlY3RzKGxpbmUxW2ldWzBdLCBsaW5lMVtpXVsxXSwgbGluZTFbaSArIDFdWzBdLCBsaW5lMVtpICsgMV1bMV0sIGxpbmUyW2tdWzBdLCBsaW5lMltrXVsxXSwgbGluZTJbayArIDFdWzBdLCBsaW5lMltrICsgMV1bMV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLmZlYXR1cmVzLnB1c2gocG9pbnQoW2ludGVyc2VjdGlvblswXSwgaW50ZXJzZWN0aW9uWzFdXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbi8vIG1vZGlmaWVkIGZyb20gaHR0cDovL2pzZmlkZGxlLm5ldC9qdXN0aW5fY19yb3VuZHMvR2QyUzIvbGlnaHQvXG5mdW5jdGlvbiBsaW5lSW50ZXJzZWN0cyhsaW5lMVN0YXJ0WCwgbGluZTFTdGFydFksIGxpbmUxRW5kWCwgbGluZTFFbmRZLCBsaW5lMlN0YXJ0WCwgbGluZTJTdGFydFksIGxpbmUyRW5kWCwgbGluZTJFbmRZKSB7XG4gICAgLy8gaWYgdGhlIGxpbmVzIGludGVyc2VjdCwgdGhlIHJlc3VsdCBjb250YWlucyB0aGUgeCBhbmQgeSBvZiB0aGVcbiAgICAvLyBpbnRlcnNlY3Rpb24gKHRyZWF0aW5nIHRoZSBsaW5lcyBhcyBpbmZpbml0ZSkgYW5kIGJvb2xlYW5zIGZvciB3aGV0aGVyXG4gICAgLy8gbGluZSBzZWdtZW50IDEgb3IgbGluZSBzZWdtZW50IDIgY29udGFpbiB0aGUgcG9pbnRcbiAgICB2YXIgZGVub21pbmF0b3I7XG4gICAgdmFyIGE7XG4gICAgdmFyIGI7XG4gICAgdmFyIG51bWVyYXRvcjE7XG4gICAgdmFyIG51bWVyYXRvcjI7XG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgeDogbnVsbCxcbiAgICAgICAgeTogbnVsbCxcbiAgICAgICAgb25MaW5lMTogZmFsc2UsXG4gICAgICAgIG9uTGluZTI6IGZhbHNlLFxuICAgIH07XG4gICAgZGVub21pbmF0b3IgPVxuICAgICAgICAobGluZTJFbmRZIC0gbGluZTJTdGFydFkpICogKGxpbmUxRW5kWCAtIGxpbmUxU3RhcnRYKSAtXG4gICAgICAgICAgICAobGluZTJFbmRYIC0gbGluZTJTdGFydFgpICogKGxpbmUxRW5kWSAtIGxpbmUxU3RhcnRZKTtcbiAgICBpZiAoZGVub21pbmF0b3IgPT09IDApIHtcbiAgICAgICAgaWYgKHJlc3VsdC54ICE9PSBudWxsICYmIHJlc3VsdC55ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGEgPSBsaW5lMVN0YXJ0WSAtIGxpbmUyU3RhcnRZO1xuICAgIGIgPSBsaW5lMVN0YXJ0WCAtIGxpbmUyU3RhcnRYO1xuICAgIG51bWVyYXRvcjEgPSAobGluZTJFbmRYIC0gbGluZTJTdGFydFgpICogYSAtIChsaW5lMkVuZFkgLSBsaW5lMlN0YXJ0WSkgKiBiO1xuICAgIG51bWVyYXRvcjIgPSAobGluZTFFbmRYIC0gbGluZTFTdGFydFgpICogYSAtIChsaW5lMUVuZFkgLSBsaW5lMVN0YXJ0WSkgKiBiO1xuICAgIGEgPSBudW1lcmF0b3IxIC8gZGVub21pbmF0b3I7XG4gICAgYiA9IG51bWVyYXRvcjIgLyBkZW5vbWluYXRvcjtcbiAgICAvLyBpZiB3ZSBjYXN0IHRoZXNlIGxpbmVzIGluZmluaXRlbHkgaW4gYm90aCBkaXJlY3Rpb25zLCB0aGV5IGludGVyc2VjdCBoZXJlOlxuICAgIHJlc3VsdC54ID0gbGluZTFTdGFydFggKyBhICogKGxpbmUxRW5kWCAtIGxpbmUxU3RhcnRYKTtcbiAgICByZXN1bHQueSA9IGxpbmUxU3RhcnRZICsgYSAqIChsaW5lMUVuZFkgLSBsaW5lMVN0YXJ0WSk7XG4gICAgLy8gaWYgbGluZTEgaXMgYSBzZWdtZW50IGFuZCBsaW5lMiBpcyBpbmZpbml0ZSwgdGhleSBpbnRlcnNlY3QgaWY6XG4gICAgaWYgKGEgPj0gMCAmJiBhIDw9IDEpIHtcbiAgICAgICAgcmVzdWx0Lm9uTGluZTEgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBpZiBsaW5lMiBpcyBhIHNlZ21lbnQgYW5kIGxpbmUxIGlzIGluZmluaXRlLCB0aGV5IGludGVyc2VjdCBpZjpcbiAgICBpZiAoYiA+PSAwICYmIGIgPD0gMSkge1xuICAgICAgICByZXN1bHQub25MaW5lMiA9IHRydWU7XG4gICAgfVxuICAgIC8vIGlmIGxpbmUxIGFuZCBsaW5lMiBhcmUgc2VnbWVudHMsIHRoZXkgaW50ZXJzZWN0IGlmIGJvdGggb2YgdGhlIGFib3ZlIGFyZSB0cnVlXG4gICAgaWYgKHJlc3VsdC5vbkxpbmUxICYmIHJlc3VsdC5vbkxpbmUyKSB7XG4gICAgICAgIHJldHVybiBbcmVzdWx0LngsIHJlc3VsdC55XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IGtpbmtzIGZyb20gJ0B0dXJmL2tpbmtzJztcbmltcG9ydCBEcmF3IGZyb20gJy4vTC5QTS5EcmF3JztcblxuaW1wb3J0IHsgZ2V0VHJhbnNsYXRpb24gfSBmcm9tICcuLi9oZWxwZXJzJztcblxuRHJhdy5MaW5lID0gRHJhdy5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdMaW5lJztcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25OYW1lID0gJ2RyYXdQb2x5bGluZSc7XG4gICAgdGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QgPSBmYWxzZTtcbiAgfSxcbiAgZW5hYmxlKG9wdGlvbnMpIHtcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIGVuYWJsZSBkcmF3IG1vZGVcbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuX21hcmtlcnMgPSBbXTtcblxuICAgIC8vIGNyZWF0ZSBhIG5ldyBsYXllcmdyb3VwXG4gICAgdGhpcy5fbGF5ZXJHcm91cCA9IG5ldyBMLkZlYXR1cmVHcm91cCgpO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZFRvKHRoaXMuX21hcCk7XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBwb2x5TGluZSB0aGF0J2xsIG1ha2UgdXAgdGhlIHBvbHlnb25cbiAgICB0aGlzLl9sYXllciA9IEwucG9seWxpbmUoW10sIHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucy50ZW1wbGluZVN0eWxlLFxuICAgICAgcG1JZ25vcmU6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5fbGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9sYXllci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5fbGF5ZXIpO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgaGludGxpbmUgZnJvbSB0aGUgbW91c2UgY3Vyc29yIHRvIHRoZSBsYXN0IG1hcmtlclxuICAgIHRoaXMuX2hpbnRsaW5lID0gTC5wb2x5bGluZShbXSwgdGhpcy5vcHRpb25zLmhpbnRsaW5lU3R5bGUpO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludGxpbmUsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9oaW50bGluZS5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5faGludGxpbmUpO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgdGhpcy5faGludE1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLCAvLyBhbHdheXMgdmVydGV4IG1hcmtlciBiZWxvdyB3aWxsIGJlIHRyaWdnZXJlZCBmcm9tIHRoZSBjbGljayBldmVudCAtPiBfZmluaXNoU2hhcGUgIzkxMVxuICAgICAgekluZGV4T2Zmc2V0OiAxMDAsXG4gICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiBjdXJzb3ItbWFya2VyJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5faGludE1hcmtlcik7XG5cbiAgICAvLyBzaG93IHRoZSBoaW50bWFya2VyIGlmIHRoZSBvcHRpb24gaXMgc2V0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9oaW50TWFya2VyLl9pY29uLCAndmlzaWJsZScpO1xuICAgIH1cblxuICAgIC8vIGFkZCB0b29sdGlwIHRvIGhpbnRtYXJrZXJcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyXG4gICAgICAgIC5iaW5kVG9vbHRpcChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmlyc3RWZXJ0ZXgnKSwge1xuICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgMTApLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXG4gICAgICAgIH0pXG4gICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBtYXAgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5hZGQoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gY3JlYXRlIGEgcG9seWdvbi1wb2ludCBvbiBjbGlja1xuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9jcmVhdGVWZXJ0ZXgsIHRoaXMpO1xuXG4gICAgLy8gZmluaXNoIG9uIGxheWVyIGV2ZW50XG4gICAgLy8gI2h0dHA6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS5odG1sI2ludGVyYWN0aXZlLWxheWVyLWNsaWNrXG4gICAgaWYgKHRoaXMub3B0aW9ucy5maW5pc2hPbiAmJiB0aGlzLm9wdGlvbnMuZmluaXNoT24gIT09ICdzbmFwJykge1xuICAgICAgdGhpcy5fbWFwLm9uKHRoaXMub3B0aW9ucy5maW5pc2hPbiwgdGhpcy5fZmluaXNoU2hhcGUsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgem9vbSBvbiBkb3VibGUgY2xpY2sgaWYgZmluaXNoT24gaXMgPT09IGRibGNsaWNrXG4gICAgaWYgKHRoaXMub3B0aW9ucy5maW5pc2hPbiA9PT0gJ2RibGNsaWNrJykge1xuICAgICAgdGhpcy50ZW1wTWFwRG91YmxlQ2xpY2tab29tU3RhdGUgPSB0aGlzLl9tYXAuZG91YmxlQ2xpY2tab29tLl9lbmFibGVkO1xuXG4gICAgICBpZiAodGhpcy50ZW1wTWFwRG91YmxlQ2xpY2tab29tU3RhdGUpIHtcbiAgICAgICAgdGhpcy5fbWFwLmRvdWJsZUNsaWNrWm9vbS5kaXNhYmxlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3luYyBoaW50IG1hcmtlciB3aXRoIG1vdXNlIGN1cnNvclxuICAgIHRoaXMuX21hcC5vbignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gc3luYyB0aGUgaGludGxpbmUgd2l0aCBoaW50IG1hcmtlclxuICAgIHRoaXMuX2hpbnRNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jSGludExpbmUsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyBhbiBhcnJheSB1c2VkIGluIHRoZSBzbmFwcGluZyBtaXhpbi5cbiAgICAvLyBUT0RPOiB0aGluayBhYm91dCBtb3ZpbmcgdGhpcyBzb21ld2hlcmUgZWxzZT9cbiAgICB0aGlzLl9vdGhlclNuYXBMYXllcnMgPSBbXTtcblxuICAgIC8vIG1ha2Ugc3VyZSBpbnRlcnNlY3Rpb24gaXMgbm90IHNldCB3aGlsZSBzdGFydCBkcmF3aW5nXG4gICAgdGhpcy5pc1JlZCA9IGZhbHNlO1xuXG4gICAgLy8gZmlyZSBkcmF3c3RhcnQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd1N0YXJ0KCk7XG4gICAgdGhpcy5fc2V0R2xvYmFsRHJhd01vZGUoKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICAvLyBkaXNhYmxlIGRyYXcgbW9kZVxuXG4gICAgLy8gY2FuY2VsLCBpZiBkcmF3aW5nIG1vZGUgaXNuJ3QgZXZlbiBlbmFibGVkXG4gICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVzZXQgY3Vyc29yXG4gICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmNsYXNzTGlzdC5yZW1vdmUoJ2dlb21hbi1kcmF3LWN1cnNvcicpO1xuXG4gICAgLy8gdW5iaW5kIGxpc3RlbmVyc1xuICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fY3JlYXRlVmVydGV4LCB0aGlzKTtcbiAgICB0aGlzLl9tYXAub2ZmKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5maW5pc2hPbiAmJiB0aGlzLm9wdGlvbnMuZmluaXNoT24gIT09ICdzbmFwJykge1xuICAgICAgdGhpcy5fbWFwLm9mZih0aGlzLm9wdGlvbnMuZmluaXNoT24sIHRoaXMuX2ZpbmlzaFNoYXBlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50ZW1wTWFwRG91YmxlQ2xpY2tab29tU3RhdGUpIHtcbiAgICAgIHRoaXMuX21hcC5kb3VibGVDbGlja1pvb20uZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGxheWVyXG4gICAgdGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX2xheWVyR3JvdXApO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TGluZSgpIHtcbiAgICBjb25zdCBwb2x5UG9pbnRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgaWYgKHBvbHlQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbGFzdFBvbHlnb25Qb2ludCA9IHBvbHlQb2ludHNbcG9seVBvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgLy8gc2V0IGNvb3JkcyBmb3IgaGludGxpbmUgZnJvbSBtYXJrZXIgdG8gbGFzdCB2ZXJ0ZXggb2YgZHJhd2luIHBvbHlsaW5lXG4gICAgICB0aGlzLl9oaW50bGluZS5zZXRMYXRMbmdzKFtcbiAgICAgICAgbGFzdFBvbHlnb25Qb2ludCxcbiAgICAgICAgdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKSxcbiAgICAgIF0pO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TWFya2VyKGUpIHtcbiAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgbWFya2VyXG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuXG4gICAgLy8gaWYgc25hcHBpbmcgaXMgZW5hYmxlZCwgZG8gaXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgY29uc3QgZmFrZURyYWdFdmVudCA9IGU7XG4gICAgICBmYWtlRHJhZ0V2ZW50LnRhcmdldCA9IHRoaXMuX2hpbnRNYXJrZXI7XG4gICAgICB0aGlzLl9oYW5kbGVTbmFwcGluZyhmYWtlRHJhZ0V2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBpZiBzZWxmLWludGVyc2VjdGlvbiBpcyBmb3JiaWRkZW4sIGhhbmRsZSBpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5faGFuZGxlU2VsZkludGVyc2VjdGlvbih0cnVlLCB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpKTtcbiAgICB9XG4gICAgY29uc3QgbGF0bG5ncyA9IHRoaXMuX2xheWVyLl9kZWZhdWx0U2hhcGUoKS5zbGljZSgpO1xuICAgIGxhdGxuZ3MucHVzaCh0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpKTtcbiAgICB0aGlzLl9jaGFuZ2UobGF0bG5ncyk7XG4gIH0sXG4gIGhhc1NlbGZJbnRlcnNlY3Rpb24oKSB7XG4gICAgLy8gY2hlY2sgZm9yIHNlbGYgaW50ZXJzZWN0aW9uIG9mIHRoZSBsYXllciBhbmQgcmV0dXJuIHRydWUvZmFsc2VcbiAgICBjb25zdCBzZWxmSW50ZXJzZWN0aW9uID0ga2lua3ModGhpcy5fbGF5ZXIudG9HZW9KU09OKDE1KSk7XG4gICAgcmV0dXJuIHNlbGZJbnRlcnNlY3Rpb24uZmVhdHVyZXMubGVuZ3RoID4gMDtcbiAgfSxcbiAgX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24oYWRkVmVydGV4LCBsYXRsbmcpIHtcbiAgICAvLyBvayB3ZSBuZWVkIHRvIGNoZWNrIHRoZSBzZWxmIGludGVyc2VjdGlvbiBoZXJlXG4gICAgLy8gcHJvYmxlbTogZHVyaW5nIGRyYXcsIHRoZSBtYXJrZXIgb24gdGhlIGN1cnNvciBpcyBub3QgeWV0IHBhcnRcbiAgICAvLyBvZiB0aGUgbGF5ZXIuIFNvIHdlIG5lZWQgdG8gY2xvbmUgdGhlIGxheWVyLCBhZGQgdGhlXG4gICAgLy8gcG90ZW50aWFsIG5ldyB2ZXJ0ZXggKGN1cnNvciBtYXJrZXJzIGxhdGxuZ3MpIGFuZCBjaGVjayB0aGUgc2VsZlxuICAgIC8vIGludGVyc2VjdGlvbiBvbiB0aGUgY2xvbmUuIFBoZXcuLi4gLSBsZXQncyBkbyBpdCBcdUQ4M0RcdURDQUFcblxuICAgIC8vIGNsb25lIGxheWVyIChwb2x5bGluZSBpcyBlbm91Z2gsIGV2ZW4gd2hlbiBpdCdzIGEgcG9seWdvbilcbiAgICBjb25zdCBjbG9uZSA9IEwucG9seWxpbmUodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpKTtcblxuICAgIGlmIChhZGRWZXJ0ZXgpIHtcbiAgICAgIC8vIGdldCB2ZXJ0ZXggZnJvbSBwYXJhbSBvciBmcm9tIGhpbnRtYXJrZXJcbiAgICAgIGlmICghbGF0bG5nKSB7XG4gICAgICAgIGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCB0aGUgdmVydGV4XG4gICAgICBjbG9uZS5hZGRMYXRMbmcobGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayB0aGUgc2VsZiBpbnRlcnNlY3Rpb25cbiAgICBjb25zdCBzZWxmSW50ZXJzZWN0aW9uID0ga2lua3MoY2xvbmUudG9HZW9KU09OKDE1KSk7XG4gICAgdGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QgPSBzZWxmSW50ZXJzZWN0aW9uLmZlYXR1cmVzLmxlbmd0aCA+IDA7XG5cbiAgICAvLyBjaGFuZ2UgdGhlIHN0eWxlIGJhc2VkIG9uIHNlbGYgaW50ZXJzZWN0aW9uXG4gICAgaWYgKHRoaXMuX2RvZXNTZWxmSW50ZXJzZWN0KSB7XG4gICAgICBpZiAoIXRoaXMuaXNSZWQpIHtcbiAgICAgICAgdGhpcy5pc1JlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2hpbnRsaW5lLnNldFN0eWxlKHtcbiAgICAgICAgICBjb2xvcjogJyNmMDAwMDBmZicsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBmaXJlIGludGVyc2VjdCBldmVudFxuICAgICAgICB0aGlzLl9maXJlSW50ZXJzZWN0KHNlbGZJbnRlcnNlY3Rpb24sIHRoaXMuX21hcCwgJ0RyYXcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9oaW50bGluZS5pc0VtcHR5KCkpIHtcbiAgICAgIHRoaXMuaXNSZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2hpbnRsaW5lLnNldFN0eWxlKHRoaXMub3B0aW9ucy5oaW50bGluZVN0eWxlKTtcbiAgICB9XG4gIH0sXG4gIF9jcmVhdGVWZXJ0ZXgoZSkge1xuICAgIC8vIGRvbid0IGNyZWF0ZSBhIHZlcnRleCBpZiB3ZSBoYXZlIGEgc2VsZkludGVyc2VjdGlvbiBhbmQgaXQgaXMgbm90IGFsbG93ZWRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24odHJ1ZSwgZS5sYXRsbmcpO1xuXG4gICAgICBpZiAodGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFzc2lnbiB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2sgdG8gdGhlIGhpbnRNYXJrZXIsIHRoYXQncyBuZWNlc3NhcnkgZm9yXG4gICAgLy8gbW9iaWxlIHdoZXJlIHRoZSBtYXJrZXIgY2FuJ3QgZm9sbG93IGEgY3Vyc29yXG4gICAgaWYgKCF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGUgZm9yIG5ldyB2ZXJ0ZXggYnkgaGludE1hcmtlciAoY3Vyc29yIG1hcmtlcilcbiAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgLy8gY2hlY2sgaWYgdGhlIGZpcnN0IGFuZCB0aGlzIHZlcnRleCBoYXZlIHRoZSBzYW1lIGxhdGxuZ1xuICAgIC8vIG9yIHRoZSBsYXN0IHZlcnRleCBhbmQgdGhlIGhpbnRNYXJrZXIgaGF2ZSB0aGUgc2FtZSBsYXRsbmcgKGRibC1jbGljaylcbiAgICBjb25zdCBsYXRsbmdzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgY29uc3QgbGFzdExhdExuZyA9IGxhdGxuZ3NbbGF0bG5ncy5sZW5ndGggLSAxXTtcbiAgICBpZiAoXG4gICAgICBsYXRsbmcuZXF1YWxzKGxhdGxuZ3NbMF0pIHx8XG4gICAgICAobGF0bG5ncy5sZW5ndGggPiAwICYmIGxhdGxuZy5lcXVhbHMobGFzdExhdExuZykpXG4gICAgKSB7XG4gICAgICAvLyB5ZXM/IGZpbmlzaCB0aGUgcG9seWdvblxuICAgICAgdGhpcy5fZmluaXNoU2hhcGUoKTtcblxuICAgICAgLy8gXCJ3aHk/XCIsIHlvdSBhc2s/IEJlY2F1c2UgdGhpcyBoYXBwZW5zIHdoZW4gd2Ugc25hcCB0aGUgbGFzdCB2ZXJ0ZXggdG8gdGhlIGZpcnN0IG9uZVxuICAgICAgLy8gYW5kIHRoZW4gY2xpY2sgd2l0aG91dCBoaXR0aW5nIHRoZSBsYXN0IG1hcmtlci4gQ2xpY2sgaGFwcGVucyBvbiB0aGUgbWFwXG4gICAgICAvLyBpbiA5OSUgb2YgY2FzZXMgaXQncyBiZWNhdXNlIHRoZSB1c2VyIHdhbnRzIHRvIGZpbmlzaCB0aGUgcG9seWdvbi4gU28uLi5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXllci5fbGF0bG5nSW5mbyA9IHRoaXMuX2xheWVyLl9sYXRsbmdJbmZvIHx8IFtdO1xuICAgIHRoaXMuX2xheWVyLl9sYXRsbmdJbmZvLnB1c2goe1xuICAgICAgbGF0bG5nLFxuICAgICAgc25hcEluZm86IHRoaXMuX2hpbnRNYXJrZXIuX3NuYXBJbmZvLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fbGF5ZXIuYWRkTGF0TG5nKGxhdGxuZyk7XG4gICAgY29uc3QgbmV3TWFya2VyID0gdGhpcy5fY3JlYXRlTWFya2VyKGxhdGxuZyk7XG4gICAgdGhpcy5fc2V0VG9vbHRpcFRleHQoKTtcblxuICAgIHRoaXMuX3NldEhpbnRMaW5lQWZ0ZXJOZXdWZXJ0ZXgobGF0bG5nKTtcblxuICAgIHRoaXMuX2ZpcmVWZXJ0ZXhBZGRlZChuZXdNYXJrZXIsIHVuZGVmaW5lZCwgbGF0bG5nLCAnRHJhdycpO1xuICAgIHRoaXMuX2NoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkpO1xuICAgIC8vIGNoZWNrIGlmIHdlIHNob3VsZCBmaW5pc2ggb24gc25hcFxuICAgIGlmICh0aGlzLm9wdGlvbnMuZmluaXNoT24gPT09ICdzbmFwJyAmJiB0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9maW5pc2hTaGFwZShlKTtcbiAgICB9XG4gIH0sXG4gIF9zZXRIaW50TGluZUFmdGVyTmV3VmVydGV4KGhpbnRNYXJrZXJMYXRMbmcpIHtcbiAgICAvLyBtYWtlIHRoZSBuZXcgZHJhd24gbGluZSAod2l0aCBhbm90aGVyIHN0eWxlKSB2aXNpYmxlXG4gICAgdGhpcy5faGludGxpbmUuc2V0TGF0TG5ncyhbaGludE1hcmtlckxhdExuZywgaGludE1hcmtlckxhdExuZ10pO1xuICB9LFxuICBfcmVtb3ZlTGFzdFZlcnRleCgpIHtcbiAgICBjb25zdCBtYXJrZXJzID0gdGhpcy5fbWFya2VycztcblxuICAgIC8vIGlmIGFsbCBtYXJrZXJzIGFyZSBnb25lLCBjYW5jZWwgZHJhd2luZ1xuICAgIGlmIChtYXJrZXJzLmxlbmd0aCA8PSAxKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgbGFzdCBjb29yZHNcbiAgICBsZXQgY29vcmRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgY29uc3QgcmVtb3ZlZE1hcmtlciA9IG1hcmtlcnNbbWFya2Vycy5sZW5ndGggLSAxXTtcblxuICAgIC8vIHRoZSBpbmRleCBwYXRoIHRvIHRoZSBtYXJrZXIgaW5zaWRlIHRoZSBtdWx0aWRpbWVuc2lvbmFsIG1hcmtlciBhcnJheVxuICAgIGNvbnN0IHsgaW5kZXhQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICBtYXJrZXJzLFxuICAgICAgcmVtb3ZlZE1hcmtlclxuICAgICk7XG5cbiAgICAvLyByZW1vdmUgbGFzdCBtYXJrZXIgZnJvbSBhcnJheVxuICAgIG1hcmtlcnMucG9wKCk7XG5cbiAgICAvLyByZW1vdmUgdGhhdCBtYXJrZXJcbiAgICB0aGlzLl9sYXllckdyb3VwLnJlbW92ZUxheWVyKHJlbW92ZWRNYXJrZXIpO1xuXG4gICAgY29uc3QgbWFya2VyUHJldmlvdXMgPSBtYXJrZXJzW21hcmtlcnMubGVuZ3RoIC0gMV07XG5cbiAgICAvLyBubyBuZWVkIGZvciBmaW5kRGVlcE1hcmtlckluZGV4IGJlY2F1c2UgdGhlIGNvb3JkcyBhcmUgYWx3YXlzIGZsYXQgKFBvbHlsaW5lKSBubyBtYXR0ZXIgaWYgTGluZSBvciBQb2x5Z29uXG4gICAgY29uc3QgaW5kZXhNYXJrZXJQcmV2ID0gY29vcmRzLmluZGV4T2YobWFya2VyUHJldmlvdXMuZ2V0TGF0TG5nKCkpO1xuXG4gICAgLy8gKzEgZG9uJ3QgY3V0IG91dCB0aGUgcHJldmlvdXMgbWFya2VyXG4gICAgY29vcmRzID0gY29vcmRzLnNsaWNlKDAsIGluZGV4TWFya2VyUHJldiArIDEpO1xuXG4gICAgLy8gdXBkYXRlIGxheWVyIHdpdGggbmV3IGNvb3Jkc1xuICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoY29vcmRzKTtcbiAgICB0aGlzLl9sYXllci5fbGF0bG5nSW5mby5wb3AoKTtcblxuICAgIC8vIHN5bmMgdGhlIGhpbnRsaW5lIGFnYWluXG4gICAgdGhpcy5fc3luY0hpbnRMaW5lKCk7XG4gICAgdGhpcy5fc2V0VG9vbHRpcFRleHQoKTtcblxuICAgIHRoaXMuX2ZpcmVWZXJ0ZXhSZW1vdmVkKHJlbW92ZWRNYXJrZXIsIGluZGV4UGF0aCwgJ0RyYXcnKTtcbiAgICB0aGlzLl9jaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpKTtcbiAgfSxcbiAgX2ZpbmlzaFNoYXBlKCkge1xuICAgIC8vIGlmIHNlbGYgaW50ZXJzZWN0aW9uIGlzIG5vdCBhbGxvd2VkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24oZmFsc2UpO1xuXG4gICAgICBpZiAodGhpcy5fZG9lc1NlbGZJbnRlcnNlY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHNuYXAgZmluaXNoIGlzIHJlcXVpcmVkIGJ1dCB0aGUgbGFzdCBtYXJrZXIgd2Fzbid0IHNuYXBwZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy5yZXF1aXJlU25hcFRvRmluaXNoICYmXG4gICAgICAhdGhpcy5faGludE1hcmtlci5fc25hcHBlZCAmJlxuICAgICAgIXRoaXMuX2lzRmlyc3RMYXllcigpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGVzXG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgY29vcmRzLCBkb24ndCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChjb29yZHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgdGhlIGxlYWZsZXQgc2hhcGUgYW5kIGFkZCBpdCB0byB0aGUgbWFwXG4gICAgY29uc3QgcG9seWxpbmVMYXllciA9IEwucG9seWxpbmUoY29vcmRzLCB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMpO1xuICAgIHRoaXMuX3NldFBhbmUocG9seWxpbmVMYXllciwgJ2xheWVyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKHBvbHlsaW5lTGF5ZXIpO1xuICAgIHBvbHlsaW5lTGF5ZXIuYWRkVG8odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICAvLyBmaXJlIHRoZSBwbTpjcmVhdGUgZXZlbnQgYW5kIHBhc3Mgc2hhcGUgYW5kIGxheWVyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShwb2x5bGluZUxheWVyKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmdcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIobGF0bG5nKSB7XG4gICAgLy8gY3JlYXRlIHRoZSBuZXcgbWFya2VyXG4gICAgY29uc3QgbWFya2VyID0gbmV3IEwuTWFya2VyKGxhdGxuZywge1xuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICBtYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgIC8vIGFkZCBpdCB0byB0aGUgbWFwXG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcihtYXJrZXIpO1xuICAgIHRoaXMuX21hcmtlcnMucHVzaChtYXJrZXIpO1xuXG4gICAgLy8gYSBjbGljayBvbiBhbnkgbWFya2VyIGZpbmlzaGVzIHRoaXMgc2hhcGVcbiAgICBtYXJrZXIub24oJ2NsaWNrJywgdGhpcy5fZmluaXNoU2hhcGUsIHRoaXMpO1xuXG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcbiAgX3NldFRvb2x0aXBUZXh0KCkge1xuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkuZmxhdCgpO1xuICAgIGxldCB0ZXh0ID0gJyc7XG5cbiAgICAvLyBoYW5kbGUgdG9vbHRpcCB0ZXh0XG4gICAgaWYgKGxlbmd0aCA8PSAxKSB7XG4gICAgICB0ZXh0ID0gZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLmNvbnRpbnVlTGluZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0ID0gZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLmZpbmlzaExpbmUnKTtcbiAgICB9XG4gICAgdGhpcy5faGludE1hcmtlci5zZXRUb29sdGlwQ29udGVudCh0ZXh0KTtcbiAgfSxcbiAgX2NoYW5nZShsYXRsbmdzKSB7XG4gICAgdGhpcy5fZmlyZUNoYW5nZShsYXRsbmdzLCAnRHJhdycpO1xuICB9LFxuICBzZXRTdHlsZSgpIHtcbiAgICB0aGlzLl9sYXllcj8uc2V0U3R5bGUodGhpcy5vcHRpb25zLnRlbXBsaW5lU3R5bGUpO1xuICAgIHRoaXMuX2hpbnRsaW5lPy5zZXRTdHlsZSh0aGlzLm9wdGlvbnMuaGludGxpbmVTdHlsZSk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3LlBvbHlnb24gPSBEcmF3LkxpbmUuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgdGhpcy5fc2hhcGUgPSAnUG9seWdvbic7XG4gICAgdGhpcy50b29sYmFyQnV0dG9uTmFtZSA9ICdkcmF3UG9seWdvbic7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgTC5QTS5EcmF3LkxpbmUucHJvdG90eXBlLmVuYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIC8vIE92ZXJ3cml0ZSB0aGUgc2hhcGUgXCJMaW5lXCIgb2YgdGhpcy5fbGF5ZXJcbiAgICB0aGlzLl9sYXllci5wbS5fc2hhcGUgPSAnUG9seWdvbic7XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIobGF0bG5nKSB7XG4gICAgLy8gY3JlYXRlIHRoZSBuZXcgbWFya2VyXG4gICAgY29uc3QgbWFya2VyID0gbmV3IEwuTWFya2VyKGxhdGxuZywge1xuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcblxuICAgIC8vIG1hcmsgdGhpcyBtYXJrZXIgYXMgdGVtcG9yYXJ5XG4gICAgbWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICAvLyBhZGQgaXQgdG8gdGhlIG1hcFxuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIobWFya2VyKTtcbiAgICB0aGlzLl9tYXJrZXJzLnB1c2gobWFya2VyKTtcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBtYXJrZXIgZ2V0cyBjbGlja2VkIGFnYWluLCBmaW5pc2ggdGhpcyBzaGFwZVxuICAgIGlmICh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkuZmxhdCgpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbWFya2VyLm9uKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNoYXBlLCB0aGlzKTtcblxuICAgICAgLy8gYWRkIHRoZSBmaXJzdCB2ZXJ0ZXggdG8gXCJvdGhlciBzbmFwcGluZyBsYXllcnNcIiBzbyB0aGUgcG9seWdvbiBpcyBlYXNpZXIgdG8gZmluaXNoXG4gICAgICB0aGlzLl90ZW1wU25hcExheWVySW5kZXggPSB0aGlzLl9vdGhlclNuYXBMYXllcnMucHVzaChtYXJrZXIpIC0gMTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUpIHtcbiAgICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFkZCBhIGNsaWNrIGV2ZW50IHcvIG5vIGhhbmRsZXIgdG8gdGhlIG1hcmtlclxuICAgICAgLy8gZXZlbnQgd29uJ3QgYnViYmxlIHNvIHByZXZlbnRzIGNyZWF0aW9uIG9mIGlkZW50aWNhbCBtYXJrZXJzIGluIHNhbWUgcG9seWdvblxuICAgICAgLy8gZml4ZXMgaXNzdWUgd2hlcmUgZG91YmxlIGNsaWNrIGR1cmluZyBwb2x5IGNyZWF0aW9uIHdoZW4gYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiBmYWxzZSBjYXVzZWQgaXQgdG8gYnJlYWtcbiAgICAgIG1hcmtlci5vbignY2xpY2snLCAoKSA9PiAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICBfc2V0VG9vbHRpcFRleHQoKSB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKS5mbGF0KCk7XG4gICAgbGV0IHRleHQgPSAnJztcblxuICAgIC8vIGhhbmRsZSB0b29sdGlwIHRleHRcbiAgICBpZiAobGVuZ3RoIDw9IDIpIHtcbiAgICAgIHRleHQgPSBnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuY29udGludWVMaW5lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHQgPSBnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmluaXNoUG9seScpO1xuICAgIH1cbiAgICB0aGlzLl9oaW50TWFya2VyLnNldFRvb2x0aXBDb250ZW50KHRleHQpO1xuICB9LFxuICBfZmluaXNoU2hhcGUoKSB7XG4gICAgLy8gaWYgc2VsZiBpbnRlcnNlY3Rpb24gaXMgbm90IGFsbG93ZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgLy8gQ2hlY2sgaWYgcG9seWdvbiBpbnRlcnNlY3RzIHdoZW4gaXMgY29tcGxldGVkIGFuZCB0aGUgbGluZSBiZXR3ZWVuIHRoZSBsYXN0IGFuZCB0aGUgZmlyc3QgcG9pbnQgaXMgZHJhd25cbiAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb24odHJ1ZSwgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdKTtcblxuICAgICAgaWYgKHRoaXMuX2RvZXNTZWxmSW50ZXJzZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlc1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKTtcblxuICAgIC8vIG9ubHkgZmluaXNoIHRoZSBzaGFwZSBpZiB0aGVyZSBhcmUgMyBvciBtb3JlIHZlcnRpY2VzXG4gICAgaWYgKGNvb3Jkcy5sZW5ndGggPD0gMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvbHlnb25MYXllciA9IEwucG9seWdvbihjb29yZHMsIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyk7XG4gICAgdGhpcy5fc2V0UGFuZShwb2x5Z29uTGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9maW5pc2hMYXllcihwb2x5Z29uTGF5ZXIpO1xuICAgIHBvbHlnb25MYXllci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbGF5ZXJcbiAgICB0aGlzLl9maXJlQ3JlYXRlKHBvbHlnb25MYXllcik7XG5cbiAgICAvLyBjbGVhbiB1cCBzbmFwcGluZyBzdGF0ZXNcbiAgICB0aGlzLl9jbGVhbnVwU25hcHBpbmcoKTtcblxuICAgIC8vIHJlbW92ZSB0aGUgZmlyc3QgdmVydGV4IGZyb20gXCJvdGhlciBzbmFwcGluZyBsYXllcnNcIlxuICAgIHRoaXMuX290aGVyU25hcExheWVycy5zcGxpY2UodGhpcy5fdGVtcFNuYXBMYXllckluZGV4LCAxKTtcbiAgICBkZWxldGUgdGhpcy5fdGVtcFNuYXBMYXllckluZGV4O1xuXG4gICAgLy8gZGlzYWJsZSBkcmF3aW5nXG4gICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9LFxufSk7XG4iLCAiaW1wb3J0IERyYXcgZnJvbSAnLi9MLlBNLkRyYXcnO1xuaW1wb3J0IHsgZml4TGF0T2Zmc2V0LCBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3LlJlY3RhbmdsZSA9IERyYXcuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZShtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgdGhpcy5fc2hhcGUgPSAnUmVjdGFuZ2xlJztcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25OYW1lID0gJ2RyYXdSZWN0YW5nbGUnO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIC8vIFRPRE86IFRoaW5rIGFib3V0IGlmIHRoZXNlIG9wdGlvbnMgY291bGQgYmUgcGFzc2VkIGdsb2JhbGx5IGZvciBhbGxcbiAgICAvLyBpbnN0YW5jZXMgb2YgTC5QTS5EcmF3LiBTbyBhIGRldiBjb3VsZCBzZXQgZHJhd2luZyBzdHlsZSBvbmUgdGltZSBhcyBzb21lIGtpbmQgb2YgY29uZmlnXG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBlbmFibGUgZHJhdyBtb2RlXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBjcmVhdGUgYSBuZXcgbGF5ZXJncm91cFxuICAgIHRoaXMuX2xheWVyR3JvdXAgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKTtcbiAgICB0aGlzLl9sYXllckdyb3VwLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRUbyh0aGlzLl9tYXApO1xuXG4gICAgLy8gdGhlIHJlY3RhbmdsZSB3ZSB3YW50IHRvIGRyYXdcbiAgICB0aGlzLl9sYXllciA9IEwucmVjdGFuZ2xlKFxuICAgICAgW1xuICAgICAgICBbMCwgMF0sXG4gICAgICAgIFswLCAwXSxcbiAgICAgIF0sXG4gICAgICB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnNcbiAgICApO1xuICAgIHRoaXMuX3NldFBhbmUodGhpcy5fbGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9sYXllci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgbWFya2VyIGF0IHRoZSBvcmlnaW4gb2YgdGhlIHJlY3RhbmdsZVxuICAgIC8vIHRoaXMgbmVlZHMgdG8gYmUgcHJlc2VudCwgZm9yIHRyYWNraW5nIHB1cnBvc2VzLCBidXQgd2UnbGwgbWFrZSBpdCBpbnZpc2libGUgaWYgYSB1c2VyIGRvZXNuJ3Qgd2FudCB0byBzZWUgaXQhXG4gICAgdGhpcy5fc3RhcnRNYXJrZXIgPSBMLm1hcmtlcih0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uIHJlY3Qtc3RhcnQtbWFya2VyJyB9KSxcbiAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICB6SW5kZXhPZmZzZXQ6IC0xMDAsXG4gICAgICBvcGFjaXR5OiB0aGlzLm9wdGlvbnMuY3Vyc29yTWFya2VyID8gMSA6IDAsXG4gICAgfSk7XG4gICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9zdGFydE1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcbiAgICB0aGlzLl9zdGFydE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5fc3RhcnRNYXJrZXIpO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgdGhpcy5faGludE1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgekluZGV4T2Zmc2V0OiAxNTAsXG4gICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiBjdXJzb3ItbWFya2VyJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIodGhpcy5faGludE1hcmtlcik7XG5cbiAgICAvLyBzaG93IHRoZSBoaW50bWFya2VyIGlmIHRoZSBvcHRpb24gaXMgc2V0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIpIHtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9oaW50TWFya2VyLl9pY29uLCAndmlzaWJsZScpO1xuICAgIH1cblxuICAgIC8vIGFkZCB0b29sdGlwIHRvIGhpbnRtYXJrZXJcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyXG4gICAgICAgIC5iaW5kVG9vbHRpcChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmlyc3RWZXJ0ZXgnKSwge1xuICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgMTApLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXG4gICAgICAgIH0pXG4gICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3Vyc29yTWFya2VyKSB7XG4gICAgICAvLyBBZGQgdHdvIG1vcmUgbWF0Y2hpbmcgc3R5bGUgbWFya2VycywgaWYgY3Vyc29yIG1hcmtlciBpcyByZW5kZXJlZFxuICAgICAgdGhpcy5fc3R5bGVNYXJrZXJzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBzdHlsZU1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgICAgIGljb246IEwuZGl2SWNvbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiByZWN0LXN0eWxlLW1hcmtlcicsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgICB6SW5kZXhPZmZzZXQ6IDEwMCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NldFBhbmUoc3R5bGVNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgICAgIHN0eWxlTWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkTGF5ZXIoc3R5bGVNYXJrZXIpO1xuXG4gICAgICAgIHRoaXMuX3N0eWxlTWFya2Vycy5wdXNoKHN0eWxlTWFya2VyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGFuZ2UgbWFwIGN1cnNvclxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QuYWRkKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIGNyZWF0ZSBhIHBvbHlnb24tcG9pbnQgb24gY2xpY2tcbiAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fcGxhY2VTdGFydGluZ01hcmtlcnMsIHRoaXMpO1xuXG4gICAgLy8gc3luYyBoaW50IG1hcmtlciB3aXRoIG1vdXNlIGN1cnNvclxuICAgIHRoaXMuX21hcC5vbignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyBhbiBhcnJheSB1c2VkIGluIHRoZSBzbmFwcGluZyBtaXhpbi5cbiAgICAvLyBUT0RPOiB0aGluayBhYm91dCBtb3ZpbmcgdGhpcyBzb21ld2hlcmUgZWxzZT9cbiAgICB0aGlzLl9vdGhlclNuYXBMYXllcnMgPSBbXTtcblxuICAgIC8vIGZpcmUgZHJhd3N0YXJ0IGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdTdGFydCgpO1xuICAgIHRoaXMuX3NldEdsb2JhbERyYXdNb2RlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gZGlzYWJsZSBkcmF3aW5nIG1vZGVcblxuICAgIC8vIGNhbmNlbCwgaWYgZHJhd2luZyBtb2RlIGlzbid0IGV2ZW50IGVuYWJsZWRcbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICAvLyByZXNldCBjdXJzb3JcbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LnJlbW92ZSgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyB1bmJpbmQgbGlzdGVuZXJzXG4gICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG4gICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9wbGFjZVN0YXJ0aW5nTWFya2VycywgdGhpcyk7XG4gICAgdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gcmVtb3ZlIGhlbHBpbmcgbGF5ZXJzXG4gICAgdGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX2xheWVyR3JvdXApO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuICAgIC8vIGZpcmUgZHJhd2VuZCBldmVudFxuICAgIHRoaXMuX2ZpcmVEcmF3RW5kKCk7XG4gICAgdGhpcy5fc2V0R2xvYmFsRHJhd01vZGUoKTtcbiAgfSxcbiAgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlKG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9XG4gIH0sXG4gIF9wbGFjZVN0YXJ0aW5nTWFya2VycyhlKSB7XG4gICAgLy8gYXNzaWduIHRoZSBjb29yZGluYXRlIG9mIHRoZSBjbGljayB0byB0aGUgaGludE1hcmtlciwgdGhhdCdzIG5lY2Vzc2FyeSBmb3JcbiAgICAvLyBtb2JpbGUgd2hlcmUgdGhlIG1hcmtlciBjYW4ndCBmb2xsb3cgYSBjdXJzb3JcbiAgICBpZiAoIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZSBmb3IgbmV3IHZlcnRleCBieSBoaW50TWFya2VyIChjdXJzb3IgbWFya2VyKVxuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICAvLyBzaG93IGFuZCBwbGFjZSBzdGFydCBtYXJrZXJcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fc3RhcnRNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgdGhpcy5fc3RhcnRNYXJrZXIuc2V0TGF0TG5nKGxhdGxuZyk7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIHRoZSBvdGhlciB0d28gdmlzaWJpbHR5IG1hcmtlcnMsIHNob3cgYW5kIHBsYWNlIHRoZW0gbm93XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIgJiYgdGhpcy5fc3R5bGVNYXJrZXJzKSB7XG4gICAgICB0aGlzLl9zdHlsZU1hcmtlcnMuZm9yRWFjaCgoc3R5bGVNYXJrZXIpID0+IHtcbiAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHN0eWxlTWFya2VyLl9pY29uLCAndmlzaWJsZScpO1xuICAgICAgICBzdHlsZU1hcmtlci5zZXRMYXRMbmcobGF0bG5nKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fcGxhY2VTdGFydGluZ01hcmtlcnMsIHRoaXMpO1xuICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG5cbiAgICAvLyBjaGFuZ2UgdG9vbHRpcCB0ZXh0XG4gICAgdGhpcy5faGludE1hcmtlci5zZXRUb29sdGlwQ29udGVudChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuZmluaXNoUmVjdCcpKTtcblxuICAgIHRoaXMuX3NldFJlY3RhbmdsZU9yaWdpbigpO1xuICB9LFxuICBfc2V0UmVjdGFuZ2xlT3JpZ2luKCkge1xuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX3N0YXJ0TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgaWYgKGxhdGxuZykge1xuICAgICAgLy8gc2hvdyBpdCBmaXJzdFxuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9sYXllcik7XG5cbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoW2xhdGxuZywgbGF0bG5nXSk7XG5cbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jUmVjdGFuZ2xlU2l6ZSwgdGhpcyk7XG4gICAgfVxuICB9LFxuICBfc3luY0hpbnRNYXJrZXIoZSkge1xuICAgIC8vIG1vdmUgdGhlIGN1cnNvciBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG5cbiAgICAvLyBpZiBzbmFwcGluZyBpcyBlbmFibGVkLCBkbyBpdFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICBjb25zdCBmYWtlRHJhZ0V2ZW50ID0gZTtcbiAgICAgIGZha2VEcmFnRXZlbnQudGFyZ2V0ID0gdGhpcy5faGludE1hcmtlcjtcbiAgICAgIHRoaXMuX2hhbmRsZVNuYXBwaW5nKGZha2VEcmFnRXZlbnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGxhdGxuZ3MgPVxuICAgICAgdGhpcy5fbGF5ZXJHcm91cCAmJiB0aGlzLl9sYXllckdyb3VwLmhhc0xheWVyKHRoaXMuX2xheWVyKVxuICAgICAgICA/IHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVxuICAgICAgICA6IFt0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpXTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKGxhdGxuZ3MsICdEcmF3Jyk7XG4gIH0sXG4gIF9zeW5jUmVjdGFuZ2xlU2l6ZSgpIHtcbiAgICBjb25zdCBBID0gZml4TGF0T2Zmc2V0KHRoaXMuX3N0YXJ0TWFya2VyLmdldExhdExuZygpLCB0aGlzLl9tYXApO1xuICAgIGNvbnN0IEIgPSBmaXhMYXRPZmZzZXQodGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKSwgdGhpcy5fbWFwKTtcblxuICAgIC8vIENyZWF0ZSBhIChtYXliZSByb3RhdGVkKSBib3ggdXNpbmcgY29ybmVycyBBICYgQiAoQSA9IFN0YXJ0aW5nIFBvc2l0aW9uLCBCID0gQ3VycmVudCBNb3VzZSBQb3NpdGlvbilcbiAgICBjb25zdCBjb3JuZXJzID0gTC5QTS5VdGlscy5fZ2V0Um90YXRlZFJlY3RhbmdsZShcbiAgICAgIEEsXG4gICAgICBCLFxuICAgICAgdGhpcy5vcHRpb25zLnJlY3RhbmdsZUFuZ2xlIHx8IDAsXG4gICAgICB0aGlzLl9tYXBcbiAgICApO1xuICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoY29ybmVycyk7XG5cbiAgICAvLyBBZGQgbWF0Y2hpbmcgc3R5bGUgbWFya2VycywgaWYgY3Vyc29yIG1hcmtlciBpcyBzaG93blxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3Vyc29yTWFya2VyICYmIHRoaXMuX3N0eWxlTWFya2Vycykge1xuICAgICAgY29uc3QgdW5tYXJrZWRDb3JuZXJzID0gW107XG5cbiAgICAgIC8vIEZpbmQgdHdvIGNvcm5lcnMgbm90IGN1cnJlbnRseSBvY2N1cGllZCBieSBzdGFydGluZyBtYXJrZXIgYW5kIGhpbnQgbWFya2VyXG4gICAgICBjb3JuZXJzLmZvckVhY2goKGNvcm5lcikgPT4ge1xuICAgICAgICAvLyB0aGUgZGVmYXVsdCBlcXVhbHMgbWFyZ2luIGlzIDEuMGUtOSBidXQgaW4gb3RoZXIgY3JzIHByb2plY3Rpb25zIHRoZSBsYXRsbmcgZXF1YWxpdHkgY2FuIGJlIHNsaWdodGx5IGRpZmZlcmVudCBhZnRlciBgX2dldFJvdGF0ZWRSZWN0YW5nbGVgLCBzbyB3ZSBtYWtlIHRoZSBwcmVjZXNzaW9uIGEgbGl0dGxlIGJpdCBsb3dlclxuICAgICAgICBpZiAoIWNvcm5lci5lcXVhbHMoQSwgMS4wZS04KSAmJiAhY29ybmVyLmVxdWFscyhCLCAxLjBlLTgpKSB7XG4gICAgICAgICAgdW5tYXJrZWRDb3JuZXJzLnB1c2goY29ybmVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlcG9zaXRpb24gc3R5bGUgbWFya2Vyc1xuICAgICAgdW5tYXJrZWRDb3JuZXJzLmZvckVhY2goKHVubWFya2VkQ29ybmVyLCBpbmRleCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuX3N0eWxlTWFya2Vyc1tpbmRleF0uc2V0TGF0TG5nKHVubWFya2VkQ29ybmVyKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlnbm9yZSBlcnJvciAtIHNob3VsZCBiZSBmaXhlZCB3aXRoIHRoZSBuZXh0IG1vdXNlbW92ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIF9maW5kQ29ybmVycygpIHtcbiAgICBjb25zdCBsYXRsbmdzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdO1xuICAgIHJldHVybiBMLlBNLlV0aWxzLl9nZXRSb3RhdGVkUmVjdGFuZ2xlKFxuICAgICAgbGF0bG5nc1swXSxcbiAgICAgIGxhdGxuZ3NbMl0sXG4gICAgICB0aGlzLm9wdGlvbnMucmVjdGFuZ2xlQW5nbGUgfHwgMCxcbiAgICAgIHRoaXMuX21hcFxuICAgICk7XG4gIH0sXG4gIF9maW5pc2hTaGFwZShlKSB7XG4gICAgLy8gYXNzaWduIHRoZSBjb29yZGluYXRlIG9mIHRoZSBjbGljayB0byB0aGUgaGludE1hcmtlciwgdGhhdCdzIG5lY2Vzc2FyeSBmb3JcbiAgICAvLyBtb2JpbGUgd2hlcmUgdGhlIG1hcmtlciBjYW4ndCBmb2xsb3cgYSBjdXJzb3JcbiAgICBpZiAoIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZSBmb3IgbmV3IHZlcnRleCBieSBoaW50TWFya2VyIChjdXJzb3IgbWFya2VyKVxuICAgIGNvbnN0IEIgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuICAgIC8vIGdldCBhbHJlYWR5IHBsYWNlZCBjb3JuZXIgZnJvbSB0aGUgc3RhcnRtYXJrZXJcbiAgICBjb25zdCBBID0gdGhpcy5fc3RhcnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChBLmVxdWFscyhCKSkge1xuICAgICAgLy8gcmVjdGFuZ2xlIGhhcyBvbmx5IG9uZSBwb2ludFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSB0aGUgZmluYWwgcmVjdGFuZ2xlIGxheWVyLCBiYXNlZCBvbiBvcHBvc2l0ZSBjb3JuZXJzIEEgJiBCXG4gICAgY29uc3QgcmVjdGFuZ2xlTGF5ZXIgPSBMLnJlY3RhbmdsZShbQSwgQl0sIHRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucyk7XG5cbiAgICAvLyByZWN0YW5nbGUgY2FuIG9ubHkgaW5pdGlhbGl6ZWQgd2l0aCBib3VuZHMgKG5vdCB3b3JraW5nIHdpdGggcm90YXRpb24pIHNvIHdlIHVwZGF0ZSB0aGUgbGF0bG5nc1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVjdGFuZ2xlQW5nbGUpIHtcbiAgICAgIGNvbnN0IGNvcm5lcnMgPSBMLlBNLlV0aWxzLl9nZXRSb3RhdGVkUmVjdGFuZ2xlKFxuICAgICAgICBBLFxuICAgICAgICBCLFxuICAgICAgICB0aGlzLm9wdGlvbnMucmVjdGFuZ2xlQW5nbGUgfHwgMCxcbiAgICAgICAgdGhpcy5fbWFwXG4gICAgICApO1xuICAgICAgcmVjdGFuZ2xlTGF5ZXIuc2V0TGF0TG5ncyhjb3JuZXJzKTtcbiAgICAgIGlmIChyZWN0YW5nbGVMYXllci5wbSkge1xuICAgICAgICByZWN0YW5nbGVMYXllci5wbS5fc2V0QW5nbGUodGhpcy5vcHRpb25zLnJlY3RhbmdsZUFuZ2xlIHx8IDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3NldFBhbmUocmVjdGFuZ2xlTGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9maW5pc2hMYXllcihyZWN0YW5nbGVMYXllcik7XG4gICAgcmVjdGFuZ2xlTGF5ZXIuYWRkVG8odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICAvLyBmaXJlIHRoZSBwbTpjcmVhdGUgZXZlbnQgYW5kIHBhc3Mgc2hhcGUgYW5kIGxheWVyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShyZWN0YW5nbGVMYXllcik7XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmdcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIHNldFN0eWxlKCkge1xuICAgIHRoaXMuX2xheWVyPy5zZXRTdHlsZSh0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMpO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IERyYXcgZnJvbSAnLi9MLlBNLkRyYXcnO1xuaW1wb3J0IHsgZGVzdGluYXRpb25PbkxpbmUsIGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbkRyYXcuQ2lyY2xlTWFya2VyID0gRHJhdy5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdDaXJjbGVNYXJrZXInO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd0NpcmNsZU1hcmtlcic7XG4gICAgLy8gd2l0aCBfbGF5ZXJJc0RyYWdnaW5nIHdlIGNoZWNrIGlmIGEgY2lyY2xlbWFya2VyIGlzIGN1cnJlbnRseSBkcmFnZ2VkIGFuZCBkaXNhYmxlIG1hcmtlciBjcmVhdGlvblxuICAgIHRoaXMuX2xheWVySXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIHRoaXMuX0Jhc2VDaXJjbGVDbGFzcyA9IEwuQ2lyY2xlTWFya2VyO1xuICAgIHRoaXMuX21pblJhZGl1c09wdGlvbiA9ICdtaW5SYWRpdXNDaXJjbGVNYXJrZXInO1xuICAgIHRoaXMuX21heFJhZGl1c09wdGlvbiA9ICdtYXhSYWRpdXNDaXJjbGVNYXJrZXInO1xuICAgIHRoaXMuX2VkaXRhYmxlT3B0aW9uID0gJ3Jlc2l6ZWFibGVDaXJjbGVNYXJrZXInO1xuICAgIHRoaXMuX2RlZmF1bHRSYWRpdXMgPSAxMDtcbiAgfSxcbiAgZW5hYmxlKG9wdGlvbnMpIHtcbiAgICAvLyBUT0RPOiBUaGluayBhYm91dCBpZiB0aGVzZSBvcHRpb25zIGNvdWxkIGJlIHBhc3NlZCBnbG9iYWxseSBmb3IgYWxsXG4gICAgLy8gaW5zdGFuY2VzIG9mIEwuUE0uRHJhdy4gU28gYSBkZXYgY291bGQgc2V0IGRyYXdpbmcgc3R5bGUgb25lIHRpbWUgYXMgc29tZSBraW5kIG9mIGNvbmZpZ1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIC8vIFRPRE86IHJlbW92ZSB3aXRoIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZWRpdGFibGUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5yZXNpemVhYmxlQ2lyY2xlTWFya2VyID0gdGhpcy5vcHRpb25zLmVkaXRhYmxlO1xuICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5lZGl0YWJsZTtcbiAgICB9XG5cbiAgICAvLyBjaGFuZ2UgZW5hYmxlZCBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZW5hYmxlZCB3aXRob3V0IHRoZSBidXR0b25cbiAgICB0aGlzLl9tYXAucG0uVG9vbGJhci50b2dnbGVCdXR0b24odGhpcy50b29sYmFyQnV0dG9uTmFtZSwgdHJ1ZSk7XG5cbiAgICAvLyBjaGFuZ2UgbWFwIGN1cnNvclxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QuYWRkKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIERyYXcgdGhlIENpcmNsZU1hcmtlciBsaWtlIGEgQ2lyY2xlXG4gICAgaWYgKHRoaXMub3B0aW9uc1t0aGlzLl9lZGl0YWJsZU9wdGlvbl0pIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gc2V0IHRoZSByYWRpdXMgdG8gMCB3aXRob3V0IG92ZXJ3cml0aW5nIHRoZSBDaXJjbGVNYXJrZXIgc3R5bGVcbiAgICAgIGNvbnN0IHRlbXBsaW5lU3R5bGUgPSB7fTtcbiAgICAgIEwuZXh0ZW5kKHRlbXBsaW5lU3R5bGUsIHRoaXMub3B0aW9ucy50ZW1wbGluZVN0eWxlKTtcbiAgICAgIHRlbXBsaW5lU3R5bGUucmFkaXVzID0gMDtcblxuICAgICAgLy8gY3JlYXRlIGEgbmV3IGxheWVyZ3JvdXBcbiAgICAgIHRoaXMuX2xheWVyR3JvdXAgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKTtcbiAgICAgIHRoaXMuX2xheWVyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2xheWVyR3JvdXAuYWRkVG8odGhpcy5fbWFwKTtcblxuICAgICAgLy8gdGhpcyBpcyB0aGUgY2lyY2xlIHdlIHdhbnQgdG8gZHJhd1xuICAgICAgdGhpcy5fbGF5ZXIgPSBuZXcgdGhpcy5fQmFzZUNpcmNsZUNsYXNzKFxuICAgICAgICB0aGlzLl9tYXAuZ2V0Q2VudGVyKCksXG4gICAgICAgIHRlbXBsaW5lU3R5bGVcbiAgICAgICk7XG4gICAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2xheWVyLCAnbGF5ZXJQYW5lJyk7XG4gICAgICB0aGlzLl9sYXllci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgICAvLyB0aGlzIGlzIHRoZSBtYXJrZXIgaW4gdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICB0aGlzLl9jZW50ZXJNYXJrZXIgPSBMLm1hcmtlcih0aGlzLl9tYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgaWNvbjogTC5kaXZJY29uKHsgY2xhc3NOYW1lOiAnbWFya2VyLWljb24nIH0pLFxuICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICB6SW5kZXhPZmZzZXQ6IDEwMCxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9jZW50ZXJNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgICB0aGlzLl9jZW50ZXJNYXJrZXIuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgICB0aGlzLl9oaW50TWFya2VyID0gTC5tYXJrZXIodGhpcy5fbWFwLmdldENlbnRlcigpLCB7XG4gICAgICAgIHpJbmRleE9mZnNldDogMTEwLFxuICAgICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiBjdXJzb3ItbWFya2VyJyB9KSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2V0UGFuZSh0aGlzLl9oaW50TWFya2VyLCAndmVydGV4UGFuZScpO1xuICAgICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9oaW50TWFya2VyKTtcblxuICAgICAgLy8gc2hvdyB0aGUgaGludG1hcmtlciBpZiB0aGUgb3B0aW9uIGlzIHNldFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jdXJzb3JNYXJrZXIpIHtcbiAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2hpbnRNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCB0b29sdGlwIHRvIGhpbnRtYXJrZXJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgICAgdGhpcy5faGludE1hcmtlclxuICAgICAgICAgIC5iaW5kVG9vbHRpcChnZXRUcmFuc2xhdGlvbigndG9vbHRpcHMuc3RhcnRDaXJjbGUnKSwge1xuICAgICAgICAgICAgcGVybWFuZW50OiB0cnVlLFxuICAgICAgICAgICAgb2Zmc2V0OiBMLnBvaW50KDAsIDEwKSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICAgIG9wYWNpdHk6IDAuOCxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGlzIGlzIHRoZSBoaW50bGluZSBmcm9tIHRoZSBoaW50IG1hcmtlciB0byB0aGUgY2VudGVyIG1hcmtlclxuICAgICAgdGhpcy5faGludGxpbmUgPSBMLnBvbHlsaW5lKFtdLCB0aGlzLm9wdGlvbnMuaGludGxpbmVTdHlsZSk7XG4gICAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRsaW5lLCAnbGF5ZXJQYW5lJyk7XG4gICAgICB0aGlzLl9oaW50bGluZS5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9oaW50bGluZSk7XG4gICAgICAvLyBjcmVhdGUgYSBwb2x5Z29uLXBvaW50IG9uIGNsaWNrXG4gICAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fcGxhY2VDZW50ZXJNYXJrZXIsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjcmVhdGUgYSBtYXJrZXIgb24gY2xpY2sgb24gdGhlIG1hcFxuICAgICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAgIC8vIHRoaXMgaXMgdGhlIGhpbnRtYXJrZXIgb24gdGhlIG1vdXNlIGN1cnNvclxuICAgICAgdGhpcy5faGludE1hcmtlciA9IG5ldyB0aGlzLl9CYXNlQ2lyY2xlQ2xhc3ModGhpcy5fbWFwLmdldENlbnRlcigpLCB7XG4gICAgICAgIHJhZGl1czogdGhpcy5fZGVmYXVsdFJhZGl1cyxcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLnRlbXBsaW5lU3R5bGUsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3NldFBhbmUodGhpcy5faGludE1hcmtlciwgJ2xheWVyUGFuZScpO1xuICAgICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5faGludE1hcmtlci5hZGRUbyh0aGlzLl9tYXApO1xuICAgICAgLy8gdGhpcyBpcyBqdXN0IHRvIGtlZXAgdGhlIHNuYXBwYWJsZSBtaXhpbiBoYXBweVxuICAgICAgdGhpcy5fbGF5ZXIgPSB0aGlzLl9oaW50TWFya2VyO1xuXG4gICAgICAvLyBhZGQgdG9vbHRpcCB0byBoaW50bWFya2VyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgIHRoaXMuX2hpbnRNYXJrZXJcbiAgICAgICAgICAuYmluZFRvb2x0aXAoZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLnBsYWNlQ2lyY2xlTWFya2VyJyksIHtcbiAgICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgICAgIG9mZnNldDogTC5wb2ludCgwLCAxMCksXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdib3R0b20nLFxuXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjgsXG4gICAgICAgICAgfSlcbiAgICAgICAgICAub3BlblRvb2x0aXAoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzeW5jIGhpbnQgbWFya2VyIHdpdGggbW91c2UgY3Vyc29yXG4gICAgdGhpcy5fbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICB0aGlzLl9leHRlbmRpbmdFbmFibGUoKTtcblxuICAgIC8vIGFuIGFycmF5IHVzZWQgaW4gdGhlIHNuYXBwaW5nIG1peGluLlxuICAgIC8vIFRPRE86IHRoaW5rIGFib3V0IG1vdmluZyB0aGlzIHNvbWV3aGVyZSBlbHNlP1xuICAgIHRoaXMuX290aGVyU25hcExheWVycyA9IFtdO1xuXG4gICAgLy8gZmlyZSBkcmF3c3RhcnQgZXZlbnRcbiAgICB0aGlzLl9maXJlRHJhd1N0YXJ0KCk7XG4gICAgdGhpcy5fc2V0R2xvYmFsRHJhd01vZGUoKTtcbiAgfSxcbiAgX2V4dGVuZGluZ0VuYWJsZSgpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9uc1t0aGlzLl9lZGl0YWJsZU9wdGlvbl0gJiYgdGhpcy5vcHRpb25zLm1hcmtlckVkaXRhYmxlKSB7XG4gICAgICAvLyBlbmFibGUgZWRpdCBtb2RlIGZvciBleGlzdGluZyBtYXJrZXJzXG4gICAgICB0aGlzLl9tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc1JlbGV2YW50TWFya2VyKGxheWVyKSkge1xuICAgICAgICAgIGxheWVyLnBtLmVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXllci5icmluZ1RvQmFjaygpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIGNhbmNlbCwgaWYgZHJhd2luZyBtb2RlIGlzbid0IGV2ZW4gZW5hYmxlZFxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBjaGFuZ2UgZW5hYmxlZCBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8vIHJlc2V0IGN1cnNvclxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QucmVtb3ZlKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIGRpc2FibGUgd2hlbiBkcmF3aW5nIGxpa2UgYSBDaXJjbGVcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgLy8gdW5iaW5kIGxpc3RlbmVyc1xuICAgICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9maW5pc2hTaGFwZSwgdGhpcyk7XG4gICAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX3BsYWNlQ2VudGVyTWFya2VyLCB0aGlzKTtcblxuICAgICAgLy8gcmVtb3ZlIGhlbHBpbmcgbGF5ZXJzXG4gICAgICB0aGlzLl9tYXAucmVtb3ZlTGF5ZXIodGhpcy5fbGF5ZXJHcm91cCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVuZGJpbmQgY2xpY2sgZXZlbnQsIGRvbid0IGNyZWF0ZSBhIG1hcmtlciBvbiBjbGljayBhbnltb3JlXG4gICAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAgIHRoaXMuX2V4dGVuZGluZ0Rpc2FibGUoKTtcblxuICAgICAgLy8gcmVtb3ZlIGhpbnQgbWFya2VyXG4gICAgICB0aGlzLl9oaW50TWFya2VyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lciB0byBzeW5jIGhpbnQgbWFya2VyXG4gICAgdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBfZXh0ZW5kaW5nRGlzYWJsZSgpIHtcbiAgICAvLyBkaXNhYmxlIGRyYWdnaW5nIGFuZCByZW1vdmluZyBmb3IgYWxsIG1hcmtlcnNcbiAgICB0aGlzLl9tYXAuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNSZWxldmFudE1hcmtlcihsYXllcikpIHtcbiAgICAgICAgbGF5ZXIucG0uZGlzYWJsZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX3BsYWNlQ2VudGVyTWFya2VyKGUpIHtcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKHRoaXMuX2xheWVyKTtcbiAgICB0aGlzLl9sYXllckdyb3VwLmFkZExheWVyKHRoaXMuX2NlbnRlck1hcmtlcik7XG4gICAgLy8gYXNzaWduIHRoZSBjb29yZGluYXRlIG9mIHRoZSBjbGljayB0byB0aGUgaGludE1hcmtlciwgdGhhdCdzIG5lY2Vzc2FyeSBmb3JcbiAgICAvLyBtb2JpbGUgd2hlcmUgdGhlIG1hcmtlciBjYW4ndCBmb2xsb3cgYSBjdXJzb3JcbiAgICBpZiAoIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKGUubGF0bG5nKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZSBmb3IgbmV3IHZlcnRleCBieSBoaW50TWFya2VyIChjdXJzb3IgbWFya2VyKVxuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2hpbnRNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5hZGRMYXllcih0aGlzLl9sYXllcik7XG5cbiAgICB0aGlzLl9jZW50ZXJNYXJrZXIuc2V0TGF0TG5nKGxhdGxuZyk7XG5cbiAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX3BsYWNlQ2VudGVyTWFya2VyLCB0aGlzKTtcbiAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fZmluaXNoU2hhcGUsIHRoaXMpO1xuXG4gICAgdGhpcy5fcGxhY2VDaXJjbGVDZW50ZXIoKTtcbiAgfSxcbiAgX3BsYWNlQ2lyY2xlQ2VudGVyKCkge1xuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIGlmIChsYXRsbmcpIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZyhsYXRsbmcpO1xuXG4gICAgICAvLyBzeW5jIHRoZSBoaW50bGluZSB3aXRoIGhpbnQgbWFya2VyXG4gICAgICB0aGlzLl9oaW50TWFya2VyLm9uKCdtb3ZlJywgdGhpcy5fc3luY0hpbnRMaW5lLCB0aGlzKTtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jQ2lyY2xlUmFkaXVzLCB0aGlzKTtcblxuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRUb29sdGlwQ29udGVudChcbiAgICAgICAgZ2V0VHJhbnNsYXRpb24oJ3Rvb2x0aXBzLmZpbmlzaENpcmNsZScpXG4gICAgICApO1xuXG4gICAgICB0aGlzLl9maXJlQ2VudGVyUGxhY2VkKCk7XG4gICAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZygpLCAnRHJhdycpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TGluZSgpIHtcbiAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgY29uc3Qgc2Vjb25kTGF0TG5nID0gdGhpcy5fZ2V0TmV3RGVzdGluYXRpb25PZkhpbnRNYXJrZXIoKTtcbiAgICAvLyBzZXQgY29vcmRzIGZvciBoaW50bGluZSBmcm9tIG1hcmtlciB0byBsYXN0IHZlcnRleCBvZiBkcmF3aW4gcG9seWxpbmVcbiAgICB0aGlzLl9oaW50bGluZS5zZXRMYXRMbmdzKFtsYXRsbmcsIHNlY29uZExhdExuZ10pO1xuICB9LFxuICBfc3luY0NpcmNsZVJhZGl1cygpIHtcbiAgICBjb25zdCBBID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgIGNvbnN0IEIgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLl9kaXN0YW5jZUNhbGN1bGF0aW9uKEEsIEIpO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldFJhZGl1cyh0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dICYmXG4gICAgICBkaXN0YW5jZSA+IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dXG4gICAgKSB7XG4gICAgICB0aGlzLl9sYXllci5zZXRSYWRpdXModGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sYXllci5zZXRSYWRpdXMoZGlzdGFuY2UpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TWFya2VyKGUpIHtcbiAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgbWFya2VyXG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IGxhdGxuZyBvZiBtYXJrZXIgaWYgcmFkaXVzIGlzIG91dCBvZiBtaW4vbWF4XG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcodGhpcy5fZ2V0TmV3RGVzdGluYXRpb25PZkhpbnRNYXJrZXIoKSk7XG5cbiAgICAvLyBpZiBzbmFwcGluZyBpcyBlbmFibGVkLCBkbyBpdFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICBjb25zdCBmYWtlRHJhZ0V2ZW50ID0gZTtcbiAgICAgIGZha2VEcmFnRXZlbnQudGFyZ2V0ID0gdGhpcy5faGludE1hcmtlcjtcbiAgICAgIHRoaXMuX2hhbmRsZVNuYXBwaW5nKGZha2VEcmFnRXZlbnQpO1xuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZUhpbnRNYXJrZXJTbmFwcGluZygpO1xuXG4gICAgY29uc3QgbGF0bG5nID1cbiAgICAgIHRoaXMuX2xheWVyR3JvdXAgJiYgdGhpcy5fbGF5ZXJHcm91cC5oYXNMYXllcih0aGlzLl9jZW50ZXJNYXJrZXIpXG4gICAgICAgID8gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpXG4gICAgICAgIDogdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKGxhdGxuZywgJ0RyYXcnKTtcbiAgfSxcbiAgaXNSZWxldmFudE1hcmtlcihsYXllcikge1xuICAgIHJldHVybiAoXG4gICAgICBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyICYmXG4gICAgICAhKGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUpICYmXG4gICAgICBsYXllci5wbSAmJlxuICAgICAgIWxheWVyLl9wbVRlbXBMYXllclxuICAgICk7XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIoZSkge1xuICAgIC8vIElmIHNuYXAgZmluaXNoIGlzIHJlcXVpcmVkIGJ1dCB0aGUgbGFzdCBtYXJrZXIgd2Fzbid0IHNuYXBwZWQsIGRvIG5vdCBmaW5pc2ggdGhlIHNoYXBlIVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9ucy5yZXF1aXJlU25hcFRvRmluaXNoICYmXG4gICAgICAhdGhpcy5faGludE1hcmtlci5fc25hcHBlZCAmJlxuICAgICAgIXRoaXMuX2lzRmlyc3RMYXllcigpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2l0aCBfbGF5ZXJJc0RyYWdnaW5nIHdlIGNoZWNrIGlmIGEgY2lyY2xlbWFya2VyIGlzIGN1cnJlbnRseSBkcmFnZ2VkXG4gICAgaWYgKCFlLmxhdGxuZyB8fCB0aGlzLl9sYXllcklzRHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIC8vIGdldCBjb29yZGluYXRlIGZvciBuZXcgdmVydGV4IGJ5IGhpbnRNYXJrZXIgKGN1cnNvciBtYXJrZXIpXG4gICAgY29uc3QgbGF0bG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIC8vIGNyZWF0ZSBtYXJrZXJcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgdGhpcy5fQmFzZUNpcmNsZUNsYXNzKGxhdGxuZywge1xuICAgICAgcmFkaXVzOiB0aGlzLl9kZWZhdWx0UmFkaXVzLFxuICAgICAgLi4udGhpcy5vcHRpb25zLnBhdGhPcHRpb25zLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAnbGF5ZXJQYW5lJyk7XG4gICAgdGhpcy5fZmluaXNoTGF5ZXIobWFya2VyKTtcbiAgICAvLyBhZGQgbWFya2VyIHRvIHRoZSBtYXBcbiAgICBtYXJrZXIuYWRkVG8odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICB0aGlzLl9leHRlbmRpbmdDcmVhdGVNYXJrZXIobWFya2VyKTtcblxuICAgIC8vIGZpcmUgdGhlIHBtOmNyZWF0ZSBldmVudCBhbmQgcGFzcyBzaGFwZSBhbmQgbWFya2VyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShtYXJrZXIpO1xuXG4gICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgX2V4dGVuZGluZ0NyZWF0ZU1hcmtlcihtYXJrZXIpIHtcbiAgICBpZiAobWFya2VyLnBtICYmIHRoaXMub3B0aW9ucy5tYXJrZXJFZGl0YWJsZSkge1xuICAgICAgLy8gZW5hYmxlIGVkaXRpbmcgZm9yIHRoZSBtYXJrZXJcbiAgICAgIG1hcmtlci5wbS5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9maW5pc2hTaGFwZShlKSB7XG4gICAgLy8gSWYgc25hcCBmaW5pc2ggaXMgcmVxdWlyZWQgYnV0IHRoZSBsYXN0IG1hcmtlciB3YXNuJ3Qgc25hcHBlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnJlcXVpcmVTbmFwVG9GaW5pc2ggJiZcbiAgICAgICF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkICYmXG4gICAgICAhdGhpcy5faXNGaXJzdExheWVyKClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIGNsaWNrIHRvIHRoZSBoaW50TWFya2VyLCB0aGF0J3MgbmVjZXNzYXJ5IGZvclxuICAgIC8vIG1vYmlsZSB3aGVyZSB0aGUgbWFya2VyIGNhbid0IGZvbGxvdyBhIGN1cnNvclxuICAgIGlmICghdGhpcy5faGludE1hcmtlci5fc25hcHBlZCkge1xuICAgICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuICAgIH1cblxuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBsZXQgcmFkaXVzID0gdGhpcy5fZGVmYXVsdFJhZGl1cztcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgLy8gY2FsYyB0aGUgcmFkaXVzXG4gICAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuICAgICAgcmFkaXVzID0gdGhpcy5fZGlzdGFuY2VDYWxjdWxhdGlvbihjZW50ZXIsIGxhdGxuZyk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICAgIHJhZGl1cyA8IHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dXG4gICAgICApIHtcbiAgICAgICAgcmFkaXVzID0gdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl07XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSAmJlxuICAgICAgICByYWRpdXMgPiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXVxuICAgICAgKSB7XG4gICAgICAgIHJhZGl1cyA9IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucy5wYXRoT3B0aW9ucywgcmFkaXVzIH07XG5cbiAgICAvLyBjcmVhdGUgdGhlIGZpbmFsIGNpcmNsZSBsYXllclxuICAgIGNvbnN0IGNpcmNsZUxheWVyID0gbmV3IHRoaXMuX0Jhc2VDaXJjbGVDbGFzcyhjZW50ZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMuX3NldFBhbmUoY2lyY2xlTGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICB0aGlzLl9maW5pc2hMYXllcihjaXJjbGVMYXllcik7XG4gICAgY2lyY2xlTGF5ZXIuYWRkVG8odGhpcy5fbWFwLnBtLl9nZXRDb250YWluaW5nTGF5ZXIoKSk7XG5cbiAgICBpZiAoY2lyY2xlTGF5ZXIucG0pIHtcbiAgICAgIC8vIGNyZWF0ZSBwb2x5Z29uIGFyb3VuZCB0aGUgY2lyY2xlIGJvcmRlclxuICAgICAgY2lyY2xlTGF5ZXIucG0uX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIHRoZSBwbTpjcmVhdGUgZXZlbnQgYW5kIHBhc3Mgc2hhcGUgYW5kIGxheWVyXG4gICAgdGhpcy5fZmlyZUNyZWF0ZShjaXJjbGVMYXllcik7XG5cbiAgICAvLyBkaXNhYmxlIGRyYXdpbmdcbiAgICB0aGlzLmRpc2FibGUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlRHJhd2luZykge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH0sXG4gIF9nZXROZXdEZXN0aW5hdGlvbk9mSGludE1hcmtlcigpIHtcbiAgICBsZXQgc2Vjb25kTGF0TG5nID0gdGhpcy5faGludE1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgaWYgKCF0aGlzLl9sYXllckdyb3VwLmhhc0xheWVyKHRoaXMuX2NlbnRlck1hcmtlcikpIHtcbiAgICAgICAgcmV0dXJuIHNlY29uZExhdExuZztcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGF0bG5nID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24obGF0bG5nLCBzZWNvbmRMYXRMbmcpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICAgIGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICAgICkge1xuICAgICAgICBzZWNvbmRMYXRMbmcgPSBkZXN0aW5hdGlvbk9uTGluZShcbiAgICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgICAgbGF0bG5nLFxuICAgICAgICAgIHNlY29uZExhdExuZyxcbiAgICAgICAgICB0aGlzLl9nZXRNaW5EaXN0YW5jZUluTWV0ZXIoKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0gJiZcbiAgICAgICAgZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXVxuICAgICAgKSB7XG4gICAgICAgIHNlY29uZExhdExuZyA9IGRlc3RpbmF0aW9uT25MaW5lKFxuICAgICAgICAgIHRoaXMuX21hcCxcbiAgICAgICAgICBsYXRsbmcsXG4gICAgICAgICAgc2Vjb25kTGF0TG5nLFxuICAgICAgICAgIHRoaXMuX2dldE1heERpc3RhbmNlSW5NZXRlcigpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWNvbmRMYXRMbmc7XG4gIH0sXG4gIF9nZXRNaW5EaXN0YW5jZUluTWV0ZXIoKSB7XG4gICAgcmV0dXJuIEwuUE0uVXRpbHMucHhSYWRpdXNUb01ldGVyUmFkaXVzKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0sXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKClcbiAgICApO1xuICB9LFxuICBfZ2V0TWF4RGlzdGFuY2VJbk1ldGVyKCkge1xuICAgIHJldHVybiBMLlBNLlV0aWxzLnB4UmFkaXVzVG9NZXRlclJhZGl1cyhcbiAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dLFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpXG4gICAgKTtcbiAgfSxcbiAgX2hhbmRsZUhpbnRNYXJrZXJTbmFwcGluZygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgaWYgKHRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQpIHtcbiAgICAgICAgY29uc3QgbGF0bG5nID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgICAgICBjb25zdCBzZWNvbmRMYXRMbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24obGF0bG5nLCBzZWNvbmRMYXRMbmcpO1xuXG4gICAgICAgIGlmICghdGhpcy5fbGF5ZXJHcm91cC5oYXNMYXllcih0aGlzLl9jZW50ZXJNYXJrZXIpKSB7XG4gICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICAgICAgZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyh0aGlzLl9oaW50TWFya2VyLl9vcmdMYXRMbmcpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dICYmXG4gICAgICAgICAgZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyh0aGlzLl9oaW50TWFya2VyLl9vcmdMYXRMbmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBsYXRsbmcgb2YgbWFya2VyIGlmIHRoZSBzbmFwcGVkIGxhdGxuZyByYWRpdXMgaXMgb3V0IG9mIG1pbi9tYXhcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXIuc2V0TGF0TG5nKHRoaXMuX2dldE5ld0Rlc3RpbmF0aW9uT2ZIaW50TWFya2VyKCkpO1xuICAgIH1cbiAgfSxcbiAgc2V0U3R5bGUoKSB7XG4gICAgY29uc3QgdGVtcGxpbmVTdHlsZSA9IHt9O1xuICAgIEwuZXh0ZW5kKHRlbXBsaW5lU3R5bGUsIHRoaXMub3B0aW9ucy50ZW1wbGluZVN0eWxlKTtcbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgdGVtcGxpbmVTdHlsZS5yYWRpdXMgPSAwO1xuICAgIH1cbiAgICB0aGlzLl9sYXllcj8uc2V0U3R5bGUodGVtcGxpbmVTdHlsZSk7XG4gICAgdGhpcy5faGludGxpbmU/LnNldFN0eWxlKHRoaXMub3B0aW9ucy5oaW50bGluZVN0eWxlKTtcbiAgfSxcbiAgX2Rpc3RhbmNlQ2FsY3VsYXRpb24oQSwgQikge1xuICAgIHJldHVybiB0aGlzLl9tYXAucHJvamVjdChBKS5kaXN0YW5jZVRvKHRoaXMuX21hcC5wcm9qZWN0KEIpKTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBEcmF3IGZyb20gJy4vTC5QTS5EcmF3JztcblxuRHJhdy5DaXJjbGUgPSBEcmF3LkNpcmNsZU1hcmtlci5leHRlbmQoe1xuICBpbml0aWFsaXplKG1hcCkge1xuICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB0aGlzLl9zaGFwZSA9ICdDaXJjbGUnO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd0NpcmNsZSc7XG4gICAgdGhpcy5fQmFzZUNpcmNsZUNsYXNzID0gTC5DaXJjbGU7XG4gICAgdGhpcy5fbWluUmFkaXVzT3B0aW9uID0gJ21pblJhZGl1c0NpcmNsZSc7XG4gICAgdGhpcy5fbWF4UmFkaXVzT3B0aW9uID0gJ21heFJhZGl1c0NpcmNsZSc7XG4gICAgdGhpcy5fZWRpdGFibGVPcHRpb24gPSAncmVzaXphYmxlQ2lyY2xlJztcbiAgICB0aGlzLl9kZWZhdWx0UmFkaXVzID0gMTAwO1xuICB9LFxuICBfZXh0ZW5kaW5nRW5hYmxlKCkge30sXG4gIF9leHRlbmRpbmdEaXNhYmxlKCkge30sXG4gIF9leHRlbmRpbmdDcmVhdGVNYXJrZXIoKSB7fSxcbiAgaXNSZWxldmFudE1hcmtlcigpIHt9LFxuICBfZ2V0TWluRGlzdGFuY2VJbk1ldGVyKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXTtcbiAgfSxcbiAgX2dldE1heERpc3RhbmNlSW5NZXRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl07XG4gIH0sXG4gIF9kaXN0YW5jZUNhbGN1bGF0aW9uKEEsIEIpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmRpc3RhbmNlKEEsIEIpO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IHsgaXNOdW1iZXIsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbi8qKlxuICogVW53cmFwIGEgY29vcmRpbmF0ZSBmcm9tIGEgUG9pbnQgRmVhdHVyZSwgR2VvbWV0cnkgb3IgYSBzaW5nbGUgY29vcmRpbmF0ZS5cbiAqXG4gKiBAbmFtZSBnZXRDb29yZFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fEdlb21ldHJ5PFBvaW50PnxGZWF0dXJlPFBvaW50Pn0gY29vcmQgR2VvSlNPTiBQb2ludCBvciBhbiBBcnJheSBvZiBudW1iZXJzXG4gKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXNcbiAqIEBleGFtcGxlXG4gKiB2YXIgcHQgPSB0dXJmLnBvaW50KFsxMCwgMTBdKTtcbiAqXG4gKiB2YXIgY29vcmQgPSB0dXJmLmdldENvb3JkKHB0KTtcbiAqIC8vPSBbMTAsIDEwXVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmQoY29vcmQpIHtcbiAgICBpZiAoIWNvb3JkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29vcmQpKSB7XG4gICAgICAgIGlmIChjb29yZC50eXBlID09PSBcIkZlYXR1cmVcIiAmJlxuICAgICAgICAgICAgY29vcmQuZ2VvbWV0cnkgIT09IG51bGwgJiZcbiAgICAgICAgICAgIGNvb3JkLmdlb21ldHJ5LnR5cGUgPT09IFwiUG9pbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNvb3JkLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb29yZC50eXBlID09PSBcIlBvaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29yZC5jb29yZGluYXRlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb29yZCkgJiZcbiAgICAgICAgY29vcmQubGVuZ3RoID49IDIgJiZcbiAgICAgICAgIUFycmF5LmlzQXJyYXkoY29vcmRbMF0pICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KGNvb3JkWzFdKSkge1xuICAgICAgICByZXR1cm4gY29vcmQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImNvb3JkIG11c3QgYmUgR2VvSlNPTiBQb2ludCBvciBhbiBBcnJheSBvZiBudW1iZXJzXCIpO1xufVxuLyoqXG4gKiBVbndyYXAgY29vcmRpbmF0ZXMgZnJvbSBhIEZlYXR1cmUsIEdlb21ldHJ5IE9iamVjdCBvciBhbiBBcnJheVxuICpcbiAqIEBuYW1lIGdldENvb3Jkc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fEdlb21ldHJ5fEZlYXR1cmV9IGNvb3JkcyBGZWF0dXJlLCBHZW9tZXRyeSBPYmplY3Qgb3IgYW4gQXJyYXlcbiAqIEByZXR1cm5zIHtBcnJheTxhbnk+fSBjb29yZGluYXRlc1xuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5ID0gdHVyZi5wb2x5Z29uKFtbWzExOS4zMiwgLTguN10sIFsxMTkuNTUsIC04LjY5XSwgWzExOS41MSwgLTguNTRdLCBbMTE5LjMyLCAtOC43XV1dKTtcbiAqXG4gKiB2YXIgY29vcmRzID0gdHVyZi5nZXRDb29yZHMocG9seSk7XG4gKiAvLz0gW1tbMTE5LjMyLCAtOC43XSwgWzExOS41NSwgLTguNjldLCBbMTE5LjUxLCAtOC41NF0sIFsxMTkuMzIsIC04LjddXV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvb3Jkcyhjb29yZHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb29yZHMpKSB7XG4gICAgICAgIHJldHVybiBjb29yZHM7XG4gICAgfVxuICAgIC8vIEZlYXR1cmVcbiAgICBpZiAoY29vcmRzLnR5cGUgPT09IFwiRmVhdHVyZVwiKSB7XG4gICAgICAgIGlmIChjb29yZHMuZ2VvbWV0cnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29yZHMuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEdlb21ldHJ5XG4gICAgICAgIGlmIChjb29yZHMuY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29yZHMuY29vcmRpbmF0ZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRzIG11c3QgYmUgR2VvSlNPTiBGZWF0dXJlLCBHZW9tZXRyeSBPYmplY3Qgb3IgYW4gQXJyYXlcIik7XG59XG4vKipcbiAqIENoZWNrcyBpZiBjb29yZGluYXRlcyBjb250YWlucyBhIG51bWJlclxuICpcbiAqIEBuYW1lIGNvbnRhaW5zTnVtYmVyXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGNvb3JkaW5hdGVzIEdlb0pTT04gQ29vcmRpbmF0ZXNcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIEFycmF5IGNvbnRhaW5zIGEgbnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc051bWJlcihjb29yZGluYXRlcykge1xuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPiAxICYmXG4gICAgICAgIGlzTnVtYmVyKGNvb3JkaW5hdGVzWzBdKSAmJlxuICAgICAgICBpc051bWJlcihjb29yZGluYXRlc1sxXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSAmJiBjb29yZGluYXRlc1swXS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zTnVtYmVyKGNvb3JkaW5hdGVzWzBdKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY29vcmRpbmF0ZXMgbXVzdCBvbmx5IGNvbnRhaW4gbnVtYmVyc1wiKTtcbn1cbi8qKlxuICogRW5mb3JjZSBleHBlY3RhdGlvbnMgYWJvdXQgdHlwZXMgb2YgR2VvSlNPTiBvYmplY3RzIGZvciBUdXJmLlxuICpcbiAqIEBuYW1lIGdlb2pzb25UeXBlXG4gKiBAcGFyYW0ge0dlb0pTT059IHZhbHVlIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgZXhwZWN0ZWQgR2VvSlNPTiB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIGNhbGxpbmcgZnVuY3Rpb25cbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB2YWx1ZSBpcyBub3QgdGhlIGV4cGVjdGVkIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW9qc29uVHlwZSh2YWx1ZSwgdHlwZSwgbmFtZSkge1xuICAgIGlmICghdHlwZSB8fCAhbmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0eXBlIGFuZCBuYW1lIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLnR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArXG4gICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgIFwiOiBtdXN0IGJlIGEgXCIgK1xuICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICBcIiwgZ2l2ZW4gXCIgK1xuICAgICAgICAgICAgdmFsdWUudHlwZSk7XG4gICAgfVxufVxuLyoqXG4gKiBFbmZvcmNlIGV4cGVjdGF0aW9ucyBhYm91dCB0eXBlcyBvZiB7QGxpbmsgRmVhdHVyZX0gaW5wdXRzIGZvciBUdXJmLlxuICogSW50ZXJuYWxseSB0aGlzIHVzZXMge0BsaW5rIGdlb2pzb25UeXBlfSB0byBqdWRnZSBnZW9tZXRyeSB0eXBlcy5cbiAqXG4gKiBAbmFtZSBmZWF0dXJlT2ZcbiAqIEBwYXJhbSB7RmVhdHVyZX0gZmVhdHVyZSBhIGZlYXR1cmUgd2l0aCBhbiBleHBlY3RlZCBnZW9tZXRyeSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBleHBlY3RlZCBHZW9KU09OIHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgY2FsbGluZyBmdW5jdGlvblxuICogQHRocm93cyB7RXJyb3J9IGVycm9yIGlmIHZhbHVlIGlzIG5vdCB0aGUgZXhwZWN0ZWQgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZlYXR1cmVPZihmZWF0dXJlLCB0eXBlLCBuYW1lKSB7XG4gICAgaWYgKCFmZWF0dXJlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZlYXR1cmUgcGFzc2VkXCIpO1xuICAgIH1cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiLmZlYXR1cmVPZigpIHJlcXVpcmVzIGEgbmFtZVwiKTtcbiAgICB9XG4gICAgaWYgKCFmZWF0dXJlIHx8IGZlYXR1cmUudHlwZSAhPT0gXCJGZWF0dXJlXCIgfHwgIWZlYXR1cmUuZ2VvbWV0cnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArIG5hbWUgKyBcIiwgRmVhdHVyZSB3aXRoIGdlb21ldHJ5IHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIWZlYXR1cmUuZ2VvbWV0cnkgfHwgZmVhdHVyZS5nZW9tZXRyeS50eXBlICE9PSB0eXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gXCIgK1xuICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICBcIjogbXVzdCBiZSBhIFwiICtcbiAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgXCIsIGdpdmVuIFwiICtcbiAgICAgICAgICAgIGZlYXR1cmUuZ2VvbWV0cnkudHlwZSk7XG4gICAgfVxufVxuLyoqXG4gKiBFbmZvcmNlIGV4cGVjdGF0aW9ucyBhYm91dCB0eXBlcyBvZiB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259IGlucHV0cyBmb3IgVHVyZi5cbiAqIEludGVybmFsbHkgdGhpcyB1c2VzIHtAbGluayBnZW9qc29uVHlwZX0gdG8ganVkZ2UgZ2VvbWV0cnkgdHlwZXMuXG4gKlxuICogQG5hbWUgY29sbGVjdGlvbk9mXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufSBmZWF0dXJlQ29sbGVjdGlvbiBhIEZlYXR1cmVDb2xsZWN0aW9uIGZvciB3aGljaCBmZWF0dXJlcyB3aWxsIGJlIGp1ZGdlZFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgZXhwZWN0ZWQgR2VvSlNPTiB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIGNhbGxpbmcgZnVuY3Rpb25cbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiB2YWx1ZSBpcyBub3QgdGhlIGV4cGVjdGVkIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb2xsZWN0aW9uT2YoZmVhdHVyZUNvbGxlY3Rpb24sIHR5cGUsIG5hbWUpIHtcbiAgICBpZiAoIWZlYXR1cmVDb2xsZWN0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZlYXR1cmVDb2xsZWN0aW9uIHBhc3NlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIi5jb2xsZWN0aW9uT2YoKSByZXF1aXJlcyBhIG5hbWVcIik7XG4gICAgfVxuICAgIGlmICghZmVhdHVyZUNvbGxlY3Rpb24gfHwgZmVhdHVyZUNvbGxlY3Rpb24udHlwZSAhPT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gXCIgKyBuYW1lICsgXCIsIEZlYXR1cmVDb2xsZWN0aW9uIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gZmVhdHVyZUNvbGxlY3Rpb24uZmVhdHVyZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBmZWF0dXJlID0gX2FbX2ldO1xuICAgICAgICBpZiAoIWZlYXR1cmUgfHwgZmVhdHVyZS50eXBlICE9PSBcIkZlYXR1cmVcIiB8fCAhZmVhdHVyZS5nZW9tZXRyeSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBcIiArIG5hbWUgKyBcIiwgRmVhdHVyZSB3aXRoIGdlb21ldHJ5IHJlcXVpcmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmVhdHVyZS5nZW9tZXRyeSB8fCBmZWF0dXJlLmdlb21ldHJ5LnR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gXCIgK1xuICAgICAgICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICAgICAgIFwiOiBtdXN0IGJlIGEgXCIgK1xuICAgICAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgICAgIFwiLCBnaXZlbiBcIiArXG4gICAgICAgICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeS50eXBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogR2V0IEdlb21ldHJ5IGZyb20gRmVhdHVyZSBvciBHZW9tZXRyeSBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5IE9iamVjdFxuICogQHJldHVybnMge0dlb21ldHJ5fG51bGx9IEdlb0pTT04gR2VvbWV0cnkgT2JqZWN0XG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgZ2VvanNvbiBpcyBub3QgYSBGZWF0dXJlIG9yIEdlb21ldHJ5IE9iamVjdFxuICogQGV4YW1wbGVcbiAqIHZhciBwb2ludCA9IHtcbiAqICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICogICBcInByb3BlcnRpZXNcIjoge30sXG4gKiAgIFwiZ2VvbWV0cnlcIjoge1xuICogICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgICAgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA0MF1cbiAqICAgfVxuICogfVxuICogdmFyIGdlb20gPSB0dXJmLmdldEdlb20ocG9pbnQpXG4gKiAvLz17XCJ0eXBlXCI6IFwiUG9pbnRcIiwgXCJjb29yZGluYXRlc1wiOiBbMTEwLCA0MF19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRHZW9tKGdlb2pzb24pIHtcbiAgICBpZiAoZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVcIikge1xuICAgICAgICByZXR1cm4gZ2VvanNvbi5nZW9tZXRyeTtcbiAgICB9XG4gICAgcmV0dXJuIGdlb2pzb247XG59XG4vKipcbiAqIEdldCBHZW9KU09OIG9iamVjdCdzIHR5cGUsIEdlb21ldHJ5IHR5cGUgaXMgcHJpb3JpdGl6ZS5cbiAqXG4gKiBAcGFyYW0ge0dlb0pTT059IGdlb2pzb24gR2VvSlNPTiBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZT1cImdlb2pzb25cIl0gbmFtZSBvZiB0aGUgdmFyaWFibGUgdG8gZGlzcGxheSBpbiBlcnJvciBtZXNzYWdlICh1bnVzZWQpXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBHZW9KU09OIHR5cGVcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB7XG4gKiAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAqICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICogICBcImdlb21ldHJ5XCI6IHtcbiAqICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICAgIFwiY29vcmRpbmF0ZXNcIjogWzExMCwgNDBdXG4gKiAgIH1cbiAqIH1cbiAqIHZhciBnZW9tID0gdHVyZi5nZXRUeXBlKHBvaW50KVxuICogLy89XCJQb2ludFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlKGdlb2pzb24sIF9uYW1lKSB7XG4gICAgaWYgKGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBcIkZlYXR1cmVDb2xsZWN0aW9uXCI7XG4gICAgfVxuICAgIGlmIChnZW9qc29uLnR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI7XG4gICAgfVxuICAgIGlmIChnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZVwiICYmIGdlb2pzb24uZ2VvbWV0cnkgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdlb2pzb24uZ2VvbWV0cnkudHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIGdlb2pzb24udHlwZTtcbn1cbiIsICJpbXBvcnQgeyBmZWF0dXJlLCBsaW5lU3RyaW5nLCBpc09iamVjdCwgcG9pbnQgfSBmcm9tICdAdHVyZi9oZWxwZXJzJztcblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgY29vcmRFYWNoXG4gKlxuICogQGNhbGxiYWNrIGNvb3JkRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGN1cnJlbnRDb29yZCBUaGUgY3VycmVudCBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb29yZEluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBjb29yZGluYXRlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgY29vcmRpbmF0ZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIGNvb3JkRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KVxuICogQHBhcmFtIHtib29sZWFufSBbZXhjbHVkZVdyYXBDb29yZD1mYWxzZV0gd2hldGhlciBvciBub3QgdG8gaW5jbHVkZSB0aGUgZmluYWwgY29vcmRpbmF0ZSBvZiBMaW5lYXJSaW5ncyB0aGF0IHdyYXBzIHRoZSByaW5nIGluIGl0cyBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgdHVyZi5wb2ludChbMjYsIDM3XSwge1wiZm9vXCI6IFwiYmFyXCJ9KSxcbiAqICAgdHVyZi5wb2ludChbMzYsIDUzXSwge1wiaGVsbG9cIjogXCJ3b3JsZFwifSlcbiAqIF0pO1xuICpcbiAqIHR1cmYuY29vcmRFYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudENvb3JkLCBjb29yZEluZGV4LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRDb29yZFxuICogICAvLz1jb29yZEluZGV4XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz1nZW9tZXRyeUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gY29vcmRFYWNoKGdlb2pzb24sIGNhbGxiYWNrLCBleGNsdWRlV3JhcENvb3JkKSB7XG4gIC8vIEhhbmRsZXMgbnVsbCBHZW9tZXRyeSAtLSBTa2lwcyB0aGlzIEdlb0pTT05cbiAgaWYgKGdlb2pzb24gPT09IG51bGwpIHJldHVybjtcbiAgdmFyIGosXG4gICAgayxcbiAgICBsLFxuICAgIGdlb21ldHJ5LFxuICAgIHN0b3BHLFxuICAgIGNvb3JkcyxcbiAgICBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbixcbiAgICB3cmFwU2hyaW5rID0gMCxcbiAgICBjb29yZEluZGV4ID0gMCxcbiAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbixcbiAgICB0eXBlID0gZ2VvanNvbi50eXBlLFxuICAgIGlzRmVhdHVyZUNvbGxlY3Rpb24gPSB0eXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgaXNGZWF0dXJlID0gdHlwZSA9PT0gXCJGZWF0dXJlXCIsXG4gICAgc3RvcCA9IGlzRmVhdHVyZUNvbGxlY3Rpb24gPyBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCA6IDE7XG5cbiAgLy8gVGhpcyBsb2dpYyBtYXkgbG9vayBhIGxpdHRsZSB3ZWlyZC4gVGhlIHJlYXNvbiB3aHkgaXQgaXMgdGhhdCB3YXlcbiAgLy8gaXMgYmVjYXVzZSBpdCdzIHRyeWluZyB0byBiZSBmYXN0LiBHZW9KU09OIHN1cHBvcnRzIG11bHRpcGxlIGtpbmRzXG4gIC8vIG9mIG9iamVjdHMgYXQgaXRzIHJvb3Q6IEZlYXR1cmVDb2xsZWN0aW9uLCBGZWF0dXJlcywgR2VvbWV0cmllcy5cbiAgLy8gVGhpcyBmdW5jdGlvbiBoYXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIGhhbmRsaW5nIGFsbCBvZiB0aGVtLCBhbmQgdGhhdFxuICAvLyBtZWFucyB0aGF0IHNvbWUgb2YgdGhlIGBmb3JgIGxvb3BzIHlvdSBzZWUgYmVsb3cgYWN0dWFsbHkganVzdCBkb24ndCBhcHBseVxuICAvLyB0byBjZXJ0YWluIGlucHV0cy4gRm9yIGluc3RhbmNlLCBpZiB5b3UgZ2l2ZSB0aGlzIGp1c3QgYVxuICAvLyBQb2ludCBnZW9tZXRyeSwgdGhlbiBib3RoIGxvb3BzIGFyZSBzaG9ydC1jaXJjdWl0ZWQgYW5kIGFsbCB3ZSBkb1xuICAvLyBpcyBncmFkdWFsbHkgcmVuYW1lIHRoZSBpbnB1dCB1bnRpbCBpdCdzIGNhbGxlZCAnZ2VvbWV0cnknLlxuICAvL1xuICAvLyBUaGlzIGFsc28gYWltcyB0byBhbGxvY2F0ZSBhcyBmZXcgcmVzb3VyY2VzIGFzIHBvc3NpYmxlOiBqdXN0IGFcbiAgLy8gZmV3IG51bWJlcnMgYW5kIGJvb2xlYW5zLCByYXRoZXIgdGhhbiBhbnkgdGVtcG9yYXJ5IGFycmF5cyBhcyB3b3VsZFxuICAvLyBiZSByZXF1aXJlZCB3aXRoIHRoZSBub3JtYWxpemF0aW9uIGFwcHJvYWNoLlxuICBmb3IgKHZhciBmZWF0dXJlSW5kZXggPSAwOyBmZWF0dXJlSW5kZXggPCBzdG9wOyBmZWF0dXJlSW5kZXgrKykge1xuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnlcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uZ2VvbWV0cnlcbiAgICAgIDogZ2VvanNvbjtcbiAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbiA9IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLnR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gICAgc3RvcEcgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzLmxlbmd0aFxuICAgICAgOiAxO1xuXG4gICAgZm9yICh2YXIgZ2VvbUluZGV4ID0gMDsgZ2VvbUluZGV4IDwgc3RvcEc7IGdlb21JbmRleCsrKSB7XG4gICAgICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSAwO1xuICAgICAgdmFyIGdlb21ldHJ5SW5kZXggPSAwO1xuICAgICAgZ2VvbWV0cnkgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLmdlb21ldHJpZXNbZ2VvbUluZGV4XVxuICAgICAgICA6IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uO1xuXG4gICAgICAvLyBIYW5kbGVzIG51bGwgR2VvbWV0cnkgLS0gU2tpcHMgdGhpcyBnZW9tZXRyeVxuICAgICAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSBjb250aW51ZTtcbiAgICAgIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgICAgdmFyIGdlb21UeXBlID0gZ2VvbWV0cnkudHlwZTtcblxuICAgICAgd3JhcFNocmluayA9XG4gICAgICAgIGV4Y2x1ZGVXcmFwQ29vcmQgJiZcbiAgICAgICAgKGdlb21UeXBlID09PSBcIlBvbHlnb25cIiB8fCBnZW9tVHlwZSA9PT0gXCJNdWx0aVBvbHlnb25cIilcbiAgICAgICAgICA/IDFcbiAgICAgICAgICA6IDA7XG5cbiAgICAgIHN3aXRjaCAoZ2VvbVR5cGUpIHtcbiAgICAgICAgY2FzZSBudWxsOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgY29vcmRzLFxuICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBjb29yZEluZGV4Kys7XG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICAgIGNvb3Jkc1tqXSxcbiAgICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNvb3JkSW5kZXgrKztcbiAgICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJNdWx0aVBvaW50XCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChnZW9tVHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIpIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgY29vcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgY29vcmRzW2pdLmxlbmd0aCAtIHdyYXBTaHJpbms7IGsrKykge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICBjb29yZHNbal1ba10sXG4gICAgICAgICAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIk11bHRpTGluZVN0cmluZ1wiKSBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSBcIlBvbHlnb25cIikgZ2VvbWV0cnlJbmRleCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZ2VvbVR5cGUgPT09IFwiUG9seWdvblwiKSBtdWx0aUZlYXR1cmVJbmRleCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZ2VvbWV0cnlJbmRleCA9IDA7XG4gICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgY29vcmRzW2pdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgIGZvciAobCA9IDA7IGwgPCBjb29yZHNbal1ba10ubGVuZ3RoIC0gd3JhcFNocmluazsgbCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICAgIGNvb3Jkc1tqXVtrXVtsXSxcbiAgICAgICAgICAgICAgICAgICAgY29vcmRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29vcmRJbmRleCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGdlb21ldHJ5SW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNvb3JkRWFjaChnZW9tZXRyeS5nZW9tZXRyaWVzW2pdLCBjYWxsYmFjaywgZXhjbHVkZVdyYXBDb29yZCkgPT09XG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIEdlb21ldHJ5IFR5cGVcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGNvb3JkUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgY29vcmRSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudENvb3JkIFRoZSBjdXJyZW50IGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvb3JkSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGNvb3JkaW5hdGUgYmVpbmcgcHJvY2Vzc2VkLlxuICogU3RhcnRzIGF0IGluZGV4IDAsIGlmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCwgYW5kIGF0IGluZGV4IDEgb3RoZXJ3aXNlLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBjb29yZGluYXRlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKClcbiAqXG4gKiBAbmFtZSBjb29yZFJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxHZW9tZXRyeXxGZWF0dXJlfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudENvb3JkLCBjb29yZEluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2V4Y2x1ZGVXcmFwQ29vcmQ9ZmFsc2VdIHdoZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgdGhlIGZpbmFsIGNvb3JkaW5hdGUgb2YgTGluZWFyUmluZ3MgdGhhdCB3cmFwcyB0aGUgcmluZyBpbiBpdHMgaXRlcmF0aW9uLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICB0dXJmLnBvaW50KFsyNiwgMzddLCB7XCJmb29cIjogXCJiYXJcIn0pLFxuICogICB0dXJmLnBvaW50KFszNiwgNTNdLCB7XCJoZWxsb1wiOiBcIndvcmxkXCJ9KVxuICogXSk7XG4gKlxuICogdHVyZi5jb29yZFJlZHVjZShmZWF0dXJlcywgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRDb29yZCwgY29vcmRJbmRleCwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRDb29yZFxuICogICAvLz1jb29yZEluZGV4XG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz1nZW9tZXRyeUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50Q29vcmQ7XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gY29vcmRSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSwgZXhjbHVkZVdyYXBDb29yZCkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgY29vcmRFYWNoKFxuICAgIGdlb2pzb24sXG4gICAgZnVuY3Rpb24gKFxuICAgICAgY3VycmVudENvb3JkLFxuICAgICAgY29vcmRJbmRleCxcbiAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICkge1xuICAgICAgaWYgKGNvb3JkSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50Q29vcmQ7XG4gICAgICBlbHNlXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhcbiAgICAgICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgICAgIGN1cnJlbnRDb29yZCxcbiAgICAgICAgICBjb29yZEluZGV4LFxuICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICk7XG4gICAgfSxcbiAgICBleGNsdWRlV3JhcENvb3JkXG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBwcm9wRWFjaFxuICpcbiAqIEBjYWxsYmFjayBwcm9wRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge09iamVjdH0gY3VycmVudFByb3BlcnRpZXMgVGhlIGN1cnJlbnQgUHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBwcm9wZXJ0aWVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqXG4gKiBAbmFtZSBwcm9wRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleClcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5wb2ludChbMzYsIDUzXSwge2hlbGxvOiAnd29ybGQnfSlcbiAqIF0pO1xuICpcbiAqIHR1cmYucHJvcEVhY2goZmVhdHVyZXMsIGZ1bmN0aW9uIChjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRQcm9wZXJ0aWVzXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIHByb3BFYWNoKGdlb2pzb24sIGNhbGxiYWNrKSB7XG4gIHZhciBpO1xuICBzd2l0Y2ggKGdlb2pzb24udHlwZSkge1xuICAgIGNhc2UgXCJGZWF0dXJlQ29sbGVjdGlvblwiOlxuICAgICAgZm9yIChpID0gMDsgaSA8IGdlb2pzb24uZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGdlb2pzb24uZmVhdHVyZXNbaV0ucHJvcGVydGllcywgaSkgPT09IGZhbHNlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJGZWF0dXJlXCI6XG4gICAgICBjYWxsYmFjayhnZW9qc29uLnByb3BlcnRpZXMsIDApO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgcHJvcFJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIHByb3BSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7Kn0gY3VycmVudFByb3BlcnRpZXMgVGhlIGN1cnJlbnQgUHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBwcm9wZXJ0aWVzIGluIGFueSBHZW9KU09OIG9iamVjdCBpbnRvIGEgc2luZ2xlIHZhbHVlLFxuICogc2ltaWxhciB0byBob3cgQXJyYXkucmVkdWNlIHdvcmtzLiBIb3dldmVyLCBpbiB0aGlzIGNhc2Ugd2UgbGF6aWx5IHJ1blxuICogdGhlIHJlZHVjdGlvbiwgc28gYW4gYXJyYXkgb2YgYWxsIHByb3BlcnRpZXMgaXMgdW5uZWNlc3NhcnkuXG4gKlxuICogQG5hbWUgcHJvcFJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLnBvaW50KFszNiwgNTNdLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5wcm9wUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleCkge1xuICogICAvLz1wcmV2aW91c1ZhbHVlXG4gKiAgIC8vPWN1cnJlbnRQcm9wZXJ0aWVzXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICByZXR1cm4gY3VycmVudFByb3BlcnRpZXNcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBwcm9wUmVkdWNlKGdlb2pzb24sIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIHByb3BFYWNoKGdlb2pzb24sIGZ1bmN0aW9uIChjdXJyZW50UHJvcGVydGllcywgZmVhdHVyZUluZGV4KSB7XG4gICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50UHJvcGVydGllcztcbiAgICBlbHNlXG4gICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2socHJldmlvdXNWYWx1ZSwgY3VycmVudFByb3BlcnRpZXMsIGZlYXR1cmVJbmRleCk7XG4gIH0pO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmVhdHVyZUVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgZmVhdHVyZUVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtGZWF0dXJlPGFueT59IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvXG4gKiBBcnJheS5mb3JFYWNoLlxuICpcbiAqIEBuYW1lIGZlYXR1cmVFYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZlYXR1cmVFYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCkge1xuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBmZWF0dXJlRWFjaChnZW9qc29uLCBjYWxsYmFjaykge1xuICBpZiAoZ2VvanNvbi50eXBlID09PSBcIkZlYXR1cmVcIikge1xuICAgIGNhbGxiYWNrKGdlb2pzb24sIDApO1xuICB9IGVsc2UgaWYgKGdlb2pzb24udHlwZSA9PT0gXCJGZWF0dXJlQ29sbGVjdGlvblwiKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2FsbGJhY2soZ2VvanNvbi5mZWF0dXJlc1tpXSwgaSkgPT09IGZhbHNlKSBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmVhdHVyZVJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGZlYXR1cmVSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZX0gY3VycmVudEZlYXR1cmUgVGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZmVhdHVyZVJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtcImZvb1wiOiBcImJhclwifSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtcImhlbGxvXCI6IFwid29ybGRcIn0pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZlYXR1cmVSZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudEZlYXR1cmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIHJldHVybiBjdXJyZW50RmVhdHVyZVxuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGZlYXR1cmVSZWR1Y2UoZ2VvanNvbiwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuICB2YXIgcHJldmlvdXNWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgZmVhdHVyZUVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpIHtcbiAgICBpZiAoZmVhdHVyZUluZGV4ID09PSAwICYmIGluaXRpYWxWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgIGVsc2UgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRGZWF0dXJlLCBmZWF0dXJlSW5kZXgpO1xuICB9KTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogR2V0IGFsbCBjb29yZGluYXRlcyBmcm9tIGFueSBHZW9KU09OIG9iamVjdC5cbiAqXG4gKiBAbmFtZSBjb29yZEFsbFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHJldHVybnMge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlIHBvc2l0aW9uIGFycmF5XG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB2YXIgY29vcmRzID0gdHVyZi5jb29yZEFsbChmZWF0dXJlcyk7XG4gKiAvLz0gW1syNiwgMzddLCBbMzYsIDUzXV1cbiAqL1xuZnVuY3Rpb24gY29vcmRBbGwoZ2VvanNvbikge1xuICB2YXIgY29vcmRzID0gW107XG4gIGNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICBjb29yZHMucHVzaChjb29yZCk7XG4gIH0pO1xuICByZXR1cm4gY29vcmRzO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBnZW9tRWFjaFxuICpcbiAqIEBjYWxsYmFjayBnZW9tRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0dlb21ldHJ5fSBjdXJyZW50R2VvbWV0cnkgVGhlIGN1cnJlbnQgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gZmVhdHVyZVByb3BlcnRpZXMgVGhlIGN1cnJlbnQgRmVhdHVyZSBQcm9wZXJ0aWVzIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmVhdHVyZUJCb3ggVGhlIGN1cnJlbnQgRmVhdHVyZSBCQm94IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gZmVhdHVyZUlkIFRoZSBjdXJyZW50IEZlYXR1cmUgSWQgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGVhY2ggZ2VvbWV0cnkgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2goKVxuICpcbiAqIEBuYW1lIGdlb21FYWNoXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT04gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmdlb21FYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKSB7XG4gKiAgIC8vPWN1cnJlbnRHZW9tZXRyeVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89ZmVhdHVyZVByb3BlcnRpZXNcbiAqICAgLy89ZmVhdHVyZUJCb3hcbiAqICAgLy89ZmVhdHVyZUlkXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZ2VvbUVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgdmFyIGksXG4gICAgaixcbiAgICBnLFxuICAgIGdlb21ldHJ5LFxuICAgIHN0b3BHLFxuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLFxuICAgIGlzR2VvbWV0cnlDb2xsZWN0aW9uLFxuICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgIGZlYXR1cmVCQm94LFxuICAgIGZlYXR1cmVJZCxcbiAgICBmZWF0dXJlSW5kZXggPSAwLFxuICAgIGlzRmVhdHVyZUNvbGxlY3Rpb24gPSBnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICBpc0ZlYXR1cmUgPSBnZW9qc29uLnR5cGUgPT09IFwiRmVhdHVyZVwiLFxuICAgIHN0b3AgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uID8gZ2VvanNvbi5mZWF0dXJlcy5sZW5ndGggOiAxO1xuXG4gIC8vIFRoaXMgbG9naWMgbWF5IGxvb2sgYSBsaXR0bGUgd2VpcmQuIFRoZSByZWFzb24gd2h5IGl0IGlzIHRoYXQgd2F5XG4gIC8vIGlzIGJlY2F1c2UgaXQncyB0cnlpbmcgdG8gYmUgZmFzdC4gR2VvSlNPTiBzdXBwb3J0cyBtdWx0aXBsZSBraW5kc1xuICAvLyBvZiBvYmplY3RzIGF0IGl0cyByb290OiBGZWF0dXJlQ29sbGVjdGlvbiwgRmVhdHVyZXMsIEdlb21ldHJpZXMuXG4gIC8vIFRoaXMgZnVuY3Rpb24gaGFzIHRoZSByZXNwb25zaWJpbGl0eSBvZiBoYW5kbGluZyBhbGwgb2YgdGhlbSwgYW5kIHRoYXRcbiAgLy8gbWVhbnMgdGhhdCBzb21lIG9mIHRoZSBgZm9yYCBsb29wcyB5b3Ugc2VlIGJlbG93IGFjdHVhbGx5IGp1c3QgZG9uJ3QgYXBwbHlcbiAgLy8gdG8gY2VydGFpbiBpbnB1dHMuIEZvciBpbnN0YW5jZSwgaWYgeW91IGdpdmUgdGhpcyBqdXN0IGFcbiAgLy8gUG9pbnQgZ2VvbWV0cnksIHRoZW4gYm90aCBsb29wcyBhcmUgc2hvcnQtY2lyY3VpdGVkIGFuZCBhbGwgd2UgZG9cbiAgLy8gaXMgZ3JhZHVhbGx5IHJlbmFtZSB0aGUgaW5wdXQgdW50aWwgaXQncyBjYWxsZWQgJ2dlb21ldHJ5Jy5cbiAgLy9cbiAgLy8gVGhpcyBhbHNvIGFpbXMgdG8gYWxsb2NhdGUgYXMgZmV3IHJlc291cmNlcyBhcyBwb3NzaWJsZToganVzdCBhXG4gIC8vIGZldyBudW1iZXJzIGFuZCBib29sZWFucywgcmF0aGVyIHRoYW4gYW55IHRlbXBvcmFyeSBhcnJheXMgYXMgd291bGRcbiAgLy8gYmUgcmVxdWlyZWQgd2l0aCB0aGUgbm9ybWFsaXphdGlvbiBhcHByb2FjaC5cbiAgZm9yIChpID0gMDsgaSA8IHN0b3A7IGkrKykge1xuICAgIGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ldLmdlb21ldHJ5XG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLmdlb21ldHJ5XG4gICAgICA6IGdlb2pzb247XG4gICAgZmVhdHVyZVByb3BlcnRpZXMgPSBpc0ZlYXR1cmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb2pzb24uZmVhdHVyZXNbaV0ucHJvcGVydGllc1xuICAgICAgOiBpc0ZlYXR1cmVcbiAgICAgID8gZ2VvanNvbi5wcm9wZXJ0aWVzXG4gICAgICA6IHt9O1xuICAgIGZlYXR1cmVCQm94ID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ldLmJib3hcbiAgICAgIDogaXNGZWF0dXJlXG4gICAgICA/IGdlb2pzb24uYmJveFxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgZmVhdHVyZUlkID0gaXNGZWF0dXJlQ29sbGVjdGlvblxuICAgICAgPyBnZW9qc29uLmZlYXR1cmVzW2ldLmlkXG4gICAgICA6IGlzRmVhdHVyZVxuICAgICAgPyBnZW9qc29uLmlkXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBpc0dlb21ldHJ5Q29sbGVjdGlvbiA9IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uXG4gICAgICA/IGdlb21ldHJ5TWF5YmVDb2xsZWN0aW9uLnR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gICAgc3RvcEcgPSBpc0dlb21ldHJ5Q29sbGVjdGlvblxuICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzLmxlbmd0aFxuICAgICAgOiAxO1xuXG4gICAgZm9yIChnID0gMDsgZyA8IHN0b3BHOyBnKyspIHtcbiAgICAgIGdlb21ldHJ5ID0gaXNHZW9tZXRyeUNvbGxlY3Rpb25cbiAgICAgICAgPyBnZW9tZXRyeU1heWJlQ29sbGVjdGlvbi5nZW9tZXRyaWVzW2ddXG4gICAgICAgIDogZ2VvbWV0cnlNYXliZUNvbGxlY3Rpb247XG5cbiAgICAgIC8vIEhhbmRsZSBudWxsIEdlb21ldHJ5XG4gICAgICBpZiAoZ2VvbWV0cnkgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgICBmZWF0dXJlSWRcbiAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgY2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgICAgIGZlYXR1cmVCQm94LFxuICAgICAgICAgICAgICBmZWF0dXJlSWRcbiAgICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjoge1xuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBnZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5Lmdlb21ldHJpZXNbal0sXG4gICAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGZlYXR1cmVCQm94LFxuICAgICAgICAgICAgICAgIGZlYXR1cmVJZFxuICAgICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBHZW9tZXRyeSBUeXBlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBPbmx5IGluY3JlYXNlIGBmZWF0dXJlSW5kZXhgIHBlciBlYWNoIGZlYXR1cmVcbiAgICBmZWF0dXJlSW5kZXgrKztcbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBnZW9tUmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgZ2VvbVJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtHZW9tZXRyeX0gY3VycmVudEdlb21ldHJ5IFRoZSBjdXJyZW50IEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtPYmplY3R9IGZlYXR1cmVQcm9wZXJ0aWVzIFRoZSBjdXJyZW50IEZlYXR1cmUgUHJvcGVydGllcyBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZlYXR1cmVCQm94IFRoZSBjdXJyZW50IEZlYXR1cmUgQkJveCBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGZlYXR1cmVJZCBUaGUgY3VycmVudCBGZWF0dXJlIElkIGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSBnZW9tZXRyeSBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZ2VvbVJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudEdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIGZlYXR1cmVQcm9wZXJ0aWVzLCBmZWF0dXJlQkJveCwgZmVhdHVyZUlkKVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhhdCByZXN1bHRzIGZyb20gdGhlIHJlZHVjdGlvbi5cbiAqIEBleGFtcGxlXG4gKiB2YXIgZmVhdHVyZXMgPSB0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKFtcbiAqICAgICB0dXJmLnBvaW50KFsyNiwgMzddLCB7Zm9vOiAnYmFyJ30pLFxuICogICAgIHR1cmYucG9pbnQoWzM2LCA1M10sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmdlb21SZWR1Y2UoZmVhdHVyZXMsIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50R2VvbWV0cnksIGZlYXR1cmVJbmRleCwgZmVhdHVyZVByb3BlcnRpZXMsIGZlYXR1cmVCQm94LCBmZWF0dXJlSWQpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50R2VvbWV0cnlcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPWZlYXR1cmVQcm9wZXJ0aWVzXG4gKiAgIC8vPWZlYXR1cmVCQm94XG4gKiAgIC8vPWZlYXR1cmVJZFxuICogICByZXR1cm4gY3VycmVudEdlb21ldHJ5XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZ2VvbVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBnZW9tRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChcbiAgICAgIGN1cnJlbnRHZW9tZXRyeSxcbiAgICAgIGZlYXR1cmVJbmRleCxcbiAgICAgIGZlYXR1cmVQcm9wZXJ0aWVzLFxuICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICBmZWF0dXJlSWRcbiAgICApIHtcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPT09IDAgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50R2VvbWV0cnk7XG4gICAgICBlbHNlXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjYWxsYmFjayhcbiAgICAgICAgICBwcmV2aW91c1ZhbHVlLFxuICAgICAgICAgIGN1cnJlbnRHZW9tZXRyeSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZVByb3BlcnRpZXMsXG4gICAgICAgICAgZmVhdHVyZUJCb3gsXG4gICAgICAgICAgZmVhdHVyZUlkXG4gICAgICAgICk7XG4gICAgfVxuICApO1xuICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgZmxhdHRlbkVhY2hcbiAqXG4gKiBAY2FsbGJhY2sgZmxhdHRlbkVhY2hDYWxsYmFja1xuICogQHBhcmFtIHtGZWF0dXJlfSBjdXJyZW50RmVhdHVyZSBUaGUgY3VycmVudCBmbGF0dGVuZWQgZmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aUZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgTXVsdGktRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZmxhdHRlbmVkIGZlYXR1cmVzIGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0b1xuICogQXJyYXkuZm9yRWFjaC5cbiAqXG4gKiBAbmFtZSBmbGF0dGVuRWFjaFxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAZXhhbXBsZVxuICogdmFyIGZlYXR1cmVzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihbXG4gKiAgICAgdHVyZi5wb2ludChbMjYsIDM3XSwge2ZvbzogJ2Jhcid9KSxcbiAqICAgICB0dXJmLm11bHRpUG9pbnQoW1s0MCwgMzBdLCBbMzYsIDUzXV0sIHtoZWxsbzogJ3dvcmxkJ30pXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmZsYXR0ZW5FYWNoKGZlYXR1cmVzLCBmdW5jdGlvbiAoY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89Y3VycmVudEZlYXR1cmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmxhdHRlbkVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgZ2VvbUVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGdlb21ldHJ5LCBmZWF0dXJlSW5kZXgsIHByb3BlcnRpZXMsIGJib3gsIGlkKSB7XG4gICAgLy8gQ2FsbGJhY2sgZm9yIHNpbmdsZSBnZW9tZXRyeVxuICAgIHZhciB0eXBlID0gZ2VvbWV0cnkgPT09IG51bGwgPyBudWxsIDogZ2VvbWV0cnkudHlwZTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgbnVsbDpcbiAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgIGZlYXR1cmUoZ2VvbWV0cnksIHByb3BlcnRpZXMsIHsgYmJveDogYmJveCwgaWQ6IGlkIH0pLFxuICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgMFxuICAgICAgICAgICkgPT09IGZhbHNlXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZ2VvbVR5cGU7XG5cbiAgICAvLyBDYWxsYmFjayBmb3IgbXVsdGktZ2VvbWV0cnlcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgIGdlb21UeXBlID0gXCJQb2ludFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgZ2VvbVR5cGUgPSBcIkxpbmVTdHJpbmdcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgIGdlb21UeXBlID0gXCJQb2x5Z29uXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGZvciAoXG4gICAgICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSAwO1xuICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPCBnZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICBtdWx0aUZlYXR1cmVJbmRleCsrXG4gICAgKSB7XG4gICAgICB2YXIgY29vcmRpbmF0ZSA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzW211bHRpRmVhdHVyZUluZGV4XTtcbiAgICAgIHZhciBnZW9tID0ge1xuICAgICAgICB0eXBlOiBnZW9tVHlwZSxcbiAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGUsXG4gICAgICB9O1xuICAgICAgaWYgKFxuICAgICAgICBjYWxsYmFjayhmZWF0dXJlKGdlb20sIHByb3BlcnRpZXMpLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4KSA9PT1cbiAgICAgICAgZmFsc2VcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIGZsYXR0ZW5SZWR1Y2VcbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgdmFsdWVzIHByb3ZpZGVkIGFzIGFyZ3VtZW50cyBkZXBlbmRcbiAqIG9uIHdoZXRoZXIgdGhlIHJlZHVjZSBtZXRob2QgaGFzIGFuIGluaXRpYWxWYWx1ZSBhcmd1bWVudC5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgcHJvdmlkZWQgdG8gdGhlIHJlZHVjZSBtZXRob2Q6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyBpbml0aWFsVmFsdWUuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBJZiBhbiBpbml0aWFsVmFsdWUgaXMgbm90IHByb3ZpZGVkOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIEBjYWxsYmFjayBmbGF0dGVuUmVkdWNlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSBUaGUgYWNjdW11bGF0ZWQgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBpbiB0aGUgbGFzdCBpbnZvY2F0aW9uXG4gKiBvZiB0aGUgY2FsbGJhY2ssIG9yIGluaXRpYWxWYWx1ZSwgaWYgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge0ZlYXR1cmV9IGN1cnJlbnRGZWF0dXJlIFRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5cbi8qKlxuICogUmVkdWNlIGZsYXR0ZW5lZCBmZWF0dXJlcyBpbiBhbnkgR2VvSlNPTiBvYmplY3QsIHNpbWlsYXIgdG8gQXJyYXkucmVkdWNlKCkuXG4gKlxuICogQG5hbWUgZmxhdHRlblJlZHVjZVxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBtZXRob2QgdGhhdCB0YWtlcyAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpXG4gKiBAcGFyYW0geyp9IFtpbml0aWFsVmFsdWVdIFZhbHVlIHRvIHVzZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGZpcnN0IGNhbGwgb2YgdGhlIGNhbGxiYWNrLlxuICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGF0IHJlc3VsdHMgZnJvbSB0aGUgcmVkdWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBmZWF0dXJlcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24oW1xuICogICAgIHR1cmYucG9pbnQoWzI2LCAzN10sIHtmb286ICdiYXInfSksXG4gKiAgICAgdHVyZi5tdWx0aVBvaW50KFtbNDAsIDMwXSwgWzM2LCA1M11dLCB7aGVsbG86ICd3b3JsZCd9KVxuICogXSk7XG4gKlxuICogdHVyZi5mbGF0dGVuUmVkdWNlKGZlYXR1cmVzLCBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudEZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAqICAgLy89cHJldmlvdXNWYWx1ZVxuICogICAvLz1jdXJyZW50RmVhdHVyZVxuICogICAvLz1mZWF0dXJlSW5kZXhcbiAqICAgLy89bXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRGZWF0dXJlXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gZmxhdHRlblJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBmbGF0dGVuRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChjdXJyZW50RmVhdHVyZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCkge1xuICAgICAgaWYgKFxuICAgICAgICBmZWF0dXJlSW5kZXggPT09IDAgJiZcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPT09IDAgJiZcbiAgICAgICAgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgIClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRGZWF0dXJlO1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50RmVhdHVyZSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXhcbiAgICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBzZWdtZW50RWFjaFxuICpcbiAqIEBjYWxsYmFjayBzZWdtZW50RWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRTZWdtZW50IFRoZSBjdXJyZW50IFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGZlYXR1cmVJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IGdlb21ldHJ5SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEdlb21ldHJ5IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWdtZW50SW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIFNlZ21lbnQgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgMi12ZXJ0ZXggbGluZSBzZWdtZW50IGluIGFueSBHZW9KU09OIG9iamVjdCwgc2ltaWxhciB0byBBcnJheS5mb3JFYWNoKClcbiAqIChNdWx0aSlQb2ludCBnZW9tZXRyaWVzIGRvIG5vdCBjb250YWluIHNlZ21lbnRzIHRoZXJlZm9yZSB0aGV5IGFyZSBpZ25vcmVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9ufEZlYXR1cmV8R2VvbWV0cnl9IGdlb2pzb24gYW55IEdlb0pTT05cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGEgbWV0aG9kIHRoYXQgdGFrZXMgKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9seWdvbiA9IHR1cmYucG9seWdvbihbW1stNTAsIDVdLCBbLTQwLCAtMTBdLCBbLTUwLCAtMTBdLCBbLTQwLCA1XSwgWy01MCwgNV1dXSk7XG4gKlxuICogLy8gSXRlcmF0ZSBvdmVyIEdlb0pTT04gYnkgMi12ZXJ0ZXggc2VnbWVudHNcbiAqIHR1cmYuc2VnbWVudEVhY2gocG9seWdvbiwgZnVuY3Rpb24gKGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpIHtcbiAqICAgLy89Y3VycmVudFNlZ21lbnRcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgLy89c2VnbWVudEluZGV4XG4gKiB9KTtcbiAqXG4gKiAvLyBDYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBzZWdtZW50c1xuICogdmFyIHRvdGFsID0gMDtcbiAqIHR1cmYuc2VnbWVudEVhY2gocG9seWdvbiwgZnVuY3Rpb24gKCkge1xuICogICAgIHRvdGFsKys7XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gc2VnbWVudEVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgZmxhdHRlbkVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAgICB2YXIgc2VnbWVudEluZGV4ID0gMDtcblxuICAgIC8vIEV4Y2x1ZGUgbnVsbCBHZW9tZXRyaWVzXG4gICAgaWYgKCFmZWF0dXJlLmdlb21ldHJ5KSByZXR1cm47XG4gICAgLy8gKE11bHRpKVBvaW50IGdlb21ldHJpZXMgZG8gbm90IGNvbnRhaW4gc2VnbWVudHMgdGhlcmVmb3JlIHRoZXkgYXJlIGlnbm9yZWQgZHVyaW5nIHRoaXMgb3BlcmF0aW9uLlxuICAgIHZhciB0eXBlID0gZmVhdHVyZS5nZW9tZXRyeS50eXBlO1xuICAgIGlmICh0eXBlID09PSBcIlBvaW50XCIgfHwgdHlwZSA9PT0gXCJNdWx0aVBvaW50XCIpIHJldHVybjtcblxuICAgIC8vIEdlbmVyYXRlIDItdmVydGV4IGxpbmUgc2VnbWVudHNcbiAgICB2YXIgcHJldmlvdXNDb29yZHM7XG4gICAgdmFyIHByZXZpb3VzRmVhdHVyZUluZGV4ID0gMDtcbiAgICB2YXIgcHJldmlvdXNNdWx0aUluZGV4ID0gMDtcbiAgICB2YXIgcHJldkdlb21JbmRleCA9IDA7XG4gICAgaWYgKFxuICAgICAgY29vcmRFYWNoKFxuICAgICAgICBmZWF0dXJlLFxuICAgICAgICBmdW5jdGlvbiAoXG4gICAgICAgICAgY3VycmVudENvb3JkLFxuICAgICAgICAgIGNvb3JkSW5kZXgsXG4gICAgICAgICAgZmVhdHVyZUluZGV4Q29vcmQsXG4gICAgICAgICAgbXVsdGlQYXJ0SW5kZXhDb29yZCxcbiAgICAgICAgICBnZW9tZXRyeUluZGV4XG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNpbXVsYXRpbmcgYSBtZXRhLmNvb3JkUmVkdWNlKCkgc2luY2UgYHJlZHVjZWAgb3BlcmF0aW9ucyBjYW5ub3QgYmUgc3RvcHBlZCBieSByZXR1cm5pbmcgYGZhbHNlYFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByZXZpb3VzQ29vcmRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGZlYXR1cmVJbmRleCA+IHByZXZpb3VzRmVhdHVyZUluZGV4IHx8XG4gICAgICAgICAgICBtdWx0aVBhcnRJbmRleENvb3JkID4gcHJldmlvdXNNdWx0aUluZGV4IHx8XG4gICAgICAgICAgICBnZW9tZXRyeUluZGV4ID4gcHJldkdlb21JbmRleFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcHJldmlvdXNDb29yZHMgPSBjdXJyZW50Q29vcmQ7XG4gICAgICAgICAgICBwcmV2aW91c0ZlYXR1cmVJbmRleCA9IGZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgIHByZXZpb3VzTXVsdGlJbmRleCA9IG11bHRpUGFydEluZGV4Q29vcmQ7XG4gICAgICAgICAgICBwcmV2R2VvbUluZGV4ID0gZ2VvbWV0cnlJbmRleDtcbiAgICAgICAgICAgIHNlZ21lbnRJbmRleCA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjdXJyZW50U2VnbWVudCA9IGxpbmVTdHJpbmcoXG4gICAgICAgICAgICBbcHJldmlvdXNDb29yZHMsIGN1cnJlbnRDb29yZF0sXG4gICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudCxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleCxcbiAgICAgICAgICAgICAgc2VnbWVudEluZGV4XG4gICAgICAgICAgICApID09PSBmYWxzZVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgICAgICBwcmV2aW91c0Nvb3JkcyA9IGN1cnJlbnRDb29yZDtcbiAgICAgICAgfVxuICAgICAgKSA9PT0gZmFsc2VcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBzZWdtZW50UmVkdWNlXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHZhbHVlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMgZGVwZW5kXG4gKiBvbiB3aGV0aGVyIHRoZSByZWR1Y2UgbWV0aG9kIGhhcyBhbiBpbml0aWFsVmFsdWUgYXJndW1lbnQuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIHByb3ZpZGVkIHRvIHRoZSByZWR1Y2UgbWV0aG9kOlxuICogIC0gVGhlIHByZXZpb3VzVmFsdWUgYXJndW1lbnQgaXMgaW5pdGlhbFZhbHVlLlxuICogIC0gVGhlIGN1cnJlbnRWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogSWYgYW4gaW5pdGlhbFZhbHVlIGlzIG5vdCBwcm92aWRlZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBzZWNvbmQgZWxlbWVudCBwcmVzZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgc2VnbWVudFJlZHVjZUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgVGhlIGFjY3VtdWxhdGVkIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgaW4gdGhlIGxhc3QgaW52b2NhdGlvblxuICogb2YgdGhlIGNhbGxiYWNrLCBvciBpbml0aWFsVmFsdWUsIGlmIHN1cHBsaWVkLlxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBjdXJyZW50U2VnbWVudCBUaGUgY3VycmVudCBTZWdtZW50IGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHBhcmFtIHtudW1iZXJ9IG11bHRpRmVhdHVyZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBNdWx0aS1GZWF0dXJlIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBnZW9tZXRyeUluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBHZW9tZXRyeSBiZWluZyBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gc2VnbWVudEluZGV4IFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBTZWdtZW50IGJlaW5nIHByb2Nlc3NlZC5cbiAqL1xuXG4vKipcbiAqIFJlZHVjZSAyLXZlcnRleCBsaW5lIHNlZ21lbnQgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpXG4gKiAoTXVsdGkpUG9pbnQgZ2VvbWV0cmllcyBkbyBub3QgY29udGFpbiBzZWdtZW50cyB0aGVyZWZvcmUgdGhleSBhcmUgaWdub3JlZCBkdXJpbmcgdGhpcyBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIGFueSBHZW9KU09OXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50U2VnbWVudCwgY3VycmVudEluZGV4KVxuICogQHBhcmFtIHsqfSBbaW5pdGlhbFZhbHVlXSBWYWx1ZSB0byB1c2UgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBmaXJzdCBjYWxsIG9mIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIHZhciBwb2x5Z29uID0gdHVyZi5wb2x5Z29uKFtbWy01MCwgNV0sIFstNDAsIC0xMF0sIFstNTAsIC0xMF0sIFstNDAsIDVdLCBbLTUwLCA1XV1dKTtcbiAqXG4gKiAvLyBJdGVyYXRlIG92ZXIgR2VvSlNPTiBieSAyLXZlcnRleCBzZWdtZW50c1xuICogdHVyZi5zZWdtZW50UmVkdWNlKHBvbHlnb24sIGZ1bmN0aW9uIChwcmV2aW91c1NlZ21lbnQsIGN1cnJlbnRTZWdtZW50LCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4LCBzZWdtZW50SW5kZXgpIHtcbiAqICAgLy89IHByZXZpb3VzU2VnbWVudFxuICogICAvLz0gY3VycmVudFNlZ21lbnRcbiAqICAgLy89IGZlYXR1cmVJbmRleFxuICogICAvLz0gbXVsdGlGZWF0dXJlSW5kZXhcbiAqICAgLy89IGdlb21ldHJ5SW5kZXhcbiAqICAgLy89IHNlZ21lbnRJbmRleFxuICogICByZXR1cm4gY3VycmVudFNlZ21lbnRcbiAqIH0pO1xuICpcbiAqIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIHNlZ21lbnRzXG4gKiB2YXIgaW5pdGlhbFZhbHVlID0gMFxuICogdmFyIHRvdGFsID0gdHVyZi5zZWdtZW50UmVkdWNlKHBvbHlnb24sIGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlKSB7XG4gKiAgICAgcHJldmlvdXNWYWx1ZSsrO1xuICogICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xuICogfSwgaW5pdGlhbFZhbHVlKTtcbiAqL1xuZnVuY3Rpb24gc2VnbWVudFJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICB2YXIgc3RhcnRlZCA9IGZhbHNlO1xuICBzZWdtZW50RWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChcbiAgICAgIGN1cnJlbnRTZWdtZW50LFxuICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICBnZW9tZXRyeUluZGV4LFxuICAgICAgc2VnbWVudEluZGV4XG4gICAgKSB7XG4gICAgICBpZiAoc3RhcnRlZCA9PT0gZmFsc2UgJiYgaW5pdGlhbFZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50U2VnbWVudDtcbiAgICAgIGVsc2VcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNhbGxiYWNrKFxuICAgICAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICAgICAgY3VycmVudFNlZ21lbnQsXG4gICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgIG11bHRpRmVhdHVyZUluZGV4LFxuICAgICAgICAgIGdlb21ldHJ5SW5kZXgsXG4gICAgICAgICAgc2VnbWVudEluZGV4XG4gICAgICAgICk7XG4gICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBwcmV2aW91c1ZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIGZvciBsaW5lRWFjaFxuICpcbiAqIEBjYWxsYmFjayBsaW5lRWFjaENhbGxiYWNrXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGN1cnJlbnRMaW5lIFRoZSBjdXJyZW50IExpbmVTdHJpbmd8TGluZWFyUmluZyBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkXG4gKi9cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgbGluZSBvciByaW5nIGNvb3JkaW5hdGVzIGluIExpbmVTdHJpbmcsIFBvbHlnb24sIE11bHRpTGluZVN0cmluZywgTXVsdGlQb2x5Z29uIEZlYXR1cmVzIG9yIEdlb21ldHJpZXMsXG4gKiBzaW1pbGFyIHRvIEFycmF5LmZvckVhY2guXG4gKlxuICogQG5hbWUgbGluZUVhY2hcbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxMaW5lU3RyaW5nfFBvbHlnb258TXVsdGlMaW5lU3RyaW5nfE11bHRpUG9seWdvbj59IGdlb2pzb24gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleClcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXVsdGlMaW5lID0gdHVyZi5tdWx0aUxpbmVTdHJpbmcoW1xuICogICBbWzI2LCAzN10sIFszNSwgNDVdXSxcbiAqICAgW1szNiwgNTNdLCBbMzgsIDUwXSwgWzQxLCA1NV1dXG4gKiBdKTtcbiAqXG4gKiB0dXJmLmxpbmVFYWNoKG11bHRpTGluZSwgZnVuY3Rpb24gKGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPWN1cnJlbnRMaW5lXG4gKiAgIC8vPWZlYXR1cmVJbmRleFxuICogICAvLz1tdWx0aUZlYXR1cmVJbmRleFxuICogICAvLz1nZW9tZXRyeUluZGV4XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gbGluZUVhY2goZ2VvanNvbiwgY2FsbGJhY2spIHtcbiAgLy8gdmFsaWRhdGlvblxuICBpZiAoIWdlb2pzb24pIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgcmVxdWlyZWRcIik7XG5cbiAgZmxhdHRlbkVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgpIHtcbiAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIHZhciB0eXBlID0gZmVhdHVyZS5nZW9tZXRyeS50eXBlO1xuICAgIHZhciBjb29yZHMgPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgaWYgKGNhbGxiYWNrKGZlYXR1cmUsIGZlYXR1cmVJbmRleCwgbXVsdGlGZWF0dXJlSW5kZXgsIDAsIDApID09PSBmYWxzZSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgZ2VvbWV0cnlJbmRleCA9IDA7XG4gICAgICAgICAgZ2VvbWV0cnlJbmRleCA8IGNvb3Jkcy5sZW5ndGg7XG4gICAgICAgICAgZ2VvbWV0cnlJbmRleCsrXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgICBsaW5lU3RyaW5nKGNvb3Jkc1tnZW9tZXRyeUluZGV4XSwgZmVhdHVyZS5wcm9wZXJ0aWVzKSxcbiAgICAgICAgICAgICAgZmVhdHVyZUluZGV4LFxuICAgICAgICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCxcbiAgICAgICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICAgICAgKSA9PT0gZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgbGluZVJlZHVjZVxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSB2YWx1ZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzIGRlcGVuZFxuICogb24gd2hldGhlciB0aGUgcmVkdWNlIG1ldGhvZCBoYXMgYW4gaW5pdGlhbFZhbHVlIGFyZ3VtZW50LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBwcm92aWRlZCB0byB0aGUgcmVkdWNlIG1ldGhvZDpcbiAqICAtIFRoZSBwcmV2aW91c1ZhbHVlIGFyZ3VtZW50IGlzIGluaXRpYWxWYWx1ZS5cbiAqICAtIFRoZSBjdXJyZW50VmFsdWUgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBlbGVtZW50IHByZXNlbnQgaW4gdGhlIGFycmF5LlxuICpcbiAqIElmIGFuIGluaXRpYWxWYWx1ZSBpcyBub3QgcHJvdmlkZWQ6XG4gKiAgLSBUaGUgcHJldmlvdXNWYWx1ZSBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKiAgLSBUaGUgY3VycmVudFZhbHVlIGFyZ3VtZW50IGlzIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gKlxuICogQGNhbGxiYWNrIGxpbmVSZWR1Y2VDYWxsYmFja1xuICogQHBhcmFtIHsqfSBwcmV2aW91c1ZhbHVlIFRoZSBhY2N1bXVsYXRlZCB2YWx1ZSBwcmV2aW91c2x5IHJldHVybmVkIGluIHRoZSBsYXN0IGludm9jYXRpb25cbiAqIG9mIHRoZSBjYWxsYmFjaywgb3IgaW5pdGlhbFZhbHVlLCBpZiBzdXBwbGllZC5cbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY3VycmVudExpbmUgVGhlIGN1cnJlbnQgTGluZVN0cmluZ3xMaW5lYXJSaW5nIGJlaW5nIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gbXVsdGlGZWF0dXJlSW5kZXggVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIE11bHRpLUZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gZ2VvbWV0cnlJbmRleCBUaGUgY3VycmVudCBpbmRleCBvZiB0aGUgR2VvbWV0cnkgYmVpbmcgcHJvY2Vzc2VkXG4gKi9cblxuLyoqXG4gKiBSZWR1Y2UgZmVhdHVyZXMgaW4gYW55IEdlb0pTT04gb2JqZWN0LCBzaW1pbGFyIHRvIEFycmF5LnJlZHVjZSgpLlxuICpcbiAqIEBuYW1lIGxpbmVSZWR1Y2VcbiAqIEBwYXJhbSB7R2VvbWV0cnl8RmVhdHVyZTxMaW5lU3RyaW5nfFBvbHlnb258TXVsdGlMaW5lU3RyaW5nfE11bHRpUG9seWdvbj59IGdlb2pzb24gb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIG1ldGhvZCB0aGF0IHRha2VzIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleClcbiAqIEBwYXJhbSB7Kn0gW2luaXRpYWxWYWx1ZV0gVmFsdWUgdG8gdXNlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgZmlyc3QgY2FsbCBvZiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIHRoYXQgcmVzdWx0cyBmcm9tIHRoZSByZWR1Y3Rpb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpUG9seSA9IHR1cmYubXVsdGlQb2x5Z29uKFtcbiAqICAgdHVyZi5wb2x5Z29uKFtbWzEyLDQ4XSxbMiw0MV0sWzI0LDM4XSxbMTIsNDhdXSwgW1s5LDQ0XSxbMTMsNDFdLFsxMyw0NV0sWzksNDRdXV0pLFxuICogICB0dXJmLnBvbHlnb24oW1tbNSwgNV0sIFswLCAwXSwgWzIsIDJdLCBbNCwgNF0sIFs1LCA1XV1dKVxuICogXSk7XG4gKlxuICogdHVyZi5saW5lUmVkdWNlKG11bHRpUG9seSwgZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRMaW5lLCBmZWF0dXJlSW5kZXgsIG11bHRpRmVhdHVyZUluZGV4LCBnZW9tZXRyeUluZGV4KSB7XG4gKiAgIC8vPXByZXZpb3VzVmFsdWVcbiAqICAgLy89Y3VycmVudExpbmVcbiAqICAgLy89ZmVhdHVyZUluZGV4XG4gKiAgIC8vPW11bHRpRmVhdHVyZUluZGV4XG4gKiAgIC8vPWdlb21ldHJ5SW5kZXhcbiAqICAgcmV0dXJuIGN1cnJlbnRMaW5lXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gbGluZVJlZHVjZShnZW9qc29uLCBjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBwcmV2aW91c1ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBsaW5lRWFjaChcbiAgICBnZW9qc29uLFxuICAgIGZ1bmN0aW9uIChjdXJyZW50TGluZSwgZmVhdHVyZUluZGV4LCBtdWx0aUZlYXR1cmVJbmRleCwgZ2VvbWV0cnlJbmRleCkge1xuICAgICAgaWYgKGZlYXR1cmVJbmRleCA9PT0gMCAmJiBpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRMaW5lO1xuICAgICAgZWxzZVxuICAgICAgICBwcmV2aW91c1ZhbHVlID0gY2FsbGJhY2soXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZSxcbiAgICAgICAgICBjdXJyZW50TGluZSxcbiAgICAgICAgICBmZWF0dXJlSW5kZXgsXG4gICAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXgsXG4gICAgICAgICAgZ2VvbWV0cnlJbmRleFxuICAgICAgICApO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG59XG5cbi8qKlxuICogRmluZHMgYSBwYXJ0aWN1bGFyIDItdmVydGV4IExpbmVTdHJpbmcgU2VnbWVudCBmcm9tIGEgR2VvSlNPTiB1c2luZyBgQHR1cmYvbWV0YWAgaW5kZXhlcy5cbiAqXG4gKiBOZWdhdGl2ZSBpbmRleGVzIGFyZSBwZXJtaXR0ZWQuXG4gKiBQb2ludCAmIE11bHRpUG9pbnQgd2lsbCBhbHdheXMgcmV0dXJuIG51bGwuXG4gKlxuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbnxGZWF0dXJlfEdlb21ldHJ5fSBnZW9qc29uIEFueSBHZW9KU09OIEZlYXR1cmUgb3IgR2VvbWV0cnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZlYXR1cmVJbmRleD0wXSBGZWF0dXJlIEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubXVsdGlGZWF0dXJlSW5kZXg9MF0gTXVsdGktRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmdlb21ldHJ5SW5kZXg9MF0gR2VvbWV0cnkgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zZWdtZW50SW5kZXg9MF0gU2VnbWVudCBJbmRleFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSBQcm9wZXJ0aWVzIHRvIG91dHB1dCBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0JCb3h9IFtvcHRpb25zLmJib3g9e31dIFRyYW5zbGF0ZSBCQm94IHRvIG91dHB1dCBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtvcHRpb25zLmlkPXt9XSBUcmFuc2xhdGUgSWQgdG8gb3V0cHV0IExpbmVTdHJpbmdcbiAqIEByZXR1cm5zIHtGZWF0dXJlPExpbmVTdHJpbmc+fSAyLXZlcnRleCBHZW9KU09OIEZlYXR1cmUgTGluZVN0cmluZ1xuICogQGV4YW1wbGVcbiAqIHZhciBtdWx0aUxpbmUgPSB0dXJmLm11bHRpTGluZVN0cmluZyhbXG4gKiAgICAgW1sxMCwgMTBdLCBbNTAsIDMwXSwgWzMwLCA0MF1dLFxuICogICAgIFtbLTEwLCAtMTBdLCBbLTUwLCAtMzBdLCBbLTMwLCAtNDBdXVxuICogXSk7XG4gKlxuICogLy8gRmlyc3QgU2VnbWVudCAoZGVmYXVsdHMgYXJlIDApXG4gKiB0dXJmLmZpbmRTZWdtZW50KG11bHRpTGluZSk7XG4gKiAvLyA9PiBGZWF0dXJlPExpbmVTdHJpbmc8W1sxMCwgMTBdLCBbNTAsIDMwXV0+PlxuICpcbiAqIC8vIEZpcnN0IFNlZ21lbnQgb2YgMm5kIE11bHRpIEZlYXR1cmVcbiAqIHR1cmYuZmluZFNlZ21lbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IDF9KTtcbiAqIC8vID0+IEZlYXR1cmU8TGluZVN0cmluZzxbWy0xMCwgLTEwXSwgWy01MCwgLTMwXV0+PlxuICpcbiAqIC8vIExhc3QgU2VnbWVudCBvZiBMYXN0IE11bHRpIEZlYXR1cmVcbiAqIHR1cmYuZmluZFNlZ21lbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IC0xLCBzZWdtZW50SW5kZXg6IC0xfSk7XG4gKiAvLyA9PiBGZWF0dXJlPExpbmVTdHJpbmc8W1stNTAsIC0zMF0sIFstMzAsIC00MF1dPj5cbiAqL1xuZnVuY3Rpb24gZmluZFNlZ21lbnQoZ2VvanNvbiwgb3B0aW9ucykge1xuICAvLyBPcHRpb25hbCBQYXJhbWV0ZXJzXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIGlzIGludmFsaWRcIik7XG4gIHZhciBmZWF0dXJlSW5kZXggPSBvcHRpb25zLmZlYXR1cmVJbmRleCB8fCAwO1xuICB2YXIgbXVsdGlGZWF0dXJlSW5kZXggPSBvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4IHx8IDA7XG4gIHZhciBnZW9tZXRyeUluZGV4ID0gb3B0aW9ucy5nZW9tZXRyeUluZGV4IHx8IDA7XG4gIHZhciBzZWdtZW50SW5kZXggPSBvcHRpb25zLnNlZ21lbnRJbmRleCB8fCAwO1xuXG4gIC8vIEZpbmQgRmVhdHVyZUluZGV4XG4gIHZhciBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICB2YXIgZ2VvbWV0cnk7XG5cbiAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBmZWF0dXJlSW5kZXggPSBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCArIGZlYXR1cmVJbmRleDtcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbiAgfVxuXG4gIC8vIEZpbmQgU2VnbWVudEluZGV4XG4gIGlmIChnZW9tZXRyeSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHZhciBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcztcbiAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMCkgc2VnbWVudEluZGV4ID0gY29vcmRzLmxlbmd0aCArIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gbGluZVN0cmluZyhcbiAgICAgICAgW2Nvb3Jkc1tzZWdtZW50SW5kZXhdLCBjb29yZHNbc2VnbWVudEluZGV4ICsgMV1dLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApIGdlb21ldHJ5SW5kZXggPSBjb29yZHMubGVuZ3RoICsgZ2VvbWV0cnlJbmRleDtcbiAgICAgIGlmIChzZWdtZW50SW5kZXggPCAwKVxuICAgICAgICBzZWdtZW50SW5kZXggPSBjb29yZHNbZ2VvbWV0cnlJbmRleF0ubGVuZ3RoICsgc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleF0sXG4gICAgICAgICAgY29vcmRzW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleCArIDFdLFxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKHNlZ21lbnRJbmRleCA8IDApXG4gICAgICAgIHNlZ21lbnRJbmRleCA9IGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF0ubGVuZ3RoICsgc2VnbWVudEluZGV4IC0gMTtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nKFxuICAgICAgICBbXG4gICAgICAgICAgY29vcmRzW211bHRpRmVhdHVyZUluZGV4XVtzZWdtZW50SW5kZXhdLFxuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bc2VnbWVudEluZGV4ICsgMV0sXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgaWYgKG11bHRpRmVhdHVyZUluZGV4IDwgMClcbiAgICAgICAgbXVsdGlGZWF0dXJlSW5kZXggPSBjb29yZHMubGVuZ3RoICsgbXVsdGlGZWF0dXJlSW5kZXg7XG4gICAgICBpZiAoZ2VvbWV0cnlJbmRleCA8IDApXG4gICAgICAgIGdlb21ldHJ5SW5kZXggPSBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoc2VnbWVudEluZGV4IDwgMClcbiAgICAgICAgc2VnbWVudEluZGV4ID1cbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCAtIHNlZ21lbnRJbmRleCAtIDE7XG4gICAgICByZXR1cm4gbGluZVN0cmluZyhcbiAgICAgICAgW1xuICAgICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF1bc2VnbWVudEluZGV4XSxcbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdW3NlZ21lbnRJbmRleCArIDFdLFxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbn1cblxuLyoqXG4gKiBGaW5kcyBhIHBhcnRpY3VsYXIgUG9pbnQgZnJvbSBhIEdlb0pTT04gdXNpbmcgYEB0dXJmL21ldGFgIGluZGV4ZXMuXG4gKlxuICogTmVnYXRpdmUgaW5kZXhlcyBhcmUgcGVybWl0dGVkLlxuICpcbiAqIEBwYXJhbSB7RmVhdHVyZUNvbGxlY3Rpb258RmVhdHVyZXxHZW9tZXRyeX0gZ2VvanNvbiBBbnkgR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mZWF0dXJlSW5kZXg9MF0gRmVhdHVyZSBJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm11bHRpRmVhdHVyZUluZGV4PTBdIE11bHRpLUZlYXR1cmUgSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5nZW9tZXRyeUluZGV4PTBdIEdlb21ldHJ5IEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29vcmRJbmRleD0wXSBDb29yZCBJbmRleFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb3BlcnRpZXM9e31dIFRyYW5zbGF0ZSBQcm9wZXJ0aWVzIHRvIG91dHB1dCBQb2ludFxuICogQHBhcmFtIHtCQm94fSBbb3B0aW9ucy5iYm94PXt9XSBUcmFuc2xhdGUgQkJveCB0byBvdXRwdXQgUG9pbnRcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW29wdGlvbnMuaWQ9e31dIFRyYW5zbGF0ZSBJZCB0byBvdXRwdXQgUG9pbnRcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvaW50Pn0gMi12ZXJ0ZXggR2VvSlNPTiBGZWF0dXJlIFBvaW50XG4gKiBAZXhhbXBsZVxuICogdmFyIG11bHRpTGluZSA9IHR1cmYubXVsdGlMaW5lU3RyaW5nKFtcbiAqICAgICBbWzEwLCAxMF0sIFs1MCwgMzBdLCBbMzAsIDQwXV0sXG4gKiAgICAgW1stMTAsIC0xMF0sIFstNTAsIC0zMF0sIFstMzAsIC00MF1dXG4gKiBdKTtcbiAqXG4gKiAvLyBGaXJzdCBTZWdtZW50IChkZWZhdWx0cyBhcmUgMClcbiAqIHR1cmYuZmluZFBvaW50KG11bHRpTGluZSk7XG4gKiAvLyA9PiBGZWF0dXJlPFBvaW50PFsxMCwgMTBdPj5cbiAqXG4gKiAvLyBGaXJzdCBTZWdtZW50IG9mIHRoZSAybmQgTXVsdGktRmVhdHVyZVxuICogdHVyZi5maW5kUG9pbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IDF9KTtcbiAqIC8vID0+IEZlYXR1cmU8UG9pbnQ8Wy0xMCwgLTEwXT4+XG4gKlxuICogLy8gTGFzdCBTZWdtZW50IG9mIGxhc3QgTXVsdGktRmVhdHVyZVxuICogdHVyZi5maW5kUG9pbnQobXVsdGlMaW5lLCB7bXVsdGlGZWF0dXJlSW5kZXg6IC0xLCBjb29yZEluZGV4OiAtMX0pO1xuICogLy8gPT4gRmVhdHVyZTxQb2ludDxbLTMwLCAtNDBdPj5cbiAqL1xuZnVuY3Rpb24gZmluZFBvaW50KGdlb2pzb24sIG9wdGlvbnMpIHtcbiAgLy8gT3B0aW9uYWwgUGFyYW1ldGVyc1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCFpc09iamVjdChvcHRpb25zKSkgdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucyBpcyBpbnZhbGlkXCIpO1xuICB2YXIgZmVhdHVyZUluZGV4ID0gb3B0aW9ucy5mZWF0dXJlSW5kZXggfHwgMDtcbiAgdmFyIG11bHRpRmVhdHVyZUluZGV4ID0gb3B0aW9ucy5tdWx0aUZlYXR1cmVJbmRleCB8fCAwO1xuICB2YXIgZ2VvbWV0cnlJbmRleCA9IG9wdGlvbnMuZ2VvbWV0cnlJbmRleCB8fCAwO1xuICB2YXIgY29vcmRJbmRleCA9IG9wdGlvbnMuY29vcmRJbmRleCB8fCAwO1xuXG4gIC8vIEZpbmQgRmVhdHVyZUluZGV4XG4gIHZhciBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICB2YXIgZ2VvbWV0cnk7XG5cbiAgc3dpdGNoIChnZW9qc29uLnR5cGUpIHtcbiAgICBjYXNlIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjpcbiAgICAgIGlmIChmZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBmZWF0dXJlSW5kZXggPSBnZW9qc29uLmZlYXR1cmVzLmxlbmd0aCArIGZlYXR1cmVJbmRleDtcbiAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IGdlb2pzb24uZmVhdHVyZXNbZmVhdHVyZUluZGV4XS5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmZlYXR1cmVzW2ZlYXR1cmVJbmRleF0uZ2VvbWV0cnk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwgZ2VvanNvbi5wcm9wZXJ0aWVzO1xuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uLmdlb21ldHJ5O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIk11bHRpUG9seWdvblwiOlxuICAgICAgZ2VvbWV0cnkgPSBnZW9qc29uO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdlb2pzb24gaXMgaW52YWxpZFwiKTtcbiAgfVxuXG4gIC8vIEZpbmQgQ29vcmQgSW5kZXhcbiAgaWYgKGdlb21ldHJ5ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgIHJldHVybiBwb2ludChjb29yZHMsIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICBpZiAobXVsdGlGZWF0dXJlSW5kZXggPCAwKVxuICAgICAgICBtdWx0aUZlYXR1cmVJbmRleCA9IGNvb3Jkcy5sZW5ndGggKyBtdWx0aUZlYXR1cmVJbmRleDtcbiAgICAgIHJldHVybiBwb2ludChjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbiAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKSBjb29yZEluZGV4ID0gY29vcmRzLmxlbmd0aCArIGNvb3JkSW5kZXg7XG4gICAgICByZXR1cm4gcG9pbnQoY29vcmRzW2Nvb3JkSW5kZXhdLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgaWYgKGdlb21ldHJ5SW5kZXggPCAwKSBnZW9tZXRyeUluZGV4ID0gY29vcmRzLmxlbmd0aCArIGdlb21ldHJ5SW5kZXg7XG4gICAgICBpZiAoY29vcmRJbmRleCA8IDApXG4gICAgICAgIGNvb3JkSW5kZXggPSBjb29yZHNbZ2VvbWV0cnlJbmRleF0ubGVuZ3RoICsgY29vcmRJbmRleDtcbiAgICAgIHJldHVybiBwb2ludChjb29yZHNbZ2VvbWV0cnlJbmRleF1bY29vcmRJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKVxuICAgICAgICBjb29yZEluZGV4ID0gY29vcmRzW211bHRpRmVhdHVyZUluZGV4XS5sZW5ndGggKyBjb29yZEluZGV4O1xuICAgICAgcmV0dXJuIHBvaW50KGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bY29vcmRJbmRleF0sIHByb3BlcnRpZXMsIG9wdGlvbnMpO1xuICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICAgIGlmIChtdWx0aUZlYXR1cmVJbmRleCA8IDApXG4gICAgICAgIG11bHRpRmVhdHVyZUluZGV4ID0gY29vcmRzLmxlbmd0aCArIG11bHRpRmVhdHVyZUluZGV4O1xuICAgICAgaWYgKGdlb21ldHJ5SW5kZXggPCAwKVxuICAgICAgICBnZW9tZXRyeUluZGV4ID0gY29vcmRzW211bHRpRmVhdHVyZUluZGV4XS5sZW5ndGggKyBnZW9tZXRyeUluZGV4O1xuICAgICAgaWYgKGNvb3JkSW5kZXggPCAwKVxuICAgICAgICBjb29yZEluZGV4ID1cbiAgICAgICAgICBjb29yZHNbbXVsdGlGZWF0dXJlSW5kZXhdW2dlb21ldHJ5SW5kZXhdLmxlbmd0aCAtIGNvb3JkSW5kZXg7XG4gICAgICByZXR1cm4gcG9pbnQoXG4gICAgICAgIGNvb3Jkc1ttdWx0aUZlYXR1cmVJbmRleF1bZ2VvbWV0cnlJbmRleF1bY29vcmRJbmRleF0sXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyBpbnZhbGlkXCIpO1xufVxuXG5leHBvcnQgeyBjb29yZEFsbCwgY29vcmRFYWNoLCBjb29yZFJlZHVjZSwgZmVhdHVyZUVhY2gsIGZlYXR1cmVSZWR1Y2UsIGZpbmRQb2ludCwgZmluZFNlZ21lbnQsIGZsYXR0ZW5FYWNoLCBmbGF0dGVuUmVkdWNlLCBnZW9tRWFjaCwgZ2VvbVJlZHVjZSwgbGluZUVhY2gsIGxpbmVSZWR1Y2UsIHByb3BFYWNoLCBwcm9wUmVkdWNlLCBzZWdtZW50RWFjaCwgc2VnbWVudFJlZHVjZSB9O1xuIiwgImltcG9ydCB7IGZlYXR1cmVDb2xsZWN0aW9uLCBsaW5lU3RyaW5nLCB9IGZyb20gXCJAdHVyZi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRDb29yZHMgfSBmcm9tIFwiQHR1cmYvaW52YXJpYW50XCI7XG5pbXBvcnQgeyBmbGF0dGVuRWFjaCB9IGZyb20gXCJAdHVyZi9tZXRhXCI7XG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgRmVhdHVyZUNvbGxlY3Rpb259IG9mIDItdmVydGV4IHtAbGluayBMaW5lU3RyaW5nfSBzZWdtZW50cyBmcm9tIGFcbiAqIHtAbGluayBMaW5lU3RyaW5nfChNdWx0aSlMaW5lU3RyaW5nfSBvciB7QGxpbmsgUG9seWdvbnwoTXVsdGkpUG9seWdvbn0uXG4gKlxuICogQG5hbWUgbGluZVNlZ21lbnRcbiAqIEBwYXJhbSB7R2VvSlNPTn0gZ2VvanNvbiBHZW9KU09OIFBvbHlnb24gb3IgTGluZVN0cmluZ1xuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSAyLXZlcnRleCBsaW5lIHNlZ21lbnRzXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvbHlnb24gPSB0dXJmLnBvbHlnb24oW1tbLTUwLCA1XSwgWy00MCwgLTEwXSwgWy01MCwgLTEwXSwgWy00MCwgNV0sIFstNTAsIDVdXV0pO1xuICogdmFyIHNlZ21lbnRzID0gdHVyZi5saW5lU2VnbWVudChwb2x5Z29uKTtcbiAqXG4gKiAvL2FkZFRvTWFwXG4gKiB2YXIgYWRkVG9NYXAgPSBbcG9seWdvbiwgc2VnbWVudHNdXG4gKi9cbmZ1bmN0aW9uIGxpbmVTZWdtZW50KGdlb2pzb24pIHtcbiAgICBpZiAoIWdlb2pzb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2VvanNvbiBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBmbGF0dGVuRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBsaW5lU2VnbWVudEZlYXR1cmUoZmVhdHVyZSwgcmVzdWx0cyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZlYXR1cmVDb2xsZWN0aW9uKHJlc3VsdHMpO1xufVxuLyoqXG4gKiBMaW5lIFNlZ21lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmd8UG9seWdvbj59IGdlb2pzb24gTGluZSBvciBwb2x5Z29uIGZlYXR1cmVcbiAqIEBwYXJhbSB7QXJyYXl9IHJlc3VsdHMgcHVzaCB0byByZXN1bHRzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gbGluZVNlZ21lbnRGZWF0dXJlKGdlb2pzb24sIHJlc3VsdHMpIHtcbiAgICB2YXIgY29vcmRzID0gW107XG4gICAgdmFyIGdlb21ldHJ5ID0gZ2VvanNvbi5nZW9tZXRyeTtcbiAgICBpZiAoZ2VvbWV0cnkgIT09IG51bGwpIHtcbiAgICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICAgICAgICAgIGNvb3JkcyA9IGdldENvb3JkcyhnZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIGNvb3JkcyA9IFtnZXRDb29yZHMoZ2VvbWV0cnkpXTtcbiAgICAgICAgfVxuICAgICAgICBjb29yZHMuZm9yRWFjaChmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgICAgIHZhciBzZWdtZW50cyA9IGNyZWF0ZVNlZ21lbnRzKGNvb3JkLCBnZW9qc29uLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgc2VnbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2VnbWVudCkge1xuICAgICAgICAgICAgICAgIHNlZ21lbnQuaWQgPSByZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgU2VnbWVudHMgZnJvbSBMaW5lU3RyaW5nIGNvb3JkaW5hdGVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkcyBMaW5lU3RyaW5nIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0geyp9IHByb3BlcnRpZXMgR2VvSlNPTiBwcm9wZXJ0aWVzXG4gKiBAcmV0dXJucyB7QXJyYXk8RmVhdHVyZTxMaW5lU3RyaW5nPj59IGxpbmUgc2VnbWVudHNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2VnbWVudHMoY29vcmRzLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHNlZ21lbnRzID0gW107XG4gICAgY29vcmRzLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXNDb29yZHMsIGN1cnJlbnRDb29yZHMpIHtcbiAgICAgICAgdmFyIHNlZ21lbnQgPSBsaW5lU3RyaW5nKFtwcmV2aW91c0Nvb3JkcywgY3VycmVudENvb3Jkc10sIHByb3BlcnRpZXMpO1xuICAgICAgICBzZWdtZW50LmJib3ggPSBiYm94KHByZXZpb3VzQ29vcmRzLCBjdXJyZW50Q29vcmRzKTtcbiAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRDb29yZHM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlZ21lbnRzO1xufVxuLyoqXG4gKiBDcmVhdGUgQkJveCBiZXR3ZWVuIHR3byBjb29yZGluYXRlcyAoZmFzdGVyIHRoYW4gQHR1cmYvYmJveClcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZHMxIFBvaW50IGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRzMiBQb2ludCBjb29yZGluYXRlXG4gKiBAcmV0dXJucyB7QkJveH0gW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF1cbiAqL1xuZnVuY3Rpb24gYmJveChjb29yZHMxLCBjb29yZHMyKSB7XG4gICAgdmFyIHgxID0gY29vcmRzMVswXTtcbiAgICB2YXIgeTEgPSBjb29yZHMxWzFdO1xuICAgIHZhciB4MiA9IGNvb3JkczJbMF07XG4gICAgdmFyIHkyID0gY29vcmRzMlsxXTtcbiAgICB2YXIgd2VzdCA9IHgxIDwgeDIgPyB4MSA6IHgyO1xuICAgIHZhciBzb3V0aCA9IHkxIDwgeTIgPyB5MSA6IHkyO1xuICAgIHZhciBlYXN0ID0geDEgPiB4MiA/IHgxIDogeDI7XG4gICAgdmFyIG5vcnRoID0geTEgPiB5MiA/IHkxIDogeTI7XG4gICAgcmV0dXJuIFt3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGhdO1xufVxuZXhwb3J0IGRlZmF1bHQgbGluZVNlZ21lbnQ7XG4iLCAiaW1wb3J0IHsgZmVhdHVyZSwgZmVhdHVyZUNvbGxlY3Rpb24sIHBvaW50LCB9IGZyb20gXCJAdHVyZi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRDb29yZHMgfSBmcm9tIFwiQHR1cmYvaW52YXJpYW50XCI7XG5pbXBvcnQgbGluZVNlZ21lbnQgZnJvbSBcIkB0dXJmL2xpbmUtc2VnbWVudFwiO1xuaW1wb3J0IHsgZmVhdHVyZUVhY2ggfSBmcm9tIFwiQHR1cmYvbWV0YVwiO1xuaW1wb3J0IHJidXNoIGZyb20gXCJnZW9qc29uLXJidXNoXCI7XG4vKipcbiAqIFRha2VzIGFueSBMaW5lU3RyaW5nIG9yIFBvbHlnb24gR2VvSlNPTiBhbmQgcmV0dXJucyB0aGUgaW50ZXJzZWN0aW5nIHBvaW50KHMpLlxuICpcbiAqIEBuYW1lIGxpbmVJbnRlcnNlY3RcbiAqIEBwYXJhbSB7R2VvSlNPTn0gbGluZTEgYW55IExpbmVTdHJpbmcgb3IgUG9seWdvblxuICogQHBhcmFtIHtHZW9KU09OfSBsaW5lMiBhbnkgTGluZVN0cmluZyBvciBQb2x5Z29uXG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248UG9pbnQ+fSBwb2ludChzKSB0aGF0IGludGVyc2VjdCBib3RoXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmUxID0gdHVyZi5saW5lU3RyaW5nKFtbMTI2LCAtMTFdLCBbMTI5LCAtMjFdXSk7XG4gKiB2YXIgbGluZTIgPSB0dXJmLmxpbmVTdHJpbmcoW1sxMjMsIC0xOF0sIFsxMzEsIC0xNF1dKTtcbiAqIHZhciBpbnRlcnNlY3RzID0gdHVyZi5saW5lSW50ZXJzZWN0KGxpbmUxLCBsaW5lMik7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW2xpbmUxLCBsaW5lMiwgaW50ZXJzZWN0c11cbiAqL1xuZnVuY3Rpb24gbGluZUludGVyc2VjdChsaW5lMSwgbGluZTIpIHtcbiAgICB2YXIgdW5pcXVlID0ge307XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAvLyBGaXJzdCwgbm9ybWFsaXplIGdlb21ldHJpZXMgdG8gZmVhdHVyZXNcbiAgICAvLyBUaGVuLCBoYW5kbGUgc2ltcGxlIDItdmVydGV4IHNlZ21lbnRzXG4gICAgaWYgKGxpbmUxLnR5cGUgPT09IFwiTGluZVN0cmluZ1wiKSB7XG4gICAgICAgIGxpbmUxID0gZmVhdHVyZShsaW5lMSk7XG4gICAgfVxuICAgIGlmIChsaW5lMi50eXBlID09PSBcIkxpbmVTdHJpbmdcIikge1xuICAgICAgICBsaW5lMiA9IGZlYXR1cmUobGluZTIpO1xuICAgIH1cbiAgICBpZiAobGluZTEudHlwZSA9PT0gXCJGZWF0dXJlXCIgJiZcbiAgICAgICAgbGluZTIudHlwZSA9PT0gXCJGZWF0dXJlXCIgJiZcbiAgICAgICAgbGluZTEuZ2VvbWV0cnkgIT09IG51bGwgJiZcbiAgICAgICAgbGluZTIuZ2VvbWV0cnkgIT09IG51bGwgJiZcbiAgICAgICAgbGluZTEuZ2VvbWV0cnkudHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIgJiZcbiAgICAgICAgbGluZTIuZ2VvbWV0cnkudHlwZSA9PT0gXCJMaW5lU3RyaW5nXCIgJiZcbiAgICAgICAgbGluZTEuZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoID09PSAyICYmXG4gICAgICAgIGxpbmUyLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICB2YXIgaW50ZXJzZWN0ID0gaW50ZXJzZWN0cyhsaW5lMSwgbGluZTIpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goaW50ZXJzZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24ocmVzdWx0cyk7XG4gICAgfVxuICAgIC8vIEhhbmRsZXMgY29tcGxleCBHZW9KU09OIEdlb21ldHJpZXNcbiAgICB2YXIgdHJlZSA9IHJidXNoKCk7XG4gICAgdHJlZS5sb2FkKGxpbmVTZWdtZW50KGxpbmUyKSk7XG4gICAgZmVhdHVyZUVhY2gobGluZVNlZ21lbnQobGluZTEpLCBmdW5jdGlvbiAoc2VnbWVudCkge1xuICAgICAgICBmZWF0dXJlRWFjaCh0cmVlLnNlYXJjaChzZWdtZW50KSwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gaW50ZXJzZWN0cyhzZWdtZW50LCBtYXRjaCk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCBkdXBsaWNhdGUgcG9pbnRzIGh0dHBzOi8vZ2l0aHViLmNvbS9UdXJmanMvdHVyZi9pc3N1ZXMvNjg4XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldENvb3JkcyhpbnRlcnNlY3QpLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgICAgIGlmICghdW5pcXVlW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goaW50ZXJzZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihyZXN1bHRzKTtcbn1cbi8qKlxuICogRmluZCBhIHBvaW50IHRoYXQgaW50ZXJzZWN0cyBMaW5lU3RyaW5ncyB3aXRoIHR3byBjb29yZGluYXRlcyBlYWNoXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gbGluZTEgR2VvSlNPTiBMaW5lU3RyaW5nIChNdXN0IG9ubHkgY29udGFpbiAyIGNvb3JkaW5hdGVzKVxuICogQHBhcmFtIHtGZWF0dXJlPExpbmVTdHJpbmc+fSBsaW5lMiBHZW9KU09OIExpbmVTdHJpbmcgKE11c3Qgb25seSBjb250YWluIDIgY29vcmRpbmF0ZXMpXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxQb2ludD59IGludGVyc2VjdGluZyBHZW9KU09OIFBvaW50XG4gKi9cbmZ1bmN0aW9uIGludGVyc2VjdHMobGluZTEsIGxpbmUyKSB7XG4gICAgdmFyIGNvb3JkczEgPSBnZXRDb29yZHMobGluZTEpO1xuICAgIHZhciBjb29yZHMyID0gZ2V0Q29vcmRzKGxpbmUyKTtcbiAgICBpZiAoY29vcmRzMS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPGludGVyc2VjdHM+IGxpbmUxIG11c3Qgb25seSBjb250YWluIDIgY29vcmRpbmF0ZXNcIik7XG4gICAgfVxuICAgIGlmIChjb29yZHMyLmxlbmd0aCAhPT0gMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8aW50ZXJzZWN0cz4gbGluZTIgbXVzdCBvbmx5IGNvbnRhaW4gMiBjb29yZGluYXRlc1wiKTtcbiAgICB9XG4gICAgdmFyIHgxID0gY29vcmRzMVswXVswXTtcbiAgICB2YXIgeTEgPSBjb29yZHMxWzBdWzFdO1xuICAgIHZhciB4MiA9IGNvb3JkczFbMV1bMF07XG4gICAgdmFyIHkyID0gY29vcmRzMVsxXVsxXTtcbiAgICB2YXIgeDMgPSBjb29yZHMyWzBdWzBdO1xuICAgIHZhciB5MyA9IGNvb3JkczJbMF1bMV07XG4gICAgdmFyIHg0ID0gY29vcmRzMlsxXVswXTtcbiAgICB2YXIgeTQgPSBjb29yZHMyWzFdWzFdO1xuICAgIHZhciBkZW5vbSA9ICh5NCAtIHkzKSAqICh4MiAtIHgxKSAtICh4NCAtIHgzKSAqICh5MiAtIHkxKTtcbiAgICB2YXIgbnVtZUEgPSAoeDQgLSB4MykgKiAoeTEgLSB5MykgLSAoeTQgLSB5MykgKiAoeDEgLSB4Myk7XG4gICAgdmFyIG51bWVCID0gKHgyIC0geDEpICogKHkxIC0geTMpIC0gKHkyIC0geTEpICogKHgxIC0geDMpO1xuICAgIGlmIChkZW5vbSA9PT0gMCkge1xuICAgICAgICBpZiAobnVtZUEgPT09IDAgJiYgbnVtZUIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgdUEgPSBudW1lQSAvIGRlbm9tO1xuICAgIHZhciB1QiA9IG51bWVCIC8gZGVub207XG4gICAgaWYgKHVBID49IDAgJiYgdUEgPD0gMSAmJiB1QiA+PSAwICYmIHVCIDw9IDEpIHtcbiAgICAgICAgdmFyIHggPSB4MSArIHVBICogKHgyIC0geDEpO1xuICAgICAgICB2YXIgeSA9IHkxICsgdUEgKiAoeTIgLSB5MSk7XG4gICAgICAgIHJldHVybiBwb2ludChbeCwgeV0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBkZWZhdWx0IGxpbmVJbnRlcnNlY3Q7XG4iLCAiaW1wb3J0IHJidXNoIGZyb20gJ2dlb2pzb24tcmJ1c2gnO1xuaW1wb3J0IHNxdWFyZSBmcm9tICdAdHVyZi9zcXVhcmUnO1xuaW1wb3J0IGJib3ggZnJvbSAnQHR1cmYvYmJveCc7XG5pbXBvcnQgdHJ1bmNhdGUgZnJvbSAnQHR1cmYvdHJ1bmNhdGUnO1xuaW1wb3J0IGxpbmVTZWdtZW50IGZyb20gJ0B0dXJmL2xpbmUtc2VnbWVudCc7XG5pbXBvcnQgbGluZUludGVyc2VjdCBmcm9tICdAdHVyZi9saW5lLWludGVyc2VjdCc7XG5pbXBvcnQgbmVhcmVzdFBvaW50T25MaW5lIGZyb20gJ0B0dXJmL25lYXJlc3QtcG9pbnQtb24tbGluZSc7XG5pbXBvcnQgeyBnZXRUeXBlLCBnZXRDb29yZHMsIGdldENvb3JkIH0gZnJvbSAnQHR1cmYvaW52YXJpYW50JztcbmltcG9ydCB7IGZsYXR0ZW5FYWNoLCBmZWF0dXJlRWFjaCwgZmVhdHVyZVJlZHVjZSB9IGZyb20gJ0B0dXJmL21ldGEnO1xuaW1wb3J0IHsgZmVhdHVyZUNvbGxlY3Rpb24sIGxpbmVTdHJpbmcgfSBmcm9tICdAdHVyZi9oZWxwZXJzJztcblxuLyoqXG4gKiBTcGxpdCBhIExpbmVTdHJpbmcgYnkgYW5vdGhlciBHZW9KU09OIEZlYXR1cmUuXG4gKlxuICogQG5hbWUgbGluZVNwbGl0XG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGxpbmUgTGluZVN0cmluZyBGZWF0dXJlIHRvIHNwbGl0XG4gKiBAcGFyYW0ge0ZlYXR1cmU8YW55Pn0gc3BsaXR0ZXIgRmVhdHVyZSB1c2VkIHRvIHNwbGl0IGxpbmVcbiAqIEByZXR1cm5zIHtGZWF0dXJlQ29sbGVjdGlvbjxMaW5lU3RyaW5nPn0gU3BsaXQgTGluZVN0cmluZ3NcbiAqIEBleGFtcGxlXG4gKiB2YXIgbGluZSA9IHR1cmYubGluZVN0cmluZyhbWzEyMCwgLTI1XSwgWzE0NSwgLTI1XV0pO1xuICogdmFyIHNwbGl0dGVyID0gdHVyZi5saW5lU3RyaW5nKFtbMTMwLCAtMTVdLCBbMTMwLCAtMzVdXSk7XG4gKlxuICogdmFyIHNwbGl0ID0gdHVyZi5saW5lU3BsaXQobGluZSwgc3BsaXR0ZXIpO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtsaW5lLCBzcGxpdHRlcl1cbiAqL1xuZnVuY3Rpb24gbGluZVNwbGl0KGxpbmUsIHNwbGl0dGVyKSB7XG4gIGlmICghbGluZSkgdGhyb3cgbmV3IEVycm9yKFwibGluZSBpcyByZXF1aXJlZFwiKTtcbiAgaWYgKCFzcGxpdHRlcikgdGhyb3cgbmV3IEVycm9yKFwic3BsaXR0ZXIgaXMgcmVxdWlyZWRcIik7XG5cbiAgdmFyIGxpbmVUeXBlID0gZ2V0VHlwZShsaW5lKTtcbiAgdmFyIHNwbGl0dGVyVHlwZSA9IGdldFR5cGUoc3BsaXR0ZXIpO1xuXG4gIGlmIChsaW5lVHlwZSAhPT0gXCJMaW5lU3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcImxpbmUgbXVzdCBiZSBMaW5lU3RyaW5nXCIpO1xuICBpZiAoc3BsaXR0ZXJUeXBlID09PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwic3BsaXR0ZXIgY2Fubm90IGJlIGEgRmVhdHVyZUNvbGxlY3Rpb25cIik7XG4gIGlmIChzcGxpdHRlclR5cGUgPT09IFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwic3BsaXR0ZXIgY2Fubm90IGJlIGEgR2VvbWV0cnlDb2xsZWN0aW9uXCIpO1xuXG4gIC8vIHJlbW92ZSBleGNlc3NpdmUgZGVjaW1hbHMgZnJvbSBzcGxpdHRlclxuICAvLyB0byBhdm9pZCBwb3NzaWJsZSBhcHByb3hpbWF0aW9uIGlzc3VlcyBpbiByYnVzaFxuICB2YXIgdHJ1bmNhdGVkU3BsaXR0ZXIgPSB0cnVuY2F0ZShzcGxpdHRlciwgeyBwcmVjaXNpb246IDcgfSk7XG5cbiAgc3dpdGNoIChzcGxpdHRlclR5cGUpIHtcbiAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgIHJldHVybiBzcGxpdExpbmVXaXRoUG9pbnQobGluZSwgdHJ1bmNhdGVkU3BsaXR0ZXIpO1xuICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICByZXR1cm4gc3BsaXRMaW5lV2l0aFBvaW50cyhsaW5lLCB0cnVuY2F0ZWRTcGxpdHRlcik7XG4gICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICByZXR1cm4gc3BsaXRMaW5lV2l0aFBvaW50cyhsaW5lLCBsaW5lSW50ZXJzZWN0KGxpbmUsIHRydW5jYXRlZFNwbGl0dGVyKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTcGxpdCBMaW5lU3RyaW5nIHdpdGggTXVsdGlQb2ludFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZlYXR1cmU8TGluZVN0cmluZz59IGxpbmUgTGluZVN0cmluZ1xuICogQHBhcmFtIHtGZWF0dXJlQ29sbGVjdGlvbjxQb2ludD59IHNwbGl0dGVyIFBvaW50XG4gKiBAcmV0dXJucyB7RmVhdHVyZUNvbGxlY3Rpb248TGluZVN0cmluZz59IHNwbGl0IExpbmVTdHJpbmdzXG4gKi9cbmZ1bmN0aW9uIHNwbGl0TGluZVdpdGhQb2ludHMobGluZSwgc3BsaXR0ZXIpIHtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIHRyZWUgPSByYnVzaCgpO1xuXG4gIGZsYXR0ZW5FYWNoKHNwbGl0dGVyLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAvLyBBZGQgaW5kZXgvaWQgdG8gZmVhdHVyZXMgKG5lZWRlZCBmb3IgZmlsdGVyKVxuICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZmVhdHVyZSwgaW5kZXgpIHtcbiAgICAgIGZlYXR1cmUuaWQgPSBpbmRleDtcbiAgICB9KTtcbiAgICAvLyBGaXJzdCBQb2ludCAtIGRvZXNuJ3QgbmVlZCB0byBoYW5kbGUgYW55IHByZXZpb3VzIGxpbmUgcmVzdWx0c1xuICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdHMgPSBzcGxpdExpbmVXaXRoUG9pbnQobGluZSwgcG9pbnQpLmZlYXR1cmVzO1xuXG4gICAgICAvLyBBZGQgU3F1YXJlIEJCb3ggdG8gZWFjaCBmZWF0dXJlIGZvciBHZW9KU09OLVJCdXNoXG4gICAgICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgaWYgKCFmZWF0dXJlLmJib3gpIGZlYXR1cmUuYmJveCA9IHNxdWFyZShiYm94KGZlYXR1cmUpKTtcbiAgICAgIH0pO1xuICAgICAgdHJlZS5sb2FkKGZlYXR1cmVDb2xsZWN0aW9uKHJlc3VsdHMpKTtcbiAgICAgIC8vIFNwbGl0IHdpdGggcmVtYWluaW5nIHBvaW50cyAtIGxpbmVzIG1pZ2h0IG5lZWRlZCB0byBiZSBzcGxpdCBtdWx0aXBsZSB0aW1lc1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5kIGFsbCBsaW5lcyB0aGF0IGFyZSB3aXRoaW4gdGhlIHNwbGl0dGVyJ3MgYmJveFxuICAgICAgdmFyIHNlYXJjaCA9IHRyZWUuc2VhcmNoKHBvaW50KTtcblxuICAgICAgaWYgKHNlYXJjaC5mZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gUkJ1c2ggbWlnaHQgcmV0dXJuIG11bHRpcGxlIGxpbmVzIC0gb25seSBwcm9jZXNzIHRoZSBjbG9zZXN0IGxpbmUgdG8gc3BsaXR0ZXJcbiAgICAgICAgdmFyIGNsb3Nlc3RMaW5lID0gZmluZENsb3Nlc3RGZWF0dXJlKHBvaW50LCBzZWFyY2gpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBjbG9zZXN0IGxpbmUgZnJvbSByZXN1bHRzIHNpbmNlIHRoaXMgd2lsbCBiZSBzcGxpdCBpbnRvIHR3byBsaW5lc1xuICAgICAgICAvLyBUaGlzIHJlbW92ZXMgYW55IGR1cGxpY2F0ZXMgaW5zaWRlIHRoZSByZXN1bHRzICYgaW5kZXhcbiAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgICAgcmV0dXJuIGZlYXR1cmUuaWQgIT09IGNsb3Nlc3RMaW5lLmlkO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJlZS5yZW1vdmUoY2xvc2VzdExpbmUpO1xuXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgdHdvIG5ld2x5IHNwbGl0IGxpbmVzIGludG8gdGhlIHJlc3VsdHNcbiAgICAgICAgZmVhdHVyZUVhY2goc3BsaXRMaW5lV2l0aFBvaW50KGNsb3Nlc3RMaW5lLCBwb2ludCksIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGxpbmUpO1xuICAgICAgICAgIHRyZWUuaW5zZXJ0KGxpbmUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24ocmVzdWx0cyk7XG59XG5cbi8qKlxuICogU3BsaXQgTGluZVN0cmluZyB3aXRoIFBvaW50XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gbGluZSBMaW5lU3RyaW5nXG4gKiBAcGFyYW0ge0ZlYXR1cmU8UG9pbnQ+fSBzcGxpdHRlciBQb2ludFxuICogQHJldHVybnMge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSBzcGxpdCBMaW5lU3RyaW5nc1xuICovXG5mdW5jdGlvbiBzcGxpdExpbmVXaXRoUG9pbnQobGluZSwgc3BsaXR0ZXIpIHtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcblxuICAvLyBoYW5kbGUgZW5kcG9pbnRzXG4gIHZhciBzdGFydFBvaW50ID0gZ2V0Q29vcmRzKGxpbmUpWzBdO1xuICB2YXIgZW5kUG9pbnQgPSBnZXRDb29yZHMobGluZSlbbGluZS5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGggLSAxXTtcbiAgaWYgKFxuICAgIHBvaW50c0VxdWFscyhzdGFydFBvaW50LCBnZXRDb29yZChzcGxpdHRlcikpIHx8XG4gICAgcG9pbnRzRXF1YWxzKGVuZFBvaW50LCBnZXRDb29yZChzcGxpdHRlcikpXG4gIClcbiAgICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oW2xpbmVdKTtcblxuICAvLyBDcmVhdGUgc3BhdGlhbCBpbmRleFxuICB2YXIgdHJlZSA9IHJidXNoKCk7XG4gIHZhciBzZWdtZW50cyA9IGxpbmVTZWdtZW50KGxpbmUpO1xuICB0cmVlLmxvYWQoc2VnbWVudHMpO1xuXG4gIC8vIEZpbmQgYWxsIHNlZ21lbnRzIHRoYXQgYXJlIHdpdGhpbiBiYm94IG9mIHNwbGl0dGVyXG4gIHZhciBzZWFyY2ggPSB0cmVlLnNlYXJjaChzcGxpdHRlcik7XG5cbiAgLy8gUmV0dXJuIGl0c2VsZiBpZiBwb2ludCBpcyBub3Qgd2l0aGluIHNwYXRpYWwgaW5kZXhcbiAgaWYgKCFzZWFyY2guZmVhdHVyZXMubGVuZ3RoKSByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24oW2xpbmVdKTtcblxuICAvLyBSQnVzaCBtaWdodCByZXR1cm4gbXVsdGlwbGUgbGluZXMgLSBvbmx5IHByb2Nlc3MgdGhlIGNsb3Nlc3QgbGluZSB0byBzcGxpdHRlclxuICB2YXIgY2xvc2VzdFNlZ21lbnQgPSBmaW5kQ2xvc2VzdEZlYXR1cmUoc3BsaXR0ZXIsIHNlYXJjaCk7XG5cbiAgLy8gSW5pdGlhbCB2YWx1ZSBpcyB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIGZpcnN0IHNlZ21lbnRzIChiZWdpbm5pbmcgb2YgbGluZSlcbiAgdmFyIGluaXRpYWxWYWx1ZSA9IFtzdGFydFBvaW50XTtcbiAgdmFyIGxhc3RDb29yZHMgPSBmZWF0dXJlUmVkdWNlKFxuICAgIHNlZ21lbnRzLFxuICAgIGZ1bmN0aW9uIChwcmV2aW91cywgY3VycmVudCwgaW5kZXgpIHtcbiAgICAgIHZhciBjdXJyZW50Q29vcmRzID0gZ2V0Q29vcmRzKGN1cnJlbnQpWzFdO1xuICAgICAgdmFyIHNwbGl0dGVyQ29vcmRzID0gZ2V0Q29vcmQoc3BsaXR0ZXIpO1xuXG4gICAgICAvLyBMb2NhdGlvbiB3aGVyZSBzZWdtZW50IGludGVyc2VjdHMgd2l0aCBsaW5lXG4gICAgICBpZiAoaW5kZXggPT09IGNsb3Nlc3RTZWdtZW50LmlkKSB7XG4gICAgICAgIHByZXZpb3VzLnB1c2goc3BsaXR0ZXJDb29yZHMpO1xuICAgICAgICByZXN1bHRzLnB1c2gobGluZVN0cmluZyhwcmV2aW91cykpO1xuICAgICAgICAvLyBEb24ndCBkdXBsaWNhdGUgc3BsaXR0ZXIgY29vcmRpbmF0ZSAoSXNzdWUgIzY4OClcbiAgICAgICAgaWYgKHBvaW50c0VxdWFscyhzcGxpdHRlckNvb3JkcywgY3VycmVudENvb3JkcykpXG4gICAgICAgICAgcmV0dXJuIFtzcGxpdHRlckNvb3Jkc107XG4gICAgICAgIHJldHVybiBbc3BsaXR0ZXJDb29yZHMsIGN1cnJlbnRDb29yZHNdO1xuXG4gICAgICAgIC8vIEtlZXAgaXRlcmF0aW5nIG92ZXIgY29vcmRzIHVudGlsIGZpbmlzaGVkIG9yIGludGVyc2VjdGlvbiBpcyBmb3VuZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldmlvdXMucHVzaChjdXJyZW50Q29vcmRzKTtcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5pdGlhbFZhbHVlXG4gICk7XG4gIC8vIEFwcGVuZCBsYXN0IGxpbmUgdG8gZmluYWwgc3BsaXQgcmVzdWx0c1xuICBpZiAobGFzdENvb3Jkcy5sZW5ndGggPiAxKSB7XG4gICAgcmVzdWx0cy5wdXNoKGxpbmVTdHJpbmcobGFzdENvb3JkcykpO1xuICB9XG4gIHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbihyZXN1bHRzKTtcbn1cblxuLyoqXG4gKiBGaW5kIENsb3Nlc3QgRmVhdHVyZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZlYXR1cmU8UG9pbnQ+fSBwb2ludCBGZWF0dXJlIG11c3QgYmUgY2xvc2VzdCB0byB0aGlzIHBvaW50XG4gKiBAcGFyYW0ge0ZlYXR1cmVDb2xsZWN0aW9uPExpbmVTdHJpbmc+fSBsaW5lcyBDb2xsZWN0aW9uIG9mIEZlYXR1cmVzXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gY2xvc2VzdCBMaW5lU3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0RmVhdHVyZShwb2ludCwgbGluZXMpIHtcbiAgaWYgKCFsaW5lcy5mZWF0dXJlcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcImxpbmVzIG11c3QgY29udGFpbiBmZWF0dXJlc1wiKTtcbiAgLy8gRmlsdGVyIHRvIG9uZSBzZWdtZW50IHRoYXQgaXMgdGhlIGNsb3Nlc3QgdG8gdGhlIGxpbmVcbiAgaWYgKGxpbmVzLmZlYXR1cmVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGxpbmVzLmZlYXR1cmVzWzBdO1xuXG4gIHZhciBjbG9zZXN0RmVhdHVyZTtcbiAgdmFyIGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuICBmZWF0dXJlRWFjaChsaW5lcywgZnVuY3Rpb24gKHNlZ21lbnQpIHtcbiAgICB2YXIgcHQgPSBuZWFyZXN0UG9pbnRPbkxpbmUoc2VnbWVudCwgcG9pbnQpO1xuICAgIHZhciBkaXN0ID0gcHQucHJvcGVydGllcy5kaXN0O1xuICAgIGlmIChkaXN0IDwgY2xvc2VzdERpc3RhbmNlKSB7XG4gICAgICBjbG9zZXN0RmVhdHVyZSA9IHNlZ21lbnQ7XG4gICAgICBjbG9zZXN0RGlzdGFuY2UgPSBkaXN0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjbG9zZXN0RmVhdHVyZTtcbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gcG9pbnRzIGFuZCByZXR1cm5zIGlmIHRoZXkgYXJlIGVxdWFsc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHB0MSBwb2ludFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBwdDIgcG9pbnRcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZXkgYXJlIGVxdWFsc1xuICovXG5mdW5jdGlvbiBwb2ludHNFcXVhbHMocHQxLCBwdDIpIHtcbiAgcmV0dXJuIHB0MVswXSA9PT0gcHQyWzBdICYmIHB0MVsxXSA9PT0gcHQyWzFdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsaW5lU3BsaXQ7XG4iLCAiaW1wb3J0IHsgZ2V0Q29vcmQgfSBmcm9tIFwiQHR1cmYvaW52YXJpYW50XCI7XG5pbXBvcnQgeyByYWRpYW5zVG9MZW5ndGgsIGRlZ3JlZXNUb1JhZGlhbnMsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbi8vaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IYXZlcnNpbmVfZm9ybXVsYVxuLy9odHRwOi8vd3d3Lm1vdmFibGUtdHlwZS5jby51ay9zY3JpcHRzL2xhdGxvbmcuaHRtbFxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byB7QGxpbmsgUG9pbnR8cG9pbnRzfSBpbiBkZWdyZWVzLCByYWRpYW5zLCBtaWxlcywgb3Iga2lsb21ldGVycy5cbiAqIFRoaXMgdXNlcyB0aGUgW0hhdmVyc2luZSBmb3JtdWxhXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhKSB0byBhY2NvdW50IGZvciBnbG9iYWwgY3VydmF0dXJlLlxuICpcbiAqIEBuYW1lIGRpc3RhbmNlXG4gKiBAcGFyYW0ge0Nvb3JkIHwgUG9pbnR9IGZyb20gb3JpZ2luIHBvaW50IG9yIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7Q29vcmQgfCBQb2ludH0gdG8gZGVzdGluYXRpb24gcG9pbnQgb3IgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pdHM9J2tpbG9tZXRlcnMnXSBjYW4gYmUgZGVncmVlcywgcmFkaWFucywgbWlsZXMsIG9yIGtpbG9tZXRlcnNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwb2ludHNcbiAqIEBleGFtcGxlXG4gKiB2YXIgZnJvbSA9IHR1cmYucG9pbnQoWy03NS4zNDMsIDM5Ljk4NF0pO1xuICogdmFyIHRvID0gdHVyZi5wb2ludChbLTc1LjUzNCwgMzkuMTIzXSk7XG4gKiB2YXIgb3B0aW9ucyA9IHt1bml0czogJ21pbGVzJ307XG4gKlxuICogdmFyIGRpc3RhbmNlID0gdHVyZi5kaXN0YW5jZShmcm9tLCB0bywgb3B0aW9ucyk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW2Zyb20sIHRvXTtcbiAqIGZyb20ucHJvcGVydGllcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICogdG8ucHJvcGVydGllcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICovXG5mdW5jdGlvbiBkaXN0YW5jZShmcm9tLCB0bywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGNvb3JkaW5hdGVzMSA9IGdldENvb3JkKGZyb20pO1xuICAgIHZhciBjb29yZGluYXRlczIgPSBnZXRDb29yZCh0byk7XG4gICAgdmFyIGRMYXQgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMlsxXSAtIGNvb3JkaW5hdGVzMVsxXSk7XG4gICAgdmFyIGRMb24gPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMlswXSAtIGNvb3JkaW5hdGVzMVswXSk7XG4gICAgdmFyIGxhdDEgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMVsxXSk7XG4gICAgdmFyIGxhdDIgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMlsxXSk7XG4gICAgdmFyIGEgPSBNYXRoLnBvdyhNYXRoLnNpbihkTGF0IC8gMiksIDIpICtcbiAgICAgICAgTWF0aC5wb3coTWF0aC5zaW4oZExvbiAvIDIpLCAyKSAqIE1hdGguY29zKGxhdDEpICogTWF0aC5jb3MobGF0Mik7XG4gICAgcmV0dXJuIHJhZGlhbnNUb0xlbmd0aCgyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpLCBvcHRpb25zLnVuaXRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGRpc3RhbmNlO1xuIiwgImltcG9ydCBkaXN0YW5jZSBmcm9tICdAdHVyZi9kaXN0YW5jZSc7XG5cbi8qKlxuICogVGFrZXMgYSBib3VuZGluZyBib3ggYW5kIGNhbGN1bGF0ZXMgdGhlIG1pbmltdW0gc3F1YXJlIGJvdW5kaW5nIGJveCB0aGF0XG4gKiB3b3VsZCBjb250YWluIHRoZSBpbnB1dC5cbiAqXG4gKiBAbmFtZSBzcXVhcmVcbiAqIEBwYXJhbSB7QkJveH0gYmJveCBleHRlbnQgaW4gW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0gb3JkZXJcbiAqIEByZXR1cm5zIHtCQm94fSBhIHNxdWFyZSBzdXJyb3VuZGluZyBgYmJveGBcbiAqIEBleGFtcGxlXG4gKiB2YXIgYmJveCA9IFstMjAsIC0yMCwgLTE1LCAwXTtcbiAqIHZhciBzcXVhcmVkID0gdHVyZi5zcXVhcmUoYmJveCk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3R1cmYuYmJveFBvbHlnb24oYmJveCksIHR1cmYuYmJveFBvbHlnb24oc3F1YXJlZCldXG4gKi9cbmZ1bmN0aW9uIHNxdWFyZShiYm94KSB7XG4gIHZhciB3ZXN0ID0gYmJveFswXTtcbiAgdmFyIHNvdXRoID0gYmJveFsxXTtcbiAgdmFyIGVhc3QgPSBiYm94WzJdO1xuICB2YXIgbm9ydGggPSBiYm94WzNdO1xuXG4gIHZhciBob3Jpem9udGFsRGlzdGFuY2UgPSBkaXN0YW5jZShiYm94LnNsaWNlKDAsIDIpLCBbZWFzdCwgc291dGhdKTtcbiAgdmFyIHZlcnRpY2FsRGlzdGFuY2UgPSBkaXN0YW5jZShiYm94LnNsaWNlKDAsIDIpLCBbd2VzdCwgbm9ydGhdKTtcbiAgaWYgKGhvcml6b250YWxEaXN0YW5jZSA+PSB2ZXJ0aWNhbERpc3RhbmNlKSB7XG4gICAgdmFyIHZlcnRpY2FsTWlkcG9pbnQgPSAoc291dGggKyBub3J0aCkgLyAyO1xuICAgIHJldHVybiBbXG4gICAgICB3ZXN0LFxuICAgICAgdmVydGljYWxNaWRwb2ludCAtIChlYXN0IC0gd2VzdCkgLyAyLFxuICAgICAgZWFzdCxcbiAgICAgIHZlcnRpY2FsTWlkcG9pbnQgKyAoZWFzdCAtIHdlc3QpIC8gMixcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHZhciBob3Jpem9udGFsTWlkcG9pbnQgPSAod2VzdCArIGVhc3QpIC8gMjtcbiAgICByZXR1cm4gW1xuICAgICAgaG9yaXpvbnRhbE1pZHBvaW50IC0gKG5vcnRoIC0gc291dGgpIC8gMixcbiAgICAgIHNvdXRoLFxuICAgICAgaG9yaXpvbnRhbE1pZHBvaW50ICsgKG5vcnRoIC0gc291dGgpIC8gMixcbiAgICAgIG5vcnRoLFxuICAgIF07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgc3F1YXJlO1xuIiwgImltcG9ydCB7IGNvb3JkRWFjaCB9IGZyb20gXCJAdHVyZi9tZXRhXCI7XG4vKipcbiAqIFRha2VzIGEgc2V0IG9mIGZlYXR1cmVzLCBjYWxjdWxhdGVzIHRoZSBiYm94IG9mIGFsbCBpbnB1dCBmZWF0dXJlcywgYW5kIHJldHVybnMgYSBib3VuZGluZyBib3guXG4gKlxuICogQG5hbWUgYmJveFxuICogQHBhcmFtIHtHZW9KU09OfSBnZW9qc29uIGFueSBHZW9KU09OIG9iamVjdFxuICogQHJldHVybnMge0JCb3h9IGJib3ggZXh0ZW50IGluIFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXSBvcmRlclxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lID0gdHVyZi5saW5lU3RyaW5nKFtbLTc0LCA0MF0sIFstNzgsIDQyXSwgWy04MiwgMzVdXSk7XG4gKiB2YXIgYmJveCA9IHR1cmYuYmJveChsaW5lKTtcbiAqIHZhciBiYm94UG9seWdvbiA9IHR1cmYuYmJveFBvbHlnb24oYmJveCk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW2xpbmUsIGJib3hQb2x5Z29uXVxuICovXG5mdW5jdGlvbiBiYm94KGdlb2pzb24pIHtcbiAgICB2YXIgcmVzdWx0ID0gW0luZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHldO1xuICAgIGNvb3JkRWFjaChnZW9qc29uLCBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICAgICAgaWYgKHJlc3VsdFswXSA+IGNvb3JkWzBdKSB7XG4gICAgICAgICAgICByZXN1bHRbMF0gPSBjb29yZFswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0WzFdID4gY29vcmRbMV0pIHtcbiAgICAgICAgICAgIHJlc3VsdFsxXSA9IGNvb3JkWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRbMl0gPCBjb29yZFswXSkge1xuICAgICAgICAgICAgcmVzdWx0WzJdID0gY29vcmRbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFszXSA8IGNvb3JkWzFdKSB7XG4gICAgICAgICAgICByZXN1bHRbM10gPSBjb29yZFsxXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5iYm94W1wiZGVmYXVsdFwiXSA9IGJib3g7XG5leHBvcnQgZGVmYXVsdCBiYm94O1xuIiwgImltcG9ydCB7IGNvb3JkRWFjaCB9IGZyb20gXCJAdHVyZi9tZXRhXCI7XG4vKipcbiAqIFRha2VzIGEgR2VvSlNPTiBGZWF0dXJlIG9yIEZlYXR1cmVDb2xsZWN0aW9uIGFuZCB0cnVuY2F0ZXMgdGhlIHByZWNpc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gKlxuICogQG5hbWUgdHJ1bmNhdGVcbiAqIEBwYXJhbSB7R2VvSlNPTn0gZ2VvanNvbiBhbnkgR2VvSlNPTiBGZWF0dXJlLCBGZWF0dXJlQ29sbGVjdGlvbiwgR2VvbWV0cnkgb3IgR2VvbWV0cnlDb2xsZWN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucHJlY2lzaW9uPTZdIGNvb3JkaW5hdGUgZGVjaW1hbCBwcmVjaXNpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb29yZGluYXRlcz0zXSBtYXhpbXVtIG51bWJlciBvZiBjb29yZGluYXRlcyAocHJpbWFybHkgdXNlZCB0byByZW1vdmUgeiBjb29yZGluYXRlcylcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubXV0YXRlPWZhbHNlXSBhbGxvd3MgR2VvSlNPTiBpbnB1dCB0byBiZSBtdXRhdGVkIChzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpZiB0cnVlKVxuICogQHJldHVybnMge0dlb0pTT059IGxheWVyIHdpdGggdHJ1bmNhdGVkIGdlb21ldHJ5XG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50ID0gdHVyZi5wb2ludChbXG4gKiAgICAgNzAuNDY5MjMwNTU1NjY4NTksXG4gKiAgICAgNTguMTEwODg4OTA4MDI5MDYsXG4gKiAgICAgMTUwOFxuICogXSk7XG4gKiB2YXIgb3B0aW9ucyA9IHtwcmVjaXNpb246IDMsIGNvb3JkaW5hdGVzOiAyfTtcbiAqIHZhciB0cnVuY2F0ZWQgPSB0dXJmLnRydW5jYXRlKHBvaW50LCBvcHRpb25zKTtcbiAqIC8vPXRydW5jYXRlZC5nZW9tZXRyeS5jb29yZGluYXRlcyA9PiBbNzAuNDY5LCA1OC4xMTFdXG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3RydW5jYXRlZF07XG4gKi9cbmZ1bmN0aW9uIHRydW5jYXRlKGdlb2pzb24sIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAgICB2YXIgcHJlY2lzaW9uID0gb3B0aW9ucy5wcmVjaXNpb247XG4gICAgdmFyIGNvb3JkaW5hdGVzID0gb3B0aW9ucy5jb29yZGluYXRlcztcbiAgICB2YXIgbXV0YXRlID0gb3B0aW9ucy5tdXRhdGU7XG4gICAgLy8gZGVmYXVsdCBwYXJhbXNcbiAgICBwcmVjaXNpb24gPVxuICAgICAgICBwcmVjaXNpb24gPT09IHVuZGVmaW5lZCB8fCBwcmVjaXNpb24gPT09IG51bGwgfHwgaXNOYU4ocHJlY2lzaW9uKVxuICAgICAgICAgICAgPyA2XG4gICAgICAgICAgICA6IHByZWNpc2lvbjtcbiAgICBjb29yZGluYXRlcyA9XG4gICAgICAgIGNvb3JkaW5hdGVzID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXMgPT09IG51bGwgfHwgaXNOYU4oY29vcmRpbmF0ZXMpXG4gICAgICAgICAgICA/IDNcbiAgICAgICAgICAgIDogY29vcmRpbmF0ZXM7XG4gICAgLy8gdmFsaWRhdGlvblxuICAgIGlmICghZ2VvanNvbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPGdlb2pzb24+IGlzIHJlcXVpcmVkXCIpO1xuICAgIGlmICh0eXBlb2YgcHJlY2lzaW9uICE9PSBcIm51bWJlclwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8cHJlY2lzaW9uPiBtdXN0IGJlIGEgbnVtYmVyXCIpO1xuICAgIGlmICh0eXBlb2YgY29vcmRpbmF0ZXMgIT09IFwibnVtYmVyXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxjb29yZGluYXRlcz4gbXVzdCBiZSBhIG51bWJlclwiKTtcbiAgICAvLyBwcmV2ZW50IGlucHV0IG11dGF0aW9uXG4gICAgaWYgKG11dGF0ZSA9PT0gZmFsc2UgfHwgbXV0YXRlID09PSB1bmRlZmluZWQpXG4gICAgICAgIGdlb2pzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGdlb2pzb24pKTtcbiAgICB2YXIgZmFjdG9yID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gICAgLy8gVHJ1bmNhdGUgQ29vcmRpbmF0ZXNcbiAgICBjb29yZEVhY2goZ2VvanNvbiwgZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgICB0cnVuY2F0ZUNvb3Jkcyhjb29yZHMsIGZhY3RvciwgY29vcmRpbmF0ZXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBnZW9qc29uO1xufVxuLyoqXG4gKiBUcnVuY2F0ZSBDb29yZGluYXRlcyAtIE11dGF0ZXMgY29vcmRpbmF0ZXMgaW4gcGxhY2VcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBjb29yZHMgR2VvbWV0cnkgQ29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYWN0b3Igcm91bmRpbmcgZmFjdG9yIGZvciBjb29yZGluYXRlIGRlY2ltYWwgcHJlY2lzaW9uXG4gKiBAcGFyYW0ge251bWJlcn0gY29vcmRpbmF0ZXMgbWF4aW11bSBudW1iZXIgb2YgY29vcmRpbmF0ZXMgKHByaW1hcmx5IHVzZWQgdG8gcmVtb3ZlIHogY29vcmRpbmF0ZXMpXG4gKiBAcmV0dXJucyB7QXJyYXk8YW55Pn0gbXV0YXRlZCBjb29yZGluYXRlc1xuICovXG5mdW5jdGlvbiB0cnVuY2F0ZUNvb3Jkcyhjb29yZHMsIGZhY3RvciwgY29vcmRpbmF0ZXMpIHtcbiAgICAvLyBSZW1vdmUgZXh0cmEgY29vcmRpbmF0ZXMgKHVzdWFsbHkgZWxldmF0aW9uIGNvb3JkaW5hdGVzIGFuZCBtb3JlKVxuICAgIGlmIChjb29yZHMubGVuZ3RoID4gY29vcmRpbmF0ZXMpXG4gICAgICAgIGNvb3Jkcy5zcGxpY2UoY29vcmRpbmF0ZXMsIGNvb3Jkcy5sZW5ndGgpO1xuICAgIC8vIFRydW5jYXRlIGNvb3JkaW5hdGUgZGVjaW1hbHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb29yZHNbaV0gPSBNYXRoLnJvdW5kKGNvb3Jkc1tpXSAqIGZhY3RvcikgLyBmYWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBjb29yZHM7XG59XG5leHBvcnQgZGVmYXVsdCB0cnVuY2F0ZTtcbiIsICJpbXBvcnQgeyBkZWdyZWVzVG9SYWRpYW5zLCByYWRpYW5zVG9EZWdyZWVzIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbmltcG9ydCB7IGdldENvb3JkIH0gZnJvbSBcIkB0dXJmL2ludmFyaWFudFwiO1xuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IYXZlcnNpbmVfZm9ybXVsYVxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9sYXRsb25nLmh0bWxcbi8qKlxuICogVGFrZXMgdHdvIHtAbGluayBQb2ludHxwb2ludHN9IGFuZCBmaW5kcyB0aGUgZ2VvZ3JhcGhpYyBiZWFyaW5nIGJldHdlZW4gdGhlbSxcbiAqIGkuZS4gdGhlIGFuZ2xlIG1lYXN1cmVkIGluIGRlZ3JlZXMgZnJvbSB0aGUgbm9ydGggbGluZSAoMCBkZWdyZWVzKVxuICpcbiAqIEBuYW1lIGJlYXJpbmdcbiAqIEBwYXJhbSB7Q29vcmR9IHN0YXJ0IHN0YXJ0aW5nIFBvaW50XG4gKiBAcGFyYW0ge0Nvb3JkfSBlbmQgZW5kaW5nIFBvaW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmluYWw9ZmFsc2VdIGNhbGN1bGF0ZXMgdGhlIGZpbmFsIGJlYXJpbmcgaWYgdHJ1ZVxuICogQHJldHVybnMge251bWJlcn0gYmVhcmluZyBpbiBkZWNpbWFsIGRlZ3JlZXMsIGJldHdlZW4gLTE4MCBhbmQgMTgwIGRlZ3JlZXMgKHBvc2l0aXZlIGNsb2Nrd2lzZSlcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQxID0gdHVyZi5wb2ludChbLTc1LjM0MywgMzkuOTg0XSk7XG4gKiB2YXIgcG9pbnQyID0gdHVyZi5wb2ludChbLTc1LjUzNCwgMzkuMTIzXSk7XG4gKlxuICogdmFyIGJlYXJpbmcgPSB0dXJmLmJlYXJpbmcocG9pbnQxLCBwb2ludDIpO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtwb2ludDEsIHBvaW50Ml1cbiAqIHBvaW50MS5wcm9wZXJ0aWVzWydtYXJrZXItY29sb3InXSA9ICcjZjAwJ1xuICogcG9pbnQyLnByb3BlcnRpZXNbJ21hcmtlci1jb2xvciddID0gJyMwZjAnXG4gKiBwb2ludDEucHJvcGVydGllcy5iZWFyaW5nID0gYmVhcmluZ1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiZWFyaW5nKHN0YXJ0LCBlbmQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIFJldmVyc2UgY2FsY3VsYXRpb25cbiAgICBpZiAob3B0aW9ucy5maW5hbCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gY2FsY3VsYXRlRmluYWxCZWFyaW5nKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICB2YXIgY29vcmRpbmF0ZXMxID0gZ2V0Q29vcmQoc3RhcnQpO1xuICAgIHZhciBjb29yZGluYXRlczIgPSBnZXRDb29yZChlbmQpO1xuICAgIHZhciBsb24xID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczFbMF0pO1xuICAgIHZhciBsb24yID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczJbMF0pO1xuICAgIHZhciBsYXQxID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczFbMV0pO1xuICAgIHZhciBsYXQyID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczJbMV0pO1xuICAgIHZhciBhID0gTWF0aC5zaW4obG9uMiAtIGxvbjEpICogTWF0aC5jb3MobGF0Mik7XG4gICAgdmFyIGIgPSBNYXRoLmNvcyhsYXQxKSAqIE1hdGguc2luKGxhdDIpIC1cbiAgICAgICAgTWF0aC5zaW4obGF0MSkgKiBNYXRoLmNvcyhsYXQyKSAqIE1hdGguY29zKGxvbjIgLSBsb24xKTtcbiAgICByZXR1cm4gcmFkaWFuc1RvRGVncmVlcyhNYXRoLmF0YW4yKGEsIGIpKTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBGaW5hbCBCZWFyaW5nXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Q29vcmR9IHN0YXJ0IHN0YXJ0aW5nIFBvaW50XG4gKiBAcGFyYW0ge0Nvb3JkfSBlbmQgZW5kaW5nIFBvaW50XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBiZWFyaW5nXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUZpbmFsQmVhcmluZyhzdGFydCwgZW5kKSB7XG4gICAgLy8gU3dhcCBzdGFydCAmIGVuZFxuICAgIHZhciBiZWFyID0gYmVhcmluZyhlbmQsIHN0YXJ0KTtcbiAgICBiZWFyID0gKGJlYXIgKyAxODApICUgMzYwO1xuICAgIHJldHVybiBiZWFyO1xufVxuIiwgIi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGF2ZXJzaW5lX2Zvcm11bGFcbi8vIGh0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvbGF0bG9uZy5odG1sXG5pbXBvcnQgeyBkZWdyZWVzVG9SYWRpYW5zLCBsZW5ndGhUb1JhZGlhbnMsIHBvaW50LCByYWRpYW5zVG9EZWdyZWVzLCB9IGZyb20gXCJAdHVyZi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRDb29yZCB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbi8qKlxuICogVGFrZXMgYSB7QGxpbmsgUG9pbnR9IGFuZCBjYWxjdWxhdGVzIHRoZSBsb2NhdGlvbiBvZiBhIGRlc3RpbmF0aW9uIHBvaW50IGdpdmVuIGEgZGlzdGFuY2UgaW5cbiAqIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBvciBraWxvbWV0ZXJzOyBhbmQgYmVhcmluZyBpbiBkZWdyZWVzLlxuICogVGhpcyB1c2VzIHRoZSBbSGF2ZXJzaW5lIGZvcm11bGFdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGF2ZXJzaW5lX2Zvcm11bGEpIHRvIGFjY291bnQgZm9yIGdsb2JhbCBjdXJ2YXR1cmUuXG4gKlxuICogQG5hbWUgZGVzdGluYXRpb25cbiAqIEBwYXJhbSB7Q29vcmR9IG9yaWdpbiBzdGFydGluZyBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIGRpc3RhbmNlIGZyb20gdGhlIG9yaWdpbiBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgcmFuZ2luZyBmcm9tIC0xODAgdG8gMTgwXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bml0cz0na2lsb21ldGVycyddIG1pbGVzLCBraWxvbWV0ZXJzLCBkZWdyZWVzLCBvciByYWRpYW5zXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvcGVydGllcz17fV0gVHJhbnNsYXRlIHByb3BlcnRpZXMgdG8gUG9pbnRcbiAqIEByZXR1cm5zIHtGZWF0dXJlPFBvaW50Pn0gZGVzdGluYXRpb24gcG9pbnRcbiAqIEBleGFtcGxlXG4gKiB2YXIgcG9pbnQgPSB0dXJmLnBvaW50KFstNzUuMzQzLCAzOS45ODRdKTtcbiAqIHZhciBkaXN0YW5jZSA9IDUwO1xuICogdmFyIGJlYXJpbmcgPSA5MDtcbiAqIHZhciBvcHRpb25zID0ge3VuaXRzOiAnbWlsZXMnfTtcbiAqXG4gKiB2YXIgZGVzdGluYXRpb24gPSB0dXJmLmRlc3RpbmF0aW9uKHBvaW50LCBkaXN0YW5jZSwgYmVhcmluZywgb3B0aW9ucyk7XG4gKlxuICogLy9hZGRUb01hcFxuICogdmFyIGFkZFRvTWFwID0gW3BvaW50LCBkZXN0aW5hdGlvbl1cbiAqIGRlc3RpbmF0aW9uLnByb3BlcnRpZXNbJ21hcmtlci1jb2xvciddID0gJyNmMDAnO1xuICogcG9pbnQucHJvcGVydGllc1snbWFya2VyLWNvbG9yJ10gPSAnIzBmMCc7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlc3RpbmF0aW9uKG9yaWdpbiwgZGlzdGFuY2UsIGJlYXJpbmcsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIEhhbmRsZSBpbnB1dFxuICAgIHZhciBjb29yZGluYXRlczEgPSBnZXRDb29yZChvcmlnaW4pO1xuICAgIHZhciBsb25naXR1ZGUxID0gZGVncmVlc1RvUmFkaWFucyhjb29yZGluYXRlczFbMF0pO1xuICAgIHZhciBsYXRpdHVkZTEgPSBkZWdyZWVzVG9SYWRpYW5zKGNvb3JkaW5hdGVzMVsxXSk7XG4gICAgdmFyIGJlYXJpbmdSYWQgPSBkZWdyZWVzVG9SYWRpYW5zKGJlYXJpbmcpO1xuICAgIHZhciByYWRpYW5zID0gbGVuZ3RoVG9SYWRpYW5zKGRpc3RhbmNlLCBvcHRpb25zLnVuaXRzKTtcbiAgICAvLyBNYWluXG4gICAgdmFyIGxhdGl0dWRlMiA9IE1hdGguYXNpbihNYXRoLnNpbihsYXRpdHVkZTEpICogTWF0aC5jb3MocmFkaWFucykgK1xuICAgICAgICBNYXRoLmNvcyhsYXRpdHVkZTEpICogTWF0aC5zaW4ocmFkaWFucykgKiBNYXRoLmNvcyhiZWFyaW5nUmFkKSk7XG4gICAgdmFyIGxvbmdpdHVkZTIgPSBsb25naXR1ZGUxICtcbiAgICAgICAgTWF0aC5hdGFuMihNYXRoLnNpbihiZWFyaW5nUmFkKSAqIE1hdGguc2luKHJhZGlhbnMpICogTWF0aC5jb3MobGF0aXR1ZGUxKSwgTWF0aC5jb3MocmFkaWFucykgLSBNYXRoLnNpbihsYXRpdHVkZTEpICogTWF0aC5zaW4obGF0aXR1ZGUyKSk7XG4gICAgdmFyIGxuZyA9IHJhZGlhbnNUb0RlZ3JlZXMobG9uZ2l0dWRlMik7XG4gICAgdmFyIGxhdCA9IHJhZGlhbnNUb0RlZ3JlZXMobGF0aXR1ZGUyKTtcbiAgICByZXR1cm4gcG9pbnQoW2xuZywgbGF0XSwgb3B0aW9ucy5wcm9wZXJ0aWVzKTtcbn1cbiIsICJpbXBvcnQgYmVhcmluZyBmcm9tIFwiQHR1cmYvYmVhcmluZ1wiO1xuaW1wb3J0IGRpc3RhbmNlIGZyb20gXCJAdHVyZi9kaXN0YW5jZVwiO1xuaW1wb3J0IGRlc3RpbmF0aW9uIGZyb20gXCJAdHVyZi9kZXN0aW5hdGlvblwiO1xuaW1wb3J0IGxpbmVJbnRlcnNlY3RzIGZyb20gXCJAdHVyZi9saW5lLWludGVyc2VjdFwiO1xuaW1wb3J0IHsgZmxhdHRlbkVhY2ggfSBmcm9tIFwiQHR1cmYvbWV0YVwiO1xuaW1wb3J0IHsgcG9pbnQsIGxpbmVTdHJpbmcsIH0gZnJvbSBcIkB0dXJmL2hlbHBlcnNcIjtcbmltcG9ydCB7IGdldENvb3JkcyB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbi8qKlxuICogVGFrZXMgYSB7QGxpbmsgUG9pbnR9IGFuZCBhIHtAbGluayBMaW5lU3RyaW5nfSBhbmQgY2FsY3VsYXRlcyB0aGUgY2xvc2VzdCBQb2ludCBvbiB0aGUgKE11bHRpKUxpbmVTdHJpbmcuXG4gKlxuICogQG5hbWUgbmVhcmVzdFBvaW50T25MaW5lXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8TGluZVN0cmluZ3xNdWx0aUxpbmVTdHJpbmc+fSBsaW5lcyBsaW5lcyB0byBzbmFwIHRvXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8UG9pbnQ+fG51bWJlcltdfSBwdCBwb2ludCB0byBzbmFwIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVuaXRzPSdraWxvbWV0ZXJzJ10gY2FuIGJlIGRlZ3JlZXMsIHJhZGlhbnMsIG1pbGVzLCBvciBraWxvbWV0ZXJzXG4gKiBAcmV0dXJucyB7RmVhdHVyZTxQb2ludD59IGNsb3Nlc3QgcG9pbnQgb24gdGhlIGBsaW5lYCB0byBgcG9pbnRgLiBUaGUgcHJvcGVydGllcyBvYmplY3Qgd2lsbCBjb250YWluIHRocmVlIHZhbHVlczogYGluZGV4YDogY2xvc2VzdCBwb2ludCB3YXMgZm91bmQgb24gbnRoIGxpbmUgcGFydCwgYGRpc3RgOiBkaXN0YW5jZSBiZXR3ZWVuIHB0IGFuZCB0aGUgY2xvc2VzdCBwb2ludCwgYGxvY2F0aW9uYDogZGlzdGFuY2UgYWxvbmcgdGhlIGxpbmUgYmV0d2VlbiBzdGFydCBhbmQgdGhlIGNsb3Nlc3QgcG9pbnQuXG4gKiBAZXhhbXBsZVxuICogdmFyIGxpbmUgPSB0dXJmLmxpbmVTdHJpbmcoW1xuICogICAgIFstNzcuMDMxNjY5LCAzOC44Nzg2MDVdLFxuICogICAgIFstNzcuMDI5NjA5LCAzOC44ODE5NDZdLFxuICogICAgIFstNzcuMDIwMzM5LCAzOC44ODQwODRdLFxuICogICAgIFstNzcuMDI1NjYxLCAzOC44ODU4MjFdLFxuICogICAgIFstNzcuMDIxODg0LCAzOC44ODk1NjNdLFxuICogICAgIFstNzcuMDE5ODI0LCAzOC44OTIzNjhdXG4gKiBdKTtcbiAqIHZhciBwdCA9IHR1cmYucG9pbnQoWy03Ny4wMzcwNzYsIDM4Ljg4NDAxN10pO1xuICpcbiAqIHZhciBzbmFwcGVkID0gdHVyZi5uZWFyZXN0UG9pbnRPbkxpbmUobGluZSwgcHQsIHt1bml0czogJ21pbGVzJ30pO1xuICpcbiAqIC8vYWRkVG9NYXBcbiAqIHZhciBhZGRUb01hcCA9IFtsaW5lLCBwdCwgc25hcHBlZF07XG4gKiBzbmFwcGVkLnByb3BlcnRpZXNbJ21hcmtlci1jb2xvciddID0gJyMwMGYnO1xuICovXG5mdW5jdGlvbiBuZWFyZXN0UG9pbnRPbkxpbmUobGluZXMsIHB0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgY2xvc2VzdFB0ID0gcG9pbnQoW0luZmluaXR5LCBJbmZpbml0eV0sIHtcbiAgICAgICAgZGlzdDogSW5maW5pdHksXG4gICAgfSk7XG4gICAgdmFyIGxlbmd0aCA9IDAuMDtcbiAgICBmbGF0dGVuRWFjaChsaW5lcywgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgdmFyIGNvb3JkcyA9IGdldENvb3JkcyhsaW5lKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAvL3N0YXJ0XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBwb2ludChjb29yZHNbaV0pO1xuICAgICAgICAgICAgc3RhcnQucHJvcGVydGllcy5kaXN0ID0gZGlzdGFuY2UocHQsIHN0YXJ0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vc3RvcFxuICAgICAgICAgICAgdmFyIHN0b3BfMSA9IHBvaW50KGNvb3Jkc1tpICsgMV0pO1xuICAgICAgICAgICAgc3RvcF8xLnByb3BlcnRpZXMuZGlzdCA9IGRpc3RhbmNlKHB0LCBzdG9wXzEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gc2VjdGlvbkxlbmd0aFxuICAgICAgICAgICAgdmFyIHNlY3Rpb25MZW5ndGggPSBkaXN0YW5jZShzdGFydCwgc3RvcF8xLCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vcGVycGVuZGljdWxhclxuICAgICAgICAgICAgdmFyIGhlaWdodERpc3RhbmNlID0gTWF0aC5tYXgoc3RhcnQucHJvcGVydGllcy5kaXN0LCBzdG9wXzEucHJvcGVydGllcy5kaXN0KTtcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBiZWFyaW5nKHN0YXJ0LCBzdG9wXzEpO1xuICAgICAgICAgICAgdmFyIHBlcnBlbmRpY3VsYXJQdDEgPSBkZXN0aW5hdGlvbihwdCwgaGVpZ2h0RGlzdGFuY2UsIGRpcmVjdGlvbiArIDkwLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhciBwZXJwZW5kaWN1bGFyUHQyID0gZGVzdGluYXRpb24ocHQsIGhlaWdodERpc3RhbmNlLCBkaXJlY3Rpb24gLSA5MCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gbGluZUludGVyc2VjdHMobGluZVN0cmluZyhbXG4gICAgICAgICAgICAgICAgcGVycGVuZGljdWxhclB0MS5nZW9tZXRyeS5jb29yZGluYXRlcyxcbiAgICAgICAgICAgICAgICBwZXJwZW5kaWN1bGFyUHQyLmdlb21ldHJ5LmNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgXSksIGxpbmVTdHJpbmcoW3N0YXJ0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLCBzdG9wXzEuZ2VvbWV0cnkuY29vcmRpbmF0ZXNdKSk7XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0UHQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdC5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0UHQgPSBpbnRlcnNlY3QuZmVhdHVyZXNbMF07XG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0UHQucHJvcGVydGllcy5kaXN0ID0gZGlzdGFuY2UocHQsIGludGVyc2VjdFB0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RQdC5wcm9wZXJ0aWVzLmxvY2F0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoICsgZGlzdGFuY2Uoc3RhcnQsIGludGVyc2VjdFB0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFydC5wcm9wZXJ0aWVzLmRpc3QgPCBjbG9zZXN0UHQucHJvcGVydGllcy5kaXN0KSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0LnByb3BlcnRpZXMuaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQdC5wcm9wZXJ0aWVzLmxvY2F0aW9uID0gbGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0b3BfMS5wcm9wZXJ0aWVzLmRpc3QgPCBjbG9zZXN0UHQucHJvcGVydGllcy5kaXN0KSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0ID0gc3RvcF8xO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQdC5wcm9wZXJ0aWVzLmluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFB0LnByb3BlcnRpZXMubG9jYXRpb24gPSBsZW5ndGggKyBzZWN0aW9uTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVyc2VjdFB0ICYmXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0UHQucHJvcGVydGllcy5kaXN0IDwgY2xvc2VzdFB0LnByb3BlcnRpZXMuZGlzdCkge1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQdCA9IGludGVyc2VjdFB0O1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RQdC5wcm9wZXJ0aWVzLmluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsZW5ndGhcbiAgICAgICAgICAgIGxlbmd0aCArPSBzZWN0aW9uTGVuZ3RoO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb3Nlc3RQdDtcbn1cbmV4cG9ydCBkZWZhdWx0IG5lYXJlc3RQb2ludE9uTGluZTtcbiIsICJpbXBvcnQgeyBnZXRDb29yZCwgZ2V0R2VvbSB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXZlbiVFMiU4MCU5M29kZF9ydWxlXG4vLyBtb2RpZmllZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gd2hpY2ggd2FzIG1vZGlmaWVkIGZyb20gaHR0cDovL3d3dy5lY3NlLnJwaS5lZHUvSG9tZXBhZ2VzL3dyZi9SZXNlYXJjaC9TaG9ydF9Ob3Rlcy9wbnBvbHkuaHRtbFxuLyoqXG4gKiBUYWtlcyBhIHtAbGluayBQb2ludH0gYW5kIGEge0BsaW5rIFBvbHlnb259IG9yIHtAbGluayBNdWx0aVBvbHlnb259IGFuZCBkZXRlcm1pbmVzIGlmIHRoZSBwb2ludFxuICogcmVzaWRlcyBpbnNpZGUgdGhlIHBvbHlnb24uIFRoZSBwb2x5Z29uIGNhbiBiZSBjb252ZXggb3IgY29uY2F2ZS4gVGhlIGZ1bmN0aW9uIGFjY291bnRzIGZvciBob2xlcy5cbiAqXG4gKiBAbmFtZSBib29sZWFuUG9pbnRJblBvbHlnb25cbiAqIEBwYXJhbSB7Q29vcmR9IHBvaW50IGlucHV0IHBvaW50XG4gKiBAcGFyYW0ge0ZlYXR1cmU8UG9seWdvbnxNdWx0aVBvbHlnb24+fSBwb2x5Z29uIGlucHV0IHBvbHlnb24gb3IgbXVsdGlwb2x5Z29uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIE9wdGlvbmFsIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaWdub3JlQm91bmRhcnk9ZmFsc2VdIFRydWUgaWYgcG9seWdvbiBib3VuZGFyeSBzaG91bGQgYmUgaWdub3JlZCB3aGVuIGRldGVybWluaW5nIGlmXG4gKiB0aGUgcG9pbnQgaXMgaW5zaWRlIHRoZSBwb2x5Z29uIG90aGVyd2lzZSBmYWxzZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFBvaW50IGlzIGluc2lkZSB0aGUgUG9seWdvbjsgYGZhbHNlYCBpZiB0aGUgUG9pbnQgaXMgbm90IGluc2lkZSB0aGUgUG9seWdvblxuICogQGV4YW1wbGVcbiAqIHZhciBwdCA9IHR1cmYucG9pbnQoWy03NywgNDRdKTtcbiAqIHZhciBwb2x5ID0gdHVyZi5wb2x5Z29uKFtbXG4gKiAgIFstODEsIDQxXSxcbiAqICAgWy04MSwgNDddLFxuICogICBbLTcyLCA0N10sXG4gKiAgIFstNzIsIDQxXSxcbiAqICAgWy04MSwgNDFdXG4gKiBdXSk7XG4gKlxuICogdHVyZi5ib29sZWFuUG9pbnRJblBvbHlnb24ocHQsIHBvbHkpO1xuICogLy89IHRydWVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYm9vbGVhblBvaW50SW5Qb2x5Z29uKHBvaW50LCBwb2x5Z29uLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAvLyB2YWxpZGF0aW9uXG4gICAgaWYgKCFwb2ludCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwb2ludCBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFwb2x5Z29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInBvbHlnb24gaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIHZhciBwdCA9IGdldENvb3JkKHBvaW50KTtcbiAgICB2YXIgZ2VvbSA9IGdldEdlb20ocG9seWdvbik7XG4gICAgdmFyIHR5cGUgPSBnZW9tLnR5cGU7XG4gICAgdmFyIGJib3ggPSBwb2x5Z29uLmJib3g7XG4gICAgdmFyIHBvbHlzID0gZ2VvbS5jb29yZGluYXRlcztcbiAgICAvLyBRdWljayBlbGltaW5hdGlvbiBpZiBwb2ludCBpcyBub3QgaW5zaWRlIGJib3hcbiAgICBpZiAoYmJveCAmJiBpbkJCb3gocHQsIGJib3gpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIG5vcm1hbGl6ZSB0byBtdWx0aXBvbHlnb25cbiAgICBpZiAodHlwZSA9PT0gXCJQb2x5Z29uXCIpIHtcbiAgICAgICAgcG9seXMgPSBbcG9seXNdO1xuICAgIH1cbiAgICB2YXIgaW5zaWRlUG9seSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9seXMubGVuZ3RoICYmICFpbnNpZGVQb2x5OyBpKyspIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgaXQgaXMgaW4gdGhlIG91dGVyIHJpbmcgZmlyc3RcbiAgICAgICAgaWYgKGluUmluZyhwdCwgcG9seXNbaV1bMF0sIG9wdGlvbnMuaWdub3JlQm91bmRhcnkpKSB7XG4gICAgICAgICAgICB2YXIgaW5Ib2xlID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgayA9IDE7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgdGhlIHBvaW50IGluIGFueSBvZiB0aGUgaG9sZXNcbiAgICAgICAgICAgIHdoaWxlIChrIDwgcG9seXNbaV0ubGVuZ3RoICYmICFpbkhvbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5SaW5nKHB0LCBwb2x5c1tpXVtrXSwgIW9wdGlvbnMuaWdub3JlQm91bmRhcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluSG9sZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaW5Ib2xlKSB7XG4gICAgICAgICAgICAgICAgaW5zaWRlUG9seSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc2lkZVBvbHk7XG59XG4vKipcbiAqIGluUmluZ1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHB0IFt4LHldXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSByaW5nIFtbeCx5XSwgW3gseV0sLi5dXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlnbm9yZUJvdW5kYXJ5IGlnbm9yZUJvdW5kYXJ5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gaW5SaW5nXG4gKi9cbmZ1bmN0aW9uIGluUmluZyhwdCwgcmluZywgaWdub3JlQm91bmRhcnkpIHtcbiAgICB2YXIgaXNJbnNpZGUgPSBmYWxzZTtcbiAgICBpZiAocmluZ1swXVswXSA9PT0gcmluZ1tyaW5nLmxlbmd0aCAtIDFdWzBdICYmXG4gICAgICAgIHJpbmdbMF1bMV0gPT09IHJpbmdbcmluZy5sZW5ndGggLSAxXVsxXSkge1xuICAgICAgICByaW5nID0gcmluZy5zbGljZSgwLCByaW5nLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IHJpbmcubGVuZ3RoIC0gMTsgaSA8IHJpbmcubGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgIHZhciB4aSA9IHJpbmdbaV1bMF07XG4gICAgICAgIHZhciB5aSA9IHJpbmdbaV1bMV07XG4gICAgICAgIHZhciB4aiA9IHJpbmdbal1bMF07XG4gICAgICAgIHZhciB5aiA9IHJpbmdbal1bMV07XG4gICAgICAgIHZhciBvbkJvdW5kYXJ5ID0gcHRbMV0gKiAoeGkgLSB4aikgKyB5aSAqICh4aiAtIHB0WzBdKSArIHlqICogKHB0WzBdIC0geGkpID09PSAwICYmXG4gICAgICAgICAgICAoeGkgLSBwdFswXSkgKiAoeGogLSBwdFswXSkgPD0gMCAmJlxuICAgICAgICAgICAgKHlpIC0gcHRbMV0pICogKHlqIC0gcHRbMV0pIDw9IDA7XG4gICAgICAgIGlmIChvbkJvdW5kYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gIWlnbm9yZUJvdW5kYXJ5O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcnNlY3QgPSB5aSA+IHB0WzFdICE9PSB5aiA+IHB0WzFdICYmXG4gICAgICAgICAgICBwdFswXSA8ICgoeGogLSB4aSkgKiAocHRbMV0gLSB5aSkpIC8gKHlqIC0geWkpICsgeGk7XG4gICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgIGlzSW5zaWRlID0gIWlzSW5zaWRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc0luc2lkZTtcbn1cbi8qKlxuICogaW5CQm94XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UG9zaXRpb259IHB0IHBvaW50IFt4LHldXG4gKiBAcGFyYW0ge0JCb3h9IGJib3ggQkJveCBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXVxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2UgaWYgcG9pbnQgaXMgaW5zaWRlIEJCb3hcbiAqL1xuZnVuY3Rpb24gaW5CQm94KHB0LCBiYm94KSB7XG4gICAgcmV0dXJuIChiYm94WzBdIDw9IHB0WzBdICYmIGJib3hbMV0gPD0gcHRbMV0gJiYgYmJveFsyXSA+PSBwdFswXSAmJiBiYm94WzNdID49IHB0WzFdKTtcbn1cbiIsICJpbXBvcnQgeyBnZXRDb29yZCwgZ2V0Q29vcmRzIH0gZnJvbSBcIkB0dXJmL2ludmFyaWFudFwiO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBwb2ludCBpcyBvbiBhIGxpbmUuIEFjY2VwdHMgYSBvcHRpb25hbCBwYXJhbWV0ZXIgdG8gaWdub3JlIHRoZVxuICogc3RhcnQgYW5kIGVuZCB2ZXJ0aWNlcyBvZiB0aGUgbGluZXN0cmluZy5cbiAqXG4gKiBAbmFtZSBib29sZWFuUG9pbnRPbkxpbmVcbiAqIEBwYXJhbSB7Q29vcmR9IHB0IEdlb0pTT04gUG9pbnRcbiAqIEBwYXJhbSB7RmVhdHVyZTxMaW5lU3RyaW5nPn0gbGluZSBHZW9KU09OIExpbmVTdHJpbmdcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gT3B0aW9uYWwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pZ25vcmVFbmRWZXJ0aWNlcz1mYWxzZV0gd2hldGhlciB0byBpZ25vcmUgdGhlIHN0YXJ0IGFuZCBlbmQgdmVydGljZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZXBzaWxvbl0gRnJhY3Rpb25hbCBudW1iZXIgdG8gY29tcGFyZSB3aXRoIHRoZSBjcm9zcyBwcm9kdWN0IHJlc3VsdC4gVXNlZnVsIGZvciBkZWFsaW5nIHdpdGggZmxvYXRpbmcgcG9pbnRzIHN1Y2ggYXMgbG5nL2xhdCBwb2ludHNcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlXG4gKiBAZXhhbXBsZVxuICogdmFyIHB0ID0gdHVyZi5wb2ludChbMCwgMF0pO1xuICogdmFyIGxpbmUgPSB0dXJmLmxpbmVTdHJpbmcoW1stMSwgLTFdLFsxLCAxXSxbMS41LCAyLjJdXSk7XG4gKiB2YXIgaXNQb2ludE9uTGluZSA9IHR1cmYuYm9vbGVhblBvaW50T25MaW5lKHB0LCBsaW5lKTtcbiAqIC8vPXRydWVcbiAqL1xuZnVuY3Rpb24gYm9vbGVhblBvaW50T25MaW5lKHB0LCBsaW5lLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAvLyBOb3JtYWxpemUgaW5wdXRzXG4gICAgdmFyIHB0Q29vcmRzID0gZ2V0Q29vcmQocHQpO1xuICAgIHZhciBsaW5lQ29vcmRzID0gZ2V0Q29vcmRzKGxpbmUpO1xuICAgIC8vIE1haW5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVDb29yZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHZhciBpZ25vcmVCb3VuZGFyeSA9IGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucy5pZ25vcmVFbmRWZXJ0aWNlcykge1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZ25vcmVCb3VuZGFyeSA9IFwic3RhcnRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID09PSBsaW5lQ29vcmRzLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICBpZ25vcmVCb3VuZGFyeSA9IFwiZW5kXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCAmJiBpICsgMSA9PT0gbGluZUNvb3Jkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgaWdub3JlQm91bmRhcnkgPSBcImJvdGhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQb2ludE9uTGluZVNlZ21lbnQobGluZUNvb3Jkc1tpXSwgbGluZUNvb3Jkc1tpICsgMV0sIHB0Q29vcmRzLCBpZ25vcmVCb3VuZGFyeSwgdHlwZW9mIG9wdGlvbnMuZXBzaWxvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zLmVwc2lsb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDgzMzgyMy8xOTc5MDg1XG4vLyBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMyODEyMi8xMDQ4ODQ3XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1Bvc2l0aW9ufSBsaW5lU2VnbWVudFN0YXJ0IGNvb3JkIHBhaXIgb2Ygc3RhcnQgb2YgbGluZVxuICogQHBhcmFtIHtQb3NpdGlvbn0gbGluZVNlZ21lbnRFbmQgY29vcmQgcGFpciBvZiBlbmQgb2YgbGluZVxuICogQHBhcmFtIHtQb3NpdGlvbn0gcHQgY29vcmQgcGFpciBvZiBwb2ludCB0byBjaGVja1xuICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gZXhjbHVkZUJvdW5kYXJ5IHdoZXRoZXIgdGhlIHBvaW50IGlzIGFsbG93ZWQgdG8gZmFsbCBvbiB0aGUgbGluZSBlbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IGVwc2lsb24gRnJhY3Rpb25hbCBudW1iZXIgdG8gY29tcGFyZSB3aXRoIHRoZSBjcm9zcyBwcm9kdWN0IHJlc3VsdC4gVXNlZnVsIGZvciBkZWFsaW5nIHdpdGggZmxvYXRpbmcgcG9pbnRzIHN1Y2ggYXMgbG5nL2xhdCBwb2ludHNcbiAqIElmIHRydWUgd2hpY2ggZW5kIHRvIGlnbm9yZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzUG9pbnRPbkxpbmVTZWdtZW50KGxpbmVTZWdtZW50U3RhcnQsIGxpbmVTZWdtZW50RW5kLCBwdCwgZXhjbHVkZUJvdW5kYXJ5LCBlcHNpbG9uKSB7XG4gICAgdmFyIHggPSBwdFswXTtcbiAgICB2YXIgeSA9IHB0WzFdO1xuICAgIHZhciB4MSA9IGxpbmVTZWdtZW50U3RhcnRbMF07XG4gICAgdmFyIHkxID0gbGluZVNlZ21lbnRTdGFydFsxXTtcbiAgICB2YXIgeDIgPSBsaW5lU2VnbWVudEVuZFswXTtcbiAgICB2YXIgeTIgPSBsaW5lU2VnbWVudEVuZFsxXTtcbiAgICB2YXIgZHhjID0gcHRbMF0gLSB4MTtcbiAgICB2YXIgZHljID0gcHRbMV0gLSB5MTtcbiAgICB2YXIgZHhsID0geDIgLSB4MTtcbiAgICB2YXIgZHlsID0geTIgLSB5MTtcbiAgICB2YXIgY3Jvc3MgPSBkeGMgKiBkeWwgLSBkeWMgKiBkeGw7XG4gICAgaWYgKGVwc2lsb24gIT09IG51bGwpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNyb3NzKSA+IGVwc2lsb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjcm9zcyAhPT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghZXhjbHVkZUJvdW5kYXJ5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeGwpID49IE1hdGguYWJzKGR5bCkpIHtcbiAgICAgICAgICAgIHJldHVybiBkeGwgPiAwID8geDEgPD0geCAmJiB4IDw9IHgyIDogeDIgPD0geCAmJiB4IDw9IHgxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkeWwgPiAwID8geTEgPD0geSAmJiB5IDw9IHkyIDogeTIgPD0geSAmJiB5IDw9IHkxO1xuICAgIH1cbiAgICBlbHNlIGlmIChleGNsdWRlQm91bmRhcnkgPT09IFwic3RhcnRcIikge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHhsKSA+PSBNYXRoLmFicyhkeWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZHhsID4gMCA/IHgxIDwgeCAmJiB4IDw9IHgyIDogeDIgPD0geCAmJiB4IDwgeDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGR5bCA+IDAgPyB5MSA8IHkgJiYgeSA8PSB5MiA6IHkyIDw9IHkgJiYgeSA8IHkxO1xuICAgIH1cbiAgICBlbHNlIGlmIChleGNsdWRlQm91bmRhcnkgPT09IFwiZW5kXCIpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4bCkgPj0gTWF0aC5hYnMoZHlsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGR4bCA+IDAgPyB4MSA8PSB4ICYmIHggPCB4MiA6IHgyIDwgeCAmJiB4IDw9IHgxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkeWwgPiAwID8geTEgPD0geSAmJiB5IDwgeTIgOiB5MiA8IHkgJiYgeSA8PSB5MTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXhjbHVkZUJvdW5kYXJ5ID09PSBcImJvdGhcIikge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHhsKSA+PSBNYXRoLmFicyhkeWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZHhsID4gMCA/IHgxIDwgeCAmJiB4IDwgeDIgOiB4MiA8IHggJiYgeCA8IHgxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkeWwgPiAwID8geTEgPCB5ICYmIHkgPCB5MiA6IHkyIDwgeSAmJiB5IDwgeTE7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBkZWZhdWx0IGJvb2xlYW5Qb2ludE9uTGluZTtcbiIsICJpbXBvcnQgY2FsY0Jib3ggZnJvbSBcIkB0dXJmL2Jib3hcIjtcbmltcG9ydCBib29sZWFuUG9pbnRJblBvbHlnb24gZnJvbSBcIkB0dXJmL2Jvb2xlYW4tcG9pbnQtaW4tcG9seWdvblwiO1xuaW1wb3J0IGlzUG9pbnRPbkxpbmUgZnJvbSBcIkB0dXJmL2Jvb2xlYW4tcG9pbnQtb24tbGluZVwiO1xuaW1wb3J0IHsgZ2V0R2VvbSB9IGZyb20gXCJAdHVyZi9pbnZhcmlhbnRcIjtcbi8qKlxuICogQm9vbGVhbi1jb250YWlucyByZXR1cm5zIFRydWUgaWYgdGhlIHNlY29uZCBnZW9tZXRyeSBpcyBjb21wbGV0ZWx5IGNvbnRhaW5lZCBieSB0aGUgZmlyc3QgZ2VvbWV0cnkuXG4gKiBUaGUgaW50ZXJpb3JzIG9mIGJvdGggZ2VvbWV0cmllcyBtdXN0IGludGVyc2VjdCBhbmQsIHRoZSBpbnRlcmlvciBhbmQgYm91bmRhcnkgb2YgdGhlIHNlY29uZGFyeSAoZ2VvbWV0cnkgYilcbiAqIG11c3Qgbm90IGludGVyc2VjdCB0aGUgZXh0ZXJpb3Igb2YgdGhlIHByaW1hcnkgKGdlb21ldHJ5IGEpLlxuICogQm9vbGVhbi1jb250YWlucyByZXR1cm5zIHRoZSBleGFjdCBvcHBvc2l0ZSByZXN1bHQgb2YgdGhlIGBAdHVyZi9ib29sZWFuLXdpdGhpbmAuXG4gKlxuICogQG5hbWUgYm9vbGVhbkNvbnRhaW5zXG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8YW55Pn0gZmVhdHVyZTEgR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5XG4gKiBAcGFyYW0ge0dlb21ldHJ5fEZlYXR1cmU8YW55Pn0gZmVhdHVyZTIgR2VvSlNPTiBGZWF0dXJlIG9yIEdlb21ldHJ5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZS9mYWxzZVxuICogQGV4YW1wbGVcbiAqIHZhciBsaW5lID0gdHVyZi5saW5lU3RyaW5nKFtbMSwgMV0sIFsxLCAyXSwgWzEsIDNdLCBbMSwgNF1dKTtcbiAqIHZhciBwb2ludCA9IHR1cmYucG9pbnQoWzEsIDJdKTtcbiAqXG4gKiB0dXJmLmJvb2xlYW5Db250YWlucyhsaW5lLCBwb2ludCk7XG4gKiAvLz10cnVlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJvb2xlYW5Db250YWlucyhmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgICB2YXIgZ2VvbTEgPSBnZXRHZW9tKGZlYXR1cmUxKTtcbiAgICB2YXIgZ2VvbTIgPSBnZXRHZW9tKGZlYXR1cmUyKTtcbiAgICB2YXIgdHlwZTEgPSBnZW9tMS50eXBlO1xuICAgIHZhciB0eXBlMiA9IGdlb20yLnR5cGU7XG4gICAgdmFyIGNvb3JkczEgPSBnZW9tMS5jb29yZGluYXRlcztcbiAgICB2YXIgY29vcmRzMiA9IGdlb20yLmNvb3JkaW5hdGVzO1xuICAgIHN3aXRjaCAodHlwZTEpIHtcbiAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlQ29vcmRzKGNvb3JkczEsIGNvb3JkczIpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZlYXR1cmUyIFwiICsgdHlwZTIgKyBcIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICAgICAgc3dpdGNoICh0eXBlMikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNQb2ludEluTXVsdGlQb2ludChnZW9tMSwgZ2VvbTIpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJNdWx0aVBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc011bHRpUG9pbnRJbk11bHRpUG9pbnQoZ2VvbTEsIGdlb20yKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmZWF0dXJlMiBcIiArIHR5cGUyICsgXCIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZTIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUG9pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzUG9pbnRPbkxpbmUoZ2VvbTIsIGdlb20xLCB7IGlnbm9yZUVuZFZlcnRpY2VzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0xpbmVPbkxpbmUoZ2VvbTEsIGdlb20yKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTXVsdGlQb2ludFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNNdWx0aVBvaW50T25MaW5lKGdlb20xLCBnZW9tMik7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZmVhdHVyZTIgXCIgKyB0eXBlMiArIFwiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBvaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBib29sZWFuUG9pbnRJblBvbHlnb24oZ2VvbTIsIGdlb20xLCB7IGlnbm9yZUJvdW5kYXJ5OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJMaW5lU3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0xpbmVJblBvbHkoZ2VvbTEsIGdlb20yKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNQb2x5SW5Qb2x5KGdlb20xLCBnZW9tMik7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTXVsdGlQb2ludEluUG9seShnZW9tMSwgZ2VvbTIpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImZlYXR1cmUyIFwiICsgdHlwZTIgKyBcIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZmVhdHVyZTEgXCIgKyB0eXBlMSArIFwiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUG9pbnRJbk11bHRpUG9pbnQobXVsdGlQb2ludCwgcHQpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgb3V0cHV0ID0gZmFsc2U7XG4gICAgZm9yIChpID0gMDsgaSA8IG11bHRpUG9pbnQuY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNvbXBhcmVDb29yZHMobXVsdGlQb2ludC5jb29yZGluYXRlc1tpXSwgcHQuY29vcmRpbmF0ZXMpKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpUG9pbnRJbk11bHRpUG9pbnQobXVsdGlQb2ludDEsIG11bHRpUG9pbnQyKSB7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IG11bHRpUG9pbnQyLmNvb3JkaW5hdGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY29vcmQyID0gX2FbX2ldO1xuICAgICAgICB2YXIgbWF0Y2hGb3VuZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gbXVsdGlQb2ludDEuY29vcmRpbmF0ZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgY29vcmQxID0gX2NbX2JdO1xuICAgICAgICAgICAgaWYgKGNvbXBhcmVDb29yZHMoY29vcmQyLCBjb29yZDEpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXRjaEZvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aVBvaW50T25MaW5lKGxpbmVTdHJpbmcsIG11bHRpUG9pbnQpIHtcbiAgICB2YXIgaGF2ZUZvdW5kSW50ZXJpb3JQb2ludCA9IGZhbHNlO1xuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBtdWx0aVBvaW50LmNvb3JkaW5hdGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY29vcmQgPSBfYVtfaV07XG4gICAgICAgIGlmIChpc1BvaW50T25MaW5lKGNvb3JkLCBsaW5lU3RyaW5nLCB7IGlnbm9yZUVuZFZlcnRpY2VzOiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBoYXZlRm91bmRJbnRlcmlvclBvaW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG9pbnRPbkxpbmUoY29vcmQsIGxpbmVTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhhdmVGb3VuZEludGVyaW9yUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpUG9pbnRJblBvbHkocG9seWdvbiwgbXVsdGlQb2ludCkge1xuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBtdWx0aVBvaW50LmNvb3JkaW5hdGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY29vcmQgPSBfYVtfaV07XG4gICAgICAgIGlmICghYm9vbGVhblBvaW50SW5Qb2x5Z29uKGNvb3JkLCBwb2x5Z29uLCB7IGlnbm9yZUJvdW5kYXJ5OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNMaW5lT25MaW5lKGxpbmVTdHJpbmcxLCBsaW5lU3RyaW5nMikge1xuICAgIHZhciBoYXZlRm91bmRJbnRlcmlvclBvaW50ID0gZmFsc2U7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGxpbmVTdHJpbmcyLmNvb3JkaW5hdGVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY29vcmRzID0gX2FbX2ldO1xuICAgICAgICBpZiAoaXNQb2ludE9uTGluZSh7IHR5cGU6IFwiUG9pbnRcIiwgY29vcmRpbmF0ZXM6IGNvb3JkcyB9LCBsaW5lU3RyaW5nMSwge1xuICAgICAgICAgICAgaWdub3JlRW5kVmVydGljZXM6IHRydWUsXG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgICBoYXZlRm91bmRJbnRlcmlvclBvaW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG9pbnRPbkxpbmUoeyB0eXBlOiBcIlBvaW50XCIsIGNvb3JkaW5hdGVzOiBjb29yZHMgfSwgbGluZVN0cmluZzEsIHtcbiAgICAgICAgICAgIGlnbm9yZUVuZFZlcnRpY2VzOiBmYWxzZSxcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGF2ZUZvdW5kSW50ZXJpb3JQb2ludDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmVJblBvbHkocG9seWdvbiwgbGluZXN0cmluZykge1xuICAgIHZhciBvdXRwdXQgPSBmYWxzZTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHBvbHlCYm94ID0gY2FsY0Jib3gocG9seWdvbik7XG4gICAgdmFyIGxpbmVCYm94ID0gY2FsY0Jib3gobGluZXN0cmluZyk7XG4gICAgaWYgKCFkb0JCb3hPdmVybGFwKHBvbHlCYm94LCBsaW5lQmJveCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGk7IGkgPCBsaW5lc3RyaW5nLmNvb3JkaW5hdGVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICB2YXIgbWlkUG9pbnQgPSBnZXRNaWRwb2ludChsaW5lc3RyaW5nLmNvb3JkaW5hdGVzW2ldLCBsaW5lc3RyaW5nLmNvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgICAgIGlmIChib29sZWFuUG9pbnRJblBvbHlnb24oeyB0eXBlOiBcIlBvaW50XCIsIGNvb3JkaW5hdGVzOiBtaWRQb2ludCB9LCBwb2x5Z29uLCB7XG4gICAgICAgICAgICBpZ25vcmVCb3VuZGFyeTogdHJ1ZSxcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBJcyBQb2x5Z29uMiBpbiBQb2x5Z29uMVxuICogT25seSB0YWtlcyBpbnRvIGFjY291bnQgb3V0ZXIgcmluZ3NcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPFBvbHlnb24+fSBmZWF0dXJlMSBQb2x5Z29uMVxuICogQHBhcmFtIHtHZW9tZXRyeXxGZWF0dXJlPFBvbHlnb24+fSBmZWF0dXJlMiBQb2x5Z29uMlxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUvZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUG9seUluUG9seShmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgICAvLyBIYW5kbGUgTnVsbHNcbiAgICBpZiAoZmVhdHVyZTEudHlwZSA9PT0gXCJGZWF0dXJlXCIgJiYgZmVhdHVyZTEuZ2VvbWV0cnkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZmVhdHVyZTIudHlwZSA9PT0gXCJGZWF0dXJlXCIgJiYgZmVhdHVyZTIuZ2VvbWV0cnkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcG9seTFCYm94ID0gY2FsY0Jib3goZmVhdHVyZTEpO1xuICAgIHZhciBwb2x5MkJib3ggPSBjYWxjQmJveChmZWF0dXJlMik7XG4gICAgaWYgKCFkb0JCb3hPdmVybGFwKHBvbHkxQmJveCwgcG9seTJCYm94KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBjb29yZHMgPSBnZXRHZW9tKGZlYXR1cmUyKS5jb29yZGluYXRlcztcbiAgICBmb3IgKHZhciBfaSA9IDAsIGNvb3Jkc18xID0gY29vcmRzOyBfaSA8IGNvb3Jkc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcmluZyA9IGNvb3Jkc18xW19pXTtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCByaW5nXzEgPSByaW5nOyBfYSA8IHJpbmdfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciBjb29yZCA9IHJpbmdfMVtfYV07XG4gICAgICAgICAgICBpZiAoIWJvb2xlYW5Qb2ludEluUG9seWdvbihjb29yZCwgZmVhdHVyZTEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRvQkJveE92ZXJsYXAoYmJveDEsIGJib3gyKSB7XG4gICAgaWYgKGJib3gxWzBdID4gYmJveDJbMF0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYmJveDFbMl0gPCBiYm94MlsyXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChiYm94MVsxXSA+IGJib3gyWzFdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGJib3gxWzNdIDwgYmJveDJbM10pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogY29tcGFyZUNvb3Jkc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1Bvc2l0aW9ufSBwYWlyMSBwb2ludCBbeCx5XVxuICogQHBhcmFtIHtQb3NpdGlvbn0gcGFpcjIgcG9pbnQgW3gseV1cbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlL2ZhbHNlIGlmIGNvb3JkIHBhaXJzIG1hdGNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlQ29vcmRzKHBhaXIxLCBwYWlyMikge1xuICAgIHJldHVybiBwYWlyMVswXSA9PT0gcGFpcjJbMF0gJiYgcGFpcjFbMV0gPT09IHBhaXIyWzFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pZHBvaW50KHBhaXIxLCBwYWlyMikge1xuICAgIHJldHVybiBbKHBhaXIxWzBdICsgcGFpcjJbMF0pIC8gMiwgKHBhaXIxWzFdICsgcGFpcjJbMV0pIC8gMl07XG59XG4iLCAiaW1wb3J0IGxpbmVJbnRlcnNlY3QgZnJvbSAnQHR1cmYvbGluZS1pbnRlcnNlY3QnO1xuaW1wb3J0IGxpbmVTcGxpdCBmcm9tICdAdHVyZi9saW5lLXNwbGl0JztcbmltcG9ydCBib29sZWFuQ29udGFpbnMgZnJvbSAnQHR1cmYvYm9vbGVhbi1jb250YWlucyc7XG5pbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IERyYXcgZnJvbSAnLi9MLlBNLkRyYXcnO1xuaW1wb3J0IHtcbiAgZGlmZmVyZW5jZSxcbiAgZmxhdHRlblBvbHlsaW5lLFxuICBncm91cFRvTXVsdGlMaW5lU3RyaW5nLFxuICBpbnRlcnNlY3QsXG59IGZyb20gJy4uL2hlbHBlcnMvdHVyZkhlbHBlcic7XG5cbkRyYXcuQ3V0ID0gRHJhdy5Qb2x5Z29uLmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIHRoaXMuX3NoYXBlID0gJ0N1dCc7XG4gICAgdGhpcy50b29sYmFyQnV0dG9uTmFtZSA9ICdjdXRQb2x5Z29uJztcbiAgfSxcbiAgX2ZpbmlzaFNoYXBlKCkge1xuICAgIHRoaXMuX2VkaXRlZExheWVycyA9IFtdO1xuICAgIC8vIGlmIHNlbGYgaW50ZXJzZWN0aW9uIGlzIG5vdCBhbGxvd2VkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIC8vIENoZWNrIGlmIHBvbHlnb24gaW50ZXJzZWN0cyB3aGVuIGlzIGNvbXBsZXRlZCBhbmQgdGhlIGxpbmUgYmV0d2VlbiB0aGUgbGFzdCBhbmQgdGhlIGZpcnN0IHBvaW50IGlzIGRyYXduXG4gICAgICB0aGlzLl9oYW5kbGVTZWxmSW50ZXJzZWN0aW9uKHRydWUsIHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVswXSk7XG5cbiAgICAgIGlmICh0aGlzLl9kb2VzU2VsZkludGVyc2VjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgc25hcCBmaW5pc2ggaXMgcmVxdWlyZWQgYnV0IHRoZSBsYXN0IG1hcmtlciB3YXNuJ3Qgc25hcHBlZCwgZG8gbm90IGZpbmlzaCB0aGUgc2hhcGUhXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnJlcXVpcmVTbmFwVG9GaW5pc2ggJiZcbiAgICAgICF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkICYmXG4gICAgICAhdGhpcy5faXNGaXJzdExheWVyKClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgY29vcmRpbmF0ZXNcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAvLyBvbmx5IGZpbmlzaCB0aGUgc2hhcGUgaWYgdGhlcmUgYXJlIDMgb3IgbW9yZSB2ZXJ0aWNlc1xuICAgIGlmIChjb29yZHMubGVuZ3RoIDw9IDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwb2x5Z29uTGF5ZXIgPSBMLnBvbHlnb24oY29vcmRzLCB0aGlzLm9wdGlvbnMucGF0aE9wdGlvbnMpO1xuICAgIC8vIHJlYWRvdXQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxhdGxuZ3MgbGlrZSBzbmFwcGluZyBwb2ludHNcbiAgICBwb2x5Z29uTGF5ZXIuX2xhdGxuZ0luZm9zID0gdGhpcy5fbGF5ZXIuX2xhdGxuZ0luZm87XG4gICAgdGhpcy5jdXQocG9seWdvbkxheWVyKTtcblxuICAgIC8vIGNsZWFuIHVwIHNuYXBwaW5nIHN0YXRlc1xuICAgIHRoaXMuX2NsZWFudXBTbmFwcGluZygpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSBmaXJzdCB2ZXJ0ZXggZnJvbSBcIm90aGVyIHNuYXBwaW5nIGxheWVyc1wiXG4gICAgdGhpcy5fb3RoZXJTbmFwTGF5ZXJzLnNwbGljZSh0aGlzLl90ZW1wU25hcExheWVySW5kZXgsIDEpO1xuICAgIGRlbGV0ZSB0aGlzLl90ZW1wU25hcExheWVySW5kZXg7XG5cbiAgICB0aGlzLl9lZGl0ZWRMYXllcnMuZm9yRWFjaCgoeyBsYXllciwgb3JpZ2luYWxMYXllciB9KSA9PiB7XG4gICAgICAvLyBmaXJlIHBtOmN1dCBvbiB0aGUgY3V0dGVkIGxheWVyXG4gICAgICB0aGlzLl9maXJlQ3V0KG9yaWdpbmFsTGF5ZXIsIGxheWVyLCBvcmlnaW5hbExheWVyKTtcblxuICAgICAgLy8gZmlyZSBwbTpjdXQgb24gdGhlIG1hcFxuICAgICAgdGhpcy5fZmlyZUN1dCh0aGlzLl9tYXAsIGxheWVyLCBvcmlnaW5hbExheWVyKTtcblxuICAgICAgLy8gZmlyZSBlZGl0IGV2ZW50IGFmdGVyIGN1dFxuICAgICAgb3JpZ2luYWxMYXllci5wbS5fZmlyZUVkaXQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9lZGl0ZWRMYXllcnMgPSBbXTtcblxuICAgIC8vIGRpc2FibGUgZHJhd2luZ1xuICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGludWVEcmF3aW5nKSB7XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgY3V0KGxheWVyKSB7XG4gICAgY29uc3QgYWxsID0gdGhpcy5fbWFwLl9sYXllcnM7XG4gICAgLy8gY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgc25hcHBpbmcgcG9pbnRzXG4gICAgY29uc3QgX2xhdGxuZ0luZm9zID0gbGF5ZXIuX2xhdGxuZ0luZm9zIHx8IFtdO1xuXG4gICAgLy8gZmluZCBhbGwgbGF5ZXJzIHRoYXQgaW50ZXJzZWN0IHdpdGggYGxheWVyYCwgdGhlIGp1c3QgZHJhd24gY3V0dGluZyBsYXllclxuICAgIGNvbnN0IGxheWVycyA9IE9iamVjdC5rZXlzKGFsbClcbiAgICAgIC8vIGNvbnZlcnQgb2JqZWN0IHRvIGFycmF5XG4gICAgICAubWFwKChsKSA9PiBhbGxbbF0pXG4gICAgICAvLyBvbmx5IGxheWVycyBoYW5kbGVkIGJ5IGxlYWZsZXQtZ2VvbWFuXG4gICAgICAuZmlsdGVyKChsKSA9PiBsLnBtKVxuICAgICAgLmZpbHRlcigobCkgPT4gIWwuX3BtVGVtcExheWVyKVxuICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgaWdub3JlIGxlYWZsZXQtZ2VvbWFuXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAobCkgPT5cbiAgICAgICAgICAoIUwuUE0ub3B0SW4gJiYgIWwub3B0aW9ucy5wbUlnbm9yZSkgfHwgLy8gaWYgb3B0SW4gaXMgbm90IHNldCAvIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBzZXQgLyB0cnVlIChkZWZhdWx0KVxuICAgICAgICAgIChMLlBNLm9wdEluICYmIGwub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlKTtcbiAgICAgIClcbiAgICAgIC8vIG9ubHkgcG9seWxpbmUgaW5zdGFuY2VzXG4gICAgICAuZmlsdGVyKChsKSA9PiBsIGluc3RhbmNlb2YgTC5Qb2x5bGluZSlcbiAgICAgIC8vIGV4Y2x1ZGUgdGhlIGRyYXduIG9uZVxuICAgICAgLmZpbHRlcigobCkgPT4gbCAhPT0gbGF5ZXIpXG4gICAgICAvLyBsYXllciBpcyBhbGxvd2VkIHRvIGN1dFxuICAgICAgLmZpbHRlcigobCkgPT4gbC5wbS5vcHRpb25zLmFsbG93Q3V0dGluZylcbiAgICAgIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0IGlnbm9yZSBsZWFmbGV0LWdlb21hblxuICAgICAgLmZpbHRlcigobCkgPT4ge1xuICAgICAgICAvLyBUT0RPOiBhZnRlciBjdXR0aW5nIG5vdGhpbmcgZWxzZSBjYW4gYmUgY3V0dGVkIGFueW1vcmUgdW50aWwgYSBuZXcgbGlzdCBpcyBwYXNzZWQsIGJlY2F1c2UgdGhlIGxheWVycyBkb24ndCBleGlzdHMgYW55bW9yZS4gU2hvdWxkIHdlIHJlbW92ZSB0aGUgY3V0dGVkIGxheWVycyBmcm9tIHRoZSBsaXN0P1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0ICYmXG4gICAgICAgICAgTC5VdGlsLmlzQXJyYXkodGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0KSAmJlxuICAgICAgICAgIHRoaXMub3B0aW9ucy5sYXllcnNUb0N1dC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQuaW5kZXhPZihsKSA+IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSlcbiAgICAgIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0IGlnbm9yZSBsZWFmbGV0LWdlb21hblxuICAgICAgLmZpbHRlcigobCkgPT4gIXRoaXMuX2xheWVyR3JvdXAuaGFzTGF5ZXIobCkpXG4gICAgICAvLyBvbmx5IGxheWVycyB3aXRoIGludGVyc2VjdGlvbnNcbiAgICAgIC5maWx0ZXIoKGwpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBsaW5lSW50ZXIgPVxuICAgICAgICAgICAgISFsaW5lSW50ZXJzZWN0KGxheWVyLnRvR2VvSlNPTigxNSksIGwudG9HZW9KU09OKDE1KSkuZmVhdHVyZXNcbiAgICAgICAgICAgICAgLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBsaW5lSW50ZXIgfHxcbiAgICAgICAgICAgIChsIGluc3RhbmNlb2YgTC5Qb2x5bGluZSAmJiAhKGwgaW5zdGFuY2VvZiBMLlBvbHlnb24pKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGxpbmVJbnRlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICEhaW50ZXJzZWN0KGxheWVyLnRvR2VvSlNPTigxNSksIGwudG9HZW9KU09OKDE1KSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAobCBpbnN0YW5jZW9mIEwuUG9seWdvbikge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJZb3UgY2FuJ3QgY3V0IHBvbHlnb25zIHdpdGggc2VsZi1pbnRlcnNlY3Rpb25zXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBsYXllcnMgdGhhdCBpbnRlcnNlY3Qgd2l0aCB0aGUgZHJhd24gKGN1dHRpbmcpIGxheWVyXG4gICAgbGF5ZXJzLmZvckVhY2goKGwpID0+IHtcbiAgICAgIGxldCBuZXdMYXllcjtcbiAgICAgIGlmIChsIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7XG4gICAgICAgIC8vIEFsc28gZm9yIEwuUmVjdGFuZ2xlXG4gICAgICAgIC8vIGVhc2llc3Qgd2F5IHRvIGNsb25lIHRoZSBjb21wbGV0ZSBsYXRsbmdzIHdpdGhvdXQgcmVmZXJlbmNlXG4gICAgICAgIG5ld0xheWVyID0gTC5wb2x5Z29uKGwuZ2V0TGF0TG5ncygpKTtcbiAgICAgICAgY29uc3QgY29vcmRzID0gbmV3TGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgICAgIC8vIHNuYXBwaW5nIHBvaW50cyBhZGRlZCB0byB0aGUgbGF5ZXIsIHNvIGJvcmRlcnMgYXJlIGN1dHRlZCBjb3JyZWN0XG4gICAgICAgIF9sYXRsbmdJbmZvcy5mb3JFYWNoKChpbmZvKSA9PiB7XG4gICAgICAgICAgaWYgKGluZm8gJiYgaW5mby5zbmFwSW5mbykge1xuICAgICAgICAgICAgY29uc3QgeyBsYXRsbmcgfSA9IGluZm87XG4gICAgICAgICAgICAvLyBnZXQgY2xvc2VzdCBsYXllciAoID09IGlucHV0IGxheWVyKSB3aXRoIHRoZSBjbG9zZXN0IHNlZ21lbnQgdG8gdGhlIGludGVyc2VjdGlvbiBwb2ludFxuICAgICAgICAgICAgY29uc3QgY2xvc2VzdCA9IHRoaXMuX2NhbGNDbG9zZXN0TGF5ZXIobGF0bG5nLCBbbmV3TGF5ZXJdKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY2xvc2VzdCAmJlxuICAgICAgICAgICAgICBjbG9zZXN0LnNlZ21lbnQgJiZcbiAgICAgICAgICAgICAgY2xvc2VzdC5kaXN0YW5jZSA8IHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCB7IHNlZ21lbnQgfSA9IGNsb3Nlc3Q7XG4gICAgICAgICAgICAgIGlmIChzZWdtZW50ICYmIHNlZ21lbnQubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpbmRleFBhdGgsIHBhcmVudFBhdGgsIG5ld0luZGV4IH0gPVxuICAgICAgICAgICAgICAgICAgTC5QTS5VdGlscy5fZ2V0SW5kZXhGcm9tU2VnbWVudChjb29yZHMsIHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIC8vIGRlZmluZSB0aGUgY29vcmRzUmluZyB0aGF0IGlzIGVkaXRlZFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3Jkc1JpbmcgPVxuICAgICAgICAgICAgICAgICAgaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQoY29vcmRzLCBwYXJlbnRQYXRoKSA6IGNvb3JkcztcbiAgICAgICAgICAgICAgICBjb29yZHNSaW5nLnNwbGljZShuZXdJbmRleCwgMCwgbGF0bG5nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBMLlBvbHlsaW5lXG4gICAgICAgIG5ld0xheWVyID0gbDtcbiAgICAgIH1cblxuICAgICAgLy8gZmluZCBsYXllciBkaWZmZXJlbmNlXG4gICAgICBjb25zdCBkaWZmID0gdGhpcy5fY3V0TGF5ZXIobGF5ZXIsIG5ld0xheWVyKTtcblxuICAgICAgLy8gdGhlIHJlc3VsdGluZyBsYXllciBhZnRlciB0aGUgY3V0XG4gICAgICBsZXQgcmVzdWx0TGF5ZXIgPSBMLmdlb0pTT04oZGlmZiwgbC5vcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHRMYXllci5nZXRMYXllcnMoKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgW3Jlc3VsdExheWVyXSA9IHJlc3VsdExheWVyLmdldExheWVycygpOyAvLyBwcmV2ZW50IHRoYXQgYSB1bm5lY2Vzc2FyeSBsYXllcmdyb3VwIGlzIGNyZWF0ZWRcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFBhbmUocmVzdWx0TGF5ZXIsICdsYXllclBhbmUnKTtcbiAgICAgIGNvbnN0IHJlc3VsdGluZ0xheWVyID0gcmVzdWx0TGF5ZXIuYWRkVG8oXG4gICAgICAgIHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKClcbiAgICAgICk7XG4gICAgICAvLyBnaXZlIHRoZSBuZXcgbGF5ZXIgdGhlIG9yaWdpbmFsIG9wdGlvbnNcbiAgICAgIHJlc3VsdGluZ0xheWVyLnBtLmVuYWJsZShsLnBtLm9wdGlvbnMpO1xuICAgICAgcmVzdWx0aW5nTGF5ZXIucG0uZGlzYWJsZSgpO1xuXG4gICAgICAvLyBhZGQgdGVtcGxheWVyIHByb3Agc28gcG06cmVtb3ZlIGlzbid0IGZpcmVkXG4gICAgICBsLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgICBsYXllci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgICAvLyByZW1vdmUgb2xkIGxheWVyIGFuZCBjdXR0aW5nIGxheWVyXG4gICAgICBsLnJlbW92ZSgpO1xuICAgICAgbC5yZW1vdmVGcm9tKHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKCkpO1xuICAgICAgbGF5ZXIucmVtb3ZlKCk7XG4gICAgICBsYXllci5yZW1vdmVGcm9tKHRoaXMuX21hcC5wbS5fZ2V0Q29udGFpbmluZ0xheWVyKCkpO1xuXG4gICAgICAvLyBSZW1vdmUgaXQgb25seSBpZiBpdCBpcyBhIGxheWVyZ3JvdXAuIEl0IGNhbiBiZSBvbmx5IG5vdCBhIGxheWVyZ3JvdXAgaWYgYSBsYXllciBleGlzdHNcbiAgICAgIGlmIChyZXN1bHRpbmdMYXllci5nZXRMYXllcnMgJiYgcmVzdWx0aW5nTGF5ZXIuZ2V0TGF5ZXJzKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuX21hcC5wbS5yZW1vdmVMYXllcih7IHRhcmdldDogcmVzdWx0aW5nTGF5ZXIgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXN1bHRpbmdMYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICByZXN1bHRpbmdMYXllci5lYWNoTGF5ZXIoKF9sYXllcikgPT4ge1xuICAgICAgICAgIHRoaXMuX2FkZERyYXduTGF5ZXJQcm9wKF9sYXllcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9hZGREcmF3bkxheWVyUHJvcChyZXN1bHRpbmdMYXllcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hZGREcmF3bkxheWVyUHJvcChyZXN1bHRpbmdMYXllcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0ICYmXG4gICAgICAgIEwuVXRpbC5pc0FycmF5KHRoaXMub3B0aW9ucy5sYXllcnNUb0N1dCkgJiZcbiAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0Lmxlbmd0aCA+IDBcbiAgICAgICkge1xuICAgICAgICBjb25zdCBpZHggPSB0aGlzLm9wdGlvbnMubGF5ZXJzVG9DdXQuaW5kZXhPZihsKTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLmxheWVyc1RvQ3V0LnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VkaXRlZExheWVycy5wdXNoKHtcbiAgICAgICAgbGF5ZXI6IHJlc3VsdGluZ0xheWVyLFxuICAgICAgICBvcmlnaW5hbExheWVyOiBsLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG4gIF9jdXRMYXllcihsYXllciwgbCkge1xuICAgIGNvbnN0IGZnID0gTC5nZW9KU09OKCk7XG4gICAgbGV0IGRpZmY7XG4gICAgLy8gY3V0XG4gICAgaWYgKGwgaW5zdGFuY2VvZiBMLlBvbHlnb24pIHtcbiAgICAgIC8vIGZpbmQgbGF5ZXIgZGlmZmVyZW5jZVxuICAgICAgZGlmZiA9IGRpZmZlcmVuY2UobC50b0dlb0pTT04oMTUpLCBsYXllci50b0dlb0pTT04oMTUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmVhdHVyZXMgPSBmbGF0dGVuUG9seWxpbmUobCk7XG5cbiAgICAgIGZlYXR1cmVzLmZvckVhY2goKGZlYXR1cmUpID0+IHtcbiAgICAgICAgLy8gZ2V0IHNwbGl0dGVkIGxpbmUgdG8gbG9vayB3aGljaCBsaW5lIHBhcnQgaXMgY292ZXJkIGJ5IHRoZSBjdXQgcG9seWdvblxuICAgICAgICBjb25zdCBsaW5lRGlmZiA9IGxpbmVTcGxpdChmZWF0dXJlLCBsYXllci50b0dlb0pTT04oMTUpKTtcblxuICAgICAgICBsZXQgZ3JvdXA7XG4gICAgICAgIGlmIChsaW5lRGlmZiAmJiBsaW5lRGlmZi5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZ3JvdXAgPSBMLmdlb0pTT04obGluZURpZmYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdyb3VwID0gTC5nZW9KU09OKGZlYXR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuZ2V0TGF5ZXJzKCkuZm9yRWFjaCgobGF5KSA9PiB7XG4gICAgICAgICAgLy8gYWRkIG9ubHkgcGFydHMgdG8gdGhlIG1hcCwgdGhleSBhcmUgbm90IGNvdmVyZWQgYnkgdGhlIGN1dCBwb2x5Z29uXG4gICAgICAgICAgaWYgKCFib29sZWFuQ29udGFpbnMobGF5ZXIudG9HZW9KU09OKDE1KSwgbGF5LnRvR2VvSlNPTigxNSkpKSB7XG4gICAgICAgICAgICBsYXkuYWRkVG8oZmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZlYXR1cmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZGlmZiA9IGdyb3VwVG9NdWx0aUxpbmVTdHJpbmcoZmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlmZiA9IGZnLnRvR2VvSlNPTigxNSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmO1xuICB9LFxuICBfY2hhbmdlOiBMLlV0aWwuZmFsc2VGbixcbn0pO1xuIiwgImV4cG9ydCBkZWZhdWx0ICh4KSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfTtcbn07XG4iLCAiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5leHBvcnQgZGVmYXVsdCAoZXBzKSA9PiB7XG4gICAgY29uc3QgYWxtb3N0RXF1YWwgPSBlcHMgPyAoYSwgYikgPT4gYi5taW51cyhhKS5hYnMoKS5pc0xlc3NUaGFuT3JFcXVhbFRvKGVwcylcbiAgICAgICAgOiBjb25zdGFudChmYWxzZSk7XG4gICAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgICAgIGlmIChhbG1vc3RFcXVhbChhLCBiKSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gYS5jb21wYXJlZFRvKGIpO1xuICAgIH07XG59O1xuIiwgImltcG9ydCBjb25zdGFudCBmcm9tIFwiLi9jb25zdGFudC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGVwcykge1xuICAgIGNvbnN0IGFsbW9zdENvbGxpbmVhciA9IGVwcyA/IChhcmVhMiwgYXgsIGF5LCBjeCwgY3kpID0+IGFyZWEyLmV4cG9uZW50aWF0ZWRCeSgyKS5pc0xlc3NUaGFuT3JFcXVhbFRvKGN4Lm1pbnVzKGF4KS5leHBvbmVudGlhdGVkQnkoMikucGx1cyhjeS5taW51cyhheSkuZXhwb25lbnRpYXRlZEJ5KDIpKVxuICAgICAgICAudGltZXMoZXBzKSlcbiAgICAgICAgOiBjb25zdGFudChmYWxzZSk7XG4gICAgcmV0dXJuIChhLCBiLCBjKSA9PiB7XG4gICAgICAgIGNvbnN0IGF4ID0gYS54LCBheSA9IGEueSwgY3ggPSBjLngsIGN5ID0gYy55O1xuICAgICAgICBjb25zdCBhcmVhMiA9IGF5Lm1pbnVzKGN5KS50aW1lcyhiLngubWludXMoY3gpKS5taW51cyhheC5taW51cyhjeCkudGltZXMoYi55Lm1pbnVzKGN5KSkpO1xuICAgICAgICBpZiAoYWxtb3N0Q29sbGluZWFyKGFyZWEyLCBheCwgYXksIGN4LCBjeSkpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIGFyZWEyLmNvbXBhcmVkVG8oMCk7XG4gICAgfTtcbn1cbiIsICIvKlxyXG4gKiAgICAgIGJpZ251bWJlci5qcyB2OS4xLjJcclxuICogICAgICBBIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgYXJiaXRyYXJ5LXByZWNpc2lvbiBhcml0aG1ldGljLlxyXG4gKiAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZ251bWJlci5qc1xyXG4gKiAgICAgIENvcHlyaWdodCAoYykgMjAyMiBNaWNoYWVsIE1jbGF1Z2hsaW4gPE04Y2g4OGxAZ21haWwuY29tPlxyXG4gKiAgICAgIE1JVCBMaWNlbnNlZC5cclxuICpcclxuICogICAgICBCaWdOdW1iZXIucHJvdG90eXBlIG1ldGhvZHMgICAgIHwgIEJpZ051bWJlciBtZXRob2RzXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgYWJzb2x1dGVWYWx1ZSAgICAgICAgICAgIGFicyAgICB8ICBjbG9uZVxyXG4gKiAgICAgIGNvbXBhcmVkVG8gICAgICAgICAgICAgICAgICAgICAgfCAgY29uZmlnICAgICAgICAgICAgICAgc2V0XHJcbiAqICAgICAgZGVjaW1hbFBsYWNlcyAgICAgICAgICAgIGRwICAgICB8ICAgICAgREVDSU1BTF9QTEFDRVNcclxuICogICAgICBkaXZpZGVkQnkgICAgICAgICAgICAgICAgZGl2ICAgIHwgICAgICBST1VORElOR19NT0RFXHJcbiAqICAgICAgZGl2aWRlZFRvSW50ZWdlckJ5ICAgICAgIGlkaXYgICB8ICAgICAgRVhQT05FTlRJQUxfQVRcclxuICogICAgICBleHBvbmVudGlhdGVkQnkgICAgICAgICAgcG93ICAgIHwgICAgICBSQU5HRVxyXG4gKiAgICAgIGludGVnZXJWYWx1ZSAgICAgICAgICAgICAgICAgICAgfCAgICAgIENSWVBUT1xyXG4gKiAgICAgIGlzRXF1YWxUbyAgICAgICAgICAgICAgICBlcSAgICAgfCAgICAgIE1PRFVMT19NT0RFXHJcbiAqICAgICAgaXNGaW5pdGUgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgUE9XX1BSRUNJU0lPTlxyXG4gKiAgICAgIGlzR3JlYXRlclRoYW4gICAgICAgICAgICBndCAgICAgfCAgICAgIEZPUk1BVFxyXG4gKiAgICAgIGlzR3JlYXRlclRoYW5PckVxdWFsVG8gICBndGUgICAgfCAgICAgIEFMUEhBQkVUXHJcbiAqICAgICAgaXNJbnRlZ2VyICAgICAgICAgICAgICAgICAgICAgICB8ICBpc0JpZ051bWJlclxyXG4gKiAgICAgIGlzTGVzc1RoYW4gICAgICAgICAgICAgICBsdCAgICAgfCAgbWF4aW11bSAgICAgICAgICAgICAgbWF4XHJcbiAqICAgICAgaXNMZXNzVGhhbk9yRXF1YWxUbyAgICAgIGx0ZSAgICB8ICBtaW5pbXVtICAgICAgICAgICAgICBtaW5cclxuICogICAgICBpc05hTiAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIHJhbmRvbVxyXG4gKiAgICAgIGlzTmVnYXRpdmUgICAgICAgICAgICAgICAgICAgICAgfCAgc3VtXHJcbiAqICAgICAgaXNQb3NpdGl2ZSAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgaXNaZXJvICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgbWludXMgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgbW9kdWxvICAgICAgICAgICAgICAgICAgIG1vZCAgICB8XHJcbiAqICAgICAgbXVsdGlwbGllZEJ5ICAgICAgICAgICAgIHRpbWVzICB8XHJcbiAqICAgICAgbmVnYXRlZCAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgcGx1cyAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgcHJlY2lzaW9uICAgICAgICAgICAgICAgIHNkICAgICB8XHJcbiAqICAgICAgc2hpZnRlZEJ5ICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgc3F1YXJlUm9vdCAgICAgICAgICAgICAgIHNxcnQgICB8XHJcbiAqICAgICAgdG9FeHBvbmVudGlhbCAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9GaXhlZCAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9Gb3JtYXQgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9GcmFjdGlvbiAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9KU09OICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9OdW1iZXIgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9QcmVjaXNpb24gICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdG9TdHJpbmcgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqICAgICAgdmFsdWVPZiAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqXHJcbiAqL1xyXG5cclxuXHJcbnZhclxyXG4gIGlzTnVtZXJpYyA9IC9eLT8oPzpcXGQrKD86XFwuXFxkKik/fFxcLlxcZCspKD86ZVsrLV0/XFxkKyk/JC9pLFxyXG4gIG1hdGhjZWlsID0gTWF0aC5jZWlsLFxyXG4gIG1hdGhmbG9vciA9IE1hdGguZmxvb3IsXHJcblxyXG4gIGJpZ251bWJlckVycm9yID0gJ1tCaWdOdW1iZXIgRXJyb3JdICcsXHJcbiAgdG9vTWFueURpZ2l0cyA9IGJpZ251bWJlckVycm9yICsgJ051bWJlciBwcmltaXRpdmUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHM6ICcsXHJcblxyXG4gIEJBU0UgPSAxZTE0LFxyXG4gIExPR19CQVNFID0gMTQsXHJcbiAgTUFYX1NBRkVfSU5URUdFUiA9IDB4MWZmZmZmZmZmZmZmZmYsICAgICAgICAgLy8gMl41MyAtIDFcclxuICAvLyBNQVhfSU5UMzIgPSAweDdmZmZmZmZmLCAgICAgICAgICAgICAgICAgICAvLyAyXjMxIC0gMVxyXG4gIFBPV1NfVEVOID0gWzEsIDEwLCAxMDAsIDFlMywgMWU0LCAxZTUsIDFlNiwgMWU3LCAxZTgsIDFlOSwgMWUxMCwgMWUxMSwgMWUxMiwgMWUxM10sXHJcbiAgU1FSVF9CQVNFID0gMWU3LFxyXG5cclxuICAvLyBFRElUQUJMRVxyXG4gIC8vIFRoZSBsaW1pdCBvbiB0aGUgdmFsdWUgb2YgREVDSU1BTF9QTEFDRVMsIFRPX0VYUF9ORUcsIFRPX0VYUF9QT1MsIE1JTl9FWFAsIE1BWF9FWFAsIGFuZFxyXG4gIC8vIHRoZSBhcmd1bWVudHMgdG8gdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQsIGFuZCB0b1ByZWNpc2lvbi5cclxuICBNQVggPSAxRTk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWF9JTlQzMlxyXG5cclxuXHJcbi8qXHJcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgQmlnTnVtYmVyIGNvbnN0cnVjdG9yLlxyXG4gKi9cclxuZnVuY3Rpb24gY2xvbmUoY29uZmlnT2JqZWN0KSB7XHJcbiAgdmFyIGRpdiwgY29udmVydEJhc2UsIHBhcnNlTnVtZXJpYyxcclxuICAgIFAgPSBCaWdOdW1iZXIucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogQmlnTnVtYmVyLCB0b1N0cmluZzogbnVsbCwgdmFsdWVPZjogbnVsbCB9LFxyXG4gICAgT05FID0gbmV3IEJpZ051bWJlcigxKSxcclxuXHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFRElUQUJMRSBDT05GSUcgREVGQVVMVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcbiAgICAvLyBUaGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIGluY2x1c2l2ZSByYW5nZXMgc3RhdGVkLlxyXG4gICAgLy8gVGhlIHZhbHVlcyBjYW4gYWxzbyBiZSBjaGFuZ2VkIGF0IHJ1bi10aW1lIHVzaW5nIEJpZ051bWJlci5zZXQuXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGZvciBvcGVyYXRpb25zIGludm9sdmluZyBkaXZpc2lvbi5cclxuICAgIERFQ0lNQUxfUExBQ0VTID0gMjAsICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAvLyBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gcm91bmRpbmcgdG8gdGhlIGFib3ZlIGRlY2ltYWwgcGxhY2VzLCBhbmQgd2hlbiB1c2luZ1xyXG4gICAgLy8gdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQgYW5kIHRvUHJlY2lzaW9uLCBhbmQgcm91bmQgKGRlZmF1bHQgdmFsdWUpLlxyXG4gICAgLy8gVVAgICAgICAgICAwIEF3YXkgZnJvbSB6ZXJvLlxyXG4gICAgLy8gRE9XTiAgICAgICAxIFRvd2FyZHMgemVyby5cclxuICAgIC8vIENFSUwgICAgICAgMiBUb3dhcmRzICtJbmZpbml0eS5cclxuICAgIC8vIEZMT09SICAgICAgMyBUb3dhcmRzIC1JbmZpbml0eS5cclxuICAgIC8vIEhBTEZfVVAgICAgNCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdXAuXHJcbiAgICAvLyBIQUxGX0RPV04gIDUgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIGRvd24uXHJcbiAgICAvLyBIQUxGX0VWRU4gIDYgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgZXZlbiBuZWlnaGJvdXIuXHJcbiAgICAvLyBIQUxGX0NFSUwgIDcgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgLy8gSEFMRl9GTE9PUiA4IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIC1JbmZpbml0eS5cclxuICAgIFJPVU5ESU5HX01PREUgPSA0LCAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA4XHJcblxyXG4gICAgLy8gRVhQT05FTlRJQUxfQVQgOiBbVE9fRVhQX05FRyAsIFRPX0VYUF9QT1NdXHJcblxyXG4gICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBiZW5lYXRoIHdoaWNoIHRvU3RyaW5nIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAvLyBOdW1iZXIgdHlwZTogLTdcclxuICAgIFRPX0VYUF9ORUcgPSAtNywgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byAtTUFYXHJcblxyXG4gICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBhYm92ZSB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgLy8gTnVtYmVyIHR5cGU6IDIxXHJcbiAgICBUT19FWFBfUE9TID0gMjEsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYXHJcblxyXG4gICAgLy8gUkFOR0UgOiBbTUlOX0VYUCwgTUFYX0VYUF1cclxuXHJcbiAgICAvLyBUaGUgbWluaW11bSBleHBvbmVudCB2YWx1ZSwgYmVuZWF0aCB3aGljaCB1bmRlcmZsb3cgdG8gemVybyBvY2N1cnMuXHJcbiAgICAvLyBOdW1iZXIgdHlwZTogLTMyNCAgKDVlLTMyNClcclxuICAgIE1JTl9FWFAgPSAtMWU3LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLTEgdG8gLU1BWFxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IHZhbHVlLCBhYm92ZSB3aGljaCBvdmVyZmxvdyB0byBJbmZpbml0eSBvY2N1cnMuXHJcbiAgICAvLyBOdW1iZXIgdHlwZTogIDMwOCAgKDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4KVxyXG4gICAgLy8gRm9yIE1BWF9FWFAgPiAxZTcsIGUuZy4gbmV3IEJpZ051bWJlcignMWUxMDAwMDAwMDAnKS5wbHVzKDEpIG1heSBiZSBzbG93LlxyXG4gICAgTUFYX0VYUCA9IDFlNywgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIE1BWFxyXG5cclxuICAgIC8vIFdoZXRoZXIgdG8gdXNlIGNyeXB0b2dyYXBoaWNhbGx5LXNlY3VyZSByYW5kb20gbnVtYmVyIGdlbmVyYXRpb24sIGlmIGF2YWlsYWJsZS5cclxuICAgIENSWVBUTyA9IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZSBvciBmYWxzZVxyXG5cclxuICAgIC8vIFRoZSBtb2R1bG8gbW9kZSB1c2VkIHdoZW4gY2FsY3VsYXRpbmcgdGhlIG1vZHVsdXM6IGEgbW9kIG4uXHJcbiAgICAvLyBUaGUgcXVvdGllbnQgKHEgPSBhIC8gbikgaXMgY2FsY3VsYXRlZCBhY2NvcmRpbmcgdG8gdGhlIGNvcnJlc3BvbmRpbmcgcm91bmRpbmcgbW9kZS5cclxuICAgIC8vIFRoZSByZW1haW5kZXIgKHIpIGlzIGNhbGN1bGF0ZWQgYXM6IHIgPSBhIC0gbiAqIHEuXHJcbiAgICAvL1xyXG4gICAgLy8gVVAgICAgICAgIDAgVGhlIHJlbWFpbmRlciBpcyBwb3NpdGl2ZSBpZiB0aGUgZGl2aWRlbmQgaXMgbmVnYXRpdmUsIGVsc2UgaXMgbmVnYXRpdmUuXHJcbiAgICAvLyBET1dOICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZC5cclxuICAgIC8vICAgICAgICAgICAgIFRoaXMgbW9kdWxvIG1vZGUgaXMgY29tbW9ubHkga25vd24gYXMgJ3RydW5jYXRlZCBkaXZpc2lvbicgYW5kIGlzXHJcbiAgICAvLyAgICAgICAgICAgICBlcXVpdmFsZW50IHRvIChhICUgbikgaW4gSmF2YVNjcmlwdC5cclxuICAgIC8vIEZMT09SICAgICAzIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3IgKFB5dGhvbiAlKS5cclxuICAgIC8vIEhBTEZfRVZFTiA2IFRoaXMgbW9kdWxvIG1vZGUgaW1wbGVtZW50cyB0aGUgSUVFRSA3NTQgcmVtYWluZGVyIGZ1bmN0aW9uLlxyXG4gICAgLy8gRVVDTElEICAgIDkgRXVjbGlkaWFuIGRpdmlzaW9uLiBxID0gc2lnbihuKSAqIGZsb29yKGEgLyBhYnMobikpLlxyXG4gICAgLy8gICAgICAgICAgICAgVGhlIHJlbWFpbmRlciBpcyBhbHdheXMgcG9zaXRpdmUuXHJcbiAgICAvL1xyXG4gICAgLy8gVGhlIHRydW5jYXRlZCBkaXZpc2lvbiwgZmxvb3JlZCBkaXZpc2lvbiwgRXVjbGlkaWFuIGRpdmlzaW9uIGFuZCBJRUVFIDc1NCByZW1haW5kZXJcclxuICAgIC8vIG1vZGVzIGFyZSBjb21tb25seSB1c2VkIGZvciB0aGUgbW9kdWx1cyBvcGVyYXRpb24uXHJcbiAgICAvLyBBbHRob3VnaCB0aGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc28gYmUgdXNlZCwgdGhleSBtYXkgbm90IGdpdmUgdXNlZnVsIHJlc3VsdHMuXHJcbiAgICBNT0RVTE9fTU9ERSA9IDEsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOVxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHJlc3VsdCBvZiB0aGUgZXhwb25lbnRpYXRlZEJ5IG9wZXJhdGlvbi5cclxuICAgIC8vIElmIFBPV19QUkVDSVNJT04gaXMgMCwgdGhlcmUgd2lsbCBiZSB1bmxpbWl0ZWQgc2lnbmlmaWNhbnQgZGlnaXRzLlxyXG4gICAgUE9XX1BSRUNJU0lPTiA9IDAsICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWFxyXG5cclxuICAgIC8vIFRoZSBmb3JtYXQgc3BlY2lmaWNhdGlvbiB1c2VkIGJ5IHRoZSBCaWdOdW1iZXIucHJvdG90eXBlLnRvRm9ybWF0IG1ldGhvZC5cclxuICAgIEZPUk1BVCA9IHtcclxuICAgICAgcHJlZml4OiAnJyxcclxuICAgICAgZ3JvdXBTaXplOiAzLFxyXG4gICAgICBzZWNvbmRhcnlHcm91cFNpemU6IDAsXHJcbiAgICAgIGdyb3VwU2VwYXJhdG9yOiAnLCcsXHJcbiAgICAgIGRlY2ltYWxTZXBhcmF0b3I6ICcuJyxcclxuICAgICAgZnJhY3Rpb25Hcm91cFNpemU6IDAsXHJcbiAgICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3I6ICdcXHhBMCcsICAgICAgICAvLyBub24tYnJlYWtpbmcgc3BhY2VcclxuICAgICAgc3VmZml4OiAnJ1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBUaGUgYWxwaGFiZXQgdXNlZCBmb3IgYmFzZSBjb252ZXJzaW9uLiBJdCBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycyBsb25nLCB3aXRoIG5vICcrJyxcclxuICAgIC8vICctJywgJy4nLCB3aGl0ZXNwYWNlLCBvciByZXBlYXRlZCBjaGFyYWN0ZXIuXHJcbiAgICAvLyAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVokXydcclxuICAgIEFMUEhBQkVUID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicsXHJcbiAgICBhbHBoYWJldEhhc05vcm1hbERlY2ltYWxEaWdpdHMgPSB0cnVlO1xyXG5cclxuXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gIC8vIENPTlNUUlVDVE9SXHJcblxyXG5cclxuICAvKlxyXG4gICAqIFRoZSBCaWdOdW1iZXIgY29uc3RydWN0b3IgYW5kIGV4cG9ydGVkIGZ1bmN0aW9uLlxyXG4gICAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIGEgQmlnTnVtYmVyIG9iamVjdC5cclxuICAgKlxyXG4gICAqIHYge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBBIG51bWVyaWMgdmFsdWUuXHJcbiAgICogW2JdIHtudW1iZXJ9IFRoZSBiYXNlIG9mIHYuIEludGVnZXIsIDIgdG8gQUxQSEFCRVQubGVuZ3RoIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBCaWdOdW1iZXIodiwgYikge1xyXG4gICAgdmFyIGFscGhhYmV0LCBjLCBjYXNlQ2hhbmdlZCwgZSwgaSwgaXNOdW0sIGxlbiwgc3RyLFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAvLyBFbmFibGUgY29uc3RydWN0b3IgY2FsbCB3aXRob3V0IGBuZXdgLlxyXG4gICAgaWYgKCEoeCBpbnN0YW5jZW9mIEJpZ051bWJlcikpIHJldHVybiBuZXcgQmlnTnVtYmVyKHYsIGIpO1xyXG5cclxuICAgIGlmIChiID09IG51bGwpIHtcclxuXHJcbiAgICAgIGlmICh2ICYmIHYuX2lzQmlnTnVtYmVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgeC5zID0gdi5zO1xyXG5cclxuICAgICAgICBpZiAoIXYuYyB8fCB2LmUgPiBNQVhfRVhQKSB7XHJcbiAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodi5lIDwgTUlOX0VYUCkge1xyXG4gICAgICAgICAgeC5jID0gW3guZSA9IDBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LmUgPSB2LmU7XHJcbiAgICAgICAgICB4LmMgPSB2LmMuc2xpY2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKChpc051bSA9IHR5cGVvZiB2ID09ICdudW1iZXInKSAmJiB2ICogMCA9PSAwKSB7XHJcblxyXG4gICAgICAgIC8vIFVzZSBgMSAvIG5gIHRvIGhhbmRsZSBtaW51cyB6ZXJvIGFsc28uXHJcbiAgICAgICAgeC5zID0gMSAvIHYgPCAwID8gKHYgPSAtdiwgLTEpIDogMTtcclxuXHJcbiAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBpbnRlZ2Vycywgd2hlcmUgbiA8IDIxNDc0ODM2NDggKDIqKjMxKS5cclxuICAgICAgICBpZiAodiA9PT0gfn52KSB7XHJcbiAgICAgICAgICBmb3IgKGUgPSAwLCBpID0gdjsgaSA+PSAxMDsgaSAvPSAxMCwgZSsrKTtcclxuXHJcbiAgICAgICAgICBpZiAoZSA+IE1BWF9FWFApIHtcclxuICAgICAgICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICAgIHguYyA9IFt2XTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdHIgPSBTdHJpbmcodik7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGlmICghaXNOdW1lcmljLnRlc3Qoc3RyID0gU3RyaW5nKHYpKSkgcmV0dXJuIHBhcnNlTnVtZXJpYyh4LCBzdHIsIGlzTnVtKTtcclxuXHJcbiAgICAgICAgeC5zID0gc3RyLmNoYXJDb2RlQXQoMCkgPT0gNDUgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gICAgICBpZiAoKGUgPSBzdHIuaW5kZXhPZignLicpKSA+IC0xKSBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuXHJcbiAgICAgIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgICAgIGlmICgoaSA9IHN0ci5zZWFyY2goL2UvaSkpID4gMCkge1xyXG5cclxuICAgICAgICAvLyBEZXRlcm1pbmUgZXhwb25lbnQuXHJcbiAgICAgICAgaWYgKGUgPCAwKSBlID0gaTtcclxuICAgICAgICBlICs9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAgICAgLy8gSW50ZWdlci5cclxuICAgICAgICBlID0gc3RyLmxlbmd0aDtcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gQmFzZSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7Yn0nXHJcbiAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuXHJcbiAgICAgIC8vIEFsbG93IGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGJlIHVzZWQgd2l0aCBiYXNlIDEwIGFyZ3VtZW50LCB3aGlsZVxyXG4gICAgICAvLyBhbHNvIHJvdW5kaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFzIHdpdGggb3RoZXIgYmFzZXMuXHJcbiAgICAgIGlmIChiID09IDEwICYmIGFscGhhYmV0SGFzTm9ybWFsRGVjaW1hbERpZ2l0cykge1xyXG4gICAgICAgIHggPSBuZXcgQmlnTnVtYmVyKHYpO1xyXG4gICAgICAgIHJldHVybiByb3VuZCh4LCBERUNJTUFMX1BMQUNFUyArIHguZSArIDEsIFJPVU5ESU5HX01PREUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdHIgPSBTdHJpbmcodik7XHJcblxyXG4gICAgICBpZiAoaXNOdW0gPSB0eXBlb2YgdiA9PSAnbnVtYmVyJykge1xyXG5cclxuICAgICAgICAvLyBBdm9pZCBwb3RlbnRpYWwgaW50ZXJwcmV0YXRpb24gb2YgSW5maW5pdHkgYW5kIE5hTiBhcyBiYXNlIDQ0KyB2YWx1ZXMuXHJcbiAgICAgICAgaWYgKHYgKiAwICE9IDApIHJldHVybiBwYXJzZU51bWVyaWMoeCwgc3RyLCBpc051bSwgYik7XHJcblxyXG4gICAgICAgIHgucyA9IDEgLyB2IDwgMCA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XHJcblxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiB7bn0nXHJcbiAgICAgICAgaWYgKEJpZ051bWJlci5ERUJVRyAmJiBzdHIucmVwbGFjZSgvXjBcXC4wKnxcXC4vLCAnJykubGVuZ3RoID4gMTUpIHtcclxuICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgKHRvb01hbnlEaWdpdHMgKyB2KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5zID0gc3RyLmNoYXJDb2RlQXQoMCkgPT09IDQ1ID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxwaGFiZXQgPSBBTFBIQUJFVC5zbGljZSgwLCBiKTtcclxuICAgICAgZSA9IGkgPSAwO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdGhhdCBzdHIgaXMgYSB2YWxpZCBiYXNlIGIgbnVtYmVyLlxyXG4gICAgICAvLyBEb24ndCB1c2UgUmVnRXhwLCBzbyBhbHBoYWJldCBjYW4gY29udGFpbiBzcGVjaWFsIGNoYXJhY3RlcnMuXHJcbiAgICAgIGZvciAobGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFscGhhYmV0LmluZGV4T2YoYyA9IHN0ci5jaGFyQXQoaSkpIDwgMCkge1xyXG4gICAgICAgICAgaWYgKGMgPT0gJy4nKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiAnLicgaXMgbm90IHRoZSBmaXJzdCBjaGFyYWN0ZXIgYW5kIGl0IGhhcyBub3QgYmUgZm91bmQgYmVmb3JlLlxyXG4gICAgICAgICAgICBpZiAoaSA+IGUpIHtcclxuICAgICAgICAgICAgICBlID0gbGVuO1xyXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjYXNlQ2hhbmdlZCkge1xyXG5cclxuICAgICAgICAgICAgLy8gQWxsb3cgZS5nLiBoZXhhZGVjaW1hbCAnRkYnIGFzIHdlbGwgYXMgJ2ZmJy5cclxuICAgICAgICAgICAgaWYgKHN0ciA9PSBzdHIudG9VcHBlckNhc2UoKSAmJiAoc3RyID0gc3RyLnRvTG93ZXJDYXNlKCkpIHx8XHJcbiAgICAgICAgICAgICAgICBzdHIgPT0gc3RyLnRvTG93ZXJDYXNlKCkgJiYgKHN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICAgIGNhc2VDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBpID0gLTE7XHJcbiAgICAgICAgICAgICAgZSA9IDA7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gcGFyc2VOdW1lcmljKHgsIFN0cmluZyh2KSwgaXNOdW0sIGIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUHJldmVudCBsYXRlciBjaGVjayBmb3IgbGVuZ3RoIG9uIGNvbnZlcnRlZCBudW1iZXIuXHJcbiAgICAgIGlzTnVtID0gZmFsc2U7XHJcbiAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHN0ciwgYiwgMTAsIHgucyk7XHJcblxyXG4gICAgICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gICAgICBpZiAoKGUgPSBzdHIuaW5kZXhPZignLicpKSA+IC0xKSBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgICAgZWxzZSBlID0gc3RyLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgbGVhZGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IDA7IHN0ci5jaGFyQ29kZUF0KGkpID09PSA0ODsgaSsrKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKGxlbiA9IHN0ci5sZW5ndGg7IHN0ci5jaGFyQ29kZUF0KC0tbGVuKSA9PT0gNDg7KTtcclxuXHJcbiAgICBpZiAoc3RyID0gc3RyLnNsaWNlKGksICsrbGVuKSkge1xyXG4gICAgICBsZW4gLT0gaTtcclxuXHJcbiAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiB7bn0nXHJcbiAgICAgIGlmIChpc051bSAmJiBCaWdOdW1iZXIuREVCVUcgJiZcclxuICAgICAgICBsZW4gPiAxNSAmJiAodiA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdiAhPT0gbWF0aGZsb29yKHYpKSkge1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAodG9vTWFueURpZ2l0cyArICh4LnMgKiB2KSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICAvLyBPdmVyZmxvdz9cclxuICAgICAgaWYgKChlID0gZSAtIGkgLSAxKSA+IE1BWF9FWFApIHtcclxuXHJcbiAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xyXG5cclxuICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgIHguYyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBUcmFuc2Zvcm0gYmFzZVxyXG5cclxuICAgICAgICAvLyBlIGlzIHRoZSBiYXNlIDEwIGV4cG9uZW50LlxyXG4gICAgICAgIC8vIGkgaXMgd2hlcmUgdG8gc2xpY2Ugc3RyIHRvIGdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgY29lZmZpY2llbnQgYXJyYXkuXHJcbiAgICAgICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgICAgICBpZiAoZSA8IDApIGkgKz0gTE9HX0JBU0U7ICAvLyBpIDwgMVxyXG5cclxuICAgICAgICBpZiAoaSA8IGxlbikge1xyXG4gICAgICAgICAgaWYgKGkpIHguYy5wdXNoKCtzdHIuc2xpY2UoMCwgaSkpO1xyXG5cclxuICAgICAgICAgIGZvciAobGVuIC09IExPR19CQVNFOyBpIDwgbGVuOykge1xyXG4gICAgICAgICAgICB4LmMucHVzaCgrc3RyLnNsaWNlKGksIGkgKz0gTE9HX0JBU0UpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpID0gTE9HX0JBU0UgLSAoc3RyID0gc3RyLnNsaWNlKGkpKS5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGkgLT0gbGVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICg7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgeC5jLnB1c2goK3N0cik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBaZXJvLlxyXG4gICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQ09OU1RSVUNUT1IgUFJPUEVSVElFU1xyXG5cclxuXHJcbiAgQmlnTnVtYmVyLmNsb25lID0gY2xvbmU7XHJcblxyXG4gIEJpZ051bWJlci5ST1VORF9VUCA9IDA7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0RPV04gPSAxO1xyXG4gIEJpZ051bWJlci5ST1VORF9DRUlMID0gMjtcclxuICBCaWdOdW1iZXIuUk9VTkRfRkxPT1IgPSAzO1xyXG4gIEJpZ051bWJlci5ST1VORF9IQUxGX1VQID0gNDtcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9ET1dOID0gNTtcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9FVkVOID0gNjtcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9DRUlMID0gNztcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9GTE9PUiA9IDg7XHJcbiAgQmlnTnVtYmVyLkVVQ0xJRCA9IDk7XHJcblxyXG5cclxuICAvKlxyXG4gICAqIENvbmZpZ3VyZSBpbmZyZXF1ZW50bHktY2hhbmdpbmcgbGlicmFyeS13aWRlIHNldHRpbmdzLlxyXG4gICAqXHJcbiAgICogQWNjZXB0IGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWwgcHJvcGVydGllcyAoaWYgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgaXNcclxuICAgKiBhIG51bWJlciwgaXQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdpdGhpbiB0aGUgaW5jbHVzaXZlIHJhbmdlIHN0YXRlZCk6XHJcbiAgICpcclxuICAgKiAgIERFQ0lNQUxfUExBQ0VTICAge251bWJlcn0gICAgICAgICAgIDAgdG8gTUFYXHJcbiAgICogICBST1VORElOR19NT0RFICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIDhcclxuICAgKiAgIEVYUE9ORU5USUFMX0FUICAge251bWJlcnxudW1iZXJbXX0gIC1NQVggdG8gTUFYICBvciAgWy1NQVggdG8gMCwgMCB0byBNQVhdXHJcbiAgICogICBSQU5HRSAgICAgICAgICAgIHtudW1iZXJ8bnVtYmVyW119ICAtTUFYIHRvIE1BWCAobm90IHplcm8pICBvciAgWy1NQVggdG8gLTEsIDEgdG8gTUFYXVxyXG4gICAqICAgQ1JZUFRPICAgICAgICAgICB7Ym9vbGVhbn0gICAgICAgICAgdHJ1ZSBvciBmYWxzZVxyXG4gICAqICAgTU9EVUxPX01PREUgICAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byA5XHJcbiAgICogICBQT1dfUFJFQ0lTSU9OICAgICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIE1BWFxyXG4gICAqICAgQUxQSEFCRVQgICAgICAgICB7c3RyaW5nfSAgICAgICAgICAgQSBzdHJpbmcgb2YgdHdvIG9yIG1vcmUgdW5pcXVlIGNoYXJhY3RlcnMgd2hpY2ggZG9lc1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IGNvbnRhaW4gJy4nLlxyXG4gICAqICAgRk9STUFUICAgICAgICAgICB7b2JqZWN0fSAgICAgICAgICAgQW4gb2JqZWN0IHdpdGggc29tZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICogICAgIHByZWZpeCAgICAgICAgICAgICAgICAge3N0cmluZ31cclxuICAgKiAgICAgZ3JvdXBTaXplICAgICAgICAgICAgICB7bnVtYmVyfVxyXG4gICAqICAgICBzZWNvbmRhcnlHcm91cFNpemUgICAgIHtudW1iZXJ9XHJcbiAgICogICAgIGdyb3VwU2VwYXJhdG9yICAgICAgICAge3N0cmluZ31cclxuICAgKiAgICAgZGVjaW1hbFNlcGFyYXRvciAgICAgICB7c3RyaW5nfVxyXG4gICAqICAgICBmcmFjdGlvbkdyb3VwU2l6ZSAgICAgIHtudW1iZXJ9XHJcbiAgICogICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3Ige3N0cmluZ31cclxuICAgKiAgICAgc3VmZml4ICAgICAgICAgICAgICAgICB7c3RyaW5nfVxyXG4gICAqXHJcbiAgICogKFRoZSB2YWx1ZXMgYXNzaWduZWQgdG8gdGhlIGFib3ZlIEZPUk1BVCBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90IGNoZWNrZWQgZm9yIHZhbGlkaXR5LilcclxuICAgKlxyXG4gICAqIEUuZy5cclxuICAgKiBCaWdOdW1iZXIuY29uZmlnKHsgREVDSU1BTF9QTEFDRVMgOiAyMCwgUk9VTkRJTkdfTU9ERSA6IDQgfSlcclxuICAgKlxyXG4gICAqIElnbm9yZSBwcm9wZXJ0aWVzL3BhcmFtZXRlcnMgc2V0IHRvIG51bGwgb3IgdW5kZWZpbmVkLCBleGNlcHQgZm9yIEFMUEhBQkVULlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGN1cnJlbnQgdmFsdWVzLlxyXG4gICAqL1xyXG4gIEJpZ051bWJlci5jb25maWcgPSBCaWdOdW1iZXIuc2V0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgdmFyIHAsIHY7XHJcblxyXG4gICAgaWYgKG9iaiAhPSBudWxsKSB7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xyXG5cclxuICAgICAgICAvLyBERUNJTUFMX1BMQUNFUyB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIERFQ0lNQUxfUExBQ0VTIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnREVDSU1BTF9QTEFDRVMnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGludENoZWNrKHYsIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICBERUNJTUFMX1BMQUNFUyA9IHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBST1VORElOR19NT0RFIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIFJPVU5ESU5HX01PREUge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdST1VORElOR19NT0RFJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpbnRDaGVjayh2LCAwLCA4LCBwKTtcclxuICAgICAgICAgIFJPVU5ESU5HX01PREUgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRVhQT05FTlRJQUxfQVQge251bWJlcnxudW1iZXJbXX1cclxuICAgICAgICAvLyBJbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcclxuICAgICAgICAvLyBbaW50ZWdlciAtTUFYIHRvIDAgaW5jbHVzaXZlLCAwIHRvIE1BWCBpbmNsdXNpdmVdLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBFWFBPTkVOVElBTF9BVCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0VYUE9ORU5USUFMX0FUJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpZiAodiAmJiB2LnBvcCkge1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2WzBdLCAtTUFYLCAwLCBwKTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodlsxXSwgMCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgVE9fRVhQX05FRyA9IHZbMF07XHJcbiAgICAgICAgICAgIFRPX0VYUF9QT1MgPSB2WzFdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgLU1BWCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgVE9fRVhQX05FRyA9IC0oVE9fRVhQX1BPUyA9IHYgPCAwID8gLXYgOiB2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJBTkdFIHtudW1iZXJ8bnVtYmVyW119IE5vbi16ZXJvIGludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvclxyXG4gICAgICAgIC8vIFtpbnRlZ2VyIC1NQVggdG8gLTEgaW5jbHVzaXZlLCBpbnRlZ2VyIDEgdG8gTUFYIGluY2x1c2l2ZV0uXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIFJBTkdFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZXxjYW5ub3QgYmUgemVyb306IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUkFOR0UnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGlmICh2ICYmIHYucG9wKSB7XHJcbiAgICAgICAgICAgIGludENoZWNrKHZbMF0sIC1NQVgsIC0xLCBwKTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodlsxXSwgMSwgTUFYLCBwKTtcclxuICAgICAgICAgICAgTUlOX0VYUCA9IHZbMF07XHJcbiAgICAgICAgICAgIE1BWF9FWFAgPSB2WzFdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgLU1BWCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgICAgICBNSU5fRVhQID0gLShNQVhfRVhQID0gdiA8IDAgPyAtdiA6IHYpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIGNhbm5vdCBiZSB6ZXJvOiAnICsgdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENSWVBUTyB7Ym9vbGVhbn0gdHJ1ZSBvciBmYWxzZS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gQ1JZUFRPIG5vdCB0cnVlIG9yIGZhbHNlOiB7dn0nXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIGNyeXB0byB1bmF2YWlsYWJsZSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnQ1JZUFRPJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpZiAodiA9PT0gISF2KSB7XHJcbiAgICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvICYmXHJcbiAgICAgICAgICAgICAgIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIHx8IGNyeXB0by5yYW5kb21CeXRlcykpIHtcclxuICAgICAgICAgICAgICAgIENSWVBUTyA9IHY7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIENSWVBUTyA9ICF2O1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIENSWVBUTyA9IHY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBub3QgdHJ1ZSBvciBmYWxzZTogJyArIHYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTU9EVUxPX01PREUge251bWJlcn0gSW50ZWdlciwgMCB0byA5IGluY2x1c2l2ZS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTU9EVUxPX01PREUge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdNT0RVTE9fTU9ERScpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaW50Q2hlY2sodiwgMCwgOSwgcCk7XHJcbiAgICAgICAgICBNT0RVTE9fTU9ERSA9IHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQT1dfUFJFQ0lTSU9OIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gUE9XX1BSRUNJU0lPTiB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ1BPV19QUkVDSVNJT04nKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGludENoZWNrKHYsIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICBQT1dfUFJFQ0lTSU9OID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZPUk1BVCB7b2JqZWN0fVxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBGT1JNQVQgbm90IGFuIG9iamVjdDoge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdGT1JNQVQnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGlmICh0eXBlb2YgdiA9PSAnb2JqZWN0JykgRk9STUFUID0gdjtcclxuICAgICAgICAgIGVsc2UgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBub3QgYW4gb2JqZWN0OiAnICsgdik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBTFBIQUJFVCB7c3RyaW5nfVxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBBTFBIQUJFVCBpbnZhbGlkOiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0FMUEhBQkVUJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcblxyXG4gICAgICAgICAgLy8gRGlzYWxsb3cgaWYgbGVzcyB0aGFuIHR3byBjaGFyYWN0ZXJzLFxyXG4gICAgICAgICAgLy8gb3IgaWYgaXQgY29udGFpbnMgJysnLCAnLScsICcuJywgd2hpdGVzcGFjZSwgb3IgYSByZXBlYXRlZCBjaGFyYWN0ZXIuXHJcbiAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ3N0cmluZycgJiYgIS9eLj8kfFsrXFwtLlxcc118KC4pLipcXDEvLnRlc3QodikpIHtcclxuICAgICAgICAgICAgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzID0gdi5zbGljZSgwLCAxMCkgPT0gJzAxMjM0NTY3ODknO1xyXG4gICAgICAgICAgICBBTFBIQUJFVCA9IHY7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgaW52YWxpZDogJyArIHYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBPYmplY3QgZXhwZWN0ZWQ6IHt2fSdcclxuICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnT2JqZWN0IGV4cGVjdGVkOiAnICsgb2JqKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIERFQ0lNQUxfUExBQ0VTOiBERUNJTUFMX1BMQUNFUyxcclxuICAgICAgUk9VTkRJTkdfTU9ERTogUk9VTkRJTkdfTU9ERSxcclxuICAgICAgRVhQT05FTlRJQUxfQVQ6IFtUT19FWFBfTkVHLCBUT19FWFBfUE9TXSxcclxuICAgICAgUkFOR0U6IFtNSU5fRVhQLCBNQVhfRVhQXSxcclxuICAgICAgQ1JZUFRPOiBDUllQVE8sXHJcbiAgICAgIE1PRFVMT19NT0RFOiBNT0RVTE9fTU9ERSxcclxuICAgICAgUE9XX1BSRUNJU0lPTjogUE9XX1BSRUNJU0lPTixcclxuICAgICAgRk9STUFUOiBGT1JNQVQsXHJcbiAgICAgIEFMUEhBQkVUOiBBTFBIQUJFVFxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB2IGlzIGEgQmlnTnVtYmVyIGluc3RhbmNlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICogSWYgQmlnTnVtYmVyLkRFQlVHIGlzIHRydWUsIHRocm93IGlmIGEgQmlnTnVtYmVyIGluc3RhbmNlIGlzIG5vdCB3ZWxsLWZvcm1lZC5cclxuICAgKlxyXG4gICAqIHYge2FueX1cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBJbnZhbGlkIEJpZ051bWJlcjoge3Z9J1xyXG4gICAqL1xyXG4gIEJpZ051bWJlci5pc0JpZ051bWJlciA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICBpZiAoIXYgfHwgdi5faXNCaWdOdW1iZXIgIT09IHRydWUpIHJldHVybiBmYWxzZTtcclxuICAgIGlmICghQmlnTnVtYmVyLkRFQlVHKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB2YXIgaSwgbixcclxuICAgICAgYyA9IHYuYyxcclxuICAgICAgZSA9IHYuZSxcclxuICAgICAgcyA9IHYucztcclxuXHJcbiAgICBvdXQ6IGlmICh7fS50b1N0cmluZy5jYWxsKGMpID09ICdbb2JqZWN0IEFycmF5XScpIHtcclxuXHJcbiAgICAgIGlmICgocyA9PT0gMSB8fCBzID09PSAtMSkgJiYgZSA+PSAtTUFYICYmIGUgPD0gTUFYICYmIGUgPT09IG1hdGhmbG9vcihlKSkge1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgZmlyc3QgZWxlbWVudCBpcyB6ZXJvLCB0aGUgQmlnTnVtYmVyIHZhbHVlIG11c3QgYmUgemVyby5cclxuICAgICAgICBpZiAoY1swXSA9PT0gMCkge1xyXG4gICAgICAgICAgaWYgKGUgPT09IDAgJiYgYy5sZW5ndGggPT09IDEpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgYnJlYWsgb3V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG51bWJlciBvZiBkaWdpdHMgdGhhdCBjWzBdIHNob3VsZCBoYXZlLCBiYXNlZCBvbiB0aGUgZXhwb25lbnQuXHJcbiAgICAgICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgICAgICBpZiAoaSA8IDEpIGkgKz0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBudW1iZXIgb2YgZGlnaXRzIG9mIGNbMF0uXHJcbiAgICAgICAgLy9pZiAoTWF0aC5jZWlsKE1hdGgubG9nKGNbMF0gKyAxKSAvIE1hdGguTE4xMCkgPT0gaSkge1xyXG4gICAgICAgIGlmIChTdHJpbmcoY1swXSkubGVuZ3RoID09IGkpIHtcclxuXHJcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBuID0gY1tpXTtcclxuICAgICAgICAgICAgaWYgKG4gPCAwIHx8IG4gPj0gQkFTRSB8fCBuICE9PSBtYXRoZmxvb3IobikpIGJyZWFrIG91dDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBMYXN0IGVsZW1lbnQgY2Fubm90IGJlIHplcm8sIHVubGVzcyBpdCBpcyB0aGUgb25seSBlbGVtZW50LlxyXG4gICAgICAgICAgaWYgKG4gIT09IDApIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIC8vIEluZmluaXR5L05hTlxyXG4gICAgfSBlbHNlIGlmIChjID09PSBudWxsICYmIGUgPT09IG51bGwgJiYgKHMgPT09IG51bGwgfHwgcyA9PT0gMSB8fCBzID09PSAtMSkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgRXJyb3JcclxuICAgICAgKGJpZ251bWJlckVycm9yICsgJ0ludmFsaWQgQmlnTnVtYmVyOiAnICsgdik7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIubWF4aW11bSA9IEJpZ051bWJlci5tYXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCAtMSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIubWluaW11bSA9IEJpZ051bWJlci5taW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCAxKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdpdGggYSByYW5kb20gdmFsdWUgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxLFxyXG4gICAqIGFuZCB3aXRoIGRwLCBvciBERUNJTUFMX1BMQUNFUyBpZiBkcCBpcyBvbWl0dGVkLCBkZWNpbWFsIHBsYWNlcyAob3IgbGVzcyBpZiB0cmFpbGluZ1xyXG4gICAqIHplcm9zIGFyZSBwcm9kdWNlZCkuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfSdcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gY3J5cHRvIHVuYXZhaWxhYmxlJ1xyXG4gICAqL1xyXG4gIEJpZ051bWJlci5yYW5kb20gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHBvdzJfNTMgPSAweDIwMDAwMDAwMDAwMDAwO1xyXG5cclxuICAgIC8vIFJldHVybiBhIDUzIGJpdCBpbnRlZ2VyIG4sIHdoZXJlIDAgPD0gbiA8IDkwMDcxOTkyNTQ3NDA5OTIuXHJcbiAgICAvLyBDaGVjayBpZiBNYXRoLnJhbmRvbSgpIHByb2R1Y2VzIG1vcmUgdGhhbiAzMiBiaXRzIG9mIHJhbmRvbW5lc3MuXHJcbiAgICAvLyBJZiBpdCBkb2VzLCBhc3N1bWUgYXQgbGVhc3QgNTMgYml0cyBhcmUgcHJvZHVjZWQsIG90aGVyd2lzZSBhc3N1bWUgYXQgbGVhc3QgMzAgYml0cy5cclxuICAgIC8vIDB4NDAwMDAwMDAgaXMgMl4zMCwgMHg4MDAwMDAgaXMgMl4yMywgMHgxZmZmZmYgaXMgMl4yMSAtIDEuXHJcbiAgICB2YXIgcmFuZG9tNTNiaXRJbnQgPSAoTWF0aC5yYW5kb20oKSAqIHBvdzJfNTMpICYgMHgxZmZmZmZcclxuICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGhmbG9vcihNYXRoLnJhbmRvbSgpICogcG93Ml81Myk7IH1cclxuICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICgoTWF0aC5yYW5kb20oKSAqIDB4NDAwMDAwMDAgfCAwKSAqIDB4ODAwMDAwKSArXHJcbiAgICAgICAoTWF0aC5yYW5kb20oKSAqIDB4ODAwMDAwIHwgMCk7IH07XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkcCkge1xyXG4gICAgICB2YXIgYSwgYiwgZSwgaywgdixcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBjID0gW10sXHJcbiAgICAgICAgcmFuZCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuXHJcbiAgICAgIGlmIChkcCA9PSBudWxsKSBkcCA9IERFQ0lNQUxfUExBQ0VTO1xyXG4gICAgICBlbHNlIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG5cclxuICAgICAgayA9IG1hdGhjZWlsKGRwIC8gTE9HX0JBU0UpO1xyXG5cclxuICAgICAgaWYgKENSWVBUTykge1xyXG5cclxuICAgICAgICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgICAgICAgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuXHJcbiAgICAgICAgICBhID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoayAqPSAyKSk7XHJcblxyXG4gICAgICAgICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgICAgICAgLy8gNTMgYml0czpcclxuICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSAqIE1hdGgucG93KDIsIDIxKSkudG9TdHJpbmcoMilcclxuICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDBcclxuICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSA+Pj4gMTEpLnRvU3RyaW5nKDIpXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgIC8vIDB4MjAwMDAgaXMgMl4yMS5cclxuICAgICAgICAgICAgdiA9IGFbaV0gKiAweDIwMDAwICsgKGFbaSArIDFdID4+PiAxMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZWplY3Rpb24gc2FtcGxpbmc6XHJcbiAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgLy8gUHJvYmFiaWxpdHkgdGhhdCB2ID49IDllMTUsIGlzXHJcbiAgICAgICAgICAgIC8vIDcxOTkyNTQ3NDA5OTIgLyA5MDA3MTk5MjU0NzQwOTkyIH49IDAuMDAwOCwgaS5lLiAxIGluIDEyNTFcclxuICAgICAgICAgICAgaWYgKHYgPj0gOWUxNSkge1xyXG4gICAgICAgICAgICAgIGIgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgyKSk7XHJcbiAgICAgICAgICAgICAgYVtpXSA9IGJbMF07XHJcbiAgICAgICAgICAgICAgYVtpICsgMV0gPSBiWzFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyAwIDw9IHYgPD0gODk5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgaSArPSAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpID0gayAvIDI7XHJcblxyXG4gICAgICAgIC8vIE5vZGUuanMgc3VwcG9ydGluZyBjcnlwdG8ucmFuZG9tQnl0ZXMuXHJcbiAgICAgICAgfSBlbHNlIGlmIChjcnlwdG8ucmFuZG9tQnl0ZXMpIHtcclxuXHJcbiAgICAgICAgICAvLyBidWZmZXJcclxuICAgICAgICAgIGEgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoayAqPSA3KTtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcblxyXG4gICAgICAgICAgICAvLyAweDEwMDAwMDAwMDAwMDAgaXMgMl40OCwgMHgxMDAwMDAwMDAwMCBpcyAyXjQwXHJcbiAgICAgICAgICAgIC8vIDB4MTAwMDAwMDAwIGlzIDJeMzIsIDB4MTAwMDAwMCBpcyAyXjI0XHJcbiAgICAgICAgICAgIC8vIDExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgdiA9ICgoYVtpXSAmIDMxKSAqIDB4MTAwMDAwMDAwMDAwMCkgKyAoYVtpICsgMV0gKiAweDEwMDAwMDAwMDAwKSArXHJcbiAgICAgICAgICAgICAgIChhW2kgKyAyXSAqIDB4MTAwMDAwMDAwKSArIChhW2kgKyAzXSAqIDB4MTAwMDAwMCkgK1xyXG4gICAgICAgICAgICAgICAoYVtpICsgNF0gPDwgMTYpICsgKGFbaSArIDVdIDw8IDgpICsgYVtpICsgNl07XHJcblxyXG4gICAgICAgICAgICBpZiAodiA+PSA5ZTE1KSB7XHJcbiAgICAgICAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDcpLmNvcHkoYSwgaSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgaSArPSA3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpID0gayAvIDc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIENSWVBUTyA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVc2UgTWF0aC5yYW5kb20uXHJcbiAgICAgIGlmICghQ1JZUFRPKSB7XHJcblxyXG4gICAgICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgICAgIHYgPSByYW5kb201M2JpdEludCgpO1xyXG4gICAgICAgICAgaWYgKHYgPCA5ZTE1KSBjW2krK10gPSB2ICUgMWUxNDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGsgPSBjWy0taV07XHJcbiAgICAgIGRwICU9IExPR19CQVNFO1xyXG5cclxuICAgICAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIGRwLlxyXG4gICAgICBpZiAoayAmJiBkcCkge1xyXG4gICAgICAgIHYgPSBQT1dTX1RFTltMT0dfQkFTRSAtIGRwXTtcclxuICAgICAgICBjW2ldID0gbWF0aGZsb29yKGsgLyB2KSAqIHY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBlbGVtZW50cyB3aGljaCBhcmUgemVyby5cclxuICAgICAgZm9yICg7IGNbaV0gPT09IDA7IGMucG9wKCksIGktLSk7XHJcblxyXG4gICAgICAvLyBaZXJvP1xyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICBjID0gW2UgPSAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgZWxlbWVudHMgd2hpY2ggYXJlIHplcm8gYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICBmb3IgKGUgPSAtMSA7IGNbMF0gPT09IDA7IGMuc3BsaWNlKDAsIDEpLCBlIC09IExPR19CQVNFKTtcclxuXHJcbiAgICAgICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiBjIHRvIGRldGVybWluZSBsZWFkaW5nIHplcm9zLCBhbmQuLi5cclxuICAgICAgICBmb3IgKGkgPSAxLCB2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgICAgLy8gYWRqdXN0IHRoZSBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICBpZiAoaSA8IExPR19CQVNFKSBlIC09IExPR19CQVNFIC0gaTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmFuZC5lID0gZTtcclxuICAgICAgcmFuZC5jID0gYztcclxuICAgICAgcmV0dXJuIHJhbmQ7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAgLypcclxuICAgKiBSZXR1cm4gYSBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIuc3VtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGkgPSAxLFxyXG4gICAgICBhcmdzID0gYXJndW1lbnRzLFxyXG4gICAgICBzdW0gPSBuZXcgQmlnTnVtYmVyKGFyZ3NbMF0pO1xyXG4gICAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDspIHN1bSA9IHN1bS5wbHVzKGFyZ3NbaSsrXSk7XHJcbiAgICByZXR1cm4gc3VtO1xyXG4gIH07XHJcblxyXG5cclxuICAvLyBQUklWQVRFIEZVTkNUSU9OU1xyXG5cclxuXHJcbiAgLy8gQ2FsbGVkIGJ5IEJpZ051bWJlciBhbmQgQmlnTnVtYmVyLnByb3RvdHlwZS50b1N0cmluZy5cclxuICBjb252ZXJ0QmFzZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGVjaW1hbCA9ICcwMTIzNDU2Nzg5JztcclxuXHJcbiAgICAvKlxyXG4gICAgICogQ29udmVydCBzdHJpbmcgb2YgYmFzZUluIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYmFzZU91dC5cclxuICAgICAqIEVnLiB0b0Jhc2VPdXQoJzI1NScsIDEwLCAxNikgcmV0dXJucyBbMTUsIDE1XS5cclxuICAgICAqIEVnLiB0b0Jhc2VPdXQoJ2ZmJywgMTYsIDEwKSByZXR1cm5zIFsyLCA1LCA1XS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0LCBhbHBoYWJldCkge1xyXG4gICAgICB2YXIgaixcclxuICAgICAgICBhcnIgPSBbMF0sXHJcbiAgICAgICAgYXJyTCxcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgZm9yICg7IGkgPCBsZW47KSB7XHJcbiAgICAgICAgZm9yIChhcnJMID0gYXJyLmxlbmd0aDsgYXJyTC0tOyBhcnJbYXJyTF0gKj0gYmFzZUluKTtcclxuXHJcbiAgICAgICAgYXJyWzBdICs9IGFscGhhYmV0LmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKTtcclxuXHJcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG5cclxuICAgICAgICAgIGlmIChhcnJbal0gPiBiYXNlT3V0IC0gMSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PSBudWxsKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICAgICAgYXJyW2ogKyAxXSArPSBhcnJbal0gLyBiYXNlT3V0IHwgMDtcclxuICAgICAgICAgICAgYXJyW2pdICU9IGJhc2VPdXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZUluIHRvIGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZU91dC5cclxuICAgIC8vIElmIHRoZSBjYWxsZXIgaXMgdG9TdHJpbmcsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZSAxMCB0byBiYXNlT3V0LlxyXG4gICAgLy8gSWYgdGhlIGNhbGxlciBpcyBCaWdOdW1iZXIsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZUluIHRvIGJhc2UgMTAuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0ciwgYmFzZUluLCBiYXNlT3V0LCBzaWduLCBjYWxsZXJJc1RvU3RyaW5nKSB7XHJcbiAgICAgIHZhciBhbHBoYWJldCwgZCwgZSwgaywgciwgeCwgeGMsIHksXHJcbiAgICAgICAgaSA9IHN0ci5pbmRleE9mKCcuJyksXHJcbiAgICAgICAgZHAgPSBERUNJTUFMX1BMQUNFUyxcclxuICAgICAgICBybSA9IFJPVU5ESU5HX01PREU7XHJcblxyXG4gICAgICAvLyBOb24taW50ZWdlci5cclxuICAgICAgaWYgKGkgPj0gMCkge1xyXG4gICAgICAgIGsgPSBQT1dfUFJFQ0lTSU9OO1xyXG5cclxuICAgICAgICAvLyBVbmxpbWl0ZWQgcHJlY2lzaW9uLlxyXG4gICAgICAgIFBPV19QUkVDSVNJT04gPSAwO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKGJhc2VJbik7XHJcbiAgICAgICAgeCA9IHkucG93KHN0ci5sZW5ndGggLSBpKTtcclxuICAgICAgICBQT1dfUFJFQ0lTSU9OID0gaztcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBzdHIgYXMgaWYgYW4gaW50ZWdlciwgdGhlbiByZXN0b3JlIHRoZSBmcmFjdGlvbiBwYXJ0IGJ5IGRpdmlkaW5nIHRoZVxyXG4gICAgICAgIC8vIHJlc3VsdCBieSBpdHMgYmFzZSByYWlzZWQgdG8gYSBwb3dlci5cclxuXHJcbiAgICAgICAgeS5jID0gdG9CYXNlT3V0KHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKHguYyksIHguZSwgJzAnKSxcclxuICAgICAgICAgMTAsIGJhc2VPdXQsIGRlY2ltYWwpO1xyXG4gICAgICAgIHkuZSA9IHkuYy5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciBhcyBpbnRlZ2VyLlxyXG5cclxuICAgICAgeGMgPSB0b0Jhc2VPdXQoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIGNhbGxlcklzVG9TdHJpbmdcclxuICAgICAgID8gKGFscGhhYmV0ID0gQUxQSEFCRVQsIGRlY2ltYWwpXHJcbiAgICAgICA6IChhbHBoYWJldCA9IGRlY2ltYWwsIEFMUEhBQkVUKSk7XHJcblxyXG4gICAgICAvLyB4YyBub3cgcmVwcmVzZW50cyBzdHIgYXMgYW4gaW50ZWdlciBhbmQgY29udmVydGVkIHRvIGJhc2VPdXQuIGUgaXMgdGhlIGV4cG9uZW50LlxyXG4gICAgICBlID0gayA9IHhjLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yICg7IHhjWy0ta10gPT0gMDsgeGMucG9wKCkpO1xyXG5cclxuICAgICAgLy8gWmVybz9cclxuICAgICAgaWYgKCF4Y1swXSkgcmV0dXJuIGFscGhhYmV0LmNoYXJBdCgwKTtcclxuXHJcbiAgICAgIC8vIERvZXMgc3RyIHJlcHJlc2VudCBhbiBpbnRlZ2VyPyBJZiBzbywgbm8gbmVlZCBmb3IgdGhlIGRpdmlzaW9uLlxyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAtLWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5jID0geGM7XHJcbiAgICAgICAgeC5lID0gZTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHNpZ24gaXMgbmVlZGVkIGZvciBjb3JyZWN0IHJvdW5kaW5nLlxyXG4gICAgICAgIHgucyA9IHNpZ247XHJcbiAgICAgICAgeCA9IGRpdih4LCB5LCBkcCwgcm0sIGJhc2VPdXQpO1xyXG4gICAgICAgIHhjID0geC5jO1xyXG4gICAgICAgIHIgPSB4LnI7XHJcbiAgICAgICAgZSA9IHguZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8geGMgbm93IHJlcHJlc2VudHMgc3RyIGNvbnZlcnRlZCB0byBiYXNlT3V0LlxyXG5cclxuICAgICAgLy8gVEhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgZCA9IGUgKyBkcCArIDE7XHJcblxyXG4gICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQ6IHRoZSBkaWdpdCB0byB0aGUgcmlnaHQgb2YgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIGkgPSB4Y1tkXTtcclxuXHJcbiAgICAgIC8vIExvb2sgYXQgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhbmQgbW9kZSB0byBkZXRlcm1pbmUgd2hldGhlciB0byByb3VuZCB1cC5cclxuXHJcbiAgICAgIGsgPSBiYXNlT3V0IC8gMjtcclxuICAgICAgciA9IHIgfHwgZCA8IDAgfHwgeGNbZCArIDFdICE9IG51bGw7XHJcblxyXG4gICAgICByID0gcm0gPCA0ID8gKGkgIT0gbnVsbCB8fCByKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICAgICAgOiBpID4gayB8fCBpID09IGsgJiYocm0gPT0gNCB8fCByIHx8IHJtID09IDYgJiYgeGNbZCAtIDFdICYgMSB8fFxyXG4gICAgICAgICAgICAgcm0gPT0gKHgucyA8IDAgPyA4IDogNykpO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdCBpcyBub3QgZ3JlYXRlciB0aGFuIHplcm8sIG9yIHhjIHJlcHJlc2VudHNcclxuICAgICAgLy8gemVybywgdGhlbiB0aGUgcmVzdWx0IG9mIHRoZSBiYXNlIGNvbnZlcnNpb24gaXMgemVybyBvciwgaWYgcm91bmRpbmcgdXAsIGEgdmFsdWVcclxuICAgICAgLy8gc3VjaCBhcyAwLjAwMDAxLlxyXG4gICAgICBpZiAoZCA8IDEgfHwgIXhjWzBdKSB7XHJcblxyXG4gICAgICAgIC8vIDFeLWRwIG9yIDBcclxuICAgICAgICBzdHIgPSByID8gdG9GaXhlZFBvaW50KGFscGhhYmV0LmNoYXJBdCgxKSwgLWRwLCBhbHBoYWJldC5jaGFyQXQoMCkpIDogYWxwaGFiZXQuY2hhckF0KDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBUcnVuY2F0ZSB4YyB0byB0aGUgcmVxdWlyZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgIHhjLmxlbmd0aCA9IGQ7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cclxuICAgICAgICAgIGZvciAoLS1iYXNlT3V0OyArK3hjWy0tZF0gPiBiYXNlT3V0Oykge1xyXG4gICAgICAgICAgICB4Y1tkXSA9IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWQpIHtcclxuICAgICAgICAgICAgICArK2U7XHJcbiAgICAgICAgICAgICAgeGMgPSBbMV0uY29uY2F0KHhjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAoayA9IHhjLmxlbmd0aDsgIXhjWy0ta107KTtcclxuXHJcbiAgICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgICBmb3IgKGkgPSAwLCBzdHIgPSAnJzsgaSA8PSBrOyBzdHIgKz0gYWxwaGFiZXQuY2hhckF0KHhjW2krK10pKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGxlYWRpbmcgemVyb3MsIGRlY2ltYWwgcG9pbnQgYW5kIHRyYWlsaW5nIHplcm9zIGFzIHJlcXVpcmVkLlxyXG4gICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUsIGFscGhhYmV0LmNoYXJBdCgwKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSBjYWxsZXIgd2lsbCBhZGQgdGhlIHNpZ24uXHJcbiAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAvLyBQZXJmb3JtIGRpdmlzaW9uIGluIHRoZSBzcGVjaWZpZWQgYmFzZS4gQ2FsbGVkIGJ5IGRpdiBhbmQgY29udmVydEJhc2UuXHJcbiAgZGl2ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvLyBBc3N1bWUgbm9uLXplcm8geCBhbmQgay5cclxuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHgsIGssIGJhc2UpIHtcclxuICAgICAgdmFyIG0sIHRlbXAsIHhsbywgeGhpLFxyXG4gICAgICAgIGNhcnJ5ID0gMCxcclxuICAgICAgICBpID0geC5sZW5ndGgsXHJcbiAgICAgICAga2xvID0gayAlIFNRUlRfQkFTRSxcclxuICAgICAgICBraGkgPSBrIC8gU1FSVF9CQVNFIHwgMDtcclxuXHJcbiAgICAgIGZvciAoeCA9IHguc2xpY2UoKTsgaS0tOykge1xyXG4gICAgICAgIHhsbyA9IHhbaV0gJSBTUVJUX0JBU0U7XHJcbiAgICAgICAgeGhpID0geFtpXSAvIFNRUlRfQkFTRSB8IDA7XHJcbiAgICAgICAgbSA9IGtoaSAqIHhsbyArIHhoaSAqIGtsbztcclxuICAgICAgICB0ZW1wID0ga2xvICogeGxvICsgKChtICUgU1FSVF9CQVNFKSAqIFNRUlRfQkFTRSkgKyBjYXJyeTtcclxuICAgICAgICBjYXJyeSA9ICh0ZW1wIC8gYmFzZSB8IDApICsgKG0gLyBTUVJUX0JBU0UgfCAwKSArIGtoaSAqIHhoaTtcclxuICAgICAgICB4W2ldID0gdGVtcCAlIGJhc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjYXJyeSkgeCA9IFtjYXJyeV0uY29uY2F0KHgpO1xyXG5cclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGFyZShhLCBiLCBhTCwgYkwpIHtcclxuICAgICAgdmFyIGksIGNtcDtcclxuXHJcbiAgICAgIGlmIChhTCAhPSBiTCkge1xyXG4gICAgICAgIGNtcCA9IGFMID4gYkwgPyAxIDogLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IGNtcCA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgICBjbXAgPSBhW2ldID4gYltpXSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gY21wO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIsIGFMLCBiYXNlKSB7XHJcbiAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgIC8vIFN1YnRyYWN0IGIgZnJvbSBhLlxyXG4gICAgICBmb3IgKDsgYUwtLTspIHtcclxuICAgICAgICBhW2FMXSAtPSBpO1xyXG4gICAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XHJcbiAgICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKDsgIWFbMF0gJiYgYS5sZW5ndGggPiAxOyBhLnNwbGljZSgwLCAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8geDogZGl2aWRlbmQsIHk6IGRpdmlzb3IuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHksIGRwLCBybSwgYmFzZSkge1xyXG4gICAgICB2YXIgY21wLCBlLCBpLCBtb3JlLCBuLCBwcm9kLCBwcm9kTCwgcSwgcWMsIHJlbSwgcmVtTCwgcmVtMCwgeGksIHhMLCB5YzAsXHJcbiAgICAgICAgeUwsIHl6LFxyXG4gICAgICAgIHMgPSB4LnMgPT0geS5zID8gMSA6IC0xLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHljID0geS5jO1xyXG5cclxuICAgICAgLy8gRWl0aGVyIE5hTiwgSW5maW5pdHkgb3IgMD9cclxuICAgICAgaWYgKCF4YyB8fCAheGNbMF0gfHwgIXljIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihcclxuXHJcbiAgICAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIE5hTiwgb3IgYm90aCBJbmZpbml0eSBvciAwLlxyXG4gICAgICAgICAheC5zIHx8ICF5LnMgfHwgKHhjID8geWMgJiYgeGNbMF0gPT0geWNbMF0gOiAheWMpID8gTmFOIDpcclxuXHJcbiAgICAgICAgICAvLyBSZXR1cm4gXHUwMEIxMCBpZiB4IGlzIFx1MDBCMTAgb3IgeSBpcyBcdTAwQjFJbmZpbml0eSwgb3IgcmV0dXJuIFx1MDBCMUluZmluaXR5IGFzIHkgaXMgXHUwMEIxMC5cclxuICAgICAgICAgIHhjICYmIHhjWzBdID09IDAgfHwgIXljID8gcyAqIDAgOiBzIC8gMFxyXG4gICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcSA9IG5ldyBCaWdOdW1iZXIocyk7XHJcbiAgICAgIHFjID0gcS5jID0gW107XHJcbiAgICAgIGUgPSB4LmUgLSB5LmU7XHJcbiAgICAgIHMgPSBkcCArIGUgKyAxO1xyXG5cclxuICAgICAgaWYgKCFiYXNlKSB7XHJcbiAgICAgICAgYmFzZSA9IEJBU0U7XHJcbiAgICAgICAgZSA9IGJpdEZsb29yKHguZSAvIExPR19CQVNFKSAtIGJpdEZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICAgICAgICBzID0gcyAvIExPR19CQVNFIHwgMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVzdWx0IGV4cG9uZW50IG1heSBiZSBvbmUgbGVzcyB0aGVuIHRoZSBjdXJyZW50IHZhbHVlIG9mIGUuXHJcbiAgICAgIC8vIFRoZSBjb2VmZmljaWVudHMgb2YgdGhlIEJpZ051bWJlcnMgZnJvbSBjb252ZXJ0QmFzZSBtYXkgaGF2ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChpID0gMDsgeWNbaV0gPT0gKHhjW2ldIHx8IDApOyBpKyspO1xyXG5cclxuICAgICAgaWYgKHljW2ldID4gKHhjW2ldIHx8IDApKSBlLS07XHJcblxyXG4gICAgICBpZiAocyA8IDApIHtcclxuICAgICAgICBxYy5wdXNoKDEpO1xyXG4gICAgICAgIG1vcmUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhMID0geGMubGVuZ3RoO1xyXG4gICAgICAgIHlMID0geWMubGVuZ3RoO1xyXG4gICAgICAgIGkgPSAwO1xyXG4gICAgICAgIHMgKz0gMjtcclxuXHJcbiAgICAgICAgLy8gTm9ybWFsaXNlIHhjIGFuZCB5YyBzbyBoaWdoZXN0IG9yZGVyIGRpZ2l0IG9mIHljIGlzID49IGJhc2UgLyAyLlxyXG5cclxuICAgICAgICBuID0gbWF0aGZsb29yKGJhc2UgLyAoeWNbMF0gKyAxKSk7XHJcblxyXG4gICAgICAgIC8vIE5vdCBuZWNlc3NhcnksIGJ1dCB0byBoYW5kbGUgb2RkIGJhc2VzIHdoZXJlIHljWzBdID09IChiYXNlIC8gMikgLSAxLlxyXG4gICAgICAgIC8vIGlmIChuID4gMSB8fCBuKysgPT0gMSAmJiB5Y1swXSA8IGJhc2UgLyAyKSB7XHJcbiAgICAgICAgaWYgKG4gPiAxKSB7XHJcbiAgICAgICAgICB5YyA9IG11bHRpcGx5KHljLCBuLCBiYXNlKTtcclxuICAgICAgICAgIHhjID0gbXVsdGlwbHkoeGMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgeUwgPSB5Yy5sZW5ndGg7XHJcbiAgICAgICAgICB4TCA9IHhjLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhpID0geUw7XHJcbiAgICAgICAgcmVtID0geGMuc2xpY2UoMCwgeUwpO1xyXG4gICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgICAgIGZvciAoOyByZW1MIDwgeUw7IHJlbVtyZW1MKytdID0gMCk7XHJcbiAgICAgICAgeXogPSB5Yy5zbGljZSgpO1xyXG4gICAgICAgIHl6ID0gWzBdLmNvbmNhdCh5eik7XHJcbiAgICAgICAgeWMwID0geWNbMF07XHJcbiAgICAgICAgaWYgKHljWzFdID49IGJhc2UgLyAyKSB5YzArKztcclxuICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gcHJldmVudCB0cmlhbCBkaWdpdCBuID4gYmFzZSwgd2hlbiB1c2luZyBiYXNlIDMuXHJcbiAgICAgICAgLy8gZWxzZSBpZiAoYmFzZSA9PSAzICYmIHljMCA9PSAxKSB5YzAgPSAxICsgMWUtMTU7XHJcblxyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgIG4gPSAwO1xyXG5cclxuICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgY21wID0gY29tcGFyZSh5YywgcmVtLCB5TCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgLy8gSWYgZGl2aXNvciA8IHJlbWFpbmRlci5cclxuICAgICAgICAgIGlmIChjbXAgPCAwKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdHJpYWwgZGlnaXQsIG4uXHJcblxyXG4gICAgICAgICAgICByZW0wID0gcmVtWzBdO1xyXG4gICAgICAgICAgICBpZiAoeUwgIT0gcmVtTCkgcmVtMCA9IHJlbTAgKiBiYXNlICsgKHJlbVsxXSB8fCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG4gaXMgaG93IG1hbnkgdGltZXMgdGhlIGRpdmlzb3IgZ29lcyBpbnRvIHRoZSBjdXJyZW50IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgbiA9IG1hdGhmbG9vcihyZW0wIC8geWMwKTtcclxuXHJcbiAgICAgICAgICAgIC8vICBBbGdvcml0aG06XHJcbiAgICAgICAgICAgIC8vICBwcm9kdWN0ID0gZGl2aXNvciBtdWx0aXBsaWVkIGJ5IHRyaWFsIGRpZ2l0IChuKS5cclxuICAgICAgICAgICAgLy8gIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAvLyAgSWYgcHJvZHVjdCBpcyBncmVhdGVyIHRoYW4gcmVtYWluZGVyOlxyXG4gICAgICAgICAgICAvLyAgICBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdCwgZGVjcmVtZW50IHRyaWFsIGRpZ2l0LlxyXG4gICAgICAgICAgICAvLyAgU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgLy8gIElmIHByb2R1Y3Qgd2FzIGxlc3MgdGhhbiByZW1haW5kZXIgYXQgdGhlIGxhc3QgY29tcGFyZTpcclxuICAgICAgICAgICAgLy8gICAgQ29tcGFyZSBuZXcgcmVtYWluZGVyIGFuZCBkaXZpc29yLlxyXG4gICAgICAgICAgICAvLyAgICBJZiByZW1haW5kZXIgaXMgZ3JlYXRlciB0aGFuIGRpdmlzb3I6XHJcbiAgICAgICAgICAgIC8vICAgICAgU3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlciwgaW5jcmVtZW50IHRyaWFsIGRpZ2l0LlxyXG5cclxuICAgICAgICAgICAgaWYgKG4gPiAxKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIG4gbWF5IGJlID4gYmFzZSBvbmx5IHdoZW4gYmFzZSBpcyAzLlxyXG4gICAgICAgICAgICAgIGlmIChuID49IGJhc2UpIG4gPSBiYXNlIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgICBwcm9kID0gbXVsdGlwbHkoeWMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIC8vIElmIHByb2R1Y3QgPiByZW1haW5kZXIgdGhlbiB0cmlhbCBkaWdpdCBuIHRvbyBoaWdoLlxyXG4gICAgICAgICAgICAgIC8vIG4gaXMgMSB0b28gaGlnaCBhYm91dCA1JSBvZiB0aGUgdGltZSwgYW5kIGlzIG5vdCBrbm93biB0byBoYXZlXHJcbiAgICAgICAgICAgICAgLy8gZXZlciBiZWVuIG1vcmUgdGhhbiAxIHRvbyBoaWdoLlxyXG4gICAgICAgICAgICAgIHdoaWxlIChjb21wYXJlKHByb2QsIHJlbSwgcHJvZEwsIHJlbUwpID09IDEpIHtcclxuICAgICAgICAgICAgICAgIG4tLTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdC5cclxuICAgICAgICAgICAgICAgIHN1YnRyYWN0KHByb2QsIHlMIDwgcHJvZEwgPyB5eiA6IHljLCBwcm9kTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgY21wID0gMTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIG4gaXMgMCBvciAxLCBjbXAgaXMgLTEuXHJcbiAgICAgICAgICAgICAgLy8gSWYgbiBpcyAwLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNvbXBhcmUgeWMgYW5kIHJlbSBhZ2FpbiBiZWxvdyxcclxuICAgICAgICAgICAgICAvLyBzbyBjaGFuZ2UgY21wIHRvIDEgdG8gYXZvaWQgaXQuXHJcbiAgICAgICAgICAgICAgLy8gSWYgbiBpcyAxLCBsZWF2ZSBjbXAgYXMgLTEsIHNvIHljIGFuZCByZW0gYXJlIGNvbXBhcmVkIGFnYWluLlxyXG4gICAgICAgICAgICAgIGlmIChuID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkaXZpc29yIDwgcmVtYWluZGVyLCBzbyBuIG11c3QgYmUgYXQgbGVhc3QgMS5cclxuICAgICAgICAgICAgICAgIGNtcCA9IG4gPSAxO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gcHJvZHVjdCA9IGRpdmlzb3JcclxuICAgICAgICAgICAgICBwcm9kID0geWMuc2xpY2UoKTtcclxuICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvZEwgPCByZW1MKSBwcm9kID0gWzBdLmNvbmNhdChwcm9kKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgcHJvZCwgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgIC8vIElmIHByb2R1Y3Qgd2FzIDwgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgbmV3IHJlbWFpbmRlciwgc3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAvLyBUcmlhbCBkaWdpdCBuIHRvbyBsb3cuXHJcbiAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBsb3cgYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCB2ZXJ5IHJhcmVseSAyIHRvbyBsb3cuXHJcbiAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUoeWMsIHJlbSwgeUwsIHJlbUwpIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgbisrO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHlMIDwgcmVtTCA/IHl6IDogeWMsIHJlbUwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PT0gMCkge1xyXG4gICAgICAgICAgICBuKys7XHJcbiAgICAgICAgICAgIHJlbSA9IFswXTtcclxuICAgICAgICAgIH0gLy8gZWxzZSBjbXAgPT09IDEgYW5kIG4gd2lsbCBiZSAwXHJcblxyXG4gICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBuLCB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICAgICAgcWNbaSsrXSA9IG47XHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAocmVtWzBdKSB7XHJcbiAgICAgICAgICAgIHJlbVtyZW1MKytdID0geGNbeGldIHx8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZW0gPSBbeGNbeGldXTtcclxuICAgICAgICAgICAgcmVtTCA9IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSB3aGlsZSAoKHhpKysgPCB4TCB8fCByZW1bMF0gIT0gbnVsbCkgJiYgcy0tKTtcclxuXHJcbiAgICAgICAgbW9yZSA9IHJlbVswXSAhPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBMZWFkaW5nIHplcm8/XHJcbiAgICAgICAgaWYgKCFxY1swXSkgcWMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYmFzZSA9PSBCQVNFKSB7XHJcblxyXG4gICAgICAgIC8vIFRvIGNhbGN1bGF0ZSBxLmUsIGZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBxY1swXS5cclxuICAgICAgICBmb3IgKGkgPSAxLCBzID0gcWNbMF07IHMgPj0gMTA7IHMgLz0gMTAsIGkrKyk7XHJcblxyXG4gICAgICAgIHJvdW5kKHEsIGRwICsgKHEuZSA9IGkgKyBlICogTE9HX0JBU0UgLSAxKSArIDEsIHJtLCBtb3JlKTtcclxuXHJcbiAgICAgIC8vIENhbGxlciBpcyBjb252ZXJ0QmFzZS5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBxLmUgPSBlO1xyXG4gICAgICAgIHEuciA9ICttb3JlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcTtcclxuICAgIH07XHJcbiAgfSkoKTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyIG4gaW4gZml4ZWQtcG9pbnQgb3IgZXhwb25lbnRpYWxcclxuICAgKiBub3RhdGlvbiByb3VuZGVkIHRvIHRoZSBzcGVjaWZpZWQgZGVjaW1hbCBwbGFjZXMgb3Igc2lnbmlmaWNhbnQgZGlnaXRzLlxyXG4gICAqXHJcbiAgICogbjogYSBCaWdOdW1iZXIuXHJcbiAgICogaTogdGhlIGluZGV4IG9mIHRoZSBsYXN0IGRpZ2l0IHJlcXVpcmVkIChpLmUuIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwKS5cclxuICAgKiBybTogdGhlIHJvdW5kaW5nIG1vZGUuXHJcbiAgICogaWQ6IDEgKHRvRXhwb25lbnRpYWwpIG9yIDIgKHRvUHJlY2lzaW9uKS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBmb3JtYXQobiwgaSwgcm0sIGlkKSB7XHJcbiAgICB2YXIgYzAsIGUsIG5lLCBsZW4sIHN0cjtcclxuXHJcbiAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgaWYgKCFuLmMpIHJldHVybiBuLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgYzAgPSBuLmNbMF07XHJcbiAgICBuZSA9IG4uZTtcclxuXHJcbiAgICBpZiAoaSA9PSBudWxsKSB7XHJcbiAgICAgIHN0ciA9IGNvZWZmVG9TdHJpbmcobi5jKTtcclxuICAgICAgc3RyID0gaWQgPT0gMSB8fCBpZCA9PSAyICYmIChuZSA8PSBUT19FWFBfTkVHIHx8IG5lID49IFRPX0VYUF9QT1MpXHJcbiAgICAgICA/IHRvRXhwb25lbnRpYWwoc3RyLCBuZSlcclxuICAgICAgIDogdG9GaXhlZFBvaW50KHN0ciwgbmUsICcwJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gcm91bmQobmV3IEJpZ051bWJlcihuKSwgaSwgcm0pO1xyXG5cclxuICAgICAgLy8gbi5lIG1heSBoYXZlIGNoYW5nZWQgaWYgdGhlIHZhbHVlIHdhcyByb3VuZGVkIHVwLlxyXG4gICAgICBlID0gbi5lO1xyXG5cclxuICAgICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG4gICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gdG9QcmVjaXNpb24gcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbiBpZiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gICAgICAvLyBzcGVjaWZpZWQgaXMgbGVzcyB0aGFuIHRoZSBudW1iZXIgb2YgZGlnaXRzIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIGludGVnZXJcclxuICAgICAgLy8gcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24uXHJcblxyXG4gICAgICAvLyBFeHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAgaWYgKGlkID09IDEgfHwgaWQgPT0gMiAmJiAoaSA8PSBlIHx8IGUgPD0gVE9fRVhQX05FRykpIHtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHplcm9zP1xyXG4gICAgICAgIGZvciAoOyBsZW4gPCBpOyBzdHIgKz0gJzAnLCBsZW4rKyk7XHJcbiAgICAgICAgc3RyID0gdG9FeHBvbmVudGlhbChzdHIsIGUpO1xyXG5cclxuICAgICAgLy8gRml4ZWQtcG9pbnQgbm90YXRpb24uXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaSAtPSBuZTtcclxuICAgICAgICBzdHIgPSB0b0ZpeGVkUG9pbnQoc3RyLCBlLCAnMCcpO1xyXG5cclxuICAgICAgICAvLyBBcHBlbmQgemVyb3M/XHJcbiAgICAgICAgaWYgKGUgKyAxID4gbGVuKSB7XHJcbiAgICAgICAgICBpZiAoLS1pID4gMCkgZm9yIChzdHIgKz0gJy4nOyBpLS07IHN0ciArPSAnMCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpICs9IGUgLSBsZW47XHJcbiAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgaWYgKGUgKyAxID09IGxlbikgc3RyICs9ICcuJztcclxuICAgICAgICAgICAgZm9yICg7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG4ucyA8IDAgJiYgYzAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gSGFuZGxlIEJpZ051bWJlci5tYXggYW5kIEJpZ051bWJlci5taW4uXHJcbiAgLy8gSWYgYW55IG51bWJlciBpcyBOYU4sIHJldHVybiBOYU4uXHJcbiAgZnVuY3Rpb24gbWF4T3JNaW4oYXJncywgbikge1xyXG4gICAgdmFyIGssIHksXHJcbiAgICAgIGkgPSAxLFxyXG4gICAgICB4ID0gbmV3IEJpZ051bWJlcihhcmdzWzBdKTtcclxuXHJcbiAgICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoYXJnc1tpXSk7XHJcbiAgICAgIGlmICgheS5zIHx8IChrID0gY29tcGFyZSh4LCB5KSkgPT09IG4gfHwgayA9PT0gMCAmJiB4LnMgPT09IG4pIHtcclxuICAgICAgICB4ID0geTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogU3RyaXAgdHJhaWxpbmcgemVyb3MsIGNhbGN1bGF0ZSBiYXNlIDEwIGV4cG9uZW50IGFuZCBjaGVjayBhZ2FpbnN0IE1JTl9FWFAgYW5kIE1BWF9FWFAuXHJcbiAgICogQ2FsbGVkIGJ5IG1pbnVzLCBwbHVzIGFuZCB0aW1lcy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBub3JtYWxpc2UobiwgYywgZSkge1xyXG4gICAgdmFyIGkgPSAxLFxyXG4gICAgICBqID0gYy5sZW5ndGg7XHJcblxyXG4gICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoOyAhY1stLWpdOyBjLnBvcCgpKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGJhc2UgMTAgZXhwb25lbnQuIEZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBjWzBdLlxyXG4gICAgZm9yIChqID0gY1swXTsgaiA+PSAxMDsgaiAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAvLyBPdmVyZmxvdz9cclxuICAgIGlmICgoZSA9IGkgKyBlICogTE9HX0JBU0UgLSAxKSA+IE1BWF9FWFApIHtcclxuXHJcbiAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICBuLmMgPSBuLmUgPSBudWxsO1xyXG5cclxuICAgIC8vIFVuZGVyZmxvdz9cclxuICAgIH0gZWxzZSBpZiAoZSA8IE1JTl9FWFApIHtcclxuXHJcbiAgICAgIC8vIFplcm8uXHJcbiAgICAgIG4uYyA9IFtuLmUgPSAwXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4uZSA9IGU7XHJcbiAgICAgIG4uYyA9IGM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG47XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gSGFuZGxlIHZhbHVlcyB0aGF0IGZhaWwgdGhlIHZhbGlkaXR5IHRlc3QgaW4gQmlnTnVtYmVyLlxyXG4gIHBhcnNlTnVtZXJpYyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYmFzZVByZWZpeCA9IC9eKC0/KTAoW3hib10pKD89XFx3W1xcdy5dKiQpL2ksXHJcbiAgICAgIGRvdEFmdGVyID0gL14oW14uXSspXFwuJC8sXHJcbiAgICAgIGRvdEJlZm9yZSA9IC9eXFwuKFteLl0rKSQvLFxyXG4gICAgICBpc0luZmluaXR5T3JOYU4gPSAvXi0/KEluZmluaXR5fE5hTikkLyxcclxuICAgICAgd2hpdGVzcGFjZU9yUGx1cyA9IC9eXFxzKlxcKyg/PVtcXHcuXSl8Xlxccyt8XFxzKyQvZztcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHN0ciwgaXNOdW0sIGIpIHtcclxuICAgICAgdmFyIGJhc2UsXHJcbiAgICAgICAgcyA9IGlzTnVtID8gc3RyIDogc3RyLnJlcGxhY2Uod2hpdGVzcGFjZU9yUGx1cywgJycpO1xyXG5cclxuICAgICAgLy8gTm8gZXhjZXB0aW9uIG9uIFx1MDBCMUluZmluaXR5IG9yIE5hTi5cclxuICAgICAgaWYgKGlzSW5maW5pdHlPck5hTi50ZXN0KHMpKSB7XHJcbiAgICAgICAgeC5zID0gaXNOYU4ocykgPyBudWxsIDogcyA8IDAgPyAtMSA6IDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCFpc051bSkge1xyXG5cclxuICAgICAgICAgIC8vIGJhc2VQcmVmaXggPSAvXigtPykwKFt4Ym9dKSg/PVxcd1tcXHcuXSokKS9pXHJcbiAgICAgICAgICBzID0gcy5yZXBsYWNlKGJhc2VQcmVmaXgsIGZ1bmN0aW9uIChtLCBwMSwgcDIpIHtcclxuICAgICAgICAgICAgYmFzZSA9IChwMiA9IHAyLnRvTG93ZXJDYXNlKCkpID09ICd4JyA/IDE2IDogcDIgPT0gJ2InID8gMiA6IDg7XHJcbiAgICAgICAgICAgIHJldHVybiAhYiB8fCBiID09IGJhc2UgPyBwMSA6IG07XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoYikge1xyXG4gICAgICAgICAgICBiYXNlID0gYjtcclxuXHJcbiAgICAgICAgICAgIC8vIEUuZy4gJzEuJyB0byAnMScsICcuMScgdG8gJzAuMSdcclxuICAgICAgICAgICAgcyA9IHMucmVwbGFjZShkb3RBZnRlciwgJyQxJykucmVwbGFjZShkb3RCZWZvcmUsICcwLiQxJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHN0ciAhPSBzKSByZXR1cm4gbmV3IEJpZ051bWJlcihzLCBiYXNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBOb3QgYSBudW1iZXI6IHtufSdcclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTm90IGEgYmFzZSB7Yn0gbnVtYmVyOiB7bn0nXHJcbiAgICAgICAgaWYgKEJpZ051bWJlci5ERUJVRykge1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ05vdCBhJyArIChiID8gJyBiYXNlICcgKyBiIDogJycpICsgJyBudW1iZXI6ICcgKyBzdHIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTmFOXHJcbiAgICAgICAgeC5zID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuICAgIH1cclxuICB9KSgpO1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSb3VuZCB4IHRvIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIHJtLiBDaGVjayBmb3Igb3Zlci91bmRlci1mbG93LlxyXG4gICAqIElmIHIgaXMgdHJ1dGh5LCBpdCBpcyBrbm93biB0aGF0IHRoZXJlIGFyZSBtb3JlIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcm91bmQoeCwgc2QsIHJtLCByKSB7XHJcbiAgICB2YXIgZCwgaSwgaiwgaywgbiwgbmksIHJkLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgcG93czEwID0gUE9XU19URU47XHJcblxyXG4gICAgLy8gaWYgeCBpcyBub3QgSW5maW5pdHkgb3IgTmFOLi4uXHJcbiAgICBpZiAoeGMpIHtcclxuXHJcbiAgICAgIC8vIHJkIGlzIHRoZSByb3VuZGluZyBkaWdpdCwgaS5lLiB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIC8vIG4gaXMgYSBiYXNlIDFlMTQgbnVtYmVyLCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgb2YgYXJyYXkgeC5jIGNvbnRhaW5pbmcgcmQuXHJcbiAgICAgIC8vIG5pIGlzIHRoZSBpbmRleCBvZiBuIHdpdGhpbiB4LmMuXHJcbiAgICAgIC8vIGQgaXMgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygbi5cclxuICAgICAgLy8gaSBpcyB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4gaW5jbHVkaW5nIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgIC8vIGogaXMgdGhlIGFjdHVhbCBpbmRleCBvZiByZCB3aXRoaW4gbiAoaWYgPCAwLCByZCBpcyBhIGxlYWRpbmcgemVybykuXHJcbiAgICAgIG91dDoge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuXHJcbiAgICAgICAgZm9yIChkID0gMSwgayA9IHhjWzBdOyBrID49IDEwOyBrIC89IDEwLCBkKyspO1xyXG4gICAgICAgIGkgPSBzZCAtIGQ7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdCBpcyBpbiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy4uLlxyXG4gICAgICAgIGlmIChpIDwgMCkge1xyXG4gICAgICAgICAgaSArPSBMT0dfQkFTRTtcclxuICAgICAgICAgIGogPSBzZDtcclxuICAgICAgICAgIG4gPSB4Y1tuaSA9IDBdO1xyXG5cclxuICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgcmQgPSBtYXRoZmxvb3IobiAvIHBvd3MxMFtkIC0gaiAtIDFdICUgMTApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuaSA9IG1hdGhjZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgICAgICAgaWYgKG5pID49IHhjLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gTmVlZGVkIGJ5IHNxcnQuXHJcbiAgICAgICAgICAgICAgZm9yICg7IHhjLmxlbmd0aCA8PSBuaTsgeGMucHVzaCgwKSk7XHJcbiAgICAgICAgICAgICAgbiA9IHJkID0gMDtcclxuICAgICAgICAgICAgICBkID0gMTtcclxuICAgICAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgICAgICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbiA9IGsgPSB4Y1tuaV07XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygbi5cclxuICAgICAgICAgICAgZm9yIChkID0gMTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4uXHJcbiAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuLCBhZGp1c3RlZCBmb3IgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAgICAgLy8gVGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4gaXMgZ2l2ZW4gYnkgTE9HX0JBU0UgLSBkLlxyXG4gICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgZDtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgICByZCA9IGogPCAwID8gMCA6IG1hdGhmbG9vcihuIC8gcG93czEwW2QgLSBqIC0gMV0gJSAxMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByID0gciB8fCBzZCA8IDAgfHxcclxuXHJcbiAgICAgICAgLy8gQXJlIHRoZXJlIGFueSBub24temVybyBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0P1xyXG4gICAgICAgIC8vIFRoZSBleHByZXNzaW9uICBuICUgcG93czEwW2QgLSBqIC0gMV0gIHJldHVybnMgYWxsIGRpZ2l0cyBvZiBuIHRvIHRoZSByaWdodFxyXG4gICAgICAgIC8vIG9mIHRoZSBkaWdpdCBhdCBqLCBlLmcuIGlmIG4gaXMgOTA4NzE0IGFuZCBqIGlzIDIsIHRoZSBleHByZXNzaW9uIGdpdmVzIDcxNC5cclxuICAgICAgICAgeGNbbmkgKyAxXSAhPSBudWxsIHx8IChqIDwgMCA/IG4gOiBuICUgcG93czEwW2QgLSBqIC0gMV0pO1xyXG5cclxuICAgICAgICByID0gcm0gPCA0XHJcbiAgICAgICAgID8gKHJkIHx8IHIpICYmIChybSA9PSAwIHx8IHJtID09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICAgICA6IHJkID4gNSB8fCByZCA9PSA1ICYmIChybSA9PSA0IHx8IHIgfHwgcm0gPT0gNiAmJlxyXG5cclxuICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGRpZ2l0IHRvIHRoZSBsZWZ0IG9mIHRoZSByb3VuZGluZyBkaWdpdCBpcyBvZGQuXHJcbiAgICAgICAgICAoKGkgPiAwID8gaiA+IDAgPyBuIC8gcG93czEwW2QgLSBqXSA6IDAgOiB4Y1tuaSAtIDFdKSAlIDEwKSAmIDEgfHxcclxuICAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICAgIGlmIChzZCA8IDEgfHwgIXhjWzBdKSB7XHJcbiAgICAgICAgICB4Yy5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHNkIHRvIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgICAgICBzZCAtPSB4LmUgKyAxO1xyXG5cclxuICAgICAgICAgICAgLy8gMSwgMC4xLCAwLjAxLCAwLjAwMSwgMC4wMDAxIGV0Yy5cclxuICAgICAgICAgICAgeGNbMF0gPSBwb3dzMTBbKExPR19CQVNFIC0gc2QgJSBMT0dfQkFTRSkgJSBMT0dfQkFTRV07XHJcbiAgICAgICAgICAgIHguZSA9IC1zZCB8fCAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICAgIHhjWzBdID0geC5lID0gMDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBleGNlc3MgZGlnaXRzLlxyXG4gICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgIHhjLmxlbmd0aCA9IG5pO1xyXG4gICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICBuaS0tO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4Yy5sZW5ndGggPSBuaSArIDE7XHJcbiAgICAgICAgICBrID0gcG93czEwW0xPR19CQVNFIC0gaV07XHJcblxyXG4gICAgICAgICAgLy8gRS5nLiA1NjcwMCBiZWNvbWVzIDU2MDAwIGlmIDcgaXMgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgLy8gaiA+IDAgbWVhbnMgaSA+IG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4uXHJcbiAgICAgICAgICB4Y1tuaV0gPSBqID4gMCA/IG1hdGhmbG9vcihuIC8gcG93czEwW2QgLSBqXSAlIHBvd3MxMFtqXSkgKiBrIDogMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgZm9yICg7IDspIHtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaWdpdCB0byBiZSByb3VuZGVkIHVwIGlzIGluIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLi4uXHJcbiAgICAgICAgICAgIGlmIChuaSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGkgd2lsbCBiZSB0aGUgbGVuZ3RoIG9mIHhjWzBdIGJlZm9yZSBrIGlzIGFkZGVkLlxyXG4gICAgICAgICAgICAgIGZvciAoaSA9IDEsIGogPSB4Y1swXTsgaiA+PSAxMDsgaiAvPSAxMCwgaSsrKTtcclxuICAgICAgICAgICAgICBqID0geGNbMF0gKz0gaztcclxuICAgICAgICAgICAgICBmb3IgKGsgPSAxOyBqID49IDEwOyBqIC89IDEwLCBrKyspO1xyXG5cclxuICAgICAgICAgICAgICAvLyBpZiBpICE9IGsgdGhlIGxlbmd0aCBoYXMgaW5jcmVhc2VkLlxyXG4gICAgICAgICAgICAgIGlmIChpICE9IGspIHtcclxuICAgICAgICAgICAgICAgIHguZSsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHhjWzBdID09IEJBU0UpIHhjWzBdID0gMTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHhjW25pXSArPSBrO1xyXG4gICAgICAgICAgICAgIGlmICh4Y1tuaV0gIT0gQkFTRSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgeGNbbmktLV0gPSAwO1xyXG4gICAgICAgICAgICAgIGsgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgICAgZm9yIChpID0geGMubGVuZ3RoOyB4Y1stLWldID09PSAwOyB4Yy5wb3AoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE92ZXJmbG93PyBJbmZpbml0eS5cclxuICAgICAgaWYgKHguZSA+IE1BWF9FWFApIHtcclxuICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG5cclxuICAgICAgLy8gVW5kZXJmbG93PyBaZXJvLlxyXG4gICAgICB9IGVsc2UgaWYgKHguZSA8IE1JTl9FWFApIHtcclxuICAgICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiB2YWx1ZU9mKG4pIHtcclxuICAgIHZhciBzdHIsXHJcbiAgICAgIGUgPSBuLmU7XHJcblxyXG4gICAgaWYgKGUgPT09IG51bGwpIHJldHVybiBuLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG5cclxuICAgIHN0ciA9IGUgPD0gVE9fRVhQX05FRyB8fCBlID49IFRPX0VYUF9QT1NcclxuICAgICAgPyB0b0V4cG9uZW50aWFsKHN0ciwgZSlcclxuICAgICAgOiB0b0ZpeGVkUG9pbnQoc3RyLCBlLCAnMCcpO1xyXG5cclxuICAgIHJldHVybiBuLnMgPCAwID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIFBST1RPVFlQRS9JTlNUQU5DRSBNRVRIT0RTXHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLlxyXG4gICAqL1xyXG4gIFAuYWJzb2x1dGVWYWx1ZSA9IFAuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgaWYgKHgucyA8IDApIHgucyA9IDE7XHJcbiAgICByZXR1cm4geDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm5cclxuICAgKiAgIDEgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqICAgLTEgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqICAgMCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdmFsdWUsXHJcbiAgICogICBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAqL1xyXG4gIFAuY29tcGFyZWRUbyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBJZiBkcCBpcyB1bmRlZmluZWQgb3IgbnVsbCBvciB0cnVlIG9yIGZhbHNlLCByZXR1cm4gdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBvZiB0aGVcclxuICAgKiB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciwgb3IgbnVsbCBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgXHUwMEIxSW5maW5pdHkgb3IgTmFOLlxyXG4gICAqXHJcbiAgICogT3RoZXJ3aXNlLCBpZiBkcCBpcyBhIG51bWJlciwgcmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAqIEJpZ051bWJlciByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBkcCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvclxyXG4gICAqIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXM6IGludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgKi9cclxuICBQLmRlY2ltYWxQbGFjZXMgPSBQLmRwID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gICAgdmFyIGMsIG4sIHYsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgICBlbHNlIGludENoZWNrKHJtLCAwLCA4KTtcclxuXHJcbiAgICAgIHJldHVybiByb3VuZChuZXcgQmlnTnVtYmVyKHgpLCBkcCArIHguZSArIDEsIHJtKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIShjID0geC5jKSkgcmV0dXJuIG51bGw7XHJcbiAgICBuID0gKCh2ID0gYy5sZW5ndGggLSAxKSAtIGJpdEZsb29yKHRoaXMuZSAvIExPR19CQVNFKSkgKiBMT0dfQkFTRTtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IG51bWJlci5cclxuICAgIGlmICh2ID0gY1t2XSkgZm9yICg7IHYgJSAxMCA9PSAwOyB2IC89IDEwLCBuLS0pO1xyXG4gICAgaWYgKG4gPCAwKSBuID0gMDtcclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAvIDAgPSBJXHJcbiAgICogIG4gLyBOID0gTlxyXG4gICAqICBuIC8gSSA9IDBcclxuICAgKiAgMCAvIG4gPSAwXHJcbiAgICogIDAgLyAwID0gTlxyXG4gICAqICAwIC8gTiA9IE5cclxuICAgKiAgMCAvIEkgPSAwXHJcbiAgICogIE4gLyBuID0gTlxyXG4gICAqICBOIC8gMCA9IE5cclxuICAgKiAgTiAvIE4gPSBOXHJcbiAgICogIE4gLyBJID0gTlxyXG4gICAqICBJIC8gbiA9IElcclxuICAgKiAgSSAvIDAgPSBJXHJcbiAgICogIEkgLyBOID0gTlxyXG4gICAqICBJIC8gSSA9IE5cclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGRpdmlkZWQgYnkgdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLCByb3VuZGVkIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cclxuICAgKi9cclxuICBQLmRpdmlkZWRCeSA9IFAuZGl2ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBkaXYodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSwgREVDSU1BTF9QTEFDRVMsIFJPVU5ESU5HX01PREUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGludGVnZXIgcGFydCBvZiBkaXZpZGluZyB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAqIEJpZ051bWJlciBieSB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAuZGl2aWRlZFRvSW50ZWdlckJ5ID0gUC5pZGl2ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBkaXYodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSwgMCwgMSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBleHBvbmVudGlhdGVkIGJ5IG4uXHJcbiAgICpcclxuICAgKiBJZiBtIGlzIHByZXNlbnQsIHJldHVybiB0aGUgcmVzdWx0IG1vZHVsbyBtLlxyXG4gICAqIElmIG4gaXMgbmVnYXRpdmUgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxyXG4gICAqIElmIFBPV19QUkVDSVNJT04gaXMgbm9uLXplcm8gYW5kIG0gaXMgbm90IHByZXNlbnQsIHJvdW5kIHRvIFBPV19QUkVDSVNJT04gdXNpbmcgUk9VTkRJTkdfTU9ERS5cclxuICAgKlxyXG4gICAqIFRoZSBtb2R1bGFyIHBvd2VyIG9wZXJhdGlvbiB3b3JrcyBlZmZpY2llbnRseSB3aGVuIHgsIG4sIGFuZCBtIGFyZSBpbnRlZ2Vycywgb3RoZXJ3aXNlIGl0XHJcbiAgICogaXMgZXF1aXZhbGVudCB0byBjYWxjdWxhdGluZyB4LmV4cG9uZW50aWF0ZWRCeShuKS5tb2R1bG8obSkgd2l0aCBhIFBPV19QUkVDSVNJT04gb2YgMC5cclxuICAgKlxyXG4gICAqIG4ge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBUaGUgZXhwb25lbnQuIEFuIGludGVnZXIuXHJcbiAgICogW21dIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gVGhlIG1vZHVsdXMuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gRXhwb25lbnQgbm90IGFuIGludGVnZXI6IHtufSdcclxuICAgKi9cclxuICBQLmV4cG9uZW50aWF0ZWRCeSA9IFAucG93ID0gZnVuY3Rpb24gKG4sIG0pIHtcclxuICAgIHZhciBoYWxmLCBpc01vZEV4cCwgaSwgaywgbW9yZSwgbklzQmlnLCBuSXNOZWcsIG5Jc09kZCwgeSxcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgbiA9IG5ldyBCaWdOdW1iZXIobik7XHJcblxyXG4gICAgLy8gQWxsb3cgTmFOIGFuZCBcdTAwQjFJbmZpbml0eSwgYnV0IG5vdCBvdGhlciBub24taW50ZWdlcnMuXHJcbiAgICBpZiAobi5jICYmICFuLmlzSW50ZWdlcigpKSB7XHJcbiAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0V4cG9uZW50IG5vdCBhbiBpbnRlZ2VyOiAnICsgdmFsdWVPZihuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG0gIT0gbnVsbCkgbSA9IG5ldyBCaWdOdW1iZXIobSk7XHJcblxyXG4gICAgLy8gRXhwb25lbnQgb2YgTUFYX1NBRkVfSU5URUdFUiBpcyAxNS5cclxuICAgIG5Jc0JpZyA9IG4uZSA+IDE0O1xyXG5cclxuICAgIC8vIElmIHggaXMgTmFOLCBcdTAwQjFJbmZpbml0eSwgXHUwMEIxMCBvciBcdTAwQjExLCBvciBuIGlzIFx1MDBCMUluZmluaXR5LCBOYU4gb3IgXHUwMEIxMC5cclxuICAgIGlmICgheC5jIHx8ICF4LmNbMF0gfHwgeC5jWzBdID09IDEgJiYgIXguZSAmJiB4LmMubGVuZ3RoID09IDEgfHwgIW4uYyB8fCAhbi5jWzBdKSB7XHJcblxyXG4gICAgICAvLyBUaGUgc2lnbiBvZiB0aGUgcmVzdWx0IG9mIHBvdyB3aGVuIHggaXMgbmVnYXRpdmUgZGVwZW5kcyBvbiB0aGUgZXZlbm5lc3Mgb2Ygbi5cclxuICAgICAgLy8gSWYgK24gb3ZlcmZsb3dzIHRvIFx1MDBCMUluZmluaXR5LCB0aGUgZXZlbm5lc3Mgb2YgbiB3b3VsZCBiZSBub3QgYmUga25vd24uXHJcbiAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKE1hdGgucG93KCt2YWx1ZU9mKHgpLCBuSXNCaWcgPyBuLnMgKiAoMiAtIGlzT2RkKG4pKSA6ICt2YWx1ZU9mKG4pKSk7XHJcbiAgICAgIHJldHVybiBtID8geS5tb2QobSkgOiB5O1xyXG4gICAgfVxyXG5cclxuICAgIG5Jc05lZyA9IG4ucyA8IDA7XHJcblxyXG4gICAgaWYgKG0pIHtcclxuXHJcbiAgICAgIC8vIHggJSBtIHJldHVybnMgTmFOIGlmIGFicyhtKSBpcyB6ZXJvLCBvciBtIGlzIE5hTi5cclxuICAgICAgaWYgKG0uYyA/ICFtLmNbMF0gOiAhbS5zKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgICAgaXNNb2RFeHAgPSAhbklzTmVnICYmIHguaXNJbnRlZ2VyKCkgJiYgbS5pc0ludGVnZXIoKTtcclxuXHJcbiAgICAgIGlmIChpc01vZEV4cCkgeCA9IHgubW9kKG0pO1xyXG5cclxuICAgIC8vIE92ZXJmbG93IHRvIFx1MDBCMUluZmluaXR5OiA+PTIqKjFlMTAgb3IgPj0xLjAwMDAwMjQqKjFlMTUuXHJcbiAgICAvLyBVbmRlcmZsb3cgdG8gXHUwMEIxMDogPD0wLjc5KioxZTEwIG9yIDw9MC45OTk5OTc1KioxZTE1LlxyXG4gICAgfSBlbHNlIGlmIChuLmUgPiA5ICYmICh4LmUgPiAwIHx8IHguZSA8IC0xIHx8ICh4LmUgPT0gMFxyXG4gICAgICAvLyBbMSwgMjQwMDAwMDAwXVxyXG4gICAgICA/IHguY1swXSA+IDEgfHwgbklzQmlnICYmIHguY1sxXSA+PSAyNGU3XHJcbiAgICAgIC8vIFs4MDAwMDAwMDAwMDAwMF0gIFs5OTk5OTc1MDAwMDAwMF1cclxuICAgICAgOiB4LmNbMF0gPCA4ZTEzIHx8IG5Jc0JpZyAmJiB4LmNbMF0gPD0gOTk5OTk3NWU3KSkpIHtcclxuXHJcbiAgICAgIC8vIElmIHggaXMgbmVnYXRpdmUgYW5kIG4gaXMgb2RkLCBrID0gLTAsIGVsc2UgayA9IDAuXHJcbiAgICAgIGsgPSB4LnMgPCAwICYmIGlzT2RkKG4pID8gLTAgOiAwO1xyXG5cclxuICAgICAgLy8gSWYgeCA+PSAxLCBrID0gXHUwMEIxSW5maW5pdHkuXHJcbiAgICAgIGlmICh4LmUgPiAtMSkgayA9IDEgLyBrO1xyXG5cclxuICAgICAgLy8gSWYgbiBpcyBuZWdhdGl2ZSByZXR1cm4gXHUwMEIxMCwgZWxzZSByZXR1cm4gXHUwMEIxSW5maW5pdHkuXHJcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKG5Jc05lZyA/IDEgLyBrIDogayk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChQT1dfUFJFQ0lTSU9OKSB7XHJcblxyXG4gICAgICAvLyBUcnVuY2F0aW5nIGVhY2ggY29lZmZpY2llbnQgYXJyYXkgdG8gYSBsZW5ndGggb2YgayBhZnRlciBlYWNoIG11bHRpcGxpY2F0aW9uXHJcbiAgICAgIC8vIGVxdWF0ZXMgdG8gdHJ1bmNhdGluZyBzaWduaWZpY2FudCBkaWdpdHMgdG8gUE9XX1BSRUNJU0lPTiArIFsyOCwgNDFdLFxyXG4gICAgICAvLyBpLmUuIHRoZXJlIHdpbGwgYmUgYSBtaW5pbXVtIG9mIDI4IGd1YXJkIGRpZ2l0cyByZXRhaW5lZC5cclxuICAgICAgayA9IG1hdGhjZWlsKFBPV19QUkVDSVNJT04gLyBMT0dfQkFTRSArIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuSXNCaWcpIHtcclxuICAgICAgaGFsZiA9IG5ldyBCaWdOdW1iZXIoMC41KTtcclxuICAgICAgaWYgKG5Jc05lZykgbi5zID0gMTtcclxuICAgICAgbklzT2RkID0gaXNPZGQobik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpID0gTWF0aC5hYnMoK3ZhbHVlT2YobikpO1xyXG4gICAgICBuSXNPZGQgPSBpICUgMjtcclxuICAgIH1cclxuXHJcbiAgICB5ID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG5cclxuICAgIC8vIFBlcmZvcm1zIDU0IGxvb3AgaXRlcmF0aW9ucyBmb3IgbiBvZiA5MDA3MTk5MjU0NzQwOTkxLlxyXG4gICAgZm9yICg7IDspIHtcclxuXHJcbiAgICAgIGlmIChuSXNPZGQpIHtcclxuICAgICAgICB5ID0geS50aW1lcyh4KTtcclxuICAgICAgICBpZiAoIXkuYykgYnJlYWs7XHJcblxyXG4gICAgICAgIGlmIChrKSB7XHJcbiAgICAgICAgICBpZiAoeS5jLmxlbmd0aCA+IGspIHkuYy5sZW5ndGggPSBrO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb2RFeHApIHtcclxuICAgICAgICAgIHkgPSB5Lm1vZChtKTsgICAgLy95ID0geS5taW51cyhkaXYoeSwgbSwgMCwgTU9EVUxPX01PREUpLnRpbWVzKG0pKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpKSB7XHJcbiAgICAgICAgaSA9IG1hdGhmbG9vcihpIC8gMik7XHJcbiAgICAgICAgaWYgKGkgPT09IDApIGJyZWFrO1xyXG4gICAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSBuLnRpbWVzKGhhbGYpO1xyXG4gICAgICAgIHJvdW5kKG4sIG4uZSArIDEsIDEpO1xyXG5cclxuICAgICAgICBpZiAobi5lID4gMTQpIHtcclxuICAgICAgICAgIG5Jc09kZCA9IGlzT2RkKG4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpID0gK3ZhbHVlT2Yobik7XHJcbiAgICAgICAgICBpZiAoaSA9PT0gMCkgYnJlYWs7XHJcbiAgICAgICAgICBuSXNPZGQgPSBpICUgMjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHggPSB4LnRpbWVzKHgpO1xyXG5cclxuICAgICAgaWYgKGspIHtcclxuICAgICAgICBpZiAoeC5jICYmIHguYy5sZW5ndGggPiBrKSB4LmMubGVuZ3RoID0gaztcclxuICAgICAgfSBlbHNlIGlmIChpc01vZEV4cCkge1xyXG4gICAgICAgIHggPSB4Lm1vZChtKTsgICAgLy94ID0geC5taW51cyhkaXYoeCwgbSwgMCwgTU9EVUxPX01PREUpLnRpbWVzKG0pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc01vZEV4cCkgcmV0dXJuIHk7XHJcbiAgICBpZiAobklzTmVnKSB5ID0gT05FLmRpdih5KTtcclxuXHJcbiAgICByZXR1cm4gbSA/IHkubW9kKG0pIDogayA/IHJvdW5kKHksIFBPV19QUkVDSVNJT04sIFJPVU5ESU5HX01PREUsIG1vcmUpIDogeTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciByb3VuZGVkIHRvIGFuIGludGVnZXJcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvciBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICpcclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3JtfSdcclxuICAgKi9cclxuICBQLmludGVnZXJWYWx1ZSA9IGZ1bmN0aW9uIChybSkge1xyXG4gICAgdmFyIG4gPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG4gICAgcmV0dXJuIHJvdW5kKG4sIG4uZSArIDEsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcclxuICAgKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNFcXVhbFRvID0gUC5lcSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA9PT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgYSBmaW5pdGUgbnVtYmVyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNGaW5pdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gISF0aGlzLmM7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0dyZWF0ZXJUaGFuID0gUC5ndCA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA+IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2ZcclxuICAgKiBCaWdOdW1iZXIoeSwgYiksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvID0gUC5ndGUgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgcmV0dXJuIChiID0gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSkgPT09IDEgfHwgYiA9PT0gMDtcclxuXHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGFuIGludGVnZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0ludGVnZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gISF0aGlzLmMgJiYgYml0Rmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpID4gdGhpcy5jLmxlbmd0aCAtIDI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0xlc3NUaGFuID0gUC5sdCA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA8IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2ZcclxuICAgKiBCaWdOdW1iZXIoeSwgYiksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0xlc3NUaGFuT3JFcXVhbFRvID0gUC5sdGUgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgcmV0dXJuIChiID0gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSkgPT09IC0xIHx8IGIgPT09IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIE5hTiwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzTmFOID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICF0aGlzLnM7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIG5lZ2F0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNOZWdhdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnMgPCAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBwb3NpdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzUG9zaXRpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zID4gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzWmVybyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuYyAmJiB0aGlzLmNbMF0gPT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAtIDAgPSBuXHJcbiAgICogIG4gLSBOID0gTlxyXG4gICAqICBuIC0gSSA9IC1JXHJcbiAgICogIDAgLSBuID0gLW5cclxuICAgKiAgMCAtIDAgPSAwXHJcbiAgICogIDAgLSBOID0gTlxyXG4gICAqICAwIC0gSSA9IC1JXHJcbiAgICogIE4gLSBuID0gTlxyXG4gICAqICBOIC0gMCA9IE5cclxuICAgKiAgTiAtIE4gPSBOXHJcbiAgICogIE4gLSBJID0gTlxyXG4gICAqICBJIC0gbiA9IElcclxuICAgKiAgSSAtIDAgPSBJXHJcbiAgICogIEkgLSBOID0gTlxyXG4gICAqICBJIC0gSSA9IE5cclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG1pbnVzIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKS5cclxuICAgKi9cclxuICBQLm1pbnVzID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHZhciBpLCBqLCB0LCB4TFR5LFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgYSA9IHgucztcclxuXHJcbiAgICB5ID0gbmV3IEJpZ051bWJlcih5LCBiKTtcclxuICAgIGIgPSB5LnM7XHJcblxyXG4gICAgLy8gRWl0aGVyIE5hTj9cclxuICAgIGlmICghYSB8fCAhYikgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICBpZiAoYSAhPSBiKSB7XHJcbiAgICAgIHkucyA9IC1iO1xyXG4gICAgICByZXR1cm4geC5wbHVzKHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxyXG4gICAgICB5ZSA9IHkuZSAvIExPR19CQVNFLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWMgPSB5LmM7XHJcblxyXG4gICAgaWYgKCF4ZSB8fCAheWUpIHtcclxuXHJcbiAgICAgIC8vIEVpdGhlciBJbmZpbml0eT9cclxuICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiB4YyA/ICh5LnMgPSAtYiwgeSkgOiBuZXcgQmlnTnVtYmVyKHljID8geCA6IE5hTik7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgemVybz9cclxuICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAgICAgcmV0dXJuIHljWzBdID8gKHkucyA9IC1iLCB5KSA6IG5ldyBCaWdOdW1iZXIoeGNbMF0gPyB4IDpcclxuXHJcbiAgICAgICAgIC8vIElFRUUgNzU0ICgyMDA4KSA2LjM6IG4gLSBuID0gLTAgd2hlbiByb3VuZGluZyB0byAtSW5maW5pdHlcclxuICAgICAgICAgUk9VTkRJTkdfTU9ERSA9PSAzID8gLTAgOiAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHhlID0gYml0Rmxvb3IoeGUpO1xyXG4gICAgeWUgPSBiaXRGbG9vcih5ZSk7XHJcbiAgICB4YyA9IHhjLnNsaWNlKCk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGlzIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG4gICAgaWYgKGEgPSB4ZSAtIHllKSB7XHJcblxyXG4gICAgICBpZiAoeExUeSA9IGEgPCAwKSB7XHJcbiAgICAgICAgYSA9IC1hO1xyXG4gICAgICAgIHQgPSB4YztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB5ZSA9IHhlO1xyXG4gICAgICAgIHQgPSB5YztcclxuICAgICAgfVxyXG5cclxuICAgICAgdC5yZXZlcnNlKCk7XHJcblxyXG4gICAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy5cclxuICAgICAgZm9yIChiID0gYTsgYi0tOyB0LnB1c2goMCkpO1xyXG4gICAgICB0LnJldmVyc2UoKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBFeHBvbmVudHMgZXF1YWwuIENoZWNrIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gICAgICBqID0gKHhMVHkgPSAoYSA9IHhjLmxlbmd0aCkgPCAoYiA9IHljLmxlbmd0aCkpID8gYSA6IGI7XHJcblxyXG4gICAgICBmb3IgKGEgPSBiID0gMDsgYiA8IGo7IGIrKykge1xyXG5cclxuICAgICAgICBpZiAoeGNbYl0gIT0geWNbYl0pIHtcclxuICAgICAgICAgIHhMVHkgPSB4Y1tiXSA8IHljW2JdO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8geCA8IHk/IFBvaW50IHhjIHRvIHRoZSBhcnJheSBvZiB0aGUgYmlnZ2VyIG51bWJlci5cclxuICAgIGlmICh4TFR5KSB7XHJcbiAgICAgIHQgPSB4YztcclxuICAgICAgeGMgPSB5YztcclxuICAgICAgeWMgPSB0O1xyXG4gICAgICB5LnMgPSAteS5zO1xyXG4gICAgfVxyXG5cclxuICAgIGIgPSAoaiA9IHljLmxlbmd0aCkgLSAoaSA9IHhjLmxlbmd0aCk7XHJcblxyXG4gICAgLy8gQXBwZW5kIHplcm9zIHRvIHhjIGlmIHNob3J0ZXIuXHJcbiAgICAvLyBObyBuZWVkIHRvIGFkZCB6ZXJvcyB0byB5YyBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0IG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgeWMubGVuZ3RoLlxyXG4gICAgaWYgKGIgPiAwKSBmb3IgKDsgYi0tOyB4Y1tpKytdID0gMCk7XHJcbiAgICBiID0gQkFTRSAtIDE7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgeWMgZnJvbSB4Yy5cclxuICAgIGZvciAoOyBqID4gYTspIHtcclxuXHJcbiAgICAgIGlmICh4Y1stLWpdIDwgeWNbal0pIHtcclxuICAgICAgICBmb3IgKGkgPSBqOyBpICYmICF4Y1stLWldOyB4Y1tpXSA9IGIpO1xyXG4gICAgICAgIC0teGNbaV07XHJcbiAgICAgICAgeGNbal0gKz0gQkFTRTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGNbal0gLT0geWNbal07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MgYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgIGZvciAoOyB4Y1swXSA9PSAwOyB4Yy5zcGxpY2UoMCwgMSksIC0teWUpO1xyXG5cclxuICAgIC8vIFplcm8/XHJcbiAgICBpZiAoIXhjWzBdKSB7XHJcblxyXG4gICAgICAvLyBGb2xsb3dpbmcgSUVFRSA3NTQgKDIwMDgpIDYuMyxcclxuICAgICAgLy8gbiAtIG4gPSArMCAgYnV0ICBuIC0gbiA9IC0wICB3aGVuIHJvdW5kaW5nIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgICB5LnMgPSBST1VORElOR19NT0RFID09IDMgPyAtMSA6IDE7XHJcbiAgICAgIHkuYyA9IFt5LmUgPSAwXTtcclxuICAgICAgcmV0dXJuIHk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgSW5maW5pdHkgYXMgK3ggLSAreSAhPSBJbmZpbml0eSAmJiAteCAtIC15ICE9IEluZmluaXR5XHJcbiAgICAvLyBmb3IgZmluaXRlIHggYW5kIHkuXHJcbiAgICByZXR1cm4gbm9ybWFsaXNlKHksIHhjLCB5ZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogICBuICUgMCA9ICBOXHJcbiAgICogICBuICUgTiA9ICBOXHJcbiAgICogICBuICUgSSA9ICBuXHJcbiAgICogICAwICUgbiA9ICAwXHJcbiAgICogIC0wICUgbiA9IC0wXHJcbiAgICogICAwICUgMCA9ICBOXHJcbiAgICogICAwICUgTiA9ICBOXHJcbiAgICogICAwICUgSSA9ICAwXHJcbiAgICogICBOICUgbiA9ICBOXHJcbiAgICogICBOICUgMCA9ICBOXHJcbiAgICogICBOICUgTiA9ICBOXHJcbiAgICogICBOICUgSSA9ICBOXHJcbiAgICogICBJICUgbiA9ICBOXHJcbiAgICogICBJICUgMCA9ICBOXHJcbiAgICogICBJICUgTiA9ICBOXHJcbiAgICogICBJICUgSSA9ICBOXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtb2R1bG8gdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLiBUaGUgcmVzdWx0IGRlcGVuZHMgb24gdGhlIHZhbHVlIG9mIE1PRFVMT19NT0RFLlxyXG4gICAqL1xyXG4gIFAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIHEsIHMsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgeCBpcyBJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIHplcm8uXHJcbiAgICBpZiAoIXguYyB8fCAheS5zIHx8IHkuYyAmJiAheS5jWzBdKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyBJbmZpbml0eSBvciB4IGlzIHplcm8uXHJcbiAgICB9IGVsc2UgaWYgKCF5LmMgfHwgeC5jICYmICF4LmNbMF0pIHtcclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKE1PRFVMT19NT0RFID09IDkpIHtcclxuXHJcbiAgICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgICAvLyByID0geCAtIHF5ICAgIHdoZXJlICAwIDw9IHIgPCBhYnMoeSlcclxuICAgICAgcyA9IHkucztcclxuICAgICAgeS5zID0gMTtcclxuICAgICAgcSA9IGRpdih4LCB5LCAwLCAzKTtcclxuICAgICAgeS5zID0gcztcclxuICAgICAgcS5zICo9IHM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBxID0gZGl2KHgsIHksIDAsIE1PRFVMT19NT0RFKTtcclxuICAgIH1cclxuXHJcbiAgICB5ID0geC5taW51cyhxLnRpbWVzKHkpKTtcclxuXHJcbiAgICAvLyBUbyBtYXRjaCBKYXZhU2NyaXB0ICUsIGVuc3VyZSBzaWduIG9mIHplcm8gaXMgc2lnbiBvZiBkaXZpZGVuZC5cclxuICAgIGlmICgheS5jWzBdICYmIE1PRFVMT19NT0RFID09IDEpIHkucyA9IHgucztcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAqIDAgPSAwXHJcbiAgICogIG4gKiBOID0gTlxyXG4gICAqICBuICogSSA9IElcclxuICAgKiAgMCAqIG4gPSAwXHJcbiAgICogIDAgKiAwID0gMFxyXG4gICAqICAwICogTiA9IE5cclxuICAgKiAgMCAqIEkgPSBOXHJcbiAgICogIE4gKiBuID0gTlxyXG4gICAqICBOICogMCA9IE5cclxuICAgKiAgTiAqIE4gPSBOXHJcbiAgICogIE4gKiBJID0gTlxyXG4gICAqICBJICogbiA9IElcclxuICAgKiAgSSAqIDAgPSBOXHJcbiAgICogIEkgKiBOID0gTlxyXG4gICAqICBJICogSSA9IElcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG11bHRpcGxpZWQgYnkgdGhlIHZhbHVlXHJcbiAgICogb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAubXVsdGlwbGllZEJ5ID0gUC50aW1lcyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICB2YXIgYywgZSwgaSwgaiwgaywgbSwgeGNMLCB4bG8sIHhoaSwgeWNMLCB5bG8sIHloaSwgemMsXHJcbiAgICAgIGJhc2UsIHNxcnRCYXNlLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHljID0gKHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpKS5jO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4sIFx1MDBCMUluZmluaXR5IG9yIFx1MDBCMTA/XHJcbiAgICBpZiAoIXhjIHx8ICF5YyB8fCAheGNbMF0gfHwgIXljWzBdKSB7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4sIG9yIG9uZSBpcyAwIGFuZCB0aGUgb3RoZXIgaXMgSW5maW5pdHkuXHJcbiAgICAgIGlmICgheC5zIHx8ICF5LnMgfHwgeGMgJiYgIXhjWzBdICYmICF5YyB8fCB5YyAmJiAheWNbMF0gJiYgIXhjKSB7XHJcbiAgICAgICAgeS5jID0geS5lID0geS5zID0gbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB5LnMgKj0geC5zO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gXHUwMEIxSW5maW5pdHkgaWYgZWl0aGVyIGlzIFx1MDBCMUluZmluaXR5LlxyXG4gICAgICAgIGlmICgheGMgfHwgIXljKSB7XHJcbiAgICAgICAgICB5LmMgPSB5LmUgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gXHUwMEIxMCBpZiBlaXRoZXIgaXMgXHUwMEIxMC5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeS5jID0gWzBdO1xyXG4gICAgICAgICAgeS5lID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG5cclxuICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgKyBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICB5LnMgKj0geC5zO1xyXG4gICAgeGNMID0geGMubGVuZ3RoO1xyXG4gICAgeWNMID0geWMubGVuZ3RoO1xyXG5cclxuICAgIC8vIEVuc3VyZSB4YyBwb2ludHMgdG8gbG9uZ2VyIGFycmF5IGFuZCB4Y0wgdG8gaXRzIGxlbmd0aC5cclxuICAgIGlmICh4Y0wgPCB5Y0wpIHtcclxuICAgICAgemMgPSB4YztcclxuICAgICAgeGMgPSB5YztcclxuICAgICAgeWMgPSB6YztcclxuICAgICAgaSA9IHhjTDtcclxuICAgICAgeGNMID0geWNMO1xyXG4gICAgICB5Y0wgPSBpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpc2UgdGhlIHJlc3VsdCBhcnJheSB3aXRoIHplcm9zLlxyXG4gICAgZm9yIChpID0geGNMICsgeWNMLCB6YyA9IFtdOyBpLS07IHpjLnB1c2goMCkpO1xyXG5cclxuICAgIGJhc2UgPSBCQVNFO1xyXG4gICAgc3FydEJhc2UgPSBTUVJUX0JBU0U7XHJcblxyXG4gICAgZm9yIChpID0geWNMOyAtLWkgPj0gMDspIHtcclxuICAgICAgYyA9IDA7XHJcbiAgICAgIHlsbyA9IHljW2ldICUgc3FydEJhc2U7XHJcbiAgICAgIHloaSA9IHljW2ldIC8gc3FydEJhc2UgfCAwO1xyXG5cclxuICAgICAgZm9yIChrID0geGNMLCBqID0gaSArIGs7IGogPiBpOykge1xyXG4gICAgICAgIHhsbyA9IHhjWy0ta10gJSBzcXJ0QmFzZTtcclxuICAgICAgICB4aGkgPSB4Y1trXSAvIHNxcnRCYXNlIHwgMDtcclxuICAgICAgICBtID0geWhpICogeGxvICsgeGhpICogeWxvO1xyXG4gICAgICAgIHhsbyA9IHlsbyAqIHhsbyArICgobSAlIHNxcnRCYXNlKSAqIHNxcnRCYXNlKSArIHpjW2pdICsgYztcclxuICAgICAgICBjID0gKHhsbyAvIGJhc2UgfCAwKSArIChtIC8gc3FydEJhc2UgfCAwKSArIHloaSAqIHhoaTtcclxuICAgICAgICB6Y1tqLS1dID0geGxvICUgYmFzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgemNbal0gPSBjO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjKSB7XHJcbiAgICAgICsrZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHpjLnNwbGljZSgwLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbm9ybWFsaXNlKHksIHpjLCBlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBuZWdhdGVkLFxyXG4gICAqIGkuZS4gbXVsdGlwbGllZCBieSAtMS5cclxuICAgKi9cclxuICBQLm5lZ2F0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICB4LnMgPSAteC5zIHx8IG51bGw7XHJcbiAgICByZXR1cm4geDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiArIDAgPSBuXHJcbiAgICogIG4gKyBOID0gTlxyXG4gICAqICBuICsgSSA9IElcclxuICAgKiAgMCArIG4gPSBuXHJcbiAgICogIDAgKyAwID0gMFxyXG4gICAqICAwICsgTiA9IE5cclxuICAgKiAgMCArIEkgPSBJXHJcbiAgICogIE4gKyBuID0gTlxyXG4gICAqICBOICsgMCA9IE5cclxuICAgKiAgTiArIE4gPSBOXHJcbiAgICogIE4gKyBJID0gTlxyXG4gICAqICBJICsgbiA9IElcclxuICAgKiAgSSArIDAgPSBJXHJcbiAgICogIEkgKyBOID0gTlxyXG4gICAqICBJICsgSSA9IElcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHBsdXMgdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAucGx1cyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICB2YXIgdCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIGEgPSB4LnM7XHJcblxyXG4gICAgeSA9IG5ldyBCaWdOdW1iZXIoeSwgYik7XHJcbiAgICBiID0geS5zO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4/XHJcbiAgICBpZiAoIWEgfHwgIWIpIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gICAgIGlmIChhICE9IGIpIHtcclxuICAgICAgeS5zID0gLWI7XHJcbiAgICAgIHJldHVybiB4Lm1pbnVzKHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB4ZSA9IHguZSAvIExPR19CQVNFLFxyXG4gICAgICB5ZSA9IHkuZSAvIExPR19CQVNFLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWMgPSB5LmM7XHJcblxyXG4gICAgaWYgKCF4ZSB8fCAheWUpIHtcclxuXHJcbiAgICAgIC8vIFJldHVybiBcdTAwQjFJbmZpbml0eSBpZiBlaXRoZXIgXHUwMEIxSW5maW5pdHkuXHJcbiAgICAgIGlmICgheGMgfHwgIXljKSByZXR1cm4gbmV3IEJpZ051bWJlcihhIC8gMCk7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgemVybz9cclxuICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAgIGlmICgheGNbMF0gfHwgIXljWzBdKSByZXR1cm4geWNbMF0gPyB5IDogbmV3IEJpZ051bWJlcih4Y1swXSA/IHggOiBhICogMCk7XHJcbiAgICB9XHJcblxyXG4gICAgeGUgPSBiaXRGbG9vcih4ZSk7XHJcbiAgICB5ZSA9IGJpdEZsb29yKHllKTtcclxuICAgIHhjID0geGMuc2xpY2UoKTtcclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXHJcbiAgICBpZiAoYSA9IHhlIC0geWUpIHtcclxuICAgICAgaWYgKGEgPiAwKSB7XHJcbiAgICAgICAgeWUgPSB4ZTtcclxuICAgICAgICB0ID0geWM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYSA9IC1hO1xyXG4gICAgICAgIHQgPSB4YztcclxuICAgICAgfVxyXG5cclxuICAgICAgdC5yZXZlcnNlKCk7XHJcbiAgICAgIGZvciAoOyBhLS07IHQucHVzaCgwKSk7XHJcbiAgICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGEgPSB4Yy5sZW5ndGg7XHJcbiAgICBiID0geWMubGVuZ3RoO1xyXG5cclxuICAgIC8vIFBvaW50IHhjIHRvIHRoZSBsb25nZXIgYXJyYXksIGFuZCBiIHRvIHRoZSBzaG9ydGVyIGxlbmd0aC5cclxuICAgIGlmIChhIC0gYiA8IDApIHtcclxuICAgICAgdCA9IHljO1xyXG4gICAgICB5YyA9IHhjO1xyXG4gICAgICB4YyA9IHQ7XHJcbiAgICAgIGIgPSBhO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHljLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhjIGNhbiBiZSBpZ25vcmVkLlxyXG4gICAgZm9yIChhID0gMDsgYjspIHtcclxuICAgICAgYSA9ICh4Y1stLWJdID0geGNbYl0gKyB5Y1tiXSArIGEpIC8gQkFTRSB8IDA7XHJcbiAgICAgIHhjW2JdID0gQkFTRSA9PT0geGNbYl0gPyAwIDogeGNbYl0gJSBCQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhKSB7XHJcbiAgICAgIHhjID0gW2FdLmNvbmNhdCh4Yyk7XHJcbiAgICAgICsreWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG4gICAgLy8geWUgPSBNQVhfRVhQICsgMSBwb3NzaWJsZVxyXG4gICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB4YywgeWUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIElmIHNkIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZlxyXG4gICAqIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciwgb3IgbnVsbCBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgXHUwMEIxSW5maW5pdHkgb3IgTmFOLlxyXG4gICAqIElmIHNkIGlzIHRydWUgaW5jbHVkZSBpbnRlZ2VyLXBhcnQgdHJhaWxpbmcgemVyb3MgaW4gdGhlIGNvdW50LlxyXG4gICAqXHJcbiAgICogT3RoZXJ3aXNlLCBpZiBzZCBpcyBhIG51bWJlciwgcmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAqIEJpZ051bWJlciByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3JcclxuICAgKiBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICpcclxuICAgKiBzZCB7bnVtYmVyfGJvb2xlYW59IG51bWJlcjogc2lnbmlmaWNhbnQgZGlnaXRzOiBpbnRlZ2VyLCAxIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogICAgICAgICAgICAgICAgICAgICBib29sZWFuOiB3aGV0aGVyIHRvIGNvdW50IGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvczogdHJ1ZSBvciBmYWxzZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3NkfHJtfSdcclxuICAgKi9cclxuICBQLnByZWNpc2lvbiA9IFAuc2QgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICB2YXIgYywgbiwgdixcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHNkICE9IG51bGwgJiYgc2QgIT09ICEhc2QpIHtcclxuICAgICAgaW50Q2hlY2soc2QsIDEsIE1BWCk7XHJcbiAgICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgICAgcmV0dXJuIHJvdW5kKG5ldyBCaWdOdW1iZXIoeCksIHNkLCBybSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEoYyA9IHguYykpIHJldHVybiBudWxsO1xyXG4gICAgdiA9IGMubGVuZ3RoIC0gMTtcclxuICAgIG4gPSB2ICogTE9HX0JBU0UgKyAxO1xyXG5cclxuICAgIGlmICh2ID0gY1t2XSkge1xyXG5cclxuICAgICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCBlbGVtZW50LlxyXG4gICAgICBmb3IgKDsgdiAlIDEwID09IDA7IHYgLz0gMTAsIG4tLSk7XHJcblxyXG4gICAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgIGZvciAodiA9IGNbMF07IHYgPj0gMTA7IHYgLz0gMTAsIG4rKyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNkICYmIHguZSArIDEgPiBuKSBuID0geC5lICsgMTtcclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBzaGlmdGVkIGJ5IGsgcGxhY2VzXHJcbiAgICogKHBvd2VycyBvZiAxMCkuIFNoaWZ0IHRvIHRoZSByaWdodCBpZiBuID4gMCwgYW5kIHRvIHRoZSBsZWZ0IGlmIG4gPCAwLlxyXG4gICAqXHJcbiAgICogayB7bnVtYmVyfSBJbnRlZ2VyLCAtTUFYX1NBRkVfSU5URUdFUiB0byBNQVhfU0FGRV9JTlRFR0VSIGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7a30nXHJcbiAgICovXHJcbiAgUC5zaGlmdGVkQnkgPSBmdW5jdGlvbiAoaykge1xyXG4gICAgaW50Q2hlY2soaywgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpO1xyXG4gICAgcmV0dXJuIHRoaXMudGltZXMoJzFlJyArIGspO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBzcXJ0KC1uKSA9ICBOXHJcbiAgICogIHNxcnQoTikgPSAgTlxyXG4gICAqICBzcXJ0KC1JKSA9ICBOXHJcbiAgICogIHNxcnQoSSkgPSAgSVxyXG4gICAqICBzcXJ0KDApID0gIDBcclxuICAgKiAgc3FydCgtMCkgPSAtMFxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLFxyXG4gICAqIHJvdW5kZWQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxyXG4gICAqL1xyXG4gIFAuc3F1YXJlUm9vdCA9IFAuc3FydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtLCBuLCByLCByZXAsIHQsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBjID0geC5jLFxyXG4gICAgICBzID0geC5zLFxyXG4gICAgICBlID0geC5lLFxyXG4gICAgICBkcCA9IERFQ0lNQUxfUExBQ0VTICsgNCxcclxuICAgICAgaGFsZiA9IG5ldyBCaWdOdW1iZXIoJzAuNScpO1xyXG5cclxuICAgIC8vIE5lZ2F0aXZlL05hTi9JbmZpbml0eS96ZXJvP1xyXG4gICAgaWYgKHMgIT09IDEgfHwgIWMgfHwgIWNbMF0pIHtcclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoIXMgfHwgcyA8IDAgJiYgKCFjIHx8IGNbMF0pID8gTmFOIDogYyA/IHggOiAxIC8gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdGlhbCBlc3RpbWF0ZS5cclxuICAgIHMgPSBNYXRoLnNxcnQoK3ZhbHVlT2YoeCkpO1xyXG5cclxuICAgIC8vIE1hdGguc3FydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgICAvLyBQYXNzIHggdG8gTWF0aC5zcXJ0IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSBleHBvbmVudCBvZiB0aGUgcmVzdWx0LlxyXG4gICAgaWYgKHMgPT0gMCB8fCBzID09IDEgLyAwKSB7XHJcbiAgICAgIG4gPSBjb2VmZlRvU3RyaW5nKGMpO1xyXG4gICAgICBpZiAoKG4ubGVuZ3RoICsgZSkgJSAyID09IDApIG4gKz0gJzAnO1xyXG4gICAgICBzID0gTWF0aC5zcXJ0KCtuKTtcclxuICAgICAgZSA9IGJpdEZsb29yKChlICsgMSkgLyAyKSAtIChlIDwgMCB8fCBlICUgMik7XHJcblxyXG4gICAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICAgIG4gPSAnNWUnICsgZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHIgPSBuZXcgQmlnTnVtYmVyKG4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9IG5ldyBCaWdOdW1iZXIocyArICcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBmb3IgemVyby5cclxuICAgIC8vIHIgY291bGQgYmUgemVybyBpZiBNSU5fRVhQIGlzIGNoYW5nZWQgYWZ0ZXIgdGhlIHRoaXMgdmFsdWUgd2FzIGNyZWF0ZWQuXHJcbiAgICAvLyBUaGlzIHdvdWxkIGNhdXNlIGEgZGl2aXNpb24gYnkgemVybyAoeC90KSBhbmQgaGVuY2UgSW5maW5pdHkgYmVsb3csIHdoaWNoIHdvdWxkIGNhdXNlXHJcbiAgICAvLyBjb2VmZlRvU3RyaW5nIHRvIHRocm93LlxyXG4gICAgaWYgKHIuY1swXSkge1xyXG4gICAgICBlID0gci5lO1xyXG4gICAgICBzID0gZSArIGRwO1xyXG4gICAgICBpZiAocyA8IDMpIHMgPSAwO1xyXG5cclxuICAgICAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxyXG4gICAgICBmb3IgKDsgOykge1xyXG4gICAgICAgIHQgPSByO1xyXG4gICAgICAgIHIgPSBoYWxmLnRpbWVzKHQucGx1cyhkaXYoeCwgdCwgZHAsIDEpKSk7XHJcblxyXG4gICAgICAgIGlmIChjb2VmZlRvU3RyaW5nKHQuYykuc2xpY2UoMCwgcykgPT09IChuID0gY29lZmZUb1N0cmluZyhyLmMpKS5zbGljZSgwLCBzKSkge1xyXG5cclxuICAgICAgICAgIC8vIFRoZSBleHBvbmVudCBvZiByIG1heSBoZXJlIGJlIG9uZSBsZXNzIHRoYW4gdGhlIGZpbmFsIHJlc3VsdCBleHBvbmVudCxcclxuICAgICAgICAgIC8vIGUuZyAwLjAwMDk5OTkgKGUtNCkgLS0+IDAuMDAxIChlLTMpLCBzbyBhZGp1c3QgcyBzbyB0aGUgcm91bmRpbmcgZGlnaXRzXHJcbiAgICAgICAgICAvLyBhcmUgaW5kZXhlZCBjb3JyZWN0bHkuXHJcbiAgICAgICAgICBpZiAoci5lIDwgZSkgLS1zO1xyXG4gICAgICAgICAgbiA9IG4uc2xpY2UocyAtIDMsIHMgKyAxKTtcclxuXHJcbiAgICAgICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHNcclxuICAgICAgICAgIC8vIGFyZSA5OTk5IG9yIDQ5OTkgKGkuZS4gYXBwcm9hY2hpbmcgYSByb3VuZGluZyBib3VuZGFyeSkgY29udGludWUgdGhlXHJcbiAgICAgICAgICAvLyBpdGVyYXRpb24uXHJcbiAgICAgICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvbmx5LCBjaGVjayB0byBzZWUgaWYgcm91bmRpbmcgdXAgZ2l2ZXMgdGhlXHJcbiAgICAgICAgICAgIC8vIGV4YWN0IHJlc3VsdCBhcyB0aGUgbmluZXMgbWF5IGluZmluaXRlbHkgcmVwZWF0LlxyXG4gICAgICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgICAgIHJvdW5kKHQsIHQuZSArIERFQ0lNQUxfUExBQ0VTICsgMiwgMCk7XHJcblxyXG4gICAgICAgICAgICAgIGlmICh0LnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgICAgICByID0gdDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZHAgKz0gNDtcclxuICAgICAgICAgICAgcyArPSA0O1xyXG4gICAgICAgICAgICByZXAgPSAxO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBleGFjdFxyXG4gICAgICAgICAgICAvLyByZXN1bHQuIElmIG5vdCwgdGhlbiB0aGVyZSBhcmUgZnVydGhlciBkaWdpdHMgYW5kIG0gd2lsbCBiZSB0cnV0aHkuXHJcbiAgICAgICAgICAgIGlmICghK24gfHwgIStuLnNsaWNlKDEpICYmIG4uY2hhckF0KDApID09ICc1Jykge1xyXG5cclxuICAgICAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICAgICAgcm91bmQociwgci5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAxKTtcclxuICAgICAgICAgICAgICBtID0gIXIudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByb3VuZChyLCByLmUgKyBERUNJTUFMX1BMQUNFUyArIDEsIFJPVU5ESU5HX01PREUsIG0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIGFuZFxyXG4gICAqIHJvdW5kZWQgdXNpbmcgUk9VTkRJTkdfTU9ERSB0byBkcCBmaXhlZCBkZWNpbWFsIHBsYWNlcy5cclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgKi9cclxuICBQLnRvRXhwb25lbnRpYWwgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICBpZiAoZHAgIT0gbnVsbCkge1xyXG4gICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgZHArKztcclxuICAgIH1cclxuICAgIHJldHVybiBmb3JtYXQodGhpcywgZHAsIHJtLCAxKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBmaXhlZC1wb2ludCBub3RhdGlvbiByb3VuZGluZ1xyXG4gICAqIHRvIGRwIGZpeGVkIGRlY2ltYWwgcGxhY2VzIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIE5vdGU6IGFzIHdpdGggSmF2YVNjcmlwdCdzIG51bWJlciB0eXBlLCAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLFxyXG4gICAqIGJ1dCBlLmcuICgtMC4wMDAwMSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqL1xyXG4gIFAudG9GaXhlZCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICBkcCA9IGRwICsgdGhpcy5lICsgMTtcclxuICAgIH1cclxuICAgIHJldHVybiBmb3JtYXQodGhpcywgZHAsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBmaXhlZC1wb2ludCBub3RhdGlvbiByb3VuZGVkXHJcbiAgICogdXNpbmcgcm0gb3IgUk9VTkRJTkdfTU9ERSB0byBkcCBkZWNpbWFsIHBsYWNlcywgYW5kIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHByb3BlcnRpZXNcclxuICAgKiBvZiB0aGUgZm9ybWF0IG9yIEZPUk1BVCBvYmplY3QgKHNlZSBCaWdOdW1iZXIuc2V0KS5cclxuICAgKlxyXG4gICAqIFRoZSBmb3JtYXR0aW5nIG9iamVjdCBtYXkgY29udGFpbiBzb21lIG9yIGFsbCBvZiB0aGUgcHJvcGVydGllcyBzaG93biBiZWxvdy5cclxuICAgKlxyXG4gICAqIEZPUk1BVCA9IHtcclxuICAgKiAgIHByZWZpeDogJycsXHJcbiAgICogICBncm91cFNpemU6IDMsXHJcbiAgICogICBzZWNvbmRhcnlHcm91cFNpemU6IDAsXHJcbiAgICogICBncm91cFNlcGFyYXRvcjogJywnLFxyXG4gICAqICAgZGVjaW1hbFNlcGFyYXRvcjogJy4nLFxyXG4gICAqICAgZnJhY3Rpb25Hcm91cFNpemU6IDAsXHJcbiAgICogICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yOiAnXFx4QTAnLCAgICAgIC8vIG5vbi1icmVha2luZyBzcGFjZVxyXG4gICAqICAgc3VmZml4OiAnJ1xyXG4gICAqIH07XHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqIFtmb3JtYXRdIHtvYmplY3R9IEZvcm1hdHRpbmcgb3B0aW9ucy4gU2VlIEZPUk1BVCBwYmplY3QgYWJvdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfHJtfSdcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQgbm90IGFuIG9iamVjdDoge2Zvcm1hdH0nXHJcbiAgICovXHJcbiAgUC50b0Zvcm1hdCA9IGZ1bmN0aW9uIChkcCwgcm0sIGZvcm1hdCkge1xyXG4gICAgdmFyIHN0cixcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKGZvcm1hdCA9PSBudWxsKSB7XHJcbiAgICAgIGlmIChkcCAhPSBudWxsICYmIHJtICYmIHR5cGVvZiBybSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGZvcm1hdCA9IHJtO1xyXG4gICAgICAgIHJtID0gbnVsbDtcclxuICAgICAgfSBlbHNlIGlmIChkcCAmJiB0eXBlb2YgZHAgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICBmb3JtYXQgPSBkcDtcclxuICAgICAgICBkcCA9IHJtID0gbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3JtYXQgPSBGT1JNQVQ7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCAhPSAnb2JqZWN0Jykge1xyXG4gICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgIChiaWdudW1iZXJFcnJvciArICdBcmd1bWVudCBub3QgYW4gb2JqZWN0OiAnICsgZm9ybWF0KTtcclxuICAgIH1cclxuXHJcbiAgICBzdHIgPSB4LnRvRml4ZWQoZHAsIHJtKTtcclxuXHJcbiAgICBpZiAoeC5jKSB7XHJcbiAgICAgIHZhciBpLFxyXG4gICAgICAgIGFyciA9IHN0ci5zcGxpdCgnLicpLFxyXG4gICAgICAgIGcxID0gK2Zvcm1hdC5ncm91cFNpemUsXHJcbiAgICAgICAgZzIgPSArZm9ybWF0LnNlY29uZGFyeUdyb3VwU2l6ZSxcclxuICAgICAgICBncm91cFNlcGFyYXRvciA9IGZvcm1hdC5ncm91cFNlcGFyYXRvciB8fCAnJyxcclxuICAgICAgICBpbnRQYXJ0ID0gYXJyWzBdLFxyXG4gICAgICAgIGZyYWN0aW9uUGFydCA9IGFyclsxXSxcclxuICAgICAgICBpc05lZyA9IHgucyA8IDAsXHJcbiAgICAgICAgaW50RGlnaXRzID0gaXNOZWcgPyBpbnRQYXJ0LnNsaWNlKDEpIDogaW50UGFydCxcclxuICAgICAgICBsZW4gPSBpbnREaWdpdHMubGVuZ3RoO1xyXG5cclxuICAgICAgaWYgKGcyKSB7XHJcbiAgICAgICAgaSA9IGcxO1xyXG4gICAgICAgIGcxID0gZzI7XHJcbiAgICAgICAgZzIgPSBpO1xyXG4gICAgICAgIGxlbiAtPSBpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZzEgPiAwICYmIGxlbiA+IDApIHtcclxuICAgICAgICBpID0gbGVuICUgZzEgfHwgZzE7XHJcbiAgICAgICAgaW50UGFydCA9IGludERpZ2l0cy5zdWJzdHIoMCwgaSk7XHJcbiAgICAgICAgZm9yICg7IGkgPCBsZW47IGkgKz0gZzEpIGludFBhcnQgKz0gZ3JvdXBTZXBhcmF0b3IgKyBpbnREaWdpdHMuc3Vic3RyKGksIGcxKTtcclxuICAgICAgICBpZiAoZzIgPiAwKSBpbnRQYXJ0ICs9IGdyb3VwU2VwYXJhdG9yICsgaW50RGlnaXRzLnNsaWNlKGkpO1xyXG4gICAgICAgIGlmIChpc05lZykgaW50UGFydCA9ICctJyArIGludFBhcnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0ciA9IGZyYWN0aW9uUGFydFxyXG4gICAgICAgPyBpbnRQYXJ0ICsgKGZvcm1hdC5kZWNpbWFsU2VwYXJhdG9yIHx8ICcnKSArICgoZzIgPSArZm9ybWF0LmZyYWN0aW9uR3JvdXBTaXplKVxyXG4gICAgICAgID8gZnJhY3Rpb25QYXJ0LnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXGR7JyArIGcyICsgJ31cXFxcQicsICdnJyksXHJcbiAgICAgICAgICckJicgKyAoZm9ybWF0LmZyYWN0aW9uR3JvdXBTZXBhcmF0b3IgfHwgJycpKVxyXG4gICAgICAgIDogZnJhY3Rpb25QYXJ0KVxyXG4gICAgICAgOiBpbnRQYXJ0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoZm9ybWF0LnByZWZpeCB8fCAnJykgKyBzdHIgKyAoZm9ybWF0LnN1ZmZpeCB8fCAnJyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGFuIGFycmF5IG9mIHR3byBCaWdOdW1iZXJzIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgYXMgYSBzaW1wbGVcclxuICAgKiBmcmFjdGlvbiB3aXRoIGFuIGludGVnZXIgbnVtZXJhdG9yIGFuZCBhbiBpbnRlZ2VyIGRlbm9taW5hdG9yLlxyXG4gICAqIFRoZSBkZW5vbWluYXRvciB3aWxsIGJlIGEgcG9zaXRpdmUgbm9uLXplcm8gdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzcGVjaWZpZWRcclxuICAgKiBtYXhpbXVtIGRlbm9taW5hdG9yLiBJZiBhIG1heGltdW0gZGVub21pbmF0b3IgaXMgbm90IHNwZWNpZmllZCwgdGhlIGRlbm9taW5hdG9yIHdpbGwgYmVcclxuICAgKiB0aGUgbG93ZXN0IHZhbHVlIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIG51bWJlciBleGFjdGx5LlxyXG4gICAqXHJcbiAgICogW21kXSB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IEludGVnZXIgPj0gMSwgb3IgSW5maW5pdHkuIFRoZSBtYXhpbXVtIGRlbm9taW5hdG9yLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9IDoge21kfSdcclxuICAgKi9cclxuICBQLnRvRnJhY3Rpb24gPSBmdW5jdGlvbiAobWQpIHtcclxuICAgIHZhciBkLCBkMCwgZDEsIGQyLCBlLCBleHAsIG4sIG4wLCBuMSwgcSwgciwgcyxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIHhjID0geC5jO1xyXG5cclxuICAgIGlmIChtZCAhPSBudWxsKSB7XHJcbiAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKG1kKTtcclxuXHJcbiAgICAgIC8vIFRocm93IGlmIG1kIGlzIGxlc3MgdGhhbiBvbmUgb3IgaXMgbm90IGFuIGludGVnZXIsIHVubGVzcyBpdCBpcyBJbmZpbml0eS5cclxuICAgICAgaWYgKCFuLmlzSW50ZWdlcigpICYmIChuLmMgfHwgbi5zICE9PSAxKSB8fCBuLmx0KE9ORSkpIHtcclxuICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0FyZ3VtZW50ICcgK1xyXG4gICAgICAgICAgICAobi5pc0ludGVnZXIoKSA/ICdvdXQgb2YgcmFuZ2U6ICcgOiAnbm90IGFuIGludGVnZXI6ICcpICsgdmFsdWVPZihuKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXhjKSByZXR1cm4gbmV3IEJpZ051bWJlcih4KTtcclxuXHJcbiAgICBkID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG4gICAgbjEgPSBkMCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuICAgIGQxID0gbjAgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcbiAgICBzID0gY29lZmZUb1N0cmluZyh4Yyk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGluaXRpYWwgZGVub21pbmF0b3IuXHJcbiAgICAvLyBkIGlzIGEgcG93ZXIgb2YgMTAgYW5kIHRoZSBtaW5pbXVtIG1heCBkZW5vbWluYXRvciB0aGF0IHNwZWNpZmllcyB0aGUgdmFsdWUgZXhhY3RseS5cclxuICAgIGUgPSBkLmUgPSBzLmxlbmd0aCAtIHguZSAtIDE7XHJcbiAgICBkLmNbMF0gPSBQT1dTX1RFTlsoZXhwID0gZSAlIExPR19CQVNFKSA8IDAgPyBMT0dfQkFTRSArIGV4cCA6IGV4cF07XHJcbiAgICBtZCA9ICFtZCB8fCBuLmNvbXBhcmVkVG8oZCkgPiAwID8gKGUgPiAwID8gZCA6IG4xKSA6IG47XHJcblxyXG4gICAgZXhwID0gTUFYX0VYUDtcclxuICAgIE1BWF9FWFAgPSAxIC8gMDtcclxuICAgIG4gPSBuZXcgQmlnTnVtYmVyKHMpO1xyXG5cclxuICAgIC8vIG4wID0gZDEgPSAwXHJcbiAgICBuMC5jWzBdID0gMDtcclxuXHJcbiAgICBmb3IgKDsgOykgIHtcclxuICAgICAgcSA9IGRpdihuLCBkLCAwLCAxKTtcclxuICAgICAgZDIgPSBkMC5wbHVzKHEudGltZXMoZDEpKTtcclxuICAgICAgaWYgKGQyLmNvbXBhcmVkVG8obWQpID09IDEpIGJyZWFrO1xyXG4gICAgICBkMCA9IGQxO1xyXG4gICAgICBkMSA9IGQyO1xyXG4gICAgICBuMSA9IG4wLnBsdXMocS50aW1lcyhkMiA9IG4xKSk7XHJcbiAgICAgIG4wID0gZDI7XHJcbiAgICAgIGQgPSBuLm1pbnVzKHEudGltZXMoZDIgPSBkKSk7XHJcbiAgICAgIG4gPSBkMjtcclxuICAgIH1cclxuXHJcbiAgICBkMiA9IGRpdihtZC5taW51cyhkMCksIGQxLCAwLCAxKTtcclxuICAgIG4wID0gbjAucGx1cyhkMi50aW1lcyhuMSkpO1xyXG4gICAgZDAgPSBkMC5wbHVzKGQyLnRpbWVzKGQxKSk7XHJcbiAgICBuMC5zID0gbjEucyA9IHgucztcclxuICAgIGUgPSBlICogMjtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggZnJhY3Rpb24gaXMgY2xvc2VyIHRvIHgsIG4wL2QwIG9yIG4xL2QxXHJcbiAgICByID0gZGl2KG4xLCBkMSwgZSwgUk9VTkRJTkdfTU9ERSkubWludXMoeCkuYWJzKCkuY29tcGFyZWRUbyhcclxuICAgICAgICBkaXYobjAsIGQwLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKSkgPCAxID8gW24xLCBkMV0gOiBbbjAsIGQwXTtcclxuXHJcbiAgICBNQVhfRVhQID0gZXhwO1xyXG5cclxuICAgIHJldHVybiByO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgY29udmVydGVkIHRvIGEgbnVtYmVyIHByaW1pdGl2ZS5cclxuICAgKi9cclxuICBQLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICt2YWx1ZU9mKHRoaXMpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gc2Qgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAgICogdXNpbmcgcm91bmRpbmcgbW9kZSBybSBvciBST1VORElOR19NT0RFLiBJZiBzZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHNcclxuICAgKiBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBpbnRlZ2VyIHBhcnQgb2YgdGhlIHZhbHVlIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uLCB0aGVuIHVzZVxyXG4gICAqIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAqXHJcbiAgICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3NkfHJtfSdcclxuICAgKi9cclxuICBQLnRvUHJlY2lzaW9uID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gICAgaWYgKHNkICE9IG51bGwpIGludENoZWNrKHNkLCAxLCBNQVgpO1xyXG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBzZCwgcm0sIDIpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGJhc2UgYiwgb3IgYmFzZSAxMCBpZiBiIGlzXHJcbiAgICogb21pdHRlZC4gSWYgYSBiYXNlIGlzIHNwZWNpZmllZCwgaW5jbHVkaW5nIGJhc2UgMTAsIHJvdW5kIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmRcclxuICAgKiBST1VORElOR19NT0RFLiBJZiBhIGJhc2UgaXMgbm90IHNwZWNpZmllZCwgYW5kIHRoaXMgQmlnTnVtYmVyIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50XHJcbiAgICogdGhhdCBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gVE9fRVhQX1BPUywgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW5cclxuICAgKiBUT19FWFBfTkVHLCByZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICpcclxuICAgKiBbYl0ge251bWJlcn0gSW50ZWdlciwgMiB0byBBTFBIQUJFVC5sZW5ndGggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEJhc2Uge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2J9J1xyXG4gICAqL1xyXG4gIFAudG9TdHJpbmcgPSBmdW5jdGlvbiAoYikge1xyXG4gICAgdmFyIHN0cixcclxuICAgICAgbiA9IHRoaXMsXHJcbiAgICAgIHMgPSBuLnMsXHJcbiAgICAgIGUgPSBuLmU7XHJcblxyXG4gICAgLy8gSW5maW5pdHkgb3IgTmFOP1xyXG4gICAgaWYgKGUgPT09IG51bGwpIHtcclxuICAgICAgaWYgKHMpIHtcclxuICAgICAgICBzdHIgPSAnSW5maW5pdHknO1xyXG4gICAgICAgIGlmIChzIDwgMCkgc3RyID0gJy0nICsgc3RyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0ciA9ICdOYU4nO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoYiA9PSBudWxsKSB7XHJcbiAgICAgICAgc3RyID0gZSA8PSBUT19FWFBfTkVHIHx8IGUgPj0gVE9fRVhQX1BPU1xyXG4gICAgICAgICA/IHRvRXhwb25lbnRpYWwoY29lZmZUb1N0cmluZyhuLmMpLCBlKVxyXG4gICAgICAgICA6IHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKG4uYyksIGUsICcwJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMTAgJiYgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzKSB7XHJcbiAgICAgICAgbiA9IHJvdW5kKG5ldyBCaWdOdW1iZXIobiksIERFQ0lNQUxfUExBQ0VTICsgZSArIDEsIFJPVU5ESU5HX01PREUpO1xyXG4gICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKG4uYyksIG4uZSwgJzAnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbnRDaGVjayhiLCAyLCBBTFBIQUJFVC5sZW5ndGgsICdCYXNlJyk7XHJcbiAgICAgICAgc3RyID0gY29udmVydEJhc2UodG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgZSwgJzAnKSwgMTAsIGIsIHMsIHRydWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocyA8IDAgJiYgbi5jWzBdKSBzdHIgPSAnLScgKyBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYXMgdG9TdHJpbmcsIGJ1dCBkbyBub3QgYWNjZXB0IGEgYmFzZSBhcmd1bWVudCwgYW5kIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24gZm9yXHJcbiAgICogbmVnYXRpdmUgemVyby5cclxuICAgKi9cclxuICBQLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB2YWx1ZU9mKHRoaXMpO1xyXG4gIH07XHJcblxyXG5cclxuICBQLl9pc0JpZ051bWJlciA9IHRydWU7XHJcblxyXG4gIFBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCaWdOdW1iZXInO1xyXG5cclxuICAvLyBOb2RlLmpzIHYxMC4xMi4wK1xyXG4gIFBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSBQLnZhbHVlT2Y7XHJcblxyXG4gIGlmIChjb25maWdPYmplY3QgIT0gbnVsbCkgQmlnTnVtYmVyLnNldChjb25maWdPYmplY3QpO1xyXG5cclxuICByZXR1cm4gQmlnTnVtYmVyO1xyXG59XHJcblxyXG5cclxuLy8gUFJJVkFURSBIRUxQRVIgRlVOQ1RJT05TXHJcblxyXG4vLyBUaGVzZSBmdW5jdGlvbnMgZG9uJ3QgbmVlZCBhY2Nlc3MgdG8gdmFyaWFibGVzLFxyXG4vLyBlLmcuIERFQ0lNQUxfUExBQ0VTLCBpbiB0aGUgc2NvcGUgb2YgdGhlIGBjbG9uZWAgZnVuY3Rpb24gYWJvdmUuXHJcblxyXG5cclxuZnVuY3Rpb24gYml0Rmxvb3Iobikge1xyXG4gIHZhciBpID0gbiB8IDA7XHJcbiAgcmV0dXJuIG4gPiAwIHx8IG4gPT09IGkgPyBpIDogaSAtIDE7XHJcbn1cclxuXHJcblxyXG4vLyBSZXR1cm4gYSBjb2VmZmljaWVudCBhcnJheSBhcyBhIHN0cmluZyBvZiBiYXNlIDEwIGRpZ2l0cy5cclxuZnVuY3Rpb24gY29lZmZUb1N0cmluZyhhKSB7XHJcbiAgdmFyIHMsIHosXHJcbiAgICBpID0gMSxcclxuICAgIGogPSBhLmxlbmd0aCxcclxuICAgIHIgPSBhWzBdICsgJyc7XHJcblxyXG4gIGZvciAoOyBpIDwgajspIHtcclxuICAgIHMgPSBhW2krK10gKyAnJztcclxuICAgIHogPSBMT0dfQkFTRSAtIHMubGVuZ3RoO1xyXG4gICAgZm9yICg7IHotLTsgcyA9ICcwJyArIHMpO1xyXG4gICAgciArPSBzO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoaiA9IHIubGVuZ3RoOyByLmNoYXJDb2RlQXQoLS1qKSA9PT0gNDg7KTtcclxuXHJcbiAgcmV0dXJuIHIuc2xpY2UoMCwgaiArIDEgfHwgMSk7XHJcbn1cclxuXHJcblxyXG4vLyBDb21wYXJlIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXJzIHggYW5kIHkuXHJcbmZ1bmN0aW9uIGNvbXBhcmUoeCwgeSkge1xyXG4gIHZhciBhLCBiLFxyXG4gICAgeGMgPSB4LmMsXHJcbiAgICB5YyA9IHkuYyxcclxuICAgIGkgPSB4LnMsXHJcbiAgICBqID0geS5zLFxyXG4gICAgayA9IHguZSxcclxuICAgIGwgPSB5LmU7XHJcblxyXG4gIC8vIEVpdGhlciBOYU4/XHJcbiAgaWYgKCFpIHx8ICFqKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgYSA9IHhjICYmICF4Y1swXTtcclxuICBiID0geWMgJiYgIXljWzBdO1xyXG5cclxuICAvLyBFaXRoZXIgemVybz9cclxuICBpZiAoYSB8fCBiKSByZXR1cm4gYSA/IGIgPyAwIDogLWogOiBpO1xyXG5cclxuICAvLyBTaWducyBkaWZmZXI/XHJcbiAgaWYgKGkgIT0gaikgcmV0dXJuIGk7XHJcblxyXG4gIGEgPSBpIDwgMDtcclxuICBiID0gayA9PSBsO1xyXG5cclxuICAvLyBFaXRoZXIgSW5maW5pdHk/XHJcbiAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBiID8gMCA6ICF4YyBeIGEgPyAxIDogLTE7XHJcblxyXG4gIC8vIENvbXBhcmUgZXhwb25lbnRzLlxyXG4gIGlmICghYikgcmV0dXJuIGsgPiBsIF4gYSA/IDEgOiAtMTtcclxuXHJcbiAgaiA9IChrID0geGMubGVuZ3RoKSA8IChsID0geWMubGVuZ3RoKSA/IGsgOiBsO1xyXG5cclxuICAvLyBDb21wYXJlIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gIGZvciAoaSA9IDA7IGkgPCBqOyBpKyspIGlmICh4Y1tpXSAhPSB5Y1tpXSkgcmV0dXJuIHhjW2ldID4geWNbaV0gXiBhID8gMSA6IC0xO1xyXG5cclxuICAvLyBDb21wYXJlIGxlbmd0aHMuXHJcbiAgcmV0dXJuIGsgPT0gbCA/IDAgOiBrID4gbCBeIGEgPyAxIDogLTE7XHJcbn1cclxuXHJcblxyXG4vKlxyXG4gKiBDaGVjayB0aGF0IG4gaXMgYSBwcmltaXRpdmUgbnVtYmVyLCBhbiBpbnRlZ2VyLCBhbmQgaW4gcmFuZ2UsIG90aGVyd2lzZSB0aHJvdy5cclxuICovXHJcbmZ1bmN0aW9uIGludENoZWNrKG4sIG1pbiwgbWF4LCBuYW1lKSB7XHJcbiAgaWYgKG4gPCBtaW4gfHwgbiA+IG1heCB8fCBuICE9PSBtYXRoZmxvb3IobikpIHtcclxuICAgIHRocm93IEVycm9yXHJcbiAgICAgKGJpZ251bWJlckVycm9yICsgKG5hbWUgfHwgJ0FyZ3VtZW50JykgKyAodHlwZW9mIG4gPT0gJ251bWJlcidcclxuICAgICAgID8gbiA8IG1pbiB8fCBuID4gbWF4ID8gJyBvdXQgb2YgcmFuZ2U6ICcgOiAnIG5vdCBhbiBpbnRlZ2VyOiAnXHJcbiAgICAgICA6ICcgbm90IGEgcHJpbWl0aXZlIG51bWJlcjogJykgKyBTdHJpbmcobikpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIEFzc3VtZXMgZmluaXRlIG4uXHJcbmZ1bmN0aW9uIGlzT2RkKG4pIHtcclxuICB2YXIgayA9IG4uYy5sZW5ndGggLSAxO1xyXG4gIHJldHVybiBiaXRGbG9vcihuLmUgLyBMT0dfQkFTRSkgPT0gayAmJiBuLmNba10gJSAyICE9IDA7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB0b0V4cG9uZW50aWFsKHN0ciwgZSkge1xyXG4gIHJldHVybiAoc3RyLmxlbmd0aCA+IDEgPyBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpIDogc3RyKSArXHJcbiAgIChlIDwgMCA/ICdlJyA6ICdlKycpICsgZTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvRml4ZWRQb2ludChzdHIsIGUsIHopIHtcclxuICB2YXIgbGVuLCB6cztcclxuXHJcbiAgLy8gTmVnYXRpdmUgZXhwb25lbnQ/XHJcbiAgaWYgKGUgPCAwKSB7XHJcblxyXG4gICAgLy8gUHJlcGVuZCB6ZXJvcy5cclxuICAgIGZvciAoenMgPSB6ICsgJy4nOyArK2U7IHpzICs9IHopO1xyXG4gICAgc3RyID0genMgKyBzdHI7XHJcblxyXG4gIC8vIFBvc2l0aXZlIGV4cG9uZW50XHJcbiAgfSBlbHNlIHtcclxuICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcblxyXG4gICAgLy8gQXBwZW5kIHplcm9zLlxyXG4gICAgaWYgKCsrZSA+IGxlbikge1xyXG4gICAgICBmb3IgKHpzID0geiwgZSAtPSBsZW47IC0tZTsgenMgKz0geik7XHJcbiAgICAgIHN0ciArPSB6cztcclxuICAgIH0gZWxzZSBpZiAoZSA8IGxlbikge1xyXG4gICAgICBzdHIgPSBzdHIuc2xpY2UoMCwgZSkgKyAnLicgKyBzdHIuc2xpY2UoZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RyO1xyXG59XHJcblxyXG5cclxuLy8gRVhQT1JUXHJcblxyXG5cclxuZXhwb3J0IHZhciBCaWdOdW1iZXIgPSBjbG9uZSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmlnTnVtYmVyO1xyXG4iLCAiY2xhc3MgU3BsYXlUcmVlTm9kZSB7XHJcbiAgICBrZXk7XHJcbiAgICBsZWZ0ID0gbnVsbDtcclxuICAgIHJpZ2h0ID0gbnVsbDtcclxuICAgIGNvbnN0cnVjdG9yKGtleSkge1xyXG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFNwbGF5VHJlZVNldE5vZGUgZXh0ZW5kcyBTcGxheVRyZWVOb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKGtleSkge1xyXG4gICAgICAgIHN1cGVyKGtleSk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlTWFwTm9kZSBleHRlbmRzIFNwbGF5VHJlZU5vZGUge1xyXG4gICAgdmFsdWU7XHJcbiAgICBjb25zdHJ1Y3RvcihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgc3VwZXIoa2V5KTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXBsYWNlVmFsdWUodmFsdWUpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gbmV3IFNwbGF5VHJlZU1hcE5vZGUodGhpcy5rZXksIHZhbHVlKTtcclxuICAgICAgICBub2RlLmxlZnQgPSB0aGlzLmxlZnQ7XHJcbiAgICAgICAgbm9kZS5yaWdodCA9IHRoaXMucmlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlIHtcclxuICAgIHNpemUgPSAwO1xyXG4gICAgbW9kaWZpY2F0aW9uQ291bnQgPSAwO1xyXG4gICAgc3BsYXlDb3VudCA9IDA7XHJcbiAgICBzcGxheShrZXkpIHtcclxuICAgICAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xyXG4gICAgICAgIGlmIChyb290ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wYXJlKGtleSwga2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmlnaHQgPSBudWxsO1xyXG4gICAgICAgIGxldCBuZXdUcmVlUmlnaHQgPSBudWxsO1xyXG4gICAgICAgIGxldCBsZWZ0ID0gbnVsbDtcclxuICAgICAgICBsZXQgbmV3VHJlZUxlZnQgPSBudWxsO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gcm9vdDtcclxuICAgICAgICBjb25zdCBjb21wYXJlID0gdGhpcy5jb21wYXJlO1xyXG4gICAgICAgIGxldCBjb21wO1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbXAgPSBjb21wYXJlKGN1cnJlbnQua2V5LCBrZXkpO1xyXG4gICAgICAgICAgICBpZiAoY29tcCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50TGVmdCA9IGN1cnJlbnQubGVmdDtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TGVmdCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY29tcCA9IGNvbXBhcmUoY3VycmVudExlZnQua2V5LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5sZWZ0ID0gY3VycmVudExlZnQucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExlZnQucmlnaHQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50TGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGVmdCA9IGN1cnJlbnQubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudExlZnQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmlnaHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1RyZWVSaWdodCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByaWdodC5sZWZ0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50TGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb21wIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRSaWdodCA9IGN1cnJlbnQucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJpZ2h0ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjb21wID0gY29tcGFyZShjdXJyZW50UmlnaHQua2V5LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5yaWdodCA9IGN1cnJlbnRSaWdodC5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSaWdodC5sZWZ0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSaWdodCA9IGN1cnJlbnQucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRSaWdodCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChsZWZ0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdUcmVlTGVmdCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0LnJpZ2h0ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxlZnQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRSaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsZWZ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGVmdC5yaWdodCA9IGN1cnJlbnQubGVmdDtcclxuICAgICAgICAgICAgY3VycmVudC5sZWZ0ID0gbmV3VHJlZUxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJpZ2h0LmxlZnQgPSBjdXJyZW50LnJpZ2h0O1xyXG4gICAgICAgICAgICBjdXJyZW50LnJpZ2h0ID0gbmV3VHJlZVJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yb290ICE9PSBjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuc3BsYXlDb3VudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcDtcclxuICAgIH1cclxuICAgIHNwbGF5TWluKG5vZGUpIHtcclxuICAgICAgICBsZXQgY3VycmVudCA9IG5vZGU7XHJcbiAgICAgICAgbGV0IG5leHRMZWZ0ID0gY3VycmVudC5sZWZ0O1xyXG4gICAgICAgIHdoaWxlIChuZXh0TGVmdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBuZXh0TGVmdDtcclxuICAgICAgICAgICAgY3VycmVudC5sZWZ0ID0gbGVmdC5yaWdodDtcclxuICAgICAgICAgICAgbGVmdC5yaWdodCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBsZWZ0O1xyXG4gICAgICAgICAgICBuZXh0TGVmdCA9IGN1cnJlbnQubGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICB9XHJcbiAgICBzcGxheU1heChub2RlKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBub2RlO1xyXG4gICAgICAgIGxldCBuZXh0UmlnaHQgPSBjdXJyZW50LnJpZ2h0O1xyXG4gICAgICAgIHdoaWxlIChuZXh0UmlnaHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCByaWdodCA9IG5leHRSaWdodDtcclxuICAgICAgICAgICAgY3VycmVudC5yaWdodCA9IHJpZ2h0LmxlZnQ7XHJcbiAgICAgICAgICAgIHJpZ2h0LmxlZnQgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gcmlnaHQ7XHJcbiAgICAgICAgICAgIG5leHRSaWdodCA9IGN1cnJlbnQucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdXJyZW50O1xyXG4gICAgfVxyXG4gICAgX2RlbGV0ZShrZXkpIHtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgaWYgKGNvbXAgIT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IHJvb3QgPSB0aGlzLnJvb3Q7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcm9vdDtcclxuICAgICAgICBjb25zdCBsZWZ0ID0gcm9vdC5sZWZ0O1xyXG4gICAgICAgIHRoaXMuc2l6ZS0tO1xyXG4gICAgICAgIGlmIChsZWZ0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gcm9vdC5yaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gcm9vdC5yaWdodDtcclxuICAgICAgICAgICAgcm9vdCA9IHRoaXMuc3BsYXlNYXgobGVmdCk7XHJcbiAgICAgICAgICAgIHJvb3QucmlnaHQgPSByaWdodDtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb2RpZmljYXRpb25Db3VudCsrO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBhZGROZXdSb290KG5vZGUsIGNvbXApIHtcclxuICAgICAgICB0aGlzLnNpemUrKztcclxuICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbkNvdW50Kys7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdDtcclxuICAgICAgICBpZiAocm9vdCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5vZGU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbXAgPCAwKSB7XHJcbiAgICAgICAgICAgIG5vZGUubGVmdCA9IHJvb3Q7XHJcbiAgICAgICAgICAgIG5vZGUucmlnaHQgPSByb290LnJpZ2h0O1xyXG4gICAgICAgICAgICByb290LnJpZ2h0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5vZGUucmlnaHQgPSByb290O1xyXG4gICAgICAgICAgICBub2RlLmxlZnQgPSByb290LmxlZnQ7XHJcbiAgICAgICAgICAgIHJvb3QubGVmdCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucm9vdCA9IG5vZGU7XHJcbiAgICB9XHJcbiAgICBfZmlyc3QoKSB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdDtcclxuICAgICAgICBpZiAocm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB0aGlzLnJvb3QgPSB0aGlzLnNwbGF5TWluKHJvb3QpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Q7XHJcbiAgICB9XHJcbiAgICBfbGFzdCgpIHtcclxuICAgICAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xyXG4gICAgICAgIGlmIChyb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHRoaXMucm9vdCA9IHRoaXMuc3BsYXlNYXgocm9vdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdDtcclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMucm9vdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbkNvdW50Kys7XHJcbiAgICB9XHJcbiAgICBoYXMoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRLZXkoa2V5KSAmJiB0aGlzLnNwbGF5KGtleSkgPT0gMDtcclxuICAgIH1cclxuICAgIGRlZmF1bHRDb21wYXJlKCkge1xyXG4gICAgICAgIHJldHVybiAoYSwgYikgPT4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDA7XHJcbiAgICB9XHJcbiAgICB3cmFwKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldFJvb3Q6ICgpID0+IHsgcmV0dXJuIHRoaXMucm9vdDsgfSxcclxuICAgICAgICAgICAgc2V0Um9vdDogKHJvb3QpID0+IHsgdGhpcy5yb290ID0gcm9vdDsgfSxcclxuICAgICAgICAgICAgZ2V0U2l6ZTogKCkgPT4geyByZXR1cm4gdGhpcy5zaXplOyB9LFxyXG4gICAgICAgICAgICBnZXRNb2RpZmljYXRpb25Db3VudDogKCkgPT4geyByZXR1cm4gdGhpcy5tb2RpZmljYXRpb25Db3VudDsgfSxcclxuICAgICAgICAgICAgZ2V0U3BsYXlDb3VudDogKCkgPT4geyByZXR1cm4gdGhpcy5zcGxheUNvdW50OyB9LFxyXG4gICAgICAgICAgICBzZXRTcGxheUNvdW50OiAoY291bnQpID0+IHsgdGhpcy5zcGxheUNvdW50ID0gY291bnQ7IH0sXHJcbiAgICAgICAgICAgIHNwbGF5OiAoa2V5KSA9PiB7IHJldHVybiB0aGlzLnNwbGF5KGtleSk7IH0sXHJcbiAgICAgICAgICAgIGhhczogKGtleSkgPT4geyByZXR1cm4gdGhpcy5oYXMoa2V5KTsgfSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBTcGxheVRyZWVNYXAgZXh0ZW5kcyBTcGxheVRyZWUge1xyXG4gICAgcm9vdCA9IG51bGw7XHJcbiAgICBjb21wYXJlO1xyXG4gICAgdmFsaWRLZXk7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb21wYXJlLCBpc1ZhbGlkS2V5KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlID8/IHRoaXMuZGVmYXVsdENvbXBhcmUoKTtcclxuICAgICAgICB0aGlzLnZhbGlkS2V5ID0gaXNWYWxpZEtleSA/PyAoKGEpID0+IGEgIT0gbnVsbCAmJiBhICE9IHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgICBkZWxldGUoa2V5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkS2V5KGtleSkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZXRlKGtleSkgIT0gbnVsbDtcclxuICAgIH1cclxuICAgIGZvckVhY2goZikge1xyXG4gICAgICAgIGNvbnN0IG5vZGVzID0gbmV3IFNwbGF5VHJlZU1hcEVudHJ5SXRlcmFibGVJdGVyYXRvcih0aGlzLndyYXAoKSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICB3aGlsZSAocmVzdWx0ID0gbm9kZXMubmV4dCgpLCAhcmVzdWx0LmRvbmUpIHtcclxuICAgICAgICAgICAgZihyZXN1bHQudmFsdWVbMV0sIHJlc3VsdC52YWx1ZVswXSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZEtleShrZXkpKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh0aGlzLnJvb3QgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgICAgICBpZiAoY29tcCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBoYXNWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxTcGxheUNvdW50ID0gdGhpcy5zcGxheUNvdW50O1xyXG4gICAgICAgIGNvbnN0IHZpc2l0ID0gKG5vZGUpID0+IHtcclxuICAgICAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudmFsdWUgPT0gdmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFNwbGF5Q291bnQgIT0gdGhpcy5zcGxheUNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUucmlnaHQgIT0gbnVsbCAmJiB2aXNpdChub2RlLnJpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdmlzaXQodGhpcy5yb290KTtcclxuICAgIH1cclxuICAgIHNldChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuc3BsYXkoa2V5KTtcclxuICAgICAgICBpZiAoY29tcCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHRoaXMucm9vdC5yZXBsYWNlVmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNwbGF5Q291bnQgKz0gMTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkTmV3Um9vdChuZXcgU3BsYXlUcmVlTWFwTm9kZShrZXksIHZhbHVlKSwgY29tcCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBzZXRBbGwob3RoZXIpIHtcclxuICAgICAgICBvdGhlci5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2V0SWZBYnNlbnQoa2V5LCBpZkFic2VudCkge1xyXG4gICAgICAgIGxldCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgIGlmIChjb21wID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbW9kaWZpY2F0aW9uQ291bnQgPSB0aGlzLm1vZGlmaWNhdGlvbkNvdW50O1xyXG4gICAgICAgIGNvbnN0IHNwbGF5Q291bnQgPSB0aGlzLnNwbGF5Q291bnQ7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpZkFic2VudCgpO1xyXG4gICAgICAgIGlmIChtb2RpZmljYXRpb25Db3VudCAhPSB0aGlzLm1vZGlmaWNhdGlvbkNvdW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiQ29uY3VycmVudCBtb2RpZmljYXRpb24gZHVyaW5nIGl0ZXJhdGlvbi5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNwbGF5Q291bnQgIT0gdGhpcy5zcGxheUNvdW50KSB7XHJcbiAgICAgICAgICAgIGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkTmV3Um9vdChuZXcgU3BsYXlUcmVlTWFwTm9kZShrZXksIHZhbHVlKSwgY29tcCk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgaXNFbXB0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb290ID09IG51bGw7XHJcbiAgICB9XHJcbiAgICBpc05vdEVtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5pc0VtcHR5KCk7XHJcbiAgICB9XHJcbiAgICBmaXJzdEtleSgpIHtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maXJzdCgpLmtleTtcclxuICAgIH1cclxuICAgIGxhc3RLZXkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdCgpLmtleTtcclxuICAgIH1cclxuICAgIGxhc3RLZXlCZWZvcmUoa2V5KSB7XHJcbiAgICAgICAgaWYgKGtleSA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBcIkludmFsaWQgYXJndW1lbnRzKHMpXCI7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgIGlmIChjb21wIDwgMClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3QubGVmdDtcclxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgbm9kZVJpZ2h0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICB3aGlsZSAobm9kZVJpZ2h0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGVSaWdodDtcclxuICAgICAgICAgICAgbm9kZVJpZ2h0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xyXG4gICAgfVxyXG4gICAgZmlyc3RLZXlBZnRlcihrZXkpIHtcclxuICAgICAgICBpZiAoa2V5ID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBhcmd1bWVudHMocylcIjtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgaWYgKGNvbXAgPiAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LmtleTtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucm9vdC5yaWdodDtcclxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgbm9kZUxlZnQgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgd2hpbGUgKG5vZGVMZWZ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGVMZWZ0O1xyXG4gICAgICAgICAgICBub2RlTGVmdCA9IG5vZGUubGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGtleSwgdXBkYXRlLCBpZkFic2VudCkge1xyXG4gICAgICAgIGxldCBjb21wID0gdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgIGlmIChjb21wID09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbW9kaWZpY2F0aW9uQ291bnQgPSB0aGlzLm1vZGlmaWNhdGlvbkNvdW50O1xyXG4gICAgICAgICAgICBjb25zdCBzcGxheUNvdW50ID0gdGhpcy5zcGxheUNvdW50O1xyXG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHVwZGF0ZSh0aGlzLnJvb3QudmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAobW9kaWZpY2F0aW9uQ291bnQgIT0gdGhpcy5tb2RpZmljYXRpb25Db3VudCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzcGxheUNvdW50ICE9IHRoaXMuc3BsYXlDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGxheShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHRoaXMucm9vdC5yZXBsYWNlVmFsdWUobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNwbGF5Q291bnQgKz0gMTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaWZBYnNlbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RpZmljYXRpb25Db3VudCA9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwbGF5Q291bnQgPSB0aGlzLnNwbGF5Q291bnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gaWZBYnNlbnQoKTtcclxuICAgICAgICAgICAgaWYgKG1vZGlmaWNhdGlvbkNvdW50ICE9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiQ29uY3VycmVudCBtb2RpZmljYXRpb24gZHVyaW5nIGl0ZXJhdGlvbi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3BsYXlDb3VudCAhPSB0aGlzLnNwbGF5Q291bnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXAgPSB0aGlzLnNwbGF5KGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hZGROZXdSb290KG5ldyBTcGxheVRyZWVNYXBOb2RlKGtleSwgbmV3VmFsdWUpLCBjb21wKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBcIkludmFsaWQgYXJndW1lbnQgKGtleSk6IEtleSBub3QgaW4gbWFwLlwiO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQWxsKHVwZGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3Q7XHJcbiAgICAgICAgaWYgKHJvb3QgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IFNwbGF5VHJlZU1hcEVudHJ5SXRlcmFibGVJdGVyYXRvcih0aGlzLndyYXAoKSk7XHJcbiAgICAgICAgbGV0IG5vZGU7XHJcbiAgICAgICAgd2hpbGUgKG5vZGUgPSBpdGVyYXRvci5uZXh0KCksICFub2RlLmRvbmUpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB1cGRhdGUoLi4ubm9kZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIGl0ZXJhdG9yLnJlcGxhY2VWYWx1ZShuZXdWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAga2V5cygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNwbGF5VHJlZUtleUl0ZXJhYmxlSXRlcmF0b3IodGhpcy53cmFwKCkpO1xyXG4gICAgfVxyXG4gICAgdmFsdWVzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3BsYXlUcmVlVmFsdWVJdGVyYWJsZUl0ZXJhdG9yKHRoaXMud3JhcCgpKTtcclxuICAgIH1cclxuICAgIGVudHJpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgfVxyXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTcGxheVRyZWVNYXBFbnRyeUl0ZXJhYmxlSXRlcmF0b3IodGhpcy53cmFwKCkpO1xyXG4gICAgfVxyXG4gICAgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnW29iamVjdCBNYXBdJztcclxufVxyXG5leHBvcnQgY2xhc3MgU3BsYXlUcmVlU2V0IGV4dGVuZHMgU3BsYXlUcmVlIHtcclxuICAgIHJvb3QgPSBudWxsO1xyXG4gICAgY29tcGFyZTtcclxuICAgIHZhbGlkS2V5O1xyXG4gICAgY29uc3RydWN0b3IoY29tcGFyZSwgaXNWYWxpZEtleSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jb21wYXJlID0gY29tcGFyZSA/PyB0aGlzLmRlZmF1bHRDb21wYXJlKCk7XHJcbiAgICAgICAgdGhpcy52YWxpZEtleSA9IGlzVmFsaWRLZXkgPz8gKCh2KSA9PiB2ICE9IG51bGwgJiYgdiAhPSB1bmRlZmluZWQpO1xyXG4gICAgfVxyXG4gICAgZGVsZXRlKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMudmFsaWRLZXkoZWxlbWVudCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZXRlKGVsZW1lbnQpICE9IG51bGw7XHJcbiAgICB9XHJcbiAgICBkZWxldGVBbGwoZWxlbWVudHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGUoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yRWFjaChmKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHdoaWxlIChyZXN1bHQgPSBub2Rlcy5uZXh0KCksICFyZXN1bHQuZG9uZSkge1xyXG4gICAgICAgICAgICBmKHJlc3VsdC52YWx1ZSwgcmVzdWx0LnZhbHVlLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGQoZWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmUgPSB0aGlzLnNwbGF5KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb21wYXJlICE9IDApXHJcbiAgICAgICAgICAgIHRoaXMuYWRkTmV3Um9vdChuZXcgU3BsYXlUcmVlU2V0Tm9kZShlbGVtZW50KSwgY29tcGFyZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBhZGRBbmRSZXR1cm4oZWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmUgPSB0aGlzLnNwbGF5KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb21wYXJlICE9IDApXHJcbiAgICAgICAgICAgIHRoaXMuYWRkTmV3Um9vdChuZXcgU3BsYXlUcmVlU2V0Tm9kZShlbGVtZW50KSwgY29tcGFyZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICB9XHJcbiAgICBhZGRBbGwoZWxlbWVudHMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGQoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNFbXB0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb290ID09IG51bGw7XHJcbiAgICB9XHJcbiAgICBpc05vdEVtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QgIT0gbnVsbDtcclxuICAgIH1cclxuICAgIHNpbmdsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaXplID09IDApXHJcbiAgICAgICAgICAgIHRocm93IFwiQmFkIHN0YXRlOiBObyBlbGVtZW50XCI7XHJcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSA+IDEpXHJcbiAgICAgICAgICAgIHRocm93IFwiQmFkIHN0YXRlOiBUb28gbWFueSBlbGVtZW50XCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICB9XHJcbiAgICBmaXJzdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaXplID09IDApXHJcbiAgICAgICAgICAgIHRocm93IFwiQmFkIHN0YXRlOiBObyBlbGVtZW50XCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcnN0KCkua2V5O1xyXG4gICAgfVxyXG4gICAgbGFzdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaXplID09IDApXHJcbiAgICAgICAgICAgIHRocm93IFwiQmFkIHN0YXRlOiBObyBlbGVtZW50XCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3QoKS5rZXk7XHJcbiAgICB9XHJcbiAgICBsYXN0QmVmb3JlKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBcIkludmFsaWQgYXJndW1lbnRzKHMpXCI7XHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShlbGVtZW50KTtcclxuICAgICAgICBpZiAoY29tcCA8IDApXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3Qua2V5O1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5yb290LmxlZnQ7XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IG5vZGVSaWdodCA9IG5vZGUucmlnaHQ7XHJcbiAgICAgICAgd2hpbGUgKG5vZGVSaWdodCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlUmlnaHQ7XHJcbiAgICAgICAgICAgIG5vZGVSaWdodCA9IG5vZGUucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlLmtleTtcclxuICAgIH1cclxuICAgIGZpcnN0QWZ0ZXIoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50ID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IFwiSW52YWxpZCBhcmd1bWVudHMocylcIjtcclxuICAgICAgICBpZiAodGhpcy5yb290ID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLnNwbGF5KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChjb21wID4gMClcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5rZXk7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3QucmlnaHQ7XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IG5vZGVMZWZ0ID0gbm9kZS5sZWZ0O1xyXG4gICAgICAgIHdoaWxlIChub2RlTGVmdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlTGVmdDtcclxuICAgICAgICAgICAgbm9kZUxlZnQgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlLmtleTtcclxuICAgIH1cclxuICAgIHJldGFpbkFsbChlbGVtZW50cykge1xyXG4gICAgICAgIGNvbnN0IHJldGFpblNldCA9IG5ldyBTcGxheVRyZWVTZXQodGhpcy5jb21wYXJlLCB0aGlzLnZhbGlkS2V5KTtcclxuICAgICAgICBjb25zdCBtb2RpZmljYXRpb25Db3VudCA9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQ7XHJcbiAgICAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YgZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgaWYgKG1vZGlmaWNhdGlvbkNvdW50ICE9IHRoaXMubW9kaWZpY2F0aW9uQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiQ29uY3VycmVudCBtb2RpZmljYXRpb24gZHVyaW5nIGl0ZXJhdGlvbi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZEtleShvYmplY3QpICYmIHRoaXMuc3BsYXkob2JqZWN0KSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXRhaW5TZXQuYWRkKHRoaXMucm9vdC5rZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXRhaW5TZXQuc2l6ZSAhPSB0aGlzLnNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gcmV0YWluU2V0LnJvb3Q7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IHJldGFpblNldC5zaXplO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGlmaWNhdGlvbkNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9va3VwKG9iamVjdCkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZEtleShvYmplY3QpKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBjb21wID0gdGhpcy5zcGxheShvYmplY3QpO1xyXG4gICAgICAgIGlmIChjb21wICE9IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Qua2V5O1xyXG4gICAgfVxyXG4gICAgaW50ZXJzZWN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNwbGF5VHJlZVNldCh0aGlzLmNvbXBhcmUsIHRoaXMudmFsaWRLZXkpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzKSB7XHJcbiAgICAgICAgICAgIGlmIChvdGhlci5oYXMoZWxlbWVudCkpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgZGlmZmVyZW5jZShvdGhlcikge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTcGxheVRyZWVTZXQodGhpcy5jb21wYXJlLCB0aGlzLnZhbGlkS2V5KTtcclxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcykge1xyXG4gICAgICAgICAgICBpZiAoIW90aGVyLmhhcyhlbGVtZW50KSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICB1bmlvbihvdGhlcikge1xyXG4gICAgICAgIGNvbnN0IHUgPSB0aGlzLmNsb25lKCk7XHJcbiAgICAgICAgdS5hZGRBbGwob3RoZXIpO1xyXG4gICAgICAgIHJldHVybiB1O1xyXG4gICAgfVxyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNwbGF5VHJlZVNldCh0aGlzLmNvbXBhcmUsIHRoaXMudmFsaWRLZXkpO1xyXG4gICAgICAgIHNldC5zaXplID0gdGhpcy5zaXplO1xyXG4gICAgICAgIHNldC5yb290ID0gdGhpcy5jb3B5Tm9kZSh0aGlzLnJvb3QpO1xyXG4gICAgICAgIHJldHVybiBzZXQ7XHJcbiAgICB9XHJcbiAgICBjb3B5Tm9kZShub2RlKSB7XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgZnVuY3Rpb24gY29weUNoaWxkcmVuKG5vZGUsIGRlc3QpIHtcclxuICAgICAgICAgICAgbGV0IGxlZnQ7XHJcbiAgICAgICAgICAgIGxldCByaWdodDtcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgbGVmdCA9IG5vZGUubGVmdDtcclxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gbm9kZS5yaWdodDtcclxuICAgICAgICAgICAgICAgIGlmIChsZWZ0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdMZWZ0ID0gbmV3IFNwbGF5VHJlZVNldE5vZGUobGVmdC5rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3QubGVmdCA9IG5ld0xlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29weUNoaWxkcmVuKGxlZnQsIG5ld0xlZnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSaWdodCA9IG5ldyBTcGxheVRyZWVTZXROb2RlKHJpZ2h0LmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdC5yaWdodCA9IG5ld1JpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSByaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0ID0gbmV3UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKHJpZ2h0ICE9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU3BsYXlUcmVlU2V0Tm9kZShub2RlLmtleSk7XHJcbiAgICAgICAgY29weUNoaWxkcmVuKG5vZGUsIHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHRvU2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XHJcbiAgICB9XHJcbiAgICBlbnRyaWVzKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3BsYXlUcmVlU2V0RW50cnlJdGVyYWJsZUl0ZXJhdG9yKHRoaXMud3JhcCgpKTtcclxuICAgIH1cclxuICAgIGtleXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgfVxyXG4gICAgdmFsdWVzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxuICAgIH1cclxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3BsYXlUcmVlS2V5SXRlcmFibGVJdGVyYXRvcih0aGlzLndyYXAoKSk7XHJcbiAgICB9XHJcbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdbb2JqZWN0IFNldF0nO1xyXG59XHJcbmNsYXNzIFNwbGF5VHJlZUl0ZXJhYmxlSXRlcmF0b3Ige1xyXG4gICAgdHJlZTtcclxuICAgIHBhdGggPSBuZXcgQXJyYXkoKTtcclxuICAgIG1vZGlmaWNhdGlvbkNvdW50ID0gbnVsbDtcclxuICAgIHNwbGF5Q291bnQ7XHJcbiAgICBjb25zdHJ1Y3Rvcih0cmVlKSB7XHJcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcclxuICAgICAgICB0aGlzLnNwbGF5Q291bnQgPSB0cmVlLmdldFNwbGF5Q291bnQoKTtcclxuICAgIH1cclxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgbmV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5tb3ZlTmV4dCgpKVxyXG4gICAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IHRoaXMuY3VycmVudCgpIH07XHJcbiAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG51bGwgfTtcclxuICAgIH1cclxuICAgIGN1cnJlbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhdGgubGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZShub2RlKTtcclxuICAgIH1cclxuICAgIHJlYnVpbGRQYXRoKGtleSkge1xyXG4gICAgICAgIHRoaXMucGF0aC5zcGxpY2UoMCwgdGhpcy5wYXRoLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy50cmVlLnNwbGF5KGtleSk7XHJcbiAgICAgICAgdGhpcy5wYXRoLnB1c2godGhpcy50cmVlLmdldFJvb3QoKSk7XHJcbiAgICAgICAgdGhpcy5zcGxheUNvdW50ID0gdGhpcy50cmVlLmdldFNwbGF5Q291bnQoKTtcclxuICAgIH1cclxuICAgIGZpbmRMZWZ0TW9zdERlc2NlbmRlbnQobm9kZSkge1xyXG4gICAgICAgIHdoaWxlIChub2RlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXRoLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbW92ZU5leHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uQ291bnQgIT0gdGhpcy50cmVlLmdldE1vZGlmaWNhdGlvbkNvdW50KCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uQ291bnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RpZmljYXRpb25Db3VudCA9IHRoaXMudHJlZS5nZXRNb2RpZmljYXRpb25Db3VudCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnRyZWUuZ2V0Um9vdCgpO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aC5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRoLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucGF0aC5sZW5ndGgpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5zcGxheUNvdW50ICE9IHRoaXMudHJlZS5nZXRTcGxheUNvdW50KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkUGF0aCh0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdLmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcclxuICAgICAgICBsZXQgbmV4dCA9IG5vZGUucmlnaHQ7XHJcbiAgICAgICAgaWYgKG5leHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB3aGlsZSAobmV4dCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGgucHVzaChuZXh0KTtcclxuICAgICAgICAgICAgICAgIG5leHQgPSBuZXh0LmxlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGF0aC5wb3AoKTtcclxuICAgICAgICB3aGlsZSAodGhpcy5wYXRoLmxlbmd0aCAmJiB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdLnJpZ2h0ID09PSBub2RlKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLnBhdGgucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgubGVuZ3RoID4gMDtcclxuICAgIH1cclxufVxyXG5jbGFzcyBTcGxheVRyZWVLZXlJdGVyYWJsZUl0ZXJhdG9yIGV4dGVuZHMgU3BsYXlUcmVlSXRlcmFibGVJdGVyYXRvciB7XHJcbiAgICBnZXRWYWx1ZShub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUua2V5O1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFNwbGF5VHJlZVNldEVudHJ5SXRlcmFibGVJdGVyYXRvciBleHRlbmRzIFNwbGF5VHJlZUl0ZXJhYmxlSXRlcmF0b3Ige1xyXG4gICAgZ2V0VmFsdWUobm9kZSkge1xyXG4gICAgICAgIHJldHVybiBbbm9kZS5rZXksIG5vZGUua2V5XTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBTcGxheVRyZWVWYWx1ZUl0ZXJhYmxlSXRlcmF0b3IgZXh0ZW5kcyBTcGxheVRyZWVJdGVyYWJsZUl0ZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1hcCkge1xyXG4gICAgICAgIHN1cGVyKG1hcCk7XHJcbiAgICB9XHJcbiAgICBnZXRWYWx1ZShub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUudmFsdWU7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3BsYXlUcmVlTWFwRW50cnlJdGVyYWJsZUl0ZXJhdG9yIGV4dGVuZHMgU3BsYXlUcmVlSXRlcmFibGVJdGVyYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtYXApIHtcclxuICAgICAgICBzdXBlcihtYXApO1xyXG4gICAgfVxyXG4gICAgZ2V0VmFsdWUobm9kZSkge1xyXG4gICAgICAgIHJldHVybiBbbm9kZS5rZXksIG5vZGUudmFsdWVdO1xyXG4gICAgfVxyXG4gICAgcmVwbGFjZVZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kaWZpY2F0aW9uQ291bnQgIT0gdGhpcy50cmVlLmdldE1vZGlmaWNhdGlvbkNvdW50KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkdXJpbmcgaXRlcmF0aW9uLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zcGxheUNvdW50ICE9IHRoaXMudHJlZS5nZXRTcGxheUNvdW50KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkUGF0aCh0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdLmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBhdGgucG9wKCk7XHJcbiAgICAgICAgY29uc3QgbmV3TGFzdCA9IGxhc3QucmVwbGFjZVZhbHVlKHZhbHVlKTtcclxuICAgICAgICBpZiAoIXRoaXMucGF0aC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy50cmVlLnNldFJvb3QobmV3TGFzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAobGFzdCA9PT0gcGFyZW50LmxlZnQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5sZWZ0ID0gbmV3TGFzdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5yaWdodCA9IG5ld0xhc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXRoLnB1c2gobmV3TGFzdCk7XHJcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLnRyZWUuZ2V0U3BsYXlDb3VudCgpICsgMTtcclxuICAgICAgICB0aGlzLnRyZWUuc2V0U3BsYXlDb3VudChjb3VudCk7XHJcbiAgICAgICAgdGhpcy5zcGxheUNvdW50ID0gY291bnQ7XHJcbiAgICB9XHJcbn1cclxuIiwgImV4cG9ydCBkZWZhdWx0ICh4KSA9PiB7XG4gICAgcmV0dXJuIHg7XG59O1xuIiwgImltcG9ydCBCaWdOdW1iZXIgZnJvbSBcImJpZ251bWJlci5qc1wiO1xuaW1wb3J0IHsgU3BsYXlUcmVlU2V0IH0gZnJvbSBcInNwbGF5dHJlZS10c1wiO1xuaW1wb3J0IGNvbXBhcmUgZnJvbSBcIi4vY29tcGFyZS5qc1wiO1xuaW1wb3J0IGlkZW50aXR5IGZyb20gXCIuL2lkZW50aXR5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCAoZXBzKSA9PiB7XG4gICAgaWYgKGVwcykge1xuICAgICAgICBjb25zdCB4VHJlZSA9IG5ldyBTcGxheVRyZWVTZXQoY29tcGFyZShlcHMpKTtcbiAgICAgICAgY29uc3QgeVRyZWUgPSBuZXcgU3BsYXlUcmVlU2V0KGNvbXBhcmUoZXBzKSk7XG4gICAgICAgIGNvbnN0IHNuYXBDb29yZCA9IChjb29yZCwgdHJlZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRyZWUuYWRkQW5kUmV0dXJuKGNvb3JkKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc25hcCA9ICh2KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHNuYXBDb29yZCh2LngsIHhUcmVlKSxcbiAgICAgICAgICAgICAgICB5OiBzbmFwQ29vcmQodi55LCB5VHJlZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBzbmFwKHsgeDogbmV3IEJpZ051bWJlcigwKSwgeTogbmV3IEJpZ051bWJlcigwKSB9KTtcbiAgICAgICAgcmV0dXJuIHNuYXA7XG4gICAgfVxuICAgIHJldHVybiBpZGVudGl0eTtcbn07XG4iLCAiaW1wb3J0IGNvbXBhcmUgZnJvbSBcIi4vY29tcGFyZS5qc1wiO1xuaW1wb3J0IG9yaWVudCBmcm9tIFwiLi9vcmllbnQuanNcIjtcbmltcG9ydCBzbmFwIGZyb20gXCIuL3NuYXAuanNcIjtcbmNvbnN0IHNldCA9IChlcHMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXQ6IChlcHMpID0+IHsgcHJlY2lzaW9uID0gc2V0KGVwcyk7IH0sXG4gICAgICAgIHJlc2V0OiAoKSA9PiBzZXQoZXBzKSxcbiAgICAgICAgY29tcGFyZTogY29tcGFyZShlcHMpLFxuICAgICAgICBzbmFwOiBzbmFwKGVwcyksXG4gICAgICAgIG9yaWVudDogb3JpZW50KGVwcylcbiAgICB9O1xufTtcbmV4cG9ydCBsZXQgcHJlY2lzaW9uID0gc2V0KCk7XG4iLCAiLyoqXG4gKiBBIGJvdW5kaW5nIGJveCBoYXMgdGhlIGZvcm1hdDpcbiAqXG4gKiAgeyBsbDogeyB4OiB4bWluLCB5OiB5bWluIH0sIHVyOiB7IHg6IHhtYXgsIHk6IHltYXggfSB9XG4gKlxuICovXG5leHBvcnQgY29uc3QgaXNJbkJib3ggPSAoYmJveCwgcG9pbnQpID0+IHtcbiAgICByZXR1cm4gKGJib3gubGwueC5pc0xlc3NUaGFuT3JFcXVhbFRvKHBvaW50LngpICYmXG4gICAgICAgIHBvaW50LnguaXNMZXNzVGhhbk9yRXF1YWxUbyhiYm94LnVyLngpICYmXG4gICAgICAgIGJib3gubGwueS5pc0xlc3NUaGFuT3JFcXVhbFRvKHBvaW50LnkpICYmXG4gICAgICAgIHBvaW50LnkuaXNMZXNzVGhhbk9yRXF1YWxUbyhiYm94LnVyLnkpKTtcbn07XG4vKiBSZXR1cm5zIGVpdGhlciBudWxsLCBvciBhIGJib3ggKGFrYSBhbiBvcmRlcmVkIHBhaXIgb2YgcG9pbnRzKVxuICogSWYgdGhlcmUgaXMgb25seSBvbmUgcG9pbnQgb2Ygb3ZlcmxhcCwgYSBiYm94IHdpdGggaWRlbnRpY2FsIHBvaW50c1xuICogd2lsbCBiZSByZXR1cm5lZCAqL1xuZXhwb3J0IGNvbnN0IGdldEJib3hPdmVybGFwID0gKGIxLCBiMikgPT4ge1xuICAgIC8vIGNoZWNrIGlmIHRoZSBiYm94ZXMgb3ZlcmxhcCBhdCBhbGxcbiAgICBpZiAoYjIudXIueC5pc0xlc3NUaGFuKGIxLmxsLngpIHx8XG4gICAgICAgIGIxLnVyLnguaXNMZXNzVGhhbihiMi5sbC54KSB8fFxuICAgICAgICBiMi51ci55LmlzTGVzc1RoYW4oYjEubGwueSkgfHxcbiAgICAgICAgYjEudXIueS5pc0xlc3NUaGFuKGIyLmxsLnkpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAvLyBmaW5kIHRoZSBtaWRkbGUgdHdvIFggdmFsdWVzXG4gICAgY29uc3QgbG93ZXJYID0gYjEubGwueC5pc0xlc3NUaGFuKGIyLmxsLngpID8gYjIubGwueCA6IGIxLmxsLng7XG4gICAgY29uc3QgdXBwZXJYID0gYjEudXIueC5pc0xlc3NUaGFuKGIyLnVyLngpID8gYjEudXIueCA6IGIyLnVyLng7XG4gICAgLy8gZmluZCB0aGUgbWlkZGxlIHR3byBZIHZhbHVlc1xuICAgIGNvbnN0IGxvd2VyWSA9IGIxLmxsLnkuaXNMZXNzVGhhbihiMi5sbC55KSA/IGIyLmxsLnkgOiBiMS5sbC55O1xuICAgIGNvbnN0IHVwcGVyWSA9IGIxLnVyLnkuaXNMZXNzVGhhbihiMi51ci55KSA/IGIxLnVyLnkgOiBiMi51ci55O1xuICAgIC8vIHB1dCB0aG9zZSBtaWRkbGUgdmFsdWVzIHRvZ2V0aGVyIHRvIGdldCB0aGUgb3ZlcmxhcFxuICAgIHJldHVybiB7IGxsOiB7IHg6IGxvd2VyWCwgeTogbG93ZXJZIH0sIHVyOiB7IHg6IHVwcGVyWCwgeTogdXBwZXJZIH0gfTtcbn07XG4iLCAiLyogQ3Jvc3MgUHJvZHVjdCBvZiB0d28gdmVjdG9ycyB3aXRoIGZpcnN0IHBvaW50IGF0IG9yaWdpbiAqL1xuZXhwb3J0IGNvbnN0IGNyb3NzUHJvZHVjdCA9IChhLCBiKSA9PiBhLngudGltZXMoYi55KS5taW51cyhhLnkudGltZXMoYi54KSk7XG4vKiBEb3QgUHJvZHVjdCBvZiB0d28gdmVjdG9ycyB3aXRoIGZpcnN0IHBvaW50IGF0IG9yaWdpbiAqL1xuZXhwb3J0IGNvbnN0IGRvdFByb2R1Y3QgPSAoYSwgYikgPT4gYS54LnRpbWVzKGIueCkucGx1cyhhLnkudGltZXMoYi55KSk7XG5leHBvcnQgY29uc3QgbGVuZ3RoID0gKHYpID0+IGRvdFByb2R1Y3Qodiwgdikuc3FydCgpO1xuLyogR2V0IHRoZSBzaW5lIG9mIHRoZSBhbmdsZSBmcm9tIHBTaGFyZWQgLT4gcEFuZ2xlIHRvIHBTaGFlZCAtPiBwQmFzZSAqL1xuZXhwb3J0IGNvbnN0IHNpbmVPZkFuZ2xlID0gKHBTaGFyZWQsIHBCYXNlLCBwQW5nbGUpID0+IHtcbiAgICBjb25zdCB2QmFzZSA9IHsgeDogcEJhc2UueC5taW51cyhwU2hhcmVkLngpLCB5OiBwQmFzZS55Lm1pbnVzKHBTaGFyZWQueSkgfTtcbiAgICBjb25zdCB2QW5nbGUgPSB7IHg6IHBBbmdsZS54Lm1pbnVzKHBTaGFyZWQueCksIHk6IHBBbmdsZS55Lm1pbnVzKHBTaGFyZWQueSkgfTtcbiAgICByZXR1cm4gY3Jvc3NQcm9kdWN0KHZBbmdsZSwgdkJhc2UpLmRpdihsZW5ndGgodkFuZ2xlKSkuZGl2KGxlbmd0aCh2QmFzZSkpO1xufTtcbi8qIEdldCB0aGUgY29zaW5lIG9mIHRoZSBhbmdsZSBmcm9tIHBTaGFyZWQgLT4gcEFuZ2xlIHRvIHBTaGFlZCAtPiBwQmFzZSAqL1xuZXhwb3J0IGNvbnN0IGNvc2luZU9mQW5nbGUgPSAocFNoYXJlZCwgcEJhc2UsIHBBbmdsZSkgPT4ge1xuICAgIGNvbnN0IHZCYXNlID0geyB4OiBwQmFzZS54Lm1pbnVzKHBTaGFyZWQueCksIHk6IHBCYXNlLnkubWludXMocFNoYXJlZC55KSB9O1xuICAgIGNvbnN0IHZBbmdsZSA9IHsgeDogcEFuZ2xlLngubWludXMocFNoYXJlZC54KSwgeTogcEFuZ2xlLnkubWludXMocFNoYXJlZC55KSB9O1xuICAgIHJldHVybiBkb3RQcm9kdWN0KHZBbmdsZSwgdkJhc2UpLmRpdihsZW5ndGgodkFuZ2xlKSkuZGl2KGxlbmd0aCh2QmFzZSkpO1xufTtcbi8qIEdldCB0aGUgeCBjb29yZGluYXRlIHdoZXJlIHRoZSBnaXZlbiBsaW5lIChkZWZpbmVkIGJ5IGEgcG9pbnQgYW5kIHZlY3RvcilcbiAqIGNyb3NzZXMgdGhlIGhvcml6b250YWwgbGluZSB3aXRoIHRoZSBnaXZlbiB5IGNvb3JkaWFudGUuXG4gKiBJbiB0aGUgY2FzZSBvZiBwYXJyYWxsZWwgbGluZXMgKGluY2x1ZGluZyBvdmVybGFwcGluZyBvbmVzKSByZXR1cm5zIG51bGwuICovXG5leHBvcnQgY29uc3QgaG9yaXpvbnRhbEludGVyc2VjdGlvbiA9IChwdCwgdiwgeSkgPT4ge1xuICAgIGlmICh2LnkuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7IHg6IHB0LngucGx1cygodi54LmRpdih2LnkpKS50aW1lcyh5Lm1pbnVzKHB0LnkpKSksIHk6IHkgfTtcbn07XG4vKiBHZXQgdGhlIHkgY29vcmRpbmF0ZSB3aGVyZSB0aGUgZ2l2ZW4gbGluZSAoZGVmaW5lZCBieSBhIHBvaW50IGFuZCB2ZWN0b3IpXG4gKiBjcm9zc2VzIHRoZSB2ZXJ0aWNhbCBsaW5lIHdpdGggdGhlIGdpdmVuIHggY29vcmRpYW50ZS5cbiAqIEluIHRoZSBjYXNlIG9mIHBhcnJhbGxlbCBsaW5lcyAoaW5jbHVkaW5nIG92ZXJsYXBwaW5nIG9uZXMpIHJldHVybnMgbnVsbC4gKi9cbmV4cG9ydCBjb25zdCB2ZXJ0aWNhbEludGVyc2VjdGlvbiA9IChwdCwgdiwgeCkgPT4ge1xuICAgIGlmICh2LnguaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHB0LnkucGx1cygodi55LmRpdih2LngpKS50aW1lcyh4Lm1pbnVzKHB0LngpKSkgfTtcbn07XG4vKiBHZXQgdGhlIGludGVyc2VjdGlvbiBvZiB0d28gbGluZXMsIGVhY2ggZGVmaW5lZCBieSBhIGJhc2UgcG9pbnQgYW5kIGEgdmVjdG9yLlxuICogSW4gdGhlIGNhc2Ugb2YgcGFycmFsbGVsIGxpbmVzIChpbmNsdWRpbmcgb3ZlcmxhcHBpbmcgb25lcykgcmV0dXJucyBudWxsLiAqL1xuZXhwb3J0IGNvbnN0IGludGVyc2VjdGlvbiA9IChwdDEsIHYxLCBwdDIsIHYyKSA9PiB7XG4gICAgLy8gdGFrZSBzb21lIHNob3J0Y3V0cyBmb3IgdmVydGljYWwgYW5kIGhvcml6b250YWwgbGluZXNcbiAgICAvLyB0aGlzIGFsc28gZW5zdXJlcyB3ZSBkb24ndCBjYWxjdWxhdGUgYW4gaW50ZXJzZWN0aW9uIGFuZCB0aGVuIGRpc2NvdmVyXG4gICAgLy8gaXQncyBhY3R1YWxseSBvdXRzaWRlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIGxpbmVcbiAgICBpZiAodjEueC5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsSW50ZXJzZWN0aW9uKHB0MiwgdjIsIHB0MS54KTtcbiAgICBpZiAodjIueC5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsSW50ZXJzZWN0aW9uKHB0MSwgdjEsIHB0Mi54KTtcbiAgICBpZiAodjEueS5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIGhvcml6b250YWxJbnRlcnNlY3Rpb24ocHQyLCB2MiwgcHQxLnkpO1xuICAgIGlmICh2Mi55LmlzWmVybygpKVxuICAgICAgICByZXR1cm4gaG9yaXpvbnRhbEludGVyc2VjdGlvbihwdDEsIHYxLCBwdDIueSk7XG4gICAgLy8gR2VuZXJhbCBjYXNlIGZvciBub24tb3ZlcmxhcHBpbmcgc2VnbWVudHMuXG4gICAgLy8gVGhpcyBhbGdvcml0aG0gaXMgYmFzZWQgb24gU2NobmVpZGVyIGFuZCBFYmVybHkuXG4gICAgLy8gaHR0cDovL3d3dy5jaW1lYy5vcmcuYXIvfm5jYWx2by9TY2huZWlkZXJfRWJlcmx5LnBkZiAtIHBnIDI0NFxuICAgIGNvbnN0IGtyb3NzID0gY3Jvc3NQcm9kdWN0KHYxLCB2Mik7XG4gICAgaWYgKGtyb3NzLmlzWmVybygpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB2ZSA9IHsgeDogcHQyLngubWludXMocHQxLngpLCB5OiBwdDIueS5taW51cyhwdDEueSkgfTtcbiAgICBjb25zdCBkMSA9IGNyb3NzUHJvZHVjdCh2ZSwgdjEpLmRpdihrcm9zcyk7XG4gICAgY29uc3QgZDIgPSBjcm9zc1Byb2R1Y3QodmUsIHYyKS5kaXYoa3Jvc3MpO1xuICAgIC8vIHRha2UgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHR3byBjYWxjdWxhdGlvbnMgdG8gbWluaW1pemUgcm91bmRpbmcgZXJyb3JcbiAgICBjb25zdCB4MSA9IHB0MS54LnBsdXMoZDIudGltZXModjEueCkpLCB4MiA9IHB0Mi54LnBsdXMoZDEudGltZXModjIueCkpO1xuICAgIGNvbnN0IHkxID0gcHQxLnkucGx1cyhkMi50aW1lcyh2MS55KSksIHkyID0gcHQyLnkucGx1cyhkMS50aW1lcyh2Mi55KSk7XG4gICAgY29uc3QgeCA9IHgxLnBsdXMoeDIpLmRpdigyKTtcbiAgICBjb25zdCB5ID0geTEucGx1cyh5MikuZGl2KDIpO1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbn07XG4vKiBHaXZlbiBhIHZlY3RvciwgcmV0dXJuIG9uZSB0aGF0IGlzIHBlcnBlbmRpY3VsYXIgKi9cbmV4cG9ydCBjb25zdCBwZXJwZW5kaWN1bGFyID0gKHYpID0+IHtcbiAgICByZXR1cm4geyB4OiB2LnkubmVnYXRlZCgpLCB5OiB2LnggfTtcbn07XG4iLCAiaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vc2VnbWVudC5qc1wiO1xuaW1wb3J0IHsgY29zaW5lT2ZBbmdsZSwgc2luZU9mQW5nbGUgfSBmcm9tIFwiLi92ZWN0b3IuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN3ZWVwRXZlbnQge1xuICAgIHBvaW50O1xuICAgIGlzTGVmdDtcbiAgICBzZWdtZW50O1xuICAgIG90aGVyU0U7XG4gICAgY29uc3VtZWRCeTtcbiAgICAvLyBmb3Igb3JkZXJpbmcgc3dlZXAgZXZlbnRzIGluIHRoZSBzd2VlcCBldmVudCBxdWV1ZVxuICAgIHN0YXRpYyBjb21wYXJlKGEsIGIpIHtcbiAgICAgICAgLy8gZmF2b3IgZXZlbnQgd2l0aCBhIHBvaW50IHRoYXQgdGhlIHN3ZWVwIGxpbmUgaGl0cyBmaXJzdFxuICAgICAgICBjb25zdCBwdENtcCA9IFN3ZWVwRXZlbnQuY29tcGFyZVBvaW50cyhhLnBvaW50LCBiLnBvaW50KTtcbiAgICAgICAgaWYgKHB0Q21wICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHB0Q21wO1xuICAgICAgICAvLyB0aGUgcG9pbnRzIGFyZSB0aGUgc2FtZSwgc28gbGluayB0aGVtIGlmIG5lZWRlZFxuICAgICAgICBpZiAoYS5wb2ludCAhPT0gYi5wb2ludClcbiAgICAgICAgICAgIGEubGluayhiKTtcbiAgICAgICAgLy8gZmF2b3IgcmlnaHQgZXZlbnRzIG92ZXIgbGVmdFxuICAgICAgICBpZiAoYS5pc0xlZnQgIT09IGIuaXNMZWZ0KVxuICAgICAgICAgICAgcmV0dXJuIGEuaXNMZWZ0ID8gMSA6IC0xO1xuICAgICAgICAvLyB3ZSBoYXZlIHR3byBtYXRjaGluZyBsZWZ0IG9yIHJpZ2h0IGVuZHBvaW50c1xuICAgICAgICAvLyBvcmRlcmluZyBvZiB0aGlzIGNhc2UgaXMgdGhlIHNhbWUgYXMgZm9yIHRoZWlyIHNlZ21lbnRzXG4gICAgICAgIHJldHVybiBTZWdtZW50LmNvbXBhcmUoYS5zZWdtZW50LCBiLnNlZ21lbnQpO1xuICAgIH1cbiAgICAvLyBmb3Igb3JkZXJpbmcgcG9pbnRzIGluIHN3ZWVwIGxpbmUgb3JkZXJcbiAgICBzdGF0aWMgY29tcGFyZVBvaW50cyhhUHQsIGJQdCkge1xuICAgICAgICBpZiAoYVB0LnguaXNMZXNzVGhhbihiUHQueCkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhUHQueC5pc0dyZWF0ZXJUaGFuKGJQdC54KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBpZiAoYVB0LnkuaXNMZXNzVGhhbihiUHQueSkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhUHQueS5pc0dyZWF0ZXJUaGFuKGJQdC55KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLy8gV2FybmluZzogJ3BvaW50JyBpbnB1dCB3aWxsIGJlIG1vZGlmaWVkIGFuZCByZS11c2VkIChmb3IgcGVyZm9ybWFuY2UpXG4gICAgY29uc3RydWN0b3IocG9pbnQsIGlzTGVmdCkge1xuICAgICAgICBpZiAocG9pbnQuZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBwb2ludC5ldmVudHMgPSBbdGhpc107XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHBvaW50LmV2ZW50cy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLnBvaW50ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMuaXNMZWZ0ID0gaXNMZWZ0O1xuICAgICAgICAvLyB0aGlzLnNlZ21lbnQsIHRoaXMub3RoZXJTRSBzZXQgYnkgZmFjdG9yeVxuICAgIH1cbiAgICBsaW5rKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlci5wb2ludCA9PT0gdGhpcy5wb2ludCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJpZWQgdG8gbGluayBhbHJlYWR5IGxpbmtlZCBldmVudHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3RoZXJFdmVudHMgPSBvdGhlci5wb2ludC5ldmVudHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gb3RoZXJFdmVudHMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBldnQgPSBvdGhlckV2ZW50c1tpXTtcbiAgICAgICAgICAgIHRoaXMucG9pbnQuZXZlbnRzLnB1c2goZXZ0KTtcbiAgICAgICAgICAgIGV2dC5wb2ludCA9IHRoaXMucG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja0ZvckNvbnN1bWluZygpO1xuICAgIH1cbiAgICAvKiBEbyBhIHBhc3Mgb3ZlciBvdXIgbGlua2VkIGV2ZW50cyBhbmQgY2hlY2sgdG8gc2VlIGlmIGFueSBwYWlyXG4gICAgICogb2Ygc2VnbWVudHMgbWF0Y2gsIGFuZCBzaG91bGQgYmUgY29uc3VtZWQuICovXG4gICAgY2hlY2tGb3JDb25zdW1pbmcoKSB7XG4gICAgICAgIC8vIEZJWE1FOiBUaGUgbG9vcHMgaW4gdGhpcyBtZXRob2QgcnVuIE8obl4yKSA9PiBubyBnb29kLlxuICAgICAgICAvLyAgICAgICAgTWFpbnRhaW4gbGl0dGxlIG9yZGVyZWQgc3dlZXAgZXZlbnQgdHJlZXM/XG4gICAgICAgIC8vICAgICAgICBDYW4gd2UgbWFpbnRhaW5pbmcgYW4gb3JkZXJpbmcgdGhhdCBhdm9pZHMgdGhlIG5lZWRcbiAgICAgICAgLy8gICAgICAgIGZvciB0aGUgcmUtc29ydGluZyB3aXRoIGdldExlZnRtb3N0Q29tcGFyYXRvciBpbiBnZW9tLW91dD9cbiAgICAgICAgLy8gQ29tcGFyZSBlYWNoIHBhaXIgb2YgZXZlbnRzIHRvIHNlZSBpZiBvdGhlciBldmVudHMgYWxzbyBtYXRjaFxuICAgICAgICBjb25zdCBudW1FdmVudHMgPSB0aGlzLnBvaW50LmV2ZW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRXZlbnRzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2dDEgPSB0aGlzLnBvaW50LmV2ZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChldnQxLnNlZ21lbnQuY29uc3VtZWRCeSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbnVtRXZlbnRzOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBldnQyID0gdGhpcy5wb2ludC5ldmVudHNbal07XG4gICAgICAgICAgICAgICAgaWYgKGV2dDIuY29uc3VtZWRCeSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoZXZ0MS5vdGhlclNFLnBvaW50LmV2ZW50cyAhPT0gZXZ0Mi5vdGhlclNFLnBvaW50LmV2ZW50cylcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZXZ0MS5zZWdtZW50LmNvbnN1bWUoZXZ0Mi5zZWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRBdmFpbGFibGVMaW5rZWRFdmVudHMoKSB7XG4gICAgICAgIC8vIHBvaW50LmV2ZW50cyBpcyBhbHdheXMgb2YgbGVuZ3RoIDIgb3IgZ3JlYXRlclxuICAgICAgICBjb25zdCBldmVudHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLnBvaW50LmV2ZW50cy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2dCA9IHRoaXMucG9pbnQuZXZlbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGV2dCAhPT0gdGhpcyAmJiAhZXZ0LnNlZ21lbnQucmluZ091dCAmJiBldnQuc2VnbWVudC5pc0luUmVzdWx0KCkpIHtcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIGZvciBzb3J0aW5nIGxpbmtlZCBldmVudHMgdGhhdCB3aWxsXG4gICAgICogZmF2b3IgdGhlIGV2ZW50IHRoYXQgd2lsbCBnaXZlIHVzIHRoZSBzbWFsbGVzdCBsZWZ0LXNpZGUgYW5nbGUuXG4gICAgICogQWxsIHJpbmcgY29uc3RydWN0aW9uIHN0YXJ0cyBhcyBsb3cgYXMgcG9zc2libGUgaGVhZGluZyB0byB0aGUgcmlnaHQsXG4gICAgICogc28gYnkgYWx3YXlzIHR1cm5pbmcgbGVmdCBhcyBzaGFycCBhcyBwb3NzaWJsZSB3ZSdsbCBnZXQgcG9seWdvbnNcbiAgICAgKiB3aXRob3V0IHVuY2Vzc2FyeSBsb29wcyAmIGhvbGVzLlxuICAgICAqXG4gICAgICogVGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24gaGFzIGEgY29tcHV0ZSBjYWNoZSBzdWNoIHRoYXQgaXQgYXZvaWRzXG4gICAgICogcmUtY29tcHV0aW5nIGFscmVhZHktY29tcHV0ZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGdldExlZnRtb3N0Q29tcGFyYXRvcihiYXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGZpbGxDYWNoZSA9IChsaW5rZWRFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dEV2ZW50ID0gbGlua2VkRXZlbnQub3RoZXJTRTtcbiAgICAgICAgICAgIGNhY2hlLnNldChsaW5rZWRFdmVudCwge1xuICAgICAgICAgICAgICAgIHNpbmU6IHNpbmVPZkFuZ2xlKHRoaXMucG9pbnQsIGJhc2VFdmVudC5wb2ludCwgbmV4dEV2ZW50LnBvaW50KSxcbiAgICAgICAgICAgICAgICBjb3NpbmU6IGNvc2luZU9mQW5nbGUodGhpcy5wb2ludCwgYmFzZUV2ZW50LnBvaW50LCBuZXh0RXZlbnQucG9pbnQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKCFjYWNoZS5oYXMoYSkpXG4gICAgICAgICAgICAgICAgZmlsbENhY2hlKGEpO1xuICAgICAgICAgICAgaWYgKCFjYWNoZS5oYXMoYikpXG4gICAgICAgICAgICAgICAgZmlsbENhY2hlKGIpO1xuICAgICAgICAgICAgY29uc3QgeyBzaW5lOiBhc2luZSwgY29zaW5lOiBhY29zaW5lIH0gPSBjYWNoZS5nZXQoYSk7XG4gICAgICAgICAgICBjb25zdCB7IHNpbmU6IGJzaW5lLCBjb3NpbmU6IGJjb3NpbmUgfSA9IGNhY2hlLmdldChiKTtcbiAgICAgICAgICAgIC8vIGJvdGggb24gb3IgYWJvdmUgeC1heGlzXG4gICAgICAgICAgICBpZiAoYXNpbmUuaXNHcmVhdGVyVGhhbk9yRXF1YWxUbygwKSAmJiBic2luZS5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvKDApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjb3NpbmUuaXNMZXNzVGhhbihiY29zaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKGFjb3NpbmUuaXNHcmVhdGVyVGhhbihiY29zaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYm90aCBiZWxvdyB4LWF4aXNcbiAgICAgICAgICAgIGlmIChhc2luZS5pc0xlc3NUaGFuKDApICYmIGJzaW5lLmlzTGVzc1RoYW4oMCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWNvc2luZS5pc0xlc3NUaGFuKGJjb3NpbmUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgaWYgKGFjb3NpbmUuaXNHcmVhdGVyVGhhbihiY29zaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmUgYWJvdmUgeC1heGlzLCBvbmUgYmVsb3dcbiAgICAgICAgICAgIGlmIChic2luZS5pc0xlc3NUaGFuKGFzaW5lKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYnNpbmUuaXNHcmVhdGVyVGhhbihhc2luZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgZ2V0QmJveE92ZXJsYXAsIGlzSW5CYm94IH0gZnJvbSBcIi4vYmJveC5qc1wiO1xuaW1wb3J0IG9wZXJhdGlvbiBmcm9tIFwiLi9vcGVyYXRpb24uanNcIjtcbmltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IFN3ZWVwRXZlbnQgZnJvbSBcIi4vc3dlZXAtZXZlbnQuanNcIjtcbmltcG9ydCB7IGludGVyc2VjdGlvbiB9IGZyb20gXCIuL3ZlY3Rvci5qc1wiO1xuLy8gR2l2ZSBzZWdtZW50cyB1bmlxdWUgSUQncyB0byBnZXQgY29uc2lzdGVudCBzb3J0aW5nIG9mXG4vLyBzZWdtZW50cyBhbmQgc3dlZXAgZXZlbnRzIHdoZW4gYWxsIGVsc2UgaXMgaWRlbnRpY2FsXG5sZXQgc2VnbWVudElkID0gMDtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlZ21lbnQge1xuICAgIGlkO1xuICAgIGxlZnRTRTtcbiAgICByaWdodFNFO1xuICAgIHJpbmdzO1xuICAgIHdpbmRpbmdzO1xuICAgIHJpbmdPdXQ7XG4gICAgY29uc3VtZWRCeTtcbiAgICBwcmV2O1xuICAgIF9wcmV2SW5SZXN1bHQ7XG4gICAgX2JlZm9yZVN0YXRlO1xuICAgIF9hZnRlclN0YXRlO1xuICAgIF9pc0luUmVzdWx0O1xuICAgIC8qIFRoaXMgY29tcGFyZSgpIGZ1bmN0aW9uIGlzIGZvciBvcmRlcmluZyBzZWdtZW50cyBpbiB0aGUgc3dlZXBcbiAgICAgKiBsaW5lIHRyZWUsIGFuZCBkb2VzIHNvIGFjY29yZGluZyB0byB0aGUgZm9sbG93aW5nIGNyaXRlcmlhOlxuICAgICAqXG4gICAgICogQ29uc2lkZXIgdGhlIHZlcnRpY2FsIGxpbmUgdGhhdCBsaWVzIGFuIGluZmluZXN0aW1hbCBzdGVwIHRvIHRoZVxuICAgICAqIHJpZ2h0IG9mIHRoZSByaWdodC1tb3JlIG9mIHRoZSB0d28gbGVmdCBlbmRwb2ludHMgb2YgdGhlIGlucHV0XG4gICAgICogc2VnbWVudHMuIEltYWdpbmUgc2xvd2x5IG1vdmluZyBhIHBvaW50IHVwIGZyb20gbmVnYXRpdmUgaW5maW5pdHlcbiAgICAgKiBpbiB0aGUgaW5jcmVhc2luZyB5IGRpcmVjdGlvbi4gV2hpY2ggb2YgdGhlIHR3byBzZWdtZW50cyB3aWxsIHRoYXRcbiAgICAgKiBwb2ludCBpbnRlcnNlY3QgZmlyc3Q/IFRoYXQgc2VnbWVudCBjb21lcyAnYmVmb3JlJyB0aGUgb3RoZXIgb25lLlxuICAgICAqXG4gICAgICogSWYgbmVpdGhlciBzZWdtZW50IHdvdWxkIGJlIGludGVyc2VjdGVkIGJ5IHN1Y2ggYSBsaW5lLCAoaWYgb25lXG4gICAgICogb3IgbW9yZSBvZiB0aGUgc2VnbWVudHMgYXJlIHZlcnRpY2FsKSB0aGVuIHRoZSBsaW5lIHRvIGJlIGNvbnNpZGVyZWRcbiAgICAgKiBpcyBkaXJlY3RseSBvbiB0aGUgcmlnaHQtbW9yZSBvZiB0aGUgdHdvIGxlZnQgaW5wdXRzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjb21wYXJlKGEsIGIpIHtcbiAgICAgICAgY29uc3QgYWx4ID0gYS5sZWZ0U0UucG9pbnQueDtcbiAgICAgICAgY29uc3QgYmx4ID0gYi5sZWZ0U0UucG9pbnQueDtcbiAgICAgICAgY29uc3QgYXJ4ID0gYS5yaWdodFNFLnBvaW50Lng7XG4gICAgICAgIGNvbnN0IGJyeCA9IGIucmlnaHRTRS5wb2ludC54O1xuICAgICAgICAvLyBjaGVjayBpZiB0aGV5J3JlIGV2ZW4gaW4gdGhlIHNhbWUgdmVydGljYWwgcGxhbmVcbiAgICAgICAgaWYgKGJyeC5pc0xlc3NUaGFuKGFseCkpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgaWYgKGFyeC5pc0xlc3NUaGFuKGJseCkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGNvbnN0IGFseSA9IGEubGVmdFNFLnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGJseSA9IGIubGVmdFNFLnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGFyeSA9IGEucmlnaHRTRS5wb2ludC55O1xuICAgICAgICBjb25zdCBicnkgPSBiLnJpZ2h0U0UucG9pbnQueTtcbiAgICAgICAgLy8gaXMgbGVmdCBlbmRwb2ludCBvZiBzZWdtZW50IEIgdGhlIHJpZ2h0LW1vcmU/XG4gICAgICAgIGlmIChhbHguaXNMZXNzVGhhbihibHgpKSB7XG4gICAgICAgICAgICAvLyBhcmUgdGhlIHR3byBzZWdtZW50cyBpbiB0aGUgc2FtZSBob3Jpem9udGFsIHBsYW5lP1xuICAgICAgICAgICAgaWYgKGJseS5pc0xlc3NUaGFuKGFseSkgJiYgYmx5LmlzTGVzc1RoYW4oYXJ5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChibHkuaXNHcmVhdGVyVGhhbihhbHkpICYmIGJseS5pc0dyZWF0ZXJUaGFuKGFyeSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgLy8gaXMgdGhlIEIgbGVmdCBlbmRwb2ludCBjb2xpbmVhciB0byBzZWdtZW50IEE/XG4gICAgICAgICAgICBjb25zdCBhQ21wQkxlZnQgPSBhLmNvbXBhcmVQb2ludChiLmxlZnRTRS5wb2ludCk7XG4gICAgICAgICAgICBpZiAoYUNtcEJMZWZ0IDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChhQ21wQkxlZnQgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIC8vIGlzIHRoZSBBIHJpZ2h0IGVuZHBvaW50IGNvbGluZWFyIHRvIHNlZ21lbnQgQiA/XG4gICAgICAgICAgICBjb25zdCBiQ21wQVJpZ2h0ID0gYi5jb21wYXJlUG9pbnQoYS5yaWdodFNFLnBvaW50KTtcbiAgICAgICAgICAgIGlmIChiQ21wQVJpZ2h0ICE9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBiQ21wQVJpZ2h0O1xuICAgICAgICAgICAgLy8gY29saW5lYXIgc2VnbWVudHMsIGNvbnNpZGVyIHRoZSBvbmUgd2l0aCBsZWZ0LW1vcmVcbiAgICAgICAgICAgIC8vIGxlZnQgZW5kcG9pbnQgdG8gYmUgZmlyc3QgKGFyYml0cmFyeT8pXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXMgbGVmdCBlbmRwb2ludCBvZiBzZWdtZW50IEEgdGhlIHJpZ2h0LW1vcmU/XG4gICAgICAgIGlmIChhbHguaXNHcmVhdGVyVGhhbihibHgpKSB7XG4gICAgICAgICAgICBpZiAoYWx5LmlzTGVzc1RoYW4oYmx5KSAmJiBhbHkuaXNMZXNzVGhhbihicnkpKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhbHkuaXNHcmVhdGVyVGhhbihibHkpICYmIGFseS5pc0dyZWF0ZXJUaGFuKGJyeSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAvLyBpcyB0aGUgQSBsZWZ0IGVuZHBvaW50IGNvbGluZWFyIHRvIHNlZ21lbnQgQj9cbiAgICAgICAgICAgIGNvbnN0IGJDbXBBTGVmdCA9IGIuY29tcGFyZVBvaW50KGEubGVmdFNFLnBvaW50KTtcbiAgICAgICAgICAgIGlmIChiQ21wQUxlZnQgIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJDbXBBTGVmdDtcbiAgICAgICAgICAgIC8vIGlzIHRoZSBCIHJpZ2h0IGVuZHBvaW50IGNvbGluZWFyIHRvIHNlZ21lbnQgQT9cbiAgICAgICAgICAgIGNvbnN0IGFDbXBCUmlnaHQgPSBhLmNvbXBhcmVQb2ludChiLnJpZ2h0U0UucG9pbnQpO1xuICAgICAgICAgICAgaWYgKGFDbXBCUmlnaHQgPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGFDbXBCUmlnaHQgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIC8vIGNvbGluZWFyIHNlZ21lbnRzLCBjb25zaWRlciB0aGUgb25lIHdpdGggbGVmdC1tb3JlXG4gICAgICAgICAgICAvLyBsZWZ0IGVuZHBvaW50IHRvIGJlIGZpcnN0IChhcmJpdHJhcnk/KVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgZ2V0IGhlcmUsIHRoZSB0d28gbGVmdCBlbmRwb2ludHMgYXJlIGluIHRoZSBzYW1lXG4gICAgICAgIC8vIHZlcnRpY2FsIHBsYW5lLCBpZSBhbHggPT09IGJseFxuICAgICAgICAvLyBjb25zaWRlciB0aGUgbG93ZXIgbGVmdC1lbmRwb2ludCB0byBjb21lIGZpcnN0XG4gICAgICAgIGlmIChhbHkuaXNMZXNzVGhhbihibHkpKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBpZiAoYWx5LmlzR3JlYXRlclRoYW4oYmx5KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAvLyBsZWZ0IGVuZHBvaW50cyBhcmUgaWRlbnRpY2FsXG4gICAgICAgIC8vIGNoZWNrIGZvciBjb2xpbmVhcml0eSBieSB1c2luZyB0aGUgbGVmdC1tb3JlIHJpZ2h0IGVuZHBvaW50XG4gICAgICAgIC8vIGlzIHRoZSBBIHJpZ2h0IGVuZHBvaW50IG1vcmUgbGVmdC1tb3JlP1xuICAgICAgICBpZiAoYXJ4LmlzTGVzc1RoYW4oYnJ4KSkge1xuICAgICAgICAgICAgY29uc3QgYkNtcEFSaWdodCA9IGIuY29tcGFyZVBvaW50KGEucmlnaHRTRS5wb2ludCk7XG4gICAgICAgICAgICBpZiAoYkNtcEFSaWdodCAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gYkNtcEFSaWdodDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpcyB0aGUgQiByaWdodCBlbmRwb2ludCBtb3JlIGxlZnQtbW9yZT9cbiAgICAgICAgaWYgKGFyeC5pc0dyZWF0ZXJUaGFuKGJyeCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFDbXBCUmlnaHQgPSBhLmNvbXBhcmVQb2ludChiLnJpZ2h0U0UucG9pbnQpO1xuICAgICAgICAgICAgaWYgKGFDbXBCUmlnaHQgPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGFDbXBCUmlnaHQgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFyeC5lcShicngpKSB7XG4gICAgICAgICAgICAvLyBhcmUgdGhlc2UgdHdvIFthbG1vc3RdIHZlcnRpY2FsIHNlZ21lbnRzIHdpdGggb3Bwb3NpdGUgb3JpZW50YXRpb24/XG4gICAgICAgICAgICAvLyBpZiBzbywgdGhlIG9uZSB3aXRoIHRoZSBsb3dlciByaWdodCBlbmRwb2ludCBjb21lcyBmaXJzdFxuICAgICAgICAgICAgY29uc3QgYXkgPSBhcnkubWludXMoYWx5KTtcbiAgICAgICAgICAgIGNvbnN0IGF4ID0gYXJ4Lm1pbnVzKGFseCk7XG4gICAgICAgICAgICBjb25zdCBieSA9IGJyeS5taW51cyhibHkpO1xuICAgICAgICAgICAgY29uc3QgYnggPSBicngubWludXMoYmx4KTtcbiAgICAgICAgICAgIGlmIChheS5pc0dyZWF0ZXJUaGFuKGF4KSAmJiBieS5pc0xlc3NUaGFuKGJ4KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChheS5pc0xlc3NUaGFuKGF4KSAmJiBieS5pc0dyZWF0ZXJUaGFuKGJ4KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgaGF2ZSBjb2xpbmVhciBzZWdtZW50cyB3aXRoIG1hdGNoaW5nIG9yaWVudGF0aW9uXG4gICAgICAgIC8vIGNvbnNpZGVyIHRoZSBvbmUgd2l0aCBtb3JlIGxlZnQtbW9yZSByaWdodCBlbmRwb2ludCB0byBiZSBmaXJzdFxuICAgICAgICBpZiAoYXJ4LmlzR3JlYXRlclRoYW4oYnJ4KSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBpZiAoYXJ4LmlzTGVzc1RoYW4oYnJ4KSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgLy8gaWYgd2UgZ2V0IGhlcmUsIHR3byB0d28gcmlnaHQgZW5kcG9pbnRzIGFyZSBpbiB0aGUgc2FtZVxuICAgICAgICAvLyB2ZXJ0aWNhbCBwbGFuZSwgaWUgYXJ4ID09PSBicnhcbiAgICAgICAgLy8gY29uc2lkZXIgdGhlIGxvd2VyIHJpZ2h0LWVuZHBvaW50IHRvIGNvbWUgZmlyc3RcbiAgICAgICAgaWYgKGFyeS5pc0xlc3NUaGFuKGJyeSkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhcnkuaXNHcmVhdGVyVGhhbihicnkpKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIC8vIHJpZ2h0IGVuZHBvaW50cyBpZGVudGljYWwgYXMgd2VsbCwgc28gdGhlIHNlZ21lbnRzIGFyZSBpZGVudGlhbFxuICAgICAgICAvLyBmYWxsIGJhY2sgb24gY3JlYXRpb24gb3JkZXIgYXMgY29uc2lzdGVudCB0aWUtYnJlYWtlclxuICAgICAgICBpZiAoYS5pZCA8IGIuaWQpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhLmlkID4gYi5pZClcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAvLyBpZGVudGljYWwgc2VnbWVudCwgaWUgYSA9PT0gYlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLyogV2FybmluZzogYSByZWZlcmVuY2UgdG8gcmluZ1dpbmRpbmdzIGlucHV0IHdpbGwgYmUgc3RvcmVkLFxuICAgICAqICBhbmQgcG9zc2libHkgd2lsbCBiZSBsYXRlciBtb2RpZmllZCAqL1xuICAgIGNvbnN0cnVjdG9yKGxlZnRTRSwgcmlnaHRTRSwgcmluZ3MsIHdpbmRpbmdzKSB7XG4gICAgICAgIHRoaXMuaWQgPSArK3NlZ21lbnRJZDtcbiAgICAgICAgdGhpcy5sZWZ0U0UgPSBsZWZ0U0U7XG4gICAgICAgIGxlZnRTRS5zZWdtZW50ID0gdGhpcztcbiAgICAgICAgbGVmdFNFLm90aGVyU0UgPSByaWdodFNFO1xuICAgICAgICB0aGlzLnJpZ2h0U0UgPSByaWdodFNFO1xuICAgICAgICByaWdodFNFLnNlZ21lbnQgPSB0aGlzO1xuICAgICAgICByaWdodFNFLm90aGVyU0UgPSBsZWZ0U0U7XG4gICAgICAgIHRoaXMucmluZ3MgPSByaW5ncztcbiAgICAgICAgdGhpcy53aW5kaW5ncyA9IHdpbmRpbmdzO1xuICAgICAgICAvLyBsZWZ0IHVuc2V0IGZvciBwZXJmb3JtYW5jZSwgc2V0IGxhdGVyIGluIGFsZ29yaXRobVxuICAgICAgICAvLyB0aGlzLnJpbmdPdXQsIHRoaXMuY29uc3VtZWRCeSwgdGhpcy5wcmV2XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUmluZyhwdDEsIHB0MiwgcmluZykge1xuICAgICAgICBsZXQgbGVmdFB0LCByaWdodFB0LCB3aW5kaW5nO1xuICAgICAgICAvLyBvcmRlcmluZyB0aGUgdHdvIHBvaW50cyBhY2NvcmRpbmcgdG8gc3dlZXAgbGluZSBvcmRlcmluZ1xuICAgICAgICBjb25zdCBjbXBQdHMgPSBTd2VlcEV2ZW50LmNvbXBhcmVQb2ludHMocHQxLCBwdDIpO1xuICAgICAgICBpZiAoY21wUHRzIDwgMCkge1xuICAgICAgICAgICAgbGVmdFB0ID0gcHQxO1xuICAgICAgICAgICAgcmlnaHRQdCA9IHB0MjtcbiAgICAgICAgICAgIHdpbmRpbmcgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNtcFB0cyA+IDApIHtcbiAgICAgICAgICAgIGxlZnRQdCA9IHB0MjtcbiAgICAgICAgICAgIHJpZ2h0UHQgPSBwdDE7XG4gICAgICAgICAgICB3aW5kaW5nID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcmllZCB0byBjcmVhdGUgZGVnZW5lcmF0ZSBzZWdtZW50IGF0IFske3B0MS54fSwgJHtwdDEueX1dYCk7XG4gICAgICAgIGNvbnN0IGxlZnRTRSA9IG5ldyBTd2VlcEV2ZW50KGxlZnRQdCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0U0UgPSBuZXcgU3dlZXBFdmVudChyaWdodFB0LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXcgU2VnbWVudChsZWZ0U0UsIHJpZ2h0U0UsIFtyaW5nXSwgW3dpbmRpbmddKTtcbiAgICB9XG4gICAgLyogV2hlbiBhIHNlZ21lbnQgaXMgc3BsaXQsIHRoZSByaWdodFNFIGlzIHJlcGxhY2VkIHdpdGggYSBuZXcgc3dlZXAgZXZlbnQgKi9cbiAgICByZXBsYWNlUmlnaHRTRShuZXdSaWdodFNFKSB7XG4gICAgICAgIHRoaXMucmlnaHRTRSA9IG5ld1JpZ2h0U0U7XG4gICAgICAgIHRoaXMucmlnaHRTRS5zZWdtZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5yaWdodFNFLm90aGVyU0UgPSB0aGlzLmxlZnRTRTtcbiAgICAgICAgdGhpcy5sZWZ0U0Uub3RoZXJTRSA9IHRoaXMucmlnaHRTRTtcbiAgICB9XG4gICAgYmJveCgpIHtcbiAgICAgICAgY29uc3QgeTEgPSB0aGlzLmxlZnRTRS5wb2ludC55O1xuICAgICAgICBjb25zdCB5MiA9IHRoaXMucmlnaHRTRS5wb2ludC55O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGw6IHsgeDogdGhpcy5sZWZ0U0UucG9pbnQueCwgeTogeTEuaXNMZXNzVGhhbih5MikgPyB5MSA6IHkyIH0sXG4gICAgICAgICAgICB1cjogeyB4OiB0aGlzLnJpZ2h0U0UucG9pbnQueCwgeTogeTEuaXNHcmVhdGVyVGhhbih5MikgPyB5MSA6IHkyIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qIEEgdmVjdG9yIGZyb20gdGhlIGxlZnQgcG9pbnQgdG8gdGhlIHJpZ2h0ICovXG4gICAgdmVjdG9yKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5yaWdodFNFLnBvaW50LngubWludXModGhpcy5sZWZ0U0UucG9pbnQueCksXG4gICAgICAgICAgICB5OiB0aGlzLnJpZ2h0U0UucG9pbnQueS5taW51cyh0aGlzLmxlZnRTRS5wb2ludC55KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaXNBbkVuZHBvaW50KHB0KSB7XG4gICAgICAgIHJldHVybiAoKHB0LnguZXEodGhpcy5sZWZ0U0UucG9pbnQueCkgJiYgcHQueS5lcSh0aGlzLmxlZnRTRS5wb2ludC55KSkgfHxcbiAgICAgICAgICAgIChwdC54LmVxKHRoaXMucmlnaHRTRS5wb2ludC54KSAmJiBwdC55LmVxKHRoaXMucmlnaHRTRS5wb2ludC55KSkpO1xuICAgIH1cbiAgICAvKiBDb21wYXJlIHRoaXMgc2VnbWVudCB3aXRoIGEgcG9pbnQuXG4gICAgICpcbiAgICAgKiBBIHBvaW50IFAgaXMgY29uc2lkZXJlZCB0byBiZSBjb2xpbmVhciB0byBhIHNlZ21lbnQgaWYgdGhlcmVcbiAgICAgKiBleGlzdHMgYSBkaXN0YW5jZSBEIHN1Y2ggdGhhdCBpZiB3ZSB0cmF2ZWwgYWxvbmcgdGhlIHNlZ21lbnRcbiAgICAgKiBmcm9tIG9uZSAqIGVuZHBvaW50IHRvd2FyZHMgdGhlIG90aGVyIGEgZGlzdGFuY2UgRCwgd2UgZmluZFxuICAgICAqIG91cnNlbHZlcyBhdCBwb2ludCBQLlxuICAgICAqXG4gICAgICogUmV0dXJuIHZhbHVlIGluZGljYXRlczpcbiAgICAgKlxuICAgICAqICAgMTogcG9pbnQgbGllcyBhYm92ZSB0aGUgc2VnbWVudCAodG8gdGhlIGxlZnQgb2YgdmVydGljYWwpXG4gICAgICogICAwOiBwb2ludCBpcyBjb2xpbmVhciB0byBzZWdtZW50XG4gICAgICogIC0xOiBwb2ludCBsaWVzIGJlbG93IHRoZSBzZWdtZW50ICh0byB0aGUgcmlnaHQgb2YgdmVydGljYWwpXG4gICAgICovXG4gICAgY29tcGFyZVBvaW50KHBvaW50KSB7XG4gICAgICAgIHJldHVybiBwcmVjaXNpb24ub3JpZW50KHRoaXMubGVmdFNFLnBvaW50LCBwb2ludCwgdGhpcy5yaWdodFNFLnBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYW5vdGhlciBzZWdtZW50LCByZXR1cm5zIHRoZSBmaXJzdCBub24tdHJpdmlhbCBpbnRlcnNlY3Rpb25cbiAgICAgKiBiZXR3ZWVuIHRoZSB0d28gc2VnbWVudHMgKGluIHRlcm1zIG9mIHN3ZWVwIGxpbmUgb3JkZXJpbmcpLCBpZiBpdCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBBICdub24tdHJpdmlhbCcgaW50ZXJzZWN0aW9uIGlzIG9uZSB0aGF0IHdpbGwgY2F1c2Ugb25lIG9yIGJvdGggb2YgdGhlXG4gICAgICogc2VnbWVudHMgdG8gYmUgc3BsaXQoKS4gQXMgc3VjaCwgJ3RyaXZpYWwnIHZzLiAnbm9uLXRyaXZpYWwnIGludGVyc2VjdGlvbjpcbiAgICAgKlxuICAgICAqICAgKiBlbmRwb2ludCBvZiBzZWdBIHdpdGggZW5kcG9pbnQgb2Ygc2VnQiAtLT4gdHJpdmlhbFxuICAgICAqICAgKiBlbmRwb2ludCBvZiBzZWdBIHdpdGggcG9pbnQgYWxvbmcgc2VnQiAtLT4gbm9uLXRyaXZpYWxcbiAgICAgKiAgICogZW5kcG9pbnQgb2Ygc2VnQiB3aXRoIHBvaW50IGFsb25nIHNlZ0EgLS0+IG5vbi10cml2aWFsXG4gICAgICogICAqIHBvaW50IGFsb25nIHNlZ0Egd2l0aCBwb2ludCBhbG9uZyBzZWdCIC0tPiBub24tdHJpdmlhbFxuICAgICAqXG4gICAgICogSWYgbm8gbm9uLXRyaXZpYWwgaW50ZXJzZWN0aW9uIGV4aXN0cywgcmV0dXJuIG51bGxcbiAgICAgKiBFbHNlLCByZXR1cm4gbnVsbC5cbiAgICAgKi9cbiAgICBnZXRJbnRlcnNlY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgLy8gSWYgYmJveGVzIGRvbid0IG92ZXJsYXAsIHRoZXJlIGNhbid0IGJlIGFueSBpbnRlcnNlY3Rpb25zXG4gICAgICAgIGNvbnN0IHRCYm94ID0gdGhpcy5iYm94KCk7XG4gICAgICAgIGNvbnN0IG9CYm94ID0gb3RoZXIuYmJveCgpO1xuICAgICAgICBjb25zdCBiYm94T3ZlcmxhcCA9IGdldEJib3hPdmVybGFwKHRCYm94LCBvQmJveCk7XG4gICAgICAgIGlmIChiYm94T3ZlcmxhcCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAvLyBXZSBmaXJzdCBjaGVjayB0byBzZWUgaWYgdGhlIGVuZHBvaW50cyBjYW4gYmUgY29uc2lkZXJlZCBpbnRlcnNlY3Rpb25zLlxuICAgICAgICAvLyBUaGlzIHdpbGwgJ3NuYXAnIGludGVyc2VjdGlvbnMgdG8gZW5kcG9pbnRzIGlmIHBvc3NpYmxlLCBhbmQgd2lsbFxuICAgICAgICAvLyBoYW5kbGUgY2FzZXMgb2YgY29saW5lYXJpdHkuXG4gICAgICAgIGNvbnN0IHRscCA9IHRoaXMubGVmdFNFLnBvaW50O1xuICAgICAgICBjb25zdCB0cnAgPSB0aGlzLnJpZ2h0U0UucG9pbnQ7XG4gICAgICAgIGNvbnN0IG9scCA9IG90aGVyLmxlZnRTRS5wb2ludDtcbiAgICAgICAgY29uc3Qgb3JwID0gb3RoZXIucmlnaHRTRS5wb2ludDtcbiAgICAgICAgLy8gZG9lcyBlYWNoIGVuZHBvaW50IHRvdWNoIHRoZSBvdGhlciBzZWdtZW50P1xuICAgICAgICAvLyBub3RlIHRoYXQgd2UgcmVzdHJpY3QgdGhlICd0b3VjaGluZycgZGVmaW5pdGlvbiB0byBvbmx5IGFsbG93IHNlZ21lbnRzXG4gICAgICAgIC8vIHRvIHRvdWNoIGVuZHBvaW50cyB0aGF0IGxpZSBmb3J3YXJkIGZyb20gd2hlcmUgd2UgYXJlIGluIHRoZSBzd2VlcCBsaW5lIHBhc3NcbiAgICAgICAgY29uc3QgdG91Y2hlc090aGVyTFNFID0gaXNJbkJib3godEJib3gsIG9scCkgJiYgdGhpcy5jb21wYXJlUG9pbnQob2xwKSA9PT0gMDtcbiAgICAgICAgY29uc3QgdG91Y2hlc1RoaXNMU0UgPSBpc0luQmJveChvQmJveCwgdGxwKSAmJiBvdGhlci5jb21wYXJlUG9pbnQodGxwKSA9PT0gMDtcbiAgICAgICAgY29uc3QgdG91Y2hlc090aGVyUlNFID0gaXNJbkJib3godEJib3gsIG9ycCkgJiYgdGhpcy5jb21wYXJlUG9pbnQob3JwKSA9PT0gMDtcbiAgICAgICAgY29uc3QgdG91Y2hlc1RoaXNSU0UgPSBpc0luQmJveChvQmJveCwgdHJwKSAmJiBvdGhlci5jb21wYXJlUG9pbnQodHJwKSA9PT0gMDtcbiAgICAgICAgLy8gZG8gbGVmdCBlbmRwb2ludHMgbWF0Y2g/XG4gICAgICAgIGlmICh0b3VjaGVzVGhpc0xTRSAmJiB0b3VjaGVzT3RoZXJMU0UpIHtcbiAgICAgICAgICAgIC8vIHRoZXNlIHR3byBjYXNlcyBhcmUgZm9yIGNvbGluZWFyIHNlZ21lbnRzIHdpdGggbWF0Y2hpbmcgbGVmdFxuICAgICAgICAgICAgLy8gZW5kcG9pbnRzLCBhbmQgb25lIHNlZ21lbnQgYmVpbmcgbG9uZ2VyIHRoYW4gdGhlIG90aGVyXG4gICAgICAgICAgICBpZiAodG91Y2hlc1RoaXNSU0UgJiYgIXRvdWNoZXNPdGhlclJTRSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJwO1xuICAgICAgICAgICAgaWYgKCF0b3VjaGVzVGhpc1JTRSAmJiB0b3VjaGVzT3RoZXJSU0UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ycDtcbiAgICAgICAgICAgIC8vIGVpdGhlciB0aGUgdHdvIHNlZ21lbnRzIG1hdGNoIGV4YWN0bHkgKHR3byB0cml2YWwgaW50ZXJzZWN0aW9ucylcbiAgICAgICAgICAgIC8vIG9yIGp1c3Qgb24gdGhlaXIgbGVmdCBlbmRwb2ludCAob25lIHRyaXZpYWwgaW50ZXJzZWN0aW9uXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb2VzIHRoaXMgbGVmdCBlbmRwb2ludCBtYXRjaGVzIChvdGhlciBkb2Vzbid0KVxuICAgICAgICBpZiAodG91Y2hlc1RoaXNMU0UpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBzZWdtZW50cyB0aGF0IGp1c3QgaW50ZXJzZWN0IG9uIG9wcG9zaW5nIGVuZHBvaW50c1xuICAgICAgICAgICAgaWYgKHRvdWNoZXNPdGhlclJTRSkge1xuICAgICAgICAgICAgICAgIGlmICh0bHAueC5lcShvcnAueCkgJiYgdGxwLnkuZXEob3JwLnkpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHQtaW50ZXJzZWN0aW9uIG9uIGxlZnQgZW5kcG9pbnRcbiAgICAgICAgICAgIHJldHVybiB0bHA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9lcyBvdGhlciBsZWZ0IGVuZHBvaW50IG1hdGNoZXMgKHRoaXMgZG9lc24ndClcbiAgICAgICAgaWYgKHRvdWNoZXNPdGhlckxTRSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNlZ21lbnRzIHRoYXQganVzdCBpbnRlcnNlY3Qgb24gb3Bwb3NpbmcgZW5kcG9pbnRzXG4gICAgICAgICAgICBpZiAodG91Y2hlc1RoaXNSU0UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJwLnguZXEob2xwLngpICYmIHRycC55LmVxKG9scC55KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0LWludGVyc2VjdGlvbiBvbiBsZWZ0IGVuZHBvaW50XG4gICAgICAgICAgICByZXR1cm4gb2xwO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRyaXZpYWwgaW50ZXJzZWN0aW9uIG9uIHJpZ2h0IGVuZHBvaW50c1xuICAgICAgICBpZiAodG91Y2hlc1RoaXNSU0UgJiYgdG91Y2hlc090aGVyUlNFKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIHQtaW50ZXJzZWN0aW9ucyBvbiBqdXN0IG9uZSByaWdodCBlbmRwb2ludFxuICAgICAgICBpZiAodG91Y2hlc1RoaXNSU0UpXG4gICAgICAgICAgICByZXR1cm4gdHJwO1xuICAgICAgICBpZiAodG91Y2hlc090aGVyUlNFKVxuICAgICAgICAgICAgcmV0dXJuIG9ycDtcbiAgICAgICAgLy8gTm9uZSBvZiBvdXIgZW5kcG9pbnRzIGludGVyc2VjdC4gTG9vayBmb3IgYSBnZW5lcmFsIGludGVyc2VjdGlvbiBiZXR3ZWVuXG4gICAgICAgIC8vIGluZmluaXRlIGxpbmVzIGxhaWQgb3ZlciB0aGUgc2VnbWVudHNcbiAgICAgICAgY29uc3QgcHQgPSBpbnRlcnNlY3Rpb24odGxwLCB0aGlzLnZlY3RvcigpLCBvbHAsIG90aGVyLnZlY3RvcigpKTtcbiAgICAgICAgLy8gYXJlIHRoZSBzZWdtZW50cyBwYXJyYWxsZWw/IE5vdGUgdGhhdCBpZiB0aGV5IHdlcmUgY29saW5lYXIgd2l0aCBvdmVybGFwLFxuICAgICAgICAvLyB0aGV5IHdvdWxkIGhhdmUgYW4gZW5kcG9pbnQgaW50ZXJzZWN0aW9uIGFuZCB0aGF0IGNhc2Ugd2FzIGFscmVhZHkgaGFuZGxlZCBhYm92ZVxuICAgICAgICBpZiAocHQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gaXMgdGhlIGludGVyc2VjdGlvbiBmb3VuZCBiZXR3ZWVuIHRoZSBsaW5lcyBub3Qgb24gdGhlIHNlZ21lbnRzP1xuICAgICAgICBpZiAoIWlzSW5CYm94KGJib3hPdmVybGFwLCBwdCkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gcm91bmQgdGhlIHRoZSBjb21wdXRlZCBwb2ludCBpZiBuZWVkZWRcbiAgICAgICAgcmV0dXJuIHByZWNpc2lvbi5zbmFwKHB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3BsaXQgdGhlIGdpdmVuIHNlZ21lbnQgaW50byBtdWx0aXBsZSBzZWdtZW50cyBvbiB0aGUgZ2l2ZW4gcG9pbnRzLlxuICAgICAqICAqIEVhY2ggZXhpc3Rpbmcgc2VnbWVudCB3aWxsIHJldGFpbiBpdHMgbGVmdFNFIGFuZCBhIG5ldyByaWdodFNFIHdpbGwgYmVcbiAgICAgKiAgICBnZW5lcmF0ZWQgZm9yIGl0LlxuICAgICAqICAqIEEgbmV3IHNlZ21lbnQgd2lsbCBiZSBnZW5lcmF0ZWQgd2hpY2ggd2lsbCBhZG9wdCB0aGUgb3JpZ2luYWwgc2VnbWVudCdzXG4gICAgICogICAgcmlnaHRTRSwgYW5kIGEgbmV3IGxlZnRTRSB3aWxsIGJlIGdlbmVyYXRlZCBmb3IgaXQuXG4gICAgICogICogSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiB0d28gcG9pbnRzIGdpdmVuIHRvIHNwbGl0IG9uLCBuZXcgc2VnbWVudHNcbiAgICAgKiAgICBpbiB0aGUgbWlkZGxlIHdpbGwgYmUgZ2VuZXJhdGVkIHdpdGggbmV3IGxlZnRTRSBhbmQgcmlnaHRTRSdzLlxuICAgICAqICAqIEFuIGFycmF5IG9mIHRoZSBuZXdseSBnZW5lcmF0ZWQgU3dlZXBFdmVudHMgd2lsbCBiZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIFdhcm5pbmc6IGlucHV0IGFycmF5IG9mIHBvaW50cyBpcyBtb2RpZmllZFxuICAgICAqL1xuICAgIHNwbGl0KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IG5ld0V2ZW50cyA9IFtdO1xuICAgICAgICBjb25zdCBhbHJlYWR5TGlua2VkID0gcG9pbnQuZXZlbnRzICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG5ld0xlZnRTRSA9IG5ldyBTd2VlcEV2ZW50KHBvaW50LCB0cnVlKTtcbiAgICAgICAgY29uc3QgbmV3UmlnaHRTRSA9IG5ldyBTd2VlcEV2ZW50KHBvaW50LCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG9sZFJpZ2h0U0UgPSB0aGlzLnJpZ2h0U0U7XG4gICAgICAgIHRoaXMucmVwbGFjZVJpZ2h0U0UobmV3UmlnaHRTRSk7XG4gICAgICAgIG5ld0V2ZW50cy5wdXNoKG5ld1JpZ2h0U0UpO1xuICAgICAgICBuZXdFdmVudHMucHVzaChuZXdMZWZ0U0UpO1xuICAgICAgICBjb25zdCBuZXdTZWcgPSBuZXcgU2VnbWVudChuZXdMZWZ0U0UsIG9sZFJpZ2h0U0UsIHRoaXMucmluZ3Muc2xpY2UoKSwgdGhpcy53aW5kaW5ncy5zbGljZSgpKTtcbiAgICAgICAgLy8gd2hlbiBzcGxpdHRpbmcgYSBuZWFybHkgdmVydGljYWwgZG93bndhcmQtZmFjaW5nIHNlZ21lbnQsXG4gICAgICAgIC8vIHNvbWV0aW1lcyBvbmUgb2YgdGhlIHJlc3VsdGluZyBuZXcgc2VnbWVudHMgaXMgdmVydGljYWwsIGluIHdoaWNoXG4gICAgICAgIC8vIGNhc2UgaXRzIGxlZnQgYW5kIHJpZ2h0IGV2ZW50cyBtYXkgbmVlZCB0byBiZSBzd2FwcGVkXG4gICAgICAgIGlmIChTd2VlcEV2ZW50LmNvbXBhcmVQb2ludHMobmV3U2VnLmxlZnRTRS5wb2ludCwgbmV3U2VnLnJpZ2h0U0UucG9pbnQpID4gMCkge1xuICAgICAgICAgICAgbmV3U2VnLnN3YXBFdmVudHMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3dlZXBFdmVudC5jb21wYXJlUG9pbnRzKHRoaXMubGVmdFNFLnBvaW50LCB0aGlzLnJpZ2h0U0UucG9pbnQpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zd2FwRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gdGhlIHBvaW50IHdlIGp1c3QgdXNlZCB0byBjcmVhdGUgbmV3IHN3ZWVwIGV2ZW50cyB3aXRoIHdhcyBhbHJlYWR5XG4gICAgICAgIC8vIGxpbmtlZCB0byBvdGhlciBldmVudHMsIHdlIG5lZWQgdG8gY2hlY2sgaWYgZWl0aGVyIG9mIHRoZSBhZmZlY3RlZFxuICAgICAgICAvLyBzZWdtZW50cyBzaG91bGQgYmUgY29uc3VtZWRcbiAgICAgICAgaWYgKGFscmVhZHlMaW5rZWQpIHtcbiAgICAgICAgICAgIG5ld0xlZnRTRS5jaGVja0ZvckNvbnN1bWluZygpO1xuICAgICAgICAgICAgbmV3UmlnaHRTRS5jaGVja0ZvckNvbnN1bWluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdFdmVudHM7XG4gICAgfVxuICAgIC8qIFN3YXAgd2hpY2ggZXZlbnQgaXMgbGVmdCBhbmQgcmlnaHQgKi9cbiAgICBzd2FwRXZlbnRzKCkge1xuICAgICAgICBjb25zdCB0bXBFdnQgPSB0aGlzLnJpZ2h0U0U7XG4gICAgICAgIHRoaXMucmlnaHRTRSA9IHRoaXMubGVmdFNFO1xuICAgICAgICB0aGlzLmxlZnRTRSA9IHRtcEV2dDtcbiAgICAgICAgdGhpcy5sZWZ0U0UuaXNMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yaWdodFNFLmlzTGVmdCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHRoaXMud2luZGluZ3MubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLndpbmRpbmdzW2ldICo9IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIENvbnN1bWUgYW5vdGhlciBzZWdtZW50LiBXZSB0YWtlIHRoZWlyIHJpbmdzIHVuZGVyIG91ciB3aW5nXG4gICAgICogYW5kIG1hcmsgdGhlbSBhcyBjb25zdW1lZC4gVXNlIGZvciBwZXJmZWN0bHkgb3ZlcmxhcHBpbmcgc2VnbWVudHMgKi9cbiAgICBjb25zdW1lKG90aGVyKSB7XG4gICAgICAgIGxldCBjb25zdW1lciA9IHRoaXM7XG4gICAgICAgIGxldCBjb25zdW1lZSA9IG90aGVyO1xuICAgICAgICB3aGlsZSAoY29uc3VtZXIuY29uc3VtZWRCeSlcbiAgICAgICAgICAgIGNvbnN1bWVyID0gY29uc3VtZXIuY29uc3VtZWRCeTtcbiAgICAgICAgd2hpbGUgKGNvbnN1bWVlLmNvbnN1bWVkQnkpXG4gICAgICAgICAgICBjb25zdW1lZSA9IGNvbnN1bWVlLmNvbnN1bWVkQnk7XG4gICAgICAgIGNvbnN0IGNtcCA9IFNlZ21lbnQuY29tcGFyZShjb25zdW1lciwgY29uc3VtZWUpO1xuICAgICAgICBpZiAoY21wID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuOyAvLyBhbHJlYWR5IGNvbnN1bWVkXG4gICAgICAgIC8vIHRoZSB3aW5uZXIgb2YgdGhlIGNvbnN1bXB0aW9uIGlzIHRoZSBlYXJsaWVyIHNlZ21lbnRcbiAgICAgICAgLy8gYWNjb3JkaW5nIHRvIHN3ZWVwIGxpbmUgb3JkZXJpbmdcbiAgICAgICAgaWYgKGNtcCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGNvbnN1bWVyO1xuICAgICAgICAgICAgY29uc3VtZXIgPSBjb25zdW1lZTtcbiAgICAgICAgICAgIGNvbnN1bWVlID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSBhIHNlZ21lbnQgZG9lc24ndCBjb25zdW1lIGl0J3MgcHJldlxuICAgICAgICBpZiAoY29uc3VtZXIucHJldiA9PT0gY29uc3VtZWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGNvbnN1bWVyO1xuICAgICAgICAgICAgY29uc3VtZXIgPSBjb25zdW1lZTtcbiAgICAgICAgICAgIGNvbnN1bWVlID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gY29uc3VtZWUucmluZ3MubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nID0gY29uc3VtZWUucmluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCB3aW5kaW5nID0gY29uc3VtZWUud2luZGluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGNvbnN1bWVyLnJpbmdzLmluZGV4T2YocmluZyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3VtZXIucmluZ3MucHVzaChyaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdW1lci53aW5kaW5ncy5wdXNoKHdpbmRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGNvbnN1bWVyLndpbmRpbmdzW2luZGV4XSArPSB3aW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN1bWVlLnJpbmdzID0gbnVsbDtcbiAgICAgICAgY29uc3VtZWUud2luZGluZ3MgPSBudWxsO1xuICAgICAgICBjb25zdW1lZS5jb25zdW1lZEJ5ID0gY29uc3VtZXI7XG4gICAgICAgIC8vIG1hcmsgc3dlZXAgZXZlbnRzIGNvbnN1bWVkIGFzIHRvIG1haW50YWluIG9yZGVyaW5nIGluIHN3ZWVwIGV2ZW50IHF1ZXVlXG4gICAgICAgIGNvbnN1bWVlLmxlZnRTRS5jb25zdW1lZEJ5ID0gY29uc3VtZXIubGVmdFNFO1xuICAgICAgICBjb25zdW1lZS5yaWdodFNFLmNvbnN1bWVkQnkgPSBjb25zdW1lci5yaWdodFNFO1xuICAgIH1cbiAgICAvKiBUaGUgZmlyc3Qgc2VnbWVudCBwcmV2aW91cyBzZWdtZW50IGNoYWluIHRoYXQgaXMgaW4gdGhlIHJlc3VsdCAqL1xuICAgIHByZXZJblJlc3VsdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZJblJlc3VsdCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZJblJlc3VsdDtcbiAgICAgICAgaWYgKCF0aGlzLnByZXYpXG4gICAgICAgICAgICB0aGlzLl9wcmV2SW5SZXN1bHQgPSBudWxsO1xuICAgICAgICBlbHNlIGlmICh0aGlzLnByZXYuaXNJblJlc3VsdCgpKVxuICAgICAgICAgICAgdGhpcy5fcHJldkluUmVzdWx0ID0gdGhpcy5wcmV2O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl9wcmV2SW5SZXN1bHQgPSB0aGlzLnByZXYucHJldkluUmVzdWx0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmV2SW5SZXN1bHQ7XG4gICAgfVxuICAgIGJlZm9yZVN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fYmVmb3JlU3RhdGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iZWZvcmVTdGF0ZTtcbiAgICAgICAgaWYgKCF0aGlzLnByZXYpXG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICByaW5nczogW10sXG4gICAgICAgICAgICAgICAgd2luZGluZ3M6IFtdLFxuICAgICAgICAgICAgICAgIG11bHRpUG9seXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzZWcgPSB0aGlzLnByZXYuY29uc3VtZWRCeSB8fCB0aGlzLnByZXY7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVTdGF0ZSA9IHNlZy5hZnRlclN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JlZm9yZVN0YXRlO1xuICAgIH1cbiAgICBhZnRlclN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fYWZ0ZXJTdGF0ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FmdGVyU3RhdGU7XG4gICAgICAgIGNvbnN0IGJlZm9yZVN0YXRlID0gdGhpcy5iZWZvcmVTdGF0ZSgpO1xuICAgICAgICB0aGlzLl9hZnRlclN0YXRlID0ge1xuICAgICAgICAgICAgcmluZ3M6IGJlZm9yZVN0YXRlLnJpbmdzLnNsaWNlKDApLFxuICAgICAgICAgICAgd2luZGluZ3M6IGJlZm9yZVN0YXRlLndpbmRpbmdzLnNsaWNlKDApLFxuICAgICAgICAgICAgbXVsdGlQb2x5czogW10sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJpbmdzQWZ0ZXIgPSB0aGlzLl9hZnRlclN0YXRlLnJpbmdzO1xuICAgICAgICBjb25zdCB3aW5kaW5nc0FmdGVyID0gdGhpcy5fYWZ0ZXJTdGF0ZS53aW5kaW5ncztcbiAgICAgICAgY29uc3QgbXBzQWZ0ZXIgPSB0aGlzLl9hZnRlclN0YXRlLm11bHRpUG9seXM7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSByaW5nc0FmdGVyLCB3aW5kaW5nc0FmdGVyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gdGhpcy5yaW5ncy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuICAgICAgICAgICAgY29uc3Qgd2luZGluZyA9IHRoaXMud2luZGluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHJpbmdzQWZ0ZXIuaW5kZXhPZihyaW5nKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByaW5nc0FmdGVyLnB1c2gocmluZyk7XG4gICAgICAgICAgICAgICAgd2luZGluZ3NBZnRlci5wdXNoKHdpbmRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHdpbmRpbmdzQWZ0ZXJbaW5kZXhdICs9IHdpbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VhbHRlIHBvbHlzQWZ0ZXJcbiAgICAgICAgY29uc3QgcG9seXNBZnRlciA9IFtdO1xuICAgICAgICBjb25zdCBwb2x5c0V4Y2x1ZGUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSByaW5nc0FmdGVyLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHdpbmRpbmdzQWZ0ZXJbaV0gPT09IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIG5vbi16ZXJvIHJ1bGVcbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSByaW5nc0FmdGVyW2ldO1xuICAgICAgICAgICAgY29uc3QgcG9seSA9IHJpbmcucG9seTtcbiAgICAgICAgICAgIGlmIChwb2x5c0V4Y2x1ZGUuaW5kZXhPZihwb2x5KSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocmluZy5pc0V4dGVyaW9yKVxuICAgICAgICAgICAgICAgIHBvbHlzQWZ0ZXIucHVzaChwb2x5KTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwb2x5c0V4Y2x1ZGUuaW5kZXhPZihwb2x5KSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHBvbHlzRXhjbHVkZS5wdXNoKHBvbHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcG9seXNBZnRlci5pbmRleE9mKHJpbmcucG9seSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgcG9seXNBZnRlci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBtdWx0aVBvbHlzQWZ0ZXJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBwb2x5c0FmdGVyLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbXAgPSBwb2x5c0FmdGVyW2ldLm11bHRpUG9seTtcbiAgICAgICAgICAgIGlmIChtcHNBZnRlci5pbmRleE9mKG1wKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgbXBzQWZ0ZXIucHVzaChtcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FmdGVyU3RhdGU7XG4gICAgfVxuICAgIC8qIElzIHRoaXMgc2VnbWVudCBwYXJ0IG9mIHRoZSBmaW5hbCByZXN1bHQ/ICovXG4gICAgaXNJblJlc3VsdCgpIHtcbiAgICAgICAgLy8gaWYgd2UndmUgYmVlbiBjb25zdW1lZCwgd2UncmUgbm90IGluIHRoZSByZXN1bHRcbiAgICAgICAgaWYgKHRoaXMuY29uc3VtZWRCeSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5SZXN1bHQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0luUmVzdWx0O1xuICAgICAgICBjb25zdCBtcHNCZWZvcmUgPSB0aGlzLmJlZm9yZVN0YXRlKCkubXVsdGlQb2x5cztcbiAgICAgICAgY29uc3QgbXBzQWZ0ZXIgPSB0aGlzLmFmdGVyU3RhdGUoKS5tdWx0aVBvbHlzO1xuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidW5pb25cIjoge1xuICAgICAgICAgICAgICAgIC8vIFVOSU9OIC0gaW5jbHVkZWQgaWZmOlxuICAgICAgICAgICAgICAgIC8vICAqIE9uIG9uZSBzaWRlIG9mIHVzIHRoZXJlIGlzIDAgcG9seSBpbnRlcmlvcnMgQU5EXG4gICAgICAgICAgICAgICAgLy8gICogT24gdGhlIG90aGVyIHNpZGUgdGhlcmUgaXMgMSBvciBtb3JlLlxuICAgICAgICAgICAgICAgIGNvbnN0IG5vQmVmb3JlcyA9IG1wc0JlZm9yZS5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9BZnRlcnMgPSBtcHNBZnRlci5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNJblJlc3VsdCA9IG5vQmVmb3JlcyAhPT0gbm9BZnRlcnM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW50ZXJzZWN0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAvLyBJTlRFUlNFQ1RJT04gLSBpbmNsdWRlZCBpZmY6XG4gICAgICAgICAgICAgICAgLy8gICogb24gb25lIHNpZGUgb2YgdXMgYWxsIG11bHRpcG9seXMgYXJlIHJlcC4gd2l0aCBwb2x5IGludGVyaW9ycyBBTkRcbiAgICAgICAgICAgICAgICAvLyAgKiBvbiB0aGUgb3RoZXIgc2lkZSBvZiB1cywgbm90IGFsbCBtdWx0aXBvbHlzIGFyZSByZXBzZW50ZWRcbiAgICAgICAgICAgICAgICAvLyAgICB3aXRoIHBvbHkgaW50ZXJpb3JzXG4gICAgICAgICAgICAgICAgbGV0IGxlYXN0O1xuICAgICAgICAgICAgICAgIGxldCBtb3N0O1xuICAgICAgICAgICAgICAgIGlmIChtcHNCZWZvcmUubGVuZ3RoIDwgbXBzQWZ0ZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXN0ID0gbXBzQmVmb3JlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbW9zdCA9IG1wc0FmdGVyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXN0ID0gbXBzQWZ0ZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBtb3N0ID0gbXBzQmVmb3JlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faXNJblJlc3VsdCA9IG1vc3QgPT09IG9wZXJhdGlvbi5udW1NdWx0aVBvbHlzICYmIGxlYXN0IDwgbW9zdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ4b3JcIjoge1xuICAgICAgICAgICAgICAgIC8vIFhPUiAtIGluY2x1ZGVkIGlmZjpcbiAgICAgICAgICAgICAgICAvLyAgKiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBudW1iZXIgb2YgbXVsdGlwb2x5cyByZXByZXNlbnRlZFxuICAgICAgICAgICAgICAgIC8vICAgIHdpdGggcG9seSBpbnRlcmlvcnMgb24gb3VyIHR3byBzaWRlcyBpcyBhbiBvZGQgbnVtYmVyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKG1wc0JlZm9yZS5sZW5ndGggLSBtcHNBZnRlci5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzSW5SZXN1bHQgPSBkaWZmICUgMiA9PT0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJkaWZmZXJlbmNlXCI6IHtcbiAgICAgICAgICAgICAgICAvLyBESUZGRVJFTkNFIGluY2x1ZGVkIGlmZjpcbiAgICAgICAgICAgICAgICAvLyAgKiBvbiBleGFjdGx5IG9uZSBzaWRlLCB3ZSBoYXZlIGp1c3QgdGhlIHN1YmplY3RcbiAgICAgICAgICAgICAgICBjb25zdCBpc0p1c3RTdWJqZWN0ID0gKG1wcykgPT4gbXBzLmxlbmd0aCA9PT0gMSAmJiBtcHNbMF0uaXNTdWJqZWN0O1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzSW5SZXN1bHQgPSBpc0p1c3RTdWJqZWN0KG1wc0JlZm9yZSkgIT09IGlzSnVzdFN1YmplY3QobXBzQWZ0ZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0luUmVzdWx0O1xuICAgIH1cbn1cbiIsICJpbXBvcnQgQmlnTnVtYmVyIGZyb20gXCJiaWdudW1iZXIuanNcIjtcbmltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vc2VnbWVudC5qc1wiO1xuZXhwb3J0IGNsYXNzIFJpbmdJbiB7XG4gICAgcG9seTtcbiAgICBpc0V4dGVyaW9yO1xuICAgIHNlZ21lbnRzO1xuICAgIGJib3g7XG4gICAgY29uc3RydWN0b3IoZ2VvbVJpbmcsIHBvbHksIGlzRXh0ZXJpb3IpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb21SaW5nKSB8fCBnZW9tUmluZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IGdlb21ldHJ5IGlzIG5vdCBhIHZhbGlkIFBvbHlnb24gb3IgTXVsdGlQb2x5Z29uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9seSA9IHBvbHk7XG4gICAgICAgIHRoaXMuaXNFeHRlcmlvciA9IGlzRXh0ZXJpb3I7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICAgICAgaWYgKHR5cGVvZiBnZW9tUmluZ1swXVswXSAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIGdlb21SaW5nWzBdWzFdICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaXJzdFBvaW50ID0gcHJlY2lzaW9uLnNuYXAoeyB4OiBuZXcgQmlnTnVtYmVyKGdlb21SaW5nWzBdWzBdKSwgeTogbmV3IEJpZ051bWJlcihnZW9tUmluZ1swXVsxXSkgfSk7XG4gICAgICAgIHRoaXMuYmJveCA9IHtcbiAgICAgICAgICAgIGxsOiB7IHg6IGZpcnN0UG9pbnQueCwgeTogZmlyc3RQb2ludC55IH0sXG4gICAgICAgICAgICB1cjogeyB4OiBmaXJzdFBvaW50LngsIHk6IGZpcnN0UG9pbnQueSB9LFxuICAgICAgICB9O1xuICAgICAgICBsZXQgcHJldlBvaW50ID0gZmlyc3RQb2ludDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGlNYXggPSBnZW9tUmluZy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ2VvbVJpbmdbaV1bMF0gIT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZ2VvbVJpbmdbaV1bMV0gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcHJlY2lzaW9uLnNuYXAoeyB4OiBuZXcgQmlnTnVtYmVyKGdlb21SaW5nW2ldWzBdKSwgeTogbmV3IEJpZ051bWJlcihnZW9tUmluZ1tpXVsxXSkgfSk7XG4gICAgICAgICAgICAvLyBza2lwIHJlcGVhdGVkIHBvaW50c1xuICAgICAgICAgICAgaWYgKHBvaW50LnguZXEocHJldlBvaW50LngpICYmIHBvaW50LnkuZXEocHJldlBvaW50LnkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKFNlZ21lbnQuZnJvbVJpbmcocHJldlBvaW50LCBwb2ludCwgdGhpcykpO1xuICAgICAgICAgICAgaWYgKHBvaW50LnguaXNMZXNzVGhhbih0aGlzLmJib3gubGwueCkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnggPSBwb2ludC54O1xuICAgICAgICAgICAgaWYgKHBvaW50LnkuaXNMZXNzVGhhbih0aGlzLmJib3gubGwueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnkgPSBwb2ludC55O1xuICAgICAgICAgICAgaWYgKHBvaW50LnguaXNHcmVhdGVyVGhhbih0aGlzLmJib3gudXIueCkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LnVyLnggPSBwb2ludC54O1xuICAgICAgICAgICAgaWYgKHBvaW50LnkuaXNHcmVhdGVyVGhhbih0aGlzLmJib3gudXIueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LnVyLnkgPSBwb2ludC55O1xuICAgICAgICAgICAgcHJldlBvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHNlZ21lbnQgZnJvbSBsYXN0IHRvIGZpcnN0IGlmIGxhc3QgaXMgbm90IHRoZSBzYW1lIGFzIGZpcnN0XG4gICAgICAgIGlmICghZmlyc3RQb2ludC54LmVxKHByZXZQb2ludC54KSB8fCAhZmlyc3RQb2ludC55LmVxKHByZXZQb2ludC55KSkge1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKFNlZ21lbnQuZnJvbVJpbmcocHJldlBvaW50LCBmaXJzdFBvaW50LCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U3dlZXBFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN3ZWVwRXZlbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gdGhpcy5zZWdtZW50cy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSB0aGlzLnNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgc3dlZXBFdmVudHMucHVzaChzZWdtZW50LmxlZnRTRSk7XG4gICAgICAgICAgICBzd2VlcEV2ZW50cy5wdXNoKHNlZ21lbnQucmlnaHRTRSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN3ZWVwRXZlbnRzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQb2x5SW4ge1xuICAgIG11bHRpUG9seTtcbiAgICBleHRlcmlvclJpbmc7XG4gICAgaW50ZXJpb3JSaW5ncztcbiAgICBiYm94O1xuICAgIGNvbnN0cnVjdG9yKGdlb21Qb2x5LCBtdWx0aVBvbHkpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb21Qb2x5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5leHRlcmlvclJpbmcgPSBuZXcgUmluZ0luKGdlb21Qb2x5WzBdLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgLy8gY29weSBieSB2YWx1ZVxuICAgICAgICB0aGlzLmJib3ggPSB7XG4gICAgICAgICAgICBsbDogeyB4OiB0aGlzLmV4dGVyaW9yUmluZy5iYm94LmxsLngsIHk6IHRoaXMuZXh0ZXJpb3JSaW5nLmJib3gubGwueSB9LFxuICAgICAgICAgICAgdXI6IHsgeDogdGhpcy5leHRlcmlvclJpbmcuYmJveC51ci54LCB5OiB0aGlzLmV4dGVyaW9yUmluZy5iYm94LnVyLnkgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnRlcmlvclJpbmdzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBpTWF4ID0gZ2VvbVBvbHkubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nID0gbmV3IFJpbmdJbihnZW9tUG9seVtpXSwgdGhpcywgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHJpbmcuYmJveC5sbC54LmlzTGVzc1RoYW4odGhpcy5iYm94LmxsLngpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC5sbC54ID0gcmluZy5iYm94LmxsLng7XG4gICAgICAgICAgICBpZiAocmluZy5iYm94LmxsLnkuaXNMZXNzVGhhbih0aGlzLmJib3gubGwueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnkgPSByaW5nLmJib3gubGwueTtcbiAgICAgICAgICAgIGlmIChyaW5nLmJib3gudXIueC5pc0dyZWF0ZXJUaGFuKHRoaXMuYmJveC51ci54KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gudXIueCA9IHJpbmcuYmJveC51ci54O1xuICAgICAgICAgICAgaWYgKHJpbmcuYmJveC51ci55LmlzR3JlYXRlclRoYW4odGhpcy5iYm94LnVyLnkpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC51ci55ID0gcmluZy5iYm94LnVyLnk7XG4gICAgICAgICAgICB0aGlzLmludGVyaW9yUmluZ3MucHVzaChyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpUG9seSA9IG11bHRpUG9seTtcbiAgICB9XG4gICAgZ2V0U3dlZXBFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN3ZWVwRXZlbnRzID0gdGhpcy5leHRlcmlvclJpbmcuZ2V0U3dlZXBFdmVudHMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLmludGVyaW9yUmluZ3MubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nU3dlZXBFdmVudHMgPSB0aGlzLmludGVyaW9yUmluZ3NbaV0uZ2V0U3dlZXBFdmVudHMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBqTWF4ID0gcmluZ1N3ZWVwRXZlbnRzLmxlbmd0aDsgaiA8IGpNYXg7IGorKykge1xuICAgICAgICAgICAgICAgIHN3ZWVwRXZlbnRzLnB1c2gocmluZ1N3ZWVwRXZlbnRzW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3dlZXBFdmVudHM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE11bHRpUG9seUluIHtcbiAgICBpc1N1YmplY3Q7XG4gICAgcG9seXM7XG4gICAgYmJveDtcbiAgICBjb25zdHJ1Y3RvcihnZW9tLCBpc1N1YmplY3QpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdlb20pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGlucHV0IGxvb2tzIGxpa2UgYSBwb2x5Z29uLCBjb252ZXJ0IGl0IHRvIGEgbXVsdGlwb2x5Z29uXG4gICAgICAgICAgICBpZiAodHlwZW9mIGdlb21bMF1bMF1bMF0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgZ2VvbSA9IFtnZW9tXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIC8vIFRoZSBpbnB1dCBpcyBlaXRoZXIgbWFsZm9ybWVkIG9yIGhhcyBlbXB0eSBhcnJheXMuXG4gICAgICAgICAgICAvLyBJbiBlaXRoZXIgY2FzZSwgaXQgd2lsbCBiZSBoYW5kbGVkIGxhdGVyIG9uLlxuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9seXMgPSBbXTtcbiAgICAgICAgdGhpcy5iYm94ID0ge1xuICAgICAgICAgICAgbGw6IHsgeDogbmV3IEJpZ051bWJlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLCB5OiBuZXcgQmlnTnVtYmVyKE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkgfSxcbiAgICAgICAgICAgIHVyOiB7IHg6IG5ldyBCaWdOdW1iZXIoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSwgeTogbmV3IEJpZ051bWJlcihOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpIH0sXG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gZ2VvbS5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbHkgPSBuZXcgUG9seUluKGdlb21baV0sIHRoaXMpO1xuICAgICAgICAgICAgaWYgKHBvbHkuYmJveC5sbC54LmlzTGVzc1RoYW4odGhpcy5iYm94LmxsLngpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC5sbC54ID0gcG9seS5iYm94LmxsLng7XG4gICAgICAgICAgICBpZiAocG9seS5iYm94LmxsLnkuaXNMZXNzVGhhbih0aGlzLmJib3gubGwueSkpXG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LmxsLnkgPSBwb2x5LmJib3gubGwueTtcbiAgICAgICAgICAgIGlmIChwb2x5LmJib3gudXIueC5pc0dyZWF0ZXJUaGFuKHRoaXMuYmJveC51ci54KSlcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gudXIueCA9IHBvbHkuYmJveC51ci54O1xuICAgICAgICAgICAgaWYgKHBvbHkuYmJveC51ci55LmlzR3JlYXRlclRoYW4odGhpcy5iYm94LnVyLnkpKVxuICAgICAgICAgICAgICAgIHRoaXMuYmJveC51ci55ID0gcG9seS5iYm94LnVyLnk7XG4gICAgICAgICAgICB0aGlzLnBvbHlzLnB1c2gocG9seSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N1YmplY3QgPSBpc1N1YmplY3Q7XG4gICAgfVxuICAgIGdldFN3ZWVwRXZlbnRzKCkge1xuICAgICAgICBjb25zdCBzd2VlcEV2ZW50cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHRoaXMucG9seXMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2x5U3dlZXBFdmVudHMgPSB0aGlzLnBvbHlzW2ldLmdldFN3ZWVwRXZlbnRzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgak1heCA9IHBvbHlTd2VlcEV2ZW50cy5sZW5ndGg7IGogPCBqTWF4OyBqKyspIHtcbiAgICAgICAgICAgICAgICBzd2VlcEV2ZW50cy5wdXNoKHBvbHlTd2VlcEV2ZW50c1tqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN3ZWVwRXZlbnRzO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBwcmVjaXNpb24gfSBmcm9tIFwiLi9wcmVjaXNpb24uanNcIjtcbmltcG9ydCBTd2VlcEV2ZW50IGZyb20gXCIuL3N3ZWVwLWV2ZW50LmpzXCI7XG5leHBvcnQgY2xhc3MgUmluZ091dCB7XG4gICAgZXZlbnRzO1xuICAgIHBvbHk7XG4gICAgX2lzRXh0ZXJpb3JSaW5nO1xuICAgIF9lbmNsb3NpbmdSaW5nO1xuICAgIC8qIEdpdmVuIHRoZSBzZWdtZW50cyBmcm9tIHRoZSBzd2VlcCBsaW5lIHBhc3MsIGNvbXB1dGUgJiByZXR1cm4gYSBzZXJpZXNcbiAgICAgKiBvZiBjbG9zZWQgcmluZ3MgZnJvbSBhbGwgdGhlIHNlZ21lbnRzIG1hcmtlZCB0byBiZSBwYXJ0IG9mIHRoZSByZXN1bHQgKi9cbiAgICBzdGF0aWMgZmFjdG9yeShhbGxTZWdtZW50cykge1xuICAgICAgICBjb25zdCByaW5nc091dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IGFsbFNlZ21lbnRzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IGFsbFNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKCFzZWdtZW50LmlzSW5SZXN1bHQoKSB8fCBzZWdtZW50LnJpbmdPdXQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgcHJldkV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBldmVudCA9IHNlZ21lbnQubGVmdFNFO1xuICAgICAgICAgICAgbGV0IG5leHRFdmVudCA9IHNlZ21lbnQucmlnaHRTRTtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IFtldmVudF07XG4gICAgICAgICAgICBjb25zdCBzdGFydGluZ1BvaW50ID0gZXZlbnQucG9pbnQ7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb25MRXMgPSBbXTtcbiAgICAgICAgICAgIC8qIFdhbGsgdGhlIGNoYWluIG9mIGxpbmtlZCBldmVudHMgdG8gZm9ybSBhIGNsb3NlZCByaW5nICovXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIHByZXZFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gbmV4dEV2ZW50O1xuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAvKiBJcyB0aGUgcmluZyBjb21wbGV0ZT8gKi9cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucG9pbnQgPT09IHN0YXJ0aW5nUG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUxFcyA9IGV2ZW50LmdldEF2YWlsYWJsZUxpbmtlZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAvKiBEaWQgd2UgaGl0IGEgZGVhZCBlbmQ/IFRoaXMgc2hvdWxkbid0IGhhcHBlbi4gSW5kaWNhdGVzIHNvbWUgZWFybGllclxuICAgICAgICAgICAgICAgICAgICAgKiBwYXJ0IG9mIHRoZSBhbGdvcml0aG0gbWFsZnVuY3Rpb25lZC4uLiBwbGVhc2UgZmlsZSBhIGJ1ZyByZXBvcnQuICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVMRXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFB0ID0gZXZlbnRzWzBdLnBvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFB0ID0gZXZlbnRzW2V2ZW50cy5sZW5ndGggLSAxXS5wb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbXBsZXRlIG91dHB1dCByaW5nIHN0YXJ0aW5nIGF0IFske2ZpcnN0UHQueH0sYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCAke2ZpcnN0UHQueX1dLiBMYXN0IG1hdGNoaW5nIHNlZ21lbnQgZm91bmQgZW5kcyBhdGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgWyR7bGFzdFB0Lnh9LCAke2xhc3RQdC55fV0uYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogT25seSBvbmUgd2F5IHRvIGdvLCBzbyBjb3RpbnVlIG9uIHRoZSBwYXRoICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVMRXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RXZlbnQgPSBhdmFpbGFibGVMRXNbMF0ub3RoZXJTRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIFdlIG11c3QgaGF2ZSBhbiBpbnRlcnNlY3Rpb24uIENoZWNrIGZvciBhIGNvbXBsZXRlZCBsb29wICovXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleExFID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpNYXggPSBpbnRlcnNlY3Rpb25MRXMubGVuZ3RoOyBqIDwgak1heDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0aW9uTEVzW2pdLnBvaW50ID09PSBldmVudC5wb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4TEUgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIEZvdW5kIGEgY29tcGxldGVkIGxvb3AuIEN1dCB0aGF0IG9mZiBhbmQgbWFrZSBhIHJpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4TEUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbkxFID0gaW50ZXJzZWN0aW9uTEVzLnNwbGljZShpbmRleExFKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpbmdFdmVudHMgPSBldmVudHMuc3BsaWNlKGludGVyc2VjdGlvbkxFLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpbmdFdmVudHMudW5zaGlmdChyaW5nRXZlbnRzWzBdLm90aGVyU0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmluZ3NPdXQucHVzaChuZXcgUmluZ091dChyaW5nRXZlbnRzLnJldmVyc2UoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogcmVnaXN0ZXIgdGhlIGludGVyc2VjdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25MRXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogZXZlbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiBldmVudC5wb2ludCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIENob29zZSB0aGUgbGVmdC1tb3N0IG9wdGlvbiB0byBjb250aW51ZSB0aGUgd2FsayAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJhdG9yID0gZXZlbnQuZ2V0TGVmdG1vc3RDb21wYXJhdG9yKHByZXZFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRFdmVudCA9IGF2YWlsYWJsZUxFcy5zb3J0KGNvbXBhcmF0b3IpWzBdLm90aGVyU0U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJpbmdzT3V0LnB1c2gobmV3IFJpbmdPdXQoZXZlbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJpbmdzT3V0O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihldmVudHMpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gZXZlbnRzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgZXZlbnRzW2ldLnNlZ21lbnQucmluZ091dCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2x5ID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0R2VvbSgpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHN1cGVyZmx1b3VzIHBvaW50cyAoaWUgZXh0cmEgcG9pbnRzIGFsb25nIGEgc3RyYWlnaHQgbGluZSksXG4gICAgICAgIGxldCBwcmV2UHQgPSB0aGlzLmV2ZW50c1swXS5wb2ludDtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW3ByZXZQdF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBpTWF4ID0gdGhpcy5ldmVudHMubGVuZ3RoIC0gMTsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHQgPSB0aGlzLmV2ZW50c1tpXS5wb2ludDtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQdCA9IHRoaXMuZXZlbnRzW2kgKyAxXS5wb2ludDtcbiAgICAgICAgICAgIGlmIChwcmVjaXNpb24ub3JpZW50KHB0LCBwcmV2UHQsIG5leHRQdCkgPT09IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBwb2ludHMucHVzaChwdCk7XG4gICAgICAgICAgICBwcmV2UHQgPSBwdDtcbiAgICAgICAgfVxuICAgICAgICAvLyByaW5nIHdhcyBhbGwgKHdpdGhpbiByb3VuZGluZyBlcnJvciBvZiBhbmdsZSBjYWxjKSBjb2xpbmVhciBwb2ludHNcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHN0YXJ0aW5nIHBvaW50IGlzIG5lY2Vzc2FyeVxuICAgICAgICBjb25zdCBwdCA9IHBvaW50c1swXTtcbiAgICAgICAgY29uc3QgbmV4dFB0ID0gcG9pbnRzWzFdO1xuICAgICAgICBpZiAocHJlY2lzaW9uLm9yaWVudChwdCwgcHJldlB0LCBuZXh0UHQpID09PSAwKVxuICAgICAgICAgICAgcG9pbnRzLnNoaWZ0KCk7XG4gICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLmlzRXh0ZXJpb3JSaW5nKCkgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IGlTdGFydCA9IHRoaXMuaXNFeHRlcmlvclJpbmcoKSA/IDAgOiBwb2ludHMubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgaUVuZCA9IHRoaXMuaXNFeHRlcmlvclJpbmcoKSA/IHBvaW50cy5sZW5ndGggOiAtMTtcbiAgICAgICAgY29uc3Qgb3JkZXJlZFBvaW50cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gaVN0YXJ0OyBpICE9IGlFbmQ7IGkgKz0gc3RlcClcbiAgICAgICAgICAgIG9yZGVyZWRQb2ludHMucHVzaChbcG9pbnRzW2ldLngudG9OdW1iZXIoKSwgcG9pbnRzW2ldLnkudG9OdW1iZXIoKV0pO1xuICAgICAgICByZXR1cm4gb3JkZXJlZFBvaW50cztcbiAgICB9XG4gICAgaXNFeHRlcmlvclJpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0V4dGVyaW9yUmluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBlbmNsb3NpbmcgPSB0aGlzLmVuY2xvc2luZ1JpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRXh0ZXJpb3JSaW5nID0gZW5jbG9zaW5nID8gIWVuY2xvc2luZy5pc0V4dGVyaW9yUmluZygpIDogdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faXNFeHRlcmlvclJpbmc7XG4gICAgfVxuICAgIGVuY2xvc2luZ1JpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLl9lbmNsb3NpbmdSaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuY2xvc2luZ1JpbmcgPSB0aGlzLl9jYWxjRW5jbG9zaW5nUmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmNsb3NpbmdSaW5nO1xuICAgIH1cbiAgICAvKiBSZXR1cm5zIHRoZSByaW5nIHRoYXQgZW5jbG9zZXMgdGhpcyBvbmUsIGlmIGFueSAqL1xuICAgIF9jYWxjRW5jbG9zaW5nUmluZygpIHtcbiAgICAgICAgLy8gc3RhcnQgd2l0aCB0aGUgZWFsaWVyIHN3ZWVwIGxpbmUgZXZlbnQgc28gdGhhdCB0aGUgcHJldlNlZ1xuICAgICAgICAvLyBjaGFpbiBkb2Vzbid0IGxlYWQgdXMgaW5zaWRlIG9mIGEgbG9vcCBvZiBvdXJzXG4gICAgICAgIGxldCBsZWZ0TW9zdEV2dCA9IHRoaXMuZXZlbnRzWzBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMSwgaU1heCA9IHRoaXMuZXZlbnRzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZXZ0ID0gdGhpcy5ldmVudHNbaV07XG4gICAgICAgICAgICBpZiAoU3dlZXBFdmVudC5jb21wYXJlKGxlZnRNb3N0RXZ0LCBldnQpID4gMClcbiAgICAgICAgICAgICAgICBsZWZ0TW9zdEV2dCA9IGV2dDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJldlNlZyA9IGxlZnRNb3N0RXZ0LnNlZ21lbnQucHJldkluUmVzdWx0KCk7XG4gICAgICAgIGxldCBwcmV2UHJldlNlZyA9IHByZXZTZWcgPyBwcmV2U2VnLnByZXZJblJlc3VsdCgpIDogbnVsbDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIC8vIG5vIHNlZ21lbnQgZm91bmQsIHRodXMgbm8gcmluZyBjYW4gZW5jbG9zZSB1c1xuICAgICAgICAgICAgaWYgKCFwcmV2U2VnKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gbm8gc2VnbWVudHMgYmVsb3cgcHJldiBzZWdtZW50IGZvdW5kLCB0aHVzIHRoZSByaW5nIG9mIHRoZSBwcmV2XG4gICAgICAgICAgICAvLyBzZWdtZW50IG11c3QgbG9vcCBiYWNrIGFyb3VuZCBhbmQgZW5jbG9zZSB1c1xuICAgICAgICAgICAgaWYgKCFwcmV2UHJldlNlZylcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldlNlZy5yaW5nT3V0O1xuICAgICAgICAgICAgLy8gaWYgdGhlIHR3byBzZWdtZW50cyBhcmUgb2YgZGlmZmVyZW50IHJpbmdzLCB0aGUgcmluZyBvZiB0aGUgcHJldlxuICAgICAgICAgICAgLy8gc2VnbWVudCBtdXN0IGVpdGhlciBsb29wIGFyb3VuZCB1cyBvciB0aGUgcmluZyBvZiB0aGUgcHJldiBwcmV2XG4gICAgICAgICAgICAvLyBzZWcsIHdoaWNoIHdvdWxkIG1ha2UgdXMgYW5kIHRoZSByaW5nIG9mIHRoZSBwcmV2IHBlZXJzXG4gICAgICAgICAgICBpZiAocHJldlByZXZTZWcucmluZ091dCAhPT0gcHJldlNlZy5yaW5nT3V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZQcmV2U2VnLnJpbmdPdXQ/LmVuY2xvc2luZ1JpbmcoKSAhPT0gcHJldlNlZy5yaW5nT3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2U2VnLnJpbmdPdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZTZWcucmluZ091dD8uZW5jbG9zaW5nUmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHdvIHNlZ21lbnRzIGFyZSBmcm9tIHRoZSBzYW1lIHJpbmcsIHNvIHRoaXMgd2FzIGEgcGVuaXN1bGFcbiAgICAgICAgICAgIC8vIG9mIHRoYXQgcmluZy4gaXRlcmF0ZSBkb3dud2FyZCwga2VlcCBzZWFyY2hpbmdcbiAgICAgICAgICAgIHByZXZTZWcgPSBwcmV2UHJldlNlZy5wcmV2SW5SZXN1bHQoKTtcbiAgICAgICAgICAgIHByZXZQcmV2U2VnID0gcHJldlNlZyA/IHByZXZTZWcucHJldkluUmVzdWx0KCkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBvbHlPdXQge1xuICAgIGV4dGVyaW9yUmluZztcbiAgICBpbnRlcmlvclJpbmdzO1xuICAgIGNvbnN0cnVjdG9yKGV4dGVyaW9yUmluZykge1xuICAgICAgICB0aGlzLmV4dGVyaW9yUmluZyA9IGV4dGVyaW9yUmluZztcbiAgICAgICAgZXh0ZXJpb3JSaW5nLnBvbHkgPSB0aGlzO1xuICAgICAgICB0aGlzLmludGVyaW9yUmluZ3MgPSBbXTtcbiAgICB9XG4gICAgYWRkSW50ZXJpb3IocmluZykge1xuICAgICAgICB0aGlzLmludGVyaW9yUmluZ3MucHVzaChyaW5nKTtcbiAgICAgICAgcmluZy5wb2x5ID0gdGhpcztcbiAgICB9XG4gICAgZ2V0R2VvbSgpIHtcbiAgICAgICAgY29uc3QgZ2VvbTAgPSB0aGlzLmV4dGVyaW9yUmluZy5nZXRHZW9tKCk7XG4gICAgICAgIC8vIGV4dGVyaW9yIHJpbmcgd2FzIGFsbCAod2l0aGluIHJvdW5kaW5nIGVycm9yIG9mIGFuZ2xlIGNhbGMpIGNvbGluZWFyIHBvaW50c1xuICAgICAgICBpZiAoZ2VvbTAgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgZ2VvbSA9IFtnZW9tMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpTWF4ID0gdGhpcy5pbnRlcmlvclJpbmdzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmluZ0dlb20gPSB0aGlzLmludGVyaW9yUmluZ3NbaV0uZ2V0R2VvbSgpO1xuICAgICAgICAgICAgLy8gaW50ZXJpb3IgcmluZyB3YXMgYWxsICh3aXRoaW4gcm91bmRpbmcgZXJyb3Igb2YgYW5nbGUgY2FsYykgY29saW5lYXIgcG9pbnRzXG4gICAgICAgICAgICBpZiAocmluZ0dlb20gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBnZW9tLnB1c2gocmluZ0dlb20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNdWx0aVBvbHlPdXQge1xuICAgIHJpbmdzO1xuICAgIHBvbHlzO1xuICAgIGNvbnN0cnVjdG9yKHJpbmdzKSB7XG4gICAgICAgIHRoaXMucmluZ3MgPSByaW5ncztcbiAgICAgICAgdGhpcy5wb2x5cyA9IHRoaXMuX2NvbXBvc2VQb2x5cyhyaW5ncyk7XG4gICAgfVxuICAgIGdldEdlb20oKSB7XG4gICAgICAgIGNvbnN0IGdlb20gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSB0aGlzLnBvbHlzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9seUdlb20gPSB0aGlzLnBvbHlzW2ldLmdldEdlb20oKTtcbiAgICAgICAgICAgIC8vIGV4dGVyaW9yIHJpbmcgd2FzIGFsbCAod2l0aGluIHJvdW5kaW5nIGVycm9yIG9mIGFuZ2xlIGNhbGMpIGNvbGluZWFyIHBvaW50c1xuICAgICAgICAgICAgaWYgKHBvbHlHZW9tID09PSBudWxsKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZ2VvbS5wdXNoKHBvbHlHZW9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VvbTtcbiAgICB9XG4gICAgX2NvbXBvc2VQb2x5cyhyaW5ncykge1xuICAgICAgICBjb25zdCBwb2x5cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IHJpbmdzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmluZyA9IHJpbmdzW2ldO1xuICAgICAgICAgICAgaWYgKHJpbmcucG9seSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyaW5nLmlzRXh0ZXJpb3JSaW5nKCkpXG4gICAgICAgICAgICAgICAgcG9seXMucHVzaChuZXcgUG9seU91dChyaW5nKSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmNsb3NpbmdSaW5nID0gcmluZy5lbmNsb3NpbmdSaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFlbmNsb3NpbmdSaW5nPy5wb2x5KVxuICAgICAgICAgICAgICAgICAgICBwb2x5cy5wdXNoKG5ldyBQb2x5T3V0KGVuY2xvc2luZ1JpbmcpKTtcbiAgICAgICAgICAgICAgICBlbmNsb3NpbmdSaW5nPy5wb2x5Py5hZGRJbnRlcmlvcihyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9seXM7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFNwbGF5VHJlZVNldCB9IGZyb20gXCJzcGxheXRyZWUtdHNcIjtcbmltcG9ydCBTZWdtZW50IGZyb20gXCIuL3NlZ21lbnQuanNcIjtcbmltcG9ydCBTd2VlcEV2ZW50IGZyb20gXCIuL3N3ZWVwLWV2ZW50LmpzXCI7XG4vKipcbiAqIE5PVEU6ICBXZSBtdXN0IGJlIGNhcmVmdWwgbm90IHRvIGNoYW5nZSBhbnkgc2VnbWVudHMgd2hpbGVcbiAqICAgICAgICB0aGV5IGFyZSBpbiB0aGUgU3BsYXlUcmVlLiBBRkFJSywgdGhlcmUncyBubyB3YXkgdG8gdGVsbFxuICogICAgICAgIHRoZSB0cmVlIHRvIHJlYmFsYW5jZSBpdHNlbGYgLSB0aHVzIGJlZm9yZSBzcGxpdHRpbmdcbiAqICAgICAgICBhIHNlZ21lbnQgdGhhdCdzIGluIHRoZSB0cmVlLCB3ZSByZW1vdmUgaXQgZnJvbSB0aGUgdHJlZSxcbiAqICAgICAgICBkbyB0aGUgc3BsaXQsIHRoZW4gcmUtaW5zZXJ0IGl0LiAoRXZlbiB0aG91Z2ggc3BsaXR0aW5nIGFcbiAqICAgICAgICBzZWdtZW50ICpzaG91bGRuJ3QqIGNoYW5nZSBpdHMgY29ycmVjdCBwb3NpdGlvbiBpbiB0aGVcbiAqICAgICAgICBzd2VlcCBsaW5lIHRyZWUsIHRoZSByZWFsaXR5IGlzIGJlY2F1c2Ugb2Ygcm91bmRpbmcgZXJyb3JzLFxuICogICAgICAgIGl0IHNvbWV0aW1lcyBkb2VzLilcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dlZXBMaW5lIHtcbiAgICBxdWV1ZTtcbiAgICB0cmVlO1xuICAgIHNlZ21lbnRzO1xuICAgIGNvbnN0cnVjdG9yKHF1ZXVlLCBjb21wYXJhdG9yID0gU2VnbWVudC5jb21wYXJlKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSBxdWV1ZTtcbiAgICAgICAgdGhpcy50cmVlID0gbmV3IFNwbGF5VHJlZVNldChjb21wYXJhdG9yKTtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgIH1cbiAgICBwcm9jZXNzKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBldmVudC5zZWdtZW50O1xuICAgICAgICBjb25zdCBuZXdFdmVudHMgPSBbXTtcbiAgICAgICAgLy8gaWYgd2UndmUgYWxyZWFkeSBiZWVuIGNvbnN1bWVkIGJ5IGFub3RoZXIgc2VnbWVudCxcbiAgICAgICAgLy8gY2xlYW4gdXAgb3VyIGJvZHkgcGFydHMgYW5kIGdldCBvdXRcbiAgICAgICAgaWYgKGV2ZW50LmNvbnN1bWVkQnkpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5pc0xlZnQpXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5kZWxldGUoZXZlbnQub3RoZXJTRSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy50cmVlLmRlbGV0ZShzZWdtZW50KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdFdmVudHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LmlzTGVmdClcbiAgICAgICAgICAgIHRoaXMudHJlZS5hZGQoc2VnbWVudCk7XG4gICAgICAgIGxldCBwcmV2U2VnID0gc2VnbWVudDtcbiAgICAgICAgbGV0IG5leHRTZWcgPSBzZWdtZW50O1xuICAgICAgICAvLyBza2lwIGNvbnN1bWVkIHNlZ21lbnRzIHN0aWxsIGluIHRyZWVcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcHJldlNlZyA9IHRoaXMudHJlZS5sYXN0QmVmb3JlKHByZXZTZWcpO1xuICAgICAgICB9IHdoaWxlIChwcmV2U2VnICE9IG51bGwgJiYgcHJldlNlZy5jb25zdW1lZEJ5ICE9IHVuZGVmaW5lZCk7XG4gICAgICAgIC8vIHNraXAgY29uc3VtZWQgc2VnbWVudHMgc3RpbGwgaW4gdHJlZVxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBuZXh0U2VnID0gdGhpcy50cmVlLmZpcnN0QWZ0ZXIobmV4dFNlZyk7XG4gICAgICAgIH0gd2hpbGUgKG5leHRTZWcgIT0gbnVsbCAmJiBuZXh0U2VnLmNvbnN1bWVkQnkgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKGV2ZW50LmlzTGVmdCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGludGVyc2VjdGlvbnMgYWdhaW5zdCB0aGUgcHJldmlvdXMgc2VnbWVudCBpbiB0aGUgc3dlZXAgbGluZVxuICAgICAgICAgICAgbGV0IHByZXZNeVNwbGl0dGVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChwcmV2U2VnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkludGVyID0gcHJldlNlZy5nZXRJbnRlcnNlY3Rpb24oc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZJbnRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZ21lbnQuaXNBbkVuZHBvaW50KHByZXZJbnRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2TXlTcGxpdHRlciA9IHByZXZJbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2U2VnLmlzQW5FbmRwb2ludChwcmV2SW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHNGcm9tU3BsaXQgPSB0aGlzLl9zcGxpdFNhZmVseShwcmV2U2VnLCBwcmV2SW50ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBuZXdFdmVudHNGcm9tU3BsaXQubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXZlbnRzLnB1c2gobmV3RXZlbnRzRnJvbVNwbGl0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBpbnRlcnNlY3Rpb25zIGFnYWluc3QgdGhlIG5leHQgc2VnbWVudCBpbiB0aGUgc3dlZXAgbGluZVxuICAgICAgICAgICAgbGV0IG5leHRNeVNwbGl0dGVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChuZXh0U2VnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEludGVyID0gbmV4dFNlZy5nZXRJbnRlcnNlY3Rpb24oc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbnRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZ21lbnQuaXNBbkVuZHBvaW50KG5leHRJbnRlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0TXlTcGxpdHRlciA9IG5leHRJbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0U2VnLmlzQW5FbmRwb2ludChuZXh0SW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHNGcm9tU3BsaXQgPSB0aGlzLl9zcGxpdFNhZmVseShuZXh0U2VnLCBuZXh0SW50ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBuZXdFdmVudHNGcm9tU3BsaXQubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXZlbnRzLnB1c2gobmV3RXZlbnRzRnJvbVNwbGl0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvciBzaW1wbGljaXR5LCBldmVuIGlmIHdlIGZpbmQgbW9yZSB0aGFuIG9uZSBpbnRlcnNlY3Rpb24gd2Ugb25seVxuICAgICAgICAgICAgLy8gc3BpbHQgb24gdGhlICdlYXJsaWVzdCcgKHN3ZWVwLWxpbmUgc3R5bGUpIG9mIHRoZSBpbnRlcnNlY3Rpb25zLlxuICAgICAgICAgICAgLy8gVGhlIG90aGVyIGludGVyc2VjdGlvbiB3aWxsIGJlIGhhbmRsZWQgaW4gYSBmdXR1cmUgcHJvY2VzcygpLlxuICAgICAgICAgICAgaWYgKHByZXZNeVNwbGl0dGVyICE9PSBudWxsIHx8IG5leHRNeVNwbGl0dGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG15U3BsaXR0ZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2TXlTcGxpdHRlciA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgbXlTcGxpdHRlciA9IG5leHRNeVNwbGl0dGVyO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHRNeVNwbGl0dGVyID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBteVNwbGl0dGVyID0gcHJldk15U3BsaXR0ZXI7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNtcFNwbGl0dGVycyA9IFN3ZWVwRXZlbnQuY29tcGFyZVBvaW50cyhwcmV2TXlTcGxpdHRlciwgbmV4dE15U3BsaXR0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBteVNwbGl0dGVyID0gY21wU3BsaXR0ZXJzIDw9IDAgPyBwcmV2TXlTcGxpdHRlciA6IG5leHRNeVNwbGl0dGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSb3VuZGluZyBlcnJvcnMgY2FuIGNhdXNlIGNoYW5nZXMgaW4gb3JkZXJpbmcsXG4gICAgICAgICAgICAgICAgLy8gc28gcmVtb3ZlIGFmZWN0ZWQgc2VnbWVudHMgYW5kIHJpZ2h0IHN3ZWVwIGV2ZW50cyBiZWZvcmUgc3BsaXR0aW5nXG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5kZWxldGUoc2VnbWVudC5yaWdodFNFKTtcbiAgICAgICAgICAgICAgICBuZXdFdmVudHMucHVzaChzZWdtZW50LnJpZ2h0U0UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50c0Zyb21TcGxpdCA9IHNlZ21lbnQuc3BsaXQobXlTcGxpdHRlcik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBuZXdFdmVudHNGcm9tU3BsaXQubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0V2ZW50cy5wdXNoKG5ld0V2ZW50c0Zyb21TcGxpdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld0V2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgc29tZSBpbnRlcnNlY3Rpb25zLCBzbyByZS1kbyB0aGUgY3VycmVudCBldmVudCB0b1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBzd2VlcCBsaW5lIG9yZGVyaW5nIGlzIHRvdGFsbHkgY29uc2lzdGVudCBmb3IgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyB1c2Ugd2l0aCB0aGUgc2VnbWVudCAncHJldicgcG9pbnRlcnNcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWUuZGVsZXRlKHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIG5ld0V2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRvbmUgd2l0aCBsZWZ0IGV2ZW50XG4gICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgIHNlZ21lbnQucHJldiA9IHByZXZTZWc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBldmVudC5pc1JpZ2h0XG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSdyZSBhYm91dCB0byBiZSByZW1vdmVkIGZyb20gdGhlIHN3ZWVwIGxpbmUsIGNoZWNrIGZvclxuICAgICAgICAgICAgLy8gaW50ZXJzZWN0aW9ucyBiZXR3ZWVuIG91ciBwcmV2aW91cyBhbmQgbmV4dCBzZWdtZW50c1xuICAgICAgICAgICAgaWYgKHByZXZTZWcgJiYgbmV4dFNlZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyID0gcHJldlNlZy5nZXRJbnRlcnNlY3Rpb24obmV4dFNlZyk7XG4gICAgICAgICAgICAgICAgaWYgKGludGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJldlNlZy5pc0FuRW5kcG9pbnQoaW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHNGcm9tU3BsaXQgPSB0aGlzLl9zcGxpdFNhZmVseShwcmV2U2VnLCBpbnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG5ld0V2ZW50c0Zyb21TcGxpdC5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudHMucHVzaChuZXdFdmVudHNGcm9tU3BsaXRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dFNlZy5pc0FuRW5kcG9pbnQoaW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdFdmVudHNGcm9tU3BsaXQgPSB0aGlzLl9zcGxpdFNhZmVseShuZXh0U2VnLCBpbnRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG5ld0V2ZW50c0Zyb21TcGxpdC5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudHMucHVzaChuZXdFdmVudHNGcm9tU3BsaXRbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmVlLmRlbGV0ZShzZWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RXZlbnRzO1xuICAgIH1cbiAgICAvKiBTYWZlbHkgc3BsaXQgYSBzZWdtZW50IHRoYXQgaXMgY3VycmVudGx5IGluIHRoZSBkYXRhc3RydWN0dXJlc1xuICAgICAqIElFIC0gYSBzZWdtZW50IG90aGVyIHRoYW4gdGhlIG9uZSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQuICovXG4gICAgX3NwbGl0U2FmZWx5KHNlZywgcHQpIHtcbiAgICAgICAgLy8gUm91bmRpbmcgZXJyb3JzIGNhbiBjYXVzZSBjaGFuZ2VzIGluIG9yZGVyaW5nLFxuICAgICAgICAvLyBzbyByZW1vdmUgYWZlY3RlZCBzZWdtZW50cyBhbmQgcmlnaHQgc3dlZXAgZXZlbnRzIGJlZm9yZSBzcGxpdHRpbmdcbiAgICAgICAgLy8gcmVtb3ZlTm9kZSgpIGRvZXNuJ3Qgd29yaywgc28gaGF2ZSByZS1maW5kIHRoZSBzZWdcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3c4ci9zcGxheS10cmVlL3B1bGwvNVxuICAgICAgICB0aGlzLnRyZWUuZGVsZXRlKHNlZyk7XG4gICAgICAgIGNvbnN0IHJpZ2h0U0UgPSBzZWcucmlnaHRTRTtcbiAgICAgICAgdGhpcy5xdWV1ZS5kZWxldGUocmlnaHRTRSk7XG4gICAgICAgIGNvbnN0IG5ld0V2ZW50cyA9IHNlZy5zcGxpdChwdCk7XG4gICAgICAgIG5ld0V2ZW50cy5wdXNoKHJpZ2h0U0UpO1xuICAgICAgICAvLyBzcGxpdHRpbmcgY2FuIHRyaWdnZXIgY29uc3VtcHRpb25cbiAgICAgICAgaWYgKHNlZy5jb25zdW1lZEJ5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnRyZWUuYWRkKHNlZyk7XG4gICAgICAgIHJldHVybiBuZXdFdmVudHM7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFNwbGF5VHJlZVNldCB9IGZyb20gXCJzcGxheXRyZWUtdHNcIjtcbmltcG9ydCB7IGdldEJib3hPdmVybGFwIH0gZnJvbSBcIi4vYmJveC5qc1wiO1xuaW1wb3J0ICogYXMgZ2VvbUluIGZyb20gXCIuL2dlb20taW4uanNcIjtcbmltcG9ydCAqIGFzIGdlb21PdXQgZnJvbSBcIi4vZ2VvbS1vdXQuanNcIjtcbmltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IFN3ZWVwRXZlbnQgZnJvbSBcIi4vc3dlZXAtZXZlbnQuanNcIjtcbmltcG9ydCBTd2VlcExpbmUgZnJvbSBcIi4vc3dlZXAtbGluZS5qc1wiO1xuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbiB7XG4gICAgdHlwZTtcbiAgICBudW1NdWx0aVBvbHlzO1xuICAgIHJ1bih0eXBlLCBnZW9tLCBtb3JlR2VvbXMpIHtcbiAgICAgICAgb3BlcmF0aW9uLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKiBDb252ZXJ0IGlucHV0cyB0byBNdWx0aVBvbHkgb2JqZWN0cyAqL1xuICAgICAgICBjb25zdCBtdWx0aXBvbHlzID0gW25ldyBnZW9tSW4uTXVsdGlQb2x5SW4oZ2VvbSwgdHJ1ZSldO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaU1heCA9IG1vcmVHZW9tcy5sZW5ndGg7IGkgPCBpTWF4OyBpKyspIHtcbiAgICAgICAgICAgIG11bHRpcG9seXMucHVzaChuZXcgZ2VvbUluLk11bHRpUG9seUluKG1vcmVHZW9tc1tpXSwgZmFsc2UpKTtcbiAgICAgICAgfVxuICAgICAgICBvcGVyYXRpb24ubnVtTXVsdGlQb2x5cyA9IG11bHRpcG9seXMubGVuZ3RoO1xuICAgICAgICAvKiBCQm94IG9wdGltaXphdGlvbiBmb3IgZGlmZmVyZW5jZSBvcGVyYXRpb25cbiAgICAgICAgICogSWYgdGhlIGJib3ggb2YgYSBtdWx0aXBvbHlnb24gdGhhdCdzIHBhcnQgb2YgdGhlIGNsaXBwaW5nIGRvZXNuJ3RcbiAgICAgICAgICogaW50ZXJzZWN0IHRoZSBiYm94IG9mIHRoZSBzdWJqZWN0IGF0IGFsbCwgd2UgY2FuIGp1c3QgZHJvcCB0aGF0XG4gICAgICAgICAqIG11bHRpcGxveWdvbi4gKi9cbiAgICAgICAgaWYgKG9wZXJhdGlvbi50eXBlID09PSBcImRpZmZlcmVuY2VcIikge1xuICAgICAgICAgICAgLy8gaW4gcGxhY2UgcmVtb3ZhbFxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdCA9IG11bHRpcG9seXNbMF07XG4gICAgICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IG11bHRpcG9seXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdldEJib3hPdmVybGFwKG11bHRpcG9seXNbaV0uYmJveCwgc3ViamVjdC5iYm94KSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwb2x5cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogQkJveCBvcHRpbWl6YXRpb24gZm9yIGludGVyc2VjdGlvbiBvcGVyYXRpb25cbiAgICAgICAgICogSWYgd2UgY2FuIGZpbmQgYW55IHBhaXIgb2YgbXVsdGlwb2x5Z29ucyB3aG9zZSBiYm94IGRvZXMgbm90IG92ZXJsYXAsXG4gICAgICAgICAqIHRoZW4gdGhlIHJlc3VsdCB3aWxsIGJlIGVtcHR5LiAqL1xuICAgICAgICBpZiAob3BlcmF0aW9uLnR5cGUgPT09IFwiaW50ZXJzZWN0aW9uXCIpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHRoaXMgaXMgTyhuXjIpIGluIG51bWJlciBvZiBwb2x5Z29ucy4gQnkgc29ydGluZyB0aGUgYmJveGVzLFxuICAgICAgICAgICAgLy8gICAgICAgaXQgY291bGQgYmUgb3B0aW1pemVkIHRvIE8obiAqIGxuKG4pKVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBtdWx0aXBvbHlzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1wQSA9IG11bHRpcG9seXNbaV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxLCBqTWF4ID0gbXVsdGlwb2x5cy5sZW5ndGg7IGogPCBqTWF4OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldEJib3hPdmVybGFwKG1wQS5iYm94LCBtdWx0aXBvbHlzW2pdLmJib3gpID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBQdXQgc2VnbWVudCBlbmRwb2ludHMgaW4gYSBwcmlvcml0eSBxdWV1ZSAqL1xuICAgICAgICBjb25zdCBxdWV1ZSA9IG5ldyBTcGxheVRyZWVTZXQoU3dlZXBFdmVudC5jb21wYXJlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBtdWx0aXBvbHlzLmxlbmd0aDsgaSA8IGlNYXg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc3dlZXBFdmVudHMgPSBtdWx0aXBvbHlzW2ldLmdldFN3ZWVwRXZlbnRzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgak1heCA9IHN3ZWVwRXZlbnRzLmxlbmd0aDsgaiA8IGpNYXg7IGorKykge1xuICAgICAgICAgICAgICAgIHF1ZXVlLmFkZChzd2VlcEV2ZW50c1tqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogUGFzcyB0aGUgc3dlZXAgbGluZSBvdmVyIHRob3NlIGVuZHBvaW50cyAqL1xuICAgICAgICBjb25zdCBzd2VlcExpbmUgPSBuZXcgU3dlZXBMaW5lKHF1ZXVlKTtcbiAgICAgICAgbGV0IGV2dCA9IG51bGw7XG4gICAgICAgIGlmIChxdWV1ZS5zaXplICE9IDApIHtcbiAgICAgICAgICAgIGV2dCA9IHF1ZXVlLmZpcnN0KCk7XG4gICAgICAgICAgICBxdWV1ZS5kZWxldGUoZXZ0KTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoZXZ0KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdFdmVudHMgPSBzd2VlcExpbmUucHJvY2VzcyhldnQpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlNYXggPSBuZXdFdmVudHMubGVuZ3RoOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZ0ID0gbmV3RXZlbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChldnQuY29uc3VtZWRCeSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5hZGQoZXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWV1ZS5zaXplICE9IDApIHtcbiAgICAgICAgICAgICAgICBldnQgPSBxdWV1ZS5maXJzdCgpO1xuICAgICAgICAgICAgICAgIHF1ZXVlLmRlbGV0ZShldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXZ0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBmcmVlIHNvbWUgbWVtb3J5IHdlIGRvbid0IG5lZWQgYW55bW9yZVxuICAgICAgICBwcmVjaXNpb24ucmVzZXQoKTtcbiAgICAgICAgLyogQ29sbGVjdCBhbmQgY29tcGlsZSBzZWdtZW50cyB3ZSdyZSBrZWVwaW5nIGludG8gYSBtdWx0aXBvbHlnb24gKi9cbiAgICAgICAgY29uc3QgcmluZ3NPdXQgPSBnZW9tT3V0LlJpbmdPdXQuZmFjdG9yeShzd2VlcExpbmUuc2VnbWVudHMpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgZ2VvbU91dC5NdWx0aVBvbHlPdXQocmluZ3NPdXQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmdldEdlb20oKTtcbiAgICB9XG59XG4vLyBzaW5nbGV0b24gYXZhaWxhYmxlIGJ5IGltcG9ydFxuY29uc3Qgb3BlcmF0aW9uID0gbmV3IE9wZXJhdGlvbigpO1xuZXhwb3J0IGRlZmF1bHQgb3BlcmF0aW9uO1xuIiwgImltcG9ydCB7IHByZWNpc2lvbiB9IGZyb20gXCIuL3ByZWNpc2lvbi5qc1wiO1xuaW1wb3J0IG9wZXJhdGlvbiBmcm9tIFwiLi9vcGVyYXRpb24uanNcIjtcbmV4cG9ydCBjb25zdCB1bmlvbiA9IChnZW9tLCAuLi5tb3JlR2VvbXMpID0+IG9wZXJhdGlvbi5ydW4oXCJ1bmlvblwiLCBnZW9tLCBtb3JlR2VvbXMpO1xuZXhwb3J0IGNvbnN0IGludGVyc2VjdGlvbiA9IChnZW9tLCAuLi5tb3JlR2VvbXMpID0+IG9wZXJhdGlvbi5ydW4oXCJpbnRlcnNlY3Rpb25cIiwgZ2VvbSwgbW9yZUdlb21zKTtcbmV4cG9ydCBjb25zdCB4b3IgPSAoZ2VvbSwgLi4ubW9yZUdlb21zKSA9PiBvcGVyYXRpb24ucnVuKFwieG9yXCIsIGdlb20sIG1vcmVHZW9tcyk7XG5leHBvcnQgY29uc3QgZGlmZmVyZW5jZSA9IChnZW9tLCAuLi5tb3JlR2VvbXMpID0+IG9wZXJhdGlvbi5ydW4oXCJkaWZmZXJlbmNlXCIsIGdlb20sIG1vcmVHZW9tcyk7XG5leHBvcnQgY29uc3Qgc2V0UHJlY2lzaW9uID0gcHJlY2lzaW9uLnNldDtcbiIsICJpbXBvcnQgKiBhcyBwb2x5Z29uQ2xpcHBpbmcgZnJvbSAncG9seWNsaXAtdHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZmVhdHVyZShnZW9tKSB7XG4gIGNvbnN0IGZlYXQgPSB7IHR5cGU6ICdGZWF0dXJlJyB9O1xuICBmZWF0Lmdlb21ldHJ5ID0gZ2VvbTtcbiAgcmV0dXJuIGZlYXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHZW9tZXRyeShnZW9qc29uKSB7XG4gIGlmIChnZW9qc29uLnR5cGUgPT09ICdGZWF0dXJlJykgcmV0dXJuIGdlb2pzb24uZ2VvbWV0cnk7XG4gIHJldHVybiBnZW9qc29uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29vcmRzKGdlb2pzb24pIHtcbiAgaWYgKGdlb2pzb24gJiYgZ2VvanNvbi5nZW9tZXRyeSAmJiBnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzKVxuICAgIHJldHVybiBnZW9qc29uLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICByZXR1cm4gZ2VvanNvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cmZQb2ludChjb29yZHMsIHByZWNpc2lvbiA9IC0xKSB7XG4gIGlmIChwcmVjaXNpb24gPiAtMSkge1xuICAgIGNvb3Jkc1swXSA9IEwuVXRpbC5mb3JtYXROdW0oY29vcmRzWzBdLCBwcmVjaXNpb24pO1xuICAgIGNvb3Jkc1sxXSA9IEwuVXRpbC5mb3JtYXROdW0oY29vcmRzWzFdLCBwcmVjaXNpb24pO1xuICB9XG5cbiAgcmV0dXJuIGZlYXR1cmUoeyB0eXBlOiAnUG9pbnQnLCBjb29yZGluYXRlczogY29vcmRzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVyZkxpbmVTdHJpbmcoY29vcmRzKSB7XG4gIHJldHVybiBmZWF0dXJlKHsgdHlwZTogJ0xpbmVTdHJpbmcnLCBjb29yZGluYXRlczogY29vcmRzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVyZk11bHRpTGluZVN0cmluZyhjb29yZHMpIHtcbiAgcmV0dXJuIGZlYXR1cmUoeyB0eXBlOiAnTXVsdGlMaW5lU3RyaW5nJywgY29vcmRpbmF0ZXM6IGNvb3JkcyB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cmZQb2x5Z29uKGNvb3Jkcykge1xuICByZXR1cm4gZmVhdHVyZSh7IHR5cGU6ICdQb2x5Z29uJywgY29vcmRpbmF0ZXM6IGNvb3JkcyB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cmZNdWx0aVBvbHlnb24oY29vcmRzKSB7XG4gIHJldHVybiBmZWF0dXJlKHsgdHlwZTogJ011bHRpUG9seWdvbicsIGNvb3JkaW5hdGVzOiBjb29yZHMgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJmRmVhdHVyZUNvbGxlY3Rpb24oZmVhdHVyZXMpIHtcbiAgcmV0dXJuIHsgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJywgZmVhdHVyZXMgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdChwb2x5MSwgcG9seTIpIHtcbiAgY29uc3QgZ2VvbTEgPSBnZXRHZW9tZXRyeShwb2x5MSk7XG4gIGNvbnN0IGdlb20yID0gZ2V0R2VvbWV0cnkocG9seTIpO1xuXG4gIGNvbnN0IGludGVyc2VjdGlvbiA9IHBvbHlnb25DbGlwcGluZy5pbnRlcnNlY3Rpb24oXG4gICAgZ2VvbTEuY29vcmRpbmF0ZXMsXG4gICAgZ2VvbTIuY29vcmRpbmF0ZXNcbiAgKTtcbiAgaWYgKGludGVyc2VjdGlvbi5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICBpZiAoaW50ZXJzZWN0aW9uLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHR1cmZQb2x5Z29uKGludGVyc2VjdGlvblswXSk7XG4gIHJldHVybiB0dXJmTXVsdGlQb2x5Z29uKGludGVyc2VjdGlvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlKHBvbHlnb24xLCBwb2x5Z29uMikge1xuICBjb25zdCBnZW9tMSA9IGdldEdlb21ldHJ5KHBvbHlnb24xKTtcbiAgY29uc3QgZ2VvbTIgPSBnZXRHZW9tZXRyeShwb2x5Z29uMik7XG5cbiAgY29uc3QgZGlmZmVyZW5jZWQgPSBwb2x5Z29uQ2xpcHBpbmcuZGlmZmVyZW5jZShcbiAgICBnZW9tMS5jb29yZGluYXRlcyxcbiAgICBnZW9tMi5jb29yZGluYXRlc1xuICApO1xuICBpZiAoZGlmZmVyZW5jZWQubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgaWYgKGRpZmZlcmVuY2VkLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHR1cmZQb2x5Z29uKGRpZmZlcmVuY2VkWzBdKTtcbiAgcmV0dXJuIHR1cmZNdWx0aVBvbHlnb24oZGlmZmVyZW5jZWQpO1xufVxuXG4vLyBMaW5lU3RyaW5nIGNvb3JkcyByZXR1cm5zIDFcbi8vIE11bHRpTGluZVN0cmluZyBjb29yZHMgcmV0dXJucyAyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVwdGhPZkNvb3Jkcyhjb29yZHMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29vcmRzKSkge1xuICAgIHJldHVybiAxICsgZ2V0RGVwdGhPZkNvb3Jkcyhjb29yZHNbMF0pO1xuICB9XG4gIHJldHVybiAtMTsgLy8gcmV0dXJuIC0xIGJlY2F1c2UgdGhpcyBpcyBhbHJlYWR5IHRoZSBsbmcgb2YgdGhlIGxuZ2xhdCAoZ2VvanNvbikgYXJyYXlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5Qb2x5bGluZShwb2x5bGluZSkge1xuICBpZiAocG9seWxpbmUgaW5zdGFuY2VvZiBMLlBvbHlsaW5lKSB7XG4gICAgcG9seWxpbmUgPSBwb2x5bGluZS50b0dlb0pTT04oMTUpO1xuICB9XG5cbiAgY29uc3QgY29vcmRzID0gZ2V0Q29vcmRzKHBvbHlsaW5lKTtcbiAgY29uc3QgZGVwdGggPSBnZXREZXB0aE9mQ29vcmRzKGNvb3Jkcyk7XG4gIGNvbnN0IGZlYXR1cmVzID0gW107XG4gIGlmIChkZXB0aCA+IDEpIHtcbiAgICBjb29yZHMuZm9yRWFjaCgoY29vcmQpID0+IHtcbiAgICAgIGZlYXR1cmVzLnB1c2godHVyZkxpbmVTdHJpbmcoY29vcmQpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBmZWF0dXJlcy5wdXNoKHBvbHlsaW5lKTtcbiAgfVxuXG4gIHJldHVybiBmZWF0dXJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwVG9NdWx0aUxpbmVTdHJpbmcoZ3JvdXApIHtcbiAgY29uc3QgY29vcmRzID0gW107XG4gIGdyb3VwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICBjb29yZHMucHVzaChnZXRDb29yZHMobGF5ZXIudG9HZW9KU09OKDE1KSkpO1xuICB9KTtcbiAgcmV0dXJuIHR1cmZNdWx0aUxpbmVTdHJpbmcoY29vcmRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0xhdExuZyhjb29yZHMpIHtcbiAgY29uc3QgbG5nbGF0ID0gZ2V0Q29vcmRzKGNvb3Jkcyk7XG4gIHJldHVybiBMLmxhdExuZyhsbmdsYXRbMV0sIGxuZ2xhdFswXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0QXJyYXlUb0xhdExuZ3MoYXJyKSB7XG4gIGNvbnN0IGxhdGxuZ3MgPSBbXTtcbiAgaWYgKGFyci5mZWF0dXJlcykge1xuICAgIGFyci5mZWF0dXJlcy5mb3JFYWNoKChnZW9qc29uKSA9PiB7XG4gICAgICBsYXRsbmdzLnB1c2goY29udmVydFRvTGF0TG5nKGdlb2pzb24pKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbGF0bG5ncztcbn1cbiIsICJpbXBvcnQgRHJhdyBmcm9tICcuL0wuUE0uRHJhdyc7XG5pbXBvcnQgeyBnZXRUcmFuc2xhdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5EcmF3LlRleHQgPSBEcmF3LmV4dGVuZCh7XG4gIGluaXRpYWxpemUobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICAgIHRoaXMuX3NoYXBlID0gJ1RleHQnO1xuICAgIHRoaXMudG9vbGJhckJ1dHRvbk5hbWUgPSAnZHJhd1RleHQnO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIC8vIFRPRE86IFRoaW5rIGFib3V0IGlmIHRoZXNlIG9wdGlvbnMgY291bGQgYmUgcGFzc2VkIGdsb2JhbGx5IGZvciBhbGxcbiAgICAvLyBpbnN0YW5jZXMgb2YgTC5QTS5EcmF3LiBTbyBhIGRldiBjb3VsZCBzZXQgZHJhd2luZyBzdHlsZSBvbmUgdGltZSBhcyBzb21lIGtpbmQgb2YgY29uZmlnXG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBjaGFuZ2UgZW5hYmxlZCBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gY3JlYXRlIGEgbWFya2VyIG9uIGNsaWNrIG9uIHRoZSBtYXBcbiAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fY3JlYXRlTWFya2VyLCB0aGlzKTtcblxuICAgIC8vIHRvZ2dsZSB0aGUgZHJhdyBidXR0b24gb2YgdGhlIFRvb2xiYXIgaW4gY2FzZSBkcmF3aW5nIG1vZGUgZ290IGVuYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIHRydWUpO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgaGludG1hcmtlciBvbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgdGhpcy5faGludE1hcmtlciA9IEwubWFya2VyKHRoaXMuX21hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgekluZGV4T2Zmc2V0OiAxMDAsXG4gICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbiBjdXJzb3ItbWFya2VyJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRNYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG4gICAgdGhpcy5faGludE1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuICAgIHRoaXMuX2hpbnRNYXJrZXIuYWRkVG8odGhpcy5fbWFwKTtcblxuICAgIC8vIHNob3cgdGhlIGhpbnRtYXJrZXIgaWYgdGhlIG9wdGlvbiBpcyBzZXRcbiAgICBpZiAodGhpcy5vcHRpb25zLmN1cnNvck1hcmtlcikge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2hpbnRNYXJrZXIuX2ljb24sICd2aXNpYmxlJyk7XG4gICAgfVxuXG4gICAgLy8gYWRkIHRvb2x0aXAgdG8gaGludG1hcmtlclxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgIHRoaXMuX2hpbnRNYXJrZXJcbiAgICAgICAgLmJpbmRUb29sdGlwKGdldFRyYW5zbGF0aW9uKCd0b29sdGlwcy5wbGFjZVRleHQnKSwge1xuICAgICAgICAgIHBlcm1hbmVudDogdHJ1ZSxcbiAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQoMCwgMTApLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JvdHRvbScsXG5cbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXG4gICAgICAgIH0pXG4gICAgICAgIC5vcGVuVG9vbHRpcCgpO1xuICAgIH1cblxuICAgIC8vIHRoaXMgaXMganVzdCB0byBrZWVwIHRoZSBzbmFwcGFibGUgbWl4aW4gaGFwcHlcbiAgICB0aGlzLl9sYXllciA9IHRoaXMuX2hpbnRNYXJrZXI7XG5cbiAgICAvLyBzeW5jIGhpbnQgbWFya2VyIHdpdGggbW91c2UgY3Vyc29yXG4gICAgdGhpcy5fbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9zeW5jSGludE1hcmtlciwgdGhpcyk7XG5cbiAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuY2xhc3NMaXN0LmFkZCgnZ2VvbWFuLWRyYXctY3Vyc29yJyk7XG5cbiAgICAvLyBmaXJlIGRyYXdzdGFydCBldmVudFxuICAgIHRoaXMuX2ZpcmVEcmF3U3RhcnQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIGNhbmNlbCwgaWYgZHJhd2luZyBtb2RlIGlzbid0IGV2ZW4gZW5hYmxlZFxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBlbmFibGVkIHN0YXRlXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gdW5kYmluZCBjbGljayBldmVudCwgZG9uJ3QgY3JlYXRlIGEgbWFya2VyIG9uIGNsaWNrIGFueW1vcmVcbiAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyByZW1vdmUgaGludCBtYXJrZXJcbiAgICB0aGlzLl9oaW50TWFya2VyPy5yZW1vdmUoKTtcblxuICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKS5jbGFzc0xpc3QucmVtb3ZlKCdnZW9tYW4tZHJhdy1jdXJzb3InKTtcblxuICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lciB0byBzeW5jIGhpbnQgbWFya2VyXG4gICAgdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fc3luY0hpbnRNYXJrZXIsIHRoaXMpO1xuXG4gICAgLy8gdG9nZ2xlIHRoZSBkcmF3IGJ1dHRvbiBvZiB0aGUgVG9vbGJhciBpbiBjYXNlIGRyYXdpbmcgbW9kZSBnb3QgZGlzYWJsZWQgd2l0aG91dCB0aGUgYnV0dG9uXG4gICAgdGhpcy5fbWFwLnBtLlRvb2xiYXIudG9nZ2xlQnV0dG9uKHRoaXMudG9vbGJhckJ1dHRvbk5hbWUsIGZhbHNlKTtcblxuICAgIC8vIGNsZWFudXAgc25hcHBpbmdcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5fY2xlYW51cFNuYXBwaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBkcmF3ZW5kIGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYXdFbmQoKTtcbiAgICB0aGlzLl9zZXRHbG9iYWxEcmF3TW9kZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGUob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgX3N5bmNIaW50TWFya2VyKGUpIHtcbiAgICAvLyBtb3ZlIHRoZSBjdXJzb3IgbWFya2VyXG4gICAgdGhpcy5faGludE1hcmtlci5zZXRMYXRMbmcoZS5sYXRsbmcpO1xuXG4gICAgLy8gaWYgc25hcHBpbmcgaXMgZW5hYmxlZCwgZG8gaXRcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgY29uc3QgZmFrZURyYWdFdmVudCA9IGU7XG4gICAgICBmYWtlRHJhZ0V2ZW50LnRhcmdldCA9IHRoaXMuX2hpbnRNYXJrZXI7XG4gICAgICB0aGlzLl9oYW5kbGVTbmFwcGluZyhmYWtlRHJhZ0V2ZW50KTtcbiAgICB9XG4gIH0sXG4gIF9jcmVhdGVNYXJrZXIoZSkge1xuICAgIGlmICghZS5sYXRsbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBzbmFwIGZpbmlzaCBpcyByZXF1aXJlZCBidXQgdGhlIGxhc3QgbWFya2VyIHdhc24ndCBzbmFwcGVkLCBkbyBub3QgZmluaXNoIHRoZSBzaGFwZSFcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMucmVxdWlyZVNuYXBUb0ZpbmlzaCAmJlxuICAgICAgIXRoaXMuX2hpbnRNYXJrZXIuX3NuYXBwZWQgJiZcbiAgICAgICF0aGlzLl9pc0ZpcnN0TGF5ZXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFzc2lnbiB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgY2xpY2sgdG8gdGhlIGhpbnRNYXJrZXIsIHRoYXQncyBuZWNlc3NhcnkgZm9yXG4gICAgLy8gbW9iaWxlIHdoZXJlIHRoZSBtYXJrZXIgY2FuJ3QgZm9sbG93IGEgY3Vyc29yXG4gICAgaWYgKCF0aGlzLl9oaW50TWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICB0aGlzLl9oaW50TWFya2VyLnNldExhdExuZyhlLmxhdGxuZyk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGNvb3JkaW5hdGUgZm9yIG5ldyB2ZXJ0ZXggYnkgaGludE1hcmtlciAoY3Vyc29yIG1hcmtlcilcbiAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9oaW50TWFya2VyLmdldExhdExuZygpO1xuXG4gICAgdGhpcy50ZXh0QXJlYSA9IHRoaXMuX2NyZWF0ZVRleHRBcmVhKCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRleHRPcHRpb25zPy5jbGFzc05hbWUpIHtcbiAgICAgIGNvbnN0IGNzc0NsYXNzZXMgPSB0aGlzLm9wdGlvbnMudGV4dE9wdGlvbnMuY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG4gICAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5hZGQoLi4uY3NzQ2xhc3Nlcyk7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dEFyZWFJY29uID0gdGhpcy5fY3JlYXRlVGV4dEljb24odGhpcy50ZXh0QXJlYSk7XG5cbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTC5NYXJrZXIobGF0bG5nLCB7XG4gICAgICB0ZXh0TWFya2VyOiB0cnVlLFxuICAgICAgX3RleHRNYXJrZXJPdmVyUE06IHRydWUsIC8vIHdlIG5lZWQgdG8gcHV0IHRoaXMgaW50byB0aGUgb3B0aW9ucywgZWxzZSB3ZSBjYW4ndCBjYXRjaCB0aGlzIGluIHRoZSBpbml0IG1ldGhvZFxuICAgICAgaWNvbjogdGV4dEFyZWFJY29uLFxuICAgIH0pO1xuICAgIHRoaXMuX3NldFBhbmUobWFya2VyLCAnbWFya2VyUGFuZScpO1xuICAgIHRoaXMuX2ZpbmlzaExheWVyKG1hcmtlcik7XG5cbiAgICBpZiAoIW1hcmtlci5wbSkge1xuICAgICAgLy8gaWYgcG0gaXMgbm90IGNyZWF0ZSB3ZSBkb24ndCBhcHBseSBkcmFnZ2luZyB0byB0aGUgbWFya2VyIChkcmFnZ2FibGUgaXMgYXBwbGllZCB0byB0aGUgbWFya2VyLCB3aGVuIGl0IGlzIGFkZGVkIHRvIHRoZSBtYXAgKVxuICAgICAgbWFya2VyLm9wdGlvbnMuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGFkZCBtYXJrZXIgdG8gdGhlIG1hcFxuICAgIG1hcmtlci5hZGRUbyh0aGlzLl9tYXAucG0uX2dldENvbnRhaW5pbmdMYXllcigpKTtcbiAgICBpZiAobWFya2VyLnBtKSB7XG4gICAgICBtYXJrZXIucG0udGV4dEFyZWEgPSB0aGlzLnRleHRBcmVhO1xuICAgICAgTC5zZXRPcHRpb25zKG1hcmtlci5wbSwge1xuICAgICAgICByZW1vdmVJZkVtcHR5OiB0aGlzLm9wdGlvbnMudGV4dE9wdGlvbnM/LnJlbW92ZUlmRW1wdHkgPz8gdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmb2N1c0FmdGVyRHJhdyA9IHRoaXMub3B0aW9ucy50ZXh0T3B0aW9ucz8uZm9jdXNBZnRlckRyYXcgPz8gdHJ1ZTtcbiAgICAgIG1hcmtlci5wbS5fY3JlYXRlVGV4dE1hcmtlcihmb2N1c0FmdGVyRHJhdyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRleHRPcHRpb25zPy50ZXh0KSB7XG4gICAgICAgIG1hcmtlci5wbS5zZXRUZXh0KHRoaXMub3B0aW9ucy50ZXh0T3B0aW9ucy50ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaXJlIHRoZSBwbTpjcmVhdGUgZXZlbnQgYW5kIHBhc3Mgc2hhcGUgYW5kIG1hcmtlclxuICAgIHRoaXMuX2ZpcmVDcmVhdGUobWFya2VyKTtcblxuICAgIHRoaXMuX2NsZWFudXBTbmFwcGluZygpO1xuXG4gICAgLy8gZGlzYWJsZSBkcmF3aW5nXG4gICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb250aW51ZURyYXdpbmcpIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9LFxuXG4gIF9jcmVhdGVUZXh0QXJlYSgpIHtcbiAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGV4dEFyZWEucmVhZE9ubHkgPSB0cnVlO1xuICAgIHRleHRBcmVhLmNsYXNzTGlzdC5hZGQoJ3BtLXRleHRhcmVhJywgJ3BtLWRpc2FibGVkJyk7XG4gICAgcmV0dXJuIHRleHRBcmVhO1xuICB9LFxuXG4gIF9jcmVhdGVUZXh0SWNvbih0ZXh0QXJlYSkge1xuICAgIHJldHVybiBMLmRpdkljb24oe1xuICAgICAgY2xhc3NOYW1lOiAncG0tdGV4dC1tYXJrZXInLFxuICAgICAgaHRtbDogdGV4dEFyZWEsXG4gICAgfSk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgeyBnZXRSZW5kZXJlciB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5jb25zdCBEcmFnTWl4aW4gPSB7XG4gIGVuYWJsZUxheWVyRHJhZygpIHtcbiAgICAvLyBsYXllciBpcyBub3QgYWxsb3dlZCB0byBkcmFnZ2VkIG9yIGlzIG5vdCBvbiB0aGUgbWFwXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8ICF0aGlzLl9sYXllci5fbWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYmVmb3JlIGVuYWJsaW5nIGxheWVyIGRyYWcsIGRpc2FibGUgbGF5ZXIgZWRpdGluZ1xuICAgIHRoaXMuZGlzYWJsZSgpO1xuXG4gICAgdGhpcy5fbGF5ZXJEcmFnRW5hYmxlZCA9IHRydWU7XG5cbiAgICAvLyBpZiBsYXllciBuZXZlciBlbmFibGVkIGFuZCBfbWFwIGlzIG5vdCBzZXQgKGZvciBzbmFwcGluZylcbiAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuTWFya2VyIHx8XG4gICAgICB0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuSW1hZ2VPdmVybGF5XG4gICAgKSB7XG4gICAgICAvLyBwcmV2ZW50cyBkcmFnZ2luZyB0aGUgRE9NIGltYWdlIGluc3RlYWQgb2YgdGhlIG1hcmtlclxuICAgICAgTC5Eb21FdmVudC5vbih0aGlzLl9nZXRET01FbGVtKCksICdkcmFnc3RhcnQnLCB0aGlzLl9zdG9wRE9NSW1hZ2VEcmFnKTtcbiAgICB9XG5cbiAgICAvLyBEaXNhYmxlIExlYWZsZXQgRHJhZ2dpbmcgb2YgTWFya2Vyc1xuICAgIGlmICh0aGlzLl9sYXllci5kcmFnZ2luZykge1xuICAgICAgdGhpcy5fbGF5ZXIuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIHRlbXBvcmFyeSBjb29yZCB2YXJpYWJsZSBmb3IgZGVsdGEgY2FsY3VsYXRpb25cbiAgICB0aGlzLl90ZW1wRHJhZ0Nvb3JkID0gbnVsbDtcblxuICAgIC8vIGFkZCBDU1MgY2xhc3NcbiAgICBpZiAoZ2V0UmVuZGVyZXIodGhpcy5fbGF5ZXIpIGluc3RhbmNlb2YgTC5DYW52YXMpIHtcbiAgICAgIHRoaXMuX2xheWVyLm9uKCdtb3VzZW91dCcsIHRoaXMucmVtb3ZlRHJhZ2dpbmdDbGFzcywgdGhpcyk7XG4gICAgICB0aGlzLl9sYXllci5vbignbW91c2VvdmVyJywgdGhpcy5hZGREcmFnZ2luZ0NsYXNzLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGREcmFnZ2luZ0NsYXNzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUgPSB0aGlzLl9sYXllci5fbWFwLmRyYWdnaW5nLl9lbmFibGVkO1xuXG4gICAgLy8gY2FuIHdlIHJlbGlhYmx5IHNhdmUgdGhlIG1hcCdzIGRyYWdnYWJsZSBzdGF0ZT9cbiAgICAvLyAoaWYgdGhlIG1vdXNlIHVwIGV2ZW50IGhhcHBlbnMgb3V0c2lkZSB0aGUgY29udGFpbmVyLCB0aGVuIHRoZSBtYXAgY2FuIGJlY29tZSB1bmRyYWdnYWJsZSlcbiAgICB0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSA9IHRydWU7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9nZXRET01FbGVtKCk7XG5cbiAgICAvLyBjaGVjayBpZiBET00gZWxlbWVudCBleGlzdHNcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAvLyBhZGQgbW91c2Vkb3duIGV2ZW50IHRvIHRyaWdnZXIgZHJhZ1xuICAgICAgaWYgKGdldFJlbmRlcmVyKHRoaXMuX2xheWVyKSBpbnN0YW5jZW9mIEwuQ2FudmFzKSB7XG4gICAgICAgIHRoaXMuX2xheWVyLm9uKFxuICAgICAgICAgICd0b3VjaHN0YXJ0IG1vdXNlZG93bicsXG4gICAgICAgICAgdGhpcy5fZHJhZ01peGluT25Nb3VzZURvd24sXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgICB0aGlzLl9tYXAucG0uX2FkZFRvdWNoRXZlbnRzKGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBjYW4ndCBqdXN0IHVzZSBsYXllci5vbignbW91c2Vkb3duJykgYmVjYXVzZSBvbiB0b3VjaCBkZXZpY2VzIHRoZSBldmVudCBpcyBub3QgZmlyZWQgaWYgdXNlciBwcmVzc2VzIG9uIHRoZSBsYXllciBhbmQgdGhlbiBkcmFnIGl0LlxuICAgICAgICAvLyBXaXRoIGNoZWNraW5nIG9uIHRvdWNoc3RhcnQgYW5kIG1vdXNlZG93biBvbiB0aGUgRE9NIGVsZW1lbnQgd2UgY2FuIGxpc3RlbiBvbiB0aGUgbmVlZGVkIGV2ZW50c1xuICAgICAgICBMLkRvbUV2ZW50Lm9uKFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAndG91Y2hzdGFydCBtb3VzZWRvd24nLFxuICAgICAgICAgIHRoaXMuX3NpbXVsYXRlTW91c2VEb3duRXZlbnQsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2ZpcmVEcmFnRW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGVMYXllckRyYWcoKSB7XG4gICAgdGhpcy5fbGF5ZXJEcmFnRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVtb3ZlIENTUyBjbGFzc1xuICAgIGlmIChnZXRSZW5kZXJlcih0aGlzLl9sYXllcikgaW5zdGFuY2VvZiBMLkNhbnZhcykge1xuICAgICAgdGhpcy5fbGF5ZXIub2ZmKCdtb3VzZW91dCcsIHRoaXMucmVtb3ZlRHJhZ2dpbmdDbGFzcywgdGhpcyk7XG4gICAgICB0aGlzLl9sYXllci5vZmYoJ21vdXNlb3ZlcicsIHRoaXMuYWRkRHJhZ2dpbmdDbGFzcywgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlRHJhZ2dpbmdDbGFzcygpO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZSBsYXllciBpcyBkcmFnZ2VkIGJ1dCBub3cgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUgJiYgdGhpcy5fZHJhZ2dpbmcpIHtcbiAgICAgIHRoaXMuX21hcC5kcmFnZ2luZy5lbmFibGUoKTtcbiAgICB9XG5cbiAgICAvLyBubyBsb25nZXIgc2F2ZSB0aGUgZHJhZyBzdGF0ZVxuICAgIHRoaXMuX3NhZmVUb0NhY2hlRHJhZ1N0YXRlID0gZmFsc2U7XG5cbiAgICAvLyBEaXNhYmxlIExlYWZsZXQgRHJhZ2dpbmcgb2YgTWFya2Vyc1xuICAgIGlmICh0aGlzLl9sYXllci5kcmFnZ2luZykge1xuICAgICAgdGhpcy5fbGF5ZXIuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2dldERPTUVsZW0oKTtcbiAgICAvLyBjaGVjayBpZiBET00gZWxlbWVudCBleGlzdHNcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBpZiAoZ2V0UmVuZGVyZXIodGhpcy5fbGF5ZXIpIGluc3RhbmNlb2YgTC5DYW52YXMpIHtcbiAgICAgICAgdGhpcy5fbGF5ZXIub2ZmKFxuICAgICAgICAgICd0b3VjaHN0YXJ0IG1vdXNlZG93bicsXG4gICAgICAgICAgdGhpcy5fZHJhZ01peGluT25Nb3VzZURvd24sXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgICB0aGlzLl9tYXAucG0uX3JlbW92ZVRvdWNoRXZlbnRzKGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkaXNhYmxlIG1vdXNlZG93biBldmVudFxuICAgICAgICBMLkRvbUV2ZW50Lm9mZihcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgJ3RvdWNoc3RhcnQgbW91c2Vkb3duJyxcbiAgICAgICAgICB0aGlzLl9zaW11bGF0ZU1vdXNlRG93bkV2ZW50LFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGF5ZXJEcmFnZ2VkKSB7XG4gICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2xheWVyRHJhZ2dlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fZmlyZURyYWdEaXNhYmxlKCk7XG4gIH0sXG4gIC8vIFRPRE86IG1ha2UgdGhpcyBwcml2YXRlIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgZHJhZ2dpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RyYWdnaW5nO1xuICB9LFxuICBsYXllckRyYWdFbmFibGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2xheWVyRHJhZ0VuYWJsZWQ7XG4gIH0sXG4gIC8vIFdlIG5lZWQgdG8gc2ltdWxhdGUgYSBtb3VzZWRvd24gZXZlbnQgb24gdGhlIGxheWVyIG9iamVjdC4gV2UgY2FuJ3QganVzdCB1c2UgbGF5ZXIub24oJ21vdXNlZG93bicpIGJlY2F1c2Ugb24gdG91Y2ggZGV2aWNlcyB0aGUgZXZlbnQgaXMgbm90IGZpcmVkIGlmIHVzZXIgcHJlc3NlcyBvbiB0aGUgbGF5ZXIgYW5kIHRoZW4gZHJhZyBpdC5cbiAgLy8gV2l0aCBjaGVja2luZyBvbiB0b3VjaHN0YXJ0IGFuZCBtb3VzZWRvd24gb24gdGhlIERPTSBlbGVtZW50IHdlIGNhbiBsaXN0ZW4gb24gdGhlIG5lZWRlZCBldmVudHNcbiAgX3NpbXVsYXRlTW91c2VEb3duRXZlbnQoZSkge1xuICAgIGNvbnN0IGZpcnN0ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcbiAgICBjb25zdCBldnQgPSB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBmaXJzdCxcbiAgICAgIHRhcmdldDogdGhpcy5fbGF5ZXIsXG4gICAgfTtcbiAgICAvLyB3ZSBleHBlY3QgaW4gdGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgY2xpY2tlZCBsYXRsbmcgLyBwb2ludFxuICAgIGV2dC5jb250YWluZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChmaXJzdCk7XG4gICAgZXZ0LmxhdGxuZyA9IHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKGV2dC5jb250YWluZXJQb2ludCk7XG5cbiAgICB0aGlzLl9kcmFnTWl4aW5Pbk1vdXNlRG93bihldnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgX3NpbXVsYXRlTW91c2VNb3ZlRXZlbnQoZSkge1xuICAgIGNvbnN0IGZpcnN0ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcbiAgICBjb25zdCBldnQgPSB7XG4gICAgICBvcmlnaW5hbEV2ZW50OiBmaXJzdCxcbiAgICAgIHRhcmdldDogdGhpcy5fbGF5ZXIsXG4gICAgfTtcbiAgICAvLyB3ZSBleHBlY3QgaW4gdGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgY2xpY2tlZCBsYXRsbmcgLyBwb2ludFxuICAgIGV2dC5jb250YWluZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChmaXJzdCk7XG4gICAgZXZ0LmxhdGxuZyA9IHRoaXMuX21hcC5jb250YWluZXJQb2ludFRvTGF0TG5nKGV2dC5jb250YWluZXJQb2ludCk7XG5cbiAgICB0aGlzLl9kcmFnTWl4aW5Pbk1vdXNlTW92ZShldnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgX3NpbXVsYXRlTW91c2VVcEV2ZW50KGUpIHtcbiAgICBjb25zdCBmaXJzdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG4gICAgY29uc3QgZXZ0ID0ge1xuICAgICAgb3JpZ2luYWxFdmVudDogZmlyc3QsXG4gICAgICB0YXJnZXQ6IHRoaXMuX2xheWVyLFxuICAgIH07XG4gICAgaWYgKGUudHlwZS5pbmRleE9mKCd0b3VjaCcpID09PSAtMSkge1xuICAgICAgLy8gd2UgZXhwZWN0IGluIHRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGNsaWNrZWQgbGF0bG5nIC8gcG9pbnRcbiAgICAgIGV2dC5jb250YWluZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKTtcbiAgICAgIGV2dC5sYXRsbmcgPSB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyhldnQuY29udGFpbmVyUG9pbnQpO1xuICAgIH1cbiAgICB0aGlzLl9kcmFnTWl4aW5Pbk1vdXNlVXAoZXZ0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIF9kcmFnTWl4aW5Pbk1vdXNlRG93bihlKSB7XG4gICAgLy8gY2FuY2VsIGlmIG1vdXNlIGJ1dHRvbiBpcyBOT1QgdGhlIGxlZnQgYnV0dG9uXG4gICAgaWYgKGUub3JpZ2luYWxFdmVudC5idXR0b24gPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX292ZXJ3cml0ZUV2ZW50SWZJdENvbWVzRnJvbU1hcmtlcihlKTtcblxuICAgIGNvbnN0IGZyb21MYXllclN5bmMgPSBlLl9mcm9tTGF5ZXJTeW5jO1xuXG4gICAgLy8gaWYgb3RoZXIgbGF5ZXJzIGZvdW5kLCBzbmFwcGluZyB3aWxsIGJlIGRpc2FibGVkXG4gICAgY29uc3QgbGF5ZXJzVG9TeW5jRm91bmQgPSB0aGlzLl9zeW5jTGF5ZXJzKCdfZHJhZ01peGluT25Nb3VzZURvd24nLCBlKTtcblxuICAgIGlmICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuTWFya2VyKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSAmJiAhZnJvbUxheWVyU3luYyAmJiAhbGF5ZXJzVG9TeW5jRm91bmQpIHtcbiAgICAgICAgdGhpcy5faW5pdFNuYXBwYWJsZU1hcmtlcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVTbmFwcGluZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHdlIG5lZWQgdG8gZGlzYWJsZSBzbmFwcGluZyBmb3IgQ2lyY2xlTWFya2VyIGJlY2F1c2UgdGhleSBhcmUgc25hcHBpbmcgYmVjYXVzZSBvZiB0aGUgY2hlY2sgaW4gb25MYXllckRyYWcgLT4gaWYoX3NuYXBwZWQpXG4gICAgaWYgKHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpIHtcbiAgICAgIGxldCBfZWRpdGFibGVPcHRpb24gPSAncmVzaXplYWJsZUNpcmNsZU1hcmtlcic7XG4gICAgICBpZiAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSkge1xuICAgICAgICBfZWRpdGFibGVPcHRpb24gPSAncmVzaXphYmxlQ2lyY2xlJztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwcGFibGUgJiYgIWZyb21MYXllclN5bmMgJiYgIWxheWVyc1RvU3luY0ZvdW5kKSB7XG4gICAgICAgIGlmICghdGhpcy5fbGF5ZXIucG0ub3B0aW9uc1tfZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICAgICAgdGhpcy5faW5pdFNuYXBwYWJsZU1hcmtlcnNEcmFnKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fbGF5ZXIucG0ub3B0aW9uc1tfZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICAgIHRoaXMuX2xheWVyLnBtLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xheWVyLnBtLl9kaXNhYmxlU25hcHBpbmdEcmFnKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2F2ZSBjdXJyZW50IG1hcCBkcmFnZ2luZyBzdGF0ZVxuICAgIGlmICh0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSkge1xuICAgICAgdGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUgPSB0aGlzLl9sYXllci5fbWFwLmRyYWdnaW5nLl9lbmFibGVkO1xuXG4gICAgICAvLyBkb24ndCBjYWNoZSB0aGUgc3RhdGUgYWdhaW4gdW50aWwgYW5vdGhlciBtb3VzZSB1cCBpcyByZWdpc3RlcmVkXG4gICAgICB0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHNhdmUgZm9yIGRlbHRhIGNhbGN1bGF0aW9uXG4gICAgdGhpcy5fdGVtcERyYWdDb29yZCA9IGUubGF0bG5nO1xuXG4gICAgTC5Eb21FdmVudC5vbihcbiAgICAgIHRoaXMuX21hcC5nZXRDb250YWluZXIoKSxcbiAgICAgICd0b3VjaGVuZCBtb3VzZXVwJyxcbiAgICAgIHRoaXMuX3NpbXVsYXRlTW91c2VVcEV2ZW50LFxuICAgICAgdGhpc1xuICAgICk7XG5cbiAgICAvLyBsaXN0ZW4gdG8gbW91c2Vtb3ZlIG9uIG1hcCAoaW5zdGVhZCBvZiBwb2x5Z29uKSxcbiAgICAvLyBvdGhlcndpc2UgZmFzdCBtb3VzZSBtb3ZlbWVudHMgc3RvcCB0aGUgZHJhZ1xuICAgIEwuRG9tRXZlbnQub24oXG4gICAgICB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCksXG4gICAgICAndG91Y2htb3ZlIG1vdXNlbW92ZScsXG4gICAgICB0aGlzLl9zaW11bGF0ZU1vdXNlTW92ZUV2ZW50LFxuICAgICAgdGhpc1xuICAgICk7XG4gIH0sXG4gIF9kcmFnTWl4aW5Pbk1vdXNlTW92ZShlKSB7XG4gICAgdGhpcy5fb3ZlcndyaXRlRXZlbnRJZkl0Q29tZXNGcm9tTWFya2VyKGUpO1xuICAgIGNvbnN0IGVsID0gdGhpcy5fZ2V0RE9NRWxlbSgpO1xuXG4gICAgdGhpcy5fc3luY0xheWVycygnX2RyYWdNaXhpbk9uTW91c2VNb3ZlJywgZSk7XG5cbiAgICBpZiAoIXRoaXMuX2RyYWdnaW5nKSB7XG4gICAgICAvLyBzZXQgc3RhdGVcbiAgICAgIHRoaXMuX2RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dpbmcnKTtcblxuICAgICAgaWYgKCEodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlcikpIHtcbiAgICAgICAgLy8gYnJpbmcgaXQgdG8gZnJvbnQgdG8gcHJldmVudCBkcmFnIGludGVyY2VwdGlvblxuICAgICAgICB0aGlzLl9sYXllci5icmluZ1RvRnJvbnQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gZGlzYmFsZSBtYXAgZHJhZ1xuICAgICAgaWYgKHRoaXMuX29yaWdpbmFsTWFwRHJhZ1N0YXRlKSB7XG4gICAgICAgIHRoaXMuX21hcC5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGZpcmUgcG06ZHJhZ3N0YXJ0IGV2ZW50XG4gICAgICB0aGlzLl9maXJlRHJhZ1N0YXJ0KCk7XG4gICAgfVxuXG4gICAgLy8gaWYgX3RlbXBEcmFnQ29vcmQgaXMgbnVsbCBhZGQgdGhlIGN1cnJlbnQgbGF0bG5nIHRvIHByZXZlbnQgdGhyb3dpbmcgYSBlcnJvci4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gZm9yIGV4YW1wbGUgdGhlIGxheWVyIGlzIHJlbW92ZWQgYW5kIGFkZGVkIHRvIHRoZSBtYXAgd2hpbGUgZHJhZ2dpbmcgKE1hcmtlckNsdXN0ZXIpXG4gICAgaWYgKCF0aGlzLl90ZW1wRHJhZ0Nvb3JkKSB7XG4gICAgICB0aGlzLl90ZW1wRHJhZ0Nvb3JkID0gZS5sYXRsbmc7XG4gICAgfVxuXG4gICAgdGhpcy5fb25MYXllckRyYWcoZSk7XG5cbiAgICAvLyB1cGRhdGUgdGhlIGhpZGRlbiBjaXJjbGUgYm9yZGVyIGFmdGVyIGRyYWdnaW5nXG4gICAgaWYgKHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIpIHtcbiAgICAgIHRoaXMuX2xheWVyLnBtLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG4gICAgfVxuICB9LFxuICBfZHJhZ01peGluT25Nb3VzZVVwKGUpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMuX2dldERPTUVsZW0oKTtcblxuICAgIHRoaXMuX3N5bmNMYXllcnMoJ19kcmFnTWl4aW5Pbk1vdXNlVXAnLCBlKTtcblxuICAgIC8vIHJlLWVuYWJsZSBtYXAgZHJhZ1xuICAgIGlmICh0aGlzLl9vcmlnaW5hbE1hcERyYWdTdGF0ZSkge1xuICAgICAgdGhpcy5fbWFwLmRyYWdnaW5nLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIGlmIG1vdXNldXAgZXZlbnQgZmlyZWQsIGl0J3Mgc2FmZSB0byBjYWNoZSB0aGUgbWFwIGRyYWdnYWJsZSBzdGF0ZSBvbiB0aGUgbmV4dCBtb3VzZSBkb3duXG4gICAgdGhpcy5fc2FmZVRvQ2FjaGVEcmFnU3RhdGUgPSB0cnVlO1xuICAgIC8vIGNsZWFyIHVwIG1vdXNlbW92ZSBldmVudFxuICAgIEwuRG9tRXZlbnQub2ZmKFxuICAgICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLFxuICAgICAgJ3RvdWNobW92ZSBtb3VzZW1vdmUnLFxuICAgICAgdGhpcy5fc2ltdWxhdGVNb3VzZU1vdmVFdmVudCxcbiAgICAgIHRoaXNcbiAgICApO1xuXG4gICAgLy8gY2xlYXIgdXAgbW91c2V1cCBldmVudFxuICAgIEwuRG9tRXZlbnQub2ZmKFxuICAgICAgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLFxuICAgICAgJ3RvdWNoZW5kIG1vdXNldXAnLFxuICAgICAgdGhpcy5fc2ltdWxhdGVNb3VzZVVwRXZlbnQsXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8vIGlmIG5vIGRyYWcgaGFwcGVuZWQsIGRvbid0IGRvIGFueXRoaW5nXG4gICAgaWYgKCF0aGlzLl9kcmFnZ2luZykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgaGlkZGVuIGNpcmNsZSBib3JkZXIgYWZ0ZXIgZHJhZ2dpbmdcbiAgICBpZiAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlcikge1xuICAgICAgdGhpcy5fbGF5ZXIucG0uX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXllckRyYWdnZWQgPSB0cnVlO1xuXG4gICAgLy8gdGltZW91dCB0byBwcmV2ZW50IGNsaWNrIGV2ZW50IGFmdGVyIGRyYWcgOi0vXG4gICAgLy8gVE9ETzogZG8gaXQgYmV0dGVyIGFzIHNvb24gYXMgbGVhZmxldCBoYXMgYSB3YXkgdG8gZG8gaXQgYmV0dGVyIDotKVxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHNldCBzdGF0ZVxuICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgIC8vIGlmIHRoZSBsYXllciBpcyBub3Qgb24gdGhlIG1hcCwgd2UgaGF2ZSBubyBET00gZWxlbWVudFxuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dpbmcnKTtcbiAgICAgIH1cblxuICAgICAgLy8gZmlyZSBwbTpkcmFnZW5kIGV2ZW50XG4gICAgICB0aGlzLl9maXJlRHJhZ0VuZCgpO1xuXG4gICAgICAvLyBmaXJlIGVkaXRcbiAgICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG4gICAgfSwgMTApO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIF9vbkxheWVyRHJhZyhlKSB7XG4gICAgLy8gbGF0TG5nIG9mIG1vdXNlIGV2ZW50XG4gICAgY29uc3QgeyBsYXRsbmcgfSA9IGU7XG5cbiAgICAvLyBkZWx0YSBjb29yZHMgKGhvdyBmYXIgd2FzIGRyYWdnZWQpXG4gICAgY29uc3QgZGVsdGFMYXRMbmcgPSB7XG4gICAgICBsYXQ6IGxhdGxuZy5sYXQgLSB0aGlzLl90ZW1wRHJhZ0Nvb3JkLmxhdCxcbiAgICAgIGxuZzogbGF0bG5nLmxuZyAtIHRoaXMuX3RlbXBEcmFnQ29vcmQubG5nLFxuICAgIH07XG5cbiAgICAvLyBtb3ZlIHRoZSBjb29yZGluYXRlcyBieSB0aGUgZGVsdGFcbiAgICBjb25zdCBtb3ZlQ29vcmRzID0gKGNvb3JkcykgPT5cbiAgICAgIC8vIGFsdGVyIHRoZSBjb29yZGluYXRlc1xuICAgICAgY29vcmRzLm1hcCgoY3VycmVudExhdExuZykgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50TGF0TG5nKSkge1xuICAgICAgICAgIC8vIGRvIHRoaXMgcmVjdXJzaXZlbHkgYXMgY29vcmRzIG1pZ2h0IGJlIG5lc3RlZFxuICAgICAgICAgIHJldHVybiBtb3ZlQ29vcmRzKGN1cnJlbnRMYXRMbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW92ZSB0aGUgY29vcmQgYW5kIHJldHVybiBpdFxuICAgICAgICBjb25zdCBuZXdMYXRsbmcgPSB7XG4gICAgICAgICAgbGF0OiBjdXJyZW50TGF0TG5nLmxhdCArIGRlbHRhTGF0TG5nLmxhdCxcbiAgICAgICAgICBsbmc6IGN1cnJlbnRMYXRMbmcubG5nICsgZGVsdGFMYXRMbmcubG5nLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjdXJyZW50TGF0TG5nLmFsdCB8fCBjdXJyZW50TGF0TG5nLmFsdCA9PT0gMCkge1xuICAgICAgICAgIG5ld0xhdGxuZy5hbHQgPSBjdXJyZW50TGF0TG5nLmFsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3TGF0bG5nO1xuICAgICAgfSk7XG5cbiAgICBpZiAoXG4gICAgICAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSAmJlxuICAgICAgICB0aGlzLl9sYXllci5vcHRpb25zLnJlc2l6YWJsZUNpcmNsZSkgfHxcbiAgICAgICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyICYmXG4gICAgICAgIHRoaXMuX2xheWVyLm9wdGlvbnMucmVzaXplYWJsZUNpcmNsZU1hcmtlcilcbiAgICApIHtcbiAgICAgIC8vIGNyZWF0ZSB0aGUgbmV3IGNvb3JkaW5hdGVzIGFycmF5XG4gICAgICBjb25zdCBuZXdDb29yZHMgPSBtb3ZlQ29vcmRzKFt0aGlzLl9sYXllci5nZXRMYXRMbmcoKV0pO1xuICAgICAgLy8gc2V0IG5ldyBjb29yZGluYXRlcyBhbmQgcmVkcmF3XG4gICAgICB0aGlzLl9sYXllci5zZXRMYXRMbmcobmV3Q29vcmRzWzBdKTtcbiAgICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksICdFZGl0Jyk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5DaXJjbGVNYXJrZXIgfHxcbiAgICAgIHRoaXMuX2xheWVyIGluc3RhbmNlb2YgTC5NYXJrZXJcbiAgICApIHtcbiAgICAgIGxldCBjb29yZHNSZWZlcm5jZSA9IHRoaXMuX2xheWVyLmdldExhdExuZygpO1xuICAgICAgaWYgKHRoaXMuX2xheWVyLl9zbmFwcGVkKSB7XG4gICAgICAgIC8vIGlmIGxheWVyIGlzIHNuYXBwZWQgd2UgdXNlIHRoZSBvcmlnaW5hbCBsYXRsbmcgZm9yIHJlLWNhbGN1bGF0aW9uLCBlbHNlIHRoZSBsYXllciB3aWxsIG5vdCBiZSBcInVuc25hcHBhYmxlXCIgYW55bW9yZVxuICAgICAgICBjb29yZHNSZWZlcm5jZSA9IHRoaXMuX2xheWVyLl9vcmdMYXRMbmc7XG4gICAgICB9XG4gICAgICAvLyBjcmVhdGUgdGhlIG5ldyBjb29yZGluYXRlcyBhcnJheVxuICAgICAgY29uc3QgbmV3Q29vcmRzID0gbW92ZUNvb3JkcyhbY29vcmRzUmVmZXJuY2VdKTtcbiAgICAgIC8vIHNldCBuZXcgY29vcmRpbmF0ZXMgYW5kIHJlZHJhd1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5nKG5ld0Nvb3Jkc1swXSk7XG4gICAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZygpLCAnRWRpdCcpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fbGF5ZXIgaW5zdGFuY2VvZiBMLkltYWdlT3ZlcmxheSkge1xuICAgICAgLy8gY3JlYXRlIHRoZSBuZXcgY29vcmRpbmF0ZXMgYXJyYXlcbiAgICAgIGNvbnN0IG5ld0Nvb3JkcyA9IG1vdmVDb29yZHMoW1xuICAgICAgICB0aGlzLl9sYXllci5nZXRCb3VuZHMoKS5nZXROb3J0aFdlc3QoKSxcbiAgICAgICAgdGhpcy5fbGF5ZXIuZ2V0Qm91bmRzKCkuZ2V0U291dGhFYXN0KCksXG4gICAgICBdKTtcbiAgICAgIC8vIHNldCBuZXcgY29vcmRpbmF0ZXMgYW5kIHJlZHJhd1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0Qm91bmRzKG5ld0Nvb3Jkcyk7XG4gICAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldEJvdW5kcygpLCAnRWRpdCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIG5ldyBjb29yZGluYXRlcyBhcnJheVxuICAgICAgY29uc3QgbmV3Q29vcmRzID0gbW92ZUNvb3Jkcyh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCkpO1xuXG4gICAgICAvLyBzZXQgbmV3IGNvb3JkaW5hdGVzIGFuZCByZWRyYXdcbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MobmV3Q29vcmRzKTtcbiAgICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLCAnRWRpdCcpO1xuICAgIH1cblxuICAgIC8vIHNhdmUgY3VycmVudCBsYXRsbmcgZm9yIG5leHQgZGVsdGEgY2FsY3VsYXRpb25cbiAgICB0aGlzLl90ZW1wRHJhZ0Nvb3JkID0gbGF0bG5nO1xuXG4gICAgZS5sYXllciA9IHRoaXMuX2xheWVyO1xuICAgIC8vIGZpcmUgcG06ZHJhZ3N0YXJ0IGV2ZW50XG4gICAgdGhpcy5fZmlyZURyYWcoZSk7XG4gIH0sXG4gIGFkZERyYWdnaW5nQ2xhc3MoKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzLl9nZXRET01FbGVtKCk7XG4gICAgaWYgKGVsKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MoZWwsICdsZWFmbGV0LXBtLWRyYWdnYWJsZScpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlRHJhZ2dpbmdDbGFzcygpIHtcbiAgICBjb25zdCBlbCA9IHRoaXMuX2dldERPTUVsZW0oKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dhYmxlJyk7XG4gICAgfVxuICB9LFxuICBfZ2V0RE9NRWxlbSgpIHtcbiAgICBsZXQgZWwgPSBudWxsO1xuICAgIGlmICh0aGlzLl9sYXllci5fcGF0aCkge1xuICAgICAgZWwgPSB0aGlzLl9sYXllci5fcGF0aDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2xheWVyLl9yZW5kZXJlciAmJiB0aGlzLl9sYXllci5fcmVuZGVyZXIuX2NvbnRhaW5lcikge1xuICAgICAgZWwgPSB0aGlzLl9sYXllci5fcmVuZGVyZXIuX2NvbnRhaW5lcjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2xheWVyLl9pbWFnZSkge1xuICAgICAgZWwgPSB0aGlzLl9sYXllci5faW1hZ2U7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9sYXllci5faWNvbikge1xuICAgICAgZWwgPSB0aGlzLl9sYXllci5faWNvbjtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9LFxuICBfb3ZlcndyaXRlRXZlbnRJZkl0Q29tZXNGcm9tTWFya2VyKGUpIHtcbiAgICAvLyBlLmxhdGxuZyBpcyBub3QgdGhlIGNsaWNrZWQgbGF0bG5nIGlmIHRoZSBsYXllciBpcyBhIE1hcmtlciAob3IgdGhlIHJhZGl1cyBiZWxvdyAxMCkgLT4gTGVhZmxldCBkZWZpbml0aW9uXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9ibG9iLzBmOTA0YTUxNTg3OWZjZDA4ZjY5YjdmNTE3OTllZTdmMThmMjNmZDgvc3JjL21hcC9NYXAuanMjTDE0MTZcbiAgICBjb25zdCBpc01hcmtlciA9XG4gICAgICBlLnRhcmdldC5nZXRMYXRMbmcgJiYgKCFlLnRhcmdldC5fcmFkaXVzIHx8IGUudGFyZ2V0Ll9yYWRpdXMgPD0gMTApO1xuICAgIGlmIChpc01hcmtlcikge1xuICAgICAgLy8gd2Ugd2FudCB0aGUgY2xpY2tlZCBsYXRsbmcgLyBwb2ludCwgc28gd2Ugb3ZlcndyaXRlIHRoZSBwcm9wZXJ0eSBlLmxhdGxuZ1xuICAgICAgZS5jb250YWluZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgZS5sYXRsbmcgPSB0aGlzLl9tYXAuY29udGFpbmVyUG9pbnRUb0xhdExuZyhlLmNvbnRhaW5lclBvaW50KTtcbiAgICB9XG4gIH0sXG4gIF9zeW5jTGF5ZXJzKGZuYywgZSkge1xuICAgIC8vIGlmIGxheWVyIGlzIGluIEVkaXQtTW9kZSBpdCBzaG91bGQgbm90IGJlIHBvc3NpYmxlIHRvIGRyYWcgb3RoZXIgbGF5ZXJzIHRvby4gKE1hcmtlciAmIENpcmNsZU1hcmtlciAmIEltYWdlT3ZlcmxheSlcbiAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhZS5fZnJvbUxheWVyU3luYyAmJlxuICAgICAgdGhpcy5fbGF5ZXIgPT09IGUudGFyZ2V0ICYmXG4gICAgICB0aGlzLm9wdGlvbnMuc3luY0xheWVyc09uRHJhZ1xuICAgICkge1xuICAgICAgZS5fZnJvbUxheWVyU3luYyA9IHRydWU7XG4gICAgICBsZXQgbGF5ZXJzVG9TeW5jID0gW107XG4gICAgICBpZiAoTC5VdGlsLmlzQXJyYXkodGhpcy5vcHRpb25zLnN5bmNMYXllcnNPbkRyYWcpKSB7XG4gICAgICAgIC8vIGxheWVyc1xuICAgICAgICBsYXllcnNUb1N5bmMgPSB0aGlzLm9wdGlvbnMuc3luY0xheWVyc09uRHJhZztcblxuICAgICAgICB0aGlzLm9wdGlvbnMuc3luY0xheWVyc09uRHJhZy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICAgICAgbGF5ZXJzVG9TeW5jID0gbGF5ZXJzVG9TeW5jLmNvbmNhdChsYXllci5wbS5nZXRMYXllcnModHJ1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zeW5jTGF5ZXJzT25EcmFnID09PSB0cnVlKSB7XG4gICAgICAgIC8vIExheWVyR3JvdXBcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudExheWVyR3JvdXApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLl9wYXJlbnRMYXllckdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBsZyA9IHRoaXMuX3BhcmVudExheWVyR3JvdXBba2V5XTtcbiAgICAgICAgICAgIGlmIChsZy5wbSkge1xuICAgICAgICAgICAgICBsYXllcnNUb1N5bmMgPSBsZy5wbS5nZXRMYXllcnModHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChMLlV0aWwuaXNBcnJheShsYXllcnNUb1N5bmMpICYmIGxheWVyc1RvU3luYy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIGZpbHRlciBvdXQgbGF5ZXJzIHRoYXQgZG9uJ3QgaGF2ZSBsZWFmbGV0LWdlb21hbiBhbmQgbm90IGFsbG93ZWQgdG8gZHJhZ1xuICAgICAgICBsYXllcnNUb1N5bmMgPSBsYXllcnNUb1N5bmNcbiAgICAgICAgICAuZmlsdGVyKChsYXllcikgPT4gISFsYXllci5wbSlcbiAgICAgICAgICAuZmlsdGVyKChsYXllcikgPT4gISFsYXllci5wbS5vcHRpb25zLmRyYWdnYWJsZSk7XG4gICAgICAgIGxheWVyc1RvU3luYy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgIGlmIChsYXllciAhPT0gdGhpcy5fbGF5ZXIgJiYgbGF5ZXIucG1bZm5jXSkge1xuICAgICAgICAgICAgbGF5ZXIuX3NuYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxheWVyLnBtW2ZuY10oZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsYXllcnNUb1N5bmMubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBfc3RvcERPTUltYWdlRHJhZyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdNaXhpbjtcbiIsICJpbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IHsgX2NvbnZlcnRMYXRMbmdzLCBfdG9Qb2ludCB9IGZyb20gJy4uL2hlbHBlcnMvTW9kZUhlbHBlcic7XG5pbXBvcnQgeyBjYWxjQW5nbGUsIGNvcHlMYXRMbmdzIH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbi8qKlxuICogV2UgY3JlYXRlIGEgdGVtcG9yYXJ5IHBvbHlnb24gd2l0aCB0aGUgc2FtZSBsYXRsbmdzIGFzIHRoZSBsYXllciB0aGF0IHdlIHdhbnQgdG8gcm90YXRlLlxuICogV2h5IHBvbHlnb24/IEJlY2F1c2UgdGhlbiB3ZSBoYXZlIHRoZSBjb3JyZWN0IGNlbnRlciBhbHNvIGZvciBwb2x5bGluZXMgd2l0aCBgbGF5ZXIuZ2V0Q2VudGVyKClgLlxuICogV2UgcmVmZXJlbmNlIHRoZSBvcmlnaW4gbGF5ZXIgYXMgYF9yb3RhdGlvbkxheWVyYC4gVGhlIHJvdGF0ZSBsaXN0ZW5lcnMgKGBfb25Sb3RhdGUuLi4oKWApIGFyZSBvbmx5IGFwcGxpZWQgdG8gdGhlIHRlbXAgcG9seWdvbiBhbmQgZnJvbSB0aGVyZSB3ZSBuZWVkIHRvIHJvdGF0ZSB0aGUgYF9yb3RhdGlvbkxheWVyYCB0b28uXG4gKlxuICovXG5cbmNvbnN0IFJvdGF0ZU1peGluID0ge1xuICBfb25Sb3RhdGVTdGFydChlKSB7XG4gICAgLy8gcHJldmVudCB0aGF0IHRoZSBsaW1pdCBNYXJrZXJzIGFyZSBjYWxjdWxhdGVkIG5ld1xuICAgIHRoaXMuX3ByZXZlbnRSZW5kZXJpbmdNYXJrZXJzKHRydWUpO1xuICAgIHRoaXMuX3JvdGF0aW9uT3JpZ2luTGF0TG5nID0gdGhpcy5fZ2V0Um90YXRpb25DZW50ZXIoKS5jbG9uZSgpO1xuICAgIHRoaXMuX3JvdGF0aW9uT3JpZ2luUG9pbnQgPSBfdG9Qb2ludCh0aGlzLl9tYXAsIHRoaXMuX3JvdGF0aW9uT3JpZ2luTGF0TG5nKTtcbiAgICB0aGlzLl9yb3RhdGlvblN0YXJ0UG9pbnQgPSBfdG9Qb2ludCh0aGlzLl9tYXAsIGUudGFyZ2V0LmdldExhdExuZygpKTtcbiAgICAvLyB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBpbml0aWFsIGxhdGxuZ3Mgc28gd2UgY2FuIGFsd2F5cyByZS1jYWxjIGZyb20gdGhlIG9yaWdpbiBsYXRsbmdzXG4gICAgdGhpcy5faW5pdGlhbFJvdGF0ZUxhdExuZyA9IGNvcHlMYXRMbmdzKHRoaXMuX2xheWVyKTtcbiAgICB0aGlzLl9zdGFydEFuZ2xlID0gdGhpcy5nZXRBbmdsZSgpO1xuXG4gICAgY29uc3Qgb3JpZ2luTGF0TG5ncyA9IGNvcHlMYXRMbmdzKFxuICAgICAgdGhpcy5fcm90YXRpb25MYXllcixcbiAgICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIucG0uX3JvdGF0ZU9yZ0xhdExuZ1xuICAgICk7XG5cbiAgICB0aGlzLl9maXJlUm90YXRpb25TdGFydCh0aGlzLl9yb3RhdGlvbkxheWVyLCBvcmlnaW5MYXRMbmdzKTtcbiAgICB0aGlzLl9maXJlUm90YXRpb25TdGFydCh0aGlzLl9tYXAsIG9yaWdpbkxhdExuZ3MpO1xuICB9LFxuICBfb25Sb3RhdGUoZSkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gX3RvUG9pbnQodGhpcy5fbWFwLCBlLnRhcmdldC5nZXRMYXRMbmcoKSk7XG4gICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9yb3RhdGlvblN0YXJ0UG9pbnQ7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5fcm90YXRpb25PcmlnaW5Qb2ludDtcblxuICAgIC8vIHJvdGF0aW9uIGRpZmYgYW5nbGUgKHJhZGlhbnQpXG4gICAgY29uc3QgYW5nbGVEaWZmUmFkaWFudCA9XG4gICAgICBNYXRoLmF0YW4yKHBvc2l0aW9uLnkgLSBvcmlnaW4ueSwgcG9zaXRpb24ueCAtIG9yaWdpbi54KSAtXG4gICAgICBNYXRoLmF0YW4yKHByZXZpb3VzLnkgLSBvcmlnaW4ueSwgcHJldmlvdXMueCAtIG9yaWdpbi54KTtcblxuICAgIC8vIHJvdGF0ZSB0aGUgdGVtcCBwb2x5Z29uXG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhcbiAgICAgIHRoaXMuX3JvdGF0ZUxheWVyKFxuICAgICAgICBhbmdsZURpZmZSYWRpYW50LFxuICAgICAgICB0aGlzLl9pbml0aWFsUm90YXRlTGF0TG5nLFxuICAgICAgICB0aGlzLl9yb3RhdGlvbk9yaWdpbkxhdExuZyxcbiAgICAgICAgTC5QTS5NYXRyaXguaW5pdCgpLFxuICAgICAgICB0aGlzLl9tYXBcbiAgICAgIClcbiAgICApO1xuICAgIC8vIG1vdmUgdGhlIGhlbHBlciBtYXJrZXJzXG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgZnVuY3Rpb24gZm9yRWFjaExhdExuZyhsYXRsbmcsIHBhdGggPSBbXSwgX2kgPSAtMSkge1xuICAgICAgaWYgKF9pID4gLTEpIHtcbiAgICAgICAgcGF0aC5wdXNoKF9pKTtcbiAgICAgIH1cbiAgICAgIGlmIChMLlV0aWwuaXNBcnJheShsYXRsbmdbMF0pKSB7XG4gICAgICAgIGxhdGxuZy5mb3JFYWNoKCh4LCBpKSA9PiBmb3JFYWNoTGF0TG5nKHgsIHBhdGguc2xpY2UoKSwgaSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWFya2VycyA9IGdldCh0aGF0Ll9tYXJrZXJzLCBwYXRoKTtcbiAgICAgICAgbGF0bG5nLmZvckVhY2goKF9sYXRsbmcsIGopID0+IHtcbiAgICAgICAgICBjb25zdCBtYXJrZXIgPSBtYXJrZXJzW2pdO1xuICAgICAgICAgIG1hcmtlci5zZXRMYXRMbmcoX2xhdGxuZyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoTGF0TG5nKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSk7XG5cbiAgICBjb25zdCBvbGRMYXRMbmdzID0gY29weUxhdExuZ3ModGhpcy5fcm90YXRpb25MYXllcik7XG4gICAgLy8gcm90YXRlIHRoZSBvcmlnaW4gbGF5ZXJcbiAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnNldExhdExuZ3MoXG4gICAgICB0aGlzLl9yb3RhdGVMYXllcihcbiAgICAgICAgYW5nbGVEaWZmUmFkaWFudCxcbiAgICAgICAgdGhpcy5fcm90YXRpb25MYXllci5wbS5fcm90YXRlT3JnTGF0TG5nLFxuICAgICAgICB0aGlzLl9yb3RhdGlvbk9yaWdpbkxhdExuZyxcbiAgICAgICAgTC5QTS5NYXRyaXguaW5pdCgpLFxuICAgICAgICB0aGlzLl9tYXBcbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gY29udmVydCB0aGUgZGlmZmVyZW5jZSByYWRpYW50IHRvIGRlZ3JlZXMgYW5kIGFkZCBpdCB0byB0aGUgYW5nbGUgYmVmb3JlIHJvdGF0aW9uIHN0YXJ0c1xuICAgIGxldCBhbmdsZURpZmYgPSAoYW5nbGVEaWZmUmFkaWFudCAqIDE4MCkgLyBNYXRoLlBJO1xuICAgIGFuZ2xlRGlmZiA9IGFuZ2xlRGlmZiA8IDAgPyBhbmdsZURpZmYgKyAzNjAgOiBhbmdsZURpZmY7XG4gICAgY29uc3QgYW5nbGUgPSBhbmdsZURpZmYgKyB0aGlzLl9zdGFydEFuZ2xlO1xuICAgIHRoaXMuX3NldEFuZ2xlKGFuZ2xlKTtcbiAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLl9zZXRBbmdsZShhbmdsZSk7XG5cbiAgICB0aGlzLl9maXJlUm90YXRpb24odGhpcy5fcm90YXRpb25MYXllciwgYW5nbGVEaWZmLCBvbGRMYXRMbmdzKTtcbiAgICB0aGlzLl9maXJlUm90YXRpb24odGhpcy5fbWFwLCBhbmdsZURpZmYsIG9sZExhdExuZ3MpO1xuICAgIHRoaXMuX3JvdGF0aW9uTGF5ZXIucG0uX2ZpcmVDaGFuZ2UoXG4gICAgICB0aGlzLl9yb3RhdGlvbkxheWVyLmdldExhdExuZ3MoKSxcbiAgICAgICdSb3RhdGlvbidcbiAgICApO1xuICB9LFxuICBfb25Sb3RhdGVFbmQoKSB7XG4gICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuX3N0YXJ0QW5nbGU7XG4gICAgZGVsZXRlIHRoaXMuX3JvdGF0aW9uT3JpZ2luTGF0TG5nO1xuICAgIGRlbGV0ZSB0aGlzLl9yb3RhdGlvbk9yaWdpblBvaW50O1xuICAgIGRlbGV0ZSB0aGlzLl9yb3RhdGlvblN0YXJ0UG9pbnQ7XG4gICAgZGVsZXRlIHRoaXMuX2luaXRpYWxSb3RhdGVMYXRMbmc7XG4gICAgZGVsZXRlIHRoaXMuX3N0YXJ0QW5nbGU7XG5cbiAgICBjb25zdCBvcmlnaW5MYXRMbmdzID0gY29weUxhdExuZ3MoXG4gICAgICB0aGlzLl9yb3RhdGlvbkxheWVyLFxuICAgICAgdGhpcy5fcm90YXRpb25MYXllci5wbS5fcm90YXRlT3JnTGF0TG5nXG4gICAgKTtcbiAgICAvLyBzdG9yZSB0aGUgbmV3IGxhdGxuZ3NcbiAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLl9yb3RhdGVPcmdMYXRMbmcgPSBjb3B5TGF0TG5ncyh0aGlzLl9yb3RhdGlvbkxheWVyKTtcblxuICAgIHRoaXMuX2ZpcmVSb3RhdGlvbkVuZCh0aGlzLl9yb3RhdGlvbkxheWVyLCBzdGFydEFuZ2xlLCBvcmlnaW5MYXRMbmdzKTtcbiAgICB0aGlzLl9maXJlUm90YXRpb25FbmQodGhpcy5fbWFwLCBzdGFydEFuZ2xlLCBvcmlnaW5MYXRMbmdzKTtcbiAgICB0aGlzLl9yb3RhdGlvbkxheWVyLnBtLl9maXJlRWRpdCh0aGlzLl9yb3RhdGlvbkxheWVyLCAnUm90YXRpb24nKTtcblxuICAgIHRoaXMuX3ByZXZlbnRSZW5kZXJpbmdNYXJrZXJzKGZhbHNlKTtcblxuICAgIHRoaXMuX2xheWVyUm90YXRlZCA9IHRydWU7XG4gIH0sXG4gIF9yb3RhdGVMYXllcihyYWRpYW50LCBsYXRsbmdzLCBvcmlnaW4sIF9tYXRyaXgsIG1hcCkge1xuICAgIGNvbnN0IG9yaWdpblBvaW50ID0gX3RvUG9pbnQobWFwLCBvcmlnaW4pO1xuICAgIHRoaXMuX21hdHJpeCA9IF9tYXRyaXguY2xvbmUoKS5yb3RhdGUocmFkaWFudCwgb3JpZ2luUG9pbnQpLmZsaXAoKTtcbiAgICByZXR1cm4gX2NvbnZlcnRMYXRMbmdzKGxhdGxuZ3MsIHRoaXMuX21hdHJpeCwgbWFwKTtcbiAgfSxcbiAgX3NldEFuZ2xlKGFuZ2xlKSB7XG4gICAgYW5nbGUgPSBhbmdsZSA8IDAgPyBhbmdsZSArIDM2MCA6IGFuZ2xlO1xuICAgIHRoaXMuX2FuZ2xlID0gYW5nbGUgJSAzNjA7XG4gIH0sXG4gIF9nZXRSb3RhdGlvbkNlbnRlcigpIHtcbiAgICBpZiAodGhpcy5fcm90YXRpb25DZW50ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbkNlbnRlcjtcbiAgICB9XG5cbiAgICBjb25zdCBwb2x5Z29uID0gTC5wb2x5Z29uKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwge1xuICAgICAgc3Ryb2tlOiBmYWxzZSxcbiAgICAgIGZpbGw6IGZhbHNlLFxuICAgICAgcG1JZ25vcmU6IHRydWUsXG4gICAgfSkuYWRkVG8odGhpcy5fbGF5ZXIuX21hcCk7XG4gICAgY29uc3QgY2VudGVyID0gcG9seWdvbi5nZXRDZW50ZXIoKTtcbiAgICBwb2x5Z29uLnJlbW92ZUZyb20odGhpcy5fbGF5ZXIuX21hcCk7XG4gICAgcmV0dXJuIGNlbnRlcjtcbiAgfSxcblxuICAvKlxuICAgKlxuICAgKiBQdWJsaWMgZnVuY3Rpb25zIGYuZXguIHRvIGRpc2FibGUgYW5kIGVuYWJsZSByb3RhdGlvbiBvbiB0aGUgbGF5ZXIgZGlyZWN0bHlcbiAgICpcbiAgICovXG4gIGVuYWJsZVJvdGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1JvdGF0aW9uKSB7XG4gICAgICB0aGlzLmRpc2FibGVSb3RhdGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yb3RhdGVFbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZVJvdGF0ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuUmVjdGFuZ2xlICYmIHRoaXMuX2FuZ2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0SW5pdEFuZ2xlKFxuICAgICAgICBjYWxjQW5nbGUoXG4gICAgICAgICAgdGhpcy5fbGF5ZXIuX21hcCxcbiAgICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF1bMF0sXG4gICAgICAgICAgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdWzFdXG4gICAgICAgICkgfHwgMFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBXZSBjcmVhdGUgYW4gaGlkZGVuIHBvbHlnb24uIFdlIHNldCBwbUlnbm9yZSB0byBmYWxzZSwgc28gdGhhdCB0aGUgYHBtYCBwcm9wZXJ0eSB3aWxsIGJlIGFsd2F5cyBjcmVhdGUsIGFsc28gaWYgT3B0SW4gPT0gdHJ1ZVxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBmaWxsOiBmYWxzZSxcbiAgICAgIHN0cm9rZTogZmFsc2UsXG4gICAgICBwbUlnbm9yZTogZmFsc2UsXG4gICAgICBzbmFwSWdub3JlOiB0cnVlLFxuICAgIH07XG5cbiAgICAvLyB3ZSBjcmVhdGUgYSB0ZW1wIHBvbHlnb24gZm9yIHJvdGF0aW9uXG4gICAgdGhpcy5fcm90YXRlUG9seSA9IEwucG9seWdvbih0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9yb3RhdGVQb2x5LmFkZFRvKHRoaXMuX2xheWVyLl9tYXApO1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uX3NldEFuZ2xlKHRoaXMuZ2V0QW5nbGUoKSk7XG4gICAgdGhpcy5fcm90YXRlUG9seS5wbS5zZXRSb3RhdGlvbkNlbnRlcih0aGlzLmdldFJvdGF0aW9uQ2VudGVyKCkpO1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uc2V0T3B0aW9ucyh0aGlzLl9sYXllci5fbWFwLnBtLmdldEdsb2JhbE9wdGlvbnMoKSk7XG4gICAgdGhpcy5fcm90YXRlUG9seS5wbS5zZXRPcHRpb25zKHtcbiAgICAgIHJvdGF0ZTogdHJ1ZSxcbiAgICAgIHNuYXBwYWJsZTogZmFsc2UsXG4gICAgICBoaWRlTWlkZGxlTWFya2VyczogdHJ1ZSxcbiAgICB9KTtcbiAgICAvLyB3ZSBjb25uZWN0IHRoZSB0ZW1wIHBvbHlnb24gKHRoYXQgd2lsbCBiZSBlbmFibGVkIGZvciByb3RhdGlvbikgd2l0aCB0aGUgY3VycmVudCBsYXllciwgc28gdGhhdCB3ZSBjYW4gcm90YXRlIHRoZSBjdXJyZW50IGxheWVyIHRvb1xuICAgIHRoaXMuX3JvdGF0ZVBvbHkucG0uX3JvdGF0aW9uTGF5ZXIgPSB0aGlzLl9sYXllcjtcbiAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLmVuYWJsZSgpO1xuXG4gICAgLy8gc3RvcmUgdGhlIG9yaWdpbmFsIGxhdGxuZ3NcbiAgICB0aGlzLl9yb3RhdGVPcmdMYXRMbmcgPSBjb3B5TGF0TG5ncyh0aGlzLl9sYXllcik7XG5cbiAgICB0aGlzLl9yb3RhdGVFbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuX2xheWVyLm9uKCdyZW1vdmUnLCB0aGlzLmRpc2FibGVSb3RhdGUsIHRoaXMpO1xuXG4gICAgdGhpcy5fZmlyZVJvdGF0aW9uRW5hYmxlKHRoaXMuX2xheWVyKTtcbiAgICAvLyB3ZSBuZWVkIHRvIHVzZSB0aGlzLl9sYXllci5fbWFwIGJlY2F1c2UgdGhpcy5fbWFwIGNhbiBiZSB1bmRlZmluZWQgaWYgbGF5ZXIgd2FzIG5ldmVyIGVuYWJsZWQgZm9yIGVkaXRpbmcgYmVmb3JlXG4gICAgdGhpcy5fZmlyZVJvdGF0aW9uRW5hYmxlKHRoaXMuX2xheWVyLl9tYXApO1xuICB9LFxuICBkaXNhYmxlUm90YXRlKCkge1xuICAgIGlmICh0aGlzLnJvdGF0ZUVuYWJsZWQoKSkge1xuICAgICAgaWYgKHRoaXMuX3JvdGF0ZVBvbHkucG0uX2xheWVyUm90YXRlZCkge1xuICAgICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLl9sYXllclJvdGF0ZWQgPSBmYWxzZTtcbiAgICAgIC8vIGRlbGV0ZSB0aGUgdGVtcCBwb2x5Z29uXG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuX3JvdGF0ZVBvbHkucmVtb3ZlKCk7XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLnNldE9wdGlvbnMoeyByb3RhdGU6IGZhbHNlIH0pO1xuICAgICAgdGhpcy5fcm90YXRlUG9seSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX3JvdGF0ZU9yZ0xhdExuZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5fbGF5ZXIub2ZmKCdyZW1vdmUnLCB0aGlzLmRpc2FibGVSb3RhdGUsIHRoaXMpO1xuXG4gICAgICB0aGlzLl9yb3RhdGVFbmFibGVkID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuX2ZpcmVSb3RhdGlvbkRpc2FibGUodGhpcy5fbGF5ZXIpO1xuICAgICAgLy8gd2UgbmVlZCB0byB1c2UgdGhpcy5fbGF5ZXIuX21hcCBiZWNhdXNlIHRoaXMuX21hcCBjYW4gYmUgdW5kZWZpbmVkIGlmIGxheWVyIHdhcyBuZXZlciBlbmFibGVkIGZvciBlZGl0aW5nIGJlZm9yZVxuICAgICAgdGhpcy5fZmlyZVJvdGF0aW9uRGlzYWJsZSh0aGlzLl9sYXllci5fbWFwKTtcbiAgICB9XG4gIH0sXG4gIHJvdGF0ZUVuYWJsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fcm90YXRlRW5hYmxlZDtcbiAgfSxcbiAgLy8gYW5nbGUgaXMgY2xvY2t3aXNlICgwLTM2MClcbiAgcm90YXRlTGF5ZXIoZGVncmVlcykge1xuICAgIGNvbnN0IG9sZEFuZ2xlID0gdGhpcy5nZXRBbmdsZSgpO1xuICAgIGNvbnN0IG9sZExhdExuZ3MgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG4gICAgY29uc3QgcmFkcyA9IGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhcbiAgICAgIHRoaXMuX3JvdGF0ZUxheWVyKFxuICAgICAgICByYWRzLFxuICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksXG4gICAgICAgIHRoaXMuX2dldFJvdGF0aW9uQ2VudGVyKCksXG4gICAgICAgIEwuUE0uTWF0cml4LmluaXQoKSxcbiAgICAgICAgdGhpcy5fbGF5ZXIuX21hcFxuICAgICAgKVxuICAgICk7XG4gICAgLy8gc3RvcmUgdGhlIG5ldyBsYXRsbmdzXG4gICAgdGhpcy5fcm90YXRlT3JnTGF0TG5nID0gTC5wb2x5Z29uKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSkuZ2V0TGF0TG5ncygpO1xuICAgIHRoaXMuX3NldEFuZ2xlKHRoaXMuZ2V0QW5nbGUoKSArIGRlZ3JlZXMpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucm90YXRlRW5hYmxlZCgpICYmXG4gICAgICB0aGlzLl9yb3RhdGVQb2x5ICYmXG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLmVuYWJsZWQoKVxuICAgICkge1xuICAgICAgdGhpcy5fcm90YXRlUG9seS5zZXRMYXRMbmdzKFxuICAgICAgICB0aGlzLl9yb3RhdGVMYXllcihcbiAgICAgICAgICByYWRzLFxuICAgICAgICAgIHRoaXMuX3JvdGF0ZVBvbHkuZ2V0TGF0TG5ncygpLFxuICAgICAgICAgIHRoaXMuX2dldFJvdGF0aW9uQ2VudGVyKCksXG4gICAgICAgICAgTC5QTS5NYXRyaXguaW5pdCgpLFxuICAgICAgICAgIHRoaXMuX3JvdGF0ZVBvbHkuX21hcFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhpcy5fcm90YXRlUG9seS5wbS5faW5pdE1hcmtlcnMoKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBmb3IgbmVnYXRpdmUgYW5nbGUgY2hhbmdlIHRoZSBkaWZmZXJlbmNlIGlzIGFsd2F5cyAoMzYwIC0gYW5nbGUpLCBkbyB3ZSB3YW50IHRoaXM/XG4gICAgbGV0IGFuZ2xlRGlmZiA9IHRoaXMuZ2V0QW5nbGUoKSAtIG9sZEFuZ2xlO1xuICAgIGFuZ2xlRGlmZiA9IGFuZ2xlRGlmZiA8IDAgPyBhbmdsZURpZmYgKyAzNjAgOiBhbmdsZURpZmY7XG5cbiAgICB0aGlzLl9zdGFydEFuZ2xlID0gb2xkQW5nbGU7XG4gICAgdGhpcy5fZmlyZVJvdGF0aW9uKHRoaXMuX2xheWVyLCBhbmdsZURpZmYsIG9sZExhdExuZ3MsIHRoaXMuX2xheWVyKTtcbiAgICB0aGlzLl9maXJlUm90YXRpb24oXG4gICAgICB0aGlzLl9tYXAgfHwgdGhpcy5fbGF5ZXIuX21hcCxcbiAgICAgIGFuZ2xlRGlmZixcbiAgICAgIG9sZExhdExuZ3MsXG4gICAgICB0aGlzLl9sYXllclxuICAgICk7XG4gICAgZGVsZXRlIHRoaXMuX3N0YXJ0QW5nbGU7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksICdSb3RhdGlvbicpO1xuICB9LFxuICByb3RhdGVMYXllclRvQW5nbGUoZGVncmVlcykge1xuICAgIGNvbnN0IG5ld0FubGdlID0gZGVncmVlcyAtIHRoaXMuZ2V0QW5nbGUoKTtcbiAgICB0aGlzLnJvdGF0ZUxheWVyKG5ld0FubGdlKTtcbiAgfSxcbiAgLy8gYW5nbGUgaXMgY2xvY2t3aXNlICgwLTM2MClcbiAgZ2V0QW5nbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FuZ2xlIHx8IDA7XG4gIH0sXG4gIC8vIGFuZ2xlIGlzIGNsb2Nrd2lzZSAoMC0zNjApXG4gIHNldEluaXRBbmdsZShkZWdyZWVzKSB7XG4gICAgdGhpcy5fc2V0QW5nbGUoZGVncmVlcyk7XG4gIH0sXG4gIGdldFJvdGF0aW9uQ2VudGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRSb3RhdGlvbkNlbnRlcigpO1xuICB9LFxuICBzZXRSb3RhdGlvbkNlbnRlcihjZW50ZXIpIHtcbiAgICB0aGlzLl9yb3RhdGlvbkNlbnRlciA9IGNlbnRlcjtcblxuICAgIGlmICh0aGlzLl9yb3RhdGVQb2x5KSB7XG4gICAgICB0aGlzLl9yb3RhdGVQb2x5LnBtLnNldFJvdGF0aW9uQ2VudGVyKGNlbnRlcik7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgUm90YXRlTWl4aW47XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIF9jb252ZXJ0TGF0TG5nKGxhdGxuZywgbWF0cml4LCBtYXAsIHpvb20pIHtcbiAgcmV0dXJuIG1hcC51bnByb2plY3QobWF0cml4LnRyYW5zZm9ybShtYXAucHJvamVjdChsYXRsbmcsIHpvb20pKSwgem9vbSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfY29udmVydExhdExuZ3MobGF0bG5nLCBtYXRyaXgsIG1hcCkge1xuICBsZXQgem9vbSA9IG1hcC5nZXRNYXhab29tKCk7XG4gIGlmICh6b29tID09PSBJbmZpbml0eSkge1xuICAgIHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuICB9XG4gIGlmIChMLlV0aWwuaXNBcnJheShsYXRsbmcpKSB7XG4gICAgY29uc3QgbGF0bG5ncyA9IFtdO1xuICAgIGxhdGxuZy5mb3JFYWNoKCh4KSA9PiB7XG4gICAgICBsYXRsbmdzLnB1c2goX2NvbnZlcnRMYXRMbmdzKHgsIG1hdHJpeCwgbWFwKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxhdGxuZ3M7XG4gIH1cbiAgaWYgKGxhdGxuZyBpbnN0YW5jZW9mIEwuTGF0TG5nKSB7XG4gICAgcmV0dXJuIF9jb252ZXJ0TGF0TG5nKGxhdGxuZywgbWF0cml4LCBtYXAsIHpvb20pO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3RvUG9pbnQobWFwLCBsYXRsbmcpIHtcbiAgaWYgKGxhdGxuZyBpbnN0YW5jZW9mIEwuTGF5ZXIpIHtcbiAgICBsYXRsbmcgPSBsYXRsbmcuZ2V0TGF0TG5nKCk7XG4gIH1cbiAgbGV0IHpvb20gPSBtYXAuZ2V0TWF4Wm9vbSgpO1xuICBpZiAoem9vbSA9PT0gSW5maW5pdHkpIHtcbiAgICB6b29tID0gbWFwLmdldFpvb20oKTtcbiAgfVxuICByZXR1cm4gbWFwLnByb2plY3QobGF0bG5nLCB6b29tKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF90b0xhdExuZyhtYXAsIHBvaW50KSB7XG4gIGxldCB6b29tID0gbWFwLmdldE1heFpvb20oKTtcbiAgaWYgKHpvb20gPT09IEluZmluaXR5KSB7XG4gICAgem9vbSA9IG1hcC5nZXRab29tKCk7XG4gIH1cbiAgcmV0dXJuIG1hcC51bnByb2plY3QocG9pbnQsIHpvb20pO1xufVxuIiwgImltcG9ydCBTbmFwTWl4aW4gZnJvbSAnLi4vTWl4aW5zL1NuYXBwaW5nJztcbmltcG9ydCBEcmFnTWl4aW4gZnJvbSAnLi4vTWl4aW5zL0RyYWdnaW5nJztcbmltcG9ydCBSb3RhdGVNaXhpbiBmcm9tICcuLi9NaXhpbnMvUm90YXRpbmcnO1xuaW1wb3J0IEV2ZW50TWl4aW4gZnJvbSAnLi4vTWl4aW5zL0V2ZW50cyc7XG5cbmNvbnN0IEVkaXQgPSBMLkNsYXNzLmV4dGVuZCh7XG4gIGluY2x1ZGVzOiBbRHJhZ01peGluLCBTbmFwTWl4aW4sIFJvdGF0ZU1peGluLCBFdmVudE1peGluXSxcbiAgb3B0aW9uczoge1xuICAgIHNuYXBwYWJsZTogdHJ1ZSwgLy8gVE9ETzogbmV4dCBtYWpvciBSZWxlYXNlLCByZW5hbWUgaXQgdG8gYWxsb3dTbmFwcGluZ1xuICAgIHNuYXBEaXN0YW5jZTogMjAsXG4gICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiB0cnVlLFxuICAgIGFsbG93U2VsZkludGVyc2VjdGlvbkVkaXQ6IGZhbHNlLFxuICAgIHByZXZlbnRNYXJrZXJSZW1vdmFsOiBmYWxzZSxcbiAgICByZW1vdmVMYXllckJlbG93TWluVmVydGV4Q291bnQ6IHRydWUsXG4gICAgbGltaXRNYXJrZXJzVG9Db3VudDogLTEsXG4gICAgaGlkZU1pZGRsZU1hcmtlcnM6IGZhbHNlLFxuICAgIHNuYXBTZWdtZW50OiB0cnVlLFxuICAgIHN5bmNMYXllcnNPbkRyYWc6IGZhbHNlLFxuICAgIGRyYWdnYWJsZTogdHJ1ZSwgLy8gVE9ETzogbmV4dCBtYWpvciBSZWxlYXNlLCByZW5hbWUgaXQgdG8gYWxsb3dEcmFnZ2luZ1xuICAgIGFsbG93RWRpdGluZzogdHJ1ZSwgLy8gZGlzYWJsZSBhbGwgaW50ZXJhY3Rpb25zIG9uIGEgbGF5ZXIgd2hpY2ggYXJlIGFjdGl2YXRlZCB3aXRoIGBlbmFibGUoKWAuIEZvciBleGFtcGxlIGEgQ2lyY2xlIGNhbid0IGJlIGRyYWdnZWQgaW4gRWRpdC1Nb2RlXG4gICAgYWxsb3dSZW1vdmFsOiB0cnVlLFxuICAgIGFsbG93Q3V0dGluZzogdHJ1ZSxcbiAgICBhbGxvd1JvdGF0aW9uOiB0cnVlLFxuICAgIGFkZFZlcnRleE9uOiAnY2xpY2snLFxuICAgIHJlbW92ZVZlcnRleE9uOiAnY29udGV4dG1lbnUnLFxuICAgIHJlbW92ZVZlcnRleFZhbGlkYXRpb246IHVuZGVmaW5lZCxcbiAgICBhZGRWZXJ0ZXhWYWxpZGF0aW9uOiB1bmRlZmluZWQsXG4gICAgbW92ZVZlcnRleFZhbGlkYXRpb246IHVuZGVmaW5lZCxcbiAgICByZXNpemVhYmxlQ2lyY2xlTWFya2VyOiBmYWxzZSxcbiAgICByZXNpemFibGVDaXJjbGU6IHRydWUsXG4gIH0sXG4gIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICB9LFxuICBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gIH0sXG4gIGFwcGx5T3B0aW9ucygpIHt9LFxuICBpc1BvbHlnb24oKSB7XG4gICAgLy8gaWYgaXQncyBhIHBvbHlnb24sIGl0IG1lYW5zIHRoZSBjb29yZGluYXRlcyBhcnJheSBpcyBtdWx0aSBkaW1lbnNpb25hbFxuICAgIHJldHVybiB0aGlzLl9sYXllciBpbnN0YW5jZW9mIEwuUG9seWdvbjtcbiAgfSxcbiAgZ2V0U2hhcGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NoYXBlO1xuICB9LFxuICBfc2V0UGFuZShsYXllciwgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSAnbGF5ZXJQYW5lJykge1xuICAgICAgbGF5ZXIub3B0aW9ucy5wYW5lID1cbiAgICAgICAgKHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzICYmXG4gICAgICAgICAgdGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMubGF5ZXJQYW5lKSB8fFxuICAgICAgICAnb3ZlcmxheVBhbmUnO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZlcnRleFBhbmUnKSB7XG4gICAgICBsYXllci5vcHRpb25zLnBhbmUgPVxuICAgICAgICAodGhpcy5fbWFwLnBtLmdsb2JhbE9wdGlvbnMucGFuZXMgJiZcbiAgICAgICAgICB0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcy52ZXJ0ZXhQYW5lKSB8fFxuICAgICAgICAnbWFya2VyUGFuZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnbWFya2VyUGFuZScpIHtcbiAgICAgIGxheWVyLm9wdGlvbnMucGFuZSA9XG4gICAgICAgICh0aGlzLl9tYXAucG0uZ2xvYmFsT3B0aW9ucy5wYW5lcyAmJlxuICAgICAgICAgIHRoaXMuX21hcC5wbS5nbG9iYWxPcHRpb25zLnBhbmVzLm1hcmtlclBhbmUpIHx8XG4gICAgICAgICdtYXJrZXJQYW5lJztcbiAgICB9XG4gIH0sXG4gIHJlbW92ZSgpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXAgfHwgdGhpcy5fbGF5ZXIuX21hcDtcbiAgICBtYXAucG0ucmVtb3ZlTGF5ZXIoeyB0YXJnZXQ6IHRoaXMuX2xheWVyIH0pO1xuICB9LFxuICBfdmVydGV4VmFsaWRhdGlvbih0eXBlLCBlKSB7XG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG4gICAgY29uc3QgYXJncyA9IHsgbGF5ZXI6IHRoaXMuX2xheWVyLCBtYXJrZXIsIGV2ZW50OiBlIH07XG5cbiAgICBsZXQgdmFsaWRhdGlvbkZuYyA9ICcnO1xuICAgIGlmICh0eXBlID09PSAnbW92ZScpIHtcbiAgICAgIHZhbGlkYXRpb25GbmMgPSAnbW92ZVZlcnRleFZhbGlkYXRpb24nO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FkZCcpIHtcbiAgICAgIHZhbGlkYXRpb25GbmMgPSAnYWRkVmVydGV4VmFsaWRhdGlvbic7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVtb3ZlJykge1xuICAgICAgdmFsaWRhdGlvbkZuYyA9ICdyZW1vdmVWZXJ0ZXhWYWxpZGF0aW9uJztcbiAgICB9XG5cbiAgICAvLyBpZiB2YWxpZGF0aW9uIGdvZXMgd3JvbmcsIHdlIHJldHVybiBmYWxzZVxuICAgIGlmIChcbiAgICAgIHRoaXMub3B0aW9uc1t2YWxpZGF0aW9uRm5jXSAmJlxuICAgICAgdHlwZW9mIHRoaXMub3B0aW9uc1t2YWxpZGF0aW9uRm5jXSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgIXRoaXMub3B0aW9uc1t2YWxpZGF0aW9uRm5jXShhcmdzKVxuICAgICkge1xuICAgICAgaWYgKHR5cGUgPT09ICdtb3ZlJykge1xuICAgICAgICBtYXJrZXIuX2NhbmNlbERyYWdFdmVudENoYWluID0gbWFya2VyLmdldExhdExuZygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4gPSBudWxsO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBfdmVydGV4VmFsaWRhdGlvbkRyYWcobWFya2VyKSB7XG4gICAgLy8gd2UgcmVzZXQgdGhlIG1hcmtlciB0byB0aGUgcGxhY2UgYmVmb3JlIGl0IHdhcyBkcmFnZ2VkLiBXZSBuZWVkIHRoaXMsIGJlY2F1c2Ugd2UgY2FuJ3Qgc3RvcCB0aGUgZHJhZyBwcm9jZXNzIGluIGEgYGRyYWdzdGFydGAgfCBgbW92ZXN0YXJ0YCBsaXN0ZW5lclxuICAgIGlmIChtYXJrZXIuX2NhbmNlbERyYWdFdmVudENoYWluKSB7XG4gICAgICBtYXJrZXIuX2xhdGxuZyA9IG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW47XG4gICAgICBtYXJrZXIudXBkYXRlKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBfdmVydGV4VmFsaWRhdGlvbkRyYWdFbmQobWFya2VyKSB7XG4gICAgaWYgKG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4pIHtcbiAgICAgIG1hcmtlci5fY2FuY2VsRHJhZ0V2ZW50Q2hhaW4gPSBudWxsO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBFZGl0O1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuLy8gTGF5ZXJHcm91cCBkb2Vzbid0IGluaGVyaXQgZnJvbSBMLlBNLkVkaXQgYmVjYXVzZSBpdCdzIGp1c3QgY2FsbGluZyBMLlBNLkVkaXQuUG9seWdvblxuLy8gKHdoaWNoIGluaGVyaXRzIGZyb20gTC5QTS5FZGl0KSBmb3IgZWFjaCBsYXllcixcbi8vIHNvIGl0J3Mgbm90IHJlYWxseSBhIHBhcmVudCBjbGFzc1xuRWRpdC5MYXllckdyb3VwID0gTC5DbGFzcy5leHRlbmQoe1xuICBpbml0aWFsaXplKGxheWVyR3JvdXApIHtcbiAgICB0aGlzLl9sYXllckdyb3VwID0gbGF5ZXJHcm91cDtcbiAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIHRoaXMuX2dldE1hcCgpO1xuXG4gICAgLy8gaW5pdCBhbGwgbGF5ZXJzIG9mIHRoZSBncm91cFxuICAgIHRoaXMuX2xheWVycy5mb3JFYWNoKChsYXllcikgPT4gdGhpcy5faW5pdExheWVyKGxheWVyKSk7XG5cbiAgICAvLyBpZiBhIG5ldyBsYXllciBpcyBhZGRlZCB0byB0aGUgZ3JvdXAsIHJlaW5pdGlhbGl6ZVxuICAgIC8vIFRoaXMgb25seSB3b3JrcyBmb3IgRmVhdHVyZUdyb3Vwcywgbm90IExheWVyR3JvdXBzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvNDg2MVxuXG4gICAgY29uc3QgYWRkVGhyb3R0bGUgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUubGF5ZXIuX3BtVGVtcExheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgICBjb25zdCBfaW5pdExheWVycyA9IHRoaXMuX2xheWVycy5maWx0ZXIoXG4gICAgICAgIChsYXllcikgPT5cbiAgICAgICAgICAhbGF5ZXIucG0uX3BhcmVudExheWVyR3JvdXAgfHxcbiAgICAgICAgICAhKHRoaXMuX2xheWVyR3JvdXAuX2xlYWZsZXRfaWQgaW4gbGF5ZXIucG0uX3BhcmVudExheWVyR3JvdXApXG4gICAgICApO1xuICAgICAgLy8gaW5pdCB0aGUgbmV3bHkgYWRkZWQgbGF5ZXJzIChjYW4gYmUgbXVsdGlwbGUgYmVjYXVzZSBvZiB0aGUgdGhyb3R0bGUpXG4gICAgICBfaW5pdExheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICB0aGlzLl9pbml0TGF5ZXIobGF5ZXIpO1xuICAgICAgfSk7XG4gICAgICAvLyBpZiBlZGl0aW5nIHdhcyBhbHJlYWR5IGVuYWJsZWQgZm9yIHRoaXMgZ3JvdXAsIGVuYWJsZSBpdCBhZ2FpblxuICAgICAgLy8gc28gdGhlIG5ldyBsYXllcnMgYXJlIGVuYWJsZWRcbiAgICAgIGlmIChcbiAgICAgICAgX2luaXRMYXllcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICB0aGlzLl9nZXRNYXAoKSAmJlxuICAgICAgICB0aGlzLl9nZXRNYXAoKS5wbS5nbG9iYWxFZGl0TW9kZUVuYWJsZWQoKVxuICAgICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgICAgIHRoaXMuZW5hYmxlKHRoaXMuZ2V0T3B0aW9ucygpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5fbGF5ZXJHcm91cC5vbihcbiAgICAgICdsYXllcmFkZCcsXG4gICAgICBMLlV0aWwudGhyb3R0bGUoYWRkVGhyb3R0bGUsIDEwMCwgdGhpcyksXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8vIFJlbW92ZSB0aGUgbGF5ZXJncm91cCBmcm9tIHRoZSBsYXllclxuICAgIHRoaXMuX2xheWVyR3JvdXAub24oXG4gICAgICAnbGF5ZXJyZW1vdmUnLFxuICAgICAgKGUpID0+IHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlTGF5ZXJGcm9tR3JvdXAoZS50YXJnZXQpO1xuICAgICAgfSxcbiAgICAgIHRoaXNcbiAgICApO1xuXG4gICAgY29uc3QgcmVtb3ZlVGhyb3R0bGUgPSAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0Ll9wbVRlbXBMYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIH07XG4gICAgLy8gaWYgYSBsYXllciBpcyByZW1vdmVkIGZyb20gdGhlIGdyb3VwLCBjYWxjIHRoZSBsYXllcnMgbGlzdCBhZ2Fpbi5cbiAgICAvLyB3ZSBydW4gdGhpcyBhcyB0aHJvdHRsZSBiZWNhdXNlIHRoZSBmaW5kTGF5ZXJzKCkgaXMgYSBsYXJnZXIgZnVuY3Rpb25cbiAgICB0aGlzLl9sYXllckdyb3VwLm9uKFxuICAgICAgJ2xheWVycmVtb3ZlJyxcbiAgICAgIEwuVXRpbC50aHJvdHRsZShyZW1vdmVUaHJvdHRsZSwgMTAwLCB0aGlzKSxcbiAgICAgIHRoaXNcbiAgICApO1xuICB9LFxuICBlbmFibGUob3B0aW9ucywgX2xheWVySWRzID0gW10pIHtcbiAgICBpZiAoX2xheWVySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICB9XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5fbGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgICAgaWYgKF9sYXllcklkcy5pbmRleE9mKGxheWVyLl9sZWFmbGV0X2lkKSA9PT0gLTEpIHtcbiAgICAgICAgICBfbGF5ZXJJZHMucHVzaChsYXllci5fbGVhZmxldF9pZCk7XG4gICAgICAgICAgbGF5ZXIucG0uZW5hYmxlKG9wdGlvbnMsIF9sYXllcklkcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLnBtLmVuYWJsZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgZGlzYWJsZShfbGF5ZXJJZHMgPSBbXSkge1xuICAgIGlmIChfbGF5ZXJJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIH1cbiAgICB0aGlzLl9sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICBpZiAoX2xheWVySWRzLmluZGV4T2YobGF5ZXIuX2xlYWZsZXRfaWQpID09PSAtMSkge1xuICAgICAgICAgIF9sYXllcklkcy5wdXNoKGxheWVyLl9sZWFmbGV0X2lkKTtcbiAgICAgICAgICBsYXllci5wbS5kaXNhYmxlKF9sYXllcklkcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLnBtLmRpc2FibGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgZW5hYmxlZChfbGF5ZXJJZHMgPSBbXSkge1xuICAgIGlmIChfbGF5ZXJJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9sYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIH1cbiAgICBjb25zdCBlbmFibGVkID0gdGhpcy5fbGF5ZXJzLmZpbmQoKGxheWVyKSA9PiB7XG4gICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgICAgaWYgKF9sYXllcklkcy5pbmRleE9mKGxheWVyLl9sZWFmbGV0X2lkKSA9PT0gLTEpIHtcbiAgICAgICAgICBfbGF5ZXJJZHMucHVzaChsYXllci5fbGVhZmxldF9pZCk7XG4gICAgICAgICAgcmV0dXJuIGxheWVyLnBtLmVuYWJsZWQoX2xheWVySWRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVuYWJsZWQgaXMgYWxyZWFkeSByZXR1cm5lZCBiZWNhdXNlIHRoaXMgaXMgbm90IHRoZSBmaXJzdCB0aW1lLCBzbyB3ZSBjYW4gcmV0dXJuIGFsd2F5cyBmYWxzZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGxheWVyLnBtLmVuYWJsZWQoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gISFlbmFibGVkO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMsIF9sYXllcklkcyA9IFtdKSB7XG4gICAgaWYgKF9sYXllcklkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2xheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgfVxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuX2xheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICAgIGlmIChfbGF5ZXJJZHMuaW5kZXhPZihsYXllci5fbGVhZmxldF9pZCkgPT09IC0xKSB7XG4gICAgICAgICAgX2xheWVySWRzLnB1c2gobGF5ZXIuX2xlYWZsZXRfaWQpO1xuICAgICAgICAgIGxheWVyLnBtLnRvZ2dsZUVkaXQob3B0aW9ucywgX2xheWVySWRzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXIucG0udG9nZ2xlRWRpdChvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgX2luaXRMYXllcihsYXllcikge1xuICAgIC8vIGFkZCByZWZlcmVuY2UgZm9yIHRoZSBncm91cCB0byBlYWNoIGxheWVyIGluc2lkZSBzYWlkIGdyb3VwIGJ5IGlkLCBhIGxheWVyIGNhbiBoYXZlIG11bHRpcGxlIGdyb3Vwc1xuICAgIGNvbnN0IGlkID0gTC5VdGlsLnN0YW1wKHRoaXMuX2xheWVyR3JvdXApO1xuICAgIGlmICghbGF5ZXIucG0uX3BhcmVudExheWVyR3JvdXApIHtcbiAgICAgIGxheWVyLnBtLl9wYXJlbnRMYXllckdyb3VwID0ge307XG4gICAgfVxuICAgIGxheWVyLnBtLl9wYXJlbnRMYXllckdyb3VwW2lkXSA9IHRoaXMuX2xheWVyR3JvdXA7XG4gIH0sXG4gIF9yZW1vdmVMYXllckZyb21Hcm91cChsYXllcikge1xuICAgIGlmIChsYXllci5wbSAmJiBsYXllci5wbS5fbGF5ZXJHcm91cCkge1xuICAgICAgY29uc3QgaWQgPSBMLlV0aWwuc3RhbXAodGhpcy5fbGF5ZXJHcm91cCk7XG4gICAgICBkZWxldGUgbGF5ZXIucG0uX2xheWVyR3JvdXBbaWRdO1xuICAgIH1cbiAgfSxcbiAgZHJhZ2dpbmcoKSB7XG4gICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICBpZiAodGhpcy5fbGF5ZXJzKSB7XG4gICAgICBjb25zdCBkcmFnZ2luZyA9IHRoaXMuX2xheWVycy5maW5kKChsYXllcikgPT4gbGF5ZXIucG0uZHJhZ2dpbmcoKSk7XG4gICAgICByZXR1cm4gISFkcmFnZ2luZztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gIH0sXG4gIF9nZXRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcCB8fCB0aGlzLl9sYXllcnMuZmluZCgobCkgPT4gISFsLl9tYXApPy5fbWFwIHx8IG51bGw7XG4gIH0sXG4gIGdldExheWVycyhcbiAgICBkZWVwID0gZmFsc2UsXG4gICAgZmlsdGVyR2VvbWFuID0gdHJ1ZSxcbiAgICBmaWx0ZXJHcm91cHNPdXQgPSB0cnVlLFxuICAgIF9sYXllcklkcyA9IFtdXG4gICkge1xuICAgIGxldCBsYXllcnMgPSBbXTtcbiAgICBpZiAoZGVlcCkge1xuICAgICAgLy8gZ2V0IHRoZSBsYXllcnMgb2YgTGF5ZXJHcm91cCBjaGlsZHJlblxuICAgICAgdGhpcy5fbGF5ZXJHcm91cC5nZXRMYXllcnMoKS5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICBsYXllcnMucHVzaChsYXllcik7XG4gICAgICAgIGlmIChsYXllciBpbnN0YW5jZW9mIEwuTGF5ZXJHcm91cCkge1xuICAgICAgICAgIGlmIChfbGF5ZXJJZHMuaW5kZXhPZihsYXllci5fbGVhZmxldF9pZCkgPT09IC0xKSB7XG4gICAgICAgICAgICBfbGF5ZXJJZHMucHVzaChsYXllci5fbGVhZmxldF9pZCk7XG4gICAgICAgICAgICBsYXllcnMgPSBsYXllcnMuY29uY2F0KFxuICAgICAgICAgICAgICBsYXllci5wbS5nZXRMYXllcnModHJ1ZSwgdHJ1ZSwgdHJ1ZSwgX2xheWVySWRzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBnZXQgYWxsIGxheWVycyBvZiB0aGUgbGF5ZXIgZ3JvdXBcbiAgICAgIGxheWVycyA9IHRoaXMuX2xheWVyR3JvdXAuZ2V0TGF5ZXJzKCk7XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlckdyb3Vwc091dCkge1xuICAgICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICEobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlckdlb21hbikge1xuICAgICAgLy8gZmlsdGVyIG91dCBsYXllcnMgdGhhdCBkb24ndCBoYXZlIGxlYWZsZXQtZ2VvbWFuXG4gICAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gISFsYXllci5wbSk7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCdzIGxlYWZsZXQtZ2VvbWFuIHNwZWNpZmljIHRlbXBvcmFyeSBzdHVmZlxuICAgICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICFsYXllci5fcG1UZW1wTGF5ZXIpO1xuICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgaWdub3JlIGxlYWZsZXQtZ2VvbWFuXG4gICAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKFxuICAgICAgICAobGF5ZXIpID0+XG4gICAgICAgICAgKCFMLlBNLm9wdEluICYmICFsYXllci5vcHRpb25zLnBtSWdub3JlKSB8fCAvLyBpZiBvcHRJbiBpcyBub3Qgc2V0IC8gdHJ1ZSBhbmQgcG1JZ25vcmUgaXMgbm90IHNldCAvIHRydWUgKGRlZmF1bHQpXG4gICAgICAgICAgKEwuUE0ub3B0SW4gJiYgbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlKTtcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBsYXllcnM7XG4gIH0sXG4gIHNldE9wdGlvbnMob3B0aW9ucywgX2xheWVySWRzID0gW10pIHtcbiAgICBpZiAoX2xheWVySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fbGF5ZXJzID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICB9XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgIGlmIChsYXllci5wbSkge1xuICAgICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkxheWVyR3JvdXApIHtcbiAgICAgICAgICBpZiAoX2xheWVySWRzLmluZGV4T2YobGF5ZXIuX2xlYWZsZXRfaWQpID09PSAtMSkge1xuICAgICAgICAgICAgX2xheWVySWRzLnB1c2gobGF5ZXIuX2xlYWZsZXRfaWQpO1xuICAgICAgICAgICAgbGF5ZXIucG0uc2V0T3B0aW9ucyhvcHRpb25zLCBfbGF5ZXJJZHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXllci5wbS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRWRpdCBmcm9tICcuL0wuUE0uRWRpdCc7XG5cbkVkaXQuTWFya2VyID0gRWRpdC5leHRlbmQoe1xuICBfc2hhcGU6ICdNYXJrZXInLFxuICBpbml0aWFsaXplKGxheWVyKSB7XG4gICAgLy8gbGF5ZXIgaXMgYSBtYXJrZXIgaW4gdGhpcyBjYXNlIDotKVxuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gcmVnaXN0ZXIgZHJhZ2VuZCBldmVudCBlLmcuIHRvIGZpcmUgcG06ZWRpdFxuICAgIHRoaXMuX2xheWVyLm9uKCdkcmFnZW5kJywgdGhpcy5fb25EcmFnRW5kLCB0aGlzKTtcbiAgfSxcbiAgLy8gVE9ETzogcmVtb3ZlIGRlZmF1bHQgb3B0aW9uIGluIG5leHQgbWFqb3IgUmVsZWFzZVxuICBlbmFibGUob3B0aW9ucyA9IHsgZHJhZ2dhYmxlOiB0cnVlIH0pIHtcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIGxheWVyIGlzIG5vdCBhbGxvd2VkIHRvIGVkaXRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0VkaXRpbmcgfHwgIXRoaXMuX2xheWVyLl9tYXApIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG5cbiAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5T3B0aW9ucygpO1xuXG4gICAgLy8gaWYgc2hhcGUgZ2V0cyByZW1vdmVkIGZyb20gbWFwLCBkaXNhYmxlIGVkaXQgbW9kZVxuICAgIHRoaXMuX2xheWVyLm9uKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9maXJlRW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gaWYgaXQncyBub3QgZW5hYmxlZCwgaXQgZG9lc24ndCBuZWVkIHRvIGJlIGRpc2FibGVkXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGRpc2FibGUgZHJhZ2dpbmcsIGFzIHRoaXMgY291bGQgaGF2ZSBiZWVuIGFjdGl2ZSBldmVuIHdpdGhvdXQgYmVpbmcgZW5hYmxlZFxuICAgIHRoaXMuZGlzYWJsZUxheWVyRHJhZygpO1xuXG4gICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9mZignY29udGV4dG1lbnUnLCB0aGlzLl9yZW1vdmVNYXJrZXIsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuX2xheWVyRWRpdGVkKSB7XG4gICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fZmlyZURpc2FibGUoKTtcblxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgfSxcbiAgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlRWRpdChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSkge1xuICAgICAgdGhpcy5lbmFibGVMYXllckRyYWcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlTGF5ZXJEcmFnKCk7XG4gICAgfVxuICAgIC8vIGVuYWJsZSByZW1vdmFsIGZvciB0aGUgbWFya2VyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucHJldmVudE1hcmtlclJlbW92YWwpIHtcbiAgICAgIHRoaXMuX2xheWVyLm9uKCdjb250ZXh0bWVudScsIHRoaXMuX3JlbW92ZU1hcmtlciwgdGhpcyk7XG4gICAgfVxuICB9LFxuICBfcmVtb3ZlTWFya2VyKGUpIHtcbiAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcbiAgICBtYXJrZXIucmVtb3ZlKCk7XG4gICAgLy8gVE9ETzogZmluZCBvdXQgd2h5IHRoaXMgaXMgZmlyZWQgbWFudWFsbHksIHNob3VsZG4ndCBpdCBiZSBjYXRjaGVkIGJ5IEwuUE0uTWFwICdsYXllcnJlbW92ZSc/XG4gICAgdGhpcy5fZmlyZVJlbW92ZShtYXJrZXIpO1xuICAgIHRoaXMuX2ZpcmVSZW1vdmUodGhpcy5fbWFwLCBtYXJrZXIpO1xuICB9LFxuICBfb25EcmFnRW5kKCkge1xuICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSB0cnVlO1xuICB9LFxuICAvLyBvdmVyd3JpdGUgaW5pdFNuYXBwYWJsZU1hcmtlcnMgZnJvbSBTbmFwcGluZy5qcyBNaXhpblxuICBfaW5pdFNuYXBwYWJsZU1hcmtlcnMoKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fbGF5ZXI7XG5cbiAgICB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlID0gdGhpcy5vcHRpb25zLnNuYXBEaXN0YW5jZSB8fCAzMDtcbiAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPVxuICAgICAgdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50O1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIF9kaXNhYmxlU25hcHBpbmcoKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fbGF5ZXI7XG4gICAgbWFya2VyLm9mZigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICB9LFxufSk7XG4iLCAiaW1wb3J0IGtpbmtzIGZyb20gJ0B0dXJmL2tpbmtzJztcbmltcG9ydCBsaW5lSW50ZXJzZWN0IGZyb20gJ0B0dXJmL2xpbmUtaW50ZXJzZWN0JztcbmltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgRWRpdCBmcm9tICcuL0wuUE0uRWRpdCc7XG5pbXBvcnQgeyBjb3B5TGF0TG5ncywgaGFzVmFsdWVzLCByZW1vdmVFbXB0eUNvb3JkUmluZ3MgfSBmcm9tICcuLi9oZWxwZXJzJztcblxuaW1wb3J0IE1hcmtlckxpbWl0cyBmcm9tICcuLi9NaXhpbnMvTWFya2VyTGltaXRzJztcblxuLy8gU2hpdCdzIGdldHRpbmcgY29tcGxpY2F0ZWQgaW4gaGVyZSB3aXRoIE11bHRpcG9seWdvbiBTdXBwb3J0LiBTbyBoZXJlJ3MgYSBxdWljayBub3RlIGFib3V0IGl0OlxuLy8gTXVsdGlwb2x5Z29ucyB3aXRoIGhvbGVzIG1lYW5zIGxvdHMgb2YgbmVzdGVkLCBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy5cbi8vIEluIG9yZGVyIHRvIGZpbmQgYSB2YWx1ZSBpbnNpZGUgc3VjaCBhbiBhcnJheSB5b3UgbmVlZCBhIHBhdGggdG8gYWRyZXNzIGl0IGRpcmVjdGx5LlxuLy8gRXhhbXBsZTogdmFyIGFyciA9IFtbWydhJywgJ2InXSwgWydjJ11dXTtcbi8vIFRoZSBpbmRleFBhdGggdG8gJ2InIGlzIFswLCAwLCAxXS4gVGhlIGluZGV4UGF0aCB0byAnYycgaXMgWzAsIDEsIDBdLlxuLy8gU28gSSBjYW4gZ2V0ICdiJyB3aXRoOiBhcnJbMF1bMF1bMV0uXG4vLyBHb3QgaXQ/IE5vdyB5b3Uga25vdyB3aGF0IGlzIG1lYW50IHdoZW4geW91IHJlYWQgXCJpbmRleFBhdGhcIiBhcm91bmQgaGVyZS4gSGF2ZSBmdW4gXHVEODNEXHVEQzREXG5cbkVkaXQuTGluZSA9IEVkaXQuZXh0ZW5kKHtcbiAgaW5jbHVkZXM6IFtNYXJrZXJMaW1pdHNdLFxuICBfc2hhcGU6ICdMaW5lJyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcblxuICAgIC8vIGNhbmNlbCB3aGVuIG1hcCBpc24ndCBhdmFpbGFibGUsIHRoaXMgaGFwcGVucyB3aGVuIHRoZSBwb2x5Z29uIGlzIHJlbW92ZWQgYmVmb3JlIHRoaXMgZmlyZXNcbiAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGxheWVyIGlzIG5vdCBhbGxvd2VkIHRvIGVkaXRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0VkaXRpbmcpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgLy8gaWYgaXQgd2FzIGFscmVhZHkgZW5hYmxlZCwgZGlzYWJsZSBmaXJzdFxuICAgICAgLy8gd2UgZG9uJ3QgYmxvY2sgZW5hYmxpbmcgYWdhaW4gYmVjYXVzZSBuZXcgb3B0aW9ucyBtaWdodCBiZSBwYXNzZWRcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIGNoYW5nZSBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gaW5pdCBtYXJrZXJzXG4gICAgdGhpcy5faW5pdE1hcmtlcnMoKTtcblxuICAgIHRoaXMuYXBwbHlPcHRpb25zKCk7XG5cbiAgICAvLyBpZiBzaGFwZSBnZXRzIHJlbW92ZWQgZnJvbSBtYXAsIGRpc2FibGUgZWRpdCBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2xheWVyLm9uKFxuICAgICAgICAncG06dmVydGV4cmVtb3ZlZCcsXG4gICAgICAgIHRoaXMuX2hhbmRsZVNlbGZJbnRlcnNlY3Rpb25PblZlcnRleFJlbW92YWwsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICBpZiAodGhpcy5fbGF5ZXIub3B0aW9ucy5jb2xvciAhPT0gJyNmMDAwMDBmZicpIHtcbiAgICAgICAgdGhpcy5jYWNoZWRDb2xvciA9IHRoaXMuX2xheWVyLm9wdGlvbnMuY29sb3I7XG4gICAgICAgIHRoaXMuaXNSZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaXNSZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5faGFuZGxlTGF5ZXJTdHlsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhY2hlZENvbG9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLl9maXJlRW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gaWYgaXQncyBub3QgZW5hYmxlZCwgaXQgZG9lc24ndCBuZWVkIHRvIGJlIGRpc2FibGVkXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgZGlzYWJsaW5nIGlmIHBvbHlnb24gaXMgYmVpbmcgZHJhZ2dlZFxuICAgIGlmICh0aGlzLl9kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fbWFya2VyR3JvdXAuY2xlYXJMYXllcnMoKTtcbiAgICB0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVGcm9tKHRoaXMuX21hcCk7XG5cbiAgICAvLyByZW1vdmUgbGlzdGVuZXJcbiAgICB0aGlzLl9sYXllci5vZmYoJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2xheWVyLm9mZihcbiAgICAgICAgJ3BtOnZlcnRleHJlbW92ZWQnLFxuICAgICAgICB0aGlzLl9oYW5kbGVTZWxmSW50ZXJzZWN0aW9uT25WZXJ0ZXhSZW1vdmFsLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBkcmFnZ2FibGUgY2xhc3NcbiAgICBjb25zdCBlbCA9IHRoaXMuX2xheWVyLl9wYXRoXG4gICAgICA/IHRoaXMuX2xheWVyLl9wYXRoXG4gICAgICA6IHRoaXMuX2xheWVyLl9yZW5kZXJlci5fY29udGFpbmVyO1xuICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhlbCwgJ2xlYWZsZXQtcG0tZHJhZ2dhYmxlJyk7XG5cbiAgICBpZiAodGhpcy5fbGF5ZXJFZGl0ZWQpIHtcbiAgICAgIHRoaXMuX2ZpcmVVcGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9maXJlRGlzYWJsZSgpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVuYWJsZWQoKTtcbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICB9XG4gIH0sXG4gIF9pbml0TWFya2VycygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpO1xuXG4gICAgLy8gY2xlYW51cCBvbGQgb25lcyBmaXJzdFxuICAgIGlmICh0aGlzLl9tYXJrZXJHcm91cCkge1xuICAgICAgdGhpcy5fbWFya2VyR3JvdXAuY2xlYXJMYXllcnMoKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgbWFya2VyR3JvdXAgdG8gbWFwLCBtYXJrZXJHcm91cCBpbmNsdWRlcyByZWd1bGFyIGFuZCBtaWRkbGUgbWFya2Vyc1xuICAgIHRoaXMuX21hcmtlckdyb3VwID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XG4gICAgdGhpcy5fbWFya2VyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcblxuICAgIC8vIGhhbmRsZSBjb29yZC1yaW5ncyAob3V0ZXIsIGlubmVyLCBldGMpXG4gICAgY29uc3QgaGFuZGxlUmluZyA9IChjb29yZHNBcnIpID0+IHtcbiAgICAgIC8vIGlmIHRoZXJlIGlzIGFub3RoZXIgY29vcmRzIHJpbmcsIGdvIGEgbGV2ZWwgZGVlcCBhbmQgZG8gdGhpcyBhZ2FpblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29vcmRzQXJyWzBdKSkge1xuICAgICAgICByZXR1cm4gY29vcmRzQXJyLm1hcChoYW5kbGVSaW5nLCB0aGlzKTtcbiAgICAgIH1cblxuICAgICAgLy8gdGhlIG1hcmtlciBhcnJheSwgaXQgaW5jbHVkZXMgb25seSB0aGUgbWFya2VycyBvZiB2ZXJ0ZXhlcyAobm8gbWlkZGxlIG1hcmtlcnMpXG4gICAgICBjb25zdCByaW5nQXJyID0gY29vcmRzQXJyLm1hcCh0aGlzLl9jcmVhdGVNYXJrZXIsIHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhpZGVNaWRkbGVNYXJrZXJzICE9PSB0cnVlKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBzbWFsbCBtYXJrZXJzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHJlZ3VsYXIgbWFya2Vyc1xuICAgICAgICBjb29yZHNBcnIubWFwKCh2LCBrKSA9PiB7XG4gICAgICAgICAgLy8gZmluZCB0aGUgbmV4dCBpbmRleCBmaXN0XG4gICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gdGhpcy5pc1BvbHlnb24oKVxuICAgICAgICAgICAgPyAoayArIDEpICUgY29vcmRzQXJyLmxlbmd0aFxuICAgICAgICAgICAgOiBrICsgMTtcbiAgICAgICAgICAvLyBjcmVhdGUgdGhlIG1hcmtlclxuICAgICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIocmluZ0FycltrXSwgcmluZ0FycltuZXh0SW5kZXhdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByaW5nQXJyO1xuICAgIH07XG5cbiAgICAvLyBjcmVhdGUgbWFya2Vyc1xuICAgIHRoaXMuX21hcmtlcnMgPSBoYW5kbGVSaW5nKGNvb3Jkcyk7XG5cbiAgICAvLyBoYW5kbGUgcG9zc2libGUgbGltaXRhdGlvbjogbWF4aW11bSBudW1iZXIgb2YgbWFya2Vyc1xuICAgIHRoaXMuZmlsdGVyTWFya2VyR3JvdXAoKTtcblxuICAgIC8vIGFkZCBtYXJrZXJHcm91cCB0byBtYXBcbiAgICBtYXAuYWRkTGF5ZXIodGhpcy5fbWFya2VyR3JvdXApO1xuICB9LFxuXG4gIC8vIGNyZWF0ZXMgaW5pdGlhbCBtYXJrZXJzIGZvciBjb29yZGluYXRlc1xuICBfY3JlYXRlTWFya2VyKGxhdGxuZykge1xuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBMLk1hcmtlcihsYXRsbmcsIHtcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcblxuICAgIG1hcmtlci5fcG1UZW1wTGF5ZXIgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yb3RhdGUpIHtcbiAgICAgIG1hcmtlci5vbignZHJhZ3N0YXJ0JywgdGhpcy5fb25Sb3RhdGVTdGFydCwgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWcnLCB0aGlzLl9vblJvdGF0ZSwgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWdlbmQnLCB0aGlzLl9vblJvdGF0ZUVuZCwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmtlci5vbignY2xpY2snLCB0aGlzLl9vblZlcnRleENsaWNrLCB0aGlzKTtcbiAgICAgIG1hcmtlci5vbignZHJhZ3N0YXJ0JywgdGhpcy5fb25NYXJrZXJEcmFnU3RhcnQsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdtb3ZlJywgdGhpcy5fb25NYXJrZXJEcmFnLCB0aGlzKTtcbiAgICAgIG1hcmtlci5vbignZHJhZ2VuZCcsIHRoaXMuX29uTWFya2VyRHJhZ0VuZCwgdGhpcyk7XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnByZXZlbnRNYXJrZXJSZW1vdmFsKSB7XG4gICAgICAgIG1hcmtlci5vbih0aGlzLm9wdGlvbnMucmVtb3ZlVmVydGV4T24sIHRoaXMuX3JlbW92ZU1hcmtlciwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fbWFya2VyR3JvdXAuYWRkTGF5ZXIobWFya2VyKTtcblxuICAgIHJldHVybiBtYXJrZXI7XG4gIH0sXG5cbiAgLy8gY3JlYXRlcyB0aGUgbWlkZGxlIG1hcmtlcyBiZXR3ZWVuIGNvb3JkaW5hdGVzXG4gIF9jcmVhdGVNaWRkbGVNYXJrZXIobGVmdE0sIHJpZ2h0TSkge1xuICAgIC8vIGNhbmNlbCBpZiB0aGVyZSBhcmUgbm8gdHdvIG1hcmtlcnNcbiAgICBpZiAoIWxlZnRNIHx8ICFyaWdodE0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXRsbmcgPSBMLlBNLlV0aWxzLmNhbGNNaWRkbGVMYXRMbmcoXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICBsZWZ0TS5nZXRMYXRMbmcoKSxcbiAgICAgIHJpZ2h0TS5nZXRMYXRMbmcoKVxuICAgICk7XG5cbiAgICBjb25zdCBtaWRkbGVNYXJrZXIgPSB0aGlzLl9jcmVhdGVNYXJrZXIobGF0bG5nKTtcbiAgICBjb25zdCBtaWRkbGVJY29uID0gTC5kaXZJY29uKHtcbiAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1pY29uIG1hcmtlci1pY29uLW1pZGRsZScsXG4gICAgfSk7XG4gICAgbWlkZGxlTWFya2VyLnNldEljb24obWlkZGxlSWNvbik7XG4gICAgbWlkZGxlTWFya2VyLmxlZnRNID0gbGVmdE07XG4gICAgbWlkZGxlTWFya2VyLnJpZ2h0TSA9IHJpZ2h0TTtcblxuICAgIC8vIHNhdmUgcmVmZXJlbmNlIHRvIHRoaXMgbWlkZGxlIG1hcmtlcnMgb24gdGhlIG5laWdoYm9vciByZWd1bGFyIG1hcmtlcnNcbiAgICBsZWZ0TS5fbWlkZGxlTWFya2VyTmV4dCA9IG1pZGRsZU1hcmtlcjtcbiAgICByaWdodE0uX21pZGRsZU1hcmtlclByZXYgPSBtaWRkbGVNYXJrZXI7XG5cbiAgICBtaWRkbGVNYXJrZXIub24odGhpcy5vcHRpb25zLmFkZFZlcnRleE9uLCB0aGlzLl9vbk1pZGRsZU1hcmtlckNsaWNrLCB0aGlzKTtcbiAgICBtaWRkbGVNYXJrZXIub24oJ21vdmVzdGFydCcsIHRoaXMuX29uTWlkZGxlTWFya2VyTW92ZVN0YXJ0LCB0aGlzKTtcblxuICAgIHJldHVybiBtaWRkbGVNYXJrZXI7XG4gIH0sXG4gIF9vbk1pZGRsZU1hcmtlckNsaWNrKGUpIHtcbiAgICBjb25zdCBtaWRkbGVNYXJrZXIgPSBlLnRhcmdldDtcblxuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbignYWRkJywgZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gVE9ETzogbW92ZSB0aGUgbmV4dCB0d28gbGluZXMgaW5zaWRlIF9hZGRNYXJrZXIoKSBhcyBzb29uIGFzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvNDQ4NFxuICAgIC8vIGlzIGZpeGVkXG4gICAgY29uc3QgaWNvbiA9IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KTtcbiAgICBtaWRkbGVNYXJrZXIuc2V0SWNvbihpY29uKTtcbiAgICB0aGlzLl9hZGRNYXJrZXIobWlkZGxlTWFya2VyLCBtaWRkbGVNYXJrZXIubGVmdE0sIG1pZGRsZU1hcmtlci5yaWdodE0pO1xuICB9LFxuICBfb25NaWRkbGVNYXJrZXJNb3ZlU3RhcnQoZSkge1xuICAgIGNvbnN0IG1pZGRsZU1hcmtlciA9IGUudGFyZ2V0O1xuICAgIG1pZGRsZU1hcmtlci5vbignbW92ZWVuZCcsIHRoaXMuX29uTWlkZGxlTWFya2VyTW92ZUVuZCwgdGhpcyk7XG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uKCdhZGQnLCBlKSkge1xuICAgICAgbWlkZGxlTWFya2VyLm9uKCdtb3ZlJywgdGhpcy5fb25NaWRkbGVNYXJrZXJNb3ZlUHJldmVudCwgdGhpcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWlkZGxlTWFya2VyLl9kcmFnZ2luZyA9IHRydWU7XG4gICAgLy8gVE9ETzogVGhpcyBpcyBhIHdvcmthcm91bmQuIFJlbW92ZSB0aGUgbW92ZWVuZCBsaXN0ZW5lciBhbmRcbiAgICAvLyBjYWxsYmFjayBhcyBzb29uIGFzIHRoaXMgaXMgZml4ZWQ6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvNDQ4NFxuICAgIHRoaXMuX2FkZE1hcmtlcihtaWRkbGVNYXJrZXIsIG1pZGRsZU1hcmtlci5sZWZ0TSwgbWlkZGxlTWFya2VyLnJpZ2h0TSk7XG4gIH0sXG4gIF9vbk1pZGRsZU1hcmtlck1vdmVQcmV2ZW50KGUpIHtcbiAgICBjb25zdCBtaWRkbGVNYXJrZXIgPSBlLnRhcmdldDtcbiAgICB0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZyhtaWRkbGVNYXJrZXIpO1xuICB9LFxuICBfb25NaWRkbGVNYXJrZXJNb3ZlRW5kKGUpIHtcbiAgICBjb25zdCBtaWRkbGVNYXJrZXIgPSBlLnRhcmdldDtcbiAgICBtaWRkbGVNYXJrZXIub2ZmKCdtb3ZlJywgdGhpcy5fb25NaWRkbGVNYXJrZXJNb3ZlUHJldmVudCwgdGhpcyk7XG4gICAgbWlkZGxlTWFya2VyLm9mZignbW92ZWVuZCcsIHRoaXMuX29uTWlkZGxlTWFya2VyTW92ZUVuZCwgdGhpcyk7XG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZ0VuZChtaWRkbGVNYXJrZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGljb24gPSBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbicgfSk7XG4gICAgbWlkZGxlTWFya2VyLnNldEljb24oaWNvbik7XG4gICAgLy8gdGltZW91dCBpcyBuZWVkZWQgZWxzZSB0aGlzLl9vblZlcnRleENsaWNrIGZpcmVzIHRoZSBldmVudCBiZWNhdXNlIGl0IGlzIGNhbGxlZCBhZnRlciBkZWxldGluZyB0aGUgZmxhZ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZGVsZXRlIG1pZGRsZU1hcmtlci5fZHJhZ2dpbmc7XG4gICAgfSwgMTAwKTtcbiAgfSxcbiAgLy8gYWRkcyBhIG5ldyBtYXJrZXIgZnJvbSBhIG1pZGRsZW1hcmtlclxuICBfYWRkTWFya2VyKG5ld00sIGxlZnRNLCByaWdodE0pIHtcbiAgICAvLyBmaXJzdCwgbWFrZSB0aGlzIG1pZGRsZW1hcmtlciBhIHJlZ3VsYXIgbWFya2VyXG4gICAgbmV3TS5vZmYoJ21vdmVzdGFydCcsIHRoaXMuX29uTWlkZGxlTWFya2VyTW92ZVN0YXJ0LCB0aGlzKTtcbiAgICBuZXdNLm9mZih0aGlzLm9wdGlvbnMuYWRkVmVydGV4T24sIHRoaXMuX29uTWlkZGxlTWFya2VyQ2xpY2ssIHRoaXMpO1xuICAgIC8vIG5vdywgY3JlYXRlIHRoZSBwb2x5Z29uIGNvb3JkaW5hdGUgcG9pbnQgZm9yIHRoYXQgbWFya2VyXG4gICAgLy8gYW5kIHB1c2ggaW50byBtYXJrZXIgYXJyYXlcbiAgICAvLyBhbmQgYXNzb2NpYXRlIHBvbHlnb24gY29vcmRpbmF0ZSB3aXRoIG1hcmtlciBjb29yZGluYXRlXG4gICAgY29uc3QgbGF0bG5nID0gbmV3TS5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9sYXllci5fbGF0bG5ncztcblxuICAgIC8vIHJlbW92ZSBsaW5rZWQgbWFya2Vyc1xuICAgIGRlbGV0ZSBuZXdNLmxlZnRNO1xuICAgIGRlbGV0ZSBuZXdNLnJpZ2h0TTtcblxuICAgIC8vIHRoZSBpbmRleCBwYXRoIHRvIHRoZSBtYXJrZXIgaW5zaWRlIHRoZSBtdWx0aWRpbWVuc2lvbmFsIG1hcmtlciBhcnJheVxuICAgIGNvbnN0IHsgaW5kZXhQYXRoLCBpbmRleCwgcGFyZW50UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KFxuICAgICAgdGhpcy5fbWFya2VycyxcbiAgICAgIGxlZnRNXG4gICAgKTtcblxuICAgIC8vIGRlZmluZSB0aGUgY29vcmRzUmluZyB0aGF0IGlzIGVkaXRlZFxuICAgIGNvbnN0IGNvb3Jkc1JpbmcgPSBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldChjb29yZHMsIHBhcmVudFBhdGgpIDogY29vcmRzO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBtYXJrZXJzIGFycmF5IHRoYXQgaXMgZWRpdGVkXG4gICAgY29uc3QgbWFya2VyQXJyID1cbiAgICAgIGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KHRoaXMuX21hcmtlcnMsIHBhcmVudFBhdGgpIDogdGhpcy5fbWFya2VycztcblxuICAgIC8vIGFkZCBjb29yZGluYXRlIHRvIGNvb3JkaW5hdGUgYXJyYXlcbiAgICBjb29yZHNSaW5nLnNwbGljZShpbmRleCArIDEsIDAsIGxhdGxuZyk7XG5cbiAgICAvLyBhZGQgbWFya2VyIHRvIG1hcmtlciBhcnJheVxuICAgIG1hcmtlckFyci5zcGxpY2UoaW5kZXggKyAxLCAwLCBuZXdNKTtcblxuICAgIC8vIHNldCBuZXcgbGF0bG5ncyB0byB1cGRhdGUgcG9seWdvblxuICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3MoY29vcmRzKTtcblxuICAgIC8vIGNyZWF0ZSB0aGUgbmV3IG1pZGRsZW1hcmtlcnNcbiAgICBpZiAodGhpcy5vcHRpb25zLmhpZGVNaWRkbGVNYXJrZXJzICE9PSB0cnVlKSB7XG4gICAgICB0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIobGVmdE0sIG5ld00pO1xuICAgICAgdGhpcy5fY3JlYXRlTWlkZGxlTWFya2VyKG5ld00sIHJpZ2h0TSk7XG4gICAgfVxuXG4gICAgLy8gZmlyZSBlZGl0IGV2ZW50XG4gICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksICdFZGl0Jyk7XG5cbiAgICB0aGlzLl9maXJlVmVydGV4QWRkZWQoXG4gICAgICBuZXdNLFxuICAgICAgTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KHRoaXMuX21hcmtlcnMsIG5ld00pLmluZGV4UGF0aCxcbiAgICAgIGxhdGxuZ1xuICAgICk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgdGhpcy5faW5pdFNuYXBwYWJsZU1hcmtlcnMoKTtcbiAgICB9XG4gIH0sXG5cbiAgaGFzU2VsZkludGVyc2VjdGlvbigpIHtcbiAgICAvLyBjaGVjayBmb3Igc2VsZiBpbnRlcnNlY3Rpb24gb2YgdGhlIGxheWVyIGFuZCByZXR1cm4gdHJ1ZS9mYWxzZVxuICAgIGNvbnN0IHNlbGZJbnRlcnNlY3Rpb24gPSBraW5rcyh0aGlzLl9sYXllci50b0dlb0pTT04oMTUpKTtcbiAgICByZXR1cm4gc2VsZkludGVyc2VjdGlvbi5mZWF0dXJlcy5sZW5ndGggPiAwO1xuICB9LFxuXG4gIF9oYW5kbGVTZWxmSW50ZXJzZWN0aW9uT25WZXJ0ZXhSZW1vdmFsKCkge1xuICAgIC8vIGNoZWNrIGZvciBzZWxmaW50ZXJzZWN0aW9uIGFnYWluIChtYWlubHkgdG8gcmVzZXQgdGhlIHN0eWxlKVxuICAgIGNvbnN0IHNlbGZJbnRlcnNlY3Rpb24gPSB0aGlzLl9oYW5kbGVMYXllclN0eWxlKHRydWUpO1xuXG4gICAgaWYgKHNlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIC8vIHJlc2V0IGNvb3JkaW5hdGVzXG4gICAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKHRoaXMuX2Nvb3Jkc0JlZm9yZUVkaXQpO1xuICAgICAgdGhpcy5fY29vcmRzQmVmb3JlRWRpdCA9IG51bGw7XG5cbiAgICAgIC8vIHJlLWVuYWJsZSBtYXJrZXJzIGZvciB0aGUgbmV3IGNvb3Jkc1xuICAgICAgdGhpcy5faW5pdE1hcmtlcnMoKTtcbiAgICB9XG4gIH0sXG5cbiAgX2hhbmRsZUxheWVyU3R5bGUoZmxhc2gpIHtcbiAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyO1xuXG4gICAgbGV0IHNlbGZJbnRlcnNlY3Rpb247XG4gICAgbGV0IGludGVyc2VjdGlvbjtcbiAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgc2VsZkludGVyc2VjdGlvbiA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnNlY3Rpb24gPSBraW5rcyh0aGlzLl9sYXllci50b0dlb0pTT04oMTUpKTtcbiAgICAgIHNlbGZJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb24uZmVhdHVyZXMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBpZiAoc2VsZkludGVyc2VjdGlvbikge1xuICAgICAgaWYgKFxuICAgICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbiAmJlxuICAgICAgICB0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uRWRpdFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZURpc2FibGVkTWFya2VyU3R5bGUodGhpcy5fbWFya2VycywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzUmVkKSB7XG4gICAgICAgIHJldHVybiBzZWxmSW50ZXJzZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiBpdCBkb2VzIHNlbGYtaW50ZXJzZWN0LCBtYXJrIG9yIGZsYXNoIGl0IHJlZFxuICAgICAgaWYgKGZsYXNoKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoTGF5ZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheWVyLnNldFN0eWxlKHsgY29sb3I6ICcjZjAwMDAwZmYnIH0pO1xuICAgICAgICB0aGlzLmlzUmVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZmlyZSBpbnRlcnNlY3QgZXZlbnRcbiAgICAgIHRoaXMuX2ZpcmVJbnRlcnNlY3QoaW50ZXJzZWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgbm90LCByZXNldCB0aGUgc3R5bGUgdG8gdGhlIGRlZmF1bHQgY29sb3JcbiAgICAgIGxheWVyLnNldFN0eWxlKHsgY29sb3I6IHRoaXMuY2FjaGVkQ29sb3IgfSk7XG4gICAgICB0aGlzLmlzUmVkID0gZmFsc2U7XG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uICYmXG4gICAgICAgIHRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb25FZGl0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlRGlzYWJsZWRNYXJrZXJTdHlsZSh0aGlzLl9tYXJrZXJzLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWxmSW50ZXJzZWN0aW9uO1xuICB9LFxuICBfZmxhc2hMYXllcigpIHtcbiAgICBpZiAoIXRoaXMuY2FjaGVkQ29sb3IpIHtcbiAgICAgIHRoaXMuY2FjaGVkQ29sb3IgPSB0aGlzLl9sYXllci5vcHRpb25zLmNvbG9yO1xuICAgIH1cblxuICAgIHRoaXMuX2xheWVyLnNldFN0eWxlKHsgY29sb3I6ICcjZjAwMDAwZmYnIH0pO1xuICAgIHRoaXMuaXNSZWQgPSB0cnVlO1xuXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0U3R5bGUoeyBjb2xvcjogdGhpcy5jYWNoZWRDb2xvciB9KTtcbiAgICAgIHRoaXMuaXNSZWQgPSBmYWxzZTtcbiAgICB9LCAyMDApO1xuICB9LFxuICBfdXBkYXRlRGlzYWJsZWRNYXJrZXJTdHlsZShtYXJrZXJzLCBkaXNhYmxlZCkge1xuICAgIG1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXJrZXIpKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZURpc2FibGVkTWFya2VyU3R5bGUobWFya2VyLCBkaXNhYmxlZCk7XG4gICAgICB9IGVsc2UgaWYgKG1hcmtlci5faWNvbikge1xuICAgICAgICBpZiAoZGlzYWJsZWQgJiYgIXRoaXMuX2NoZWNrTWFya2VyQWxsb3dlZFRvRHJhZyhtYXJrZXIpKSB7XG4gICAgICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKG1hcmtlci5faWNvbiwgJ3ZlcnRleG1hcmtlci1kaXNhYmxlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhtYXJrZXIuX2ljb24sICd2ZXJ0ZXhtYXJrZXItZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBfcmVtb3ZlTWFya2VyKGUpIHtcbiAgICAvLyB0aGUgbWFya2VyIHRoYXQgc2hvdWxkIGJlIHJlbW92ZWRcbiAgICBjb25zdCBtYXJrZXIgPSBlLnRhcmdldDtcblxuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbigncmVtb3ZlJywgZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiBzZWxmIGludGVyc2VjdGlvbiBpc24ndCBhbGxvd2VkLCBzYXZlIHRoZSBjb29yZHMgdXBvbiBkcmFnc3RhcnRcbiAgICAvLyBpbiBjYXNlIHdlIG5lZWQgdG8gcmVzZXQgdGhlIGxheWVyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uKSB7XG4gICAgICB0aGlzLl9jb29yZHNCZWZvcmVFZGl0ID0gY29weUxhdExuZ3MoXG4gICAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gY29vcmRzIG9mIHRoZSBsYXllclxuICAgIGxldCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAvLyB0aGUgaW5kZXggcGF0aCB0byB0aGUgbWFya2VyIGluc2lkZSB0aGUgbXVsdGlkaW1lbnNpb25hbCBtYXJrZXIgYXJyYXlcbiAgICBjb25zdCB7IGluZGV4UGF0aCwgaW5kZXgsIHBhcmVudFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleChcbiAgICAgIHRoaXMuX21hcmtlcnMsXG4gICAgICBtYXJrZXJcbiAgICApO1xuXG4gICAgLy8gb25seSBjb250aW51ZSBpZiB0aGlzIGlzIE5PVCBhIG1pZGRsZSBtYXJrZXIgKHRob3NlIGNhbid0IGJlIGRlbGV0ZWQpXG4gICAgaWYgKCFpbmRleFBhdGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBkZWZpbmUgdGhlIGNvb3Jkc1JpbmcgdGhhdCBpcyBlZGl0ZWRcbiAgICBjb25zdCBjb29yZHNSaW5nID0gaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQoY29vcmRzLCBwYXJlbnRQYXRoKSA6IGNvb3JkcztcblxuICAgIC8vIGRlZmluZSB0aGUgbWFya2VycyBhcnJheSB0aGF0IGlzIGVkaXRlZFxuICAgIGxldCBtYXJrZXJBcnIgPVxuICAgICAgaW5kZXhQYXRoLmxlbmd0aCA+IDEgPyBnZXQodGhpcy5fbWFya2VycywgcGFyZW50UGF0aCkgOiB0aGlzLl9tYXJrZXJzO1xuXG4gICAgLy8gcHJldmVudCByZW1vdmFsIG9mIHRoZSBsYXllciBpZiB0aGUgdmVydGV4IGNvdW50IGlzIGJlbG93IG1pbmltdW1cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5yZW1vdmVMYXllckJlbG93TWluVmVydGV4Q291bnQpIHtcbiAgICAgIC8vIGlmIG9uIGEgbGluZSBvbmx5IDIgdmVydGljZXMgbGVmdCBvciBvbiBhIHBvbHlnb24gMyB2ZXJ0aWNlcyBsZWZ0LCBkb24ndCBhbGxvdyB0byBkZWxldGVcbiAgICAgIGlmIChcbiAgICAgICAgY29vcmRzUmluZy5sZW5ndGggPD0gMiB8fFxuICAgICAgICAodGhpcy5pc1BvbHlnb24oKSAmJiBjb29yZHNSaW5nLmxlbmd0aCA8PSAzKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2ZsYXNoTGF5ZXIoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlbW92ZSBjb29yZGluYXRlXG4gICAgY29vcmRzUmluZy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgLy8gc2V0IG5ldyBsYXRsbmdzIHRvIHRoZSBwb2x5Z29uXG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuXG4gICAgLy8gaWYgYSBwb2x5Z29uIGhhcyBsZXNzIHRoYW4gMyB2ZXJ0aWNlcywgcmVtb3ZlIGFsbCBvZiB0aGVtLiBXZSB3aWxsIHJlbW92ZSBvbmx5IG9uZSBoZXJlLCB0aGUgaWYtY2xhdXNlIGFmdGVyIHRoYXQgd2lsbCBoYW5kbGUgdGhlIHJlc3RcbiAgICBpZiAodGhpcy5pc1BvbHlnb24oKSAmJiBjb29yZHNSaW5nLmxlbmd0aCA8PSAyKSB7XG4gICAgICBjb29yZHNSaW5nLnNwbGljZSgwLCBjb29yZHNSaW5nLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgbGV0IGxheWVyUmVtb3ZlZCA9IGZhbHNlO1xuICAgIC8vIGlmIHRoZSByaW5nIG9mIHRoZSBsaW5lIGhhcyBubyBjb29yZGluYXRlcyBsZWZ0LCByZW1vdmUgdGhlIGxhc3QgY29vcmQgdG9vXG4gICAgaWYgKGNvb3Jkc1JpbmcubGVuZ3RoIDw9IDEpIHtcbiAgICAgIGNvb3Jkc1Jpbmcuc3BsaWNlKDAsIGNvb3Jkc1JpbmcubGVuZ3RoKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgTXVsdGlQb2x5Z29uXG4gICAgICBpZiAocGFyZW50UGF0aC5sZW5ndGggPiAxICYmIGluZGV4UGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvb3JkcyA9IHJlbW92ZUVtcHR5Q29vcmRSaW5ncyhjb29yZHMpO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgbmV3IGNvb3Jkc1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuXG4gICAgICAvLyByZS1lbmFibGUgZWRpdGluZyBzbyB1bm5lY2Vzc2FyeSBtYXJrZXJzIGFyZSByZW1vdmVkXG4gICAgICB0aGlzLl9pbml0TWFya2VycygpO1xuICAgICAgbGF5ZXJSZW1vdmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBpZiBubyBjb29yZHMgYXJlIGxlZnQsIHJlbW92ZSB0aGUgbGF5ZXJcbiAgICBpZiAoIWhhc1ZhbHVlcyhjb29yZHMpKSB7XG4gICAgICB0aGlzLl9sYXllci5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgYWxsIGVtcHR5IGNvb3JkLXJpbmdzXG4gICAgY29vcmRzID0gcmVtb3ZlRW1wdHlDb29yZFJpbmdzKGNvb3Jkcyk7XG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuICAgIC8vIHJlbW92ZSBlbXB0eSBtYXJrZXIgYXJyYXlzXG4gICAgdGhpcy5fbWFya2VycyA9IHJlbW92ZUVtcHR5Q29vcmRSaW5ncyh0aGlzLl9tYXJrZXJzKTtcblxuICAgIC8vIE5vIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBtaWRkbGUgbWFya2VyIHdoZW4gdGhlIGxheWVyIHdhcyByZW1vdmVkXG4gICAgaWYgKCFsYXllclJlbW92ZWQpIHtcbiAgICAgIC8vIGdldCBuZXcgbWFya2VyQXJyIGJlY2F1c2Ugd2UgY2xlYW5lZCB1cCBjb29yZHMgYW5kIG1hcmtlcnMgYXJyYXlcbiAgICAgIG1hcmtlckFyciA9XG4gICAgICAgIGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KHRoaXMuX21hcmtlcnMsIHBhcmVudFBhdGgpIDogdGhpcy5fbWFya2VycztcblxuICAgICAgLy8gbm93IGhhbmRsZSB0aGUgbWlkZGxlIG1hcmtlcnNcbiAgICAgIC8vIHJlbW92ZSB0aGUgbWFya2VyIGFuZCB0aGUgbWlkZGxlbWFya2VycyBuZXh0IHRvIGl0IGZyb20gdGhlIG1hcFxuICAgICAgaWYgKG1hcmtlci5fbWlkZGxlTWFya2VyUHJldikge1xuICAgICAgICB0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVMYXllcihtYXJrZXIuX21pZGRsZU1hcmtlclByZXYpO1xuICAgICAgICB0aGlzLl9yZW1vdmVGcm9tQ2FjaGUobWFya2VyLl9taWRkbGVNYXJrZXJQcmV2KTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXJrZXIuX21pZGRsZU1hcmtlck5leHQpIHtcbiAgICAgICAgdGhpcy5fbWFya2VyR3JvdXAucmVtb3ZlTGF5ZXIobWFya2VyLl9taWRkbGVNYXJrZXJOZXh0KTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlRnJvbUNhY2hlKG1hcmtlci5fbWlkZGxlTWFya2VyTmV4dCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgbWFya2VyIGZyb20gdGhlIG1hcFxuICAgICAgdGhpcy5fbWFya2VyR3JvdXAucmVtb3ZlTGF5ZXIobWFya2VyKTtcbiAgICAgIHRoaXMuX3JlbW92ZUZyb21DYWNoZShtYXJrZXIpO1xuXG4gICAgICBpZiAobWFya2VyQXJyKSB7XG4gICAgICAgIGxldCByaWdodE1hcmtlckluZGV4O1xuICAgICAgICBsZXQgbGVmdE1hcmtlckluZGV4O1xuXG4gICAgICAgIGlmICh0aGlzLmlzUG9seWdvbigpKSB7XG4gICAgICAgICAgLy8gZmluZCBuZWlnaGJvciBtYXJrZXItaW5kZXhlc1xuICAgICAgICAgIHJpZ2h0TWFya2VySW5kZXggPSAoaW5kZXggKyAxKSAlIG1hcmtlckFyci5sZW5ndGg7XG4gICAgICAgICAgbGVmdE1hcmtlckluZGV4ID0gKGluZGV4ICsgKG1hcmtlckFyci5sZW5ndGggLSAxKSkgJSBtYXJrZXJBcnIubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGZpbmQgbmVpZ2hib3IgbWFya2VyLWluZGV4ZXNcbiAgICAgICAgICBsZWZ0TWFya2VySW5kZXggPSBpbmRleCAtIDEgPCAwID8gdW5kZWZpbmVkIDogaW5kZXggLSAxO1xuICAgICAgICAgIHJpZ2h0TWFya2VySW5kZXggPVxuICAgICAgICAgICAgaW5kZXggKyAxID49IG1hcmtlckFyci5sZW5ndGggPyB1bmRlZmluZWQgOiBpbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb24ndCBjcmVhdGUgbWlkZGxlbWFya2VycyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBtYXJrZXIgbGVmdFxuICAgICAgICBpZiAocmlnaHRNYXJrZXJJbmRleCAhPT0gbGVmdE1hcmtlckluZGV4KSB7XG4gICAgICAgICAgY29uc3QgbGVmdE0gPSBtYXJrZXJBcnJbbGVmdE1hcmtlckluZGV4XTtcbiAgICAgICAgICBjb25zdCByaWdodE0gPSBtYXJrZXJBcnJbcmlnaHRNYXJrZXJJbmRleF07XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWRlTWlkZGxlTWFya2VycyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlTWlkZGxlTWFya2VyKGxlZnRNLCByaWdodE0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgbWFya2VyIGZyb20gdGhlIG1hcmtlcnMgYXJyYXlcbiAgICAgICAgbWFya2VyQXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlyZSBlZGl0IGV2ZW50XG4gICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IHRydWU7XG5cbiAgICAvLyBmaXJlIHZlcnRleCByZW1vdmFsIGV2ZW50XG4gICAgLy8gVE9ETzogbWF5YmUgZmlyZSBsYXRsbmcgYXMgd2VsbD9cbiAgICB0aGlzLl9maXJlVmVydGV4UmVtb3ZlZChtYXJrZXIsIGluZGV4UGF0aCk7XG4gICAgdGhpcy5fZmlyZUNoYW5nZSh0aGlzLl9sYXllci5nZXRMYXRMbmdzKCksICdFZGl0Jyk7XG4gIH0sXG4gIHVwZGF0ZVBvbHlnb25Db29yZHNGcm9tTWFya2VyRHJhZyhtYXJrZXIpIHtcbiAgICAvLyB1cGRhdGUgcG9seWdvbiBjb29yZHNcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9sYXllci5nZXRMYXRMbmdzKCk7XG5cbiAgICAvLyBnZXQgbWFya2VyIGxhdGxuZ1xuICAgIGNvbnN0IGxhdGxuZyA9IG1hcmtlci5nZXRMYXRMbmcoKTtcblxuICAgIC8vIGdldCBpbmRleFBhdGggb2YgTWFya2VyXG4gICAgY29uc3QgeyBpbmRleFBhdGgsIGluZGV4LCBwYXJlbnRQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgbWFya2VyXG4gICAgKTtcblxuICAgIC8vIHVwZGF0ZSBjb29yZFxuICAgIGNvbnN0IHBhcmVudCA9IGluZGV4UGF0aC5sZW5ndGggPiAxID8gZ2V0KGNvb3JkcywgcGFyZW50UGF0aCkgOiBjb29yZHM7XG4gICAgcGFyZW50LnNwbGljZShpbmRleCwgMSwgbGF0bG5nKTtcblxuICAgIC8vIHNldCBuZXcgY29vcmRzIG9uIGxheWVyXG4gICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyhjb29yZHMpO1xuICB9LFxuXG4gIF9nZXROZWlnaGJvck1hcmtlcnMobWFya2VyKSB7XG4gICAgY29uc3QgeyBpbmRleFBhdGgsIGluZGV4LCBwYXJlbnRQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgbWFya2VyXG4gICAgKTtcblxuICAgIC8vIHRoZSBtYXJrZXJzIG5laWdoYm9yc1xuICAgIGNvbnN0IG1hcmtlckFyciA9XG4gICAgICBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldCh0aGlzLl9tYXJrZXJzLCBwYXJlbnRQYXRoKSA6IHRoaXMuX21hcmtlcnM7XG5cbiAgICAvLyBmaW5kIHRoZSBpbmRpemVzIG9mIG5leHQgYW5kIHByZXZpb3VzIG1hcmtlcnNcbiAgICBjb25zdCBuZXh0TWFya2VySW5kZXggPSAoaW5kZXggKyAxKSAlIG1hcmtlckFyci5sZW5ndGg7XG4gICAgY29uc3QgcHJldk1hcmtlckluZGV4ID0gKGluZGV4ICsgKG1hcmtlckFyci5sZW5ndGggLSAxKSkgJSBtYXJrZXJBcnIubGVuZ3RoO1xuXG4gICAgLy8gZ2V0IHByZXYgYW5kIG5leHQgbWFya2VyXG4gICAgY29uc3QgcHJldk1hcmtlciA9IG1hcmtlckFycltwcmV2TWFya2VySW5kZXhdO1xuICAgIGNvbnN0IG5leHRNYXJrZXIgPSBtYXJrZXJBcnJbbmV4dE1hcmtlckluZGV4XTtcblxuICAgIHJldHVybiB7IHByZXZNYXJrZXIsIG5leHRNYXJrZXIgfTtcbiAgfSxcbiAgX2NoZWNrTWFya2VyQWxsb3dlZFRvRHJhZyhtYXJrZXIpIHtcbiAgICBjb25zdCB7IHByZXZNYXJrZXIsIG5leHRNYXJrZXIgfSA9IHRoaXMuX2dldE5laWdoYm9yTWFya2VycyhtYXJrZXIpO1xuXG4gICAgY29uc3QgcHJldkxpbmUgPSBMLnBvbHlsaW5lKFtwcmV2TWFya2VyLmdldExhdExuZygpLCBtYXJrZXIuZ2V0TGF0TG5nKCldKTtcbiAgICBjb25zdCBuZXh0TGluZSA9IEwucG9seWxpbmUoW21hcmtlci5nZXRMYXRMbmcoKSwgbmV4dE1hcmtlci5nZXRMYXRMbmcoKV0pO1xuXG4gICAgbGV0IHByZXZMaW5lSW50ZXJzZWN0aW9uTGVuID0gbGluZUludGVyc2VjdChcbiAgICAgIHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSksXG4gICAgICBwcmV2TGluZS50b0dlb0pTT04oMTUpXG4gICAgKS5mZWF0dXJlcy5sZW5ndGg7XG4gICAgbGV0IG5leHRMaW5lSW50ZXJzZWN0aW9uTGVuID0gbGluZUludGVyc2VjdChcbiAgICAgIHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSksXG4gICAgICBuZXh0TGluZS50b0dlb0pTT04oMTUpXG4gICAgKS5mZWF0dXJlcy5sZW5ndGg7XG5cbiAgICAvLyBUaGUgZmlyc3QgYW5kIGxhc3QgbGluZSBoYXMgb25lIGludGVyc2VjdGlvbiBmZXdlciBiZWNhdXNlIHRoZXkgYXJlIG5vdCBjb25uZWN0ZWRcbiAgICBpZiAobWFya2VyLmdldExhdExuZygpID09PSB0aGlzLl9tYXJrZXJzWzBdWzBdLmdldExhdExuZygpKSB7XG4gICAgICBuZXh0TGluZUludGVyc2VjdGlvbkxlbiArPSAxO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBtYXJrZXIuZ2V0TGF0TG5nKCkgPT09XG4gICAgICB0aGlzLl9tYXJrZXJzWzBdW3RoaXMuX21hcmtlcnNbMF0ubGVuZ3RoIC0gMV0uZ2V0TGF0TG5nKClcbiAgICApIHtcbiAgICAgIHByZXZMaW5lSW50ZXJzZWN0aW9uTGVuICs9IDE7XG4gICAgfVxuXG4gICAgLy8gPD0gMiB0aGUgc3RhcnQgYW5kIGVuZCBwb2ludCBvZiB0aGUgbGluZSBhbHdheXMgaW50ZXJzZWN0aW5nIGJlY2F1c2UgdGhleSBoYXZlIHRoZSBzYW1lIGNvb3Jkcy5cbiAgICBpZiAocHJldkxpbmVJbnRlcnNlY3Rpb25MZW4gPD0gMiAmJiBuZXh0TGluZUludGVyc2VjdGlvbkxlbiA8PSAyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBfb25NYXJrZXJEcmFnU3RhcnQoZSkge1xuICAgIGNvbnN0IG1hcmtlciA9IGUudGFyZ2V0O1xuXG4gICAgLy8gV2hlbiBpbnRlcnNlY3Rpb24gaXMgdHJ1ZSB3aGlsZSBjYWxsaW5nIGVuYWJsZSgpLCB0aGUgY2FjaGVkQ29sb3IgaXMgYWxyZWFkeSBzZXRcbiAgICBpZiAoIXRoaXMuY2FjaGVkQ29sb3IpIHtcbiAgICAgIHRoaXMuY2FjaGVkQ29sb3IgPSB0aGlzLl9sYXllci5vcHRpb25zLmNvbG9yO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fdmVydGV4VmFsaWRhdGlvbignbW92ZScsIGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbmRleFBhdGggfSA9IEwuUE0uVXRpbHMuZmluZERlZXBNYXJrZXJJbmRleCh0aGlzLl9tYXJrZXJzLCBtYXJrZXIpO1xuXG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWdTdGFydChlLCBpbmRleFBhdGgpO1xuXG4gICAgLy8gaWYgc2VsZiBpbnRlcnNlY3Rpb24gaXNuJ3QgYWxsb3dlZCwgc2F2ZSB0aGUgY29vcmRzIHVwb24gZHJhZ3N0YXJ0XG4gICAgLy8gaW4gY2FzZSB3ZSBuZWVkIHRvIHJlc2V0IHRoZSBsYXllclxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbikge1xuICAgICAgdGhpcy5fY29vcmRzQmVmb3JlRWRpdCA9IGNvcHlMYXRMbmdzKFxuICAgICAgICB0aGlzLl9sYXllcixcbiAgICAgICAgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICF0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uICYmXG4gICAgICB0aGlzLm9wdGlvbnMuYWxsb3dTZWxmSW50ZXJzZWN0aW9uRWRpdCAmJlxuICAgICAgdGhpcy5oYXNTZWxmSW50ZXJzZWN0aW9uKClcbiAgICApIHtcbiAgICAgIHRoaXMuX21hcmtlckFsbG93ZWRUb0RyYWcgPSB0aGlzLl9jaGVja01hcmtlckFsbG93ZWRUb0RyYWcobWFya2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbWFya2VyQWxsb3dlZFRvRHJhZyA9IG51bGw7XG4gICAgfVxuICB9LFxuICBfb25NYXJrZXJEcmFnKGUpIHtcbiAgICAvLyBkcmFnZ2VkIG1hcmtlclxuICAgIGNvbnN0IG1hcmtlciA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZyhtYXJrZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbmRleFBhdGgsIGluZGV4LCBwYXJlbnRQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgbWFya2VyXG4gICAgKTtcblxuICAgIC8vIG9ubHkgY29udGludWUgaWYgdGhpcyBpcyBOT1QgYSBtaWRkbGUgbWFya2VyXG4gICAgaWYgKCFpbmRleFBhdGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbiAmJlxuICAgICAgdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbkVkaXQgJiZcbiAgICAgIHRoaXMuaGFzU2VsZkludGVyc2VjdGlvbigpICYmXG4gICAgICB0aGlzLl9tYXJrZXJBbGxvd2VkVG9EcmFnID09PSBmYWxzZVxuICAgICkge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0TGF0TG5ncyh0aGlzLl9jb29yZHNCZWZvcmVFZGl0KTtcbiAgICAgIC8vIHJlLWVuYWJsZSBtYXJrZXJzIGZvciB0aGUgbmV3IGNvb3Jkc1xuICAgICAgdGhpcy5faW5pdE1hcmtlcnMoKTtcbiAgICAgIC8vIGNoZWNrIGZvciBzZWxmaW50ZXJzZWN0aW9uIGFnYWluIChtYWlubHkgdG8gcmVzZXQgdGhlIHN0eWxlKVxuICAgICAgdGhpcy5faGFuZGxlTGF5ZXJTdHlsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlUG9seWdvbkNvb3Jkc0Zyb21NYXJrZXJEcmFnKG1hcmtlcik7XG5cbiAgICAvLyB0aGUgZHJhZ2dlZCBtYXJrZXJzIG5laWdoYm9yc1xuICAgIGNvbnN0IG1hcmtlckFyciA9XG4gICAgICBpbmRleFBhdGgubGVuZ3RoID4gMSA/IGdldCh0aGlzLl9tYXJrZXJzLCBwYXJlbnRQYXRoKSA6IHRoaXMuX21hcmtlcnM7XG5cbiAgICAvLyBmaW5kIHRoZSBpbmRpemVzIG9mIG5leHQgYW5kIHByZXZpb3VzIG1hcmtlcnNcbiAgICBjb25zdCBuZXh0TWFya2VySW5kZXggPSAoaW5kZXggKyAxKSAlIG1hcmtlckFyci5sZW5ndGg7XG4gICAgY29uc3QgcHJldk1hcmtlckluZGV4ID0gKGluZGV4ICsgKG1hcmtlckFyci5sZW5ndGggLSAxKSkgJSBtYXJrZXJBcnIubGVuZ3RoO1xuXG4gICAgLy8gdXBkYXRlIG1pZGRsZSBtYXJrZXJzIG9uIHRoZSBsZWZ0IGFuZCByaWdodFxuICAgIC8vIGJlIGF3YXJlIHRoYXQgXCJuZXh0XCIgYW5kIFwicHJldlwiIG1pZ2h0IGJlIGludGVyY2hhbmdlZCwgZGVwZW5kaW5nIG9uIHRoZSBnZW9qc29uIGFycmF5XG4gICAgY29uc3QgbWFya2VyTGF0TG5nID0gbWFya2VyLmdldExhdExuZygpO1xuXG4gICAgLy8gZ2V0IGxhdGxuZyBvZiBwcmV2IGFuZCBuZXh0IG1hcmtlclxuICAgIGNvbnN0IHByZXZNYXJrZXJMYXRMbmcgPSBtYXJrZXJBcnJbcHJldk1hcmtlckluZGV4XS5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBuZXh0TWFya2VyTGF0TG5nID0gbWFya2VyQXJyW25leHRNYXJrZXJJbmRleF0uZ2V0TGF0TG5nKCk7XG5cbiAgICBpZiAobWFya2VyLl9taWRkbGVNYXJrZXJOZXh0KSB7XG4gICAgICBjb25zdCBtaWRkbGVNYXJrZXJOZXh0TGF0TG5nID0gTC5QTS5VdGlscy5jYWxjTWlkZGxlTGF0TG5nKFxuICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgIG1hcmtlckxhdExuZyxcbiAgICAgICAgbmV4dE1hcmtlckxhdExuZ1xuICAgICAgKTtcbiAgICAgIG1hcmtlci5fbWlkZGxlTWFya2VyTmV4dC5zZXRMYXRMbmcobWlkZGxlTWFya2VyTmV4dExhdExuZyk7XG4gICAgfVxuXG4gICAgaWYgKG1hcmtlci5fbWlkZGxlTWFya2VyUHJldikge1xuICAgICAgY29uc3QgbWlkZGxlTWFya2VyUHJldkxhdExuZyA9IEwuUE0uVXRpbHMuY2FsY01pZGRsZUxhdExuZyhcbiAgICAgICAgdGhpcy5fbWFwLFxuICAgICAgICBtYXJrZXJMYXRMbmcsXG4gICAgICAgIHByZXZNYXJrZXJMYXRMbmdcbiAgICAgICk7XG4gICAgICBtYXJrZXIuX21pZGRsZU1hcmtlclByZXYuc2V0TGF0TG5nKG1pZGRsZU1hcmtlclByZXZMYXRMbmcpO1xuICAgIH1cblxuICAgIC8vIGlmIHNlbGYgaW50ZXJzZWN0aW9uIGlzIG5vdCBhbGxvd2VkLCBoYW5kbGUgaXRcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2hhbmRsZUxheWVyU3R5bGUoKTtcbiAgICB9XG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWcoZSwgaW5kZXhQYXRoKTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ0VkaXQnKTtcbiAgfSxcbiAgX29uTWFya2VyRHJhZ0VuZChlKSB7XG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG5cbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnRW5kKG1hcmtlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KHRoaXMuX21hcmtlcnMsIG1hcmtlcik7XG5cbiAgICAvLyBpZiBzZWxmIGludGVyc2VjdGlvbiBpcyBub3QgYWxsb3dlZCBidXQgdGhpcyBlZGl0IGNhdXNlZCBhIHNlbGYgaW50ZXJzZWN0aW9uLFxuICAgIC8vIHJlc2V0IGFuZCBjYW5jZWw7IGRvIG5vdCBmaXJlIGV2ZW50c1xuICAgIGxldCBpbnRlcnNlY3Rpb24gPSB0aGlzLmhhc1NlbGZJbnRlcnNlY3Rpb24oKTtcbiAgICBpZiAoXG4gICAgICBpbnRlcnNlY3Rpb24gJiZcbiAgICAgIHRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb25FZGl0ICYmXG4gICAgICB0aGlzLl9tYXJrZXJBbGxvd2VkVG9EcmFnXG4gICAgKSB7XG4gICAgICBpbnRlcnNlY3Rpb24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBpbnRlcnNlY3Rpb25SZXNldCA9XG4gICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VsZkludGVyc2VjdGlvbiAmJiBpbnRlcnNlY3Rpb247XG5cbiAgICB0aGlzLl9maXJlTWFya2VyRHJhZ0VuZChlLCBpbmRleFBhdGgsIGludGVyc2VjdGlvblJlc2V0KTtcblxuICAgIGlmIChpbnRlcnNlY3Rpb25SZXNldCkge1xuICAgICAgLy8gcmVzZXQgY29vcmRpbmF0ZXNcbiAgICAgIHRoaXMuX2xheWVyLnNldExhdExuZ3ModGhpcy5fY29vcmRzQmVmb3JlRWRpdCk7XG4gICAgICB0aGlzLl9jb29yZHNCZWZvcmVFZGl0ID0gbnVsbDtcblxuICAgICAgLy8gcmUtZW5hYmxlIG1hcmtlcnMgZm9yIHRoZSBuZXcgY29vcmRzXG4gICAgICB0aGlzLl9pbml0TWFya2VycygpO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNuYXBwYWJsZSkge1xuICAgICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgICAgfVxuXG4gICAgICAvLyBjaGVjayBmb3Igc2VsZmludGVyc2VjdGlvbiBhZ2FpbiAobWFpbmx5IHRvIHJlc2V0IHRoZSBzdHlsZSlcbiAgICAgIHRoaXMuX2hhbmRsZUxheWVyU3R5bGUoKTtcblxuICAgICAgdGhpcy5fZmlyZUxheWVyUmVzZXQoZSwgaW5kZXhQYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb24gJiZcbiAgICAgIHRoaXMub3B0aW9ucy5hbGxvd1NlbGZJbnRlcnNlY3Rpb25FZGl0XG4gICAgKSB7XG4gICAgICB0aGlzLl9oYW5kbGVMYXllclN0eWxlKCk7XG4gICAgfVxuICAgIC8vIGZpcmUgZWRpdCBldmVudFxuICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSB0cnVlO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpLCAnRWRpdCcpO1xuICB9LFxuICBfb25WZXJ0ZXhDbGljayhlKSB7XG4gICAgY29uc3QgdmVydGV4ID0gZS50YXJnZXQ7XG4gICAgaWYgKHZlcnRleC5fZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KHRoaXMuX21hcmtlcnMsIHZlcnRleCk7XG5cbiAgICB0aGlzLl9maXJlVmVydGV4Q2xpY2soZSwgaW5kZXhQYXRoKTtcbiAgfSxcbn0pO1xuIiwgImNvbnN0IE1hcmtlckxpbWl0cyA9IHtcbiAgZmlsdGVyTWFya2VyR3JvdXAoKSB7XG4gICAgLy8gZGVmaW5lIGNhY2hlIG9mIG1hcmtlcnNcbiAgICB0aGlzLm1hcmtlckNhY2hlID0gW107XG4gICAgdGhpcy5jcmVhdGVDYWNoZSgpO1xuXG4gICAgLy8gcmVmcmVzaCBjYWNoZSB3aGVuIGxheWVyIHdhcyBlZGl0ZWQgKGUuZy4gd2hlbiBhIHZlcnRleCB3YXMgYWRkZWQgb3IgcmVtb3ZlZClcbiAgICB0aGlzLl9sYXllci5vbigncG06ZWRpdCcsIHRoaXMuY3JlYXRlQ2FjaGUsIHRoaXMpO1xuXG4gICAgLy8gYXBwbHkgZmlsdGVyIGZvciB0aGUgZmlyc3QgdGltZVxuICAgIHRoaXMuYXBwbHlMaW1pdEZpbHRlcnMoe30pO1xuXG4gICAgaWYgKCF0aGlzLnRocm90dGxlZEFwcGx5TGltaXRGaWx0ZXJzKSB7XG4gICAgICB0aGlzLnRocm90dGxlZEFwcGx5TGltaXRGaWx0ZXJzID0gTC5VdGlsLnRocm90dGxlKFxuICAgICAgICB0aGlzLmFwcGx5TGltaXRGaWx0ZXJzLFxuICAgICAgICAxMDAsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGV2ZW50cyB3aGVuIGVkaXQgbW9kZSBpcyBkaXNhYmxlZFxuICAgIHRoaXMuX2xheWVyLm9uKCdwbTpkaXNhYmxlJywgdGhpcy5fcmVtb3ZlTWFya2VyTGltaXRFdmVudHMsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9uKCdyZW1vdmUnLCB0aGlzLl9yZW1vdmVNYXJrZXJMaW1pdEV2ZW50cywgdGhpcyk7XG5cbiAgICAvLyBhZGQgbWFya2VycyBjbG9zZXN0IHRvIHRoZSBtb3VzZVxuICAgIGlmICh0aGlzLm9wdGlvbnMubGltaXRNYXJrZXJzVG9Db3VudCA+IC0xKSB7XG4gICAgICAvLyByZS1pbml0IG1hcmtlcnMgd2hlbiBhIHZlcnRleCBpcyByZW1vdmVkLlxuICAgICAgLy8gVGhlIHJlYXNvbiBpcyB0aGF0IHN5bmNpbmcgdGhpcyBjYWNoZSB3aXRoIGEgcmVtb3ZlZCBtYXJrZXIgd2FzIGltcG9zc2libGUgdG8gZG9cbiAgICAgIHRoaXMuX2xheWVyLm9uKCdwbTp2ZXJ0ZXhyZW1vdmVkJywgdGhpcy5faW5pdE1hcmtlcnMsIHRoaXMpO1xuXG4gICAgICB0aGlzLl9tYXAub24oJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkQXBwbHlMaW1pdEZpbHRlcnMsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgX3JlbW92ZU1hcmtlckxpbWl0RXZlbnRzKCkge1xuICAgIHRoaXMuX21hcC5vZmYoJ21vdXNlbW92ZScsIHRoaXMudGhyb3R0bGVkQXBwbHlMaW1pdEZpbHRlcnMsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9mZigncG06ZWRpdCcsIHRoaXMuY3JlYXRlQ2FjaGUsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9mZigncG06ZGlzYWJsZScsIHRoaXMuX3JlbW92ZU1hcmtlckxpbWl0RXZlbnRzLCB0aGlzKTtcbiAgICB0aGlzLl9sYXllci5vZmYoJ3BtOnZlcnRleHJlbW92ZWQnLCB0aGlzLl9pbml0TWFya2VycywgdGhpcyk7XG4gIH0sXG4gIGNyZWF0ZUNhY2hlKCkge1xuICAgIGNvbnN0IGFsbE1hcmtlcnMgPSBbLi4udGhpcy5fbWFya2VyR3JvdXAuZ2V0TGF5ZXJzKCksIC4uLnRoaXMubWFya2VyQ2FjaGVdO1xuICAgIHRoaXMubWFya2VyQ2FjaGUgPSBhbGxNYXJrZXJzLmZpbHRlcigodiwgaSwgcykgPT4gcy5pbmRleE9mKHYpID09PSBpKTtcbiAgfSxcbiAgX3JlbW92ZUZyb21DYWNoZShtYXJrZXIpIHtcbiAgICBjb25zdCBtYXJrZXJDYWNoZUluZGV4ID0gdGhpcy5tYXJrZXJDYWNoZS5pbmRleE9mKG1hcmtlcik7XG4gICAgaWYgKG1hcmtlckNhY2hlSW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5tYXJrZXJDYWNoZS5zcGxpY2UobWFya2VyQ2FjaGVJbmRleCwgMSk7XG4gICAgfVxuICB9LFxuICByZW5kZXJMaW1pdHMobWFya2Vycykge1xuICAgIHRoaXMubWFya2VyQ2FjaGUuZm9yRWFjaCgobCkgPT4ge1xuICAgICAgaWYgKG1hcmtlcnMuaW5jbHVkZXMobCkpIHtcbiAgICAgICAgdGhpcy5fbWFya2VyR3JvdXAuYWRkTGF5ZXIobCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVMYXllcihsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgYXBwbHlMaW1pdEZpbHRlcnMoeyBsYXRsbmcgPSB7IGxhdDogMCwgbG5nOiAwIH0gfSkge1xuICAgIGlmICh0aGlzLl9wcmV2ZW50UmVuZGVyTWFya2Vycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaW5kIG1hcmtlcnMgbmVhciB0aGUgY3Vyc29yXG4gICAgY29uc3QgbWFrZXJzTmVhckN1cnNvciA9IHRoaXMuX2ZpbHRlckNsb3Nlc3RNYXJrZXJzKGxhdGxuZyk7XG5cbiAgICAvLyBhbGwgbWFya2VycyB0aGF0IHdlIHdhbnQgdG8gc2hvd1xuICAgIGNvbnN0IG1hcmtlcnNUb0FkZCA9IFsuLi5tYWtlcnNOZWFyQ3Vyc29yXTtcblxuICAgIHRoaXMucmVuZGVyTGltaXRzKG1hcmtlcnNUb0FkZCk7XG4gIH0sXG4gIF9maWx0ZXJDbG9zZXN0TWFya2VycyhsYXRsbmcpIHtcbiAgICBjb25zdCBtYXJrZXJzID0gWy4uLnRoaXMubWFya2VyQ2FjaGVdO1xuICAgIGNvbnN0IGxpbWl0ID0gdGhpcy5vcHRpb25zLmxpbWl0TWFya2Vyc1RvQ291bnQ7XG5cbiAgICBpZiAobGltaXQgPT09IC0xKSB7XG4gICAgICByZXR1cm4gbWFya2VycztcbiAgICB9XG5cbiAgICAvLyBzb3J0IG1hcmtlcnMgYnkgZGlzdGFuY2UgdG8gY3Vyc29yXG4gICAgbWFya2Vycy5zb3J0KChsLCB0KSA9PiB7XG4gICAgICBjb25zdCBkaXN0YW5jZUEgPSBsLl9sYXRsbmcuZGlzdGFuY2VUbyhsYXRsbmcpO1xuICAgICAgY29uc3QgZGlzdGFuY2VCID0gdC5fbGF0bG5nLmRpc3RhbmNlVG8obGF0bG5nKTtcblxuICAgICAgcmV0dXJuIGRpc3RhbmNlQSAtIGRpc3RhbmNlQjtcbiAgICB9KTtcblxuICAgIC8vIHJlZHVjZSBtYXJrZXJzIHRvIG51bWJlciBvZiBsaW1pdFxuICAgIGNvbnN0IGNsb3Nlc3QgPSBtYXJrZXJzLmZpbHRlcigobCwgaSkgPT4gKGxpbWl0ID4gLTEgPyBpIDwgbGltaXQgOiB0cnVlKSk7XG5cbiAgICByZXR1cm4gY2xvc2VzdDtcbiAgfSxcbiAgX3ByZXZlbnRSZW5kZXJNYXJrZXJzOiBmYWxzZSxcbiAgX3ByZXZlbnRSZW5kZXJpbmdNYXJrZXJzKHZhbHVlKSB7XG4gICAgdGhpcy5fcHJldmVudFJlbmRlck1hcmtlcnMgPSAhIXZhbHVlO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWFya2VyTGltaXRzO1xuIiwgImltcG9ydCBsaW5lSW50ZXJzZWN0IGZyb20gJ0B0dXJmL2xpbmUtaW50ZXJzZWN0JztcbmltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuRWRpdC5Qb2x5Z29uID0gRWRpdC5MaW5lLmV4dGVuZCh7XG4gIF9zaGFwZTogJ1BvbHlnb24nLFxuICBfY2hlY2tNYXJrZXJBbGxvd2VkVG9EcmFnKG1hcmtlcikge1xuICAgIGNvbnN0IHsgcHJldk1hcmtlciwgbmV4dE1hcmtlciB9ID0gdGhpcy5fZ2V0TmVpZ2hib3JNYXJrZXJzKG1hcmtlcik7XG5cbiAgICBjb25zdCBwcmV2TGluZSA9IEwucG9seWxpbmUoW3ByZXZNYXJrZXIuZ2V0TGF0TG5nKCksIG1hcmtlci5nZXRMYXRMbmcoKV0pO1xuICAgIGNvbnN0IG5leHRMaW5lID0gTC5wb2x5bGluZShbbWFya2VyLmdldExhdExuZygpLCBuZXh0TWFya2VyLmdldExhdExuZygpXSk7XG5cbiAgICBjb25zdCBwcmV2TGluZUludGVyc2VjdGlvbkxlbiA9IGxpbmVJbnRlcnNlY3QoXG4gICAgICB0aGlzLl9sYXllci50b0dlb0pTT04oMTUpLFxuICAgICAgcHJldkxpbmUudG9HZW9KU09OKDE1KVxuICAgICkuZmVhdHVyZXMubGVuZ3RoO1xuICAgIGNvbnN0IG5leHRMaW5lSW50ZXJzZWN0aW9uTGVuID0gbGluZUludGVyc2VjdChcbiAgICAgIHRoaXMuX2xheWVyLnRvR2VvSlNPTigxNSksXG4gICAgICBuZXh0TGluZS50b0dlb0pTT04oMTUpXG4gICAgKS5mZWF0dXJlcy5sZW5ndGg7XG5cbiAgICAvLyA8PSAyIHRoZSBzdGFydCBhbmQgZW5kIHBvaW50IG9mIHRoZSBsaW5lIGFsd2F5cyBpbnRlcnNlY3RpbmcgYmVjYXVzZSB0aGV5IGhhdmUgdGhlIHNhbWUgY29vcmRzLlxuICAgIGlmIChwcmV2TGluZUludGVyc2VjdGlvbkxlbiA8PSAyICYmIG5leHRMaW5lSW50ZXJzZWN0aW9uTGVuIDw9IDIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG59KTtcbiIsICIvLyBDb3JuZXIgZGV0ZWN0aW9uIGJhc2VkIG9uIExlYWZsZXQgRHJhdydzIEVkaXQuUmVjdGFuZ2xlLmpzIENsYXNzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC5kcmF3L2Jsb2IvbWFzdGVyL3NyYy9lZGl0L2hhbmRsZXIvRWRpdC5SZWN0YW5nbGUuanNcbmltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcbmltcG9ydCB7IGNhbGNBbmdsZSB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5FZGl0LlJlY3RhbmdsZSA9IEVkaXQuUG9seWdvbi5leHRlbmQoe1xuICBfc2hhcGU6ICdSZWN0YW5nbGUnLFxuICAvLyBpbml0aWFsaXplcyBSZWN0YW5nbGUgTWFya2Vyc1xuICBfaW5pdE1hcmtlcnMoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGNvbnN0IGNvcm5lcnMgPSB0aGlzLl9maW5kQ29ybmVycygpO1xuXG4gICAgLy8gY2xlYW51cCBvbGQgb25lcyBmaXJzdFxuICAgIGlmICh0aGlzLl9tYXJrZXJHcm91cCkge1xuICAgICAgdGhpcy5fbWFya2VyR3JvdXAuY2xlYXJMYXllcnMoKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgbWFya2VyR3JvdXAgdG8gbWFwLCBtYXJrZXJHcm91cCBpbmNsdWRlcyByZWd1bGFyIGFuZCBtaWRkbGUgbWFya2Vyc1xuICAgIHRoaXMuX21hcmtlckdyb3VwID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XG4gICAgdGhpcy5fbWFya2VyR3JvdXAuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICBtYXAuYWRkTGF5ZXIodGhpcy5fbWFya2VyR3JvdXApO1xuXG4gICAgLy8gY3JlYXRlIG1hcmtlcnMgZm9yIGZvdXIgY29ybmVycyBvZiByZWN0YW5nbGVcbiAgICB0aGlzLl9tYXJrZXJzID0gW107XG5cbiAgICAvLyBuZXN0IHNldCBvZiBjb3JuZXIgbWFya2VycyBpbiBhIDJEIGFycmF5IHNvIHRoYXQgd2UgY2FuIEN1dCB0aGlzIFJlY3RhbmdsZSwgaWYgbmVlZGVkXG4gICAgdGhpcy5fbWFya2Vyc1swXSA9IGNvcm5lcnMubWFwKHRoaXMuX2NyZWF0ZU1hcmtlciwgdGhpcyk7XG5cbiAgICAvLyBjb252ZW5pZW5jZSBhbGlhcywgZm9yIGJldHRlciByZWFkYWJpbGl0eVxuICAgIFt0aGlzLl9jb3JuZXJNYXJrZXJzXSA9IHRoaXMuX21hcmtlcnM7XG5cbiAgICAvLyBVcGRhdGUgdGhlIG1hcmtlciBsYXRsbmdzIGlmIHRoZSByZWN0YW5nbGUgaXMgcm90YXRlZFxuICAgIHRoaXMuX2xheWVyLmdldExhdExuZ3MoKVswXS5mb3JFYWNoKChsYXRsbmcsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9jb3JuZXJNYXJrZXJzLmZpbmQoKG0pID0+IG0uX2luZGV4ID09PSBpbmRleCk7XG4gICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgIG1hcmtlci5zZXRMYXRMbmcobGF0bG5nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICB9XG4gICAgdGhpcy5fYWRkTWFya2VyRXZlbnRzKCk7XG4gIH0sXG5cbiAgLy8gY3JlYXRlcyBpbml0aWFsIG1hcmtlcnMgZm9yIGNvb3JkaW5hdGVzXG4gIF9jcmVhdGVNYXJrZXIobGF0bG5nLCBpbmRleCkge1xuICAgIGNvbnN0IG1hcmtlciA9IG5ldyBMLk1hcmtlcihsYXRsbmcsIHtcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgIGljb246IEwuZGl2SWNvbih7IGNsYXNzTmFtZTogJ21hcmtlci1pY29uJyB9KSxcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRQYW5lKG1hcmtlciwgJ3ZlcnRleFBhbmUnKTtcblxuICAgIG1hcmtlci5fb3JpZ0xhdExuZyA9IGxhdGxuZztcbiAgICBtYXJrZXIuX2luZGV4ID0gaW5kZXg7XG4gICAgbWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICBtYXJrZXIub24oJ2NsaWNrJywgdGhpcy5fb25WZXJ0ZXhDbGljaywgdGhpcyk7XG5cbiAgICB0aGlzLl9tYXJrZXJHcm91cC5hZGRMYXllcihtYXJrZXIpO1xuXG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcbiAgLy8gQWRkIG1hcmtlciBldmVudHMgYWZ0ZXIgYWRkaW5nIHRoZSBzbmFwcGluZyBldmVudHMgdG8gdGhlIG1hcmtlcnMsIGJlYWNhdXNlIG9mIHRoZSBleGVjdXRpb24gb3JkZXJcbiAgX2FkZE1hcmtlckV2ZW50cygpIHtcbiAgICB0aGlzLl9tYXJrZXJzWzBdLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgbWFya2VyLm9uKCdkcmFnc3RhcnQnLCB0aGlzLl9vbk1hcmtlckRyYWdTdGFydCwgdGhpcyk7XG4gICAgICBtYXJrZXIub24oJ2RyYWcnLCB0aGlzLl9vbk1hcmtlckRyYWcsIHRoaXMpO1xuICAgICAgbWFya2VyLm9uKCdkcmFnZW5kJywgdGhpcy5fb25NYXJrZXJEcmFnRW5kLCB0aGlzKTtcblxuICAgICAgLy8gVE9ETzogQ2FuIHdlIHJlbW92ZSB0aGlzPyBUaGUgX3JlbW92ZU1hcmtlciBFdmVudCBpcyBhIGVtcHR5IGZ1bmN0aW9uXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5wcmV2ZW50TWFya2VyUmVtb3ZhbCkge1xuICAgICAgICBtYXJrZXIub24oJ2NvbnRleHRtZW51JywgdGhpcy5fcmVtb3ZlTWFya2VyLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLy8gRW1wdHkgY2FsbGJhY2sgZm9yICdjb250ZXh0bWVudScgYmluZGluZyBzZXQgaW4gTC5QTS5FZGl0LkxpbmUuanMncyBfY3JlYXRlTWFya2VyIG1ldGhvZCAoQUtBLCByaWdodC1jbGljayBvbiBtYXJrZXIgZXZlbnQpXG4gIC8vIChBIFJlY3RhbmdsZSBpcyBkZXNpZ25lZCB0byBhbHdheXMgcmVtYWluIGEgXCJ0cnVlXCIgcmVjdGFuZ2xlIC0tIGlmIHlvdSB3YW50IGl0IGVkaXRhYmxlLCB1c2UgUG9seWdvbiBUb29sIGluc3RlYWQhISEpXG4gIF9yZW1vdmVNYXJrZXIoKSB7XG4gICAgLy8gVGhlIG1ldGhvZCwgaXQgZG9lcyBub3RoaW5nISEhXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgX29uTWFya2VyRHJhZ1N0YXJ0KGUpIHtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb24oJ21vdmUnLCBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGRyYWdnZWQgbWFya2VyXG4gICAgY29uc3QgZHJhZ2dlZE1hcmtlciA9IGUudGFyZ2V0O1xuICAgIC8vIFN0b3JlL3VwZGF0ZSBhIHJlZmVyZW5jZSB0byBtYXJrZXIgaW4gb3Bwb3NpdGUgY29ybmVyXG4gICAgY29uc3QgY29ybmVycyA9IHRoaXMuX2Nvcm5lck1hcmtlcnM7XG4gICAgZHJhZ2dlZE1hcmtlci5fb3Bwb3NpdGVDb3JuZXJMYXRMbmcgPSBjb3JuZXJzXG4gICAgICAuZmluZCgobSkgPT4gbS5faW5kZXggPT09IChkcmFnZ2VkTWFya2VyLl9pbmRleCArIDIpICUgNClcbiAgICAgIC5nZXRMYXRMbmcoKTtcblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgdW5zbmFwIGFsbCBtYXJrZXJzIG9uIGRyYWcgc3RhcnQgKHRoZXknbGwgc25hcCBiYWNrIGlmIGNsb3NlIGVub3VnaCB0byBhbm90aGVyIHNuYXBwYWJsZSBvYmplY3QpXG4gICAgLy8gKFdpdGhvdXQgdGhpcywgaXQncyBvY2Nhc2lvbmFsbHkgcG9zc2libGUgZm9yIGEgbWFya2VyIHRvIGdldCBzdHVjayBhcyAnc25hcHBlZCwnIHdoaWNoIHByZXZlbnRzIFJlY3RhbmdsZSByZXNpemluZylcbiAgICBkcmFnZ2VkTWFya2VyLl9zbmFwcGVkID0gZmFsc2U7XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KFxuICAgICAgdGhpcy5fbWFya2VycyxcbiAgICAgIGRyYWdnZWRNYXJrZXJcbiAgICApO1xuXG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWdTdGFydChlLCBpbmRleFBhdGgpO1xuICB9LFxuXG4gIF9vbk1hcmtlckRyYWcoZSkge1xuICAgIC8vIGRyYWdnZWQgbWFya2VyXG4gICAgY29uc3QgZHJhZ2dlZE1hcmtlciA9IGUudGFyZ2V0O1xuXG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZyhkcmFnZ2VkTWFya2VyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG9ubHkgY29udGludWUgaWYgdGhpcyBpcyBOT1QgYSBtaWRkbGUgbWFya2VyIChzaG91bGQgTkVWRVIgYmUgb25lLCBidXQgdGhpcyBpcyBqdXN0IGEgc2FmZXR5IGNoZWNrKVxuICAgIGlmIChkcmFnZ2VkTWFya2VyLl9pbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYWRqdXN0UmVjdGFuZ2xlRm9yTWFya2VyTW92ZShkcmFnZ2VkTWFya2VyKTtcblxuICAgIGNvbnN0IHsgaW5kZXhQYXRoIH0gPSBMLlBNLlV0aWxzLmZpbmREZWVwTWFya2VySW5kZXgoXG4gICAgICB0aGlzLl9tYXJrZXJzLFxuICAgICAgZHJhZ2dlZE1hcmtlclxuICAgICk7XG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWcoZSwgaW5kZXhQYXRoKTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ0VkaXQnKTtcbiAgfSxcblxuICBfb25NYXJrZXJEcmFnRW5kKGUpIHtcbiAgICAvLyBkcmFnZ2VkIG1hcmtlclxuICAgIGNvbnN0IGRyYWdnZWRNYXJrZXIgPSBlLnRhcmdldDtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnRW5kKGRyYWdnZWRNYXJrZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4tdXAgZGF0YSBhdHRyaWJ1dGVzXG4gICAgdGhpcy5fY29ybmVyTWFya2Vycy5mb3JFYWNoKChtKSA9PiB7XG4gICAgICBkZWxldGUgbS5fb3Bwb3NpdGVDb3JuZXJMYXRMbmc7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGluZGV4UGF0aCB9ID0gTC5QTS5VdGlscy5maW5kRGVlcE1hcmtlckluZGV4KFxuICAgICAgdGhpcy5fbWFya2VycyxcbiAgICAgIGRyYWdnZWRNYXJrZXJcbiAgICApO1xuICAgIHRoaXMuX2ZpcmVNYXJrZXJEcmFnRW5kKGUsIGluZGV4UGF0aCk7XG5cbiAgICAvLyBmaXJlIGVkaXQgZXZlbnRcbiAgICB0aGlzLl9maXJlRWRpdCgpO1xuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9maXJlQ2hhbmdlKHRoaXMuX2xheWVyLmdldExhdExuZ3MoKSwgJ0VkaXQnKTtcbiAgfSxcblxuICAvLyBhZGp1c3RzIHRoZSByZWN0YW5nbGUncyBzaXplIGFuZCBib3VuZHMgd2hlbmV2ZXIgYSBtYXJrZXIgaXMgbW92ZWRcbiAgLy8gcGFyYW1zOiBtb3ZlZE1hcmtlciAtLSB0aGUgTWFya2VyIG9iamVjdFxuICBfYWRqdXN0UmVjdGFuZ2xlRm9yTWFya2VyTW92ZShtb3ZlZE1hcmtlcikge1xuICAgIC8vIHVwZGF0ZSBtb3ZlZCBtYXJrZXIgY29vcmRpbmF0ZXNcbiAgICBMLmV4dGVuZChtb3ZlZE1hcmtlci5fb3JpZ0xhdExuZywgbW92ZWRNYXJrZXIuX2xhdGxuZyk7XG5cbiAgICAvLyB1cGRhdGUgcmVjdGFuZ2xlIGJvdW5kYXJpZXMsIGJhc2VkIG9uIG1vdmVkIG1hcmtlcidzIG5ldyBMYXRMbmcgYW5kIGNhY2hlZCBvcHBvc2l0ZSBjb3JuZXIncyBMYXRMbmdcbiAgICBjb25zdCBjb3JuZXJzID0gTC5QTS5VdGlscy5fZ2V0Um90YXRlZFJlY3RhbmdsZShcbiAgICAgIG1vdmVkTWFya2VyLmdldExhdExuZygpLFxuICAgICAgbW92ZWRNYXJrZXIuX29wcG9zaXRlQ29ybmVyTGF0TG5nLFxuICAgICAgdGhpcy5nZXRBbmdsZSgpLFxuICAgICAgdGhpcy5fbWFwXG4gICAgKTtcbiAgICB0aGlzLl9sYXllci5zZXRMYXRMbmdzKGNvcm5lcnMpO1xuXG4gICAgLy8gUmVwb3NpdGlvbiB0aGUgbWFya2VycyBhdCBlYWNoIGNvcm5lclxuICAgIHRoaXMuX2FkanVzdEFsbE1hcmtlcnMoKTtcblxuICAgIC8vIFJlZHJhdyB0aGUgc2hhcGUgKHRvIHVwZGF0ZSBhbHRlcmVkIHJlY3RhbmdsZSlcbiAgICB0aGlzLl9sYXllci5yZWRyYXcoKTtcbiAgfSxcblxuICAvLyBhZGp1c3RzIHRoZSBwb3NpdGlvbiBvZiBhbGwgTWFya2Vyc1xuICAvLyBwYXJhbXM6IG1hcmtlckxhdExuZ3MgLS0gYW4gYXJyYXkgb2YgZXhhY3RseSBMYXRMbmcgb2JqZWN0c1xuICBfYWRqdXN0QWxsTWFya2VycygpIHtcbiAgICBjb25zdCBtYXJrZXJMYXRMbmdzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdO1xuXG4gICAgaWYgKFxuICAgICAgbWFya2VyTGF0TG5ncyAmJlxuICAgICAgbWFya2VyTGF0TG5ncy5sZW5ndGggIT09IDQgJiZcbiAgICAgIG1hcmtlckxhdExuZ3MubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgLy8gVGhlIGxheWVycyBpcyBjdXJyZW50bHkgdG8gc21hbGwgYW5kIGhhcyBub3QgZW5vdWdoIGxhdGxuZ3MuXG4gICAgICAvLyBMZWFmbGV0IGRlc3Ryb3lzIHRoZSB2YWxpZCBSZWN0YW5nbGUgYnkgcmVtb3ZpbmcgdGhlIGxhc3QgbGF0bG5nIGlmIHRoZSBsYXN0IGFuZCBmaXJzdCBsYXRsbmcgYXJlIGVxdWFsLiBTZWU6IExlYWZsZXQjNzQ2NCBWMS43LjFcblxuICAgICAgLy8gdXBkYXRlIGFsbCBwb3NzaWJsZSBtYXJrZXJzXG4gICAgICBtYXJrZXJMYXRMbmdzLmZvckVhY2goKGxhdGxuZywgaW5kZXgpID0+IHtcbiAgICAgICAgdGhpcy5fY29ybmVyTWFya2Vyc1tpbmRleF0uc2V0TGF0TG5nKGxhdGxuZyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gYXBwbHkgdG8gYWxsIG1hcmtlcnMgd2l0aCBubyBsYXRsbmcgb24gdGhlIGxheWVyLCB0aGUgZmlyc3QgbGF0bG5nXG4gICAgICBjb25zdCByZXN0TWFya2VycyA9IHRoaXMuX2Nvcm5lck1hcmtlcnMuc2xpY2UobWFya2VyTGF0TG5ncy5sZW5ndGgpO1xuICAgICAgcmVzdE1hcmtlcnMuZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICAgIG1hcmtlci5zZXRMYXRMbmcobWFya2VyTGF0TG5nc1swXSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFtYXJrZXJMYXRMbmdzIHx8ICFtYXJrZXJMYXRMbmdzLmxlbmd0aCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBjb25zb2xlLmVycm9yKCdUaGUgbGF5ZXIgaGFzIG5vIExhdExuZ3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29ybmVyTWFya2Vycy5mb3JFYWNoKChtYXJrZXIpID0+IHtcbiAgICAgICAgbWFya2VyLnNldExhdExuZyhtYXJrZXJMYXRMbmdzW21hcmtlci5faW5kZXhdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgLy8gZmluZHMgdGhlIDQgY29ybmVycyBvZiB0aGUgY3VycmVudCBib3VuZGluZyBib3hcbiAgLy8gcmV0dXJucyBhcnJheSBvZiA0IExhdExuZyBvYmplY3RzIGluIHRoaXMgb3JkZXI6IE5vcnRod2VzdCBjb3JuZXIsIE5vcnRoZWFzdCBjb3JuZXIsIFNvdXRoZWFzdCBjb3JuZXIsIFNvdXRod2VzdCBjb3JuZXJcbiAgX2ZpbmRDb3JuZXJzKCkge1xuICAgIGlmICh0aGlzLl9hbmdsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldEluaXRBbmdsZShcbiAgICAgICAgY2FsY0FuZ2xlKFxuICAgICAgICAgIHRoaXMuX21hcCxcbiAgICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmdzKClbMF1bMF0sXG4gICAgICAgICAgdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdWzFdXG4gICAgICAgICkgfHwgMFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXRsbmdzID0gdGhpcy5fbGF5ZXIuZ2V0TGF0TG5ncygpWzBdO1xuICAgIHJldHVybiBMLlBNLlV0aWxzLl9nZXRSb3RhdGVkUmVjdGFuZ2xlKFxuICAgICAgbGF0bG5nc1swXSxcbiAgICAgIGxhdGxuZ3NbMl0sXG4gICAgICB0aGlzLmdldEFuZ2xlKCksXG4gICAgICB0aGlzLl9tYXAgfHwgdGhpc1xuICAgICk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRWRpdCBmcm9tICcuL0wuUE0uRWRpdCc7XG5pbXBvcnQgeyBkZXN0aW5hdGlvbk9uTGluZSB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5FZGl0LkNpcmNsZU1hcmtlciA9IEVkaXQuZXh0ZW5kKHtcbiAgX3NoYXBlOiAnQ2lyY2xlTWFya2VyJyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fbWluUmFkaXVzT3B0aW9uID0gJ21pblJhZGl1c0NpcmNsZU1hcmtlcic7XG4gICAgdGhpcy5fbWF4UmFkaXVzT3B0aW9uID0gJ21heFJhZGl1c0NpcmNsZU1hcmtlcic7XG4gICAgdGhpcy5fZWRpdGFibGVPcHRpb24gPSAncmVzaXplYWJsZUNpcmNsZU1hcmtlcic7XG5cbiAgICAvLyBjcmVhdGUgcG9seWdvbiBhcm91bmQgdGhlIGNpcmNsZSBib3JkZXJcbiAgICB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG4gIH0sXG4gIC8vIFRPRE86IHJlbW92ZSBkZWZhdWx0IG9wdGlvbiBpbiBuZXh0IG1ham9yIFJlbGVhc2VcbiAgZW5hYmxlKG9wdGlvbnMgPSB7IGRyYWdnYWJsZTogdHJ1ZSwgc25hcHBhYmxlOiB0cnVlIH0pIHtcbiAgICBMLlV0aWwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTtcbiAgICAvLyBUT0RPOiByZW1vdmUgd2l0aCBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICBpZiAodGhpcy5vcHRpb25zLmVkaXRhYmxlKSB7XG4gICAgICB0aGlzLm9wdGlvbnMucmVzaXplYWJsZUNpcmNsZU1hcmtlciA9IHRoaXMub3B0aW9ucy5lZGl0YWJsZTtcbiAgICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuZWRpdGFibGU7XG4gICAgfVxuXG4gICAgLy8gbGF5ZXIgaXMgbm90IGFsbG93ZWQgdG8gZWRpdFxuICAgIC8vIGNhbmNlbCB3aGVuIG1hcCBpc24ndCBhdmFpbGFibGUsIHRoaXMgaGFwcGVucyB3aGVuIGl0IGlzIHJlbW92ZWQgYmVmb3JlIHRoaXMgZmlyZXNcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0VkaXRpbmcgfHwgIXRoaXMuX2xheWVyLl9tYXApIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG5cbiAgICBpZiAodGhpcy5lbmFibGVkKCkpIHtcbiAgICAgIC8vIGlmIGl0IHdhcyBhbHJlYWR5IGVuYWJsZWQsIGRpc2FibGUgZmlyc3RcbiAgICAgIC8vIHdlIGRvbid0IGJsb2NrIGVuYWJsaW5nIGFnYWluIGJlY2F1c2UgbmV3IG9wdGlvbnMgbWlnaHQgYmUgcGFzc2VkXG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseU9wdGlvbnMoKTtcblxuICAgIC8vIGlmIHNoYXBlIGdldHMgcmVtb3ZlZCBmcm9tIG1hcCwgZGlzYWJsZSBlZGl0IG1vZGVcbiAgICB0aGlzLl9sYXllci5vbigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcblxuICAgIC8vIGNoYW5nZSBzdGF0ZVxuICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fZXh0ZW5kaW5nRW5hYmxlKCk7XG5cbiAgICAvLyBjcmVhdGUgcG9seWdvbiBhcm91bmQgdGhlIGNpcmNsZSBib3JkZXJcbiAgICB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG5cbiAgICB0aGlzLl9maXJlRW5hYmxlKCk7XG4gIH0sXG4gIF9leHRlbmRpbmdFbmFibGUoKSB7XG4gICAgLy8gaWYgQ2lyY2xlTWFya2VyIGlzIGRyYWdnZWQgd2hpbGUgZHJhdyBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3BtOmRyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0LCB0aGlzKTtcbiAgICB0aGlzLl9sYXllci5vbigncG06ZHJhZycsIHRoaXMuX29uTWFya2VyRHJhZywgdGhpcyk7XG4gICAgdGhpcy5fbGF5ZXIub24oJ3BtOmRyYWdlbmQnLCB0aGlzLl9vbk1hcmtlckRyYWdFbmQsIHRoaXMpO1xuICB9LFxuICBkaXNhYmxlKCkge1xuICAgIC8vIHByZXZlbnQgZGlzYWJsaW5nIGlmIGxheWVyIGlzIGJlaW5nIGRyYWdnZWRcbiAgICBpZiAodGhpcy5kcmFnZ2luZygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkIG1hcCBpZiBpdCBpcyBub3QgYWxyZWFkeSBzZXQuIFRoaXMgaGFwcGVucyB3aGVuIGRpc2FibGUoKSBpcyBjYWxsZWQgYmVmb3JlIGVuYWJsZSgpXG4gICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiBpdCdzIG5vdCBlbmFibGVkLCBpdCBkb2Vzbid0IG5lZWQgdG8gYmUgZGlzYWJsZWRcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZGlzYWJsZSBkcmFnZ2luZyBvZiBub24tZWRpdGFibGUgY2lyY2xlXG4gICAgaWYgKHRoaXMubGF5ZXJEcmFnRW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVMYXllckRyYWcoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgaWYgKHRoaXMuX2hlbHBlckxheWVycykge1xuICAgICAgICB0aGlzLl9oZWxwZXJMYXllcnMuY2xlYXJMYXllcnMoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmUnLCB0aGlzLl9zeW5jTWFya2VycywgdGhpcyk7XG4gICAgICB0aGlzLl9vdXRlck1hcmtlci5vZmYoJ2RyYWcnLCB0aGlzLl9oYW5kbGVPdXRlck1hcmtlclNuYXBwaW5nLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbWFwLm9mZignbW92ZScsIHRoaXMuX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUsIHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuX2V4dGVuZGluZ0Rpc2FibGUoKTtcblxuICAgIHRoaXMuX2xheWVyLm9mZigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLl9sYXllckVkaXRlZCkge1xuICAgICAgdGhpcy5fZmlyZVVwZGF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9sYXllckVkaXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZpcmVEaXNhYmxlKCk7XG5cbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gIH0sXG4gIF9leHRlbmRpbmdEaXNhYmxlKCkge1xuICAgIHRoaXMuX2xheWVyLm9mZignY29udGV4dG1lbnUnLCB0aGlzLl9yZW1vdmVNYXJrZXIsIHRoaXMpO1xuICB9LFxuICBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xuICB9LFxuICB0b2dnbGVFZGl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmVuYWJsZShvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBhcHBseU9wdGlvbnMoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9uc1t0aGlzLl9lZGl0YWJsZU9wdGlvbl0pIHtcbiAgICAgIHRoaXMuX2luaXRNYXJrZXJzKCk7XG4gICAgICB0aGlzLl9tYXAub24oJ21vdmUnLCB0aGlzLl9zeW5jTWFya2VycywgdGhpcyk7XG5cbiAgICAgIC8vIGluaXQgc25hcHBpbmcgaW4gZGlmZmVyZW50IHdheXNcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzKCk7XG4gICAgICAgIC8vIHVwZGF0ZSBtYXJrZXIgbGF0bG5nIHdoZW4gc25hcHBlZCBsYXRsbmcgcmFkaXVzIGlzIG91dCBvZiBtaW4vbWF4XG4gICAgICAgIHRoaXMuX291dGVyTWFya2VyLm9uKCdkcmFnJywgdGhpcy5faGFuZGxlT3V0ZXJNYXJrZXJTbmFwcGluZywgdGhpcyk7XG4gICAgICAgIC8vIHN5bmMgdGhlIGhpbnRsaW5lIHdpdGggaGludCBtYXJrZXJcbiAgICAgICAgdGhpcy5fb3V0ZXJNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9zeW5jSGludExpbmUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9vdXRlck1hcmtlci5vbignbW92ZScsIHRoaXMuX3N5bmNDaXJjbGVSYWRpdXMsIHRoaXMpO1xuICAgICAgICB0aGlzLl9jZW50ZXJNYXJrZXIub24oJ21vdmUnLCB0aGlzLl9tb3ZlQ2lyY2xlLCB0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVTbmFwcGluZygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSkge1xuICAgICAgICB0aGlzLmVuYWJsZUxheWVyRHJhZygpO1xuICAgICAgfVxuICAgICAgLy8gb25seSB1cGRhdGUgdGhlIGNpcmNsZSBib3JkZXIgcG9seVxuICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlJywgdGhpcy5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSwgdGhpcyk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICAgIHRoaXMuX2luaXRTbmFwcGFibGVNYXJrZXJzRHJhZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVNuYXBwaW5nRHJhZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2V4dGVuZGluZ0FwcGx5T3B0aW9ucygpO1xuICB9LFxuICBfZXh0ZW5kaW5nQXBwbHlPcHRpb25zKCkge1xuICAgIC8vIGVuYWJsZSByZW1vdmFsIGZvciB0aGUgbWFya2VyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucHJldmVudE1hcmtlclJlbW92YWwpIHtcbiAgICAgIHRoaXMuX2xheWVyLm9uKCdjb250ZXh0bWVudScsIHRoaXMuX3JlbW92ZU1hcmtlciwgdGhpcyk7XG4gICAgfVxuICB9LFxuICBfaW5pdE1hcmtlcnMoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgLy8gY2xlYW51cCBvbGQgb25lcyBmaXJzdFxuICAgIGlmICh0aGlzLl9oZWxwZXJMYXllcnMpIHtcbiAgICAgIHRoaXMuX2hlbHBlckxheWVycy5jbGVhckxheWVycygpO1xuICAgIH1cblxuICAgIC8vIGFkZCBtYXJrZXJHcm91cCB0byBtYXAsIG1hcmtlckdyb3VwIGluY2x1ZGVzIHJlZ3VsYXIgYW5kIG1pZGRsZSBtYXJrZXJzXG4gICAgdGhpcy5faGVscGVyTGF5ZXJzID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XG4gICAgdGhpcy5faGVscGVyTGF5ZXJzLl9wbVRlbXBMYXllciA9IHRydWU7XG4gICAgdGhpcy5faGVscGVyTGF5ZXJzLmFkZFRvKG1hcCk7XG5cbiAgICAvLyBjcmVhdGUgbWFya2VyIGZvciBlYWNoIGNvb3JkaW5hdGVcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9sYXllci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLl9sYXllci5fcmFkaXVzO1xuXG4gICAgY29uc3Qgb3V0ZXIgPSB0aGlzLl9nZXRMYXRMbmdPbkNpcmNsZShjZW50ZXIsIHJhZGl1cyk7XG5cbiAgICB0aGlzLl9jZW50ZXJNYXJrZXIgPSB0aGlzLl9jcmVhdGVDZW50ZXJNYXJrZXIoY2VudGVyKTtcbiAgICB0aGlzLl9vdXRlck1hcmtlciA9IHRoaXMuX2NyZWF0ZU91dGVyTWFya2VyKG91dGVyKTtcbiAgICB0aGlzLl9tYXJrZXJzID0gW3RoaXMuX2NlbnRlck1hcmtlciwgdGhpcy5fb3V0ZXJNYXJrZXJdO1xuICAgIHRoaXMuX2NyZWF0ZUhpbnRMaW5lKHRoaXMuX2NlbnRlck1hcmtlciwgdGhpcy5fb3V0ZXJNYXJrZXIpO1xuICB9LFxuICBfZ2V0TGF0TG5nT25DaXJjbGUoY2VudGVyLCByYWRpdXMpIHtcbiAgICBjb25zdCBwb2ludEEgPSB0aGlzLl9tYXAucHJvamVjdChjZW50ZXIpO1xuICAgIGNvbnN0IHBvaW50QiA9IEwucG9pbnQocG9pbnRBLnggKyByYWRpdXMsIHBvaW50QS55KTtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnVucHJvamVjdChwb2ludEIpO1xuICB9LFxuICBfY3JlYXRlSGludExpbmUobWFya2VyQSwgbWFya2VyQikge1xuICAgIGNvbnN0IEEgPSBtYXJrZXJBLmdldExhdExuZygpO1xuICAgIGNvbnN0IEIgPSBtYXJrZXJCLmdldExhdExuZygpO1xuICAgIHRoaXMuX2hpbnRsaW5lID0gTC5wb2x5bGluZShbQSwgQl0sIHRoaXMub3B0aW9ucy5oaW50bGluZVN0eWxlKTtcbiAgICB0aGlzLl9zZXRQYW5lKHRoaXMuX2hpbnRsaW5lLCAnbGF5ZXJQYW5lJyk7XG4gICAgdGhpcy5faGludGxpbmUuX3BtVGVtcExheWVyID0gdHJ1ZTtcbiAgICB0aGlzLl9oZWxwZXJMYXllcnMuYWRkTGF5ZXIodGhpcy5faGludGxpbmUpO1xuICB9LFxuICBfY3JlYXRlQ2VudGVyTWFya2VyKGxhdGxuZykge1xuICAgIGNvbnN0IG1hcmtlciA9IHRoaXMuX2NyZWF0ZU1hcmtlcihsYXRsbmcpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3MobWFya2VyLl9pY29uLCAnbGVhZmxldC1wbS1kcmFnZ2FibGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFya2VyLmRyYWdnaW5nLmRpc2FibGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcbiAgX2NyZWF0ZU91dGVyTWFya2VyKGxhdGxuZykge1xuICAgIGNvbnN0IG1hcmtlciA9IHRoaXMuX2NyZWF0ZU1hcmtlcihsYXRsbmcpO1xuICAgIG1hcmtlci5vbignZHJhZycsIHRoaXMuX3Jlc2l6ZUNpcmNsZSwgdGhpcyk7XG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfSxcbiAgX2NyZWF0ZU1hcmtlcihsYXRsbmcpIHtcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTC5NYXJrZXIobGF0bG5nLCB7XG4gICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICBpY29uOiBMLmRpdkljb24oeyBjbGFzc05hbWU6ICdtYXJrZXItaWNvbicgfSksXG4gICAgfSk7XG4gICAgdGhpcy5fc2V0UGFuZShtYXJrZXIsICd2ZXJ0ZXhQYW5lJyk7XG5cbiAgICBtYXJrZXIuX29yaWdMYXRMbmcgPSBsYXRsbmc7XG4gICAgbWFya2VyLl9wbVRlbXBMYXllciA9IHRydWU7XG5cbiAgICBtYXJrZXIub24oJ2RyYWdzdGFydCcsIHRoaXMuX29uTWFya2VyRHJhZ1N0YXJ0LCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ2RyYWcnLCB0aGlzLl9vbk1hcmtlckRyYWcsIHRoaXMpO1xuICAgIG1hcmtlci5vbignZHJhZ2VuZCcsIHRoaXMuX29uTWFya2VyRHJhZ0VuZCwgdGhpcyk7XG4gICAgbWFya2VyLm9uKCdjbGljaycsIHRoaXMuX29uVmVydGV4Q2xpY2ssIHRoaXMpO1xuXG4gICAgdGhpcy5faGVscGVyTGF5ZXJzLmFkZExheWVyKG1hcmtlcik7XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuXG4gIF9tb3ZlQ2lyY2xlKGUpIHtcbiAgICBjb25zdCBkcmFnZ2VkTWFya2VyID0gZS50YXJnZXQ7XG4gICAgaWYgKGRyYWdnZWRNYXJrZXIuX2NhbmNlbERyYWdFdmVudENoYWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5fY2VudGVyTWFya2VyLmdldExhdExuZygpO1xuICAgIHRoaXMuX2xheWVyLnNldExhdExuZyhjZW50ZXIpO1xuXG4gICAgY29uc3QgcmFkaXVzID0gdGhpcy5fbGF5ZXIuX3JhZGl1cztcblxuICAgIGNvbnN0IG91dGVyID0gdGhpcy5fZ2V0TGF0TG5nT25DaXJjbGUoY2VudGVyLCByYWRpdXMpO1xuICAgIC8vIGRvbid0IGNhbGwgLnNldExhdExuZygpIGJlY2F1c2UgaXQgZmlyZXMgdGhlIGBtb3ZlYCBldmVudCBhbmQgdGhlbiB0aGUgcmFkaXVzIGlzIGNoYW5nZWQgYmVjYXVzZSBvZiBfc3luY0NpcmNsZVJhZGl1cyAjODkyXG4gICAgdGhpcy5fb3V0ZXJNYXJrZXIuX2xhdGxuZyA9IG91dGVyO1xuICAgIHRoaXMuX291dGVyTWFya2VyLnVwZGF0ZSgpO1xuICAgIHRoaXMuX3N5bmNIaW50TGluZSgpO1xuXG4gICAgdGhpcy5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSgpO1xuXG4gICAgdGhpcy5fZmlyZUNlbnRlclBsYWNlZCgnRWRpdCcpO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksICdFZGl0Jyk7XG4gIH0sXG4gIF9zeW5jTWFya2VycygpIHtcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9sYXllci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLl9sYXllci5fcmFkaXVzO1xuICAgIGNvbnN0IG91dGVyID0gdGhpcy5fZ2V0TGF0TG5nT25DaXJjbGUoY2VudGVyLCByYWRpdXMpO1xuICAgIHRoaXMuX291dGVyTWFya2VyLnNldExhdExuZyhvdXRlcik7XG4gICAgdGhpcy5fY2VudGVyTWFya2VyLnNldExhdExuZyhjZW50ZXIpO1xuICAgIHRoaXMuX3N5bmNIaW50TGluZSgpO1xuICAgIHRoaXMuX3VwZGF0ZUhpZGRlblBvbHlDaXJjbGUoKTtcbiAgfSxcbiAgX3Jlc2l6ZUNpcmNsZSgpIHtcbiAgICB0aGlzLl9vdXRlck1hcmtlci5zZXRMYXRMbmcodGhpcy5fZ2V0TmV3RGVzdGluYXRpb25PZk91dGVyTWFya2VyKCkpO1xuICAgIHRoaXMuX3N5bmNIaW50TGluZSgpO1xuICAgIHRoaXMuX3N5bmNDaXJjbGVSYWRpdXMoKTtcbiAgfSxcbiAgX3N5bmNDaXJjbGVSYWRpdXMoKSB7XG4gICAgY29uc3QgQSA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBCID0gdGhpcy5fb3V0ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24oQSwgQik7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXSAmJlxuICAgICAgZGlzdGFuY2UgPCB0aGlzLm9wdGlvbnNbdGhpcy5fbWluUmFkaXVzT3B0aW9uXVxuICAgICkge1xuICAgICAgdGhpcy5fbGF5ZXIuc2V0UmFkaXVzKHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlID4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldFJhZGl1cyh0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xheWVyLnNldFJhZGl1cyhkaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlSGlkZGVuUG9seUNpcmNsZSgpO1xuICAgIHRoaXMuX2ZpcmVDaGFuZ2UodGhpcy5fbGF5ZXIuZ2V0TGF0TG5nKCksICdFZGl0Jyk7XG4gIH0sXG4gIF9zeW5jSGludExpbmUoKSB7XG4gICAgY29uc3QgQSA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBjb25zdCBCID0gdGhpcy5fb3V0ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgLy8gc2V0IGNvb3JkcyBmb3IgaGludGxpbmUgZnJvbSBtYXJrZXIgdG8gbGFzdCB2ZXJ0ZXggb2YgZHJhd2luIHBvbHlsaW5lXG4gICAgdGhpcy5faGludGxpbmUuc2V0TGF0TG5ncyhbQSwgQl0pO1xuICB9LFxuICBfcmVtb3ZlTWFya2VyKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnNbdGhpcy5fZWRpdGFibGVPcHRpb25dKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9XG4gICAgdGhpcy5fbGF5ZXIucmVtb3ZlKCk7XG4gICAgdGhpcy5fZmlyZVJlbW92ZSh0aGlzLl9sYXllcik7XG4gICAgdGhpcy5fZmlyZVJlbW92ZSh0aGlzLl9tYXAsIHRoaXMuX2xheWVyKTtcbiAgfSxcbiAgX29uRHJhZ1N0YXJ0KCkge1xuICAgIHRoaXMuX21hcC5wbS5EcmF3LkNpcmNsZU1hcmtlci5fbGF5ZXJJc0RyYWdnaW5nID0gdHJ1ZTtcbiAgfSxcbiAgX29uTWFya2VyRHJhZ1N0YXJ0KGUpIHtcbiAgICBpZiAoIXRoaXMuX3ZlcnRleFZhbGlkYXRpb24oJ21vdmUnLCBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2ZpcmVNYXJrZXJEcmFnU3RhcnQoZSk7XG4gIH0sXG4gIF9vbk1hcmtlckRyYWcoZSkge1xuICAgIC8vIGRyYWdnZWQgbWFya2VyXG4gICAgY29uc3QgZHJhZ2dlZE1hcmtlciA9IGUudGFyZ2V0O1xuICAgIGlmIChcbiAgICAgIGRyYWdnZWRNYXJrZXIgaW5zdGFuY2VvZiBMLk1hcmtlciAmJlxuICAgICAgIXRoaXMuX3ZlcnRleFZhbGlkYXRpb25EcmFnKGRyYWdnZWRNYXJrZXIpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWcoZSk7XG4gIH0sXG4gIF9vbk1hcmtlckRyYWdFbmQoZSkge1xuICAgIHRoaXMuX2V4dGVkaW5nTWFya2VyRHJhZ0VuZCgpO1xuXG4gICAgLy8gZHJhZ2dlZCBtYXJrZXJcbiAgICBjb25zdCBkcmFnZ2VkTWFya2VyID0gZS50YXJnZXQ7XG4gICAgaWYgKCF0aGlzLl92ZXJ0ZXhWYWxpZGF0aW9uRHJhZ0VuZChkcmFnZ2VkTWFya2VyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zW3RoaXMuX2VkaXRhYmxlT3B0aW9uXSkge1xuICAgICAgdGhpcy5fZmlyZUVkaXQoKTtcbiAgICAgIHRoaXMuX2xheWVyRWRpdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fZmlyZU1hcmtlckRyYWdFbmQoZSk7XG4gIH0sXG4gIF9leHRlZGluZ01hcmtlckRyYWdFbmQoKSB7XG4gICAgdGhpcy5fbWFwLnBtLkRyYXcuQ2lyY2xlTWFya2VyLl9sYXllcklzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgfSxcbiAgLy8gX2luaXRTbmFwcGFibGVNYXJrZXJzIHdoZW4gb3B0aW9uIGVkaXRhYmxlIGlzIG5vdCB0cnVlXG4gIF9pbml0U25hcHBhYmxlTWFya2Vyc0RyYWcoKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fbGF5ZXI7XG5cbiAgICB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlID0gdGhpcy5vcHRpb25zLnNuYXBEaXN0YW5jZSB8fCAzMDtcbiAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPVxuICAgICAgdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogdGhpcy5vcHRpb25zLnNuYXBTZWdtZW50O1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWcnLCB0aGlzLl9oYW5kbGVTbmFwcGluZywgdGhpcyk7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnZW5kJywgdGhpcy5fY2xlYW51cFNuYXBwaW5nLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuXG4gICAgbWFya2VyLm9mZigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgICBtYXJrZXIub24oJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIC8vIF9kaXNhYmxlU25hcHBpbmcgd2hlbiBvcHRpb24gZWRpdGFibGUgaXMgbm90IHRydWVcbiAgX2Rpc2FibGVTbmFwcGluZ0RyYWcoKSB7XG4gICAgY29uc3QgbWFya2VyID0gdGhpcy5fbGF5ZXI7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIF91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuX2xheWVyLl9tYXAgfHwgdGhpcy5fbWFwO1xuICAgIGlmIChtYXApIHtcbiAgICAgIGNvbnN0IHJhZGl1cyA9IEwuUE0uVXRpbHMucHhSYWRpdXNUb01ldGVyUmFkaXVzKFxuICAgICAgICB0aGlzLl9sYXllci5nZXRSYWRpdXMoKSxcbiAgICAgICAgbWFwLFxuICAgICAgICB0aGlzLl9sYXllci5nZXRMYXRMbmcoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IF9sYXllciA9IEwuY2lyY2xlKHRoaXMuX2xheWVyLmdldExhdExuZygpLCB0aGlzLl9sYXllci5vcHRpb25zKTtcbiAgICAgIF9sYXllci5zZXRSYWRpdXMocmFkaXVzKTtcblxuICAgICAgY29uc3QgY3JzU2ltcGxlID0gbWFwICYmIG1hcC5wbS5faXNDUlNTaW1wbGUoKTtcbiAgICAgIGlmICh0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlKSB7XG4gICAgICAgIHRoaXMuX2hpZGRlblBvbHlDaXJjbGUuc2V0TGF0TG5ncyhcbiAgICAgICAgICBMLlBNLlV0aWxzLmNpcmNsZVRvUG9seWdvbihfbGF5ZXIsIDIwMCwgIWNyc1NpbXBsZSkuZ2V0TGF0TG5ncygpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlID0gTC5QTS5VdGlscy5jaXJjbGVUb1BvbHlnb24oXG4gICAgICAgICAgX2xheWVyLFxuICAgICAgICAgIDIwMCxcbiAgICAgICAgICAhY3JzU2ltcGxlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faGlkZGVuUG9seUNpcmNsZS5fcGFyZW50Q29weSkge1xuICAgICAgICB0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlLl9wYXJlbnRDb3B5ID0gdGhpcy5fbGF5ZXI7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfZ2V0TmV3RGVzdGluYXRpb25PZk91dGVyTWFya2VyKCkge1xuICAgIGNvbnN0IGxhdGxuZyA9IHRoaXMuX2NlbnRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICBsZXQgc2Vjb25kTGF0TG5nID0gdGhpcy5fb3V0ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuX2Rpc3RhbmNlQ2FsY3VsYXRpb24obGF0bG5nLCBzZWNvbmRMYXRMbmcpO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHNlY29uZExhdExuZyA9IGRlc3RpbmF0aW9uT25MaW5lKFxuICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgIGxhdGxuZyxcbiAgICAgICAgc2Vjb25kTGF0TG5nLFxuICAgICAgICB0aGlzLl9nZXRNaW5EaXN0YW5jZUluTWV0ZXIobGF0bG5nKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl0gJiZcbiAgICAgIGRpc3RhbmNlID4gdGhpcy5vcHRpb25zW3RoaXMuX21heFJhZGl1c09wdGlvbl1cbiAgICApIHtcbiAgICAgIHNlY29uZExhdExuZyA9IGRlc3RpbmF0aW9uT25MaW5lKFxuICAgICAgICB0aGlzLl9tYXAsXG4gICAgICAgIGxhdGxuZyxcbiAgICAgICAgc2Vjb25kTGF0TG5nLFxuICAgICAgICB0aGlzLl9nZXRNYXhEaXN0YW5jZUluTWV0ZXIobGF0bG5nKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlY29uZExhdExuZztcbiAgfSxcbiAgX2hhbmRsZU91dGVyTWFya2VyU25hcHBpbmcoKSB7XG4gICAgaWYgKHRoaXMuX291dGVyTWFya2VyLl9zbmFwcGVkKSB7XG4gICAgICBjb25zdCBsYXRsbmcgPSB0aGlzLl9jZW50ZXJNYXJrZXIuZ2V0TGF0TG5nKCk7XG4gICAgICBjb25zdCBzZWNvbmRMYXRMbmcgPSB0aGlzLl9vdXRlck1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5fZGlzdGFuY2VDYWxjdWxhdGlvbihsYXRsbmcsIHNlY29uZExhdExuZyk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9taW5SYWRpdXNPcHRpb25dICYmXG4gICAgICAgIGRpc3RhbmNlIDwgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl1cbiAgICAgICkge1xuICAgICAgICB0aGlzLl9vdXRlck1hcmtlci5zZXRMYXRMbmcodGhpcy5fb3V0ZXJNYXJrZXIuX29yZ0xhdExuZyk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0aGlzLm9wdGlvbnNbdGhpcy5fbWF4UmFkaXVzT3B0aW9uXSAmJlxuICAgICAgICBkaXN0YW5jZSA+IHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fb3V0ZXJNYXJrZXIuc2V0TGF0TG5nKHRoaXMuX291dGVyTWFya2VyLl9vcmdMYXRMbmcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBsYXRsbmcgb2YgbWFya2VyIGlmIHJhZGl1cyBpcyBvdXQgb2YgbWluL21heFxuICAgIHRoaXMuX291dGVyTWFya2VyLnNldExhdExuZyh0aGlzLl9nZXROZXdEZXN0aW5hdGlvbk9mT3V0ZXJNYXJrZXIoKSk7XG4gIH0sXG4gIF9kaXN0YW5jZUNhbGN1bGF0aW9uKEEsIEIpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnByb2plY3QoQSkuZGlzdGFuY2VUbyh0aGlzLl9tYXAucHJvamVjdChCKSk7XG4gIH0sXG4gIF9nZXRNaW5EaXN0YW5jZUluTWV0ZXIobGF0bG5nKSB7XG4gICAgcmV0dXJuIEwuUE0uVXRpbHMucHhSYWRpdXNUb01ldGVyUmFkaXVzKFxuICAgICAgdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl0sXG4gICAgICB0aGlzLl9tYXAsXG4gICAgICBsYXRsbmdcbiAgICApO1xuICB9LFxuICBfZ2V0TWF4RGlzdGFuY2VJbk1ldGVyKGxhdGxuZykge1xuICAgIHJldHVybiBMLlBNLlV0aWxzLnB4UmFkaXVzVG9NZXRlclJhZGl1cyhcbiAgICAgIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dLFxuICAgICAgdGhpcy5fbWFwLFxuICAgICAgbGF0bG5nXG4gICAgKTtcbiAgfSxcbiAgX29uVmVydGV4Q2xpY2soZSkge1xuICAgIGNvbnN0IHZlcnRleCA9IGUudGFyZ2V0O1xuICAgIGlmICh2ZXJ0ZXguX2RyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZVZlcnRleENsaWNrKGUsIHVuZGVmaW5lZCk7XG4gIH0sXG59KTtcbiIsICJpbXBvcnQgRWRpdCBmcm9tICcuL0wuUE0uRWRpdCc7XG5cbkVkaXQuQ2lyY2xlID0gRWRpdC5DaXJjbGVNYXJrZXIuZXh0ZW5kKHtcbiAgX3NoYXBlOiAnQ2lyY2xlJyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fbWluUmFkaXVzT3B0aW9uID0gJ21pblJhZGl1c0NpcmNsZSc7XG4gICAgdGhpcy5fbWF4UmFkaXVzT3B0aW9uID0gJ21heFJhZGl1c0NpcmNsZSc7XG4gICAgdGhpcy5fZWRpdGFibGVPcHRpb24gPSAncmVzaXphYmxlQ2lyY2xlJztcbiAgICAvLyBjcmVhdGUgcG9seWdvbiBhcm91bmQgdGhlIGNpcmNsZSBib3JkZXJcbiAgICB0aGlzLl91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCk7XG4gIH0sXG4gIGVuYWJsZShvcHRpb25zKSB7XG4gICAgLy8gVE9ETzogdGhpcyBjYW4gYmUgcmVtb3ZlZCBhZnRlciB0aGUgZGVmYXVsdCBvcHRpb25zIG9mIENpcmNsZU1hcmtlci5lbmFibGUgYXJlIHJlbW92ZWRcbiAgICBMLlBNLkVkaXQuQ2lyY2xlTWFya2VyLnByb3RvdHlwZS5lbmFibGUuY2FsbCh0aGlzLCBvcHRpb25zIHx8IHt9KTtcbiAgfSxcbiAgX2V4dGVuZGluZ0VuYWJsZSgpIHt9LFxuICBfZXh0ZW5kaW5nRGlzYWJsZSgpIHtcbiAgICB0aGlzLl9sYXllci5vZmYoJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICAvLyByZW1vdmUgZHJhZ2dhYmxlIGNsYXNzXG4gICAgY29uc3QgZWwgPSB0aGlzLl9sYXllci5fcGF0aFxuICAgICAgPyB0aGlzLl9sYXllci5fcGF0aFxuICAgICAgOiB0aGlzLl9sYXllci5fcmVuZGVyZXIuX2NvbnRhaW5lcjtcbiAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoZWwsICdsZWFmbGV0LXBtLWRyYWdnYWJsZScpO1xuICB9LFxuICBfZXh0ZW5kaW5nQXBwbHlPcHRpb25zKCkge30sXG4gIF9zeW5jTWFya2VycygpIHt9LFxuICBfcmVtb3ZlTWFya2VyKCkge30sXG4gIF9vbkRyYWdTdGFydCgpIHt9LFxuICBfZXh0ZWRpbmdNYXJrZXJEcmFnRW5kKCkge30sXG4gIF91cGRhdGVIaWRkZW5Qb2x5Q2lyY2xlKCkge1xuICAgIGNvbnN0IGNyc1NpbXBsZSA9IHRoaXMuX21hcCAmJiB0aGlzLl9tYXAucG0uX2lzQ1JTU2ltcGxlKCk7XG4gICAgaWYgKHRoaXMuX2hpZGRlblBvbHlDaXJjbGUpIHtcbiAgICAgIHRoaXMuX2hpZGRlblBvbHlDaXJjbGUuc2V0TGF0TG5ncyhcbiAgICAgICAgTC5QTS5VdGlscy5jaXJjbGVUb1BvbHlnb24odGhpcy5fbGF5ZXIsIDIwMCwgIWNyc1NpbXBsZSkuZ2V0TGF0TG5ncygpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlID0gTC5QTS5VdGlscy5jaXJjbGVUb1BvbHlnb24oXG4gICAgICAgIHRoaXMuX2xheWVyLFxuICAgICAgICAyMDAsXG4gICAgICAgICFjcnNTaW1wbGVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlLl9wYXJlbnRDb3B5KSB7XG4gICAgICB0aGlzLl9oaWRkZW5Qb2x5Q2lyY2xlLl9wYXJlbnRDb3B5ID0gdGhpcy5fbGF5ZXI7XG4gICAgfVxuICB9LFxuICBfZGlzdGFuY2VDYWxjdWxhdGlvbihBLCBCKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5kaXN0YW5jZShBLCBCKTtcbiAgfSxcbiAgX2dldE1pbkRpc3RhbmNlSW5NZXRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zW3RoaXMuX21pblJhZGl1c09wdGlvbl07XG4gIH0sXG4gIF9nZXRNYXhEaXN0YW5jZUluTWV0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0aGlzLl9tYXhSYWRpdXNPcHRpb25dO1xuICB9LFxuICBfb25WZXJ0ZXhDbGljayhlKSB7XG4gICAgY29uc3QgdmVydGV4ID0gZS50YXJnZXQ7XG4gICAgaWYgKHZlcnRleC5fZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlVmVydGV4Q2xpY2soZSwgdW5kZWZpbmVkKTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuRWRpdC5JbWFnZU92ZXJsYXkgPSBFZGl0LmV4dGVuZCh7XG4gIF9zaGFwZTogJ0ltYWdlT3ZlcmxheScsXG4gIGluaXRpYWxpemUobGF5ZXIpIHtcbiAgICB0aGlzLl9sYXllciA9IGxheWVyO1xuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgfSxcbiAgdG9nZ2xlRWRpdChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgfSxcbiAgLy8gVE9ETzogcmVtb3ZlIGRlZmF1bHQgb3B0aW9uIGluIG5leHQgbWFqb3IgUmVsZWFzZVxuICBlbmFibGUob3B0aW9ucyA9IHsgZHJhZ2dhYmxlOiB0cnVlLCBzbmFwcGFibGU6IHRydWUgfSkge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG4gICAgLy8gY2FuY2VsIHdoZW4gbWFwIGlzbid0IGF2YWlsYWJsZSwgdGhpcyBoYXBwZW5zIHdoZW4gdGhlIHBvbHlnb24gaXMgcmVtb3ZlZCBiZWZvcmUgdGhpcyBmaXJlc1xuICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbGF5ZXIgaXMgbm90IGFsbG93ZWQgdG8gZWRpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93RWRpdGluZykge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgLy8gaWYgaXQgd2FzIGFscmVhZHkgZW5hYmxlZCwgZGlzYWJsZSBmaXJzdFxuICAgICAgLy8gd2UgZG9uJ3QgYmxvY2sgZW5hYmxpbmcgYWdhaW4gYmVjYXVzZSBuZXcgb3B0aW9ucyBtaWdodCBiZSBwYXNzZWRcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cblxuICAgIHRoaXMuZW5hYmxlTGF5ZXJEcmFnKCk7XG5cbiAgICAvLyBpZiBzaGFwZSBnZXRzIHJlbW92ZWQgZnJvbSBtYXAsIGRpc2FibGUgZWRpdCBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG5cbiAgICAvLyBjaGFuZ2Ugc3RhdGVcbiAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIGNyZWF0ZSBtYXJrZXJzIGZvciBmb3VyIGNvcm5lcnMgb2YgSW1hZ2VPdmVybGF5XG4gICAgdGhpcy5fb3RoZXJTbmFwTGF5ZXJzID0gdGhpcy5fZmluZENvcm5lcnMoKTtcblxuICAgIHRoaXMuX2ZpcmVFbmFibGUoKTtcbiAgfSxcbiAgZGlzYWJsZSgpIHtcbiAgICAvLyBwcmV2ZW50IGRpc2FibGluZyBpZiBsYXllciBpcyBiZWluZyBkcmFnZ2VkXG4gICAgaWYgKHRoaXMuX2RyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkIG1hcCBpZiBpdCBpcyBub3QgYWxyZWFkeSBzZXQuIFRoaXMgaGFwcGVucyB3aGVuIGRpc2FibGUoKSBpcyBjYWxsZWQgYmVmb3JlIGVuYWJsZSgpXG4gICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2xheWVyLl9tYXA7XG4gICAgfVxuICAgIC8vIGRpc2FibGUgZHJhZ2dpbmcsIGFzIHRoaXMgY291bGQgaGF2ZSBiZWVuIGFjdGl2ZSBldmVuIHdpdGhvdXQgYmVpbmcgZW5hYmxlZFxuICAgIHRoaXMuZGlzYWJsZUxheWVyRHJhZygpO1xuXG4gICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdyZW1vdmUnLCB0aGlzLmRpc2FibGUsIHRoaXMpO1xuXG4gICAgLy8gb25seSBmaXJlIGV2ZW50cyBpZiBpdCB3YXMgZW5hYmxlZCBiZWZvcmVcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICBpZiAodGhpcy5fbGF5ZXJFZGl0ZWQpIHtcbiAgICAgICAgdGhpcy5fZmlyZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2ZpcmVEaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICBfZmluZENvcm5lcnMoKSB7XG4gICAgY29uc3QgY29ybmVycyA9IHRoaXMuX2xheWVyLmdldEJvdW5kcygpO1xuXG4gICAgY29uc3Qgbm9ydGh3ZXN0ID0gY29ybmVycy5nZXROb3J0aFdlc3QoKTtcbiAgICBjb25zdCBub3J0aGVhc3QgPSBjb3JuZXJzLmdldE5vcnRoRWFzdCgpO1xuICAgIGNvbnN0IHNvdXRoZWFzdCA9IGNvcm5lcnMuZ2V0U291dGhFYXN0KCk7XG4gICAgY29uc3Qgc291dGh3ZXN0ID0gY29ybmVycy5nZXRTb3V0aFdlc3QoKTtcblxuICAgIHJldHVybiBbbm9ydGh3ZXN0LCBub3J0aGVhc3QsIHNvdXRoZWFzdCwgc291dGh3ZXN0XTtcbiAgfSxcbn0pO1xuIiwgImltcG9ydCBFZGl0IGZyb20gJy4vTC5QTS5FZGl0JztcblxuRWRpdC5UZXh0ID0gRWRpdC5leHRlbmQoe1xuICBfc2hhcGU6ICdUZXh0JyxcbiAgaW5pdGlhbGl6ZShsYXllcikge1xuICAgIHRoaXMuX2xheWVyID0gbGF5ZXI7XG4gICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICB9LFxuICBlbmFibGUob3B0aW9ucykge1xuICAgIEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKCF0aGlzLnRleHRBcmVhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbGF5ZXIgaXMgbm90IGFsbG93ZWQgdG8gZWRpdFxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93RWRpdGluZyB8fCAhdGhpcy5fbGF5ZXIuX21hcCkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbWFwID0gdGhpcy5fbGF5ZXIuX21hcDtcblxuICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuICAgIHRoaXMuYXBwbHlPcHRpb25zKCk7XG5cbiAgICB0aGlzLl9zYWZlVG9DYWNoZURyYWdTdGF0ZSA9IHRydWU7XG5cbiAgICB0aGlzLl9mb2N1c0NoYW5nZSgpO1xuICAgIHRoaXMudGV4dEFyZWEucmVhZE9ubHkgPSBmYWxzZTtcbiAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ3BtLWRpc2FibGVkJyk7XG5cbiAgICAvLyBpZiBzaGFwZSBnZXRzIHJlbW92ZWQgZnJvbSBtYXAsIGRpc2FibGUgZWRpdCBtb2RlXG4gICAgdGhpcy5fbGF5ZXIub24oJ3JlbW92ZScsIHRoaXMuZGlzYWJsZSwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vbih0aGlzLnRleHRBcmVhLCAnaW5wdXQnLCB0aGlzLl9hdXRvUmVzaXplLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMudGV4dEFyZWEsICdmb2N1cycsIHRoaXMuX2ZvY3VzQ2hhbmdlLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9uKHRoaXMudGV4dEFyZWEsICdibHVyJywgdGhpcy5fZm9jdXNDaGFuZ2UsIHRoaXMpO1xuICAgIHRoaXMuX2xheWVyLm9uKCdkYmxjbGljaycsIEwuRG9tRXZlbnQuc3RvcCk7XG5cbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLnRleHRBcmVhLCAnbW91c2Vkb3duJywgdGhpcy5fcHJldmVudFRleHRTZWxlY3Rpb24pO1xuXG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9maXJlRW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGUoKSB7XG4gICAgLy8gaWYgaXQncyBub3QgZW5hYmxlZCwgaXQgZG9lc24ndCBuZWVkIHRvIGJlIGRpc2FibGVkXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgIHRoaXMuX2xheWVyLm9mZigncmVtb3ZlJywgdGhpcy5kaXNhYmxlLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLnRleHRBcmVhLCAnaW5wdXQnLCB0aGlzLl9hdXRvUmVzaXplLCB0aGlzKTtcbiAgICBMLkRvbUV2ZW50Lm9mZih0aGlzLnRleHRBcmVhLCAnZm9jdXMnLCB0aGlzLl9mb2N1c0NoYW5nZSwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vZmYodGhpcy50ZXh0QXJlYSwgJ2JsdXInLCB0aGlzLl9mb2N1c0NoYW5nZSwgdGhpcyk7XG4gICAgTC5Eb21FdmVudC5vZmYoZG9jdW1lbnQsICdjbGljaycsIHRoaXMuX2RvY3VtZW50Q2xpY2ssIHRoaXMpO1xuXG4gICAgdGhpcy5fZm9jdXNDaGFuZ2UoKTtcbiAgICB0aGlzLnRleHRBcmVhLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5hZGQoJ3BtLWRpc2FibGVkJyk7XG5cbiAgICAvLyByZW1vdmUgc2VsZWN0aW9uXG4gICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIC8vIENocm9tZSBuZWVkcyB0aGUgZm9jdXMgb24gdGhlIGVsZW1lbnQgdG8gY2hhbmdlIHRoZSBzZWxlY3Rpb25cbiAgICB0aGlzLnRleHRBcmVhLmZvY3VzKCk7XG4gICAgdGhpcy50ZXh0QXJlYS5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgdGhpcy50ZXh0QXJlYS5zZWxlY3Rpb25FbmQgPSAwO1xuICAgIEwuRG9tRXZlbnQub24odGhpcy50ZXh0QXJlYSwgJ21vdXNlZG93bicsIHRoaXMuX3ByZXZlbnRUZXh0U2VsZWN0aW9uKTtcbiAgICBmb2N1c2VkRWxlbWVudC5mb2N1cygpO1xuXG4gICAgdGhpcy5fZGlzYWJsZU9uQmx1ckFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuX2xheWVyRWRpdGVkKSB7XG4gICAgICB0aGlzLl9maXJlVXBkYXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2xheWVyRWRpdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fZmlyZURpc2FibGUoKTtcblxuICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgfSxcbiAgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcbiAgfSxcbiAgdG9nZ2xlRWRpdChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhpcy5lbmFibGUob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcbiAgYXBwbHlPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcHBhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0U25hcHBhYmxlTWFya2VycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU25hcHBpbmcoKTtcbiAgICB9XG4gIH0sXG4gIC8vIG92ZXJ3cml0ZSBpbml0U25hcHBhYmxlTWFya2VycyBmcm9tIFNuYXBwaW5nLmpzIE1peGluXG4gIF9pbml0U25hcHBhYmxlTWFya2VycygpIHtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9sYXllcjtcblxuICAgIHRoaXMub3B0aW9ucy5zbmFwRGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuc25hcERpc3RhbmNlIHx8IDMwO1xuICAgIHRoaXMub3B0aW9ucy5zbmFwU2VnbWVudCA9XG4gICAgICB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0aGlzLm9wdGlvbnMuc25hcFNlZ21lbnQ7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZycsIHRoaXMuX2hhbmRsZVNuYXBwaW5nLCB0aGlzKTtcblxuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZ2VuZCcsIHRoaXMuX2NsZWFudXBTbmFwcGluZywgdGhpcyk7XG5cbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnc3RhcnQnLCB0aGlzLl91bnNuYXAsIHRoaXMpO1xuICAgIG1hcmtlci5vbigncG06ZHJhZ3N0YXJ0JywgdGhpcy5fdW5zbmFwLCB0aGlzKTtcbiAgfSxcbiAgX2Rpc2FibGVTbmFwcGluZygpIHtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9sYXllcjtcbiAgICBtYXJrZXIub2ZmKCdwbTpkcmFnJywgdGhpcy5faGFuZGxlU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdlbmQnLCB0aGlzLl9jbGVhbnVwU25hcHBpbmcsIHRoaXMpO1xuICAgIG1hcmtlci5vZmYoJ3BtOmRyYWdzdGFydCcsIHRoaXMuX3Vuc25hcCwgdGhpcyk7XG4gIH0sXG4gIF9hdXRvUmVzaXplKCkge1xuICAgIHRoaXMudGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gJzFweCc7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS53aWR0aCA9ICcxcHgnO1xuICAgIGNvbnN0IGhlaWdodCA9XG4gICAgICB0aGlzLnRleHRBcmVhLnNjcm9sbEhlaWdodCA+IDIxID8gdGhpcy50ZXh0QXJlYS5zY3JvbGxIZWlnaHQgOiAyMTtcbiAgICBjb25zdCB3aWR0aCA9XG4gICAgICB0aGlzLnRleHRBcmVhLnNjcm9sbFdpZHRoID4gMTYgPyB0aGlzLnRleHRBcmVhLnNjcm9sbFdpZHRoIDogMTY7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgIHRoaXMudGV4dEFyZWEuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgdGhpcy5fbGF5ZXIub3B0aW9ucy50ZXh0ID0gdGhpcy5nZXRUZXh0KCk7XG4gICAgdGhpcy5fZmlyZVRleHRDaGFuZ2UodGhpcy5nZXRUZXh0KCkpO1xuICB9LFxuXG4gIF9kaXNhYmxlT25CbHVyKCkge1xuICAgIHRoaXMuX2Rpc2FibGVPbkJsdXJBY3RpdmUgPSB0cnVlO1xuICAgIC8vIHdlIG5lZWQgdGhpcyB0aW1lb3V0IGJlY2F1c2UgZWxzZSB0aGUgcGxhY2UgY2xpY2sgZXZlbnQgaXMgdHJpZ2dlcmVkIGhlcmUgdG9vLlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZCgpKSB7XG4gICAgICAgIEwuRG9tRXZlbnQub24oZG9jdW1lbnQsICdjbGljaycsIHRoaXMuX2RvY3VtZW50Q2xpY2ssIHRoaXMpO1xuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gIH0sXG4gIF9kb2N1bWVudENsaWNrKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMudGV4dEFyZWEpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgaWYgKCF0aGlzLmdldFRleHQoKSAmJiB0aGlzLm9wdGlvbnMucmVtb3ZlSWZFbXB0eSkge1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfZm9jdXNDaGFuZ2UoZSA9IHt9KSB7XG4gICAgY29uc3QgZm9jdXNBbHJlYWR5U2V0ID0gdGhpcy5faGFzRm9jdXM7XG4gICAgdGhpcy5faGFzRm9jdXMgPSBlLnR5cGUgPT09ICdmb2N1cyc7XG4gICAgaWYgKCFmb2N1c0FscmVhZHlTZXQgIT09ICF0aGlzLl9oYXNGb2N1cykge1xuICAgICAgaWYgKHRoaXMuX2hhc0ZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2FwcGx5Rm9jdXMoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNUZXh0ID0gdGhpcy5nZXRUZXh0KCk7XG4gICAgICAgIHRoaXMuX2ZpcmVUZXh0Rm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUZvY3VzKCk7XG4gICAgICAgIHRoaXMuX2ZpcmVUZXh0Qmx1cigpO1xuICAgICAgICBpZiAodGhpcy5fZm9jdXNUZXh0ICE9PSB0aGlzLmdldFRleHQoKSkge1xuICAgICAgICAgIHRoaXMuX2ZpcmVFZGl0KCk7XG4gICAgICAgICAgdGhpcy5fbGF5ZXJFZGl0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfYXBwbHlGb2N1cygpIHtcbiAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5hZGQoJ3BtLWhhc2ZvY3VzJyk7XG5cbiAgICBpZiAodGhpcy5fbWFwLmRyYWdnaW5nKSB7XG4gICAgICAvLyBzYXZlIGN1cnJlbnQgbWFwIGRyYWdnaW5nIHN0YXRlXG4gICAgICBpZiAodGhpcy5fc2FmZVRvQ2FjaGVEcmFnU3RhdGUpIHtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxNYXBEcmFnU3RhdGUgPSB0aGlzLl9tYXAuZHJhZ2dpbmcuX2VuYWJsZWQ7XG4gICAgICAgIC8vIGRvbid0IGNhY2hlIHRoZSBzdGF0ZSBhZ2FpbiB1bnRpbCBhbm90aGVyIG1vdXNlIHVwIGlzIHJlZ2lzdGVyZWRcbiAgICAgICAgdGhpcy5fc2FmZVRvQ2FjaGVEcmFnU3RhdGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX21hcC5kcmFnZ2luZy5kaXNhYmxlKCk7XG4gICAgfVxuICB9LFxuICBfcmVtb3ZlRm9jdXMoKSB7XG4gICAgaWYgKHRoaXMuX21hcC5kcmFnZ2luZykge1xuICAgICAgaWYgKHRoaXMuX29yaWdpbmFsTWFwRHJhZ1N0YXRlKSB7XG4gICAgICAgIHRoaXMuX21hcC5kcmFnZ2luZy5lbmFibGUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NhZmVUb0NhY2hlRHJhZ1N0YXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnRleHRBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ3BtLWhhc2ZvY3VzJyk7XG4gIH0sXG5cbiAgZm9jdXMoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTGF5ZXIgaXMgbm90IGVuYWJsZWQnKTtcbiAgICB9XG4gICAgdGhpcy50ZXh0QXJlYS5mb2N1cygpO1xuICB9LFxuXG4gIGJsdXIoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTGF5ZXIgaXMgbm90IGVuYWJsZWQnKTtcbiAgICB9XG4gICAgdGhpcy50ZXh0QXJlYS5ibHVyKCk7XG4gICAgaWYgKHRoaXMuX2Rpc2FibGVPbkJsdXJBY3RpdmUpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfSxcblxuICBoYXNGb2N1cygpIHtcbiAgICByZXR1cm4gdGhpcy5faGFzRm9jdXM7XG4gIH0sXG5cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0QXJlYTtcbiAgfSxcblxuICBzZXRUZXh0KHRleHQpIHtcbiAgICB0aGlzLnRleHRBcmVhLnZhbHVlID0gdGV4dDtcbiAgICB0aGlzLl9hdXRvUmVzaXplKCk7XG4gIH0sXG5cbiAgZ2V0VGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0QXJlYS52YWx1ZTtcbiAgfSxcblxuICBfaW5pdFRleHRNYXJrZXIoKSB7XG4gICAgdGhpcy50ZXh0QXJlYSA9IEwuUE0uRHJhdy5UZXh0LnByb3RvdHlwZS5fY3JlYXRlVGV4dEFyZWEuY2FsbCh0aGlzKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSkge1xuICAgICAgY29uc3QgY3NzQ2xhc3NlcyA9IHRoaXMub3B0aW9ucy5jbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgIHRoaXMudGV4dEFyZWEuY2xhc3NMaXN0LmFkZCguLi5jc3NDbGFzc2VzKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dEFyZWFJY29uID0gTC5QTS5EcmF3LlRleHQucHJvdG90eXBlLl9jcmVhdGVUZXh0SWNvbi5jYWxsKFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudGV4dEFyZWFcbiAgICApO1xuICAgIHRoaXMuX2xheWVyLnNldEljb24odGV4dEFyZWFJY29uKTtcblxuICAgIHRoaXMuX2xheWVyLm9uY2UoJ2FkZCcsIHRoaXMuX2NyZWF0ZVRleHRNYXJrZXIsIHRoaXMpO1xuICB9LFxuXG4gIF9jcmVhdGVUZXh0TWFya2VyKGVuYWJsZSA9IGZhbHNlKSB7XG4gICAgdGhpcy5fbGF5ZXIub2ZmKCdhZGQnLCB0aGlzLl9jcmVhdGVUZXh0TWFya2VyLCB0aGlzKTtcblxuICAgIHRoaXMuX2xheWVyLmdldEVsZW1lbnQoKS50YWJJbmRleCA9IC0xO1xuXG4gICAgdGhpcy50ZXh0QXJlYS53cmFwID0gJ29mZic7XG4gICAgdGhpcy50ZXh0QXJlYS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIHRoaXMudGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gTC5Eb21VdGlsLmdldFN0eWxlKHRoaXMudGV4dEFyZWEsICdmb250LXNpemUnKTtcbiAgICB0aGlzLnRleHRBcmVhLnN0eWxlLndpZHRoID0gJzFweCc7XG5cbiAgICBpZiAodGhpcy5fbGF5ZXIub3B0aW9ucy50ZXh0KSB7XG4gICAgICB0aGlzLnNldFRleHQodGhpcy5fbGF5ZXIub3B0aW9ucy50ZXh0KTtcbiAgICB9XG5cbiAgICB0aGlzLl9hdXRvUmVzaXplKCk7XG5cbiAgICBpZiAoZW5hYmxlID09PSB0cnVlKSB7XG4gICAgICAvLyBlbmFibGUgZWRpdGluZyBmb3IgdGhlIG1hcmtlclxuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgIHRoaXMuX2Rpc2FibGVPbkJsdXIoKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQ2hyb21lIGlnbm9yZXMgYHVzZXItc2VsZWN0OiBub25lYCwgc28gd2UgbmVlZCB0byBkaXNhYmxlIHRleHQgc2VsZWN0aW9uIG1hbnVhbGx5XG4gIF9wcmV2ZW50VGV4dFNlbGVjdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9LFxufSk7XG4iLCAiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIGh0dHBzOi8vZ2l0aHViLmNvbS93OHIvTGVhZmxldC5QYXRoLlRyYW5zZm9ybVxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICovXG5cbi8qKlxuICogQGNsYXNzICBMLlBNLk1hdHJpeFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhXG4gKiBAcGFyYW0ge051bWJlcn0gYlxuICogQHBhcmFtIHtOdW1iZXJ9IGNcbiAqIEBwYXJhbSB7TnVtYmVyfSBkXG4gKiBAcGFyYW0ge051bWJlcn0gZVxuICogQHBhcmFtIHtOdW1iZXJ9IGZcbiAqL1xuY29uc3QgTWF0cml4ID0gZnVuY3Rpb24gTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheS48TnVtYmVyPn1cbiAgICovXG4gIHRoaXMuX21hdHJpeCA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbn07XG5cbk1hdHJpeC5pbml0ID0gKCkgPT4gbmV3IEwuUE0uTWF0cml4KDEsIDAsIDAsIDEsIDAsIDApO1xuXG5NYXRyaXgucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogQHBhcmFtICB7TC5Qb2ludH0gcG9pbnRcbiAgICogQHJldHVybiB7TC5Qb2ludH1cbiAgICovXG4gIHRyYW5zZm9ybShwb2ludCkge1xuICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm0ocG9pbnQuY2xvbmUoKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlc3RydWN0aXZlXG4gICAqXG4gICAqIFsgeCBdID0gWyBhICBiICB0eCBdIFsgeCBdID0gWyBhICogeCArIGIgKiB5ICsgdHggXVxuICAgKiBbIHkgXSA9IFsgYyAgZCAgdHkgXSBbIHkgXSA9IFsgYyAqIHggKyBkICogeSArIHR5IF1cbiAgICpcbiAgICogQHBhcmFtICB7TC5Qb2ludH0gcG9pbnRcbiAgICogQHJldHVybiB7TC5Qb2ludH1cbiAgICovXG4gIF90cmFuc2Zvcm0ocG9pbnQpIHtcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLl9tYXRyaXg7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBwb2ludDtcbiAgICBwb2ludC54ID0gbWF0cml4WzBdICogeCArIG1hdHJpeFsxXSAqIHkgKyBtYXRyaXhbNF07XG4gICAgcG9pbnQueSA9IG1hdHJpeFsyXSAqIHggKyBtYXRyaXhbM10gKiB5ICsgbWF0cml4WzVdO1xuICAgIHJldHVybiBwb2ludDtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtICB7TC5Qb2ludH0gcG9pbnRcbiAgICogQHJldHVybiB7TC5Qb2ludH1cbiAgICovXG4gIHVudHJhbnNmb3JtKHBvaW50KSB7XG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5fbWF0cml4O1xuICAgIHJldHVybiBuZXcgTC5Qb2ludChcbiAgICAgIChwb2ludC54IC8gbWF0cml4WzBdIC0gbWF0cml4WzRdKSAvIG1hdHJpeFswXSxcbiAgICAgIChwb2ludC55IC8gbWF0cml4WzJdIC0gbWF0cml4WzVdKSAvIG1hdHJpeFsyXVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0wuUE0uTWF0cml4fVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5fbWF0cml4O1xuICAgIHJldHVybiBuZXcgTC5QTS5NYXRyaXgoXG4gICAgICBtYXRyaXhbMF0sXG4gICAgICBtYXRyaXhbMV0sXG4gICAgICBtYXRyaXhbMl0sXG4gICAgICBtYXRyaXhbM10sXG4gICAgICBtYXRyaXhbNF0sXG4gICAgICBtYXRyaXhbNV1cbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0wuUG9pbnR8TnVtYmVyfSB0cmFuc2xhdGVcbiAgICogQHJldHVybiB7TC5QTS5NYXRyaXh8TC5Qb2ludH1cbiAgICovXG4gIHRyYW5zbGF0ZSh0cmFuc2xhdGUpIHtcbiAgICBpZiAodHJhbnNsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXcgTC5Qb2ludCh0aGlzLl9tYXRyaXhbNF0sIHRoaXMuX21hdHJpeFs1XSk7XG4gICAgfVxuXG4gICAgbGV0IHRyYW5zbGF0ZVg7XG4gICAgbGV0IHRyYW5zbGF0ZVk7XG4gICAgaWYgKHR5cGVvZiB0cmFuc2xhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICB0cmFuc2xhdGVYID0gdHJhbnNsYXRlO1xuICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZS54O1xuICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZS55O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9hZGQoMSwgMCwgMCwgMSwgdHJhbnNsYXRlWCwgdHJhbnNsYXRlWSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TC5Qb2ludHxOdW1iZXJ9IHNjYWxlXG4gICAqIEBwYXJhbSB7TC5Qb2ludHxOdW1iZXJ9IG9yaWdpblxuICAgKiBAcmV0dXJuIHtMLlBNLk1hdHJpeHxMLlBvaW50fVxuICAgKi9cbiAgc2NhbGUoc2NhbGUsIG9yaWdpbikge1xuICAgIGlmIChzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbmV3IEwuUG9pbnQodGhpcy5fbWF0cml4WzBdLCB0aGlzLl9tYXRyaXhbM10pO1xuICAgIH1cblxuICAgIGxldCBzY2FsZVg7XG4gICAgbGV0IHNjYWxlWTtcbiAgICBvcmlnaW4gPSBvcmlnaW4gfHwgTC5wb2ludCgwLCAwKTtcbiAgICBpZiAodHlwZW9mIHNjYWxlID09PSAnbnVtYmVyJykge1xuICAgICAgc2NhbGVYID0gc2NhbGU7XG4gICAgICBzY2FsZVkgPSBzY2FsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NhbGVYID0gc2NhbGUueDtcbiAgICAgIHNjYWxlWSA9IHNjYWxlLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2FkZChzY2FsZVgsIDAsIDAsIHNjYWxlWSwgb3JpZ2luLngsIG9yaWdpbi55KS5fYWRkKFxuICAgICAgMSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMSxcbiAgICAgIC1vcmlnaW4ueCxcbiAgICAgIC1vcmlnaW4ueVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIG0wMCAgbTAxICB4IC0gbTAwICogeCAtIG0wMSAqIHlcbiAgICogbTEwICBtMTEgIHkgLSBtMTAgKiB4IC0gbTExICogeVxuICAgKiBAcGFyYW0ge051bWJlcn0gICBhbmdsZVxuICAgKiBAcGFyYW0ge0wuUG9pbnQ9fSBvcmlnaW5cbiAgICogQHJldHVybiB7TC5QTS5NYXRyaXh9XG4gICAqL1xuICByb3RhdGUoYW5nbGUsIG9yaWdpbikge1xuICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG5cbiAgICBvcmlnaW4gPSBvcmlnaW4gfHwgbmV3IEwuUG9pbnQoMCwgMCk7XG5cbiAgICByZXR1cm4gdGhpcy5fYWRkKGNvcywgc2luLCAtc2luLCBjb3MsIG9yaWdpbi54LCBvcmlnaW4ueSkuX2FkZChcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDEsXG4gICAgICAtb3JpZ2luLngsXG4gICAgICAtb3JpZ2luLnlcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZlcnQgcm90YXRpb25cbiAgICogQHJldHVybiB7TC5QTS5NYXRyaXh9XG4gICAqL1xuICBmbGlwKCkge1xuICAgIHRoaXMuX21hdHJpeFsxXSAqPSAtMTtcbiAgICB0aGlzLl9tYXRyaXhbMl0gKj0gLTE7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TnVtYmVyfEwuUE0uTWF0cml4fSBhXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBiXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBmXG4gICAqL1xuICBfYWRkKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbW10sIFtdLCBbXV07XG4gICAgbGV0IHNyYyA9IHRoaXMuX21hdHJpeDtcbiAgICBjb25zdCBtID0gW1xuICAgICAgW3NyY1swXSwgc3JjWzJdLCBzcmNbNF1dLFxuICAgICAgW3NyY1sxXSwgc3JjWzNdLCBzcmNbNV1dLFxuICAgICAgWzAsIDAsIDFdLFxuICAgIF07XG4gICAgbGV0IG90aGVyID0gW1xuICAgICAgW2EsIGMsIGVdLFxuICAgICAgW2IsIGQsIGZdLFxuICAgICAgWzAsIDAsIDFdLFxuICAgIF07XG4gICAgbGV0IHZhbDtcblxuICAgIGlmIChhICYmIGEgaW5zdGFuY2VvZiBMLlBNLk1hdHJpeCkge1xuICAgICAgc3JjID0gYS5fbWF0cml4O1xuICAgICAgb3RoZXIgPSBbXG4gICAgICAgIFtzcmNbMF0sIHNyY1syXSwgc3JjWzRdXSxcbiAgICAgICAgW3NyY1sxXSwgc3JjWzNdLCBzcmNbNV1dLFxuICAgICAgICBbMCwgMCwgMV0sXG4gICAgICBdO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGogKz0gMSkge1xuICAgICAgICB2YWwgPSAwO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsgKz0gMSkge1xuICAgICAgICAgIHZhbCArPSBtW2ldW2tdICogb3RoZXJba11bal07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2ldW2pdID0gdmFsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX21hdHJpeCA9IFtcbiAgICAgIHJlc3VsdFswXVswXSxcbiAgICAgIHJlc3VsdFsxXVswXSxcbiAgICAgIHJlc3VsdFswXVsxXSxcbiAgICAgIHJlc3VsdFsxXVsxXSxcbiAgICAgIHJlc3VsdFswXVsyXSxcbiAgICAgIHJlc3VsdFsxXVsyXSxcbiAgICBdO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTWF0cml4O1xuIiwgImltcG9ydCB7IGNyZWF0ZUdlb2Rlc2ljUG9seWdvbiwgZ2V0VHJhbnNsYXRpb24gfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgX3RvTGF0TG5nLCBfdG9Qb2ludCB9IGZyb20gJy4vaGVscGVycy9Nb2RlSGVscGVyJztcblxuY29uc3QgVXRpbHMgPSB7XG4gIGNhbGNNaWRkbGVMYXRMbmcobWFwLCBsYXRsbmcxLCBsYXRsbmcyKSB7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBtaWRkbGUgY29vcmRpbmF0ZXMgYmV0d2VlbiB0d28gbWFya2Vyc1xuXG4gICAgY29uc3QgcDEgPSBtYXAucHJvamVjdChsYXRsbmcxKTtcbiAgICBjb25zdCBwMiA9IG1hcC5wcm9qZWN0KGxhdGxuZzIpO1xuXG4gICAgcmV0dXJuIG1hcC51bnByb2plY3QocDEuX2FkZChwMikuX2RpdmlkZUJ5KDIpKTtcbiAgfSxcbiAgZmluZExheWVycyhtYXApIHtcbiAgICBsZXQgbGF5ZXJzID0gW107XG4gICAgbWFwLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLlBvbHlsaW5lIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgfHxcbiAgICAgICAgbGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZSB8fFxuICAgICAgICBsYXllciBpbnN0YW5jZW9mIEwuQ2lyY2xlTWFya2VyIHx8XG4gICAgICAgIGxheWVyIGluc3RhbmNlb2YgTC5JbWFnZU92ZXJsYXlcbiAgICAgICkge1xuICAgICAgICBsYXllcnMucHVzaChsYXllcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IGxheWVycyB0aGF0IGRvbid0IGhhdmUgdGhlIGxlYWZsZXQtZ2VvbWFuIGluc3RhbmNlXG4gICAgbGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICEhbGF5ZXIucG0pO1xuXG4gICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQncyBsZWFmbGV0LWdlb21hbiBzcGVjaWZpYyB0ZW1wb3Jhcnkgc3R1ZmZcbiAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gIWxheWVyLl9wbVRlbXBMYXllcik7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCBpZ25vcmUgbGVhZmxldC1nZW9tYW5cbiAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKFxuICAgICAgKGxheWVyKSA9PlxuICAgICAgICAoIUwuUE0ub3B0SW4gJiYgIWxheWVyLm9wdGlvbnMucG1JZ25vcmUpIHx8IC8vIGlmIG9wdEluIGlzIG5vdCBzZXQgLyB0cnVlIGFuZCBwbUlnbm9yZSBpcyBub3Qgc2V0IC8gdHJ1ZSAoZGVmYXVsdClcbiAgICAgICAgKEwuUE0ub3B0SW4gJiYgbGF5ZXIub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIC8vIGlmIG9wdEluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIGZhbHNlKTtcbiAgICApO1xuXG4gICAgcmV0dXJuIGxheWVycztcbiAgfSxcbiAgY2lyY2xlVG9Qb2x5Z29uKGNpcmNsZSwgc2lkZXMgPSA2MCwgd2l0aEJlYXJpbmcgPSB0cnVlKSB7XG4gICAgY29uc3Qgb3JpZ2luID0gY2lyY2xlLmdldExhdExuZygpO1xuICAgIGNvbnN0IHJhZGl1cyA9IGNpcmNsZS5nZXRSYWRpdXMoKTtcbiAgICBjb25zdCBwb2x5cyA9IGNyZWF0ZUdlb2Rlc2ljUG9seWdvbihvcmlnaW4sIHJhZGl1cywgc2lkZXMsIDAsIHdpdGhCZWFyaW5nKTsgLy8gdGhlc2UgYXJlIHRoZSBwb2ludHMgdGhhdCBtYWtlIHVwIHRoZSBjaXJjbGVcbiAgICBjb25zdCBwb2x5Z29uID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2x5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBbcG9seXNbaV0ubGF0LCBwb2x5c1tpXS5sbmddO1xuICAgICAgcG9seWdvbi5wdXNoKGdlb21ldHJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIEwucG9seWdvbihwb2x5Z29uLCBjaXJjbGUub3B0aW9ucyk7XG4gIH0sXG4gIGRpc2FibGVQb3B1cChsYXllcikge1xuICAgIGlmIChsYXllci5nZXRQb3B1cCgpKSB7XG4gICAgICBsYXllci5fdGVtcFBvcHVwQ29weSA9IGxheWVyLmdldFBvcHVwKCk7XG4gICAgICBsYXllci51bmJpbmRQb3B1cCgpO1xuICAgIH1cbiAgfSxcbiAgZW5hYmxlUG9wdXAobGF5ZXIpIHtcbiAgICBpZiAobGF5ZXIuX3RlbXBQb3B1cENvcHkpIHtcbiAgICAgIGxheWVyLmJpbmRQb3B1cChsYXllci5fdGVtcFBvcHVwQ29weSk7XG4gICAgICBkZWxldGUgbGF5ZXIuX3RlbXBQb3B1cENvcHk7XG4gICAgfVxuICB9LFxuICBfZmlyZUV2ZW50KGxheWVyLCB0eXBlLCBkYXRhLCBwcm9wYWdhdGUgPSBmYWxzZSkge1xuICAgIGxheWVyLmZpcmUodHlwZSwgZGF0YSwgcHJvcGFnYXRlKTtcblxuICAgIC8vIGZpcmUgZXZlbnQgdG8gYWxsIHBhcmVudCBsYXllcnNcbiAgICBjb25zdCB7IGdyb3VwcyB9ID0gdGhpcy5nZXRBbGxQYXJlbnRHcm91cHMobGF5ZXIpO1xuICAgIGdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT4ge1xuICAgICAgZ3JvdXAuZmlyZSh0eXBlLCBkYXRhLCBwcm9wYWdhdGUpO1xuICAgIH0pO1xuICB9LFxuICBnZXRBbGxQYXJlbnRHcm91cHMobGF5ZXIpIHtcbiAgICBjb25zdCBncm91cElkcyA9IFtdO1xuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuXG4gICAgLy8gZ2V0IGV2ZXJ5IGdyb3VwIGxheWVyIG9uY2VcbiAgICBjb25zdCBsb29wVGhyb3VnaFBhcmVudHMgPSAoX2xheWVyKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IF9pZCBpbiBfbGF5ZXIuX2V2ZW50UGFyZW50cykge1xuICAgICAgICBpZiAoZ3JvdXBJZHMuaW5kZXhPZihfaWQpID09PSAtMSkge1xuICAgICAgICAgIGdyb3VwSWRzLnB1c2goX2lkKTtcbiAgICAgICAgICBjb25zdCBncm91cCA9IF9sYXllci5fZXZlbnRQYXJlbnRzW19pZF07XG4gICAgICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApO1xuICAgICAgICAgIGxvb3BUaHJvdWdoUGFyZW50cyhncm91cCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gY2hlY2sgaWYgdGhlIGxhc3QgZ3JvdXAgZmV0Y2ggaXMgdW5kZXIgMSBzZWMsIHRoZW4gd2UgdXNlIHRoZSBncm91cHMgZnJvbSBiZWZvcmVcbiAgICBpZiAoXG4gICAgICAhbGF5ZXIuX3BtTGFzdEdyb3VwRmV0Y2ggfHxcbiAgICAgICFsYXllci5fcG1MYXN0R3JvdXBGZXRjaC50aW1lIHx8XG4gICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxheWVyLl9wbUxhc3RHcm91cEZldGNoLnRpbWUgPiAxMDAwXG4gICAgKSB7XG4gICAgICBsb29wVGhyb3VnaFBhcmVudHMobGF5ZXIpO1xuICAgICAgbGF5ZXIuX3BtTGFzdEdyb3VwRmV0Y2ggPSB7XG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICBncm91cHMsXG4gICAgICAgIGdyb3VwSWRzLFxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdyb3VwSWRzLFxuICAgICAgICBncm91cHMsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZ3JvdXBzOiBsYXllci5fcG1MYXN0R3JvdXBGZXRjaC5ncm91cHMsXG4gICAgICBncm91cElkczogbGF5ZXIuX3BtTGFzdEdyb3VwRmV0Y2guZ3JvdXBJZHMsXG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlR2VvZGVzaWNQb2x5Z29uLFxuICBnZXRUcmFuc2xhdGlvbixcbiAgZmluZERlZXBDb29yZEluZGV4KGFyciwgbGF0bG5nLCBleGFjdCA9IHRydWUpIHtcbiAgICAvLyBmaW5kIGxhdGxuZyBpbiBhcnIgYW5kIHJldHVybiBpdHMgbG9jYXRpb24gYXMgcGF0aFxuICAgIC8vIHRoYW5rcyBmb3IgdGhlIGZ1bmN0aW9uLCBGZWxpeCBIZWNrXG4gICAgbGV0IHJlc3VsdDtcblxuICAgIGNvbnN0IHJ1biA9IChwYXRoKSA9PiAodiwgaSkgPT4ge1xuICAgICAgY29uc3QgaVJlcyA9IHBhdGguY29uY2F0KGkpO1xuXG4gICAgICBpZiAoZXhhY3QpIHtcbiAgICAgICAgaWYgKHYubGF0ICYmIHYubGF0ID09PSBsYXRsbmcubGF0ICYmIHYubG5nID09PSBsYXRsbmcubG5nKSB7XG4gICAgICAgICAgcmVzdWx0ID0gaVJlcztcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2LmxhdCAmJiBMLmxhdExuZyh2KS5lcXVhbHMobGF0bG5nKSkge1xuICAgICAgICByZXN1bHQgPSBpUmVzO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodikgJiYgdi5zb21lKHJ1bihpUmVzKSk7XG4gICAgfTtcbiAgICBhcnIuc29tZShydW4oW10pKTtcblxuICAgIGxldCByZXR1cm5WYWwgPSB7fTtcblxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHJldHVyblZhbCA9IHtcbiAgICAgICAgaW5kZXhQYXRoOiByZXN1bHQsXG4gICAgICAgIGluZGV4OiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLFxuICAgICAgICBwYXJlbnRQYXRoOiByZXN1bHQuc2xpY2UoMCwgcmVzdWx0Lmxlbmd0aCAtIDEpLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsO1xuICB9LFxuICBmaW5kRGVlcE1hcmtlckluZGV4KGFyciwgbWFya2VyKSB7XG4gICAgLy8gdGhhbmtzIGZvciB0aGUgZnVuY3Rpb24sIEZlbGl4IEhlY2tcbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgY29uc3QgcnVuID0gKHBhdGgpID0+ICh2LCBpKSA9PiB7XG4gICAgICBjb25zdCBpUmVzID0gcGF0aC5jb25jYXQoaSk7XG5cbiAgICAgIGlmICh2Ll9sZWFmbGV0X2lkID09PSBtYXJrZXIuX2xlYWZsZXRfaWQpIHtcbiAgICAgICAgcmVzdWx0ID0gaVJlcztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHYpICYmIHYuc29tZShydW4oaVJlcykpO1xuICAgIH07XG4gICAgYXJyLnNvbWUocnVuKFtdKSk7XG5cbiAgICBsZXQgcmV0dXJuVmFsID0ge307XG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICByZXR1cm5WYWwgPSB7XG4gICAgICAgIGluZGV4UGF0aDogcmVzdWx0LFxuICAgICAgICBpbmRleDogcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSxcbiAgICAgICAgcGFyZW50UGF0aDogcmVzdWx0LnNsaWNlKDAsIHJlc3VsdC5sZW5ndGggLSAxKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldHVyblZhbDtcbiAgfSxcbiAgX2dldEluZGV4RnJvbVNlZ21lbnQoY29vcmRzLCBzZWdtZW50KSB7XG4gICAgaWYgKHNlZ21lbnQgJiYgc2VnbWVudC5sZW5ndGggPT09IDIpIHtcbiAgICAgIGNvbnN0IGluZGV4QSA9IHRoaXMuZmluZERlZXBDb29yZEluZGV4KGNvb3Jkcywgc2VnbWVudFswXSk7XG4gICAgICBjb25zdCBpbmRleEIgPSB0aGlzLmZpbmREZWVwQ29vcmRJbmRleChjb29yZHMsIHNlZ21lbnRbMV0pO1xuICAgICAgbGV0IG5ld0luZGV4ID0gTWF0aC5tYXgoaW5kZXhBLmluZGV4LCBpbmRleEIuaW5kZXgpO1xuICAgICAgaWYgKChpbmRleEEuaW5kZXggPT09IDAgfHwgaW5kZXhCLmluZGV4ID09PSAwKSAmJiBuZXdJbmRleCAhPT0gMSkge1xuICAgICAgICBuZXdJbmRleCArPSAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXhBLFxuICAgICAgICBpbmRleEIsXG4gICAgICAgIG5ld0luZGV4LFxuICAgICAgICBpbmRleFBhdGg6IGluZGV4QS5pbmRleFBhdGgsXG4gICAgICAgIHBhcmVudFBhdGg6IGluZGV4QS5wYXJlbnRQYXRoLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIC8vIFJldHVybnMgdGhlIGNvcm5lcnMgb2YgdGhlIHJlY3RhbmdsZSB3aXRoIGEgZ2l2ZW4gcm90YXRpb25cbiAgLy8gZGVncmVlczogQmV0d2VlbiBtYXJrZXIgQSBhbmQgdGhlIG1hcmtlciBjb3VudGVyY2xvY2t3aXNlIGJlZm9yZS4gU2FtZSBmb3IgbWFya2VyIEJcbiAgX2dldFJvdGF0ZWRSZWN0YW5nbGUoQSwgQiwgcm90YXRpb24sIG1hcCkge1xuICAgIGNvbnN0IHN0YXJ0UG9pbnQgPSBfdG9Qb2ludChtYXAsIEEpO1xuICAgIGNvbnN0IGVuZFBvaW50ID0gX3RvUG9pbnQobWFwLCBCKTtcbiAgICBjb25zdCB0aGV0YSA9IChyb3RhdGlvbiAqIE1hdGguUEkpIC8gMTgwO1xuICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKHRoZXRhKTtcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbih0aGV0YSk7XG5cbiAgICBjb25zdCB3aWR0aCA9XG4gICAgICAoZW5kUG9pbnQueCAtIHN0YXJ0UG9pbnQueCkgKiBjb3MgKyAoZW5kUG9pbnQueSAtIHN0YXJ0UG9pbnQueSkgKiBzaW47XG4gICAgY29uc3QgaGVpZ2h0ID1cbiAgICAgIChlbmRQb2ludC55IC0gc3RhcnRQb2ludC55KSAqIGNvcyAtIChlbmRQb2ludC54IC0gc3RhcnRQb2ludC54KSAqIHNpbjtcbiAgICBjb25zdCB4MCA9IHdpZHRoICogY29zICsgc3RhcnRQb2ludC54O1xuICAgIGNvbnN0IHkwID0gd2lkdGggKiBzaW4gKyBzdGFydFBvaW50Lnk7XG4gICAgY29uc3QgeDEgPSAtaGVpZ2h0ICogc2luICsgc3RhcnRQb2ludC54O1xuICAgIGNvbnN0IHkxID0gaGVpZ2h0ICogY29zICsgc3RhcnRQb2ludC55O1xuXG4gICAgY29uc3QgcDAgPSBfdG9MYXRMbmcobWFwLCBzdGFydFBvaW50KTtcbiAgICBjb25zdCBwMSA9IF90b0xhdExuZyhtYXAsIHsgeDogeDAsIHk6IHkwIH0pO1xuICAgIGNvbnN0IHAyID0gX3RvTGF0TG5nKG1hcCwgZW5kUG9pbnQpO1xuICAgIGNvbnN0IHAzID0gX3RvTGF0TG5nKG1hcCwgeyB4OiB4MSwgeTogeTEgfSk7XG4gICAgcmV0dXJuIFtwMCwgcDEsIHAyLCBwM107XG4gIH0sXG4gIHB4UmFkaXVzVG9NZXRlclJhZGl1cyhyYWRpdXNJblB4LCBtYXAsIGNlbnRlcikge1xuICAgIGNvbnN0IHBvaW50QSA9IG1hcC5wcm9qZWN0KGNlbnRlcik7XG4gICAgY29uc3QgcG9pbnRCID0gTC5wb2ludChwb2ludEEueCArIHJhZGl1c0luUHgsIHBvaW50QS55KTtcbiAgICByZXR1cm4gbWFwLmRpc3RhbmNlKG1hcC51bnByb2plY3QocG9pbnRCKSwgY2VudGVyKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFV0aWxzO1xuIiwgIi8qIEEgTGVhZmxldCBQbHVnaW4gRm9yIEVkaXRpbmcgR2VvbWV0cnkgTGF5ZXJzIGluIExlYWZsZXQgMS4wXG4gKiBDb3B5cmlnaHQgKEMpIEdlb21hbi5pbyBhbmQgU3VtaXQgS3VtYXIgLSBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKiBVbmF1dGhvcml6ZWQgY29weWluZyBvZiB0aGlzIGZpbGUsIHZpYSBhbnkgbWVkaXVtIGlzIHN0cmljdGx5IHByb2hpYml0ZWRcbiAqIFByb3ByaWV0YXJ5IGFuZCBjb25maWRlbnRpYWxcbiAqIFdyaXR0ZW4gYnkgU3VtaXQgS3VtYXIgPHN1bWl0QGdlb21hbi5pbz4sIEphbnVhcnkgMjAyMFxuICogVHdpdHRlcjogQFR3ZWV0c09mU3VtaXRcbiAqIE9TUyBSZXBvOiBodHRwczovL2dpdGh1Yi5jb20vZ2VvbWFuLWlvL2xlYWZsZXQtZ2VvbWFuXG4gKiBHZXQgUHJvOiBodHRwczovL2dlb21hbi5pb1xuICovXG5cbmltcG9ydCAnLi9wb2x5ZmlsbHMnO1xuaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gJy4uLy4uL3BhY2thZ2UuanNvbic7XG5cbmltcG9ydCBNYXAgZnJvbSAnLi9MLlBNLk1hcCc7XG5pbXBvcnQgVG9vbGJhciBmcm9tICcuL1Rvb2xiYXIvTC5QTS5Ub29sYmFyJztcblxuaW1wb3J0IERyYXcgZnJvbSAnLi9EcmF3L0wuUE0uRHJhdyc7XG5pbXBvcnQgJy4vRHJhdy9MLlBNLkRyYXcuTWFya2VyJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5MaW5lJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5Qb2x5Z29uJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5SZWN0YW5nbGUnO1xuaW1wb3J0ICcuL0RyYXcvTC5QTS5EcmF3LkNpcmNsZU1hcmtlcic7XG5pbXBvcnQgJy4vRHJhdy9MLlBNLkRyYXcuQ2lyY2xlJztcbmltcG9ydCAnLi9EcmF3L0wuUE0uRHJhdy5DdXQnO1xuaW1wb3J0ICcuL0RyYXcvTC5QTS5EcmF3LlRleHQnO1xuXG5pbXBvcnQgRWRpdCBmcm9tICcuL0VkaXQvTC5QTS5FZGl0JztcbmltcG9ydCAnLi9FZGl0L0wuUE0uRWRpdC5MYXllckdyb3VwJztcbmltcG9ydCAnLi9FZGl0L0wuUE0uRWRpdC5NYXJrZXInO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LkxpbmUnO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LlBvbHlnb24nO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LlJlY3RhbmdsZSc7XG5pbXBvcnQgJy4vRWRpdC9MLlBNLkVkaXQuQ2lyY2xlTWFya2VyJztcbmltcG9ydCAnLi9FZGl0L0wuUE0uRWRpdC5DaXJjbGUnO1xuaW1wb3J0ICcuL0VkaXQvTC5QTS5FZGl0LkltYWdlT3ZlcmxheSc7XG5pbXBvcnQgJy4vRWRpdC9MLlBNLkVkaXQuVGV4dCc7XG5cbmltcG9ydCAnLi4vY3NzL2xheWVycy5jc3MnO1xuaW1wb3J0ICcuLi9jc3MvY29udHJvbHMuY3NzJztcblxuaW1wb3J0IE1hdHJpeCBmcm9tICcuL2hlbHBlcnMvTWF0cml4JztcblxuaW1wb3J0IFV0aWxzIGZyb20gJy4vTC5QTS5VdGlscyc7XG5cbkwuUE0gPSBMLlBNIHx8IHtcbiAgdmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbixcbiAgTWFwLFxuICBUb29sYmFyLFxuICBEcmF3LFxuICBFZGl0LFxuICBVdGlscyxcbiAgTWF0cml4LFxuICBhY3RpdmVMYW5nOiAnZW4nLFxuICBvcHRJbjogZmFsc2UsXG4gIGluaXRpYWxpemUob3B0aW9ucykge1xuICAgIHRoaXMuYWRkSW5pdEhvb2tzKG9wdGlvbnMpO1xuICB9LFxuICBzZXRPcHRJbih2YWx1ZSkge1xuICAgIHRoaXMub3B0SW4gPSAhIXZhbHVlO1xuICB9LFxuICBhZGRJbml0SG9va3MoKSB7XG4gICAgZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChMLlBNLm9wdEluKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLk1hcCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5NYXAodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBtKSB7XG4gICAgICAgIHRoaXMucG0uc2V0R2xvYmFsT3B0aW9ucyh7fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5NYXAuYWRkSW5pdEhvb2soaW5pdE1hcCk7XG5cbiAgICBmdW5jdGlvbiBpbml0TGF5ZXJHcm91cCgpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoTC5QTS5vcHRJbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkxheWVyR3JvdXAodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5MYXllckdyb3VwKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIEwuTGF5ZXJHcm91cC5hZGRJbml0SG9vayhpbml0TGF5ZXJHcm91cCk7XG5cbiAgICBmdW5jdGlvbiBpbml0TWFya2VyKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRleHRNYXJrZXIpIHtcbiAgICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlRleHQodGhpcyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5fdGV4dE1hcmtlck92ZXJQTSkge1xuICAgICAgICAgICAgICB0aGlzLnBtLl9pbml0VGV4dE1hcmtlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5fdGV4dE1hcmtlck92ZXJQTTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuTWFya2VyKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dE1hcmtlcikge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlRleHQodGhpcyk7XG4gICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuX3RleHRNYXJrZXJPdmVyUE0pIHtcbiAgICAgICAgICAgIHRoaXMucG0uX2luaXRUZXh0TWFya2VyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuX3RleHRNYXJrZXJPdmVyUE07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuTWFya2VyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIEwuTWFya2VyLmFkZEluaXRIb29rKGluaXRNYXJrZXIpO1xuXG4gICAgZnVuY3Rpb24gaW5pdENpcmNsZU1hcmtlcigpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChMLlBNLm9wdEluKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuQ2lyY2xlTWFya2VyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMucG1JZ25vcmUpIHtcbiAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuQ2lyY2xlTWFya2VyKHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBMLkNpcmNsZU1hcmtlci5hZGRJbml0SG9vayhpbml0Q2lyY2xlTWFya2VyKTtcblxuICAgIGZ1bmN0aW9uIGluaXRQb2x5bGluZSgpIHtcbiAgICAgIHRoaXMucG0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChMLlBNLm9wdEluKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucG1JZ25vcmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5wbSA9IG5ldyBMLlBNLkVkaXQuTGluZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnBtSWdub3JlKSB7XG4gICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LkxpbmUodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5Qb2x5bGluZS5hZGRJbml0SG9vayhpbml0UG9seWxpbmUpO1xuXG4gICAgZnVuY3Rpb24gaW5pdFBvbHlnb24oKSB7XG4gICAgICB0aGlzLnBtID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoTC5QTS5vcHRJbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBtSWdub3JlID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMucG0gPSBuZXcgTC5QTS5FZGl0LlBvbHlnb24odGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5Qb2x5Z29uKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIEwuUG9seWdvbi5hZGRJbml0SG9vayhpbml0UG9seWdvbik7XG5cbiAgICBmdW5jdGlvbiBpbml0UmVjdGFuZ2xlKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5SZWN0YW5nbGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5SZWN0YW5nbGUodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5SZWN0YW5nbGUuYWRkSW5pdEhvb2soaW5pdFJlY3RhbmdsZSk7XG5cbiAgICBmdW5jdGlvbiBpbml0Q2lyY2xlKCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5DaXJjbGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5DaXJjbGUodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5DaXJjbGUuYWRkSW5pdEhvb2soaW5pdENpcmNsZSk7XG5cbiAgICBmdW5jdGlvbiBpbml0SW1hZ2VPdmVybGF5KCkge1xuICAgICAgdGhpcy5wbSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKEwuUE0ub3B0SW4pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wbUlnbm9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5JbWFnZU92ZXJsYXkodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgICB0aGlzLnBtID0gbmV3IEwuUE0uRWRpdC5JbWFnZU92ZXJsYXkodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTC5JbWFnZU92ZXJsYXkuYWRkSW5pdEhvb2soaW5pdEltYWdlT3ZlcmxheSk7XG4gIH0sXG4gIHJlSW5pdExheWVyKGxheWVyKSB7XG4gICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICBsYXllci5lYWNoTGF5ZXIoKF9sYXllcikgPT4ge1xuICAgICAgICB0aGlzLnJlSW5pdExheWVyKF9sYXllcik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGxheWVyLnBtKSB7XG4gICAgICAvLyBQTSBpcyBhbHJlYWR5IGFkZGVkIHRvIHRoZSBsYXllclxuICAgIH0gZWxzZSBpZiAoTC5QTS5vcHRJbiAmJiBsYXllci5vcHRpb25zLnBtSWdub3JlICE9PSBmYWxzZSkge1xuICAgICAgLy8gT3B0LUluIGlzIHRydWUgYW5kIHBtSWdub3JlIGlzIG5vdCBmYWxzZVxuICAgIH0gZWxzZSBpZiAobGF5ZXIub3B0aW9ucy5wbUlnbm9yZSkge1xuICAgICAgLy8gcG1JZ25vcmUgaXMgdHJ1ZVxuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLk1hcCkge1xuICAgICAgbGF5ZXIucG0gPSBuZXcgTC5QTS5NYXAobGF5ZXIpO1xuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLk1hcmtlcikge1xuICAgICAgaWYgKGxheWVyLm9wdGlvbnMudGV4dE1hcmtlcikge1xuICAgICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuVGV4dChsYXllcik7XG4gICAgICAgIGxheWVyLnBtLl9pbml0VGV4dE1hcmtlcigpO1xuICAgICAgICBsYXllci5wbS5fY3JlYXRlVGV4dE1hcmtlcihmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuTWFya2VyKGxheWVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5DaXJjbGUpIHtcbiAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5DaXJjbGUobGF5ZXIpO1xuICAgIH0gZWxzZSBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMLkNpcmNsZU1hcmtlcikge1xuICAgICAgbGF5ZXIucG0gPSBuZXcgTC5QTS5FZGl0LkNpcmNsZU1hcmtlcihsYXllcik7XG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuUmVjdGFuZ2xlKSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuUmVjdGFuZ2xlKGxheWVyKTtcbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuUG9seWdvbihsYXllcik7XG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuUG9seWxpbmUpIHtcbiAgICAgIGxheWVyLnBtID0gbmV3IEwuUE0uRWRpdC5MaW5lKGxheWVyKTtcbiAgICB9IGVsc2UgaWYgKGxheWVyIGluc3RhbmNlb2YgTC5MYXllckdyb3VwKSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuTGF5ZXJHcm91cChsYXllcik7XG4gICAgfSBlbHNlIGlmIChsYXllciBpbnN0YW5jZW9mIEwuSW1hZ2VPdmVybGF5KSB7XG4gICAgICBsYXllci5wbSA9IG5ldyBMLlBNLkVkaXQuSW1hZ2VPdmVybGF5KGxheWVyKTtcbiAgICB9XG4gIH0sXG59O1xuXG5pZiAoTC52ZXJzaW9uID09PSAnMS43LjEnKSB7XG4gIC8vIENhbnZhcyBNb2RlOiBBZnRlciBkcmFnZ2luZyB0aGUgbWFwIHRoZSB0YXJnZXQgbGF5ZXIgY2FuJ3QgYmUgZHJhZ2dlZCBhbnltb3JlIHVudGlsIGl0IGlzIGNsaWNrZWRcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvNzc3NSBhIGZpeCBpcyBhbHJlYWR5IG1lcmdlZCBmb3IgdGhlIExlYWZsZXQgMS44LjAgdmVyc2lvblxuICBMLkNhbnZhcy5pbmNsdWRlKHtcbiAgICBfb25DbGljayhlKSB7XG4gICAgICBjb25zdCBwb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUpO1xuICAgICAgbGV0IGxheWVyO1xuICAgICAgbGV0IGNsaWNrZWRMYXllcjtcblxuICAgICAgZm9yIChsZXQgb3JkZXIgPSB0aGlzLl9kcmF3Rmlyc3Q7IG9yZGVyOyBvcmRlciA9IG9yZGVyLm5leHQpIHtcbiAgICAgICAgbGF5ZXIgPSBvcmRlci5sYXllcjtcbiAgICAgICAgaWYgKGxheWVyLm9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgbGF5ZXIuX2NvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgLy8gY2hhbmdpbmcgZS50eXBlICE9PSAncHJlY2xpY2snIHRvIGUudHlwZSA9PT0gJ3ByZWNsaWNrJyBmaXggdGhlIGlzc3VlXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIShlLnR5cGUgPT09ICdjbGljaycgfHwgZS50eXBlID09PSAncHJlY2xpY2snKSB8fFxuICAgICAgICAgICAgIXRoaXMuX21hcC5fZHJhZ2dhYmxlTW92ZWQobGF5ZXIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjbGlja2VkTGF5ZXIgPSBsYXllcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjbGlja2VkTGF5ZXIpIHtcbiAgICAgICAgTC5Eb21FdmVudC5mYWtlU3RvcChlKTtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KFtjbGlja2VkTGF5ZXJdLCBlKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cblxuLy8gaW5pdGlhbGl6ZSBsZWFmbGV0LWdlb21hblxuTC5QTS5pbml0aWFsaXplKCk7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRTyxlQUFTLE9BQU8sTUFBTTtBQUM1QixZQUFJLEdBQUcsR0FBRyxLQUFLO0FBRWYsYUFBSyxJQUFJLEdBQUcsTUFBTSxVQUFVLFFBQVEsSUFBSSxLQUFLLEtBQUs7QUFDakQsZ0JBQU0sVUFBVSxDQUFDO0FBQ2pCLGVBQUssS0FBSyxLQUFLO0FBQ2QsaUJBQUssQ0FBQyxJQUFJLElBQUksQ0FBQztVQUNsQjtRQUNBO0FBQ0MsZUFBTztNQUNSO0FBSU8sVUFBSUEsV0FBUyxPQUFPLFVBQVcsMkJBQVk7QUFDakQsaUJBQVMsSUFBSTtRQUFBO0FBQ2IsZUFBTyxTQUFVLE9BQU87QUFDdkIsWUFBRSxZQUFZO0FBQ2QsaUJBQU8sSUFBSSxFQUFDO1FBQ2Q7TUFDQSxFQUFDO0FBS00sZUFBUyxLQUFLLElBQUksS0FBSztBQUM3QixZQUFJLFFBQVEsTUFBTSxVQUFVO0FBRTVCLFlBQUksR0FBRyxNQUFNO0FBQ1osaUJBQU8sR0FBRyxLQUFLLE1BQU0sSUFBSSxNQUFNLEtBQUssV0FBVyxDQUFDLENBQUM7UUFDbkQ7QUFFQyxZQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsQ0FBQztBQUVsQyxlQUFPLFdBQVk7QUFDbEIsaUJBQU8sR0FBRyxNQUFNLEtBQUssS0FBSyxTQUFTLEtBQUssT0FBTyxNQUFNLEtBQUssU0FBUyxDQUFDLElBQUksU0FBUztRQUNuRjtNQUNBO0FBSU8sVUFBSSxTQUFTO0FBSWIsZUFBUyxNQUFNLEtBQUs7QUFDMUIsWUFBSSxFQUFFLGlCQUFpQixNQUFNO0FB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LFFBQVE7QUFDdkMsY0FBRyxDQUFDO0FBQ0EscUJBQVMsS0FBSyxlQUFlO0FBQ2pDLGNBQUcsT0FBTyxLQUNWO0FBQ0ksaUJBQUssT0FBTyxVQUFVLE1BQU07QUFDNUIsaUJBQUssZUFBZSxNQUFNO0FBQUEsVUFDOUI7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLE1BRUEsWUFBWSxXQUFXO0FBQ25CLGFBQUssSUFBSSxNQUFNLEtBQUssZUFBZSxDQUFDO0FBQ3BDLGFBQUssYUFBYTtBQUFBLE1BQ3RCO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFFQSxTQUFPLFlBQVk7QUFFbkIsU0FBTyxjQUFjLElBQUksWUFBWSxtQkFBbUIsQ0FBQztBQUM3RCxDQUFDOyIsCiAgIm5hbWVzIjogWyJjcmVhdGUiLCAic3RyIiwgIlV0aWwuc2V0T3B0aW9ucyIsICJVdGlsLmNyZWF0ZSIsICJVdGlsLmV4dGVuZCIsICJpIiwgIlV0aWwuaXNBcnJheSIsICJVdGlsLnNwbGl0V29yZHMiLCAiVXRpbC5mYWxzZUZuIiwgImluZGV4IiwgIlV0aWwuc3RhbXAiLCAiTGF0TG5nIiwgIlV0aWwuZm9ybWF0TnVtIiwgInpvb20iLCAic2NhbGUiLCAiVXRpbC53cmFwTnVtIiwgImNhbnZhcyIsICJzdmciLCAiRG9tRXZlbnQucHJldmVudERlZmF1bHQiLCAiRG9tRXZlbnQuZ2V0UHJvcGFnYXRpb25QYXRoIiwgInN0eWxlIiwgIlV0aWwudHJpbSIsICJEb21FdmVudC5vbiIsICJEb21FdmVudC5vZmYiLCAidHlwZSIsICJVdGlsLmluZGV4T2YiLCAiRG9tVXRpbC5nZXRQb3NpdGlvbiIsICJVdGlsLnJlcXVlc3RBbmltRnJhbWUiLCAiRG9tVXRpbC5zZXRQb3NpdGlvbiIsICJVdGlsLmNhbmNlbEFuaW1GcmFtZSIsICJNYXAiLCAiVXRpbC5iaW5kIiwgIkRvbVV0aWwuVFJBTlNJVElPTiIsICJEb21VdGlsLlRSQU5TSVRJT05fRU5EIiwgIkRvbVV0aWwuYWRkQ2xhc3MiLCAiRG9tVXRpbC5yZW1vdmUiLCAiRG9tVXRpbC5jcmVhdGUiLCAiRG9tRXZlbnQuZ2V0TW91c2VQb3NpdGlvbiIsICJEb21VdGlsLmdldCIsICJEb21VdGlsLmdldFN0eWxlIiwgInJlbW92ZSIsICJEb21FdmVudC5pc0V4dGVybmFsVGFyZ2V0IiwgIkRvbVV0aWwucHJldmVudE91dGxpbmUiLCAibGF0TG5nQm91bmRzIiwgIkRvbVV0aWwucmVtb3ZlQ2xhc3MiLCAiRG9tVXRpbC5UUkFOU0ZPUk0iLCAiRG9tVXRpbC5zZXRUcmFuc2Zvcm0iLCAibWFwIiwgImNvbnRyb2wiLCAiRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24iLCAiRG9tRXZlbnQuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uIiwgIkRvbVV0aWwuZW1wdHkiLCAiRG9tRXZlbnQuc3RvcCIsICJwcmV2ZW50T3V0bGluZSIsICJEb21VdGlsLmhhc0NsYXNzIiwgIkRvbVV0aWwuZGlzYWJsZUltYWdlRHJhZyIsICJEb21VdGlsLmRpc2FibGVUZXh0U2VsZWN0aW9uIiwgIkRvbVV0aWwuZ2V0U2l6ZWRQYXJlbnROb2RlIiwgIkRvbVV0aWwuZ2V0U2NhbGUiLCAiRG9tVXRpbC5lbmFibGVJbWFnZURyYWciLCAiRG9tVXRpbC5lbmFibGVUZXh0U2VsZWN0aW9uIiwgImVkZ2UiLCAiTGluZVV0aWwuX2dldEJpdENvZGUiLCAiTGluZVV0aWwuX2dldEVkZ2VJbnRlcnNlY3Rpb24iLCAiTGluZVV0aWwuaXNGbGF0IiwgImxheWVycyIsICJGZWF0dXJlR3JvdXAiLCAicG9pbnQiLCAiaWNvbiIsICJtYXJrZXIiLCAibGF0TG5nIiwgIkRvbVV0aWwuc2V0T3BhY2l0eSIsICJjaXJjbGVNYXJrZXIiLCAiY2lyY2xlIiwgIkxpbmVVdGlsLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudCIsICJMaW5lVXRpbC5wb2x5bGluZUNlbnRlciIsICJMaW5lVXRpbC5jbGlwU2VnbWVudCIsICJMaW5lVXRpbC5zaW1wbGlmeSIsICJMaW5lVXRpbC5wb2ludFRvU2VnbWVudERpc3RhbmNlIiwgIkxpbmVVdGlsLl9mbGF0IiwgIlBvbHlVdGlsLnBvbHlnb25DZW50ZXIiLCAiUG9seVV0aWwuY2xpcFBvbHlnb24iLCAiZ2VvSlNPTiIsICJEb21VdGlsLnRvRnJvbnQiLCAiRG9tVXRpbC50b0JhY2siLCAiRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uIiwgInBvcHVwIiwgInRvb2x0aXAiLCAiZGl2SWNvbiIsICJVdGlsLnRocm90dGxlIiwgIlV0aWwudGVtcGxhdGUiLCAiVXRpbC5lbXB0eUltYWdlVXJsIiwgInRpbGVMYXllciIsICJEb21FdmVudC5nZXRXaGVlbERlbHRhIiwgIm1hcCIsICJyZXF1aXJlX2xpc3RDYWNoZUNsZWFyIiwgIl9fY29tbW9uSlNNaW4iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAibGlzdENhY2hlQ2xlYXIiLCAicmVxdWlyZV9lcSIsICJlcSIsICJ2YWx1ZSIsICJvdGhlciIsICJyZXF1aXJlX2Fzc29jSW5kZXhPZiIsICJhc3NvY0luZGV4T2YiLCAiYXJyYXkiLCAia2V5IiwgImxlbmd0aCIsICJyZXF1aXJlX2xpc3RDYWNoZURlbGV0ZSIsICJhcnJheVByb3RvIiwgInNwbGljZSIsICJsaXN0Q2FjaGVEZWxldGUiLCAiZGF0YSIsICJpbmRleCIsICJsYXN0SW5kZXgiLCAicmVxdWlyZV9saXN0Q2FjaGVHZXQiLCAibGlzdENhY2hlR2V0IiwgInJlcXVpcmVfbGlzdENhY2hlSGFzIiwgImxpc3RDYWNoZUhhcyIsICJyZXF1aXJlX2xpc3RDYWNoZVNldCIsICJsaXN0Q2FjaGVTZXQiLCAicmVxdWlyZV9MaXN0Q2FjaGUiLCAiTGlzdENhY2hlIiwgImVudHJpZXMiLCAiZW50cnkiLCAicmVxdWlyZV9zdGFja0NsZWFyIiwgInN0YWNrQ2xlYXIiLCAicmVxdWlyZV9zdGFja0RlbGV0ZSIsICJzdGFja0RlbGV0ZSIsICJyZXN1bHQiLCAicmVxdWlyZV9zdGFja0dldCIsICJzdGFja0dldCIsICJyZXF1aXJlX3N0YWNrSGFzIiwgInN0YWNrSGFzIiwgInJlcXVpcmVfZnJlZUdsb2JhbCIsICJmcmVlR2xvYmFsIiwgInJlcXVpcmVfcm9vdCIsICJmcmVlU2VsZiIsICJyb290IiwgInJlcXVpcmVfU3ltYm9sIiwgIlN5bWJvbCIsICJyZXF1aXJlX2dldFJhd1RhZyIsICJvYmplY3RQcm90byIsICJoYXNPd25Qcm9wZXJ0eSIsICJuYXRpdmVPYmplY3RUb1N0cmluZyIsICJzeW1Ub1N0cmluZ1RhZyIsICJnZXRSYXdUYWciLCAiaXNPd24iLCAidGFnIiwgInVubWFza2VkIiwgInJlcXVpcmVfb2JqZWN0VG9TdHJpbmciLCAib2JqZWN0VG9TdHJpbmciLCAicmVxdWlyZV9iYXNlR2V0VGFnIiwgIm51bGxUYWciLCAidW5kZWZpbmVkVGFnIiwgImJhc2VHZXRUYWciLCAicmVxdWlyZV9pc09iamVjdCIsICJpc09iamVjdCIsICJ0eXBlIiwgInJlcXVpcmVfaXNGdW5jdGlvbiIsICJhc3luY1RhZyIsICJmdW5jVGFnIiwgImdlblRhZyIsICJwcm94eVRhZyIsICJpc0Z1bmN0aW9uIiwgInJlcXVpcmVfY29yZUpzRGF0YSIsICJjb3JlSnNEYXRhIiwgInJlcXVpcmVfaXNNYXNrZWQiLCAibWFza1NyY0tleSIsICJ1aWQiLCAiaXNNYXNrZWQiLCAiZnVuYyIsICJyZXF1aXJlX3RvU291cmNlIiwgImZ1bmNQcm90byIsICJmdW5jVG9TdHJpbmciLCAidG9Tb3VyY2UiLCAicmVxdWlyZV9iYXNlSXNOYXRpdmUiLCAicmVSZWdFeHBDaGFyIiwgInJlSXNIb3N0Q3RvciIsICJyZUlzTmF0aXZlIiwgImJhc2VJc05hdGl2ZSIsICJwYXR0ZXJuIiwgInJlcXVpcmVfZ2V0VmFsdWUiLCAiZ2V0VmFsdWUiLCAib2JqZWN0IiwgInJlcXVpcmVfZ2V0TmF0aXZlIiwgImdldE5hdGl2ZSIsICJyZXF1aXJlX01hcCIsICJNYXAiLCAicmVxdWlyZV9uYXRpdmVDcmVhdGUiLCAibmF0aXZlQ3JlYXRlIiwgInJlcXVpcmVfaGFzaENsZWFyIiwgImhhc2hDbGVhciIsICJyZXF1aXJlX2hhc2hEZWxldGUiLCAiaGFzaERlbGV0ZSIsICJyZXF1aXJlX2hhc2hHZXQiLCAiSEFTSF9VTkRFRklORUQiLCAiaGFzaEdldCIsICJyZXF1aXJlX2hhc2hIYXMiLCAiaGFzaEhhcyIsICJyZXF1aXJlX2hhc2hTZXQiLCAiaGFzaFNldCIsICJyZXF1aXJlX0hhc2giLCAiSGFzaCIsICJyZXF1aXJlX21hcENhY2hlQ2xlYXIiLCAibWFwQ2FjaGVDbGVhciIsICJyZXF1aXJlX2lzS2V5YWJsZSIsICJpc0tleWFibGUiLCAicmVxdWlyZV9nZXRNYXBEYXRhIiwgImdldE1hcERhdGEiLCAibWFwIiwgInJlcXVpcmVfbWFwQ2FjaGVEZWxldGUiLCAibWFwQ2FjaGVEZWxldGUiLCAicmVxdWlyZV9tYXBDYWNoZUdldCIsICJtYXBDYWNoZUdldCIsICJyZXF1aXJlX21hcENhY2hlSGFzIiwgIm1hcENhY2hlSGFzIiwgInJlcXVpcmVfbWFwQ2FjaGVTZXQiLCAibWFwQ2FjaGVTZXQiLCAic2l6ZSIsICJyZXF1aXJlX01hcENhY2hlIiwgIk1hcENhY2hlIiwgInJlcXVpcmVfc3RhY2tTZXQiLCAiTEFSR0VfQVJSQVlfU0laRSIsICJzdGFja1NldCIsICJwYWlycyIsICJyZXF1aXJlX1N0YWNrIiwgIlN0YWNrIiwgInJlcXVpcmVfZGVmaW5lUHJvcGVydHkiLCAiZGVmaW5lUHJvcGVydHkiLCAicmVxdWlyZV9iYXNlQXNzaWduVmFsdWUiLCAiYmFzZUFzc2lnblZhbHVlIiwgInJlcXVpcmVfYXNzaWduTWVyZ2VWYWx1ZSIsICJhc3NpZ25NZXJnZVZhbHVlIiwgInJlcXVpcmVfY3JlYXRlQmFzZUZvciIsICJjcmVhdGVCYXNlRm9yIiwgImZyb21SaWdodCIsICJpdGVyYXRlZSIsICJrZXlzRnVuYyIsICJpdGVyYWJsZSIsICJwcm9wcyIsICJyZXF1aXJlX2Jhc2VGb3IiLCAiYmFzZUZvciIsICJyZXF1aXJlX2Nsb25lQnVmZmVyIiwgImZyZWVFeHBvcnRzIiwgImZyZWVNb2R1bGUiLCAibW9kdWxlRXhwb3J0cyIsICJCdWZmZXIiLCAiYWxsb2NVbnNhZmUiLCAiY2xvbmVCdWZmZXIiLCAiYnVmZmVyIiwgImlzRGVlcCIsICJyZXF1aXJlX1VpbnQ4QXJyYXkiLCAiVWludDhBcnJheSIsICJyZXF1aXJlX2Nsb25lQXJyYXlCdWZmZXIiLCAiY2xvbmVBcnJheUJ1ZmZlciIsICJhcnJheUJ1ZmZlciIsICJyZXF1aXJlX2Nsb25lVHlwZWRBcnJheSIsICJjbG9uZVR5cGVkQXJyYXkiLCAidHlwZWRBcnJheSIsICJyZXF1aXJlX2NvcHlBcnJheSIsICJjb3B5QXJyYXkiLCAic291cmNlIiwgInJlcXVpcmVfYmFzZUNyZWF0ZSIsICJvYmplY3RDcmVhdGUiLCAiYmFzZUNyZWF0ZSIsICJwcm90byIsICJyZXF1aXJlX292ZXJBcmciLCAib3ZlckFyZyIsICJ0cmFuc2Zvcm0iLCAiYXJnIiwgInJlcXVpcmVfZ2V0UHJvdG90eXBlIiwgImdldFByb3RvdHlwZSIsICJyZXF1aXJlX2lzUHJvdG90eXBlIiwgImlzUHJvdG90eXBlIiwgIkN0b3IiLCAicmVxdWlyZV9pbml0Q2xvbmVPYmplY3QiLCAiaW5pdENsb25lT2JqZWN0IiwgInJlcXVpcmVfaXNPYmplY3RMaWtlIiwgImlzT2JqZWN0TGlrZSIsICJyZXF1aXJlX2Jhc2VJc0FyZ3VtZW50cyIsICJhcmdzVGFnIiwgImJhc2VJc0FyZ3VtZW50cyIsICJyZXF1aXJlX2lzQXJndW1lbnRzIiwgInByb3BlcnR5SXNFbnVtZXJhYmxlIiwgImlzQXJndW1lbnRzIiwgInJlcXVpcmVfaXNBcnJheSIsICJpc0FycmF5IiwgInJlcXVpcmVfaXNMZW5ndGgiLCAiTUFYX1NBRkVfSU5URUdFUiIsICJpc0xlbmd0aCIsICJyZXF1aXJlX2lzQXJyYXlMaWtlIiwgImlzQXJyYXlMaWtlIiwgInJlcXVpcmVfaXNBcnJheUxpa2VPYmplY3QiLCAiaXNBcnJheUxpa2VPYmplY3QiLCAicmVxdWlyZV9zdHViRmFsc2UiLCAic3R1YkZhbHNlIiwgInJlcXVpcmVfaXNCdWZmZXIiLCAibmF0aXZlSXNCdWZmZXIiLCAiaXNCdWZmZXIiLCAicmVxdWlyZV9pc1BsYWluT2JqZWN0IiwgIm9iamVjdFRhZyIsICJvYmplY3RDdG9yU3RyaW5nIiwgImlzUGxhaW5PYmplY3QiLCAicmVxdWlyZV9iYXNlSXNUeXBlZEFycmF5IiwgImFycmF5VGFnIiwgImJvb2xUYWciLCAiZGF0ZVRhZyIsICJlcnJvclRhZyIsICJtYXBUYWciLCAibnVtYmVyVGFnIiwgInJlZ2V4cFRhZyIsICJzZXRUYWciLCAic3RyaW5nVGFnIiwgIndlYWtNYXBUYWciLCAiYXJyYXlCdWZmZXJUYWciLCAiZGF0YVZpZXdUYWciLCAiZmxvYXQzMlRhZyIsICJmbG9hdDY0VGFnIiwgImludDhUYWciLCAiaW50MTZUYWciLCAiaW50MzJUYWciLCAidWludDhUYWciLCAidWludDhDbGFtcGVkVGFnIiwgInVpbnQxNlRhZyIsICJ1aW50MzJUYWciLCAidHlwZWRBcnJheVRhZ3MiLCAiYmFzZUlzVHlwZWRBcnJheSIsICJyZXF1aXJlX2Jhc2VVbmFyeSIsICJiYXNlVW5hcnkiLCAicmVxdWlyZV9ub2RlVXRpbCIsICJmcmVlUHJvY2VzcyIsICJub2RlVXRpbCIsICJ0eXBlcyIsICJyZXF1aXJlX2lzVHlwZWRBcnJheSIsICJub2RlSXNUeXBlZEFycmF5IiwgImlzVHlwZWRBcnJheSIsICJyZXF1aXJlX3NhZmVHZXQiLCAic2FmZUdldCIsICJyZXF1aXJlX2Fzc2lnblZhbHVlIiwgImFzc2lnblZhbHVlIiwgIm9ialZhbHVlIiwgInJlcXVpcmVfY29weU9iamVjdCIsICJjb3B5T2JqZWN0IiwgImN1c3RvbWl6ZXIiLCAiaXNOZXciLCAibmV3VmFsdWUiLCAicmVxdWlyZV9iYXNlVGltZXMiLCAiYmFzZVRpbWVzIiwgIm4iLCAicmVxdWlyZV9pc0luZGV4IiwgInJlSXNVaW50IiwgImlzSW5kZXgiLCAicmVxdWlyZV9hcnJheUxpa2VLZXlzIiwgImFycmF5TGlrZUtleXMiLCAiaW5oZXJpdGVkIiwgImlzQXJyIiwgImlzQXJnIiwgImlzQnVmZiIsICJpc1R5cGUiLCAic2tpcEluZGV4ZXMiLCAicmVxdWlyZV9uYXRpdmVLZXlzSW4iLCAibmF0aXZlS2V5c0luIiwgInJlcXVpcmVfYmFzZUtleXNJbiIsICJiYXNlS2V5c0luIiwgImlzUHJvdG8iLCAicmVxdWlyZV9rZXlzSW4iLCAia2V5c0luIiwgInJlcXVpcmVfdG9QbGFpbk9iamVjdCIsICJ0b1BsYWluT2JqZWN0IiwgInJlcXVpcmVfYmFzZU1lcmdlRGVlcCIsICJiYXNlTWVyZ2VEZWVwIiwgInNyY0luZGV4IiwgIm1lcmdlRnVuYyIsICJzdGFjayIsICJzcmNWYWx1ZSIsICJzdGFja2VkIiwgImlzQ29tbW9uIiwgImlzVHlwZWQiLCAicmVxdWlyZV9iYXNlTWVyZ2UiLCAiYmFzZU1lcmdlIiwgInJlcXVpcmVfaWRlbnRpdHkiLCAiaWRlbnRpdHkiLCAicmVxdWlyZV9hcHBseSIsICJhcHBseSIsICJ0aGlzQXJnIiwgImFyZ3MiLCAicmVxdWlyZV9vdmVyUmVzdCIsICJuYXRpdmVNYXgiLCAib3ZlclJlc3QiLCAic3RhcnQiLCAib3RoZXJBcmdzIiwgInJlcXVpcmVfY29uc3RhbnQiLCAiY29uc3RhbnQiLCAicmVxdWlyZV9iYXNlU2V0VG9TdHJpbmciLCAiYmFzZVNldFRvU3RyaW5nIiwgInN0cmluZyIsICJyZXF1aXJlX3Nob3J0T3V0IiwgIkhPVF9DT1VOVCIsICJIT1RfU1BBTiIsICJuYXRpdmVOb3ciLCAic2hvcnRPdXQiLCAiY291bnQiLCAibGFzdENhbGxlZCIsICJzdGFtcCIsICJyZW1haW5pbmciLCAicmVxdWlyZV9zZXRUb1N0cmluZyIsICJzZXRUb1N0cmluZyIsICJyZXF1aXJlX2Jhc2VSZXN0IiwgImJhc2VSZXN0IiwgInJlcXVpcmVfaXNJdGVyYXRlZUNhbGwiLCAiaXNJdGVyYXRlZUNhbGwiLCAicmVxdWlyZV9jcmVhdGVBc3NpZ25lciIsICJjcmVhdGVBc3NpZ25lciIsICJhc3NpZ25lciIsICJzb3VyY2VzIiwgImd1YXJkIiwgInJlcXVpcmVfbWVyZ2UiLCAibWVyZ2UiLCAicmVxdWlyZV9pc1N5bWJvbCIsICJzeW1ib2xUYWciLCAiaXNTeW1ib2wiLCAicmVxdWlyZV9pc0tleSIsICJyZUlzRGVlcFByb3AiLCAicmVJc1BsYWluUHJvcCIsICJpc0tleSIsICJyZXF1aXJlX21lbW9pemUiLCAiRlVOQ19FUlJPUl9URVhUIiwgIm1lbW9pemUiLCAicmVzb2x2ZXIiLCAibWVtb2l6ZWQiLCAiY2FjaGUiLCAicmVxdWlyZV9tZW1vaXplQ2FwcGVkIiwgIk1BWF9NRU1PSVpFX1NJWkUiLCAibWVtb2l6ZUNhcHBlZCIsICJyZXF1aXJlX3N0cmluZ1RvUGF0aCIsICJyZVByb3BOYW1lIiwgInJlRXNjYXBlQ2hhciIsICJzdHJpbmdUb1BhdGgiLCAibWF0Y2giLCAibnVtYmVyIiwgInF1b3RlIiwgInN1YlN0cmluZyIsICJyZXF1aXJlX2FycmF5TWFwIiwgImFycmF5TWFwIiwgInJlcXVpcmVfYmFzZVRvU3RyaW5nIiwgIklORklOSVRZIiwgInN5bWJvbFByb3RvIiwgInN5bWJvbFRvU3RyaW5nIiwgImJhc2VUb1N0cmluZyIsICJyZXF1aXJlX3RvU3RyaW5nIiwgInRvU3RyaW5nIiwgInJlcXVpcmVfY2FzdFBhdGgiLCAiY2FzdFBhdGgiLCAicmVxdWlyZV90b0tleSIsICJ0b0tleSIsICJyZXF1aXJlX2Jhc2VHZXQiLCAiYmFzZUdldCIsICJwYXRoIiwgInJlcXVpcmVfZ2V0IiwgImdldCIsICJkZWZhdWx0VmFsdWUiLCAicmVxdWlyZV9yYnVzaF9taW4iLCAiaSIsICJ0IiwgInIiLCAiZSIsICJhIiwgImgiLCAibyIsICJzIiwgImwiLCAiZiIsICJ1IiwgIm0iLCAiYyIsICJwIiwgImQiLCAieCIsICJ2IiwgIk0iLCAicmVxdWlyZV9qcyIsICJmZWF0dXJlIiwgImdlb20iLCAicHJvcGVydGllcyIsICJvcHRpb25zIiwgImZlYXQiLCAiZ2VvbWV0cnkiLCAiY29vcmRpbmF0ZXMiLCAiX29wdGlvbnMiLCAicG9pbnQiLCAibGluZVN0cmluZyIsICJwb2x5Z29uIiwgIm11bHRpUG9pbnQiLCAibXVsdGlMaW5lU3RyaW5nIiwgIm11bHRpUG9seWdvbiIsICJpc051bWJlciIsICJwb2ludHMiLCAiZmVhdHVyZUNvbGxlY3Rpb24iLCAiY29vcmRzIiwgIl9pIiwgImNvb3JkaW5hdGVzXzEiLCAicmluZyIsICJqIiwgInBvbHlnb25zIiwgImxpbmVTdHJpbmdzIiwgImZlYXR1cmVzIiwgImZjIiwgImdlb21ldHJ5Q29sbGVjdGlvbiIsICJnZW9tZXRyaWVzIiwgInJvdW5kIiwgIm51bSIsICJwcmVjaXNpb24iLCAibXVsdGlwbGllciIsICJyYWRpYW5zVG9MZW5ndGgiLCAicmFkaWFucyIsICJ1bml0cyIsICJmYWN0b3IiLCAibGVuZ3RoVG9SYWRpYW5zIiwgImRpc3RhbmNlIiwgImxlbmd0aFRvRGVncmVlcyIsICJyYWRpYW5zVG9EZWdyZWVzIiwgImJlYXJpbmdUb0F6aW11dGgiLCAiYmVhcmluZyIsICJhbmdsZSIsICJkZWdyZWVzIiwgImRlZ3JlZXNUb1JhZGlhbnMiLCAiY29udmVydExlbmd0aCIsICJvcmlnaW5hbFVuaXQiLCAiZmluYWxVbml0IiwgImNvbnZlcnRBcmVhIiwgImFyZWEiLCAic3RhcnRGYWN0b3IiLCAiZmluYWxGYWN0b3IiLCAiaW5wdXQiLCAidmFsaWRhdGVCQm94IiwgImJib3giLCAidmFsaWRhdGVJZCIsICJpZCIsICJoZWxwZXJzIiwgImNvb3JkRWFjaCIsICJnZW9qc29uIiwgImNhbGxiYWNrIiwgImV4Y2x1ZGVXcmFwQ29vcmQiLCAiayIsICJzdG9wRyIsICJnZW9tZXRyeU1heWJlQ29sbGVjdGlvbiIsICJ3cmFwU2hyaW5rIiwgImNvb3JkSW5kZXgiLCAiaXNHZW9tZXRyeUNvbGxlY3Rpb24iLCAiaXNGZWF0dXJlQ29sbGVjdGlvbiIsICJpc0ZlYXR1cmUiLCAic3RvcCIsICJmZWF0dXJlSW5kZXgiLCAiZ2VvbUluZGV4IiwgIm11bHRpRmVhdHVyZUluZGV4IiwgImdlb21ldHJ5SW5kZXgiLCAiZ2VvbVR5cGUiLCAiY29vcmRSZWR1Y2UiLCAiaW5pdGlhbFZhbHVlIiwgInByZXZpb3VzVmFsdWUiLCAiY3VycmVudENvb3JkIiwgInByb3BFYWNoIiwgInByb3BSZWR1Y2UiLCAiY3VycmVudFByb3BlcnRpZXMiLCAiZmVhdHVyZUVhY2giLCAiZmVhdHVyZVJlZHVjZSIsICJjdXJyZW50RmVhdHVyZSIsICJjb29yZEFsbCIsICJjb29yZCIsICJnZW9tRWFjaCIsICJnIiwgImZlYXR1cmVQcm9wZXJ0aWVzIiwgImZlYXR1cmVCQm94IiwgImZlYXR1cmVJZCIsICJnZW9tUmVkdWNlIiwgImN1cnJlbnRHZW9tZXRyeSIsICJmbGF0dGVuRWFjaCIsICJjb29yZGluYXRlIiwgImZsYXR0ZW5SZWR1Y2UiLCAic2VnbWVudEVhY2giLCAic2VnbWVudEluZGV4IiwgInByZXZpb3VzQ29vcmRzIiwgInByZXZpb3VzRmVhdHVyZUluZGV4IiwgInByZXZpb3VzTXVsdGlJbmRleCIsICJwcmV2R2VvbUluZGV4IiwgImZlYXR1cmVJbmRleENvb3JkIiwgIm11bHRpUGFydEluZGV4Q29vcmQiLCAiY3VycmVudFNlZ21lbnQiLCAic2VnbWVudFJlZHVjZSIsICJzdGFydGVkIiwgImxpbmVFYWNoIiwgImxpbmVSZWR1Y2UiLCAiY3VycmVudExpbmUiLCAiZmluZFNlZ21lbnQiLCAiZmluZFBvaW50IiwgIm1ldGFfMSIsICJyZXF1aXJlX2dlb2pzb25fcmJ1c2giLCAicmJ1c2giLCAibWV0YSIsICJ0dXJmQkJveCIsICJnZW9qc29uUmJ1c2giLCAibWF4RW50cmllcyIsICJ0cmVlIiwgImxvYWQiLCAiZXF1YWxzIiwgImpzb24iLCAibGlzdCIsICJlbGVtZW50IiwgInRhcmdldCIsICJhcnIiLCAiaXRlbSIsICJzZWFyY2hFbGVtZW50IiwgImZyb21JbmRleCIsICJsZW4iLCAic2FtZVZhbHVlWmVybyIsICJ5IiwgInBhY2thZ2VfZGVmYXVsdCIsICJpbXBvcnRfbWVyZ2UiLCAiZW5fZGVmYXVsdCIsICJkZV9kZWZhdWx0IiwgIml0X2RlZmF1bHQiLCAiaWRfZGVmYXVsdCIsICJyb19kZWZhdWx0IiwgInJ1X2RlZmF1bHQiLCAiZXNfZGVmYXVsdCIsICJubF9kZWZhdWx0IiwgImZyX2RlZmF1bHQiLCAiemhfZGVmYXVsdCIsICJ6aF90d19kZWZhdWx0IiwgInB0X2JyX2RlZmF1bHQiLCAicHRfcHRfZGVmYXVsdCIsICJwbF9kZWZhdWx0IiwgInN2X2RlZmF1bHQiLCAiZWxfZGVmYXVsdCIsICJodV9kZWZhdWx0IiwgImRhX2RlZmF1bHQiLCAibm9fZGVmYXVsdCIsICJmYV9kZWZhdWx0IiwgInVhX2RlZmF1bHQiLCAidHJfZGVmYXVsdCIsICJjel9kZWZhdWx0IiwgImphX2RlZmF1bHQiLCAiZmlfZGVmYXVsdCIsICJrb19kZWZhdWx0IiwgImt5X2RlZmF1bHQiLCAidHJhbnNsYXRpb25zX2RlZmF1bHQiLCAiR2xvYmFsRWRpdE1vZGUiLCAibGF5ZXIiLCAibGF5ZXJzIiwgIk1vZGVfRWRpdF9kZWZhdWx0IiwgIkdsb2JhbERyYWdNb2RlIiwgIk1vZGVfRHJhZ19kZWZhdWx0IiwgIkdsb2JhbFJlbW92YWxNb2RlIiwgIk1vZGVfUmVtb3ZhbF9kZWZhdWx0IiwgIkdsb2JhbFJvdGF0ZU1vZGUiLCAiTW9kZV9Sb3RhdGVfZGVmYXVsdCIsICJFdmVudE1peGluIiwgImN1c3RvbVBheWxvYWQiLCAid29ya2luZ0xheWVyIiwgImZpcmVMYXllciIsICJvcmlnaW5hbExheWVyIiwgImluZGV4UGF0aCIsICJpbnRlcnNlY3Rpb25SZXNldCIsICJyZWZMYXllciIsICJtYXJrZXIiLCAibGF0bG5nIiwgImludGVyc2VjdGlvbiIsICJsYXRsbmdzIiwgInRleHQiLCAiZXZlbnRJbmZvIiwgImhlbHBMYXllciIsICJvcmlnaW5MYXRMbmdzIiwgImFuZ2xlRGlmZiIsICJvbGRMYXRMbmdzIiwgInJvdGF0aW9uTGF5ZXIiLCAic3RhcnRBbmdsZSIsICJhY3Rpb24iLCAiYnRuTmFtZSIsICJidXR0b24iLCAib2xkTGFuZyIsICJhY3RpdmVMYW5nIiwgImZhbGxiYWNrIiwgInRyYW5zbGF0aW9ucyIsICJlbmFibGVkIiwgImV2ZW50IiwgImV2ZW50VHlwZSIsICJmb2N1c09uIiwgInBheWxvYWQiLCAiRXZlbnRzX2RlZmF1bHQiLCAiY3JlYXRlS2V5Ym9hcmRNaXhpbnMiLCAiS2V5Ym9hcmRfZGVmYXVsdCIsICJpbXBvcnRfZ2V0IiwgImdldFRyYW5zbGF0aW9uIiwgImxhbmciLCAiaGFzVmFsdWVzIiwgInJlbW92ZUVtcHR5Q29vcmRSaW5ncyIsICJuZXdJdGVtIiwgImRlc3RpbmF0aW9uVmluY2VudHkiLCAibG9ubGF0IiwgImJybmciLCAiZGlzdCIsICJWaW5jZW50eUNvbnN0YW50cyIsICJiIiwgImxvbjEiLCAibGF0MSIsICJwaSIsICJhbHBoYTEiLCAic2luQWxwaGExIiwgImNvc0FscGhhMSIsICJ0YW5VMSIsICJjb3NVMSIsICJzaW5VMSIsICJzaWdtYTEiLCAic2luQWxwaGEiLCAiY29zU3FBbHBoYSIsICJ1U3EiLCAiQSIsICJCIiwgInNpZ21hIiwgInNpZ21hUCIsICJjb3MyU2lnbWFNIiwgInNpblNpZ21hIiwgImNvc1NpZ21hIiwgImRlbHRhU2lnbWEiLCAidG1wIiwgImxhdDIiLCAibGFtYmRhIiwgIkMiLCAibGFtIiwgImxhbUZ1bmMiLCAibGF0MmEiLCAiY3JlYXRlR2VvZGVzaWNQb2x5Z29uIiwgIm9yaWdpbiIsICJyYWRpdXMiLCAic2lkZXMiLCAicm90YXRpb24iLCAid2l0aEJlYXJpbmciLCAidHJ1ZUFuZ2xlIiwgIm5ld0xvbmxhdCIsICJnZW9tUG9pbnQiLCAicExhdCIsICJwTG5nIiwgImRlc3RpbmF0aW9uIiwgImhlYWRpbmciLCAicmFkIiwgInJhZEludiIsICJSIiwgInJoZWFkaW5nIiwgInNpbkxhdDEiLCAiY29zTGF0MSIsICJjb3NEaXN0UiIsICJzaW5EaXN0UiIsICJsb24yIiwgIm9wdEEiLCAib3B0QiIsICJjYWxjQW5nbGUiLCAibGF0bG5nQSIsICJsYXRsbmdCIiwgInBvaW50QSIsICJwb2ludEIiLCAiYW5nbGVEZWciLCAiZGVzdGluYXRpb25PbkxpbmUiLCAicHJpb3JpdGlzZVNvcnQiLCAiX3NvcnRpbmdPcmRlciIsICJvcmRlciIsICJrZXlzIiwgIm9iaktleSIsICJzb3J0aW5nT3JkZXIiLCAiZ2V0U2hhcGUiLCAia2V5QSIsICJrZXlCIiwgImZpcnN0IiwgInNlY29uZCIsICJjb3B5TGF0TG5ncyIsICJmaXhMYXRPZmZzZXQiLCAibWF4IiwgImdldFJlbmRlcmVyIiwgInNoYXBlIiwgIm9wdGlvbnNNb2RpZmllciIsICJpZ25vcmUiLCAibWVyZ2VPcHRpb25zIiwgInJlZW5hYmxlQ2lyY2xlTWFya2VyIiwgInJlZW5hYmxlQ2lyY2xlIiwgImFzR3JvdXAiLCAiZ3JvdXAiLCAiZWxtIiwgIm1vdXNlRXZlbnQiLCAidG91Y2hFdnQiLCAiTF9QTV9NYXBfZGVmYXVsdCIsICJQTUJ1dHRvbiIsICJvbGREb21Ob2RlIiwgInBvcyIsICJidXR0b25Db250YWluZXIiLCAibmV3QnV0dG9uIiwgImFjdGlvbkNvbnRhaW5lciIsICJhY3RpdmVBY3Rpb25zIiwgImFjdGlvbnMiLCAiX2FjdGlvbiIsICJuYW1lIiwgImFjdGlvbk5vZGUiLCAiYWN0aW9uQ2xpY2siLCAiYnV0dG9ucyIsICJidG4iLCAiaW1hZ2UiLCAiY2xhc3NOYW1lIiwgIkxfQ29udHJvbHNfZGVmYXVsdCIsICJUb29sYmFyIiwgImFkZENvbnRyb2xzIiwgImNvbnRhaW5lciIsICJpY29uQ2xhc3NlcyIsICJleGNlcHRUaGlzQnV0dG9uIiwgInN0YXR1cyIsICJkaXNhYmxlT3RoZXJzIiwgImRyYXdNYXJrZXJCdXR0b24iLCAiY3R4IiwgImRyYXdQb2x5QnV0dG9uIiwgImRyYXdMaW5lQnV0dG9uIiwgImRyYXdDaXJjbGVCdXR0b24iLCAiZHJhd0NpcmNsZU1hcmtlckJ1dHRvbiIsICJkcmF3UmVjdEJ1dHRvbiIsICJlZGl0QnV0dG9uIiwgImRyYWdCdXR0b24iLCAiY3V0QnV0dG9uIiwgImRlbGV0ZUJ1dHRvbiIsICJyb3RhdGVCdXR0b24iLCAiZHJhd1RleHRCdXR0b24iLCAiaWdub3JlQnRucyIsICJibG9jayIsICJwb3NpdGlvbiIsICJjb3B5SW5zdGFuY2UiLCAiaW5zdGFuY2UiLCAiZHJhd0luc3RhbmNlIiwgImNvbnRyb2wiLCAiYnV0dG9uc0luQmxvY2siLCAiYnV0dG9uTmFtZSIsICJzaGFwZU1hcHBpbmciLCAiX29yZGVyIiwgIm5ld2J0bm9yZGVyIiwgInN0YXRlIiwgIkxfUE1fVG9vbGJhcl9kZWZhdWx0IiwgIlNuYXBNaXhpbiIsICJtYXJrZXJBcnIiLCAibGluZSIsICJjbG9zZXN0TGF5ZXIiLCAiaXNNYXJrZXIiLCAic25hcExhdExuZyIsICJtaW5EaXN0YW5jZSIsICJ0cmlnZ2VyU25hcCIsICJkZWJ1Z0luZGljYXRvckxpbmVzIiwgImRlYnVnTGluZSIsICJhbW91bnQiLCAiY2xvc2VzdExheWVycyIsICJyZXN1bHRzIiwgImlzUG9seWdvbiIsICJQIiwgImNsb3NlZFNoYXBlIiwgImNsb3Nlc3RDb29yZCIsICJzaG9ydGVzdERpc3RhbmNlIiwgImNsb3Nlc3RTZWdtZW50IiwgImxvb3BUaHJvdWdoQ29vcmRzIiwgIm5leHRJbmRleCIsICJkaXN0YW5jZVBvaW50IiwgInNoYXBlcyIsICJwcmlvT3JkZXIiLCAiZGlzdGFuY2VBQyIsICJkaXN0YW5jZUJDIiwgImNsb3Nlc3RWZXJ0ZXhMYXRMbmciLCAiZGlzdGFuY2VNQyIsICJwcmlvcml0eURpc3RhbmNlIiwgInNuYXBMYXRsbmciLCAibWF4em9vbSIsICJjbG9zZXN0IiwgIlNuYXBwaW5nX2RlZmF1bHQiLCAiRHJhdyIsICJkZWZhdWx0SWNvbiIsICJlbmFibGVkU2hhcGUiLCAianNDbGFzcyIsICJMX1BNX0RyYXdfZGVmYXVsdCIsICJmYWtlRHJhZ0V2ZW50IiwgImVhcnRoUmFkaXVzIiwgImZhY3RvcnMiLCAidW5pdHNGYWN0b3JzIiwgImtpbmtzIiwgImZlYXR1cmVJbiIsICJsaW5lMSIsICJsaW5lMiIsICJsaW5lSW50ZXJzZWN0cyIsICJsaW5lMVN0YXJ0WCIsICJsaW5lMVN0YXJ0WSIsICJsaW5lMUVuZFgiLCAibGluZTFFbmRZIiwgImxpbmUyU3RhcnRYIiwgImxpbmUyU3RhcnRZIiwgImxpbmUyRW5kWCIsICJsaW5lMkVuZFkiLCAiZGVub21pbmF0b3IiLCAibnVtZXJhdG9yMSIsICJudW1lcmF0b3IyIiwgInBvbHlQb2ludHMiLCAibGFzdFBvbHlnb25Qb2ludCIsICJhZGRWZXJ0ZXgiLCAiY2xvbmUiLCAic2VsZkludGVyc2VjdGlvbiIsICJsYXN0TGF0TG5nIiwgIm5ld01hcmtlciIsICJoaW50TWFya2VyTGF0TG5nIiwgIm1hcmtlcnMiLCAicmVtb3ZlZE1hcmtlciIsICJtYXJrZXJQcmV2aW91cyIsICJpbmRleE1hcmtlclByZXYiLCAicG9seWxpbmVMYXllciIsICJwb2x5Z29uTGF5ZXIiLCAic3R5bGVNYXJrZXIiLCAiY29ybmVycyIsICJ1bm1hcmtlZENvcm5lcnMiLCAiY29ybmVyIiwgInVubWFya2VkQ29ybmVyIiwgInJlY3RhbmdsZUxheWVyIiwgInRlbXBsaW5lU3R5bGUiLCAic2Vjb25kTGF0TG5nIiwgImNlbnRlciIsICJjaXJjbGVMYXllciIsICJnZXRDb29yZCIsICJnZXRDb29yZHMiLCAiZ2V0R2VvbSIsICJnZXRUeXBlIiwgIl9uYW1lIiwgImxpbmVTZWdtZW50IiwgImxpbmVTZWdtZW50RmVhdHVyZSIsICJzZWdtZW50cyIsICJjcmVhdGVTZWdtZW50cyIsICJzZWdtZW50IiwgImN1cnJlbnRDb29yZHMiLCAiY29vcmRzMSIsICJjb29yZHMyIiwgIngxIiwgInkxIiwgIngyIiwgInkyIiwgIndlc3QiLCAic291dGgiLCAiZWFzdCIsICJub3J0aCIsICJpbXBvcnRfZ2VvanNvbl9yYnVzaCIsICJsaW5lSW50ZXJzZWN0IiwgInVuaXF1ZSIsICJpbnRlcnNlY3QiLCAiaW50ZXJzZWN0cyIsICJ4MyIsICJ5MyIsICJ4NCIsICJ5NCIsICJkZW5vbSIsICJudW1lQSIsICJudW1lQiIsICJ1QSIsICJ1QiIsICJmcm9tIiwgInRvIiwgImNvb3JkaW5hdGVzMSIsICJjb29yZGluYXRlczIiLCAiZExhdCIsICJkTG9uIiwgInNxdWFyZSIsICJob3Jpem9udGFsRGlzdGFuY2UiLCAidmVydGljYWxEaXN0YW5jZSIsICJ2ZXJ0aWNhbE1pZHBvaW50IiwgImhvcml6b250YWxNaWRwb2ludCIsICJ0cnVuY2F0ZSIsICJtdXRhdGUiLCAidHJ1bmNhdGVDb29yZHMiLCAiZW5kIiwgImNhbGN1bGF0ZUZpbmFsQmVhcmluZyIsICJiZWFyIiwgImxvbmdpdHVkZTEiLCAibGF0aXR1ZGUxIiwgImJlYXJpbmdSYWQiLCAibGF0aXR1ZGUyIiwgImxvbmdpdHVkZTIiLCAibG5nIiwgImxhdCIsICJuZWFyZXN0UG9pbnRPbkxpbmUiLCAibGluZXMiLCAicHQiLCAiY2xvc2VzdFB0IiwgInN0b3BfMSIsICJzZWN0aW9uTGVuZ3RoIiwgImhlaWdodERpc3RhbmNlIiwgImRpcmVjdGlvbiIsICJwZXJwZW5kaWN1bGFyUHQxIiwgInBlcnBlbmRpY3VsYXJQdDIiLCAiaW50ZXJzZWN0UHQiLCAibGluZVNwbGl0IiwgInNwbGl0dGVyIiwgImxpbmVUeXBlIiwgInNwbGl0dGVyVHlwZSIsICJ0cnVuY2F0ZWRTcGxpdHRlciIsICJzcGxpdExpbmVXaXRoUG9pbnQiLCAic3BsaXRMaW5lV2l0aFBvaW50cyIsICJzZWFyY2giLCAiY2xvc2VzdExpbmUiLCAiZmluZENsb3Nlc3RGZWF0dXJlIiwgInN0YXJ0UG9pbnQiLCAiZW5kUG9pbnQiLCAicG9pbnRzRXF1YWxzIiwgImxhc3RDb29yZHMiLCAicHJldmlvdXMiLCAiY3VycmVudCIsICJzcGxpdHRlckNvb3JkcyIsICJjbG9zZXN0RmVhdHVyZSIsICJjbG9zZXN0RGlzdGFuY2UiLCAicHQxIiwgInB0MiIsICJib29sZWFuUG9pbnRJblBvbHlnb24iLCAicG9seXMiLCAiaW5CQm94IiwgImluc2lkZVBvbHkiLCAiaW5SaW5nIiwgImluSG9sZSIsICJpZ25vcmVCb3VuZGFyeSIsICJpc0luc2lkZSIsICJ4aSIsICJ5aSIsICJ4aiIsICJ5aiIsICJvbkJvdW5kYXJ5IiwgImJvb2xlYW5Qb2ludE9uTGluZSIsICJwdENvb3JkcyIsICJsaW5lQ29vcmRzIiwgImlzUG9pbnRPbkxpbmVTZWdtZW50IiwgImxpbmVTZWdtZW50U3RhcnQiLCAibGluZVNlZ21lbnRFbmQiLCAiZXhjbHVkZUJvdW5kYXJ5IiwgImVwc2lsb24iLCAiZHhjIiwgImR5YyIsICJkeGwiLCAiZHlsIiwgImNyb3NzIiwgImJvb2xlYW5Db250YWlucyIsICJmZWF0dXJlMSIsICJmZWF0dXJlMiIsICJnZW9tMSIsICJnZW9tMiIsICJ0eXBlMSIsICJ0eXBlMiIsICJjb21wYXJlQ29vcmRzIiwgImlzUG9pbnRJbk11bHRpUG9pbnQiLCAiaXNNdWx0aVBvaW50SW5NdWx0aVBvaW50IiwgImlzTGluZU9uTGluZSIsICJpc011bHRpUG9pbnRPbkxpbmUiLCAiaXNMaW5lSW5Qb2x5IiwgImlzUG9seUluUG9seSIsICJpc011bHRpUG9pbnRJblBvbHkiLCAib3V0cHV0IiwgIm11bHRpUG9pbnQxIiwgIm11bHRpUG9pbnQyIiwgIl9hIiwgImNvb3JkMiIsICJtYXRjaEZvdW5kIiwgIl9iIiwgIl9jIiwgImNvb3JkMSIsICJoYXZlRm91bmRJbnRlcmlvclBvaW50IiwgImxpbmVTdHJpbmcxIiwgImxpbmVTdHJpbmcyIiwgImxpbmVzdHJpbmciLCAicG9seUJib3giLCAibGluZUJib3giLCAiZG9CQm94T3ZlcmxhcCIsICJtaWRQb2ludCIsICJnZXRNaWRwb2ludCIsICJwb2x5MUJib3giLCAicG9seTJCYm94IiwgImNvb3Jkc18xIiwgInJpbmdfMSIsICJiYm94MSIsICJiYm94MiIsICJwYWlyMSIsICJwYWlyMiIsICJjb25zdGFudF9kZWZhdWx0IiwgImNvbXBhcmVfZGVmYXVsdCIsICJlcHMiLCAiYWxtb3N0RXF1YWwiLCAib3JpZW50X2RlZmF1bHQiLCAiYWxtb3N0Q29sbGluZWFyIiwgImFyZWEyIiwgImF4IiwgImF5IiwgImN4IiwgImN5IiwgImlzTnVtZXJpYyIsICJtYXRoY2VpbCIsICJtYXRoZmxvb3IiLCAiYmlnbnVtYmVyRXJyb3IiLCAidG9vTWFueURpZ2l0cyIsICJCQVNFIiwgIkxPR19CQVNFIiwgIlBPV1NfVEVOIiwgIlNRUlRfQkFTRSIsICJNQVgiLCAiY29uZmlnT2JqZWN0IiwgImRpdiIsICJjb252ZXJ0QmFzZSIsICJwYXJzZU51bWVyaWMiLCAiQmlnTnVtYmVyIiwgIk9ORSIsICJERUNJTUFMX1BMQUNFUyIsICJST1VORElOR19NT0RFIiwgIlRPX0VYUF9ORUciLCAiVE9fRVhQX1BPUyIsICJNSU5fRVhQIiwgIk1BWF9FWFAiLCAiQ1JZUFRPIiwgIk1PRFVMT19NT0RFIiwgIlBPV19QUkVDSVNJT04iLCAiRk9STUFUIiwgIkFMUEhBQkVUIiwgImFscGhhYmV0SGFzTm9ybWFsRGVjaW1hbERpZ2l0cyIsICJhbHBoYWJldCIsICJjYXNlQ2hhbmdlZCIsICJpc051bSIsICJzdHIiLCAiaW50Q2hlY2siLCAib2JqIiwgIm91dCIsICJtYXhPck1pbiIsICJwb3cyXzUzIiwgInJhbmRvbTUzYml0SW50IiwgImRwIiwgInJhbmQiLCAic3VtIiwgImRlY2ltYWwiLCAidG9CYXNlT3V0IiwgImJhc2VJbiIsICJiYXNlT3V0IiwgImFyckwiLCAic2lnbiIsICJjYWxsZXJJc1RvU3RyaW5nIiwgInhjIiwgInJtIiwgInRvRml4ZWRQb2ludCIsICJjb2VmZlRvU3RyaW5nIiwgIm11bHRpcGx5IiwgImJhc2UiLCAidGVtcCIsICJ4bG8iLCAieGhpIiwgImNhcnJ5IiwgImtsbyIsICJraGkiLCAiY29tcGFyZSIsICJhTCIsICJiTCIsICJjbXAiLCAic3VidHJhY3QiLCAibW9yZSIsICJwcm9kIiwgInByb2RMIiwgInEiLCAicWMiLCAicmVtIiwgInJlbUwiLCAicmVtMCIsICJ4TCIsICJ5YzAiLCAieUwiLCAieXoiLCAieWMiLCAiYml0Rmxvb3IiLCAiZm9ybWF0IiwgImMwIiwgIm5lIiwgInRvRXhwb25lbnRpYWwiLCAibm9ybWFsaXNlIiwgImJhc2VQcmVmaXgiLCAiZG90QWZ0ZXIiLCAiZG90QmVmb3JlIiwgImlzSW5maW5pdHlPck5hTiIsICJ3aGl0ZXNwYWNlT3JQbHVzIiwgInAxIiwgInAyIiwgInNkIiwgIm5pIiwgInJkIiwgInBvd3MxMCIsICJ2YWx1ZU9mIiwgImhhbGYiLCAiaXNNb2RFeHAiLCAibklzQmlnIiwgIm5Jc05lZyIsICJuSXNPZGQiLCAiaXNPZGQiLCAieExUeSIsICJ4ZSIsICJ5ZSIsICJ4Y0wiLCAieWNMIiwgInlsbyIsICJ5aGkiLCAiemMiLCAic3FydEJhc2UiLCAicmVwIiwgImcxIiwgImcyIiwgImdyb3VwU2VwYXJhdG9yIiwgImludFBhcnQiLCAiZnJhY3Rpb25QYXJ0IiwgImlzTmVnIiwgImludERpZ2l0cyIsICJtZCIsICJkMCIsICJkMSIsICJkMiIsICJleHAiLCAibjAiLCAibjEiLCAieiIsICJtaW4iLCAienMiLCAiYmlnbnVtYmVyX2RlZmF1bHQiLCAiU3BsYXlUcmVlTm9kZSIsICJTcGxheVRyZWVTZXROb2RlIiwgIlNwbGF5VHJlZSIsICJyaWdodCIsICJuZXdUcmVlUmlnaHQiLCAibGVmdCIsICJuZXdUcmVlTGVmdCIsICJjb21wIiwgImN1cnJlbnRMZWZ0IiwgImN1cnJlbnRSaWdodCIsICJub2RlIiwgIm5leHRMZWZ0IiwgIm5leHRSaWdodCIsICJTcGxheVRyZWVTZXQiLCAiaXNWYWxpZEtleSIsICJlbGVtZW50cyIsICJub2RlcyIsICJub2RlUmlnaHQiLCAibm9kZUxlZnQiLCAicmV0YWluU2V0IiwgIl9TcGxheVRyZWVTZXQiLCAibW9kaWZpY2F0aW9uQ291bnQiLCAic2V0IiwgImNvcHlDaGlsZHJlbiIsICJkZXN0IiwgIm5ld0xlZnQiLCAibmV3UmlnaHQiLCAiU3BsYXlUcmVlU2V0RW50cnlJdGVyYWJsZUl0ZXJhdG9yIiwgIlNwbGF5VHJlZUtleUl0ZXJhYmxlSXRlcmF0b3IiLCAiU3BsYXlUcmVlSXRlcmFibGVJdGVyYXRvciIsICJuZXh0IiwgImlkZW50aXR5X2RlZmF1bHQiLCAic25hcF9kZWZhdWx0IiwgInhUcmVlIiwgInlUcmVlIiwgInNuYXBDb29yZCIsICJzbmFwIiwgImlzSW5CYm94IiwgImdldEJib3hPdmVybGFwIiwgImIxIiwgImIyIiwgImxvd2VyWCIsICJ1cHBlclgiLCAibG93ZXJZIiwgInVwcGVyWSIsICJjcm9zc1Byb2R1Y3QiLCAiZG90UHJvZHVjdCIsICJzaW5lT2ZBbmdsZSIsICJwU2hhcmVkIiwgInBCYXNlIiwgInBBbmdsZSIsICJ2QmFzZSIsICJ2QW5nbGUiLCAiY29zaW5lT2ZBbmdsZSIsICJob3Jpem9udGFsSW50ZXJzZWN0aW9uIiwgInZlcnRpY2FsSW50ZXJzZWN0aW9uIiwgInYxIiwgInYyIiwgImtyb3NzIiwgInZlIiwgIlN3ZWVwRXZlbnQiLCAiX1N3ZWVwRXZlbnQiLCAiaXNMZWZ0IiwgInB0Q21wIiwgIlNlZ21lbnQiLCAiYVB0IiwgImJQdCIsICJvdGhlckV2ZW50cyIsICJpTWF4IiwgImV2dCIsICJudW1FdmVudHMiLCAiZXZ0MSIsICJldnQyIiwgImV2ZW50cyIsICJiYXNlRXZlbnQiLCAiZmlsbENhY2hlIiwgImxpbmtlZEV2ZW50IiwgIm5leHRFdmVudCIsICJhc2luZSIsICJhY29zaW5lIiwgImJzaW5lIiwgImJjb3NpbmUiLCAic2VnbWVudElkIiwgIl9TZWdtZW50IiwgImxlZnRTRSIsICJyaWdodFNFIiwgInJpbmdzIiwgIndpbmRpbmdzIiwgImFseCIsICJibHgiLCAiYXJ4IiwgImJyeCIsICJhbHkiLCAiYmx5IiwgImFyeSIsICJicnkiLCAiYUNtcEJMZWZ0IiwgImJDbXBBUmlnaHQiLCAiYkNtcEFMZWZ0IiwgImFDbXBCUmlnaHQiLCAiYnkiLCAiYngiLCAibGVmdFB0IiwgInJpZ2h0UHQiLCAid2luZGluZyIsICJjbXBQdHMiLCAibmV3UmlnaHRTRSIsICJ0QmJveCIsICJvQmJveCIsICJiYm94T3ZlcmxhcCIsICJ0bHAiLCAidHJwIiwgIm9scCIsICJvcnAiLCAidG91Y2hlc090aGVyTFNFIiwgInRvdWNoZXNUaGlzTFNFIiwgInRvdWNoZXNPdGhlclJTRSIsICJ0b3VjaGVzVGhpc1JTRSIsICJuZXdFdmVudHMiLCAiYWxyZWFkeUxpbmtlZCIsICJuZXdMZWZ0U0UiLCAib2xkUmlnaHRTRSIsICJuZXdTZWciLCAidG1wRXZ0IiwgImNvbnN1bWVyIiwgImNvbnN1bWVlIiwgInNlZyIsICJiZWZvcmVTdGF0ZSIsICJyaW5nc0FmdGVyIiwgIndpbmRpbmdzQWZ0ZXIiLCAibXBzQWZ0ZXIiLCAicG9seXNBZnRlciIsICJwb2x5c0V4Y2x1ZGUiLCAicG9seSIsICJtcCIsICJtcHNCZWZvcmUiLCAib3BlcmF0aW9uX2RlZmF1bHQiLCAibm9CZWZvcmVzIiwgIm5vQWZ0ZXJzIiwgImxlYXN0IiwgIm1vc3QiLCAiZGlmZiIsICJpc0p1c3RTdWJqZWN0IiwgIm1wcyIsICJSaW5nSW4iLCAiZ2VvbVJpbmciLCAiaXNFeHRlcmlvciIsICJmaXJzdFBvaW50IiwgInByZXZQb2ludCIsICJzd2VlcEV2ZW50cyIsICJQb2x5SW4iLCAiZ2VvbVBvbHkiLCAibXVsdGlQb2x5IiwgInJpbmdTd2VlcEV2ZW50cyIsICJqTWF4IiwgIk11bHRpUG9seUluIiwgImlzU3ViamVjdCIsICJwb2x5U3dlZXBFdmVudHMiLCAiUmluZ091dCIsICJfUmluZ091dCIsICJhbGxTZWdtZW50cyIsICJyaW5nc091dCIsICJwcmV2RXZlbnQiLCAic3RhcnRpbmdQb2ludCIsICJpbnRlcnNlY3Rpb25MRXMiLCAiYXZhaWxhYmxlTEVzIiwgImZpcnN0UHQiLCAibGFzdFB0IiwgImluZGV4TEUiLCAiaW50ZXJzZWN0aW9uTEUiLCAicmluZ0V2ZW50cyIsICJjb21wYXJhdG9yIiwgInByZXZQdCIsICJuZXh0UHQiLCAic3RlcCIsICJpU3RhcnQiLCAiaUVuZCIsICJvcmRlcmVkUG9pbnRzIiwgImVuY2xvc2luZyIsICJsZWZ0TW9zdEV2dCIsICJwcmV2U2VnIiwgInByZXZQcmV2U2VnIiwgIlBvbHlPdXQiLCAiZXh0ZXJpb3JSaW5nIiwgImdlb20wIiwgInJpbmdHZW9tIiwgIk11bHRpUG9seU91dCIsICJwb2x5R2VvbSIsICJlbmNsb3NpbmdSaW5nIiwgIlN3ZWVwTGluZSIsICJxdWV1ZSIsICJuZXh0U2VnIiwgInByZXZNeVNwbGl0dGVyIiwgInByZXZJbnRlciIsICJuZXdFdmVudHNGcm9tU3BsaXQiLCAibmV4dE15U3BsaXR0ZXIiLCAibmV4dEludGVyIiwgIm15U3BsaXR0ZXIiLCAiaW50ZXIiLCAiT3BlcmF0aW9uIiwgIm1vcmVHZW9tcyIsICJvcGVyYXRpb24iLCAibXVsdGlwb2x5cyIsICJzdWJqZWN0IiwgIm1wQSIsICJzd2VlcExpbmUiLCAiZGlmZmVyZW5jZSIsICJzZXRQcmVjaXNpb24iLCAiZ2V0R2VvbWV0cnkiLCAidHVyZkxpbmVTdHJpbmciLCAidHVyZk11bHRpTGluZVN0cmluZyIsICJ0dXJmUG9seWdvbiIsICJ0dXJmTXVsdGlQb2x5Z29uIiwgInBvbHkxIiwgInBvbHkyIiwgInBvbHlnb24xIiwgInBvbHlnb24yIiwgImRpZmZlcmVuY2VkIiwgImdldERlcHRoT2ZDb29yZHMiLCAiZmxhdHRlblBvbHlsaW5lIiwgInBvbHlsaW5lIiwgImRlcHRoIiwgImdyb3VwVG9NdWx0aUxpbmVTdHJpbmciLCAiYWxsIiwgIl9sYXRsbmdJbmZvcyIsICJsaW5lSW50ZXIiLCAibmV3TGF5ZXIiLCAiaW5mbyIsICJwYXJlbnRQYXRoIiwgIm5ld0luZGV4IiwgInJlc3VsdExheWVyIiwgInJlc3VsdGluZ0xheWVyIiwgIl9sYXllciIsICJpZHgiLCAiZmciLCAibGluZURpZmYiLCAibGF5IiwgImNzc0NsYXNzZXMiLCAidGV4dEFyZWFJY29uIiwgImZvY3VzQWZ0ZXJEcmF3IiwgInRleHRBcmVhIiwgIkRyYWdNaXhpbiIsICJmcm9tTGF5ZXJTeW5jIiwgImxheWVyc1RvU3luY0ZvdW5kIiwgIl9lZGl0YWJsZU9wdGlvbiIsICJlbCIsICJkZWx0YUxhdExuZyIsICJtb3ZlQ29vcmRzIiwgImN1cnJlbnRMYXRMbmciLCAibmV3TGF0bG5nIiwgIm5ld0Nvb3JkcyIsICJjb29yZHNSZWZlcm5jZSIsICJmbmMiLCAibGF5ZXJzVG9TeW5jIiwgImxnIiwgIkRyYWdnaW5nX2RlZmF1bHQiLCAiX2NvbnZlcnRMYXRMbmciLCAibWF0cml4IiwgInpvb20iLCAiX2NvbnZlcnRMYXRMbmdzIiwgIl90b1BvaW50IiwgIl90b0xhdExuZyIsICJSb3RhdGVNaXhpbiIsICJhbmdsZURpZmZSYWRpYW50IiwgInRoYXQiLCAiZm9yRWFjaExhdExuZyIsICJfbGF0bG5nIiwgInJhZGlhbnQiLCAiX21hdHJpeCIsICJvcmlnaW5Qb2ludCIsICJvbGRBbmdsZSIsICJyYWRzIiwgIm5ld0FubGdlIiwgIlJvdGF0aW5nX2RlZmF1bHQiLCAiRWRpdCIsICJ2YWxpZGF0aW9uRm5jIiwgIkxfUE1fRWRpdF9kZWZhdWx0IiwgImxheWVyR3JvdXAiLCAiYWRkVGhyb3R0bGUiLCAiX2luaXRMYXllcnMiLCAicmVtb3ZlVGhyb3R0bGUiLCAiX2xheWVySWRzIiwgImRlZXAiLCAiZmlsdGVyR2VvbWFuIiwgImZpbHRlckdyb3Vwc091dCIsICJNYXJrZXJMaW1pdHMiLCAiYWxsTWFya2VycyIsICJtYXJrZXJDYWNoZUluZGV4IiwgIm1hcmtlcnNUb0FkZCIsICJsaW1pdCIsICJkaXN0YW5jZUEiLCAiZGlzdGFuY2VCIiwgIk1hcmtlckxpbWl0c19kZWZhdWx0IiwgImhhbmRsZVJpbmciLCAiY29vcmRzQXJyIiwgInJpbmdBcnIiLCAibGVmdE0iLCAicmlnaHRNIiwgIm1pZGRsZU1hcmtlciIsICJtaWRkbGVJY29uIiwgImljb24iLCAibmV3TSIsICJjb29yZHNSaW5nIiwgImZsYXNoIiwgImRpc2FibGVkIiwgImxheWVyUmVtb3ZlZCIsICJyaWdodE1hcmtlckluZGV4IiwgImxlZnRNYXJrZXJJbmRleCIsICJuZXh0TWFya2VySW5kZXgiLCAicHJldk1hcmtlckluZGV4IiwgInByZXZNYXJrZXIiLCAibmV4dE1hcmtlciIsICJwcmV2TGluZSIsICJuZXh0TGluZSIsICJwcmV2TGluZUludGVyc2VjdGlvbkxlbiIsICJuZXh0TGluZUludGVyc2VjdGlvbkxlbiIsICJtYXJrZXJMYXRMbmciLCAicHJldk1hcmtlckxhdExuZyIsICJuZXh0TWFya2VyTGF0TG5nIiwgIm1pZGRsZU1hcmtlck5leHRMYXRMbmciLCAibWlkZGxlTWFya2VyUHJldkxhdExuZyIsICJ2ZXJ0ZXgiLCAiZHJhZ2dlZE1hcmtlciIsICJtb3ZlZE1hcmtlciIsICJtYXJrZXJMYXRMbmdzIiwgIm91dGVyIiwgIm1hcmtlckEiLCAibWFya2VyQiIsICJjcnNTaW1wbGUiLCAibm9ydGh3ZXN0IiwgIm5vcnRoZWFzdCIsICJzb3V0aGVhc3QiLCAic291dGh3ZXN0IiwgImZvY3VzZWRFbGVtZW50IiwgImhlaWdodCIsICJ3aWR0aCIsICJmb2N1c0FscmVhZHlTZXQiLCAiZW5hYmxlIiwgIk1hdHJpeCIsICJ0cmFuc2xhdGUiLCAidHJhbnNsYXRlWCIsICJ0cmFuc2xhdGVZIiwgInNjYWxlIiwgInNjYWxlWCIsICJzY2FsZVkiLCAiY29zIiwgInNpbiIsICJzcmMiLCAidmFsIiwgIk1hdHJpeF9kZWZhdWx0IiwgIlV0aWxzIiwgImxhdGxuZzEiLCAibGF0bG5nMiIsICJjaXJjbGUiLCAicHJvcGFnYXRlIiwgImdyb3VwcyIsICJncm91cElkcyIsICJsb29wVGhyb3VnaFBhcmVudHMiLCAiX2lkIiwgImV4YWN0IiwgInJ1biIsICJpUmVzIiwgInJldHVyblZhbCIsICJpbmRleEEiLCAiaW5kZXhCIiwgInRoZXRhIiwgIngwIiwgInkwIiwgInAwIiwgInAzIiwgInJhZGl1c0luUHgiLCAiTF9QTV9VdGlsc19kZWZhdWx0IiwgImluaXRNYXAiLCAiaW5pdExheWVyR3JvdXAiLCAiaW5pdE1hcmtlciIsICJpbml0Q2lyY2xlTWFya2VyIiwgImluaXRQb2x5bGluZSIsICJpbml0UG9seWdvbiIsICJpbml0UmVjdGFuZ2xlIiwgImluaXRDaXJjbGUiLCAiaW5pdEltYWdlT3ZlcmxheSIsICJjbGlja2VkTGF5ZXIiLCAiY2lyY2xlIl0KfQo=
